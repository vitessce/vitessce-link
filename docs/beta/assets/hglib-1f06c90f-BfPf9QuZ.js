import{aW as To,aU as mf,aX as gf,f as Ol,aY as Ml,aZ as vf}from"./index-HQAUyk1K.js";var yf={exports:{}},fc={};(function(b){(function(g){var i=g.Promise,d=i&&"resolve"in i&&"reject"in i&&"all"in i&&"race"in i&&function(){var _;return new i(function(A){_=A}),typeof _=="function"}();b?(b.Promise=d?i:E,b.Polyfill=E):d||(g.Promise=E);var w="pending",f="sealed",r="fulfilled",t="rejected",n=function(){};function a(_){return Object.prototype.toString.call(_)==="[object Array]"}var l=typeof setImmediate<"u"?setImmediate:setTimeout,e=[],o;function s(){for(var _=0;_<e.length;_++)e[_][0](e[_][1]);e=[],o=!1}function u(_,A){e.push([_,A]),o||(o=!0,l(s,0))}function c(_,A){function C(P){h(A,P)}function S(P){x(A,P)}try{_(C,S)}catch(P){S(P)}}function m(_){var A=_.owner,C=A.state_,S=A.data_,P=_[C],O=_.then;if(typeof P=="function"){C=r;try{S=P(S)}catch(R){x(O,R)}}p(O,S)||(C===r&&h(O,S),C===t&&x(O,S))}function p(_,A){var C;try{if(_===A)throw new TypeError("A promises callback cannot return that same promise.");if(A&&(typeof A=="function"||typeof A=="object")){var S=A.then;if(typeof S=="function")return S.call(A,function(P){C||(C=!0,A!==P?h(_,P):v(_,P))},function(P){C||(C=!0,x(_,P))}),!0}}catch(P){return C||x(_,P),!0}return!1}function h(_,A){(_===A||!p(_,A))&&v(_,A)}function v(_,A){_.state_===w&&(_.state_=f,_.data_=A,u(k,_))}function x(_,A){_.state_===w&&(_.state_=f,_.data_=A,u(T,_))}function y(_){var A=_.then_;_.then_=void 0;for(var C=0;C<A.length;C++)m(A[C])}function k(_){_.state_=r,y(_)}function T(_){_.state_=t,y(_)}function E(_){if(typeof _!="function")throw new TypeError("Promise constructor takes a function argument");if(!(this instanceof E))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],c(_,this)}E.prototype={constructor:E,state_:w,then_:null,data_:void 0,then:function(_,A){var C={owner:this,then:new this.constructor(n),fulfilled:_,rejected:A};return this.state_===r||this.state_===t?u(m,C):this.then_.push(C),C.then},catch:function(_){return this.then(null,_)}},E.all=function(_){var A=this;if(!a(_))throw new TypeError("You must pass an array to Promise.all().");return new A(function(C,S){var P=[],O=0;function R(H){return O++,function(L){P[H]=L,--O||C(P)}}for(var I=0,M;I<_.length;I++)M=_[I],M&&typeof M.then=="function"?M.then(R(I),S):P[I]=M;O||C(P)})},E.race=function(_){var A=this;if(!a(_))throw new TypeError("You must pass an array to Promise.race().");return new A(function(C,S){for(var P=0,O;P<_.length;P++)O=_[P],O&&typeof O.then=="function"?O.then(C,S):C(O)})},E.resolve=function(_){var A=this;return _&&typeof _=="object"&&_.constructor===A?_:new A(function(C){C(_)})},E.reject=function(_){var A=this;return new A(function(C,S){S(_)})}})(typeof window<"u"?window:typeof To<"u"?To:typeof self<"u"?self:To)})(fc);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var iu=Object.getOwnPropertySymbols,bf=Object.prototype.hasOwnProperty,_f=Object.prototype.propertyIsEnumerable;function xf(b){if(b==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(b)}function wf(){try{if(!Object.assign)return!1;var b=new String("abc");if(b[5]="de",Object.getOwnPropertyNames(b)[0]==="5")return!1;for(var g={},i=0;i<10;i++)g["_"+String.fromCharCode(i)]=i;var d=Object.getOwnPropertyNames(g).map(function(f){return g[f]});if(d.join("")!=="0123456789")return!1;var w={};return"abcdefghijklmnopqrst".split("").forEach(function(f){w[f]=f}),Object.keys(Object.assign({},w)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Sf=wf()?Object.assign:function(b,g){for(var i,d=xf(b),w,f=1;f<arguments.length;f++){i=Object(arguments[f]);for(var r in i)bf.call(i,r)&&(d[r]=i[r]);if(iu){w=iu(i);for(var t=0;t<w.length;t++)_f.call(i,w[t])&&(d[w[t]]=i[w[t]])}}return d};const Tf=Ol(Sf);/*!
 * @pixi/polyfill - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */window.Promise||(window.Promise=fc.Polyfill);Object.assign||(Object.assign=Tf);var Ef=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(window.performance&&window.performance.now)){var kf=Date.now();window.performance||(window.performance={}),window.performance.now=function(){return Date.now()-kf}}var _s=Date.now(),ou=["ms","moz","webkit","o"];for(var xs=0;xs<ou.length&&!window.requestAnimationFrame;++xs){var ws=ou[xs];window.requestAnimationFrame=window[ws+"RequestAnimationFrame"],window.cancelAnimationFrame=window[ws+"CancelAnimationFrame"]||window[ws+"CancelRequestAnimationFrame"]}window.requestAnimationFrame||(window.requestAnimationFrame=function(b){if(typeof b!="function")throw new TypeError(b+"is not a function");var g=Date.now(),i=Ef+_s-g;return i<0&&(i=0),_s=g,window.setTimeout(function(){_s=Date.now(),b(performance.now())},i)});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(b){return clearTimeout(b)});Math.sign||(Math.sign=function(b){return b=Number(b),b===0||isNaN(b)?b:b>0?1:-1});Number.isInteger||(Number.isInteger=function(b){return typeof b=="number"&&isFinite(b)&&Math.floor(b)===b});window.ArrayBuffer||(window.ArrayBuffer=Array);window.Float32Array||(window.Float32Array=Array);window.Uint32Array||(window.Uint32Array=Array);window.Uint16Array||(window.Uint16Array=Array);window.Uint8Array||(window.Uint8Array=Array);window.Int32Array||(window.Int32Array=Array);var Ss=/iPhone/i,au=/iPod/i,su=/iPad/i,lu=/\biOS-universal(?:.+)Mac\b/i,Ts=/\bAndroid(?:.+)Mobile\b/i,uu=/Android/i,_o=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Oa=/Silk/i,Ai=/Windows Phone/i,cu=/\bWindows(?:.+)ARM\b/i,hu=/BlackBerry/i,fu=/BB10/i,du=/Opera Mini/i,pu=/\b(CriOS|Chrome)(?:.+)Mobile/i,mu=/Mobile(?:.+)Firefox\b/i,gu=function(b){return typeof b<"u"&&b.platform==="MacIntel"&&typeof b.maxTouchPoints=="number"&&b.maxTouchPoints>1&&typeof MSStream>"u"};function Cf(b){return function(g){return g.test(b)}}function Af(b){var g={userAgent:"",platform:"",maxTouchPoints:0};!b&&typeof navigator<"u"?g={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof b=="string"?g.userAgent=b:b&&b.userAgent&&(g={userAgent:b.userAgent,platform:b.platform,maxTouchPoints:b.maxTouchPoints||0});var i=g.userAgent,d=i.split("[FBAN");typeof d[1]<"u"&&(i=d[0]),d=i.split("Twitter"),typeof d[1]<"u"&&(i=d[0]);var w=Cf(i),f={apple:{phone:w(Ss)&&!w(Ai),ipod:w(au),tablet:!w(Ss)&&(w(su)||gu(g))&&!w(Ai),universal:w(lu),device:(w(Ss)||w(au)||w(su)||w(lu)||gu(g))&&!w(Ai)},amazon:{phone:w(_o),tablet:!w(_o)&&w(Oa),device:w(_o)||w(Oa)},android:{phone:!w(Ai)&&w(_o)||!w(Ai)&&w(Ts),tablet:!w(Ai)&&!w(_o)&&!w(Ts)&&(w(Oa)||w(uu)),device:!w(Ai)&&(w(_o)||w(Oa)||w(Ts)||w(uu))||w(/\bokhttp\b/i)},windows:{phone:w(Ai),tablet:w(cu),device:w(Ai)||w(cu)},other:{blackberry:w(hu),blackberry10:w(fu),opera:w(du),firefox:w(mu),chrome:w(pu),device:w(hu)||w(fu)||w(du)||w(mu)||w(pu)},any:!1,phone:!1,tablet:!1};return f.any=f.apple.device||f.android.device||f.windows.device||f.other.device,f.phone=f.apple.phone||f.android.phone||f.windows.phone,f.tablet=f.apple.tablet||f.android.tablet||f.windows.tablet,f}/*!
 * @pixi/settings - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ui=Af(window.navigator);function Pf(b){var g=!0;if(ui.tablet||ui.phone){if(ui.apple.device){var i=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(i){var d=parseInt(i[1],10);d<11&&(g=!1)}}if(ui.android.device){var i=navigator.userAgent.match(/Android\s([0-9.]*)/);if(i){var d=parseInt(i[1],10);d<7&&(g=!1)}}}return g?b:4}function Of(){return!ui.apple.device}var An={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:Pf(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:ui.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:Of(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},dc={exports:{}};(function(b){var g=Object.prototype.hasOwnProperty,i="~";function d(){}Object.create&&(d.prototype=Object.create(null),new d().__proto__||(i=!1));function w(n,a,l){this.fn=n,this.context=a,this.once=l||!1}function f(n,a,l,e,o){if(typeof l!="function")throw new TypeError("The listener must be a function");var s=new w(l,e||n,o),u=i?i+a:a;return n._events[u]?n._events[u].fn?n._events[u]=[n._events[u],s]:n._events[u].push(s):(n._events[u]=s,n._eventsCount++),n}function r(n,a){--n._eventsCount===0?n._events=new d:delete n._events[a]}function t(){this._events=new d,this._eventsCount=0}t.prototype.eventNames=function(){var n=[],a,l;if(this._eventsCount===0)return n;for(l in a=this._events)g.call(a,l)&&n.push(i?l.slice(1):l);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(a)):n},t.prototype.listeners=function(n){var a=i?i+n:n,l=this._events[a];if(!l)return[];if(l.fn)return[l.fn];for(var e=0,o=l.length,s=new Array(o);e<o;e++)s[e]=l[e].fn;return s},t.prototype.listenerCount=function(n){var a=i?i+n:n,l=this._events[a];return l?l.fn?1:l.length:0},t.prototype.emit=function(n,a,l,e,o,s){var u=i?i+n:n;if(!this._events[u])return!1;var c=this._events[u],m=arguments.length,p,h;if(c.fn){switch(c.once&&this.removeListener(n,c.fn,void 0,!0),m){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,a),!0;case 3:return c.fn.call(c.context,a,l),!0;case 4:return c.fn.call(c.context,a,l,e),!0;case 5:return c.fn.call(c.context,a,l,e,o),!0;case 6:return c.fn.call(c.context,a,l,e,o,s),!0}for(h=1,p=new Array(m-1);h<m;h++)p[h-1]=arguments[h];c.fn.apply(c.context,p)}else{var v=c.length,x;for(h=0;h<v;h++)switch(c[h].once&&this.removeListener(n,c[h].fn,void 0,!0),m){case 1:c[h].fn.call(c[h].context);break;case 2:c[h].fn.call(c[h].context,a);break;case 3:c[h].fn.call(c[h].context,a,l);break;case 4:c[h].fn.call(c[h].context,a,l,e);break;default:if(!p)for(x=1,p=new Array(m-1);x<m;x++)p[x-1]=arguments[x];c[h].fn.apply(c[h].context,p)}}return!0},t.prototype.on=function(n,a,l){return f(this,n,a,l,!1)},t.prototype.once=function(n,a,l){return f(this,n,a,l,!0)},t.prototype.removeListener=function(n,a,l,e){var o=i?i+n:n;if(!this._events[o])return this;if(!a)return r(this,o),this;var s=this._events[o];if(s.fn)s.fn===a&&(!e||s.once)&&(!l||s.context===l)&&r(this,o);else{for(var u=0,c=[],m=s.length;u<m;u++)(s[u].fn!==a||e&&!s[u].once||l&&s[u].context!==l)&&c.push(s[u]);c.length?this._events[o]=c.length===1?c[0]:c:r(this,o)}return this},t.prototype.removeAllListeners=function(n){var a;return n?(a=i?i+n:n,this._events[a]&&r(this,a)):(this._events=new d,this._eventsCount=0),this},t.prototype.off=t.prototype.removeListener,t.prototype.addListener=t.prototype.on,t.prefixed=i,t.EventEmitter=t,b.exports=t})(dc);var Mf=dc.exports;const No=Ol(Mf);var ho={},Ya={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */Ya.exports;(function(b,g){(function(i){var d=g&&!g.nodeType&&g,w=b&&!b.nodeType&&b,f=typeof To=="object"&&To;(f.global===f||f.window===f||f.self===f)&&(i=f);var r,t=2147483647,n=36,a=1,l=26,e=38,o=700,s=72,u=128,c="-",m=/^xn--/,p=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,v={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=n-a,y=Math.floor,k=String.fromCharCode,T;function E(D){throw RangeError(v[D])}function _(D,j){for(var W=D.length,B=[];W--;)B[W]=j(D[W]);return B}function A(D,j){var W=D.split("@"),B="";W.length>1&&(B=W[0]+"@",D=W[1]),D=D.replace(h,".");var F=D.split("."),N=_(F,j).join(".");return B+N}function C(D){for(var j=[],W=0,B=D.length,F,N;W<B;)F=D.charCodeAt(W++),F>=55296&&F<=56319&&W<B?(N=D.charCodeAt(W++),(N&64512)==56320?j.push(((F&1023)<<10)+(N&1023)+65536):(j.push(F),W--)):j.push(F);return j}function S(D){return _(D,function(j){var W="";return j>65535&&(j-=65536,W+=k(j>>>10&1023|55296),j=56320|j&1023),W+=k(j),W}).join("")}function P(D){return D-48<10?D-22:D-65<26?D-65:D-97<26?D-97:n}function O(D,j){return D+22+75*(D<26)-((j!=0)<<5)}function R(D,j,W){var B=0;for(D=W?y(D/o):D>>1,D+=y(D/j);D>x*l>>1;B+=n)D=y(D/x);return y(B+(x+1)*D/(D+e))}function I(D){var j=[],W=D.length,B,F=0,N=u,X=s,G,V,z,U,Z,st,Y,rt,ft;for(G=D.lastIndexOf(c),G<0&&(G=0),V=0;V<G;++V)D.charCodeAt(V)>=128&&E("not-basic"),j.push(D.charCodeAt(V));for(z=G>0?G+1:0;z<W;){for(U=F,Z=1,st=n;z>=W&&E("invalid-input"),Y=P(D.charCodeAt(z++)),(Y>=n||Y>y((t-F)/Z))&&E("overflow"),F+=Y*Z,rt=st<=X?a:st>=X+l?l:st-X,!(Y<rt);st+=n)ft=n-rt,Z>y(t/ft)&&E("overflow"),Z*=ft;B=j.length+1,X=R(F-U,B,U==0),y(F/B)>t-N&&E("overflow"),N+=y(F/B),F%=B,j.splice(F++,0,N)}return S(j)}function M(D){var j,W,B,F,N,X,G,V,z,U,Z,st=[],Y,rt,ft,tt;for(D=C(D),Y=D.length,j=u,W=0,N=s,X=0;X<Y;++X)Z=D[X],Z<128&&st.push(k(Z));for(B=F=st.length,F&&st.push(c);B<Y;){for(G=t,X=0;X<Y;++X)Z=D[X],Z>=j&&Z<G&&(G=Z);for(rt=B+1,G-j>y((t-W)/rt)&&E("overflow"),W+=(G-j)*rt,j=G,X=0;X<Y;++X)if(Z=D[X],Z<j&&++W>t&&E("overflow"),Z==j){for(V=W,z=n;U=z<=N?a:z>=N+l?l:z-N,!(V<U);z+=n)tt=V-U,ft=n-U,st.push(k(O(U+tt%ft,0))),V=y(tt/ft);st.push(k(O(V,0))),N=R(W,rt,B==F),W=0,++B}++W,++j}return st.join("")}function H(D){return A(D,function(j){return m.test(j)?I(j.slice(4).toLowerCase()):j})}function L(D){return A(D,function(j){return p.test(j)?"xn--"+M(j):j})}if(r={version:"1.3.2",ucs2:{decode:C,encode:S},decode:I,encode:M,toASCII:L,toUnicode:H},d&&w)if(b.exports==d)w.exports=r;else for(T in r)r.hasOwnProperty(T)&&(d[T]=r[T]);else i.punycode=r})(To)})(Ya,Ya.exports);var If=Ya.exports,Rf={isString:function(b){return typeof b=="string"},isObject:function(b){return typeof b=="object"&&b!==null},isNull:function(b){return b===null},isNullOrUndefined:function(b){return b==null}},ca={};function Lf(b,g){return Object.prototype.hasOwnProperty.call(b,g)}var Nf=function(b,g,i,d){g=g||"&",i=i||"=";var w={};if(typeof b!="string"||b.length===0)return w;var f=/\+/g;b=b.split(g);var r=1e3;d&&typeof d.maxKeys=="number"&&(r=d.maxKeys);var t=b.length;r>0&&t>r&&(t=r);for(var n=0;n<t;++n){var a=b[n].replace(f,"%20"),l=a.indexOf(i),e,o,s,u;l>=0?(e=a.substr(0,l),o=a.substr(l+1)):(e=a,o=""),s=decodeURIComponent(e),u=decodeURIComponent(o),Lf(w,s)?Array.isArray(w[s])?w[s].push(u):w[s]=[w[s],u]:w[s]=u}return w},ta=function(b){switch(typeof b){case"string":return b;case"boolean":return b?"true":"false";case"number":return isFinite(b)?b:"";default:return""}},Df=function(b,g,i,d){return g=g||"&",i=i||"=",b===null&&(b=void 0),typeof b=="object"?Object.keys(b).map(function(w){var f=encodeURIComponent(ta(w))+i;return Array.isArray(b[w])?b[w].map(function(r){return f+encodeURIComponent(ta(r))}).join(g):f+encodeURIComponent(ta(b[w]))}).join(g):d?encodeURIComponent(ta(d))+i+encodeURIComponent(ta(b)):""};ca.decode=ca.parse=Nf;ca.encode=ca.stringify=Df;var jf=If,_i=Rf,Hf=ho.parse=va;ho.resolve=Yf;ho.resolveObject=$f;ho.format=qf;ho.Url=hi;function hi(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Bf=/^([a-z0-9.+-]+:)/i,Ff=/:[0-9]*$/,zf=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Uf=["<",">",'"',"`"," ","\r",`
`,"	"],Vf=["{","}","|","\\","^","`"].concat(Uf),Gs=["'"].concat(Vf),vu=["%","/","?",";","#"].concat(Gs),yu=["/","?","#"],Gf=255,bu=/^[+a-z0-9A-Z_-]{0,63}$/,Wf=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Xf={javascript:!0,"javascript:":!0},Ws={javascript:!0,"javascript:":!0},Eo={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Xs=ca;function va(b,g,i){if(b&&_i.isObject(b)&&b instanceof hi)return b;var d=new hi;return d.parse(b,g,i),d}hi.prototype.parse=function(b,g,i){if(!_i.isString(b))throw new TypeError("Parameter 'url' must be a string, not "+typeof b);var d=b.indexOf("?"),w=d!==-1&&d<b.indexOf("#")?"?":"#",f=b.split(w),r=/\\/g;f[0]=f[0].replace(r,"/"),b=f.join(w);var t=b;if(t=t.trim(),!i&&b.split("#").length===1){var n=zf.exec(t);if(n)return this.path=t,this.href=t,this.pathname=n[1],n[2]?(this.search=n[2],g?this.query=Xs.parse(this.search.substr(1)):this.query=this.search.substr(1)):g&&(this.search="",this.query={}),this}var a=Bf.exec(t);if(a){a=a[0];var l=a.toLowerCase();this.protocol=l,t=t.substr(a.length)}if(i||a||t.match(/^\/\/[^@\/]+@[^@\/]+/)){var e=t.substr(0,2)==="//";e&&!(a&&Ws[a])&&(t=t.substr(2),this.slashes=!0)}if(!Ws[a]&&(e||a&&!Eo[a])){for(var o=-1,s=0;s<yu.length;s++){var u=t.indexOf(yu[s]);u!==-1&&(o===-1||u<o)&&(o=u)}var c,m;o===-1?m=t.lastIndexOf("@"):m=t.lastIndexOf("@",o),m!==-1&&(c=t.slice(0,m),t=t.slice(m+1),this.auth=decodeURIComponent(c)),o=-1;for(var s=0;s<vu.length;s++){var u=t.indexOf(vu[s]);u!==-1&&(o===-1||u<o)&&(o=u)}o===-1&&(o=t.length),this.host=t.slice(0,o),t=t.slice(o),this.parseHost(),this.hostname=this.hostname||"";var p=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!p)for(var h=this.hostname.split(/\./),s=0,v=h.length;s<v;s++){var x=h[s];if(x&&!x.match(bu)){for(var y="",k=0,T=x.length;k<T;k++)x.charCodeAt(k)>127?y+="x":y+=x[k];if(!y.match(bu)){var E=h.slice(0,s),_=h.slice(s+1),A=x.match(Wf);A&&(E.push(A[1]),_.unshift(A[2])),_.length&&(t="/"+_.join(".")+t),this.hostname=E.join(".");break}}}this.hostname.length>Gf?this.hostname="":this.hostname=this.hostname.toLowerCase(),p||(this.hostname=jf.toASCII(this.hostname));var C=this.port?":"+this.port:"",S=this.hostname||"";this.host=S+C,this.href+=this.host,p&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),t[0]!=="/"&&(t="/"+t))}if(!Xf[l])for(var s=0,v=Gs.length;s<v;s++){var P=Gs[s];if(t.indexOf(P)!==-1){var O=encodeURIComponent(P);O===P&&(O=escape(P)),t=t.split(P).join(O)}}var R=t.indexOf("#");R!==-1&&(this.hash=t.substr(R),t=t.slice(0,R));var I=t.indexOf("?");if(I!==-1?(this.search=t.substr(I),this.query=t.substr(I+1),g&&(this.query=Xs.parse(this.query)),t=t.slice(0,I)):g&&(this.search="",this.query={}),t&&(this.pathname=t),Eo[l]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var C=this.pathname||"",M=this.search||"";this.path=C+M}return this.href=this.format(),this};function qf(b){return _i.isString(b)&&(b=va(b)),b instanceof hi?b.format():hi.prototype.format.call(b)}hi.prototype.format=function(){var b=this.auth||"";b&&(b=encodeURIComponent(b),b=b.replace(/%3A/i,":"),b+="@");var g=this.protocol||"",i=this.pathname||"",d=this.hash||"",w=!1,f="";this.host?w=b+this.host:this.hostname&&(w=b+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(w+=":"+this.port)),this.query&&_i.isObject(this.query)&&Object.keys(this.query).length&&(f=Xs.stringify(this.query));var r=this.search||f&&"?"+f||"";return g&&g.substr(-1)!==":"&&(g+=":"),this.slashes||(!g||Eo[g])&&w!==!1?(w="//"+(w||""),i&&i.charAt(0)!=="/"&&(i="/"+i)):w||(w=""),d&&d.charAt(0)!=="#"&&(d="#"+d),r&&r.charAt(0)!=="?"&&(r="?"+r),i=i.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),r=r.replace("#","%23"),g+w+i+r+d};function Yf(b,g){return va(b,!1,!0).resolve(g)}hi.prototype.resolve=function(b){return this.resolveObject(va(b,!1,!0)).format()};function $f(b,g){return b?va(b,!1,!0).resolveObject(g):g}hi.prototype.resolveObject=function(b){if(_i.isString(b)){var g=new hi;g.parse(b,!1,!0),b=g}for(var i=new hi,d=Object.keys(this),w=0;w<d.length;w++){var f=d[w];i[f]=this[f]}if(i.hash=b.hash,b.href==="")return i.href=i.format(),i;if(b.slashes&&!b.protocol){for(var r=Object.keys(b),t=0;t<r.length;t++){var n=r[t];n!=="protocol"&&(i[n]=b[n])}return Eo[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i}if(b.protocol&&b.protocol!==i.protocol){if(!Eo[b.protocol]){for(var a=Object.keys(b),l=0;l<a.length;l++){var e=a[l];i[e]=b[e]}return i.href=i.format(),i}if(i.protocol=b.protocol,!b.host&&!Ws[b.protocol]){for(var v=(b.pathname||"").split("/");v.length&&!(b.host=v.shift()););b.host||(b.host=""),b.hostname||(b.hostname=""),v[0]!==""&&v.unshift(""),v.length<2&&v.unshift(""),i.pathname=v.join("/")}else i.pathname=b.pathname;if(i.search=b.search,i.query=b.query,i.host=b.host||"",i.auth=b.auth,i.hostname=b.hostname||b.host,i.port=b.port,i.pathname||i.search){var o=i.pathname||"",s=i.search||"";i.path=o+s}return i.slashes=i.slashes||b.slashes,i.href=i.format(),i}var u=i.pathname&&i.pathname.charAt(0)==="/",c=b.host||b.pathname&&b.pathname.charAt(0)==="/",m=c||u||i.host&&b.pathname,p=m,h=i.pathname&&i.pathname.split("/")||[],v=b.pathname&&b.pathname.split("/")||[],x=i.protocol&&!Eo[i.protocol];if(x&&(i.hostname="",i.port=null,i.host&&(h[0]===""?h[0]=i.host:h.unshift(i.host)),i.host="",b.protocol&&(b.hostname=null,b.port=null,b.host&&(v[0]===""?v[0]=b.host:v.unshift(b.host)),b.host=null),m=m&&(v[0]===""||h[0]==="")),c)i.host=b.host||b.host===""?b.host:i.host,i.hostname=b.hostname||b.hostname===""?b.hostname:i.hostname,i.search=b.search,i.query=b.query,h=v;else if(v.length)h||(h=[]),h.pop(),h=h.concat(v),i.search=b.search,i.query=b.query;else if(!_i.isNullOrUndefined(b.search)){if(x){i.hostname=i.host=h.shift();var y=i.host&&i.host.indexOf("@")>0?i.host.split("@"):!1;y&&(i.auth=y.shift(),i.host=i.hostname=y.shift())}return i.search=b.search,i.query=b.query,(!_i.isNull(i.pathname)||!_i.isNull(i.search))&&(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i}if(!h.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var k=h.slice(-1)[0],T=(i.host||b.host||h.length>1)&&(k==="."||k==="..")||k==="",E=0,_=h.length;_>=0;_--)k=h[_],k==="."?h.splice(_,1):k===".."?(h.splice(_,1),E++):E&&(h.splice(_,1),E--);if(!m&&!p)for(;E--;E)h.unshift("..");m&&h[0]!==""&&(!h[0]||h[0].charAt(0)!=="/")&&h.unshift(""),T&&h.join("/").substr(-1)!=="/"&&h.push("");var A=h[0]===""||h[0]&&h[0].charAt(0)==="/";if(x){i.hostname=i.host=A?"":h.length?h.shift():"";var y=i.host&&i.host.indexOf("@")>0?i.host.split("@"):!1;y&&(i.auth=y.shift(),i.host=i.hostname=y.shift())}return m=m||i.host&&h.length,m&&!A&&h.unshift(""),h.length?i.pathname=h.join("/"):(i.pathname=null,i.path=null),(!_i.isNull(i.pathname)||!_i.isNull(i.search))&&(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=b.auth||i.auth,i.slashes=i.slashes||b.slashes,i.href=i.format(),i};hi.prototype.parseHost=function(){var b=this.host,g=Ff.exec(b);g&&(g=g[0],g!==":"&&(this.port=g.substr(1)),b=b.substr(0,b.length-g.length)),b&&(this.hostname=b)};/*!
 * @pixi/constants - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var wi;(function(b){b[b.WEBGL_LEGACY=0]="WEBGL_LEGACY",b[b.WEBGL=1]="WEBGL",b[b.WEBGL2=2]="WEBGL2"})(wi||(wi={}));var Co;(function(b){b[b.UNKNOWN=0]="UNKNOWN",b[b.WEBGL=1]="WEBGL",b[b.CANVAS=2]="CANVAS"})(Co||(Co={}));var ha;(function(b){b[b.COLOR=16384]="COLOR",b[b.DEPTH=256]="DEPTH",b[b.STENCIL=1024]="STENCIL"})(ha||(ha={}));var Pn;(function(b){b[b.NORMAL=0]="NORMAL",b[b.ADD=1]="ADD",b[b.MULTIPLY=2]="MULTIPLY",b[b.SCREEN=3]="SCREEN",b[b.OVERLAY=4]="OVERLAY",b[b.DARKEN=5]="DARKEN",b[b.LIGHTEN=6]="LIGHTEN",b[b.COLOR_DODGE=7]="COLOR_DODGE",b[b.COLOR_BURN=8]="COLOR_BURN",b[b.HARD_LIGHT=9]="HARD_LIGHT",b[b.SOFT_LIGHT=10]="SOFT_LIGHT",b[b.DIFFERENCE=11]="DIFFERENCE",b[b.EXCLUSION=12]="EXCLUSION",b[b.HUE=13]="HUE",b[b.SATURATION=14]="SATURATION",b[b.COLOR=15]="COLOR",b[b.LUMINOSITY=16]="LUMINOSITY",b[b.NORMAL_NPM=17]="NORMAL_NPM",b[b.ADD_NPM=18]="ADD_NPM",b[b.SCREEN_NPM=19]="SCREEN_NPM",b[b.NONE=20]="NONE",b[b.SRC_OVER=0]="SRC_OVER",b[b.SRC_IN=21]="SRC_IN",b[b.SRC_OUT=22]="SRC_OUT",b[b.SRC_ATOP=23]="SRC_ATOP",b[b.DST_OVER=24]="DST_OVER",b[b.DST_IN=25]="DST_IN",b[b.DST_OUT=26]="DST_OUT",b[b.DST_ATOP=27]="DST_ATOP",b[b.ERASE=26]="ERASE",b[b.SUBTRACT=28]="SUBTRACT",b[b.XOR=29]="XOR"})(Pn||(Pn={}));var ci;(function(b){b[b.POINTS=0]="POINTS",b[b.LINES=1]="LINES",b[b.LINE_LOOP=2]="LINE_LOOP",b[b.LINE_STRIP=3]="LINE_STRIP",b[b.TRIANGLES=4]="TRIANGLES",b[b.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",b[b.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(ci||(ci={}));var Ao;(function(b){b[b.RGBA=6408]="RGBA",b[b.RGB=6407]="RGB",b[b.ALPHA=6406]="ALPHA",b[b.LUMINANCE=6409]="LUMINANCE",b[b.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",b[b.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",b[b.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Ao||(Ao={}));var zi;(function(b){b[b.TEXTURE_2D=3553]="TEXTURE_2D",b[b.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",b[b.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",b[b.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",b[b.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",b[b.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",b[b.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",b[b.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",b[b.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(zi||(zi={}));var Pr;(function(b){b[b.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",b[b.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",b[b.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",b[b.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",b[b.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",b[b.FLOAT=5126]="FLOAT",b[b.HALF_FLOAT=36193]="HALF_FLOAT"})(Pr||(Pr={}));var xi;(function(b){b[b.NEAREST=0]="NEAREST",b[b.LINEAR=1]="LINEAR"})(xi||(xi={}));var Ii;(function(b){b[b.CLAMP=33071]="CLAMP",b[b.REPEAT=10497]="REPEAT",b[b.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Ii||(Ii={}));var Po;(function(b){b[b.OFF=0]="OFF",b[b.POW2=1]="POW2",b[b.ON=2]="ON"})(Po||(Po={}));var Li;(function(b){b[b.NPM=0]="NPM",b[b.UNPACK=1]="UNPACK",b[b.PMA=2]="PMA",b[b.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",b[b.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",b[b.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"})(Li||(Li={}));var gi;(function(b){b[b.NO=0]="NO",b[b.YES=1]="YES",b[b.AUTO=2]="AUTO",b[b.BLEND=0]="BLEND",b[b.CLEAR=1]="CLEAR",b[b.BLIT=2]="BLIT"})(gi||(gi={}));var $a;(function(b){b[b.AUTO=0]="AUTO",b[b.MANUAL=1]="MANUAL"})($a||($a={}));var vi;(function(b){b.LOW="lowp",b.MEDIUM="mediump",b.HIGH="highp"})(vi||(vi={}));var ei;(function(b){b[b.NONE=0]="NONE",b[b.SCISSOR=1]="SCISSOR",b[b.STENCIL=2]="STENCIL",b[b.SPRITE=3]="SPRITE"})(ei||(ei={}));var oo;(function(b){b[b.NONE=0]="NONE",b[b.LOW=2]="LOW",b[b.MEDIUM=4]="MEDIUM",b[b.HIGH=8]="HIGH"})(oo||(oo={}));/*!
 * @pixi/utils - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */An.RETINA_PREFIX=/@([0-9\.]+)x/;An.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var qs=!1,_u="5.3.12";function Zf(){qs=!0}function pc(b){var g;if(!qs){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var i=[`
 %c %c %c PixiJS `+_u+" - ✰ "+b+` ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(g=window.console).log.apply(g,i)}else window.console&&window.console.log("PixiJS "+_u+" - "+b+" - http://www.pixijs.com/");qs=!0}}var Es;function mc(){return typeof Es>"u"&&(Es=function(){var b={stencil:!0,failIfMajorPerformanceCaveat:An.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var g=document.createElement("canvas"),i=g.getContext("webgl",b)||g.getContext("experimental-webgl",b),d=!!(i&&i.getContextAttributes().stencil);if(i){var w=i.getExtension("WEBGL_lose_context");w&&w.loseContext()}return i=null,d}catch{return!1}}()),Es}function ao(b,g){return g===void 0&&(g=[]),g[0]=(b>>16&255)/255,g[1]=(b>>8&255)/255,g[2]=(b&255)/255,g}function Il(b){var g=b.toString(16);return g="000000".substr(0,6-g.length)+g,"#"+g}function Rl(b){return typeof b=="string"&&b[0]==="#"&&(b=b.substr(1)),parseInt(b,16)}function Kf(b){return(b[0]*255<<16)+(b[1]*255<<8)+(b[2]*255|0)}function Jf(){for(var b=[],g=[],i=0;i<32;i++)b[i]=i,g[i]=i;b[Pn.NORMAL_NPM]=Pn.NORMAL,b[Pn.ADD_NPM]=Pn.ADD,b[Pn.SCREEN_NPM]=Pn.SCREEN,g[Pn.NORMAL]=Pn.NORMAL_NPM,g[Pn.ADD]=Pn.ADD_NPM,g[Pn.SCREEN]=Pn.SCREEN_NPM;var d=[];return d.push(g),d.push(b),d}var Ll=Jf();function Nl(b,g){return Ll[g?1:0][b]}function gc(b,g,i,d){return i=i||new Float32Array(4),d||d===void 0?(i[0]=b[0]*g,i[1]=b[1]*g,i[2]=b[2]*g):(i[0]=b[0],i[1]=b[1],i[2]=b[2]),i[3]=g,i}function es(b,g){if(g===1)return(g*255<<24)+b;if(g===0)return 0;var i=b>>16&255,d=b>>8&255,w=b&255;return i=i*g+.5|0,d=d*g+.5|0,w=w*g+.5|0,(g*255<<24)+(i<<16)+(d<<8)+w}function Dl(b,g,i,d){return i=i||new Float32Array(4),i[0]=(b>>16&255)/255,i[1]=(b>>8&255)/255,i[2]=(b&255)/255,(d||d===void 0)&&(i[0]*=g,i[1]*=g,i[2]*=g),i[3]=g,i}function vc(b,g){g===void 0&&(g=null);var i=b*6;if(g=g||new Uint16Array(i),g.length!==i)throw new Error("Out buffer length is incorrect, got "+g.length+" and expected "+i);for(var d=0,w=0;d<i;d+=6,w+=4)g[d+0]=w+0,g[d+1]=w+1,g[d+2]=w+2,g[d+3]=w+0,g[d+4]=w+2,g[d+5]=w+3;return g}function yc(b){if(b.BYTES_PER_ELEMENT===4)return b instanceof Float32Array?"Float32Array":b instanceof Uint32Array?"Uint32Array":"Int32Array";if(b.BYTES_PER_ELEMENT===2){if(b instanceof Uint16Array)return"Uint16Array"}else if(b.BYTES_PER_ELEMENT===1&&b instanceof Uint8Array)return"Uint8Array";return null}var Qf={Float32Array,Uint32Array,Int32Array,Uint8Array};function td(b,g){for(var i=0,d=0,w={},f=0;f<b.length;f++)d+=g[f],i+=b[f].length;for(var r=new ArrayBuffer(i*4),t=null,n=0,f=0;f<b.length;f++){var a=g[f],l=b[f],e=yc(l);w[e]||(w[e]=new Qf[e](r)),t=w[e];for(var o=0;o<l.length;o++){var s=(o/a|0)*d+n,u=o%a;t[s+u]=l[o]}n+=a}return new Float32Array(r)}function fa(b){return b+=b===0?1:0,--b,b|=b>>>1,b|=b>>>2,b|=b>>>4,b|=b>>>8,b|=b>>>16,b+1}function Ys(b){return!(b&b-1)&&!!b}function $s(b){var g=(b>65535?1:0)<<4;b>>>=g;var i=(b>255?1:0)<<3;return b>>>=i,g|=i,i=(b>15?1:0)<<2,b>>>=i,g|=i,i=(b>3?1:0)<<1,b>>>=i,g|=i,g|b>>1}function io(b,g,i){var d=b.length,w;if(!(g>=d||i===0)){i=g+i>d?d-g:i;var f=d-i;for(w=g;w<f;++w)b[w]=b[w+i];b.length=f}}function no(b){return b===0?0:b<0?-1:1}var ed=0;function so(){return++ed}var xu={};function en(b,g,i){if(i===void 0&&(i=3),!xu[g]){var d=new Error().stack;typeof d>"u"?console.warn("PixiJS Deprecation Warning: ",g+`
Deprecated since v`+b):(d=d.split(`
`).splice(i).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",g+`
Deprecated since v`+b),console.warn(d),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",g+`
Deprecated since v`+b),console.warn(d))),xu[g]=!0}}var Zs={},ni=Object.create(null),li=Object.create(null);function nd(){var b;for(b in ni)ni[b].destroy();for(b in li)li[b].destroy()}function rd(){var b;for(b in ni)delete ni[b];for(b in li)delete li[b]}var Ks=function(){function b(g,i,d){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=d||An.RESOLUTION,this.resize(g,i)}return b.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},b.prototype.resize=function(g,i){this.canvas.width=g*this.resolution,this.canvas.height=i*this.resolution},b.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(b.prototype,"width",{get:function(){return this.canvas.width},set:function(g){this.canvas.width=g},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"height",{get:function(){return this.canvas.height},set:function(g){this.canvas.height=g},enumerable:!1,configurable:!0}),b}();function bc(b){var g=b.width,i=b.height,d=b.getContext("2d"),w=d.getImageData(0,0,g,i),f=w.data,r=f.length,t={top:null,left:null,right:null,bottom:null},n=null,a,l,e;for(a=0;a<r;a+=4)f[a+3]!==0&&(l=a/4%g,e=~~(a/4/g),t.top===null&&(t.top=e),(t.left===null||l<t.left)&&(t.left=l),(t.right===null||t.right<l)&&(t.right=l+1),(t.bottom===null||t.bottom<e)&&(t.bottom=e));return t.top!==null&&(g=t.right-t.left,i=t.bottom-t.top+1,n=d.getImageData(t.left,t.top,g,i)),{height:i,width:g,data:n}}var _c=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function id(b){var g=_c.exec(b);if(g)return{mediaType:g[1]?g[1].toLowerCase():void 0,subType:g[2]?g[2].toLowerCase():void 0,charset:g[3]?g[3].toLowerCase():void 0,encoding:g[4]?g[4].toLowerCase():void 0,data:g[5]}}var Ma;function xc(b,g){if(g===void 0&&(g=window.location),b.indexOf("data:")===0)return"";g=g||window.location,Ma||(Ma=document.createElement("a")),Ma.href=b;var i=Hf(Ma.href),d=!i.port&&g.port===""||i.port===g.port;return i.hostname!==g.hostname||!d||i.protocol!==g.protocol?"anonymous":""}function da(b,g){var i=An.RETINA_PREFIX.exec(b);return i?parseFloat(i[1]):g!==void 0?g:1}const od=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:li,CanvasRenderTarget:Ks,DATA_URI:_c,EventEmitter:No,ProgramCache:Zs,TextureCache:ni,clearTextureCache:rd,correctBlendMode:Nl,createIndicesForQuads:vc,decomposeDataUri:id,deprecation:en,destroyTextureCache:nd,determineCrossOrigin:xc,earcut:Ml,getBufferType:yc,getResolutionOfUrl:da,hex2rgb:ao,hex2string:Il,interleaveTypedArrays:td,isMobile:ui,isPow2:Ys,isWebGLSupported:mc,log2:$s,nextPow2:fa,premultiplyBlendMode:Ll,premultiplyRgba:gc,premultiplyTint:es,premultiplyTintToRgba:Dl,removeItems:io,rgb2hex:Kf,sayHello:pc,sign:no,skipHello:Zf,string2hex:Rl,trimCanvas:bc,uid:so,url:ho},Symbol.toStringTag,{value:"Module"}));/*!
 * @pixi/math - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Oo=Math.PI*2,wc=180/Math.PI,Sc=Math.PI/180,Er;(function(b){b[b.POLY=0]="POLY",b[b.RECT=1]="RECT",b[b.CIRC=2]="CIRC",b[b.ELIP=3]="ELIP",b[b.RREC=4]="RREC"})(Er||(Er={}));var or=function(){function b(g,i,d,w){g===void 0&&(g=0),i===void 0&&(i=0),d===void 0&&(d=0),w===void 0&&(w=0),this.x=Number(g),this.y=Number(i),this.width=Number(d),this.height=Number(w),this.type=Er.RECT}return Object.defineProperty(b.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(b,"EMPTY",{get:function(){return new b(0,0,0,0)},enumerable:!1,configurable:!0}),b.prototype.clone=function(){return new b(this.x,this.y,this.width,this.height)},b.prototype.copyFrom=function(g){return this.x=g.x,this.y=g.y,this.width=g.width,this.height=g.height,this},b.prototype.copyTo=function(g){return g.x=this.x,g.y=this.y,g.width=this.width,g.height=this.height,g},b.prototype.contains=function(g,i){return this.width<=0||this.height<=0?!1:g>=this.x&&g<this.x+this.width&&i>=this.y&&i<this.y+this.height},b.prototype.pad=function(g,i){return g===void 0&&(g=0),i===void 0&&(i=g),this.x-=g,this.y-=i,this.width+=g*2,this.height+=i*2,this},b.prototype.fit=function(g){var i=Math.max(this.x,g.x),d=Math.min(this.x+this.width,g.x+g.width),w=Math.max(this.y,g.y),f=Math.min(this.y+this.height,g.y+g.height);return this.x=i,this.width=Math.max(d-i,0),this.y=w,this.height=Math.max(f-w,0),this},b.prototype.ceil=function(g,i){g===void 0&&(g=1),i===void 0&&(i=.001);var d=Math.ceil((this.x+this.width-i)*g)/g,w=Math.ceil((this.y+this.height-i)*g)/g;return this.x=Math.floor((this.x+i)*g)/g,this.y=Math.floor((this.y+i)*g)/g,this.width=d-this.x,this.height=w-this.y,this},b.prototype.enlarge=function(g){var i=Math.min(this.x,g.x),d=Math.max(this.x+this.width,g.x+g.width),w=Math.min(this.y,g.y),f=Math.max(this.y+this.height,g.y+g.height);return this.x=i,this.width=d-i,this.y=w,this.height=f-w,this},b}(),Tc=function(){function b(g,i,d){g===void 0&&(g=0),i===void 0&&(i=0),d===void 0&&(d=0),this.x=g,this.y=i,this.radius=d,this.type=Er.CIRC}return b.prototype.clone=function(){return new b(this.x,this.y,this.radius)},b.prototype.contains=function(g,i){if(this.radius<=0)return!1;var d=this.radius*this.radius,w=this.x-g,f=this.y-i;return w*=w,f*=f,w+f<=d},b.prototype.getBounds=function(){return new or(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},b}(),Ec=function(){function b(g,i,d,w){g===void 0&&(g=0),i===void 0&&(i=0),d===void 0&&(d=0),w===void 0&&(w=0),this.x=g,this.y=i,this.width=d,this.height=w,this.type=Er.ELIP}return b.prototype.clone=function(){return new b(this.x,this.y,this.width,this.height)},b.prototype.contains=function(g,i){if(this.width<=0||this.height<=0)return!1;var d=(g-this.x)/this.width,w=(i-this.y)/this.height;return d*=d,w*=w,d+w<=1},b.prototype.getBounds=function(){return new or(this.x-this.width,this.y-this.height,this.width,this.height)},b}(),ko=function(){function b(){for(var g=arguments,i=[],d=0;d<arguments.length;d++)i[d]=g[d];var w=Array.isArray(i[0])?i[0]:i;if(typeof w[0]!="number"){for(var f=[],r=0,t=w.length;r<t;r++)f.push(w[r].x,w[r].y);w=f}this.points=w,this.type=Er.POLY,this.closeStroke=!0}return b.prototype.clone=function(){var g=this.points.slice(),i=new b(g);return i.closeStroke=this.closeStroke,i},b.prototype.contains=function(g,i){for(var d=!1,w=this.points.length/2,f=0,r=w-1;f<w;r=f++){var t=this.points[f*2],n=this.points[f*2+1],a=this.points[r*2],l=this.points[r*2+1],e=n>i!=l>i&&g<(a-t)*((i-n)/(l-n))+t;e&&(d=!d)}return d},b}(),kc=function(){function b(g,i,d,w,f){g===void 0&&(g=0),i===void 0&&(i=0),d===void 0&&(d=0),w===void 0&&(w=0),f===void 0&&(f=20),this.x=g,this.y=i,this.width=d,this.height=w,this.radius=f,this.type=Er.RREC}return b.prototype.clone=function(){return new b(this.x,this.y,this.width,this.height,this.radius)},b.prototype.contains=function(g,i){if(this.width<=0||this.height<=0)return!1;if(g>=this.x&&g<=this.x+this.width&&i>=this.y&&i<=this.y+this.height){if(i>=this.y+this.radius&&i<=this.y+this.height-this.radius||g>=this.x+this.radius&&g<=this.x+this.width-this.radius)return!0;var d=g-(this.x+this.radius),w=i-(this.y+this.radius),f=this.radius*this.radius;if(d*d+w*w<=f||(d=g-(this.x+this.width-this.radius),d*d+w*w<=f)||(w=i-(this.y+this.height-this.radius),d*d+w*w<=f)||(d=g-(this.x+this.radius),d*d+w*w<=f))return!0}return!1},b}(),Dr=function(){function b(g,i){g===void 0&&(g=0),i===void 0&&(i=0),this.x=g,this.y=i}return b.prototype.clone=function(){return new b(this.x,this.y)},b.prototype.copyFrom=function(g){return this.set(g.x,g.y),this},b.prototype.copyTo=function(g){return g.set(this.x,this.y),g},b.prototype.equals=function(g){return g.x===this.x&&g.y===this.y},b.prototype.set=function(g,i){return g===void 0&&(g=0),i===void 0&&(i=g),this.x=g,this.y=i,this},b}(),ro=function(){function b(g,i,d,w){d===void 0&&(d=0),w===void 0&&(w=0),this._x=d,this._y=w,this.cb=g,this.scope=i}return b.prototype.clone=function(g,i){return g===void 0&&(g=this.cb),i===void 0&&(i=this.scope),new b(g,i,this._x,this._y)},b.prototype.set=function(g,i){return g===void 0&&(g=0),i===void 0&&(i=g),(this._x!==g||this._y!==i)&&(this._x=g,this._y=i,this.cb.call(this.scope)),this},b.prototype.copyFrom=function(g){return(this._x!==g.x||this._y!==g.y)&&(this._x=g.x,this._y=g.y,this.cb.call(this.scope)),this},b.prototype.copyTo=function(g){return g.set(this._x,this._y),g},b.prototype.equals=function(g){return g.x===this._x&&g.y===this._y},Object.defineProperty(b.prototype,"x",{get:function(){return this._x},set:function(g){this._x!==g&&(this._x=g,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"y",{get:function(){return this._y},set:function(g){this._y!==g&&(this._y=g,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),b}(),Or=function(){function b(g,i,d,w,f,r){g===void 0&&(g=1),i===void 0&&(i=0),d===void 0&&(d=0),w===void 0&&(w=1),f===void 0&&(f=0),r===void 0&&(r=0),this.array=null,this.a=g,this.b=i,this.c=d,this.d=w,this.tx=f,this.ty=r}return b.prototype.fromArray=function(g){this.a=g[0],this.b=g[1],this.c=g[3],this.d=g[4],this.tx=g[2],this.ty=g[5]},b.prototype.set=function(g,i,d,w,f,r){return this.a=g,this.b=i,this.c=d,this.d=w,this.tx=f,this.ty=r,this},b.prototype.toArray=function(g,i){this.array||(this.array=new Float32Array(9));var d=i||this.array;return g?(d[0]=this.a,d[1]=this.b,d[2]=0,d[3]=this.c,d[4]=this.d,d[5]=0,d[6]=this.tx,d[7]=this.ty,d[8]=1):(d[0]=this.a,d[1]=this.c,d[2]=this.tx,d[3]=this.b,d[4]=this.d,d[5]=this.ty,d[6]=0,d[7]=0,d[8]=1),d},b.prototype.apply=function(g,i){i=i||new Dr;var d=g.x,w=g.y;return i.x=this.a*d+this.c*w+this.tx,i.y=this.b*d+this.d*w+this.ty,i},b.prototype.applyInverse=function(g,i){i=i||new Dr;var d=1/(this.a*this.d+this.c*-this.b),w=g.x,f=g.y;return i.x=this.d*d*w+-this.c*d*f+(this.ty*this.c-this.tx*this.d)*d,i.y=this.a*d*f+-this.b*d*w+(-this.ty*this.a+this.tx*this.b)*d,i},b.prototype.translate=function(g,i){return this.tx+=g,this.ty+=i,this},b.prototype.scale=function(g,i){return this.a*=g,this.d*=i,this.c*=g,this.b*=i,this.tx*=g,this.ty*=i,this},b.prototype.rotate=function(g){var i=Math.cos(g),d=Math.sin(g),w=this.a,f=this.c,r=this.tx;return this.a=w*i-this.b*d,this.b=w*d+this.b*i,this.c=f*i-this.d*d,this.d=f*d+this.d*i,this.tx=r*i-this.ty*d,this.ty=r*d+this.ty*i,this},b.prototype.append=function(g){var i=this.a,d=this.b,w=this.c,f=this.d;return this.a=g.a*i+g.b*w,this.b=g.a*d+g.b*f,this.c=g.c*i+g.d*w,this.d=g.c*d+g.d*f,this.tx=g.tx*i+g.ty*w+this.tx,this.ty=g.tx*d+g.ty*f+this.ty,this},b.prototype.setTransform=function(g,i,d,w,f,r,t,n,a){return this.a=Math.cos(t+a)*f,this.b=Math.sin(t+a)*f,this.c=-Math.sin(t-n)*r,this.d=Math.cos(t-n)*r,this.tx=g-(d*this.a+w*this.c),this.ty=i-(d*this.b+w*this.d),this},b.prototype.prepend=function(g){var i=this.tx;if(g.a!==1||g.b!==0||g.c!==0||g.d!==1){var d=this.a,w=this.c;this.a=d*g.a+this.b*g.c,this.b=d*g.b+this.b*g.d,this.c=w*g.a+this.d*g.c,this.d=w*g.b+this.d*g.d}return this.tx=i*g.a+this.ty*g.c+g.tx,this.ty=i*g.b+this.ty*g.d+g.ty,this},b.prototype.decompose=function(g){var i=this.a,d=this.b,w=this.c,f=this.d,r=-Math.atan2(-w,f),t=Math.atan2(d,i),n=Math.abs(r+t);return n<1e-5||Math.abs(Oo-n)<1e-5?(g.rotation=t,g.skew.x=g.skew.y=0):(g.rotation=0,g.skew.x=r,g.skew.y=t),g.scale.x=Math.sqrt(i*i+d*d),g.scale.y=Math.sqrt(w*w+f*f),g.position.x=this.tx,g.position.y=this.ty,g},b.prototype.invert=function(){var g=this.a,i=this.b,d=this.c,w=this.d,f=this.tx,r=g*w-i*d;return this.a=w/r,this.b=-i/r,this.c=-d/r,this.d=g/r,this.tx=(d*this.ty-w*f)/r,this.ty=-(g*this.ty-i*f)/r,this},b.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},b.prototype.clone=function(){var g=new b;return g.a=this.a,g.b=this.b,g.c=this.c,g.d=this.d,g.tx=this.tx,g.ty=this.ty,g},b.prototype.copyTo=function(g){return g.a=this.a,g.b=this.b,g.c=this.c,g.d=this.d,g.tx=this.tx,g.ty=this.ty,g},b.prototype.copyFrom=function(g){return this.a=g.a,this.b=g.b,this.c=g.c,this.d=g.d,this.tx=g.tx,this.ty=g.ty,this},Object.defineProperty(b,"IDENTITY",{get:function(){return new b},enumerable:!1,configurable:!0}),Object.defineProperty(b,"TEMP_MATRIX",{get:function(){return new b},enumerable:!1,configurable:!0}),b}(),Ji=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Qi=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],to=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],eo=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Js=[],Cc=[],Ia=Math.sign;function ad(){for(var b=0;b<16;b++){var g=[];Js.push(g);for(var i=0;i<16;i++)for(var d=Ia(Ji[b]*Ji[i]+to[b]*Qi[i]),w=Ia(Qi[b]*Ji[i]+eo[b]*Qi[i]),f=Ia(Ji[b]*to[i]+to[b]*eo[i]),r=Ia(Qi[b]*to[i]+eo[b]*eo[i]),t=0;t<16;t++)if(Ji[t]===d&&Qi[t]===w&&to[t]===f&&eo[t]===r){g.push(t);break}}for(var b=0;b<16;b++){var n=new Or;n.set(Ji[b],Qi[b],to[b],eo[b],0,0),Cc.push(n)}}ad();var _r={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(b){return Ji[b]},uY:function(b){return Qi[b]},vX:function(b){return to[b]},vY:function(b){return eo[b]},inv:function(b){return b&8?b&15:-b&7},add:function(b,g){return Js[b][g]},sub:function(b,g){return Js[b][_r.inv(g)]},rotate180:function(b){return b^4},isVertical:function(b){return(b&3)===2},byDirection:function(b,g){return Math.abs(b)*2<=Math.abs(g)?g>=0?_r.S:_r.N:Math.abs(g)*2<=Math.abs(b)?b>0?_r.E:_r.W:g>0?b>0?_r.SE:_r.SW:b>0?_r.NE:_r.NW},matrixAppendRotationInv:function(b,g,i,d){i===void 0&&(i=0),d===void 0&&(d=0);var w=Cc[_r.inv(g)];w.tx=i,w.ty=d,b.append(w)}},jl=function(){function b(){this.worldTransform=new Or,this.localTransform=new Or,this.position=new ro(this.onChange,this,0,0),this.scale=new ro(this.onChange,this,1,1),this.pivot=new ro(this.onChange,this,0,0),this.skew=new ro(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return b.prototype.onChange=function(){this._localID++},b.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},b.prototype.updateLocalTransform=function(){var g=this.localTransform;this._localID!==this._currentLocalID&&(g.a=this._cx*this.scale.x,g.b=this._sx*this.scale.x,g.c=this._cy*this.scale.y,g.d=this._sy*this.scale.y,g.tx=this.position.x-(this.pivot.x*g.a+this.pivot.y*g.c),g.ty=this.position.y-(this.pivot.x*g.b+this.pivot.y*g.d),this._currentLocalID=this._localID,this._parentID=-1)},b.prototype.updateTransform=function(g){var i=this.localTransform;if(this._localID!==this._currentLocalID&&(i.a=this._cx*this.scale.x,i.b=this._sx*this.scale.x,i.c=this._cy*this.scale.y,i.d=this._sy*this.scale.y,i.tx=this.position.x-(this.pivot.x*i.a+this.pivot.y*i.c),i.ty=this.position.y-(this.pivot.x*i.b+this.pivot.y*i.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==g._worldID){var d=g.worldTransform,w=this.worldTransform;w.a=i.a*d.a+i.b*d.c,w.b=i.a*d.b+i.b*d.d,w.c=i.c*d.a+i.d*d.c,w.d=i.c*d.b+i.d*d.d,w.tx=i.tx*d.a+i.ty*d.c+d.tx,w.ty=i.tx*d.b+i.ty*d.d+d.ty,this._parentID=g._worldID,this._worldID++}},b.prototype.setFromMatrix=function(g){g.decompose(this),this._localID++},Object.defineProperty(b.prototype,"rotation",{get:function(){return this._rotation},set:function(g){this._rotation!==g&&(this._rotation=g,this.updateSkew())},enumerable:!1,configurable:!0}),b.IDENTITY=new b,b}();/*!
 * @pixi/display - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */An.SORTABLE_CHILDREN=!1;var pa=function(){function b(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return b.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},b.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},b.prototype.getRectangle=function(g){return this.minX>this.maxX||this.minY>this.maxY?or.EMPTY:(g=g||new or(0,0,1,1),g.x=this.minX,g.y=this.minY,g.width=this.maxX-this.minX,g.height=this.maxY-this.minY,g)},b.prototype.addPoint=function(g){this.minX=Math.min(this.minX,g.x),this.maxX=Math.max(this.maxX,g.x),this.minY=Math.min(this.minY,g.y),this.maxY=Math.max(this.maxY,g.y)},b.prototype.addQuad=function(g){var i=this.minX,d=this.minY,w=this.maxX,f=this.maxY,r=g[0],t=g[1];i=r<i?r:i,d=t<d?t:d,w=r>w?r:w,f=t>f?t:f,r=g[2],t=g[3],i=r<i?r:i,d=t<d?t:d,w=r>w?r:w,f=t>f?t:f,r=g[4],t=g[5],i=r<i?r:i,d=t<d?t:d,w=r>w?r:w,f=t>f?t:f,r=g[6],t=g[7],i=r<i?r:i,d=t<d?t:d,w=r>w?r:w,f=t>f?t:f,this.minX=i,this.minY=d,this.maxX=w,this.maxY=f},b.prototype.addFrame=function(g,i,d,w,f){this.addFrameMatrix(g.worldTransform,i,d,w,f)},b.prototype.addFrameMatrix=function(g,i,d,w,f){var r=g.a,t=g.b,n=g.c,a=g.d,l=g.tx,e=g.ty,o=this.minX,s=this.minY,u=this.maxX,c=this.maxY,m=r*i+n*d+l,p=t*i+a*d+e;o=m<o?m:o,s=p<s?p:s,u=m>u?m:u,c=p>c?p:c,m=r*w+n*d+l,p=t*w+a*d+e,o=m<o?m:o,s=p<s?p:s,u=m>u?m:u,c=p>c?p:c,m=r*i+n*f+l,p=t*i+a*f+e,o=m<o?m:o,s=p<s?p:s,u=m>u?m:u,c=p>c?p:c,m=r*w+n*f+l,p=t*w+a*f+e,o=m<o?m:o,s=p<s?p:s,u=m>u?m:u,c=p>c?p:c,this.minX=o,this.minY=s,this.maxX=u,this.maxY=c},b.prototype.addVertexData=function(g,i,d){for(var w=this.minX,f=this.minY,r=this.maxX,t=this.maxY,n=i;n<d;n+=2){var a=g[n],l=g[n+1];w=a<w?a:w,f=l<f?l:f,r=a>r?a:r,t=l>t?l:t}this.minX=w,this.minY=f,this.maxX=r,this.maxY=t},b.prototype.addVertices=function(g,i,d,w){this.addVerticesMatrix(g.worldTransform,i,d,w)},b.prototype.addVerticesMatrix=function(g,i,d,w,f,r){f===void 0&&(f=0),r===void 0&&(r=f);for(var t=g.a,n=g.b,a=g.c,l=g.d,e=g.tx,o=g.ty,s=this.minX,u=this.minY,c=this.maxX,m=this.maxY,p=d;p<w;p+=2){var h=i[p],v=i[p+1],x=t*h+a*v+e,y=l*v+n*h+o;s=Math.min(s,x-f),c=Math.max(c,x+f),u=Math.min(u,y-r),m=Math.max(m,y+r)}this.minX=s,this.minY=u,this.maxX=c,this.maxY=m},b.prototype.addBounds=function(g){var i=this.minX,d=this.minY,w=this.maxX,f=this.maxY;this.minX=g.minX<i?g.minX:i,this.minY=g.minY<d?g.minY:d,this.maxX=g.maxX>w?g.maxX:w,this.maxY=g.maxY>f?g.maxY:f},b.prototype.addBoundsMask=function(g,i){var d=g.minX>i.minX?g.minX:i.minX,w=g.minY>i.minY?g.minY:i.minY,f=g.maxX<i.maxX?g.maxX:i.maxX,r=g.maxY<i.maxY?g.maxY:i.maxY;if(d<=f&&w<=r){var t=this.minX,n=this.minY,a=this.maxX,l=this.maxY;this.minX=d<t?d:t,this.minY=w<n?w:n,this.maxX=f>a?f:a,this.maxY=r>l?r:l}},b.prototype.addBoundsMatrix=function(g,i){this.addFrameMatrix(i,g.minX,g.minY,g.maxX,g.maxY)},b.prototype.addBoundsArea=function(g,i){var d=g.minX>i.x?g.minX:i.x,w=g.minY>i.y?g.minY:i.y,f=g.maxX<i.x+i.width?g.maxX:i.x+i.width,r=g.maxY<i.y+i.height?g.maxY:i.y+i.height;if(d<=f&&w<=r){var t=this.minX,n=this.minY,a=this.maxX,l=this.maxY;this.minX=d<t?d:t,this.minY=w<n?w:n,this.maxX=f>a?f:a,this.maxY=r>l?r:l}},b.prototype.pad=function(g,i){g===void 0&&(g=0),i===void 0&&(i=g),this.isEmpty()||(this.minX-=g,this.maxX+=g,this.minY-=i,this.maxY+=i)},b.prototype.addFramePad=function(g,i,d,w,f,r){g-=f,i-=r,d+=f,w+=r,this.minX=this.minX<g?this.minX:g,this.maxX=this.maxX>d?this.maxX:d,this.minY=this.minY<i?this.minY:i,this.maxY=this.maxY>w?this.maxY:w},b}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Qs=function(b,g){return Qs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,d){i.__proto__=d}||function(i,d){for(var w in d)d.hasOwnProperty(w)&&(i[w]=d[w])},Qs(b,g)};function Hl(b,g){Qs(b,g);function i(){this.constructor=b}b.prototype=g===null?Object.create(g):(i.prototype=g.prototype,new i)}var Mr=function(b){Hl(g,b);function g(){var i=b.call(this)||this;return i.tempDisplayObjectParent=null,i.transform=new jl,i.alpha=1,i.visible=!0,i.renderable=!0,i.parent=null,i.worldAlpha=1,i._lastSortedIndex=0,i._zIndex=0,i.filterArea=null,i.filters=null,i._enabledFilters=null,i._bounds=new pa,i._localBounds=null,i._boundsID=0,i._boundsRect=null,i._localBoundsRect=null,i._mask=null,i._destroyed=!1,i.isSprite=!1,i.isMask=!1,i}return g.mixin=function(i){for(var d=Object.keys(i),w=0;w<d.length;++w){var f=d[w];Object.defineProperty(g.prototype,f,Object.getOwnPropertyDescriptor(i,f))}},g.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},g.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},g.prototype.getBounds=function(i,d){return i||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),d||(this._boundsRect||(this._boundsRect=new or),d=this._boundsRect),this._bounds.getRectangle(d)},g.prototype.getLocalBounds=function(i){i||(this._localBoundsRect||(this._localBoundsRect=new or),i=this._localBoundsRect),this._localBounds||(this._localBounds=new pa);var d=this.transform,w=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var f=this._bounds,r=this._boundsID;this._bounds=this._localBounds;var t=this.getBounds(!1,i);return this.parent=w,this.transform=d,this._bounds=f,this._bounds.updateID+=this._boundsID-r,t},g.prototype.toGlobal=function(i,d,w){return w===void 0&&(w=!1),w||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(i,d)},g.prototype.toLocal=function(i,d,w,f){return d&&(i=d.toGlobal(i,w,f)),f||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(i,w)},g.prototype.setParent=function(i){if(!i||!i.addChild)throw new Error("setParent: Argument must be a Container");return i.addChild(this),i},g.prototype.setTransform=function(i,d,w,f,r,t,n,a,l){return i===void 0&&(i=0),d===void 0&&(d=0),w===void 0&&(w=1),f===void 0&&(f=1),r===void 0&&(r=0),t===void 0&&(t=0),n===void 0&&(n=0),a===void 0&&(a=0),l===void 0&&(l=0),this.position.x=i,this.position.y=d,this.scale.x=w||1,this.scale.y=f||1,this.rotation=r,this.skew.x=t,this.skew.y=n,this.pivot.x=a,this.pivot.y=l,this},g.prototype.destroy=function(i){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(g.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new Bl),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),g.prototype.enableTempParent=function(){var i=this.parent;return this.parent=this._tempDisplayObjectParent,i},g.prototype.disableTempParent=function(i){this.parent=i},Object.defineProperty(g.prototype,"x",{get:function(){return this.position.x},set:function(i){this.transform.position.x=i},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"y",{get:function(){return this.position.y},set:function(i){this.transform.position.y=i},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"position",{get:function(){return this.transform.position},set:function(i){this.transform.position.copyFrom(i)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"scale",{get:function(){return this.transform.scale},set:function(i){this.transform.scale.copyFrom(i)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(i){this.transform.pivot.copyFrom(i)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"skew",{get:function(){return this.transform.skew},set:function(i){this.transform.skew.copyFrom(i)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(i){this.transform.rotation=i},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"angle",{get:function(){return this.transform.rotation*wc},set:function(i){this.transform.rotation=i*Sc},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"zIndex",{get:function(){return this._zIndex},set:function(i){this._zIndex=i,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"worldVisible",{get:function(){var i=this;do{if(!i.visible)return!1;i=i.parent}while(i);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"mask",{get:function(){return this._mask},set:function(i){if(this._mask){var d=this._mask.maskObject||this._mask;d.renderable=!0,d.isMask=!1}if(this._mask=i,this._mask){var d=this._mask.maskObject||this._mask;d.renderable=!1,d.isMask=!0}},enumerable:!1,configurable:!0}),g}(No),Bl=function(b){Hl(g,b);function g(){var i=b!==null&&b.apply(this,arguments)||this;return i.sortDirty=null,i}return g}(Mr);Mr.prototype.displayObjectUpdateTransform=Mr.prototype.updateTransform;function sd(b,g){return b.zIndex===g.zIndex?b._lastSortedIndex-g._lastSortedIndex:b.zIndex-g.zIndex}var yi=function(b){Hl(g,b);function g(){var i=b.call(this)||this;return i.children=[],i.sortableChildren=An.SORTABLE_CHILDREN,i.sortDirty=!1,i}return g.prototype.onChildrenChange=function(i){},g.prototype.addChild=function(){for(var i=arguments,d=[],w=0;w<arguments.length;w++)d[w]=i[w];if(d.length>1)for(var f=0;f<d.length;f++)this.addChild(d[f]);else{var r=d[0];r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.push(r),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this)}return d[0]},g.prototype.addChildAt=function(i,d){if(d<0||d>this.children.length)throw new Error(i+"addChildAt: The index "+d+" supplied is out of bounds "+this.children.length);return i.parent&&i.parent.removeChild(i),i.parent=this,this.sortDirty=!0,i.transform._parentID=-1,this.children.splice(d,0,i),this._boundsID++,this.onChildrenChange(d),i.emit("added",this),this.emit("childAdded",i,this,d),i},g.prototype.swapChildren=function(i,d){if(i!==d){var w=this.getChildIndex(i),f=this.getChildIndex(d);this.children[w]=d,this.children[f]=i,this.onChildrenChange(w<f?w:f)}},g.prototype.getChildIndex=function(i){var d=this.children.indexOf(i);if(d===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return d},g.prototype.setChildIndex=function(i,d){if(d<0||d>=this.children.length)throw new Error("The index "+d+" supplied is out of bounds "+this.children.length);var w=this.getChildIndex(i);io(this.children,w,1),this.children.splice(d,0,i),this.onChildrenChange(d)},g.prototype.getChildAt=function(i){if(i<0||i>=this.children.length)throw new Error("getChildAt: Index ("+i+") does not exist.");return this.children[i]},g.prototype.removeChild=function(){for(var i=arguments,d=[],w=0;w<arguments.length;w++)d[w]=i[w];if(d.length>1)for(var f=0;f<d.length;f++)this.removeChild(d[f]);else{var r=d[0],t=this.children.indexOf(r);if(t===-1)return null;r.parent=null,r.transform._parentID=-1,io(this.children,t,1),this._boundsID++,this.onChildrenChange(t),r.emit("removed",this),this.emit("childRemoved",r,this,t)}return d[0]},g.prototype.removeChildAt=function(i){var d=this.getChildAt(i);return d.parent=null,d.transform._parentID=-1,io(this.children,i,1),this._boundsID++,this.onChildrenChange(i),d.emit("removed",this),this.emit("childRemoved",d,this,i),d},g.prototype.removeChildren=function(i,d){i===void 0&&(i=0),d===void 0&&(d=this.children.length);var w=i,f=d,r=f-w,t;if(r>0&&r<=f){t=this.children.splice(w,r);for(var n=0;n<t.length;++n)t[n].parent=null,t[n].transform&&(t[n].transform._parentID=-1);this._boundsID++,this.onChildrenChange(i);for(var n=0;n<t.length;++n)t[n].emit("removed",this),this.emit("childRemoved",t[n],this,n);return t}else if(r===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},g.prototype.sortChildren=function(){for(var i=!1,d=0,w=this.children.length;d<w;++d){var f=this.children[d];f._lastSortedIndex=d,!i&&f.zIndex!==0&&(i=!0)}i&&this.children.length>1&&this.children.sort(sd),this.sortDirty=!1},g.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var i=0,d=this.children.length;i<d;++i){var w=this.children[i];w.visible&&w.updateTransform()}},g.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var i=0;i<this.children.length;i++){var d=this.children[i];if(!(!d.visible||!d.renderable))if(d.calculateBounds(),d._mask){var w=d._mask.maskObject||d._mask;w.calculateBounds(),this._bounds.addBoundsMask(d._bounds,w._bounds)}else d.filterArea?this._bounds.addBoundsArea(d._bounds,d.filterArea):this._bounds.addBounds(d._bounds)}this._bounds.updateID=this._boundsID},g.prototype.getLocalBounds=function(i,d){d===void 0&&(d=!1);var w=b.prototype.getLocalBounds.call(this,i);if(!d)for(var f=0,r=this.children.length;f<r;++f){var t=this.children[f];t.visible&&t.updateTransform()}return w},g.prototype._calculateBounds=function(){},g.prototype.render=function(i){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(i);else{this._render(i);for(var d=0,w=this.children.length;d<w;++d)this.children[d].render(i)}},g.prototype.renderAdvanced=function(i){i.batch.flush();var d=this.filters,w=this._mask;if(d){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var f=0;f<d.length;f++)d[f].enabled&&this._enabledFilters.push(d[f]);this._enabledFilters.length&&i.filter.push(this,this._enabledFilters)}w&&i.mask.push(this,this._mask),this._render(i);for(var f=0,r=this.children.length;f<r;f++)this.children[f].render(i);i.batch.flush(),w&&i.mask.pop(this),d&&this._enabledFilters&&this._enabledFilters.length&&i.filter.pop()},g.prototype._render=function(i){},g.prototype.destroy=function(i){b.prototype.destroy.call(this),this.sortDirty=!1;var d=typeof i=="boolean"?i:i&&i.children,w=this.removeChildren(0,this.children.length);if(d)for(var f=0;f<w.length;++f)w[f].destroy(i)},Object.defineProperty(g.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(i){var d=this.getLocalBounds().width;d!==0?this.scale.x=i/d:this.scale.x=1,this._width=i},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(i){var d=this.getLocalBounds().height;d!==0?this.scale.y=i/d:this.scale.y=1,this._height=i},enumerable:!1,configurable:!0}),g}(Mr);yi.prototype.containerUpdateTransform=yi.prototype.updateTransform;/*!
 * @pixi/accessibility - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Ac={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Mr.mixin(Ac);var ld=9,Ra=100,ud=0,cd=0,wu=2,Su=1,hd=-1e3,fd=-1e3,dd=2,Pc=function(){function b(g){this._hookDiv=null,(ui.tablet||ui.phone)&&this.createTouchHook();var i=document.createElement("div");i.style.width=Ra+"px",i.style.height=Ra+"px",i.style.position="absolute",i.style.top=ud+"px",i.style.left=cd+"px",i.style.zIndex=wu.toString(),this.div=i,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=g,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._isActive=!1,this._isMobileAccessibility=!1,this.androidUpdateCount=0,this.androidUpdateFrequency=500,window.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(b.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),b.prototype.createTouchHook=function(){var g=this,i=document.createElement("button");i.style.width=Su+"px",i.style.height=Su+"px",i.style.position="absolute",i.style.top=hd+"px",i.style.left=fd+"px",i.style.zIndex=dd.toString(),i.style.backgroundColor="#FF0000",i.title="select to enable accessability for this content",i.addEventListener("focus",function(){g._isMobileAccessibility=!0,g.activate(),g.destroyTouchHook()}),document.body.appendChild(i),this._hookDiv=i},b.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},b.prototype.activate=function(){this._isActive||(this._isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},b.prototype.deactivate=function(){!this._isActive||this._isMobileAccessibility||(this._isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},b.prototype.updateAccessibleObjects=function(g){if(!(!g.visible||!g.accessibleChildren)){g.accessible&&g.interactive&&(g._accessibleActive||this.addChild(g),g.renderId=this.renderId);for(var i=g.children,d=0;d<i.length;d++)this.updateAccessibleObjects(i[d])}},b.prototype.update=function(){var g=performance.now();if(!(ui.android.device&&g<this.androidUpdateCount)&&(this.androidUpdateCount=g+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var i=this.renderer.view.getBoundingClientRect(),d=this.renderer.resolution,w=i.width/this.renderer.width*d,f=i.height/this.renderer.height*d,r=this.div;r.style.left=i.left+"px",r.style.top=i.top+"px",r.style.width=this.renderer.width+"px",r.style.height=this.renderer.height+"px";for(var t=0;t<this.children.length;t++){var n=this.children[t];if(n.renderId!==this.renderId)n._accessibleActive=!1,io(this.children,t,1),this.div.removeChild(n._accessibleDiv),this.pool.push(n._accessibleDiv),n._accessibleDiv=null,t--;else{r=n._accessibleDiv;var a=n.hitArea,l=n.worldTransform;n.hitArea?(r.style.left=(l.tx+a.x*l.a)*w+"px",r.style.top=(l.ty+a.y*l.d)*f+"px",r.style.width=a.width*l.a*w+"px",r.style.height=a.height*l.d*f+"px"):(a=n.getBounds(),this.capHitArea(a),r.style.left=a.x*w+"px",r.style.top=a.y*f+"px",r.style.width=a.width*w+"px",r.style.height=a.height*f+"px",r.title!==n.accessibleTitle&&n.accessibleTitle!==null&&(r.title=n.accessibleTitle),r.getAttribute("aria-label")!==n.accessibleHint&&n.accessibleHint!==null&&r.setAttribute("aria-label",n.accessibleHint)),(n.accessibleTitle!==r.title||n.tabIndex!==r.tabIndex)&&(r.title=n.accessibleTitle,r.tabIndex=n.tabIndex,this.debug&&this.updateDebugHTML(r))}}this.renderId++}},b.prototype.updateDebugHTML=function(g){g.innerHTML="type: "+g.type+"</br> title : "+g.title+"</br> tabIndex: "+g.tabIndex},b.prototype.capHitArea=function(g){g.x<0&&(g.width+=g.x,g.x=0),g.y<0&&(g.height+=g.y,g.y=0),g.x+g.width>this.renderer.width&&(g.width=this.renderer.width-g.x),g.y+g.height>this.renderer.height&&(g.height=this.renderer.height-g.y)},b.prototype.addChild=function(g){var i=this.pool.pop();i||(i=document.createElement("button"),i.style.width=Ra+"px",i.style.height=Ra+"px",i.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",i.style.position="absolute",i.style.zIndex=wu.toString(),i.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?i.setAttribute("aria-live","off"):i.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?i.setAttribute("aria-relevant","additions"):i.setAttribute("aria-relevant","text"),i.addEventListener("click",this._onClick.bind(this)),i.addEventListener("focus",this._onFocus.bind(this)),i.addEventListener("focusout",this._onFocusOut.bind(this))),i.style.pointerEvents=g.accessiblePointerEvents,i.type=g.accessibleType,g.accessibleTitle&&g.accessibleTitle!==null?i.title=g.accessibleTitle:(!g.accessibleHint||g.accessibleHint===null)&&(i.title="displayObject "+g.tabIndex),g.accessibleHint&&g.accessibleHint!==null&&i.setAttribute("aria-label",g.accessibleHint),this.debug&&this.updateDebugHTML(i),g._accessibleActive=!0,g._accessibleDiv=i,i.displayObject=g,this.children.push(g),this.div.appendChild(g._accessibleDiv),g._accessibleDiv.tabIndex=g.tabIndex},b.prototype._onClick=function(g){var i=this.renderer.plugins.interaction;i.dispatchEvent(g.target.displayObject,"click",i.eventData),i.dispatchEvent(g.target.displayObject,"pointertap",i.eventData),i.dispatchEvent(g.target.displayObject,"tap",i.eventData)},b.prototype._onFocus=function(g){g.target.getAttribute("aria-live")||g.target.setAttribute("aria-live","assertive");var i=this.renderer.plugins.interaction;i.dispatchEvent(g.target.displayObject,"mouseover",i.eventData)},b.prototype._onFocusOut=function(g){g.target.getAttribute("aria-live")||g.target.setAttribute("aria-live","polite");var i=this.renderer.plugins.interaction;i.dispatchEvent(g.target.displayObject,"mouseout",i.eventData)},b.prototype._onKeyDown=function(g){g.keyCode===ld&&this.activate()},b.prototype._onMouseMove=function(g){g.movementX===0&&g.movementY===0||this.deactivate()},b.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},b}();/*!
 * @pixi/ticker - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */An.TARGET_FPMS=.06;var Si;(function(b){b[b.INTERACTION=50]="INTERACTION",b[b.HIGH=25]="HIGH",b[b.NORMAL=0]="NORMAL",b[b.LOW=-25]="LOW",b[b.UTILITY=-50]="UTILITY"})(Si||(Si={}));var ks=function(){function b(g,i,d,w){i===void 0&&(i=null),d===void 0&&(d=0),w===void 0&&(w=!1),this.fn=g,this.context=i,this.priority=d,this.once=w,this.next=null,this.previous=null,this._destroyed=!1}return b.prototype.match=function(g,i){return i===void 0&&(i=null),this.fn===g&&this.context===i},b.prototype.emit=function(g){this.fn&&(this.context?this.fn.call(this.context,g):this.fn(g));var i=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),i},b.prototype.connect=function(g){this.previous=g,g.next&&(g.next.previous=this),this.next=g.next,g.next=this},b.prototype.destroy=function(g){g===void 0&&(g=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var i=this.next;return this.next=g?null:i,this.previous=null,i},b}(),Nr=function(){function b(){var g=this;this._head=new ks(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/An.TARGET_FPMS,this.elapsedMS=1/An.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(i){g._requestId=null,g.started&&(g.update(i),g.started&&g._requestId===null&&g._head.next&&(g._requestId=requestAnimationFrame(g._tick)))}}return b.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},b.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},b.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},b.prototype.add=function(g,i,d){return d===void 0&&(d=Si.NORMAL),this._addListener(new ks(g,i,d))},b.prototype.addOnce=function(g,i,d){return d===void 0&&(d=Si.NORMAL),this._addListener(new ks(g,i,d,!0))},b.prototype._addListener=function(g){var i=this._head.next,d=this._head;if(!i)g.connect(d);else{for(;i;){if(g.priority>i.priority){g.connect(d);break}d=i,i=i.next}g.previous||g.connect(d)}return this._startIfPossible(),this},b.prototype.remove=function(g,i){for(var d=this._head.next;d;)d.match(g,i)?d=d.destroy():d=d.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(b.prototype,"count",{get:function(){if(!this._head)return 0;for(var g=0,i=this._head;i=i.next;)g++;return g},enumerable:!1,configurable:!0}),b.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},b.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},b.prototype.destroy=function(){if(!this._protected){this.stop();for(var g=this._head.next;g;)g=g.destroy(!0);this._head.destroy(),this._head=null}},b.prototype.update=function(g){g===void 0&&(g=performance.now());var i;if(g>this.lastTime){if(i=this.elapsedMS=g-this.lastTime,i>this._maxElapsedMS&&(i=this._maxElapsedMS),i*=this.speed,this._minElapsedMS){var d=g-this._lastFrame|0;if(d<this._minElapsedMS)return;this._lastFrame=g-d%this._minElapsedMS}this.deltaMS=i,this.deltaTime=this.deltaMS*An.TARGET_FPMS;for(var w=this._head,f=w.next;f;)f=f.emit(this.deltaTime);w.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=g},Object.defineProperty(b.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(g){var i=Math.min(this.maxFPS,g),d=Math.min(Math.max(0,i)/1e3,An.TARGET_FPMS);this._maxElapsedMS=1/d},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(g){if(g===0)this._minElapsedMS=0;else{var i=Math.max(this.minFPS,g);this._minElapsedMS=1/(i/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(b,"shared",{get:function(){if(!b._shared){var g=b._shared=new b;g.autoStart=!0,g._protected=!0}return b._shared},enumerable:!1,configurable:!0}),Object.defineProperty(b,"system",{get:function(){if(!b._system){var g=b._system=new b;g.autoStart=!0,g._protected=!0}return b._system},enumerable:!1,configurable:!0}),b}(),Oc=function(){function b(){}return b.init=function(g){var i=this;g=Object.assign({autoStart:!0,sharedTicker:!1},g),Object.defineProperty(this,"ticker",{set:function(d){this._ticker&&this._ticker.remove(this.render,this),this._ticker=d,d&&d.add(this.render,this,Si.LOW)},get:function(){return this._ticker}}),this.stop=function(){i._ticker.stop()},this.start=function(){i._ticker.start()},this._ticker=null,this.ticker=g.sharedTicker?Nr.shared:new Nr,g.autoStart&&this.start()},b.destroy=function(){if(this._ticker){var g=this._ticker;this.ticker=null,g.destroy()}},b}();/*!
 * @pixi/interaction - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var tl=function(){function b(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new Dr,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(b.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),b.prototype.getLocalPosition=function(g,i,d){return g.worldTransform.applyInverse(d||this.global,i)},b.prototype.copyEvent=function(g){"isPrimary"in g&&g.isPrimary&&(this.isPrimary=!0),this.button="button"in g&&g.button;var i="buttons"in g&&g.buttons;this.buttons=Number.isInteger(i)?i:"which"in g&&g.which,this.width="width"in g&&g.width,this.height="height"in g&&g.height,this.tiltX="tiltX"in g&&g.tiltX,this.tiltY="tiltY"in g&&g.tiltY,this.pointerType="pointerType"in g&&g.pointerType,this.pressure="pressure"in g&&g.pressure,this.rotationAngle="rotationAngle"in g&&g.rotationAngle,this.twist="twist"in g&&g.twist||0,this.tangentialPressure="tangentialPressure"in g&&g.tangentialPressure||0},b.prototype.reset=function(){this.isPrimary=!1},b}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var el=function(b,g){return el=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,d){i.__proto__=d}||function(i,d){for(var w in d)d.hasOwnProperty(w)&&(i[w]=d[w])},el(b,g)};function pd(b,g){el(b,g);function i(){this.constructor=b}b.prototype=g===null?Object.create(g):(i.prototype=g.prototype,new i)}var Mc=function(){function b(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return b.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},b.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},b}(),Ga=function(){function b(g){this._pointerId=g,this._flags=b.FLAGS.NONE}return b.prototype._doSet=function(g,i){i?this._flags=this._flags|g:this._flags=this._flags&~g},Object.defineProperty(b.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"flags",{get:function(){return this._flags},set:function(g){this._flags=g},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"none",{get:function(){return this._flags===b.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"over",{get:function(){return(this._flags&b.FLAGS.OVER)!==0},set:function(g){this._doSet(b.FLAGS.OVER,g)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"rightDown",{get:function(){return(this._flags&b.FLAGS.RIGHT_DOWN)!==0},set:function(g){this._doSet(b.FLAGS.RIGHT_DOWN,g)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"leftDown",{get:function(){return(this._flags&b.FLAGS.LEFT_DOWN)!==0},set:function(g){this._doSet(b.FLAGS.LEFT_DOWN,g)},enumerable:!1,configurable:!0}),b.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),b}(),md=function(){function b(){this._tempPoint=new Dr}return b.prototype.recursiveFindHit=function(g,i,d,w,f){if(!i||!i.visible)return!1;var r=g.data.global;f=i.interactive||f;var t=!1,n=f,a=!0;if(i.hitArea?(w&&(i.worldTransform.applyInverse(r,this._tempPoint),i.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?t=!0:(w=!1,a=!1)),n=!1):i._mask&&w&&(i._mask.containsPoint&&i._mask.containsPoint(r)||(w=!1)),a&&i.interactiveChildren&&i.children)for(var l=i.children,e=l.length-1;e>=0;e--){var o=l[e],s=this.recursiveFindHit(g,o,d,w,n);if(s){if(!o.parent)continue;n=!1,s&&(g.target&&(w=!1),t=!0)}}return f&&(w&&!g.target&&!i.hitArea&&i.containsPoint&&i.containsPoint(r)&&(t=!0),i.interactive&&(t&&!g.target&&(g.target=i),d&&d(g,i,!!t))),t},b.prototype.findHit=function(g,i,d,w){this.recursiveFindHit(g,i,d,w,!1)},b}(),Ic={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(b){b?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Mr.mixin(Ic);var La=1,Na={target:null,data:{global:null}},Rc=function(b){pd(g,b);function g(i,d){var w=b.call(this)||this;return d=d||{},w.renderer=i,w.autoPreventDefault=d.autoPreventDefault!==void 0?d.autoPreventDefault:!0,w.interactionFrequency=d.interactionFrequency||10,w.mouse=new tl,w.mouse.identifier=La,w.mouse.global.set(-999999),w.activeInteractionData={},w.activeInteractionData[La]=w.mouse,w.interactionDataPool=[],w.eventData=new Mc,w.interactionDOMElement=null,w.moveWhenInside=!1,w.eventsAdded=!1,w.tickerAdded=!1,w.mouseOverRenderer=!1,w.supportsTouchEvents="ontouchstart"in window,w.supportsPointerEvents=!!window.PointerEvent,w.onPointerUp=w.onPointerUp.bind(w),w.processPointerUp=w.processPointerUp.bind(w),w.onPointerCancel=w.onPointerCancel.bind(w),w.processPointerCancel=w.processPointerCancel.bind(w),w.onPointerDown=w.onPointerDown.bind(w),w.processPointerDown=w.processPointerDown.bind(w),w.onPointerMove=w.onPointerMove.bind(w),w.processPointerMove=w.processPointerMove.bind(w),w.onPointerOut=w.onPointerOut.bind(w),w.processPointerOverOut=w.processPointerOverOut.bind(w),w.onPointerOver=w.onPointerOver.bind(w),w.cursorStyles={default:"inherit",pointer:"pointer"},w.currentCursorMode=null,w.cursor=null,w.resolution=1,w.delayedEvents=[],w.search=new md,w._tempDisplayObject=new Bl,w._useSystemTicker=d.useSystemTicker!==void 0?d.useSystemTicker:!0,w.setTargetElement(w.renderer.view,w.renderer.resolution),w}return Object.defineProperty(g.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(i){this._useSystemTicker=i,i?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),g.prototype.hitTest=function(i,d){return Na.target=null,Na.data.global=i,d||(d=this.lastObjectRendered),this.processInteractive(Na,d,null,!0),Na.target},g.prototype.setTargetElement=function(i,d){d===void 0&&(d=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=i,this.resolution=d,this.addEvents(),this.addTickerListener()},g.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(Nr.system.add(this.tickerUpdate,this,Si.INTERACTION),this.tickerAdded=!0)},g.prototype.removeTickerListener=function(){this.tickerAdded&&(Nr.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},g.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var i=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(i.msContentZooming="none",i.msTouchAction="none"):this.supportsPointerEvents&&(i.touchAction="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0}},g.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var i=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(i.msContentZooming="",i.msTouchAction=""):this.supportsPointerEvents&&(i.touchAction=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1}},g.prototype.tickerUpdate=function(i){this._deltaTime+=i,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},g.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var i in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(i)){var d=this.activeInteractionData[i];if(d.originalEvent&&d.pointerType!=="touch"){var w=this.configureInteractionEventForDOMEvent(this.eventData,d.originalEvent,d);this.processInteractive(w,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},g.prototype.setCursorMode=function(i){if(i=i||"default",this.currentCursorMode!==i){this.currentCursorMode=i;var d=this.cursorStyles[i];if(d)switch(typeof d){case"string":this.interactionDOMElement.style.cursor=d;break;case"function":d(i);break;case"object":Object.assign(this.interactionDOMElement.style,d);break}else typeof i=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,i)&&(this.interactionDOMElement.style.cursor=i)}},g.prototype.dispatchEvent=function(i,d,w){(!w.stopPropagationHint||i===w.stopsPropagatingAt)&&(w.currentTarget=i,w.type=d,i.emit(d,w),i[d]&&i[d](w))},g.prototype.delayDispatchEvent=function(i,d,w){this.delayedEvents.push({displayObject:i,eventString:d,eventData:w})},g.prototype.mapPositionToPoint=function(i,d,w){var f;this.interactionDOMElement.parentElement?f=this.interactionDOMElement.getBoundingClientRect():f={x:0,y:0,width:0,height:0};var r=1/this.resolution;i.x=(d-f.left)*(this.interactionDOMElement.width/f.width)*r,i.y=(w-f.top)*(this.interactionDOMElement.height/f.height)*r},g.prototype.processInteractive=function(i,d,w,f){var r=this.search.findHit(i,d,w,f),t=this.delayedEvents;if(!t.length)return r;i.stopPropagationHint=!1;var n=t.length;this.delayedEvents=[];for(var a=0;a<n;a++){var l=t[a],e=l.displayObject,o=l.eventString,s=l.eventData;s.stopsPropagatingAt===e&&(s.stopPropagationHint=!0),this.dispatchEvent(e,o,s)}return r},g.prototype.onPointerDown=function(i){if(!(this.supportsTouchEvents&&i.pointerType==="touch")){var d=this.normalizeToPointerData(i);if(this.autoPreventDefault&&d[0].isNormalized){var w=i.cancelable||!("cancelable"in i);w&&i.preventDefault()}for(var f=d.length,r=0;r<f;r++){var t=d[r],n=this.getInteractionDataForPointerId(t),a=this.configureInteractionEventForDOMEvent(this.eventData,t,n);if(a.data.originalEvent=i,this.processInteractive(a,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",a),t.pointerType==="touch")this.emit("touchstart",a);else if(t.pointerType==="mouse"||t.pointerType==="pen"){var l=t.button===2;this.emit(l?"rightdown":"mousedown",this.eventData)}}}},g.prototype.processPointerDown=function(i,d,w){var f=i.data,r=i.data.identifier;if(w){if(d.trackedPointers[r]||(d.trackedPointers[r]=new Ga(r)),this.dispatchEvent(d,"pointerdown",i),f.pointerType==="touch")this.dispatchEvent(d,"touchstart",i);else if(f.pointerType==="mouse"||f.pointerType==="pen"){var t=f.button===2;t?d.trackedPointers[r].rightDown=!0:d.trackedPointers[r].leftDown=!0,this.dispatchEvent(d,t?"rightdown":"mousedown",i)}}},g.prototype.onPointerComplete=function(i,d,w){for(var f=this.normalizeToPointerData(i),r=f.length,t=i.target!==this.interactionDOMElement?"outside":"",n=0;n<r;n++){var a=f[n],l=this.getInteractionDataForPointerId(a),e=this.configureInteractionEventForDOMEvent(this.eventData,a,l);if(e.data.originalEvent=i,this.processInteractive(e,this.lastObjectRendered,w,d||!t),this.emit(d?"pointercancel":"pointerup"+t,e),a.pointerType==="mouse"||a.pointerType==="pen"){var o=a.button===2;this.emit(o?"rightup"+t:"mouseup"+t,e)}else a.pointerType==="touch"&&(this.emit(d?"touchcancel":"touchend"+t,e),this.releaseInteractionDataForPointerId(a.pointerId))}},g.prototype.onPointerCancel=function(i){this.supportsTouchEvents&&i.pointerType==="touch"||this.onPointerComplete(i,!0,this.processPointerCancel)},g.prototype.processPointerCancel=function(i,d){var w=i.data,f=i.data.identifier;d.trackedPointers[f]!==void 0&&(delete d.trackedPointers[f],this.dispatchEvent(d,"pointercancel",i),w.pointerType==="touch"&&this.dispatchEvent(d,"touchcancel",i))},g.prototype.onPointerUp=function(i){this.supportsTouchEvents&&i.pointerType==="touch"||this.onPointerComplete(i,!1,this.processPointerUp)},g.prototype.processPointerUp=function(i,d,w){var f=i.data,r=i.data.identifier,t=d.trackedPointers[r],n=f.pointerType==="touch",a=f.pointerType==="mouse"||f.pointerType==="pen",l=!1;if(a){var e=f.button===2,o=Ga.FLAGS,s=e?o.RIGHT_DOWN:o.LEFT_DOWN,u=t!==void 0&&t.flags&s;w?(this.dispatchEvent(d,e?"rightup":"mouseup",i),u&&(this.dispatchEvent(d,e?"rightclick":"click",i),l=!0)):u&&this.dispatchEvent(d,e?"rightupoutside":"mouseupoutside",i),t&&(e?t.rightDown=!1:t.leftDown=!1)}w?(this.dispatchEvent(d,"pointerup",i),n&&this.dispatchEvent(d,"touchend",i),t&&((!a||l)&&this.dispatchEvent(d,"pointertap",i),n&&(this.dispatchEvent(d,"tap",i),t.over=!1))):t&&(this.dispatchEvent(d,"pointerupoutside",i),n&&this.dispatchEvent(d,"touchendoutside",i)),t&&t.none&&delete d.trackedPointers[r]},g.prototype.onPointerMove=function(i){if(!(this.supportsTouchEvents&&i.pointerType==="touch")){var d=this.normalizeToPointerData(i);(d[0].pointerType==="mouse"||d[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var w=d.length,f=0;f<w;f++){var r=d[f],t=this.getInteractionDataForPointerId(r),n=this.configureInteractionEventForDOMEvent(this.eventData,r,t);n.data.originalEvent=i,this.processInteractive(n,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",n),r.pointerType==="touch"&&this.emit("touchmove",n),(r.pointerType==="mouse"||r.pointerType==="pen")&&this.emit("mousemove",n)}d[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},g.prototype.processPointerMove=function(i,d,w){var f=i.data,r=f.pointerType==="touch",t=f.pointerType==="mouse"||f.pointerType==="pen";t&&this.processPointerOverOut(i,d,w),(!this.moveWhenInside||w)&&(this.dispatchEvent(d,"pointermove",i),r&&this.dispatchEvent(d,"touchmove",i),t&&this.dispatchEvent(d,"mousemove",i))},g.prototype.onPointerOut=function(i){if(!(this.supportsTouchEvents&&i.pointerType==="touch")){var d=this.normalizeToPointerData(i),w=d[0];w.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var f=this.getInteractionDataForPointerId(w),r=this.configureInteractionEventForDOMEvent(this.eventData,w,f);r.data.originalEvent=w,this.processInteractive(r,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",r),w.pointerType==="mouse"||w.pointerType==="pen"?this.emit("mouseout",r):this.releaseInteractionDataForPointerId(f.identifier)}},g.prototype.processPointerOverOut=function(i,d,w){var f=i.data,r=i.data.identifier,t=f.pointerType==="mouse"||f.pointerType==="pen",n=d.trackedPointers[r];w&&!n&&(n=d.trackedPointers[r]=new Ga(r)),n!==void 0&&(w&&this.mouseOverRenderer?(n.over||(n.over=!0,this.delayDispatchEvent(d,"pointerover",i),t&&this.delayDispatchEvent(d,"mouseover",i)),t&&this.cursor===null&&(this.cursor=d.cursor)):n.over&&(n.over=!1,this.dispatchEvent(d,"pointerout",this.eventData),t&&this.dispatchEvent(d,"mouseout",i),n.none&&delete d.trackedPointers[r]))},g.prototype.onPointerOver=function(i){var d=this.normalizeToPointerData(i),w=d[0],f=this.getInteractionDataForPointerId(w),r=this.configureInteractionEventForDOMEvent(this.eventData,w,f);r.data.originalEvent=w,w.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",r),(w.pointerType==="mouse"||w.pointerType==="pen")&&this.emit("mouseover",r)},g.prototype.getInteractionDataForPointerId=function(i){var d=i.pointerId,w;return d===La||i.pointerType==="mouse"?w=this.mouse:this.activeInteractionData[d]?w=this.activeInteractionData[d]:(w=this.interactionDataPool.pop()||new tl,w.identifier=d,this.activeInteractionData[d]=w),w.copyEvent(i),w},g.prototype.releaseInteractionDataForPointerId=function(i){var d=this.activeInteractionData[i];d&&(delete this.activeInteractionData[i],d.reset(),this.interactionDataPool.push(d))},g.prototype.configureInteractionEventForDOMEvent=function(i,d,w){return i.data=w,this.mapPositionToPoint(w.global,d.clientX,d.clientY),d.pointerType==="touch"&&(d.globalX=w.global.x,d.globalY=w.global.y),w.originalEvent=d,i.reset(),i},g.prototype.normalizeToPointerData=function(i){var d=[];if(this.supportsTouchEvents&&i instanceof TouchEvent)for(var w=0,f=i.changedTouches.length;w<f;w++){var r=i.changedTouches[w];typeof r.button>"u"&&(r.button=i.touches.length?1:0),typeof r.buttons>"u"&&(r.buttons=i.touches.length?1:0),typeof r.isPrimary>"u"&&(r.isPrimary=i.touches.length===1&&i.type==="touchstart"),typeof r.width>"u"&&(r.width=r.radiusX||1),typeof r.height>"u"&&(r.height=r.radiusY||1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="touch"),typeof r.pointerId>"u"&&(r.pointerId=r.identifier||0),typeof r.pressure>"u"&&(r.pressure=r.force||.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),typeof r.layerX>"u"&&(r.layerX=r.offsetX=r.clientX),typeof r.layerY>"u"&&(r.layerY=r.offsetY=r.clientY),r.isNormalized=!0,d.push(r)}else if(i instanceof MouseEvent&&(!this.supportsPointerEvents||!(i instanceof window.PointerEvent))){var t=i;typeof t.isPrimary>"u"&&(t.isPrimary=!0),typeof t.width>"u"&&(t.width=1),typeof t.height>"u"&&(t.height=1),typeof t.tiltX>"u"&&(t.tiltX=0),typeof t.tiltY>"u"&&(t.tiltY=0),typeof t.pointerType>"u"&&(t.pointerType="mouse"),typeof t.pointerId>"u"&&(t.pointerId=La),typeof t.pressure>"u"&&(t.pressure=.5),typeof t.twist>"u"&&(t.twist=0),typeof t.tangentialPressure>"u"&&(t.tangentialPressure=0),t.isNormalized=!0,d.push(t)}else d.push(i);return d},g.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},g}(No);/*!
 * @pixi/runner - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Xr=function(){function b(g){this.items=[],this._name=g,this._aliasCount=0}return b.prototype.emit=function(g,i,d,w,f,r,t,n){if(arguments.length>8)throw new Error("max arguments reached");var a=this,l=a.name,e=a.items;this._aliasCount++;for(var o=0,s=e.length;o<s;o++)e[o][l](g,i,d,w,f,r,t,n);return e===this.items&&this._aliasCount--,this},b.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},b.prototype.add=function(g){return g[this._name]&&(this.ensureNonAliasedItems(),this.remove(g),this.items.push(g)),this},b.prototype.remove=function(g){var i=this.items.indexOf(g);return i!==-1&&(this.ensureNonAliasedItems(),this.items.splice(i,1)),this},b.prototype.contains=function(g){return this.items.indexOf(g)!==-1},b.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},b.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(b.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),b}();Object.defineProperties(Xr.prototype,{dispatch:{value:Xr.prototype.emit},run:{value:Xr.prototype.emit}});/*!
 * @pixi/core - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */An.PREFER_ENV=ui.any?wi.WEBGL:wi.WEBGL2;An.STRICT_TEXTURE_CACHE=!1;var Za=[];function Fl(b,g){if(!b)return null;var i="";if(typeof b=="string"){var d=/\.(\w{3,4})(?:$|\?|#)/i.exec(b);d&&(i=d[1].toLowerCase())}for(var w=Za.length-1;w>=0;--w){var f=Za[w];if(f.test&&f.test(b,i))return new f(b,g)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var nl=function(b,g){return nl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,d){i.__proto__=d}||function(i,d){for(var w in d)d.hasOwnProperty(w)&&(i[w]=d[w])},nl(b,g)};function Xn(b,g){nl(b,g);function i(){this.constructor=b}b.prototype=g===null?Object.create(g):(i.prototype=g.prototype,new i)}var Mo=function(){function b(g,i){g===void 0&&(g=0),i===void 0&&(i=0),this._width=g,this._height=i,this.destroyed=!1,this.internal=!1,this.onResize=new Xr("setRealSize"),this.onUpdate=new Xr("update"),this.onError=new Xr("onError")}return b.prototype.bind=function(g){this.onResize.add(g),this.onUpdate.add(g),this.onError.add(g),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},b.prototype.unbind=function(g){this.onResize.remove(g),this.onUpdate.remove(g),this.onError.remove(g)},b.prototype.resize=function(g,i){(g!==this._width||i!==this._height)&&(this._width=g,this._height=i,this.onResize.emit(g,i))},Object.defineProperty(b.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),b.prototype.update=function(){this.destroyed||this.onUpdate.emit()},b.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(b.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),b.prototype.style=function(g,i,d){return!1},b.prototype.dispose=function(){},b.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},b.test=function(g,i){return!1},b}(),ns=function(b){Xn(g,b);function g(i,d){var w=this,f=d||{},r=f.width,t=f.height;if(!r||!t)throw new Error("BufferResource width or height invalid");return w=b.call(this,r,t)||this,w.data=i,w}return g.prototype.upload=function(i,d,w){var f=i.gl;return f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,d.alphaMode===Li.UNPACK),w.width===d.width&&w.height===d.height?f.texSubImage2D(d.target,0,0,0,d.width,d.height,d.format,d.type,this.data):(w.width=d.width,w.height=d.height,f.texImage2D(d.target,0,w.internalFormat,d.width,d.height,0,d.format,w.type,this.data)),!0},g.prototype.dispose=function(){this.data=null},g.test=function(i){return i instanceof Float32Array||i instanceof Uint8Array||i instanceof Uint32Array},g}(Mo),gd={scaleMode:xi.NEAREST,format:Ao.RGBA,alphaMode:Li.NPM},yr=function(b){Xn(g,b);function g(i,d){i===void 0&&(i=null),d===void 0&&(d=null);var w=b.call(this)||this;d=d||{};var f=d.alphaMode,r=d.mipmap,t=d.anisotropicLevel,n=d.scaleMode,a=d.width,l=d.height,e=d.wrapMode,o=d.format,s=d.type,u=d.target,c=d.resolution,m=d.resourceOptions;return i&&!(i instanceof Mo)&&(i=Fl(i,m),i.internal=!0),w.width=a||0,w.height=l||0,w.resolution=c||An.RESOLUTION,w.mipmap=r!==void 0?r:An.MIPMAP_TEXTURES,w.anisotropicLevel=t!==void 0?t:An.ANISOTROPIC_LEVEL,w.wrapMode=e||An.WRAP_MODE,w.scaleMode=n!==void 0?n:An.SCALE_MODE,w.format=o||Ao.RGBA,w.type=s||Pr.UNSIGNED_BYTE,w.target=u||zi.TEXTURE_2D,w.alphaMode=f!==void 0?f:Li.UNPACK,d.premultiplyAlpha!==void 0&&(w.premultiplyAlpha=d.premultiplyAlpha),w.uid=so(),w.touched=0,w.isPowerOfTwo=!1,w._refreshPOT(),w._glTextures={},w.dirtyId=0,w.dirtyStyleId=0,w.cacheId=null,w.valid=a>0&&l>0,w.textureCacheIds=[],w.destroyed=!1,w.resource=null,w._batchEnabled=0,w._batchLocation=0,w.parentTextureArray=null,w.setResource(i),w}return Object.defineProperty(g.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),g.prototype.setStyle=function(i,d){var w;return i!==void 0&&i!==this.scaleMode&&(this.scaleMode=i,w=!0),d!==void 0&&d!==this.mipmap&&(this.mipmap=d,w=!0),w&&this.dirtyStyleId++,this},g.prototype.setSize=function(i,d,w){return this.resolution=w||this.resolution,this.width=i,this.height=d,this._refreshPOT(),this.update(),this},g.prototype.setRealSize=function(i,d,w){return this.resolution=w||this.resolution,this.width=i/this.resolution,this.height=d/this.resolution,this._refreshPOT(),this.update(),this},g.prototype._refreshPOT=function(){this.isPowerOfTwo=Ys(this.realWidth)&&Ys(this.realHeight)},g.prototype.setResolution=function(i){var d=this.resolution;return d===i?this:(this.resolution=i,this.valid&&(this.width=this.width*d/i,this.height=this.height*d/i,this.emit("update",this)),this._refreshPOT(),this)},g.prototype.setResource=function(i){if(this.resource===i)return this;if(this.resource)throw new Error("Resource can be set only once");return i.bind(this),this.resource=i,this},g.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},g.prototype.onError=function(i){this.emit("error",this,i)},g.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete li[this.cacheId],delete ni[this.cacheId],this.cacheId=null),this.dispose(),g.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},g.prototype.dispose=function(){this.emit("dispose",this)},g.prototype.castToBaseTexture=function(){return this},g.from=function(i,d,w){w===void 0&&(w=An.STRICT_TEXTURE_CACHE);var f=typeof i=="string",r=null;f?r=i:(i._pixiId||(i._pixiId="pixiid_"+so()),r=i._pixiId);var t=li[r];if(f&&w&&!t)throw new Error('The cacheId "'+r+'" does not exist in BaseTextureCache.');return t||(t=new g(i,d),t.cacheId=r,g.addToCache(t,r)),t},g.fromBuffer=function(i,d,w,f){i=i||new Float32Array(d*w*4);var r=new ns(i,{width:d,height:w}),t=i instanceof Float32Array?Pr.FLOAT:Pr.UNSIGNED_BYTE;return new g(r,Object.assign(gd,f||{width:d,height:w,type:t}))},g.addToCache=function(i,d){d&&(i.textureCacheIds.indexOf(d)===-1&&i.textureCacheIds.push(d),li[d]&&console.warn("BaseTexture added to the cache with an id ["+d+"] that already had an entry"),li[d]=i)},g.removeFromCache=function(i){if(typeof i=="string"){var d=li[i];if(d){var w=d.textureCacheIds.indexOf(i);return w>-1&&d.textureCacheIds.splice(w,1),delete li[i],d}}else if(i&&i.textureCacheIds){for(var f=0;f<i.textureCacheIds.length;++f)delete li[i.textureCacheIds[f]];return i.textureCacheIds.length=0,i}return null},g._globalBatch=0,g}(No),zl=function(b){Xn(g,b);function g(i,d){var w=this,f=d||{},r=f.width,t=f.height;w=b.call(this,r,t)||this,w.items=[],w.itemDirtyIds=[];for(var n=0;n<i;n++){var a=new yr;w.items.push(a),w.itemDirtyIds.push(-2)}return w.length=i,w._load=null,w.baseTexture=null,w}return g.prototype.initFromArray=function(i,d){for(var w=0;w<this.length;w++)i[w]&&(i[w].castToBaseTexture?this.addBaseTextureAt(i[w].castToBaseTexture(),w):i[w]instanceof Mo?this.addResourceAt(i[w],w):this.addResourceAt(Fl(i[w],d),w))},g.prototype.dispose=function(){for(var i=0,d=this.length;i<d;i++)this.items[i].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},g.prototype.addResourceAt=function(i,d){if(!this.items[d])throw new Error("Index "+d+" is out of bounds");return i.valid&&!this.valid&&this.resize(i.width,i.height),this.items[d].setResource(i),this},g.prototype.bind=function(i){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");b.prototype.bind.call(this,i);for(var d=0;d<this.length;d++)this.items[d].parentTextureArray=i,this.items[d].on("update",i.update,i)},g.prototype.unbind=function(i){b.prototype.unbind.call(this,i);for(var d=0;d<this.length;d++)this.items[d].parentTextureArray=null,this.items[d].off("update",i.update,i)},g.prototype.load=function(){var i=this;if(this._load)return this._load;var d=this.items.map(function(f){return f.resource}).filter(function(f){return f}),w=d.map(function(f){return f.load()});return this._load=Promise.all(w).then(function(){var f=i.items[0],r=f.realWidth,t=f.realHeight;return i.resize(r,t),Promise.resolve(i)}),this._load},g}(Mo),Lc=function(b){Xn(g,b);function g(i,d){var w=this,f=d||{},r=f.width,t=f.height,n,a;return Array.isArray(i)?(n=i,a=i.length):a=i,w=b.call(this,a,{width:r,height:t})||this,n&&w.initFromArray(n,d),w}return g.prototype.addBaseTextureAt=function(i,d){if(i.resource)this.addResourceAt(i.resource,d);else throw new Error("ArrayResource does not support RenderTexture");return this},g.prototype.bind=function(i){b.prototype.bind.call(this,i),i.target=zi.TEXTURE_2D_ARRAY},g.prototype.upload=function(i,d,w){var f=this,r=f.length,t=f.itemDirtyIds,n=f.items,a=i.gl;w.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,d.format,this._width,this._height,r,0,d.format,d.type,null);for(var l=0;l<r;l++){var e=n[l];t[l]<e.dirtyId&&(t[l]=e.dirtyId,e.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,l,e.resource.width,e.resource.height,1,d.format,d.type,e.resource.source))}return!0},g}(zl),Ni=function(b){Xn(g,b);function g(i){var d=this,w=i,f=w.naturalWidth||w.videoWidth||w.width,r=w.naturalHeight||w.videoHeight||w.height;return d=b.call(this,f,r)||this,d.source=i,d.noSubImage=!1,d}return g.crossOrigin=function(i,d,w){w===void 0&&d.indexOf("data:")!==0?i.crossOrigin=xc(d):w!==!1&&(i.crossOrigin=typeof w=="string"?w:"anonymous")},g.prototype.upload=function(i,d,w,f){var r=i.gl,t=d.realWidth,n=d.realHeight;return f=f||this.source,r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,d.alphaMode===Li.UNPACK),!this.noSubImage&&d.target===r.TEXTURE_2D&&w.width===t&&w.height===n?r.texSubImage2D(r.TEXTURE_2D,0,0,0,d.format,d.type,f):(w.width=t,w.height=n,r.texImage2D(d.target,0,d.format,d.format,d.type,f)),!0},g.prototype.update=function(){if(!this.destroyed){var i=this.source,d=i.naturalWidth||i.videoWidth||i.width,w=i.naturalHeight||i.videoHeight||i.height;this.resize(d,w),b.prototype.update.call(this)}},g.prototype.dispose=function(){this.source=null},g}(Mo),Ul=function(b){Xn(g,b);function g(){return b!==null&&b.apply(this,arguments)||this}return g.test=function(i){var d=window.OffscreenCanvas;return d&&i instanceof d?!0:i instanceof HTMLCanvasElement},g}(Ni),Nc=function(b){Xn(g,b);function g(i,d){var w=this,f=d||{},r=f.width,t=f.height,n=f.autoLoad,a=f.linkBaseTexture;if(i&&i.length!==g.SIDES)throw new Error("Invalid length. Got "+i.length+", expected 6");w=b.call(this,6,{width:r,height:t})||this;for(var l=0;l<g.SIDES;l++)w.items[l].target=zi.TEXTURE_CUBE_MAP_POSITIVE_X+l;return w.linkBaseTexture=a!==!1,i&&w.initFromArray(i,d),n!==!1&&w.load(),w}return g.prototype.bind=function(i){b.prototype.bind.call(this,i),i.target=zi.TEXTURE_CUBE_MAP},g.prototype.addBaseTextureAt=function(i,d,w){if(w===void 0&&(w=this.linkBaseTexture),!this.items[d])throw new Error("Index "+d+" is out of bounds");if(!this.linkBaseTexture||i.parentTextureArray||Object.keys(i._glTextures).length>0)if(i.resource)this.addResourceAt(i.resource,d);else throw new Error("CubeResource does not support copying of renderTexture.");else i.target=zi.TEXTURE_CUBE_MAP_POSITIVE_X+d,i.parentTextureArray=this.baseTexture,this.items[d]=i;return i.valid&&!this.valid&&this.resize(i.realWidth,i.realHeight),this.items[d]=i,this},g.prototype.upload=function(i,d,w){for(var f=this.itemDirtyIds,r=0;r<g.SIDES;r++){var t=this.items[r];f[r]<t.dirtyId&&(t.valid&&t.resource?(t.resource.upload(i,t,w),f[r]=t.dirtyId):f[r]<-1&&(i.gl.texImage2D(t.target,0,w.internalFormat,d.realWidth,d.realHeight,0,d.format,w.type,null),f[r]=-1))}return!0},g.test=function(i){return Array.isArray(i)&&i.length===g.SIDES},g.SIDES=6,g}(zl),Vl=function(b){Xn(g,b);function g(i,d){var w=this;if(d=d||{},!(i instanceof HTMLImageElement)){var f=new Image;Ni.crossOrigin(f,i,d.crossorigin),f.src=i,i=f}return w=b.call(this,i)||this,!i.complete&&w._width&&w._height&&(w._width=0,w._height=0),w.url=i.src,w._process=null,w.preserveBitmap=!1,w.createBitmap=(d.createBitmap!==void 0?d.createBitmap:An.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,w.alphaMode=typeof d.alphaMode=="number"?d.alphaMode:null,d.premultiplyAlpha!==void 0&&(w.premultiplyAlpha=d.premultiplyAlpha),w.bitmap=null,w._load=null,d.autoLoad!==!1&&w.load(),w}return g.prototype.load=function(i){var d=this;return this._load?this._load:(i!==void 0&&(this.createBitmap=i),this._load=new Promise(function(w,f){var r=d.source;d.url=r.src;var t=function(){d.destroyed||(r.onload=null,r.onerror=null,d.resize(r.width,r.height),d._load=null,d.createBitmap?w(d.process()):w(d))};r.complete&&r.src?t():(r.onload=t,r.onerror=function(n){f(n),d.onError.emit(n)})}),this._load)},g.prototype.process=function(){var i=this,d=this.source;return this._process!==null?this._process:this.bitmap!==null||!window.createImageBitmap?Promise.resolve(this):(this._process=window.createImageBitmap(d,0,0,d.width,d.height,{premultiplyAlpha:this.alphaMode===Li.UNPACK?"premultiply":"none"}).then(function(w){return i.destroyed?Promise.reject():(i.bitmap=w,i.update(),i._process=null,Promise.resolve(i))}),this._process)},g.prototype.upload=function(i,d,w){if(typeof this.alphaMode=="number"&&(d.alphaMode=this.alphaMode),!this.createBitmap)return b.prototype.upload.call(this,i,d,w);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(b.prototype.upload.call(this,i,d,w,this.bitmap),!this.preserveBitmap){var f=!0,r=d._glTextures;for(var t in r){var n=r[t];if(n!==w&&n.dirtyId!==d.dirtyId){f=!1;break}}f&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},g.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,b.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},g.test=function(i){return typeof i=="string"||i instanceof HTMLImageElement},g}(Ni),Dc=function(b){Xn(g,b);function g(i,d){var w=this;return d=d||{},w=b.call(this,document.createElement("canvas"))||this,w._width=0,w._height=0,w.svg=i,w.scale=d.scale||1,w._overrideWidth=d.width,w._overrideHeight=d.height,w._resolve=null,w._crossorigin=d.crossorigin,w._load=null,d.autoLoad!==!1&&w.load(),w}return g.prototype.load=function(){var i=this;return this._load?this._load:(this._load=new Promise(function(d){if(i._resolve=function(){i.resize(i.source.width,i.source.height),d(i)},/^\<svg/.test(i.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");i.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(i.svg)))}i._loadSvg()}),this._load)},g.prototype._loadSvg=function(){var i=this,d=new Image;Ni.crossOrigin(d,this.svg,this._crossorigin),d.src=this.svg,d.onerror=function(w){i._resolve&&(d.onerror=null,i.onError.emit(w))},d.onload=function(){if(i._resolve){var w=d.width,f=d.height;if(!w||!f)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var r=w*i.scale,t=f*i.scale;(i._overrideWidth||i._overrideHeight)&&(r=i._overrideWidth||i._overrideHeight/f*w,t=i._overrideHeight||i._overrideWidth/w*f),r=Math.round(r),t=Math.round(t);var n=i.source;n.width=r,n.height=t,n._pixiId="canvas_"+so(),n.getContext("2d").drawImage(d,0,0,w,f,0,0,r,t),i._resolve(),i._resolve=null}}},g.getSize=function(i){var d=g.SVG_SIZE.exec(i),w={};return d&&(w[d[1]]=Math.round(parseFloat(d[3])),w[d[5]]=Math.round(parseFloat(d[7]))),w},g.prototype.dispose=function(){b.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},g.test=function(i,d){return d==="svg"||typeof i=="string"&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(i)||typeof i=="string"&&i.indexOf("<svg")===0},g.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,g}(Ni),jc=function(b){Xn(g,b);function g(i,d){var w=this;if(d=d||{},!(i instanceof HTMLVideoElement)){var f=document.createElement("video");f.setAttribute("preload","auto"),f.setAttribute("webkit-playsinline",""),f.setAttribute("playsinline",""),typeof i=="string"&&(i=[i]);var r=i[0].src||i[0];Ni.crossOrigin(f,r,d.crossorigin);for(var t=0;t<i.length;++t){var n=document.createElement("source"),a=i[t],l=a.src,e=a.mime;l=l||i[t];var o=l.split("?").shift().toLowerCase(),s=o.substr(o.lastIndexOf(".")+1);e=e||g.MIME_TYPES[s]||"video/"+s,n.src=l,n.type=e,f.appendChild(n)}i=f}return w=b.call(this,i)||this,w.noSubImage=!0,w._autoUpdate=!0,w._isConnectedToTicker=!1,w._updateFPS=d.updateFPS||0,w._msToNextUpdate=0,w.autoPlay=d.autoPlay!==!1,w._load=null,w._resolve=null,w._onCanPlay=w._onCanPlay.bind(w),w._onError=w._onError.bind(w),d.autoLoad!==!1&&w.load(),w}return g.prototype.update=function(i){if(!this.destroyed){var d=Nr.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-d),(!this._updateFPS||this._msToNextUpdate<=0)&&(b.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},g.prototype.load=function(){var i=this;if(this._load)return this._load;var d=this.source;return(d.readyState===d.HAVE_ENOUGH_DATA||d.readyState===d.HAVE_FUTURE_DATA)&&d.width&&d.height&&(d.complete=!0),d.addEventListener("play",this._onPlayStart.bind(this)),d.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(d.addEventListener("canplay",this._onCanPlay),d.addEventListener("canplaythrough",this._onCanPlay),d.addEventListener("error",this._onError,!0)),this._load=new Promise(function(w){i.valid?w(i):(i._resolve=w,d.load())}),this._load},g.prototype._onError=function(i){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(i)},g.prototype._isSourcePlaying=function(){var i=this.source;return i.currentTime>0&&i.paused===!1&&i.ended===!1&&i.readyState>2},g.prototype._isSourceReady=function(){var i=this.source;return i.readyState===3||i.readyState===4},g.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Nr.shared.add(this.update,this),this._isConnectedToTicker=!0)},g.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Nr.shared.remove(this.update,this),this._isConnectedToTicker=!1)},g.prototype._onCanPlay=function(){var i=this.source;i.removeEventListener("canplay",this._onCanPlay),i.removeEventListener("canplaythrough",this._onCanPlay);var d=this.valid;this.resize(i.videoWidth,i.videoHeight),!d&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&i.play()},g.prototype.dispose=function(){this._isConnectedToTicker&&Nr.shared.remove(this.update,this);var i=this.source;i&&(i.removeEventListener("error",this._onError,!0),i.pause(),i.src="",i.load()),b.prototype.dispose.call(this)},Object.defineProperty(g.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(i){i!==this._autoUpdate&&(this._autoUpdate=i,!this._autoUpdate&&this._isConnectedToTicker?(Nr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Nr.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(i){i!==this._updateFPS&&(this._updateFPS=i)},enumerable:!1,configurable:!0}),g.test=function(i,d){return i instanceof HTMLVideoElement||g.TYPES.indexOf(d)>-1},g.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],g.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},g}(Ni),Hc=function(b){Xn(g,b);function g(){return b!==null&&b.apply(this,arguments)||this}return g.test=function(i){return!!window.createImageBitmap&&i instanceof ImageBitmap},g}(Ni);Za.push(Vl,Hc,Ul,jc,Dc,ns,Nc,Lc);var vd={Resource:Mo,BaseImageResource:Ni,INSTALLED:Za,autoDetectResource:Fl,AbstractMultiResource:zl,ArrayResource:Lc,BufferResource:ns,CanvasResource:Ul,CubeResource:Nc,ImageResource:Vl,SVGResource:Dc,VideoResource:jc,ImageBitmapResource:Hc},ri=function(){function b(g){this.renderer=g}return b.prototype.destroy=function(){this.renderer=null},b}(),yd=function(b){Xn(g,b);function g(){return b!==null&&b.apply(this,arguments)||this}return g.prototype.upload=function(i,d,w){var f=i.gl;return f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,d.alphaMode===Li.UNPACK),w.width===d.width&&w.height===d.height?f.texSubImage2D(d.target,0,0,0,d.width,d.height,d.format,d.type,this.data):(w.width=d.width,w.height=d.height,f.texImage2D(d.target,0,i.context.webGLVersion===1?f.DEPTH_COMPONENT:f.DEPTH_COMPONENT16,d.width,d.height,0,d.format,d.type,this.data)),!0},g}(ns),Ka=function(){function b(g,i){this.width=Math.ceil(g||100),this.height=Math.ceil(i||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Xr("disposeFramebuffer"),this.multisample=oo.NONE}return Object.defineProperty(b.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),b.prototype.addColorTexture=function(g,i){return g===void 0&&(g=0),this.colorTextures[g]=i||new yr(null,{scaleMode:xi.NEAREST,resolution:1,mipmap:Po.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},b.prototype.addDepthTexture=function(g){return this.depthTexture=g||new yr(new yd(null,{width:this.width,height:this.height}),{scaleMode:xi.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Po.OFF,format:Ao.DEPTH_COMPONENT,type:Pr.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},b.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},b.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},b.prototype.resize=function(g,i){if(g=Math.ceil(g),i=Math.ceil(i),!(g===this.width&&i===this.height)){this.width=g,this.height=i,this.dirtyId++,this.dirtySize++;for(var d=0;d<this.colorTextures.length;d++){var w=this.colorTextures[d],f=w.resolution;w.setSize(g/f,i/f)}if(this.depthTexture){var f=this.depthTexture.resolution;this.depthTexture.setSize(g/f,i/f)}}},b.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},b.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},b}(),la=function(b){Xn(g,b);function g(i){var d=this;if(typeof i=="number"){var w=arguments[0],f=arguments[1],r=arguments[2],t=arguments[3];i={width:w,height:f,scaleMode:r,resolution:t}}d=b.call(this,null,i)||this;var n=i||{},a=n.width,l=n.height;return d.mipmap=0,d.width=Math.ceil(a)||100,d.height=Math.ceil(l)||100,d.valid=!0,d.clearColor=[0,0,0,0],d.framebuffer=new Ka(d.width*d.resolution,d.height*d.resolution).addColorTexture(0,d),d.maskStack=[],d.filterStack=[{}],d}return g.prototype.resize=function(i,d){i=Math.ceil(i),d=Math.ceil(d),this.framebuffer.resize(i*this.resolution,d*this.resolution)},g.prototype.dispose=function(){this.framebuffer.dispose(),b.prototype.dispose.call(this)},g.prototype.destroy=function(){b.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},g}(yr),Gl=function(){function b(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return b.prototype.set=function(g,i,d){var w=i.width,f=i.height;if(d){var r=g.width/2/w,t=g.height/2/f,n=g.x/w+r,a=g.y/f+t;d=_r.add(d,_r.NW),this.x0=n+r*_r.uX(d),this.y0=a+t*_r.uY(d),d=_r.add(d,2),this.x1=n+r*_r.uX(d),this.y1=a+t*_r.uY(d),d=_r.add(d,2),this.x2=n+r*_r.uX(d),this.y2=a+t*_r.uY(d),d=_r.add(d,2),this.x3=n+r*_r.uX(d),this.y3=a+t*_r.uY(d)}else this.x0=g.x/w,this.y0=g.y/f,this.x1=(g.x+g.width)/w,this.y1=g.y/f,this.x2=(g.x+g.width)/w,this.y2=(g.y+g.height)/f,this.x3=g.x/w,this.y3=(g.y+g.height)/f;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},b}(),Tu=new Gl,Dn=function(b){Xn(g,b);function g(i,d,w,f,r,t){var n=b.call(this)||this;if(n.noFrame=!1,d||(n.noFrame=!0,d=new or(0,0,1,1)),i instanceof g&&(i=i.baseTexture),n.baseTexture=i,n._frame=d,n.trim=f,n.valid=!1,n._uvs=Tu,n.uvMatrix=null,n.orig=w||d,n._rotate=Number(r||0),r===!0)n._rotate=2;else if(n._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return n.defaultAnchor=t?new Dr(t.x,t.y):new Dr(0,0),n._updateID=0,n.textureCacheIds=[],i.valid?n.noFrame?i.valid&&n.onBaseTextureUpdated(i):n.frame=d:i.once("loaded",n.onBaseTextureUpdated,n),n.noFrame&&i.on("update",n.onBaseTextureUpdated,n),n}return g.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},g.prototype.onBaseTextureUpdated=function(i){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=i.width,this._frame.height=i.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},g.prototype.destroy=function(i){if(this.baseTexture){if(i){var d=this.baseTexture;d&&d.url&&ni[d.url]&&g.removeFromCache(d.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,g.removeFromCache(this),this.textureCacheIds=null},g.prototype.clone=function(){return new g(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)},g.prototype.updateUvs=function(){this._uvs===Tu&&(this._uvs=new Gl),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},g.from=function(i,d,w){d===void 0&&(d={}),w===void 0&&(w=An.STRICT_TEXTURE_CACHE);var f=typeof i=="string",r=null;f?r=i:(i._pixiId||(i._pixiId="pixiid_"+so()),r=i._pixiId);var t=ni[r];if(f&&w&&!t)throw new Error('The cacheId "'+r+'" does not exist in TextureCache.');return t||(d.resolution||(d.resolution=da(i)),t=new g(new yr(i,d)),t.baseTexture.cacheId=r,yr.addToCache(t.baseTexture,r),g.addToCache(t,r)),t},g.fromURL=function(i,d){var w=Object.assign({autoLoad:!1},d==null?void 0:d.resourceOptions),f=g.from(i,Object.assign({resourceOptions:w},d),!1),r=f.baseTexture.resource;return f.baseTexture.valid?Promise.resolve(f):r.load().then(function(){return Promise.resolve(f)})},g.fromBuffer=function(i,d,w,f){return new g(yr.fromBuffer(i,d,w,f))},g.fromLoader=function(i,d,w){var f=new Vl(i);f.url=d;var r=new yr(f,{scaleMode:An.SCALE_MODE,resolution:da(d)}),t=new g(r);return w||(w=d),yr.addToCache(t.baseTexture,w),g.addToCache(t,w),w!==d&&(yr.addToCache(t.baseTexture,d),g.addToCache(t,d)),t},g.addToCache=function(i,d){d&&(i.textureCacheIds.indexOf(d)===-1&&i.textureCacheIds.push(d),ni[d]&&console.warn("Texture added to the cache with an id ["+d+"] that already had an entry"),ni[d]=i)},g.removeFromCache=function(i){if(typeof i=="string"){var d=ni[i];if(d){var w=d.textureCacheIds.indexOf(i);return w>-1&&d.textureCacheIds.splice(w,1),delete ni[i],d}}else if(i&&i.textureCacheIds){for(var f=0;f<i.textureCacheIds.length;++f)ni[i.textureCacheIds[f]]===i&&delete ni[i.textureCacheIds[f]];return i.textureCacheIds.length=0,i}return null},Object.defineProperty(g.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"frame",{get:function(){return this._frame},set:function(i){this._frame=i,this.noFrame=!1;var d=i.x,w=i.y,f=i.width,r=i.height,t=d+f>this.baseTexture.width,n=w+r>this.baseTexture.height;if(t||n){var a=t&&n?"and":"or",l="X: "+d+" + "+f+" = "+(d+f)+" > "+this.baseTexture.width,e="Y: "+w+" + "+r+" = "+(w+r)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(l+" "+a+" "+e))}this.valid=f&&r&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=i),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"rotate",{get:function(){return this._rotate},set:function(i){this._rotate=i,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),g.prototype.castToBaseTexture=function(){return this.baseTexture},g}(No);function bd(){var b=document.createElement("canvas");b.width=16,b.height=16;var g=b.getContext("2d");return g.fillStyle="white",g.fillRect(0,0,16,16),new Dn(new yr(new Ul(b)))}function rs(b){b.destroy=function(){},b.on=function(){},b.once=function(){},b.emit=function(){}}Dn.EMPTY=new Dn(new yr);rs(Dn.EMPTY);rs(Dn.EMPTY.baseTexture);Dn.WHITE=bd();rs(Dn.WHITE);rs(Dn.WHITE.baseTexture);var lo=function(b){Xn(g,b);function g(i,d){var w=this,f=null;if(!(i instanceof la)){var r=arguments[1],t=arguments[2],n=arguments[3],a=arguments[4];console.warn("Please use RenderTexture.create("+r+", "+t+") instead of the ctor directly."),f=arguments[0],d=null,i=new la({width:r,height:t,scaleMode:n,resolution:a})}return w=b.call(this,i,d)||this,w.legacyRenderer=f,w.valid=!0,w.filterFrame=null,w.filterPoolKey=null,w.updateUvs(),w}return Object.defineProperty(g.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),g.prototype.resize=function(i,d,w){w===void 0&&(w=!0),i=Math.ceil(i),d=Math.ceil(d),this.valid=i>0&&d>0,this._frame.width=this.orig.width=i,this._frame.height=this.orig.height=d,w&&this.baseTexture.resize(i,d),this.updateUvs()},g.prototype.setResolution=function(i){var d=this.baseTexture;d.resolution!==i&&(d.setResolution(i),this.resize(d.width,d.height,!1))},g.create=function(i){return typeof i=="number"&&(i={width:i,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new g(new la(i))},g}(Dn),Bc=function(){function b(g){this.texturePool={},this.textureOptions=g||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return b.prototype.createTexture=function(g,i){var d=new la(Object.assign({width:g,height:i,resolution:1},this.textureOptions));return new lo(d)},b.prototype.getOptimalTexture=function(g,i,d){d===void 0&&(d=1);var w=b.SCREEN_KEY;g*=d,i*=d,(!this.enableFullScreen||g!==this._pixelsWidth||i!==this._pixelsHeight)&&(g=fa(g),i=fa(i),w=(g&65535)<<16|i&65535),this.texturePool[w]||(this.texturePool[w]=[]);var f=this.texturePool[w].pop();return f||(f=this.createTexture(g,i)),f.filterPoolKey=w,f.setResolution(d),f},b.prototype.getFilterTexture=function(g,i){var d=this.getOptimalTexture(g.width,g.height,i||g.resolution);return d.filterFrame=g.filterFrame,d},b.prototype.returnTexture=function(g){var i=g.filterPoolKey;g.filterFrame=null,this.texturePool[i].push(g)},b.prototype.returnFilterTexture=function(g){this.returnTexture(g)},b.prototype.clear=function(g){if(g=g!==!1,g)for(var i in this.texturePool){var d=this.texturePool[i];if(d)for(var w=0;w<d.length;w++)d[w].destroy(!0)}this.texturePool={}},b.prototype.setScreenSize=function(g){if(!(g.width===this._pixelsWidth&&g.height===this._pixelsHeight)){var i=b.SCREEN_KEY,d=this.texturePool[i];if(this.enableFullScreen=g.width>0&&g.height>0,d)for(var w=0;w<d.length;w++)d[w].destroy(!0);this.texturePool[i]=[],this._pixelsWidth=g.width,this._pixelsHeight=g.height}},b.SCREEN_KEY="screen",b}(),rl=function(){function b(g,i,d,w,f,r,t){i===void 0&&(i=0),d===void 0&&(d=!1),w===void 0&&(w=5126),this.buffer=g,this.size=i,this.normalized=d,this.type=w,this.stride=f,this.start=r,this.instance=t}return b.prototype.destroy=function(){this.buffer=null},b.from=function(g,i,d,w,f){return new b(g,i,d,w,f)},b}(),_d=0,Lr=function(){function b(g,i,d){i===void 0&&(i=!0),d===void 0&&(d=!1),this.data=g||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=d,this.static=i,this.id=_d++,this.disposeRunner=new Xr("disposeBuffer")}return b.prototype.update=function(g){this.data=g||this.data,this._updateID++},b.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},b.prototype.destroy=function(){this.dispose(),this.data=null},b.from=function(g){return g instanceof Array&&(g=new Float32Array(g)),new b(g)},b}();function Fc(b){if(b.BYTES_PER_ELEMENT===4)return b instanceof Float32Array?"Float32Array":b instanceof Uint32Array?"Uint32Array":"Int32Array";if(b.BYTES_PER_ELEMENT===2){if(b instanceof Uint16Array)return"Uint16Array"}else if(b.BYTES_PER_ELEMENT===1&&b instanceof Uint8Array)return"Uint8Array";return null}var xd={Float32Array,Uint32Array,Int32Array,Uint8Array};function wd(b,g){for(var i=0,d=0,w={},f=0;f<b.length;f++)d+=g[f],i+=b[f].length;for(var r=new ArrayBuffer(i*4),t=null,n=0,f=0;f<b.length;f++){var a=g[f],l=b[f],e=Fc(l);w[e]||(w[e]=new xd[e](r)),t=w[e];for(var o=0;o<l.length;o++){var s=(o/a|0)*d+n,u=o%a;t[s+u]=l[o]}n+=a}return new Float32Array(r)}var Eu={5126:4,5123:2,5121:1},Sd=0,Td={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},Do=function(){function b(g,i){g===void 0&&(g=[]),i===void 0&&(i={}),this.buffers=g,this.indexBuffer=null,this.attributes=i,this.glVertexArrayObjects={},this.id=Sd++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Xr("disposeGeometry"),this.refCount=0}return b.prototype.addAttribute=function(g,i,d,w,f,r,t,n){if(d===void 0&&(d=0),w===void 0&&(w=!1),n===void 0&&(n=!1),!i)throw new Error("You must pass a buffer when creating an attribute");i instanceof Lr||(i instanceof Array&&(i=new Float32Array(i)),i=new Lr(i));var a=g.split("|");if(a.length>1){for(var l=0;l<a.length;l++)this.addAttribute(a[l],i,d,w,f);return this}var e=this.buffers.indexOf(i);return e===-1&&(this.buffers.push(i),e=this.buffers.length-1),this.attributes[g]=new rl(e,d,w,f,r,t,n),this.instanced=this.instanced||n,this},b.prototype.getAttribute=function(g){return this.attributes[g]},b.prototype.getBuffer=function(g){return this.buffers[this.getAttribute(g).buffer]},b.prototype.addIndex=function(g){return g instanceof Lr||(g instanceof Array&&(g=new Uint16Array(g)),g=new Lr(g)),g.index=!0,this.indexBuffer=g,this.buffers.indexOf(g)===-1&&this.buffers.push(g),this},b.prototype.getIndex=function(){return this.indexBuffer},b.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var g=[],i=[],d=new Lr,w;for(w in this.attributes){var f=this.attributes[w],r=this.buffers[f.buffer];g.push(r.data),i.push(f.size*Eu[f.type]/4),f.buffer=0}for(d.data=wd(g,i),w=0;w<this.buffers.length;w++)this.buffers[w]!==this.indexBuffer&&this.buffers[w].destroy();return this.buffers=[d],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},b.prototype.getSize=function(){for(var g in this.attributes){var i=this.attributes[g],d=this.buffers[i.buffer];return d.data.length/(i.stride/4||i.size)}return 0},b.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},b.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},b.prototype.clone=function(){for(var g=new b,i=0;i<this.buffers.length;i++)g.buffers[i]=new Lr(this.buffers[i].data.slice(0));for(var i in this.attributes){var d=this.attributes[i];g.attributes[i]=new rl(d.buffer,d.size,d.normalized,d.type,d.stride,d.start,d.instance)}return this.indexBuffer&&(g.indexBuffer=g.buffers[this.buffers.indexOf(this.indexBuffer)],g.indexBuffer.index=!0),g},b.merge=function(g){for(var i=new b,d=[],w=[],f=[],r,t=0;t<g.length;t++){r=g[t];for(var n=0;n<r.buffers.length;n++)w[n]=w[n]||0,w[n]+=r.buffers[n].data.length,f[n]=0}for(var t=0;t<r.buffers.length;t++)d[t]=new Td[Fc(r.buffers[t].data)](w[t]),i.buffers[t]=new Lr(d[t]);for(var t=0;t<g.length;t++){r=g[t];for(var n=0;n<r.buffers.length;n++)d[n].set(r.buffers[n].data,f[n]),f[n]+=r.buffers[n].data.length}if(i.attributes=r.attributes,r.indexBuffer){i.indexBuffer=i.buffers[r.buffers.indexOf(r.indexBuffer)],i.indexBuffer.index=!0;for(var a=0,l=0,e=0,o=0,t=0;t<r.buffers.length;t++)if(r.buffers[t]!==r.indexBuffer){o=t;break}for(var t in r.attributes){var s=r.attributes[t];(s.buffer|0)===o&&(l+=s.size*Eu[s.type]/4)}for(var t=0;t<g.length;t++){for(var u=g[t].indexBuffer.data,n=0;n<u.length;n++)i.indexBuffer.data[n+e]+=a;a+=r.buffers[o].data.length/l,e+=u.length}}return i},b}(),zc=function(b){Xn(g,b);function g(){var i=b.call(this)||this;return i.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),i}return g}(Do),Wl=function(b){Xn(g,b);function g(){var i=b.call(this)||this;return i.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),i.uvs=new Float32Array([0,0,1,0,1,1,0,1]),i.vertexBuffer=new Lr(i.vertices),i.uvBuffer=new Lr(i.uvs),i.addAttribute("aVertexPosition",i.vertexBuffer).addAttribute("aTextureCoord",i.uvBuffer).addIndex([0,1,2,0,2,3]),i}return g.prototype.map=function(i,d){var w=0,f=0;return this.uvs[0]=w,this.uvs[1]=f,this.uvs[2]=w+d.width/i.width,this.uvs[3]=f,this.uvs[4]=w+d.width/i.width,this.uvs[5]=f+d.height/i.height,this.uvs[6]=w,this.uvs[7]=f+d.height/i.height,w=d.x,f=d.y,this.vertices[0]=w,this.vertices[1]=f,this.vertices[2]=w+d.width,this.vertices[3]=f,this.vertices[4]=w+d.width,this.vertices[5]=f+d.height,this.vertices[6]=w,this.vertices[7]=f+d.height,this.invalidate(),this},g.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},g}(Do),Ed=0,Ui=function(){function b(g,i){this.uniforms=g,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Ed++,this.static=!!i}return b.prototype.update=function(){this.dirtyId++},b.prototype.add=function(g,i,d){this.uniforms[g]=new b(i,d)},b.from=function(g,i){return new b(g,i)},b}(),Uc=function(){function b(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new or,this.destinationFrame=new or,this.filters=[]}return b.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},b}(),Vc=function(b){Xn(g,b);function g(i){var d=b.call(this,i)||this;return d.defaultFilterStack=[{}],d.texturePool=new Bc,d.texturePool.setScreenSize(i.view),d.statePool=[],d.quad=new zc,d.quadUv=new Wl,d.tempRect=new or,d.activeState={},d.globalUniforms=new Ui({outputFrame:d.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),d.forceClear=!1,d.useMaxPadding=!1,d}return g.prototype.push=function(i,d){for(var w=this.renderer,f=this.defaultFilterStack,r=this.statePool.pop()||new Uc,t=d[0].resolution,n=d[0].padding,a=d[0].autoFit,l=d[0].legacy,e=1;e<d.length;e++){var o=d[e];t=Math.min(t,o.resolution),n=this.useMaxPadding?Math.max(n,o.padding):n+o.padding,a=a&&o.autoFit,l=l||o.legacy}f.length===1&&(this.defaultFilterStack[0].renderTexture=w.renderTexture.current),f.push(r),r.resolution=t,r.legacy=l,r.target=i,r.sourceFrame.copyFrom(i.filterArea||i.getBounds(!0)),r.sourceFrame.pad(n),a&&r.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),r.sourceFrame.ceil(t),r.renderTexture=this.getOptimalFilterTexture(r.sourceFrame.width,r.sourceFrame.height,t),r.filters=d,r.destinationFrame.width=r.renderTexture.width,r.destinationFrame.height=r.renderTexture.height;var s=this.tempRect;s.width=r.sourceFrame.width,s.height=r.sourceFrame.height,r.renderTexture.filterFrame=r.sourceFrame,w.renderTexture.bind(r.renderTexture,r.sourceFrame,s),w.renderTexture.clear()},g.prototype.pop=function(){var i=this.defaultFilterStack,d=i.pop(),w=d.filters;this.activeState=d;var f=this.globalUniforms.uniforms;f.outputFrame=d.sourceFrame,f.resolution=d.resolution;var r=f.inputSize,t=f.inputPixel,n=f.inputClamp;if(r[0]=d.destinationFrame.width,r[1]=d.destinationFrame.height,r[2]=1/r[0],r[3]=1/r[1],t[0]=r[0]*d.resolution,t[1]=r[1]*d.resolution,t[2]=1/t[0],t[3]=1/t[1],n[0]=.5*t[2],n[1]=.5*t[3],n[2]=d.sourceFrame.width*r[2]-.5*t[2],n[3]=d.sourceFrame.height*r[3]-.5*t[3],d.legacy){var a=f.filterArea;a[0]=d.destinationFrame.width,a[1]=d.destinationFrame.height,a[2]=d.sourceFrame.x,a[3]=d.sourceFrame.y,f.filterClamp=f.inputClamp}this.globalUniforms.update();var l=i[i.length-1];if(d.renderTexture.framebuffer.multisample>1&&this.renderer.framebuffer.blit(),w.length===1)w[0].apply(this,d.renderTexture,l.renderTexture,gi.BLEND,d),this.returnFilterTexture(d.renderTexture);else{var e=d.renderTexture,o=this.getOptimalFilterTexture(e.width,e.height,d.resolution);o.filterFrame=e.filterFrame;var s=0;for(s=0;s<w.length-1;++s){w[s].apply(this,e,o,gi.CLEAR,d);var u=e;e=o,o=u}w[s].apply(this,e,l.renderTexture,gi.BLEND,d),this.returnFilterTexture(e),this.returnFilterTexture(o)}d.clear(),this.statePool.push(d)},g.prototype.bindAndClear=function(i,d){if(d===void 0&&(d=gi.CLEAR),i&&i.filterFrame){var w=this.tempRect;w.width=i.filterFrame.width,w.height=i.filterFrame.height,this.renderer.renderTexture.bind(i,i.filterFrame,w)}else this.renderer.renderTexture.bind(i);typeof d=="boolean"&&(d=d?gi.CLEAR:gi.BLEND,en("5.2.1","Use CLEAR_MODES when using clear applyFilter option")),(d===gi.CLEAR||d===gi.BLIT&&this.forceClear)&&this.renderer.renderTexture.clear()},g.prototype.applyFilter=function(i,d,w,f){var r=this.renderer;this.bindAndClear(w,f),i.uniforms.uSampler=d,i.uniforms.filterGlobals=this.globalUniforms,r.state.set(i.state),r.shader.bind(i),i.legacy?(this.quadUv.map(d._frame,d.filterFrame),r.geometry.bind(this.quadUv),r.geometry.draw(ci.TRIANGLES)):(r.geometry.bind(this.quad),r.geometry.draw(ci.TRIANGLE_STRIP))},g.prototype.calculateSpriteMatrix=function(i,d){var w=this.activeState,f=w.sourceFrame,r=w.destinationFrame,t=d._texture.orig,n=i.set(r.width,0,0,r.height,f.x,f.y),a=d.worldTransform.copyTo(Or.TEMP_MATRIX);return a.invert(),n.prepend(a),n.scale(1/t.width,1/t.height),n.translate(d.anchor.x,d.anchor.y),n},g.prototype.destroy=function(){this.texturePool.clear(!1)},g.prototype.getOptimalFilterTexture=function(i,d,w){return w===void 0&&(w=1),this.texturePool.getOptimalTexture(i,d,w)},g.prototype.getFilterTexture=function(i,d){if(typeof i=="number"){var w=i;i=d,d=w}i=i||this.activeState.renderTexture;var f=this.texturePool.getOptimalTexture(i.width,i.height,d||i.resolution);return f.filterFrame=i.filterFrame,f},g.prototype.returnFilterTexture=function(i){this.texturePool.returnTexture(i)},g.prototype.emptyPool=function(){this.texturePool.clear(!0)},g.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},g}(ri),ya=function(){function b(g){this.renderer=g}return b.prototype.flush=function(){},b.prototype.destroy=function(){this.renderer=null},b.prototype.start=function(){},b.prototype.stop=function(){this.flush()},b.prototype.render=function(g){},b}(),Gc=function(b){Xn(g,b);function g(i){var d=b.call(this,i)||this;return d.emptyRenderer=new ya(i),d.currentRenderer=d.emptyRenderer,d}return g.prototype.setObjectRenderer=function(i){this.currentRenderer!==i&&(this.currentRenderer.stop(),this.currentRenderer=i,this.currentRenderer.start())},g.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},g.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},g.prototype.copyBoundTextures=function(i,d){for(var w=this.renderer.texture.boundTextures,f=d-1;f>=0;--f)i[f]=w[f]||null,i[f]&&(i[f]._batchLocation=f)},g.prototype.boundArray=function(i,d,w,f){for(var r=i.elements,t=i.ids,n=i.count,a=0,l=0;l<n;l++){var e=r[l],o=e._batchLocation;if(o>=0&&o<f&&d[o]===e){t[l]=o;continue}for(;a<f;){var s=d[a];if(s&&s._batchEnabled===w&&s._batchLocation===a){a++;continue}t[l]=a,e._batchLocation=a,d[a]=e;break}}},g}(ri),ku=0,Wc=function(b){Xn(g,b);function g(i){var d=b.call(this,i)||this;return d.webGLVersion=1,d.extensions={},d.supports={uint32Indices:!1},d.handleContextLost=d.handleContextLost.bind(d),d.handleContextRestored=d.handleContextRestored.bind(d),i.view.addEventListener("webglcontextlost",d.handleContextLost,!1),i.view.addEventListener("webglcontextrestored",d.handleContextRestored,!1),d}return Object.defineProperty(g.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),g.prototype.contextChange=function(i){this.gl=i,this.renderer.gl=i,this.renderer.CONTEXT_UID=ku++,i.isContextLost()&&i.getExtension("WEBGL_lose_context")&&i.getExtension("WEBGL_lose_context").restoreContext()},g.prototype.initFromContext=function(i){this.gl=i,this.validateContext(i),this.renderer.gl=i,this.renderer.CONTEXT_UID=ku++,this.renderer.runners.contextChange.emit(i)},g.prototype.initFromOptions=function(i){var d=this.createContext(this.renderer.view,i);this.initFromContext(d)},g.prototype.createContext=function(i,d){var w;if(An.PREFER_ENV>=wi.WEBGL2&&(w=i.getContext("webgl2",d)),w)this.webGLVersion=2;else if(this.webGLVersion=1,w=i.getContext("webgl",d)||i.getContext("experimental-webgl",d),!w)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=w,this.getExtensions(),this.gl},g.prototype.getExtensions=function(){var i=this.gl;this.webGLVersion===1?Object.assign(this.extensions,{drawBuffers:i.getExtension("WEBGL_draw_buffers"),depthTexture:i.getExtension("WEBGL_depth_texture"),loseContext:i.getExtension("WEBGL_lose_context"),vertexArrayObject:i.getExtension("OES_vertex_array_object")||i.getExtension("MOZ_OES_vertex_array_object")||i.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:i.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:i.getExtension("OES_element_index_uint"),floatTexture:i.getExtension("OES_texture_float"),floatTextureLinear:i.getExtension("OES_texture_float_linear"),textureHalfFloat:i.getExtension("OES_texture_half_float"),textureHalfFloatLinear:i.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,{anisotropicFiltering:i.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:i.getExtension("EXT_color_buffer_float"),floatTextureLinear:i.getExtension("OES_texture_float_linear")})},g.prototype.handleContextLost=function(i){i.preventDefault()},g.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},g.prototype.destroy=function(){var i=this.renderer.view;i.removeEventListener("webglcontextlost",this.handleContextLost),i.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},g.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},g.prototype.validateContext=function(i){var d=i.getContextAttributes(),w="WebGL2RenderingContext"in window&&i instanceof window.WebGL2RenderingContext;w&&(this.webGLVersion=2),d.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var f=w||!!i.getExtension("OES_element_index_uint");this.supports.uint32Indices=f,f||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},g}(ri),Xc=function(){function b(g){this.framebuffer=g,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=oo.NONE,this.msaaBuffer=null,this.blitFramebuffer=null}return b}(),kd=new or,qc=function(b){Xn(g,b);function g(i){var d=b.call(this,i)||this;return d.managedFramebuffers=[],d.unknownFramebuffer=new Ka(10,10),d.msaaSamples=null,d}return g.prototype.contextChange=function(){var i=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new or,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),this.renderer.context.webGLVersion===1){var d=this.renderer.context.extensions.drawBuffers,w=this.renderer.context.extensions.depthTexture;An.PREFER_ENV===wi.WEBGL_LEGACY&&(d=null,w=null),d?i.drawBuffers=function(f){return d.drawBuffersWEBGL(f)}:(this.hasMRT=!1,i.drawBuffers=function(){}),w||(this.writeDepthTexture=!1)}else this.msaaSamples=i.getInternalformatParameter(i.RENDERBUFFER,i.RGBA8,i.SAMPLES)},g.prototype.bind=function(i,d){var w=this.gl;if(i){var f=i.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(i);this.current!==i&&(this.current=i,w.bindFramebuffer(w.FRAMEBUFFER,f.framebuffer)),f.dirtyId!==i.dirtyId&&(f.dirtyId=i.dirtyId,f.dirtyFormat!==i.dirtyFormat?(f.dirtyFormat=i.dirtyFormat,this.updateFramebuffer(i)):f.dirtySize!==i.dirtySize&&(f.dirtySize=i.dirtySize,this.resizeFramebuffer(i)));for(var r=0;r<i.colorTextures.length;r++){var t=i.colorTextures[r];this.renderer.texture.unbind(t.parentTextureArray||t)}i.depthTexture&&this.renderer.texture.unbind(i.depthTexture),d?this.setViewport(d.x,d.y,d.width,d.height):this.setViewport(0,0,i.width,i.height)}else this.current&&(this.current=null,w.bindFramebuffer(w.FRAMEBUFFER,null)),d?this.setViewport(d.x,d.y,d.width,d.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},g.prototype.setViewport=function(i,d,w,f){var r=this.viewport;(r.width!==w||r.height!==f||r.x!==i||r.y!==d)&&(r.x=i,r.y=d,r.width=w,r.height=f,this.gl.viewport(i,d,w,f))},Object.defineProperty(g.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),g.prototype.clear=function(i,d,w,f,r){r===void 0&&(r=ha.COLOR|ha.DEPTH);var t=this.gl;t.clearColor(i,d,w,f),t.clear(r)},g.prototype.initFramebuffer=function(i){var d=this.gl,w=new Xc(d.createFramebuffer());return w.multisample=this.detectSamples(i.multisample),i.glFramebuffers[this.CONTEXT_UID]=w,this.managedFramebuffers.push(i),i.disposeRunner.add(this),w},g.prototype.resizeFramebuffer=function(i){var d=this.gl,w=i.glFramebuffers[this.CONTEXT_UID];w.stencil&&(d.bindRenderbuffer(d.RENDERBUFFER,w.stencil),d.renderbufferStorage(d.RENDERBUFFER,d.DEPTH_STENCIL,i.width,i.height));for(var f=i.colorTextures,r=0;r<f.length;r++)this.renderer.texture.bind(f[r],0);i.depthTexture&&this.renderer.texture.bind(i.depthTexture,0)},g.prototype.updateFramebuffer=function(i){var d=this.gl,w=i.glFramebuffers[this.CONTEXT_UID],f=i.colorTextures,r=f.length;d.drawBuffers||(r=Math.min(r,1)),w.multisample>1&&(w.msaaBuffer=d.createRenderbuffer(),d.bindRenderbuffer(d.RENDERBUFFER,w.msaaBuffer),d.renderbufferStorageMultisample(d.RENDERBUFFER,w.multisample,d.RGBA8,i.width,i.height),d.framebufferRenderbuffer(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.RENDERBUFFER,w.msaaBuffer));for(var t=[],n=0;n<r;n++)if(!(n===0&&w.multisample>1)){var a=i.colorTextures[n],l=a.parentTextureArray||a;this.renderer.texture.bind(l,0),d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0+n,a.target,l._glTextures[this.CONTEXT_UID].texture,0),t.push(d.COLOR_ATTACHMENT0+n)}if(t.length>1&&d.drawBuffers(t),i.depthTexture){var e=this.writeDepthTexture;if(e){var o=i.depthTexture;this.renderer.texture.bind(o,0),d.framebufferTexture2D(d.FRAMEBUFFER,d.DEPTH_ATTACHMENT,d.TEXTURE_2D,o._glTextures[this.CONTEXT_UID].texture,0)}}!w.stencil&&(i.stencil||i.depth)&&(w.stencil=d.createRenderbuffer(),d.bindRenderbuffer(d.RENDERBUFFER,w.stencil),d.renderbufferStorage(d.RENDERBUFFER,d.DEPTH_STENCIL,i.width,i.height),i.depthTexture||d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_STENCIL_ATTACHMENT,d.RENDERBUFFER,w.stencil))},g.prototype.detectSamples=function(i){var d=this.msaaSamples,w=oo.NONE;if(i<=1||d===null)return w;for(var f=0;f<d.length;f++)if(d[f]<=i){w=d[f];break}return w===1&&(w=oo.NONE),w},g.prototype.blit=function(i,d,w){var f=this,r=f.current,t=f.renderer,n=f.gl,a=f.CONTEXT_UID;if(t.context.webGLVersion===2&&r){var l=r.glFramebuffers[a];if(l){if(!i){if(l.multisample<=1)return;l.blitFramebuffer||(l.blitFramebuffer=new Ka(r.width,r.height),l.blitFramebuffer.addColorTexture(0,r.colorTextures[0])),i=l.blitFramebuffer,i.width=r.width,i.height=r.height}d||(d=kd,d.width=r.width,d.height=r.height),w||(w=d);var e=d.width===w.width&&d.height===w.height;this.bind(i),n.bindFramebuffer(n.READ_FRAMEBUFFER,l.framebuffer),n.blitFramebuffer(d.x,d.y,d.width,d.height,w.x,w.y,w.width,w.height,n.COLOR_BUFFER_BIT,e?n.NEAREST:n.LINEAR)}}},g.prototype.disposeFramebuffer=function(i,d){var w=i.glFramebuffers[this.CONTEXT_UID],f=this.gl;if(w){delete i.glFramebuffers[this.CONTEXT_UID];var r=this.managedFramebuffers.indexOf(i);r>=0&&this.managedFramebuffers.splice(r,1),i.disposeRunner.remove(this),d||(f.deleteFramebuffer(w.framebuffer),w.stencil&&f.deleteRenderbuffer(w.stencil))}},g.prototype.disposeAll=function(i){var d=this.managedFramebuffers;this.managedFramebuffers=[];for(var w=0;w<d.length;w++)this.disposeFramebuffer(d[w],i)},g.prototype.forceStencil=function(){var i=this.current;if(i){var d=i.glFramebuffers[this.CONTEXT_UID];if(!(!d||d.stencil)){i.enableStencil();var w=i.width,f=i.height,r=this.gl,t=r.createRenderbuffer();r.bindRenderbuffer(r.RENDERBUFFER,t),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,w,f),d.stencil=t,r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,t)}}},g.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new or},g}(ri),Cd=function(){function b(g){this.buffer=g||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return b}(),Cs={5126:4,5123:2,5121:1},Yc=function(b){Xn(g,b);function g(i){var d=b.call(this,i)||this;return d._activeGeometry=null,d._activeVao=null,d.hasVao=!0,d.hasInstance=!0,d.canUseUInt32ElementIndex=!1,d.managedGeometries={},d.managedBuffers={},d}return g.prototype.contextChange=function(){this.disposeAll(!0);var i=this.gl=this.renderer.gl,d=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,d.webGLVersion!==2){var w=this.renderer.context.extensions.vertexArrayObject;An.PREFER_ENV===wi.WEBGL_LEGACY&&(w=null),w?(i.createVertexArray=function(){return w.createVertexArrayOES()},i.bindVertexArray=function(r){return w.bindVertexArrayOES(r)},i.deleteVertexArray=function(r){return w.deleteVertexArrayOES(r)}):(this.hasVao=!1,i.createVertexArray=function(){return null},i.bindVertexArray=function(){return null},i.deleteVertexArray=function(){return null})}if(d.webGLVersion!==2){var f=i.getExtension("ANGLE_instanced_arrays");f?(i.vertexAttribDivisor=function(r,t){return f.vertexAttribDivisorANGLE(r,t)},i.drawElementsInstanced=function(r,t,n,a,l){return f.drawElementsInstancedANGLE(r,t,n,a,l)},i.drawArraysInstanced=function(r,t,n,a){return f.drawArraysInstancedANGLE(r,t,n,a)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=d.webGLVersion===2||!!d.extensions.uint32ElementIndex},g.prototype.bind=function(i,d){d=d||this.renderer.shader.shader;var w=this.gl,f=i.glVertexArrayObjects[this.CONTEXT_UID],r=!1;f||(this.managedGeometries[i.id]=i,i.disposeRunner.add(this),i.glVertexArrayObjects[this.CONTEXT_UID]=f={},r=!0);var t=f[d.program.id]||this.initGeometryVao(i,d.program,r);this._activeGeometry=i,this._activeVao!==t&&(this._activeVao=t,this.hasVao?w.bindVertexArray(t):this.activateVao(i,d.program)),this.updateBuffers()},g.prototype.reset=function(){this.unbind()},g.prototype.updateBuffers=function(){for(var i=this._activeGeometry,d=this.gl,w=0;w<i.buffers.length;w++){var f=i.buffers[w],r=f._glBuffers[this.CONTEXT_UID];if(f._updateID!==r.updateID){r.updateID=f._updateID;var t=f.index?d.ELEMENT_ARRAY_BUFFER:d.ARRAY_BUFFER;if(d.bindBuffer(t,r.buffer),this._boundBuffer=r,r.byteLength>=f.data.byteLength)d.bufferSubData(t,0,f.data);else{var n=f.static?d.STATIC_DRAW:d.DYNAMIC_DRAW;r.byteLength=f.data.byteLength,d.bufferData(t,f.data,n)}}}},g.prototype.checkCompatibility=function(i,d){var w=i.attributes,f=d.attributeData;for(var r in f)if(!w[r])throw new Error('shader and geometry incompatible, geometry missing the "'+r+'" attribute')},g.prototype.getSignature=function(i,d){var w=i.attributes,f=d.attributeData,r=["g",i.id];for(var t in w)f[t]&&r.push(t);return r.join("-")},g.prototype.initGeometryVao=function(i,d,w){w===void 0&&(w=!0),this.checkCompatibility(i,d);var f=this.gl,r=this.CONTEXT_UID,t=this.getSignature(i,d),n=i.glVertexArrayObjects[this.CONTEXT_UID],a=n[t];if(a)return n[d.id]=a,a;var l=i.buffers,e=i.attributes,o={},s={};for(var u in l)o[u]=0,s[u]=0;for(var u in e)!e[u].size&&d.attributeData[u]?e[u].size=d.attributeData[u].size:e[u].size||console.warn("PIXI Geometry attribute '"+u+"' size cannot be determined (likely the bound shader does not have the attribute)"),o[e[u].buffer]+=e[u].size*Cs[e[u].type];for(var u in e){var c=e[u],m=c.size;c.stride===void 0&&(o[c.buffer]===m*Cs[c.type]?c.stride=0:c.stride=o[c.buffer]),c.start===void 0&&(c.start=s[c.buffer],s[c.buffer]+=m*Cs[c.type])}a=f.createVertexArray(),f.bindVertexArray(a);for(var p=0;p<l.length;p++){var h=l[p];h._glBuffers[r]||(h._glBuffers[r]=new Cd(f.createBuffer()),this.managedBuffers[h.id]=h,h.disposeRunner.add(this)),w&&h._glBuffers[r].refCount++}return this.activateVao(i,d),this._activeVao=a,n[d.id]=a,n[t]=a,a},g.prototype.disposeBuffer=function(i,d){if(this.managedBuffers[i.id]){delete this.managedBuffers[i.id];var w=i._glBuffers[this.CONTEXT_UID],f=this.gl;i.disposeRunner.remove(this),w&&(d||f.deleteBuffer(w.buffer),delete i._glBuffers[this.CONTEXT_UID])}},g.prototype.disposeGeometry=function(i,d){if(this.managedGeometries[i.id]){delete this.managedGeometries[i.id];var w=i.glVertexArrayObjects[this.CONTEXT_UID],f=this.gl,r=i.buffers;if(i.disposeRunner.remove(this),!!w){for(var t=0;t<r.length;t++){var n=r[t]._glBuffers[this.CONTEXT_UID];n.refCount--,n.refCount===0&&!d&&this.disposeBuffer(r[t],d)}if(!d){for(var a in w)if(a[0]==="g"){var l=w[a];this._activeVao===l&&this.unbind(),f.deleteVertexArray(l)}}delete i.glVertexArrayObjects[this.CONTEXT_UID]}}},g.prototype.disposeAll=function(i){for(var d=Object.keys(this.managedGeometries),w=0;w<d.length;w++)this.disposeGeometry(this.managedGeometries[d[w]],i);d=Object.keys(this.managedBuffers);for(var w=0;w<d.length;w++)this.disposeBuffer(this.managedBuffers[d[w]],i)},g.prototype.activateVao=function(i,d){var w=this.gl,f=this.CONTEXT_UID,r=i.buffers,t=i.attributes;i.indexBuffer&&w.bindBuffer(w.ELEMENT_ARRAY_BUFFER,i.indexBuffer._glBuffers[f].buffer);var n=null;for(var a in t){var l=t[a],e=r[l.buffer],o=e._glBuffers[f];if(d.attributeData[a]){n!==o&&(w.bindBuffer(w.ARRAY_BUFFER,o.buffer),n=o);var s=d.attributeData[a].location;if(w.enableVertexAttribArray(s),w.vertexAttribPointer(s,l.size,l.type||w.FLOAT,l.normalized,l.stride,l.start),l.instance)if(this.hasInstance)w.vertexAttribDivisor(s,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},g.prototype.draw=function(i,d,w,f){var r=this.gl,t=this._activeGeometry;if(t.indexBuffer){var n=t.indexBuffer.data.BYTES_PER_ELEMENT,a=n===2?r.UNSIGNED_SHORT:r.UNSIGNED_INT;n===2||n===4&&this.canUseUInt32ElementIndex?t.instanced?r.drawElementsInstanced(i,d||t.indexBuffer.data.length,a,(w||0)*n,f||1):r.drawElements(i,d||t.indexBuffer.data.length,a,(w||0)*n):console.warn("unsupported index buffer type: uint32")}else t.instanced?r.drawArraysInstanced(i,w,d||t.getSize(),f||1):r.drawArrays(i,w,d||t.getSize());return this},g.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},g}(ri),$c=function(){function b(g){g===void 0&&(g=null),this.type=ei.NONE,this.autoDetect=!0,this.maskObject=g||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}return b.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=ei.NONE,this.autoDetect=!0),this._target=null},b.prototype.copyCountersOrReset=function(g){g?(this._stencilCounter=g._stencilCounter,this._scissorCounter=g._scissorCounter,this._scissorRect=g._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},b}();function Cu(b,g,i){var d=b.createShader(g);return b.shaderSource(d,i),b.compileShader(d),d}function Zc(b,g,i,d){var w=Cu(b,b.VERTEX_SHADER,g),f=Cu(b,b.FRAGMENT_SHADER,i),r=b.createProgram();if(b.attachShader(r,w),b.attachShader(r,f),d)for(var t in d)b.bindAttribLocation(r,d[t],t);return b.linkProgram(r),b.getProgramParameter(r,b.LINK_STATUS)||(b.getShaderParameter(w,b.COMPILE_STATUS)||(console.warn(g),console.error(b.getShaderInfoLog(w))),b.getShaderParameter(f,b.COMPILE_STATUS)||(console.warn(i),console.error(b.getShaderInfoLog(f))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",b.getProgramParameter(r,b.VALIDATE_STATUS)),console.error("gl.getError()",b.getError()),b.getProgramInfoLog(r)!==""&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",b.getProgramInfoLog(r)),b.deleteProgram(r),r=null),b.deleteShader(w),b.deleteShader(f),r}function As(b){for(var g=new Array(b),i=0;i<g.length;i++)g[i]=!1;return g}function Kc(b,g){switch(b){case"float":return 0;case"vec2":return new Float32Array(2*g);case"vec3":return new Float32Array(3*g);case"vec4":return new Float32Array(4*g);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*g);case"ivec3":return new Int32Array(3*g);case"ivec4":return new Int32Array(4*g);case"bool":return!1;case"bvec2":return As(2*g);case"bvec3":return As(3*g);case"bvec4":return As(4*g);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var Jc={},ea=Jc;function Qc(){if(ea===Jc||ea&&ea.isContextLost()){var b=document.createElement("canvas"),g=void 0;An.PREFER_ENV>=wi.WEBGL2&&(g=b.getContext("webgl2",{})),g||(g=b.getContext("webgl",{})||b.getContext("experimental-webgl",{}),g?g.getExtension("WEBGL_draw_buffers"):g=null),ea=g}return ea}var Da;function Ad(){if(!Da){Da=vi.MEDIUM;var b=Qc();if(b&&b.getShaderPrecisionFormat){var g=b.getShaderPrecisionFormat(b.FRAGMENT_SHADER,b.HIGH_FLOAT);Da=g.precision?vi.HIGH:vi.MEDIUM}}return Da}function Au(b,g,i){if(b.substring(0,9)!=="precision"){var d=g;return g===vi.HIGH&&i!==vi.HIGH&&(d=vi.MEDIUM),"precision "+d+` float;
`+b}else if(i!==vi.HIGH&&b.substring(0,15)==="precision highp")return b.replace("precision highp","precision mediump");return b}var Pd={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Od(b){return Pd[b]}var ja=null,Pu={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Ou(b,g){if(!ja){var i=Object.keys(Pu);ja={};for(var d=0;d<i.length;++d){var w=i[d];ja[b[w]]=Pu[w]}}return ja[g]}var Wa=[{test:function(b){return b.type==="float"&&b.size===1},code:function(b){return`
            if(uv["`+b+'"] !== ud["'+b+`"].value)
            {
                ud["`+b+'"].value = uv["'+b+`"]
                gl.uniform1f(ud["`+b+'"].location, uv["'+b+`"])
            }
            `}},{test:function(b){return(b.type==="sampler2D"||b.type==="samplerCube"||b.type==="sampler2DArray")&&b.size===1&&!b.isArray},code:function(b){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+b+`"], t);

            if(ud["`+b+`"].value !== t)
            {
                ud["`+b+`"].value = t;
                gl.uniform1i(ud["`+b+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(b,g){return b.type==="mat3"&&b.size===1&&g.a!==void 0},code:function(b){return`
            gl.uniformMatrix3fv(ud["`+b+'"].location, false, uv["'+b+`"].toArray(true));
            `}},{test:function(b,g){return b.type==="vec2"&&b.size===1&&g.x!==void 0},code:function(b){return`
                cv = ud["`+b+`"].value;
                v = uv["`+b+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+b+`"].location, v.x, v.y);
                }`}},{test:function(b){return b.type==="vec2"&&b.size===1},code:function(b){return`
                cv = ud["`+b+`"].value;
                v = uv["`+b+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+b+`"].location, v[0], v[1]);
                }
            `}},{test:function(b,g){return b.type==="vec4"&&b.size===1&&g.width!==void 0},code:function(b){return`
                cv = ud["`+b+`"].value;
                v = uv["`+b+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+b+`"].location, v.x, v.y, v.width, v.height)
                }`}},{test:function(b){return b.type==="vec4"&&b.size===1},code:function(b){return`
                cv = ud["`+b+`"].value;
                v = uv["`+b+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+b+`"].location, v[0], v[1], v[2], v[3])
                }`}}],Md={float:`
    if(cv !== v)
    {
        cv.v = v;
        gl.uniform1f(location, v)
    }`,vec2:`
    if(cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},Id={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function Rd(b,g){var i=[`
        var v = null;
        var cv = null
        var t = 0;
        var gl = renderer.gl
    `];for(var d in b.uniforms){var w=g[d];if(!w){b.uniforms[d].group&&i.push(`
                    renderer.shader.syncUniformGroup(uv["`+d+`"], syncData);
                `);continue}for(var f=b.uniforms[d],r=!1,t=0;t<Wa.length;t++)if(Wa[t].test(w,f)){i.push(Wa[t].code(d,f)),r=!0;break}if(!r){var n=w.size===1?Md:Id,a=n[w.type].replace("location",'ud["'+d+'"].location');i.push(`
            cv = ud["`+d+`"].value;
            v = uv["`+d+`"];
            `+a+";")}}return new Function("ud","uv","renderer","syncData",i.join(`
`))}var Ld=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function Nd(b){for(var g="",i=0;i<b;++i)i>0&&(g+=`
else `),i<b-1&&(g+="if(test == "+i+".0){}");return g}function th(b,g){if(b===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var i=g.createShader(g.FRAGMENT_SHADER);;){var d=Ld.replace(/%forloop%/gi,Nd(b));if(g.shaderSource(i,d),g.compileShader(i),!g.getShaderParameter(i,g.COMPILE_STATUS))b=b/2|0;else break}return b}var na;function Dd(){if(typeof na=="boolean")return na;try{var b=new Function("param1","param2","param3","return param1[param2] === param3;");na=b({a:"b"},"a","b")===!0}catch{na=!1}return na}var jd=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,Hd=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,Bd=0,Ha={},ba=function(){function b(g,i,d){d===void 0&&(d="pixi-shader"),this.id=Bd++,this.vertexSrc=g||b.defaultVertexSrc,this.fragmentSrc=i||b.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(d=d.replace(/\s+/g,"-"),Ha[d]?(Ha[d]++,d+="-"+Ha[d]):Ha[d]=1,this.vertexSrc="#define SHADER_NAME "+d+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+d+`
`+this.fragmentSrc,this.vertexSrc=Au(this.vertexSrc,An.PRECISION_VERTEX,vi.HIGH),this.fragmentSrc=Au(this.fragmentSrc,An.PRECISION_FRAGMENT,Ad())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}return b.prototype.extractData=function(g,i){var d=Qc();if(d){var w=Zc(d,g,i);this.attributeData=this.getAttributeData(w,d),this.uniformData=this.getUniformData(w,d),d.deleteProgram(w)}else this.uniformData={},this.attributeData={}},b.prototype.getAttributeData=function(g,i){for(var d={},w=[],f=i.getProgramParameter(g,i.ACTIVE_ATTRIBUTES),r=0;r<f;r++){var t=i.getActiveAttrib(g,r),n=Ou(i,t.type),a={type:n,name:t.name,size:Od(n),location:0};d[t.name]=a,w.push(a)}w.sort(function(l,e){return l.name>e.name?1:-1});for(var r=0;r<w.length;r++)w[r].location=r;return d},b.prototype.getUniformData=function(g,i){for(var d={},w=i.getProgramParameter(g,i.ACTIVE_UNIFORMS),f=0;f<w;f++){var r=i.getActiveUniform(g,f),t=r.name.replace(/\[.*?\]$/,""),n=r.name.match(/\[.*?\]$/),a=Ou(i,r.type);d[t]={type:a,size:r.size,isArray:n,value:Kc(a,r.size)}}return d},Object.defineProperty(b,"defaultVertexSrc",{get:function(){return Hd},enumerable:!1,configurable:!0}),Object.defineProperty(b,"defaultFragmentSrc",{get:function(){return jd},enumerable:!1,configurable:!0}),b.from=function(g,i,d){var w=g+i,f=Zs[w];return f||(Zs[w]=f=new b(g,i,d)),f},b}(),Vi=function(){function b(g,i){this.program=g,i?i instanceof Ui?this.uniformGroup=i:this.uniformGroup=new Ui(i):this.uniformGroup=new Ui({});for(var d in g.uniformData)this.uniformGroup.uniforms[d]instanceof Array&&(this.uniformGroup.uniforms[d]=new Float32Array(this.uniformGroup.uniforms[d]))}return b.prototype.checkUniformExists=function(g,i){if(i.uniforms[g])return!0;for(var d in i.uniforms){var w=i.uniforms[d];if(w.group&&this.checkUniformExists(g,w))return!0}return!1},b.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(b.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),b.from=function(g,i,d){var w=ba.from(g,i);return new b(w,d)},b}(),Ps=0,Os=1,Ms=2,Is=3,Rs=4,Gi=function(){function b(){this.data=0,this.blendMode=Pn.NORMAL,this.polygonOffset=0,this.blend=!0}return Object.defineProperty(b.prototype,"blend",{get:function(){return!!(this.data&1<<Ps)},set:function(g){!!(this.data&1<<Ps)!==g&&(this.data^=1<<Ps)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"offsets",{get:function(){return!!(this.data&1<<Os)},set:function(g){!!(this.data&1<<Os)!==g&&(this.data^=1<<Os)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"culling",{get:function(){return!!(this.data&1<<Ms)},set:function(g){!!(this.data&1<<Ms)!==g&&(this.data^=1<<Ms)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"depthTest",{get:function(){return!!(this.data&1<<Is)},set:function(g){!!(this.data&1<<Is)!==g&&(this.data^=1<<Is)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<Rs)},set:function(g){!!(this.data&1<<Rs)!==g&&(this.data^=1<<Rs)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"blendMode",{get:function(){return this._blendMode},set:function(g){this.blend=g!==Pn.NONE,this._blendMode=g},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(g){this.offsets=!!g,this._polygonOffset=g},enumerable:!1,configurable:!0}),b.for2d=function(){var g=new b;return g.depthTest=!1,g.blend=!0,g},b}(),Fd=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,zd=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,Di=function(b){Xn(g,b);function g(i,d,w){var f=this,r=ba.from(i||g.defaultVertexSrc,d||g.defaultFragmentSrc);return f=b.call(this,r,w)||this,f.padding=0,f.resolution=An.FILTER_RESOLUTION,f.enabled=!0,f.autoFit=!0,f.legacy=!!f.program.attributeData.aTextureCoord,f.state=new Gi,f}return g.prototype.apply=function(i,d,w,f,r){i.applyFilter(this,d,w,f)},Object.defineProperty(g.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(i){this.state.blendMode=i},enumerable:!1,configurable:!0}),Object.defineProperty(g,"defaultVertexSrc",{get:function(){return Fd},enumerable:!1,configurable:!0}),Object.defineProperty(g,"defaultFragmentSrc",{get:function(){return zd},enumerable:!1,configurable:!0}),g}(Vi),Ud=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,Vd=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,Mu=new Or,is=function(){function b(g,i){this._texture=g,this.mapCoord=new Or,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof i>"u"?.5:i,this.isSimple=!1}return Object.defineProperty(b.prototype,"texture",{get:function(){return this._texture},set:function(g){this._texture=g,this._textureID=-1},enumerable:!1,configurable:!0}),b.prototype.multiplyUvs=function(g,i){i===void 0&&(i=g);for(var d=this.mapCoord,w=0;w<g.length;w+=2){var f=g[w],r=g[w+1];i[w]=f*d.a+r*d.c+d.tx,i[w+1]=f*d.b+r*d.d+d.ty}return i},b.prototype.update=function(g){var i=this._texture;if(!i||!i.valid||!g&&this._textureID===i._updateID)return!1;this._textureID=i._updateID,this._updateID++;var d=i._uvs;this.mapCoord.set(d.x1-d.x0,d.y1-d.y0,d.x3-d.x0,d.y3-d.y0,d.x0,d.y0);var w=i.orig,f=i.trim;f&&(Mu.set(w.width/f.width,0,0,w.height/f.height,-f.x/f.width,-f.y/f.height),this.mapCoord.append(Mu));var r=i.baseTexture,t=this.uClampFrame,n=this.clampMargin/r.resolution,a=this.clampOffset;return t[0]=(i._frame.x+n+a)/r.width,t[1]=(i._frame.y+n+a)/r.height,t[2]=(i._frame.x+i._frame.width-n+a)/r.width,t[3]=(i._frame.y+i._frame.height-n+a)/r.height,this.uClampOffset[0]=a/r.realWidth,this.uClampOffset[1]=a/r.realHeight,this.isSimple=i._frame.width===r.width&&i._frame.height===r.height&&i.rotate===0,!0},b}(),eh=function(b){Xn(g,b);function g(i){var d=this,w=new Or;return d=b.call(this,Ud,Vd)||this,i.renderable=!1,d.maskSprite=i,d.maskMatrix=w,d}return g.prototype.apply=function(i,d,w,f){var r=this.maskSprite,t=r._texture;t.valid&&(t.uvMatrix||(t.uvMatrix=new is(t,0)),t.uvMatrix.update(),this.uniforms.npmAlpha=t.baseTexture.alphaMode?0:1,this.uniforms.mask=t,this.uniforms.otherMatrix=i.calculateSpriteMatrix(this.maskMatrix,r).prepend(t.uvMatrix.mapCoord),this.uniforms.alpha=r.worldAlpha,this.uniforms.maskClamp=t.uvMatrix.uClampFrame,i.applyFilter(this,d,w,f))},g}(Di),nh=function(b){Xn(g,b);function g(i){var d=b.call(this,i)||this;return d.enableScissor=!1,d.alphaMaskPool=[],d.maskDataPool=[],d.maskStack=[],d.alphaMaskIndex=0,d}return g.prototype.setMaskStack=function(i){this.maskStack=i,this.renderer.scissor.setMaskStack(i),this.renderer.stencil.setMaskStack(i)},g.prototype.push=function(i,d){var w=d;if(!w.isMaskData){var f=this.maskDataPool.pop()||new $c;f.pooled=!0,f.maskObject=d,w=f}switch(w.autoDetect&&this.detect(w),w.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),w._target=i,w.type){case ei.SCISSOR:this.maskStack.push(w),this.renderer.scissor.push(w);break;case ei.STENCIL:this.maskStack.push(w),this.renderer.stencil.push(w);break;case ei.SPRITE:w.copyCountersOrReset(null),this.pushSpriteMask(w),this.maskStack.push(w);break}},g.prototype.pop=function(i){var d=this.maskStack.pop();if(!(!d||d._target!==i)){switch(d.type){case ei.SCISSOR:this.renderer.scissor.pop();break;case ei.STENCIL:this.renderer.stencil.pop(d.maskObject);break;case ei.SPRITE:this.popSpriteMask();break}d.reset(),d.pooled&&this.maskDataPool.push(d)}},g.prototype.detect=function(i){var d=i.maskObject;if(d.isSprite){i.type=ei.SPRITE;return}if(i.type=ei.STENCIL,this.enableScissor&&d.isFastRect&&d.isFastRect()){var w=d.worldTransform,f=Math.atan2(w.b,w.a),r=Math.atan2(w.d,w.c);f=Math.round(f*(180/Math.PI)*100),r=Math.round(r*(180/Math.PI)*100)-f,f=(f%9e3+9e3)%9e3,r=(r%18e3+18e3)%18e3,f===0&&r===9e3&&(i.type=ei.SCISSOR)}},g.prototype.pushSpriteMask=function(i){var d=i.maskObject,w=i._target,f=this.alphaMaskPool[this.alphaMaskIndex];f||(f=this.alphaMaskPool[this.alphaMaskIndex]=[new eh(d)]),f[0].resolution=this.renderer.resolution,f[0].maskSprite=d;var r=w.filterArea;w.filterArea=d.getBounds(!0),this.renderer.filter.push(w,f),w.filterArea=r,this.alphaMaskIndex++},g.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},g}(ri),rh=function(b){Xn(g,b);function g(i){var d=b.call(this,i)||this;return d.maskStack=[],d.glConst=0,d}return g.prototype.getStackLength=function(){return this.maskStack.length},g.prototype.setMaskStack=function(i){var d=this.renderer.gl,w=this.getStackLength();this.maskStack=i;var f=this.getStackLength();f!==w&&(f===0?d.disable(this.glConst):(d.enable(this.glConst),this._useCurrent()))},g.prototype._useCurrent=function(){},g.prototype.destroy=function(){b.prototype.destroy.call(this),this.maskStack=null},g}(ri),ih=function(b){Xn(g,b);function g(i){var d=b.call(this,i)||this;return d.glConst=WebGLRenderingContext.SCISSOR_TEST,d}return g.prototype.getStackLength=function(){var i=this.maskStack[this.maskStack.length-1];return i?i._scissorCounter:0},g.prototype.push=function(i){var d=i.maskObject;d.renderable=!0;var w=i._scissorRect,f=d.getBounds(!0),r=this.renderer.gl;d.renderable=!1,w?f.fit(w):r.enable(r.SCISSOR_TEST),i._scissorCounter++,i._scissorRect=f,this._useCurrent()},g.prototype.pop=function(){var i=this.renderer.gl;this.getStackLength()>0?this._useCurrent():i.disable(i.SCISSOR_TEST)},g.prototype._useCurrent=function(){var i=this.maskStack[this.maskStack.length-1]._scissorRect,d=this.renderer.renderTexture.current,w=this.renderer.projection,f=w.transform,r=w.sourceFrame,t=w.destinationFrame,n=d?d.resolution:this.renderer.resolution,a=(i.x-r.x)*n+t.x,l=(i.y-r.y)*n+t.y,e=i.width*n,o=i.height*n;f&&(a+=f.tx*n,l+=f.ty*n),d||(l=this.renderer.height-o-l),this.renderer.gl.scissor(a,l,e,o)},g}(rh),oh=function(b){Xn(g,b);function g(i){var d=b.call(this,i)||this;return d.glConst=WebGLRenderingContext.STENCIL_TEST,d}return g.prototype.getStackLength=function(){var i=this.maskStack[this.maskStack.length-1];return i?i._stencilCounter:0},g.prototype.push=function(i){var d=i.maskObject,w=this.renderer.gl,f=i._stencilCounter;f===0&&(this.renderer.framebuffer.forceStencil(),w.enable(w.STENCIL_TEST)),i._stencilCounter++,w.colorMask(!1,!1,!1,!1),w.stencilFunc(w.EQUAL,f,this._getBitwiseMask()),w.stencilOp(w.KEEP,w.KEEP,w.INCR),d.renderable=!0,d.render(this.renderer),this.renderer.batch.flush(),d.renderable=!1,this._useCurrent()},g.prototype.pop=function(i){var d=this.renderer.gl;this.getStackLength()===0?(d.disable(d.STENCIL_TEST),d.clear(d.STENCIL_BUFFER_BIT),d.clearStencil(0)):(d.colorMask(!1,!1,!1,!1),d.stencilOp(d.KEEP,d.KEEP,d.DECR),i.renderable=!0,i.render(this.renderer),this.renderer.batch.flush(),i.renderable=!1,this._useCurrent())},g.prototype._useCurrent=function(){var i=this.renderer.gl;i.colorMask(!0,!0,!0,!0),i.stencilFunc(i.EQUAL,this.getStackLength(),this._getBitwiseMask()),i.stencilOp(i.KEEP,i.KEEP,i.KEEP)},g.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},g}(rh),ah=function(b){Xn(g,b);function g(i){var d=b.call(this,i)||this;return d.destinationFrame=null,d.sourceFrame=null,d.defaultFrame=null,d.projectionMatrix=new Or,d.transform=null,d}return g.prototype.update=function(i,d,w,f){this.destinationFrame=i||this.destinationFrame||this.defaultFrame,this.sourceFrame=d||this.sourceFrame||i,this.calculateProjection(this.destinationFrame,this.sourceFrame,w,f),this.transform&&this.projectionMatrix.append(this.transform);var r=this.renderer;r.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,r.globalUniforms.update(),r.shader.shader&&r.shader.syncUniformGroup(r.shader.shader.uniforms.globals)},g.prototype.calculateProjection=function(i,d,w,f){var r=this.projectionMatrix,t=f?-1:1;r.identity(),r.a=1/d.width*2,r.d=t*(1/d.height*2),r.tx=-1-d.x*r.a,r.ty=-t-d.y*r.d},g.prototype.setTransform=function(i){},g}(ri),$i=new or,ra=new or,ia=new or,sh=function(b){Xn(g,b);function g(i){var d=b.call(this,i)||this;return d.clearColor=i._backgroundColorRgba,d.defaultMaskStack=[],d.current=null,d.sourceFrame=new or,d.destinationFrame=new or,d}return g.prototype.bind=function(i,d,w){i===void 0&&(i=null);var f=this.renderer;this.current=i;var r,t,n;i?(r=i.baseTexture,n=r.resolution,d||($i.width=i.frame.width,$i.height=i.frame.height,d=$i),w||(ra.x=i.frame.x,ra.y=i.frame.y,ra.width=d.width,ra.height=d.height,w=ra),t=r.framebuffer):(n=f.resolution,d||($i.width=f.screen.width,$i.height=f.screen.height,d=$i),w||(w=$i,w.width=d.width,w.height=d.height)),ia.x=w.x*n,ia.y=w.y*n,ia.width=w.width*n,ia.height=w.height*n,this.renderer.framebuffer.bind(t,ia),this.renderer.projection.update(w,d,n,!t),i?this.renderer.mask.setMaskStack(r.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(d),this.destinationFrame.copyFrom(w)},g.prototype.clear=function(i,d){this.current?i=i||this.current.baseTexture.clearColor:i=i||this.clearColor,this.renderer.framebuffer.clear(i[0],i[1],i[2],i[3],d)},g.prototype.resize=function(){this.bind(null)},g.prototype.reset=function(){this.bind(null)},g}(ri),Gd=function(){function b(){}return b}(),lh=function(){function b(g,i){this.program=g,this.uniformData=i,this.uniformGroups={}}return b.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},b}(),Wd=0,Iu={textureCount:0},uh=function(b){Xn(g,b);function g(i){var d=b.call(this,i)||this;return d.destroyed=!1,d.systemCheck(),d.gl=null,d.shader=null,d.program=null,d.cache={},d.id=Wd++,d}return g.prototype.systemCheck=function(){if(!Dd())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},g.prototype.contextChange=function(i){this.gl=i,this.reset()},g.prototype.bind=function(i,d){i.uniforms.globals=this.renderer.globalUniforms;var w=i.program,f=w.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(i);return this.shader=i,this.program!==w&&(this.program=w,this.gl.useProgram(f.program)),d||(Iu.textureCount=0,this.syncUniformGroup(i.uniformGroup,Iu)),f},g.prototype.setUniforms=function(i){var d=this.shader.program,w=d.glPrograms[this.renderer.CONTEXT_UID];d.syncUniforms(w.uniformData,i,this.renderer)},g.prototype.syncUniformGroup=function(i,d){var w=this.getglProgram();(!i.static||i.dirtyId!==w.uniformGroups[i.id])&&(w.uniformGroups[i.id]=i.dirtyId,this.syncUniforms(i,w,d))},g.prototype.syncUniforms=function(i,d,w){var f=i.syncUniforms[this.shader.program.id]||this.createSyncGroups(i);f(d.uniformData,i.uniforms,this.renderer,w)},g.prototype.createSyncGroups=function(i){var d=this.getSignature(i,this.shader.program.uniformData);return this.cache[d]||(this.cache[d]=Rd(i,this.shader.program.uniformData)),i.syncUniforms[this.shader.program.id]=this.cache[d],i.syncUniforms[this.shader.program.id]},g.prototype.getSignature=function(i,d){var w=i.uniforms,f=[];for(var r in w)f.push(r),d[r]&&f.push(d[r].type);return f.join("-")},g.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},g.prototype.generateShader=function(i){var d=this.gl,w=i.program,f={};for(var r in w.attributeData)f[r]=w.attributeData[r].location;var t=Zc(d,w.vertexSrc,w.fragmentSrc,f),n={};for(var r in w.uniformData){var a=w.uniformData[r];n[r]={location:d.getUniformLocation(t,r),value:Kc(a.type,a.size)}}var l=new lh(t,n);return w.glPrograms[this.renderer.CONTEXT_UID]=l,l},g.prototype.reset=function(){this.program=null,this.shader=null},g.prototype.destroy=function(){this.destroyed=!0},g}(ri);function Xd(b,g){return g===void 0&&(g=[]),g[Pn.NORMAL]=[b.ONE,b.ONE_MINUS_SRC_ALPHA],g[Pn.ADD]=[b.ONE,b.ONE],g[Pn.MULTIPLY]=[b.DST_COLOR,b.ONE_MINUS_SRC_ALPHA,b.ONE,b.ONE_MINUS_SRC_ALPHA],g[Pn.SCREEN]=[b.ONE,b.ONE_MINUS_SRC_COLOR,b.ONE,b.ONE_MINUS_SRC_ALPHA],g[Pn.OVERLAY]=[b.ONE,b.ONE_MINUS_SRC_ALPHA],g[Pn.DARKEN]=[b.ONE,b.ONE_MINUS_SRC_ALPHA],g[Pn.LIGHTEN]=[b.ONE,b.ONE_MINUS_SRC_ALPHA],g[Pn.COLOR_DODGE]=[b.ONE,b.ONE_MINUS_SRC_ALPHA],g[Pn.COLOR_BURN]=[b.ONE,b.ONE_MINUS_SRC_ALPHA],g[Pn.HARD_LIGHT]=[b.ONE,b.ONE_MINUS_SRC_ALPHA],g[Pn.SOFT_LIGHT]=[b.ONE,b.ONE_MINUS_SRC_ALPHA],g[Pn.DIFFERENCE]=[b.ONE,b.ONE_MINUS_SRC_ALPHA],g[Pn.EXCLUSION]=[b.ONE,b.ONE_MINUS_SRC_ALPHA],g[Pn.HUE]=[b.ONE,b.ONE_MINUS_SRC_ALPHA],g[Pn.SATURATION]=[b.ONE,b.ONE_MINUS_SRC_ALPHA],g[Pn.COLOR]=[b.ONE,b.ONE_MINUS_SRC_ALPHA],g[Pn.LUMINOSITY]=[b.ONE,b.ONE_MINUS_SRC_ALPHA],g[Pn.NONE]=[0,0],g[Pn.NORMAL_NPM]=[b.SRC_ALPHA,b.ONE_MINUS_SRC_ALPHA,b.ONE,b.ONE_MINUS_SRC_ALPHA],g[Pn.ADD_NPM]=[b.SRC_ALPHA,b.ONE,b.ONE,b.ONE],g[Pn.SCREEN_NPM]=[b.SRC_ALPHA,b.ONE_MINUS_SRC_COLOR,b.ONE,b.ONE_MINUS_SRC_ALPHA],g[Pn.SRC_IN]=[b.DST_ALPHA,b.ZERO],g[Pn.SRC_OUT]=[b.ONE_MINUS_DST_ALPHA,b.ZERO],g[Pn.SRC_ATOP]=[b.DST_ALPHA,b.ONE_MINUS_SRC_ALPHA],g[Pn.DST_OVER]=[b.ONE_MINUS_DST_ALPHA,b.ONE],g[Pn.DST_IN]=[b.ZERO,b.SRC_ALPHA],g[Pn.DST_OUT]=[b.ZERO,b.ONE_MINUS_SRC_ALPHA],g[Pn.DST_ATOP]=[b.ONE_MINUS_DST_ALPHA,b.SRC_ALPHA],g[Pn.XOR]=[b.ONE_MINUS_DST_ALPHA,b.ONE_MINUS_SRC_ALPHA],g[Pn.SUBTRACT]=[b.ONE,b.ONE,b.ONE,b.ONE,b.FUNC_REVERSE_SUBTRACT,b.FUNC_ADD],g}var qd=0,Yd=1,$d=2,Zd=3,Kd=4,ch=function(b){Xn(g,b);function g(i){var d=b.call(this,i)||this;return d.gl=null,d.stateId=0,d.polygonOffset=0,d.blendMode=Pn.NONE,d._blendEq=!1,d.map=[],d.map[qd]=d.setBlend,d.map[Yd]=d.setOffset,d.map[$d]=d.setCullFace,d.map[Zd]=d.setDepthTest,d.map[Kd]=d.setFrontFace,d.checks=[],d.defaultState=new Gi,d.defaultState.blend=!0,d}return g.prototype.contextChange=function(i){this.gl=i,this.blendModes=Xd(i),this.set(this.defaultState),this.reset()},g.prototype.set=function(i){if(i=i||this.defaultState,this.stateId!==i.data){for(var d=this.stateId^i.data,w=0;d;)d&1&&this.map[w].call(this,!!(i.data&1<<w)),d=d>>1,w++;this.stateId=i.data}for(var w=0;w<this.checks.length;w++)this.checks[w](this,i)},g.prototype.forceState=function(i){i=i||this.defaultState;for(var d=0;d<this.map.length;d++)this.map[d].call(this,!!(i.data&1<<d));for(var d=0;d<this.checks.length;d++)this.checks[d](this,i);this.stateId=i.data},g.prototype.setBlend=function(i){this.updateCheck(g.checkBlendMode,i),this.gl[i?"enable":"disable"](this.gl.BLEND)},g.prototype.setOffset=function(i){this.updateCheck(g.checkPolygonOffset,i),this.gl[i?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},g.prototype.setDepthTest=function(i){this.gl[i?"enable":"disable"](this.gl.DEPTH_TEST)},g.prototype.setCullFace=function(i){this.gl[i?"enable":"disable"](this.gl.CULL_FACE)},g.prototype.setFrontFace=function(i){this.gl.frontFace(this.gl[i?"CW":"CCW"])},g.prototype.setBlendMode=function(i){if(i!==this.blendMode){this.blendMode=i;var d=this.blendModes[i],w=this.gl;d.length===2?w.blendFunc(d[0],d[1]):w.blendFuncSeparate(d[0],d[1],d[2],d[3]),d.length===6?(this._blendEq=!0,w.blendEquationSeparate(d[4],d[5])):this._blendEq&&(this._blendEq=!1,w.blendEquationSeparate(w.FUNC_ADD,w.FUNC_ADD))}},g.prototype.setPolygonOffset=function(i,d){this.gl.polygonOffset(i,d)},g.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},g.prototype.updateCheck=function(i,d){var w=this.checks.indexOf(i);d&&w===-1?this.checks.push(i):!d&&w!==-1&&this.checks.splice(w,1)},g.checkBlendMode=function(i,d){i.setBlendMode(d.blendMode)},g.checkPolygonOffset=function(i,d){i.setPolygonOffset(1,d.polygonOffset)},g}(ri),hh=function(b){Xn(g,b);function g(i){var d=b.call(this,i)||this;return d.count=0,d.checkCount=0,d.maxIdle=An.GC_MAX_IDLE,d.checkCountMax=An.GC_MAX_CHECK_COUNT,d.mode=An.GC_MODE,d}return g.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==$a.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},g.prototype.run=function(){for(var i=this.renderer.texture,d=i.managedTextures,w=!1,f=0;f<d.length;f++){var r=d[f];!r.framebuffer&&this.count-r.touched>this.maxIdle&&(i.destroyTexture(r,!0),d[f]=null,w=!0)}if(w){for(var t=0,f=0;f<d.length;f++)d[f]!==null&&(d[t++]=d[f]);d.length=t}},g.prototype.unload=function(i){var d=this.renderer.texture,w=i._texture;w&&!w.framebuffer&&d.destroyTexture(w);for(var f=i.children.length-1;f>=0;f--)this.unload(i.children[f])},g}(ri),Xa=function(){function b(g){this.texture=g,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121}return b}(),fh=function(b){Xn(g,b);function g(i){var d=b.call(this,i)||this;return d.boundTextures=[],d.currentLocation=-1,d.managedTextures=[],d._unknownBoundTextures=!1,d.unknownTexture=new yr,d}return g.prototype.contextChange=function(){var i=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var d=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=d;for(var w=0;w<d;w++)this.boundTextures[w]=null;this.emptyTextures={};var f=new Xa(i.createTexture());i.bindTexture(i.TEXTURE_2D,f.texture),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[i.TEXTURE_2D]=f,this.emptyTextures[i.TEXTURE_CUBE_MAP]=new Xa(i.createTexture()),i.bindTexture(i.TEXTURE_CUBE_MAP,this.emptyTextures[i.TEXTURE_CUBE_MAP].texture);for(var w=0;w<6;w++)i.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+w,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,null);i.texParameteri(i.TEXTURE_CUBE_MAP,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_CUBE_MAP,i.TEXTURE_MIN_FILTER,i.LINEAR);for(var w=0;w<this.boundTextures.length;w++)this.bind(null,w)},g.prototype.bind=function(i,d){d===void 0&&(d=0);var w=this.gl;if(i){if(i=i.castToBaseTexture(),i.parentTextureArray)return;if(i.valid){i.touched=this.renderer.textureGC.count;var f=i._glTextures[this.CONTEXT_UID]||this.initTexture(i);this.boundTextures[d]!==i&&(this.currentLocation!==d&&(this.currentLocation=d,w.activeTexture(w.TEXTURE0+d)),w.bindTexture(i.target,f.texture)),f.dirtyId!==i.dirtyId&&(this.currentLocation!==d&&(this.currentLocation=d,w.activeTexture(w.TEXTURE0+d)),this.updateTexture(i)),this.boundTextures[d]=i}}else this.currentLocation!==d&&(this.currentLocation=d,w.activeTexture(w.TEXTURE0+d)),w.bindTexture(w.TEXTURE_2D,this.emptyTextures[w.TEXTURE_2D].texture),this.boundTextures[d]=null},g.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var i=0;i<this.boundTextures.length;i++)this.boundTextures[i]=this.unknownTexture},g.prototype.unbind=function(i){var d=this,w=d.gl,f=d.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var r=0;r<f.length;r++)f[r]===this.unknownTexture&&this.bind(null,r)}for(var r=0;r<f.length;r++)f[r]===i&&(this.currentLocation!==r&&(w.activeTexture(w.TEXTURE0+r),this.currentLocation=r),w.bindTexture(i.target,this.emptyTextures[i.target].texture),f[r]=null)},g.prototype.initTexture=function(i){var d=new Xa(this.gl.createTexture());return d.dirtyId=-1,i._glTextures[this.CONTEXT_UID]=d,this.managedTextures.push(i),i.on("dispose",this.destroyTexture,this),d},g.prototype.initTextureType=function(i,d){if(d.internalFormat=i.format,d.type=i.type,this.webGLVersion===2){var w=this.renderer.gl;i.type===w.FLOAT&&i.format===w.RGBA&&(d.internalFormat=w.RGBA32F),i.type===Pr.HALF_FLOAT&&(d.type=w.HALF_FLOAT),d.type===w.HALF_FLOAT&&i.format===w.RGBA&&(d.internalFormat=w.RGBA16F)}},g.prototype.updateTexture=function(i){var d=i._glTextures[this.CONTEXT_UID];if(d){var w=this.renderer;if(this.initTextureType(i,d),!(i.resource&&i.resource.upload(w,i,d))){var f=i.realWidth,r=i.realHeight,t=w.gl;(d.width!==f||d.height!==r||d.dirtyId<0)&&(d.width=f,d.height=r,t.texImage2D(i.target,0,d.internalFormat,f,r,0,i.format,d.type,null))}i.dirtyStyleId!==d.dirtyStyleId&&this.updateTextureStyle(i),d.dirtyId=i.dirtyId}},g.prototype.destroyTexture=function(i,d){var w=this.gl;if(i=i.castToBaseTexture(),i._glTextures[this.CONTEXT_UID]&&(this.unbind(i),w.deleteTexture(i._glTextures[this.CONTEXT_UID].texture),i.off("dispose",this.destroyTexture,this),delete i._glTextures[this.CONTEXT_UID],!d)){var f=this.managedTextures.indexOf(i);f!==-1&&io(this.managedTextures,f,1)}},g.prototype.updateTextureStyle=function(i){var d=i._glTextures[this.CONTEXT_UID];d&&((i.mipmap===Po.POW2||this.webGLVersion!==2)&&!i.isPowerOfTwo?d.mipmap=!1:d.mipmap=i.mipmap>=1,this.webGLVersion!==2&&!i.isPowerOfTwo?d.wrapMode=Ii.CLAMP:d.wrapMode=i.wrapMode,i.resource&&i.resource.style(this.renderer,i,d)||this.setStyle(i,d),d.dirtyStyleId=i.dirtyStyleId)},g.prototype.setStyle=function(i,d){var w=this.gl;if(d.mipmap&&w.generateMipmap(i.target),w.texParameteri(i.target,w.TEXTURE_WRAP_S,d.wrapMode),w.texParameteri(i.target,w.TEXTURE_WRAP_T,d.wrapMode),d.mipmap){w.texParameteri(i.target,w.TEXTURE_MIN_FILTER,i.scaleMode===xi.LINEAR?w.LINEAR_MIPMAP_LINEAR:w.NEAREST_MIPMAP_NEAREST);var f=this.renderer.context.extensions.anisotropicFiltering;if(f&&i.anisotropicLevel>0&&i.scaleMode===xi.LINEAR){var r=Math.min(i.anisotropicLevel,w.getParameter(f.MAX_TEXTURE_MAX_ANISOTROPY_EXT));w.texParameterf(i.target,f.TEXTURE_MAX_ANISOTROPY_EXT,r)}}else w.texParameteri(i.target,w.TEXTURE_MIN_FILTER,i.scaleMode===xi.LINEAR?w.LINEAR:w.NEAREST);w.texParameteri(i.target,w.TEXTURE_MAG_FILTER,i.scaleMode===xi.LINEAR?w.LINEAR:w.NEAREST)},g}(ri),Jd={FilterSystem:Vc,BatchSystem:Gc,ContextSystem:Wc,FramebufferSystem:qc,GeometrySystem:Yc,MaskSystem:nh,ScissorSystem:ih,StencilSystem:oh,ProjectionSystem:ah,RenderTextureSystem:sh,ShaderSystem:uh,StateSystem:ch,TextureGCSystem:hh,TextureSystem:fh},Ls=new Or,dh=function(b){Xn(g,b);function g(i,d){i===void 0&&(i=Co.UNKNOWN);var w=b.call(this)||this;return d=Object.assign({},An.RENDER_OPTIONS,d),d.roundPixels&&(An.ROUND_PIXELS=d.roundPixels,en("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),w.options=d,w.type=i,w.screen=new or(0,0,d.width,d.height),w.view=d.view||document.createElement("canvas"),w.resolution=d.resolution||An.RESOLUTION,w.transparent=d.transparent,w.autoDensity=d.autoDensity||d.autoResize||!1,w.preserveDrawingBuffer=d.preserveDrawingBuffer,w.clearBeforeRender=d.clearBeforeRender,w._backgroundColor=0,w._backgroundColorRgba=[0,0,0,0],w._backgroundColorString="#000000",w.backgroundColor=d.backgroundColor||w._backgroundColor,w._lastObjectRendered=null,w.plugins={},w}return g.prototype.initPlugins=function(i){for(var d in i)this.plugins[d]=new i[d](this)},Object.defineProperty(g.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),g.prototype.resize=function(i,d){this.screen.width=i,this.screen.height=d,this.view.width=i*this.resolution,this.view.height=d*this.resolution,this.autoDensity&&(this.view.style.width=i+"px",this.view.style.height=d+"px"),this.emit("resize",i,d)},g.prototype.generateTexture=function(i,d,w,f){f=f||i.getLocalBounds(null,!0),f.width===0&&(f.width=1),f.height===0&&(f.height=1);var r=lo.create({width:f.width|0,height:f.height|0,scaleMode:d,resolution:w});return Ls.tx=-f.x,Ls.ty=-f.y,this.render(i,r,!1,Ls,!!i.parent),r},g.prototype.destroy=function(i){for(var d in this.plugins)this.plugins[d].destroy(),this.plugins[d]=null;i&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var w=this;w.plugins=null,w.type=Co.UNKNOWN,w.view=null,w.screen=null,w._tempDisplayObjectParent=null,w.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(g.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(i){this._backgroundColor=i,this._backgroundColorString=Il(i),ao(i,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),g}(No),ji=function(b){Xn(g,b);function g(i){var d=b.call(this,Co.WEBGL,i)||this;return i=d.options,d.gl=null,d.CONTEXT_UID=0,d.runners={destroy:new Xr("destroy"),contextChange:new Xr("contextChange"),reset:new Xr("reset"),update:new Xr("update"),postrender:new Xr("postrender"),prerender:new Xr("prerender"),resize:new Xr("resize")},d.globalUniforms=new Ui({projectionMatrix:new Or},!0),d.addSystem(nh,"mask").addSystem(Wc,"context").addSystem(ch,"state").addSystem(uh,"shader").addSystem(fh,"texture").addSystem(Yc,"geometry").addSystem(qc,"framebuffer").addSystem(ih,"scissor").addSystem(oh,"stencil").addSystem(ah,"projection").addSystem(hh,"textureGC").addSystem(Vc,"filter").addSystem(sh,"renderTexture").addSystem(Gc,"batch"),d.initPlugins(g.__plugins),i.context?d.context.initFromContext(i.context):d.context.initFromOptions({alpha:!!d.transparent,antialias:i.antialias,premultipliedAlpha:d.transparent&&d.transparent!=="notMultiplied",stencil:!0,preserveDrawingBuffer:i.preserveDrawingBuffer,powerPreference:d.options.powerPreference}),d.renderingToScreen=!0,pc(d.context.webGLVersion===2?"WebGL 2":"WebGL 1"),d.resize(d.options.width,d.options.height),d}return g.create=function(i){if(mc())return new g(i);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},g.prototype.addSystem=function(i,d){d||(d=i.name);var w=new i(this);if(this[d])throw new Error('Whoops! The name "'+d+'" is already in use');this[d]=w;for(var f in this.runners)this.runners[f].add(w);return this},g.prototype.render=function(i,d,w,f,r){if(this.renderingToScreen=!d,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=f,!this.context.isLost){if(d||(this._lastObjectRendered=i),!r){var t=i.enableTempParent();i.updateTransform(),i.disableTempParent(t)}this.renderTexture.bind(d),this.batch.currentRenderer.start(),(w!==void 0?w:this.clearBeforeRender)&&this.renderTexture.clear(),i.render(this),this.batch.currentRenderer.flush(),d&&d.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},g.prototype.resize=function(i,d){b.prototype.resize.call(this,i,d),this.runners.resize.emit(i,d)},g.prototype.reset=function(){return this.runners.reset.emit(),this},g.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},g.prototype.destroy=function(i){this.runners.destroy.emit();for(var d in this.runners)this.runners[d].destroy();b.prototype.destroy.call(this,i),this.gl=null},g.registerPlugin=function(i,d){g.__plugins=g.__plugins||{},g.__plugins[i]=d},g}(dh);function ph(b){return ji.create(b)}var mh=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Xl=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,Ja=function(){function b(){this.texArray=null,this.blend=0,this.type=ci.TRIANGLES,this.start=0,this.size=0,this.data=null}return b}(),Qa=function(){function b(){this.elements=[],this.ids=[],this.count=0}return b.prototype.clear=function(){for(var g=0;g<this.count;g++)this.elements[g]=null;this.count=0},b}(),gh=function(){function b(g){this.rawBinaryData=new ArrayBuffer(g),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(b.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),b.prototype.view=function(g){return this[g+"View"]},b.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},b.sizeOf=function(g){switch(g){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(g+" isn't a valid view type")}},b}(),vh=function(b){Xn(g,b);function g(i){var d=b.call(this,i)||this;return d.shaderGenerator=null,d.geometryClass=null,d.vertexSize=null,d.state=Gi.for2d(),d.size=An.SPRITE_BATCH_SIZE*4,d._vertexCount=0,d._indexCount=0,d._bufferedElements=[],d._bufferedTextures=[],d._bufferSize=0,d._shader=null,d._packedGeometries=[],d._packedGeometryPoolSize=2,d._flushId=0,d._aBuffers={},d._iBuffers={},d.MAX_TEXTURES=1,d.renderer.on("prerender",d.onPrerender,d),i.runners.contextChange.add(d),d._dcIndex=0,d._aIndex=0,d._iIndex=0,d._attributeBuffer=null,d._indexBuffer=null,d._tempBoundTextures=[],d}return g.prototype.contextChange=function(){var i=this.renderer.gl;An.PREFER_ENV===wi.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),An.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=th(this.MAX_TEXTURES,i)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var d=0;d<this._packedGeometryPoolSize;d++)this._packedGeometries[d]=new this.geometryClass;this.initFlushBuffers()},g.prototype.initFlushBuffers=function(){for(var i=g._drawCallPool,d=g._textureArrayPool,w=this.size/4,f=Math.floor(w/this.MAX_TEXTURES)+1;i.length<w;)i.push(new Ja);for(;d.length<f;)d.push(new Qa);for(var r=0;r<this.MAX_TEXTURES;r++)this._tempBoundTextures[r]=null},g.prototype.onPrerender=function(){this._flushId=0},g.prototype.render=function(i){i._texture.valid&&(this._vertexCount+i.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=i.vertexData.length/2,this._indexCount+=i.indices.length,this._bufferedTextures[this._bufferSize]=i._texture.baseTexture,this._bufferedElements[this._bufferSize++]=i)},g.prototype.buildTexturesAndDrawCalls=function(){var i=this,d=i._bufferedTextures,w=i.MAX_TEXTURES,f=g._textureArrayPool,r=this.renderer.batch,t=this._tempBoundTextures,n=this.renderer.textureGC.count,a=++yr._globalBatch,l=0,e=f[0],o=0;r.copyBoundTextures(t,w);for(var s=0;s<this._bufferSize;++s){var u=d[s];d[s]=null,u._batchEnabled!==a&&(e.count>=w&&(r.boundArray(e,t,a,w),this.buildDrawCalls(e,o,s),o=s,e=f[++l],++a),u._batchEnabled=a,u.touched=n,e.elements[e.count++]=u)}e.count>0&&(r.boundArray(e,t,a,w),this.buildDrawCalls(e,o,this._bufferSize),++l,++a);for(var s=0;s<t.length;s++)t[s]=null;yr._globalBatch=a},g.prototype.buildDrawCalls=function(i,d,w){var f=this,r=f._bufferedElements,t=f._attributeBuffer,n=f._indexBuffer,a=f.vertexSize,l=g._drawCallPool,e=this._dcIndex,o=this._aIndex,s=this._iIndex,u=l[e];u.start=this._iIndex,u.texArray=i;for(var c=d;c<w;++c){var m=r[c],p=m._texture.baseTexture,h=Ll[p.alphaMode?1:0][m.blendMode];r[c]=null,d<c&&u.blend!==h&&(u.size=s-u.start,d=c,u=l[++e],u.texArray=i,u.start=s),this.packInterleavedGeometry(m,t,n,o,s),o+=m.vertexData.length/2*a,s+=m.indices.length,u.blend=h}d<w&&(u.size=s-u.start,++e),this._dcIndex=e,this._aIndex=o,this._iIndex=s},g.prototype.bindAndClearTexArray=function(i){for(var d=this.renderer.texture,w=0;w<i.count;w++)d.bind(i.elements[w],i.ids[w]),i.elements[w]=null;i.count=0},g.prototype.updateGeometry=function(){var i=this,d=i._packedGeometries,w=i._attributeBuffer,f=i._indexBuffer;An.CAN_UPLOAD_SAME_BUFFER?(d[this._flushId]._buffer.update(w.rawBinaryData),d[this._flushId]._indexBuffer.update(f),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,d[this._flushId]=new this.geometryClass),d[this._flushId]._buffer.update(w.rawBinaryData),d[this._flushId]._indexBuffer.update(f),this.renderer.geometry.bind(d[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},g.prototype.drawBatches=function(){for(var i=this._dcIndex,d=this.renderer,w=d.gl,f=d.state,r=g._drawCallPool,t=null,n=0;n<i;n++){var a=r[n],l=a.texArray,e=a.type,o=a.size,s=a.start,u=a.blend;t!==l&&(t=l,this.bindAndClearTexArray(l)),this.state.blendMode=u,f.set(this.state),w.drawElements(e,o,w.UNSIGNED_SHORT,s*2)}},g.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},g.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),An.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},g.prototype.stop=function(){this.flush()},g.prototype.destroy=function(){for(var i=0;i<this._packedGeometryPoolSize;i++)this._packedGeometries[i]&&this._packedGeometries[i].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),b.prototype.destroy.call(this)},g.prototype.getAttributeBuffer=function(i){var d=fa(Math.ceil(i/8)),w=$s(d),f=d*8;this._aBuffers.length<=w&&(this._iBuffers.length=w+1);var r=this._aBuffers[f];return r||(this._aBuffers[f]=r=new gh(f*this.vertexSize*4)),r},g.prototype.getIndexBuffer=function(i){var d=fa(Math.ceil(i/12)),w=$s(d),f=d*12;this._iBuffers.length<=w&&(this._iBuffers.length=w+1);var r=this._iBuffers[w];return r||(this._iBuffers[w]=r=new Uint16Array(f)),r},g.prototype.packInterleavedGeometry=function(i,d,w,f,r){for(var t=d.uint32View,n=d.float32View,a=f/this.vertexSize,l=i.uvs,e=i.indices,o=i.vertexData,s=i._texture.baseTexture._batchLocation,u=Math.min(i.worldAlpha,1),c=u<1&&i._texture.baseTexture.alphaMode?es(i._tintRGB,u):i._tintRGB+(u*255<<24),m=0;m<o.length;m+=2)n[f++]=o[m],n[f++]=o[m+1],n[f++]=l[m],n[f++]=l[m+1],t[f++]=c,n[f++]=s;for(var m=0;m<e.length;m++)w[r++]=a+e[m]},g._drawCallPool=[],g._textureArrayPool=[],g}(ya),yh=function(){function b(g,i){if(this.vertexSrc=g,this.fragTemplate=i,this.programCache={},this.defaultGroupCache={},i.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(i.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return b.prototype.generateShader=function(g){if(!this.programCache[g]){for(var i=new Int32Array(g),d=0;d<g;d++)i[d]=d;this.defaultGroupCache[g]=Ui.from({uSamplers:i},!0);var w=this.fragTemplate;w=w.replace(/%count%/gi,""+g),w=w.replace(/%forloop%/gi,this.generateSampleSrc(g)),this.programCache[g]=new ba(this.vertexSrc,w)}var f={tint:new Float32Array([1,1,1,1]),translationMatrix:new Or,default:this.defaultGroupCache[g]};return new Vi(this.programCache[g],f)},b.prototype.generateSampleSrc=function(g){var i="";i+=`
`,i+=`
`;for(var d=0;d<g;d++)d>0&&(i+=`
else `),d<g-1&&(i+="if(vTextureId < "+d+".5)"),i+=`
{`,i+=`
	color = texture2D(uSamplers[`+d+"], vTextureCoord);",i+=`
}`;return i+=`
`,i+=`
`,i},b}(),ql=function(b){Xn(g,b);function g(i){i===void 0&&(i=!1);var d=b.call(this)||this;return d._buffer=new Lr(null,i,!1),d._indexBuffer=new Lr(null,i,!0),d.addAttribute("aVertexPosition",d._buffer,2,!1,Pr.FLOAT).addAttribute("aTextureCoord",d._buffer,2,!1,Pr.FLOAT).addAttribute("aColor",d._buffer,4,!0,Pr.UNSIGNED_BYTE).addAttribute("aTextureId",d._buffer,1,!0,Pr.FLOAT).addIndex(d._indexBuffer),d}return g}(Do),Ru=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,Lu=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,bh=function(){function b(){}return b.create=function(g){var i=Object.assign({vertex:Ru,fragment:Lu,geometryClass:ql,vertexSize:6},g),d=i.vertex,w=i.fragment,f=i.vertexSize,r=i.geometryClass;return function(t){Xn(n,t);function n(a){var l=t.call(this,a)||this;return l.shaderGenerator=new yh(d,w),l.geometryClass=r,l.vertexSize=f,l}return n}(vh)},Object.defineProperty(b,"defaultVertexSrc",{get:function(){return Ru},enumerable:!1,configurable:!0}),Object.defineProperty(b,"defaultFragmentTemplate",{get:function(){return Lu},enumerable:!1,configurable:!0}),b}(),_h=bh.create();/*!
 * @pixi/app - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var _a=function(){function b(g){var i=this;g=Object.assign({forceCanvas:!1},g),this.renderer=ph(g),this.stage=new yi,b._plugins.forEach(function(d){d.init.call(i,g)})}return b.registerPlugin=function(g){b._plugins.push(g)},b.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(b.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),b.prototype.destroy=function(g,i){var d=this,w=b._plugins.slice(0);w.reverse(),w.forEach(function(f){f.destroy.call(d)}),this.stage.destroy(i),this.stage=null,this.renderer.destroy(g),this.renderer=null},b}();_a._plugins=[];var Qd=function(){function b(){}return b.init=function(g){var i=this;Object.defineProperty(this,"resizeTo",{set:function(d){window.removeEventListener("resize",this.queueResize),this._resizeTo=d,d&&(window.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){i._resizeTo&&(i.cancelResize(),i._resizeId=requestAnimationFrame(function(){return i.resize()}))},this.cancelResize=function(){i._resizeId&&(cancelAnimationFrame(i._resizeId),i._resizeId=null)},this.resize=function(){if(i._resizeTo){i.cancelResize();var d,w;if(i._resizeTo===window)d=window.innerWidth,w=window.innerHeight;else{var f=i._resizeTo,r=f.clientWidth,t=f.clientHeight;d=r,w=t}i.renderer.resize(d,w)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=g.resizeTo||null},b.destroy=function(){window.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},b}();_a.registerPlugin(Qd);/*!
 * @pixi/extract - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Nu=new or,Du=4,xh=function(){function b(g){this.renderer=g,g.extract=this}return b.prototype.image=function(g,i,d){var w=new Image;return w.src=this.base64(g,i,d),w},b.prototype.base64=function(g,i,d){return this.canvas(g).toDataURL(i,d)},b.prototype.canvas=function(g){var i=this.renderer,d,w,f=!1,r,t=!1;g&&(g instanceof lo?r=g:(r=this.renderer.generateTexture(g),t=!0)),r?(d=r.baseTexture.resolution,w=r.frame,f=!1,i.renderTexture.bind(r)):(d=this.renderer.resolution,f=!0,w=Nu,w.width=this.renderer.width,w.height=this.renderer.height,i.renderTexture.bind(null));var n=Math.floor(w.width*d+1e-4),a=Math.floor(w.height*d+1e-4),l=new Ks(n,a,1),e=new Uint8Array(Du*n*a),o=i.gl;o.readPixels(w.x*d,w.y*d,n,a,o.RGBA,o.UNSIGNED_BYTE,e);var s=l.context.getImageData(0,0,n,a);if(b.arrayPostDivide(e,s.data),l.context.putImageData(s,0,0),f){var u=new Ks(l.width,l.height,1);u.context.scale(1,-1),u.context.drawImage(l.canvas,0,-a),l.destroy(),l=u}return t&&r.destroy(!0),l.canvas},b.prototype.pixels=function(g){var i=this.renderer,d,w,f,r=!1;g&&(g instanceof lo?f=g:(f=this.renderer.generateTexture(g),r=!0)),f?(d=f.baseTexture.resolution,w=f.frame,i.renderTexture.bind(f)):(d=i.resolution,w=Nu,w.width=i.width,w.height=i.height,i.renderTexture.bind(null));var t=w.width*d,n=w.height*d,a=new Uint8Array(Du*t*n),l=i.gl;return l.readPixels(w.x*d,w.y*d,t,n,l.RGBA,l.UNSIGNED_BYTE,a),r&&f.destroy(!0),b.arrayPostDivide(a,a),a},b.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},b.arrayPostDivide=function(g,i){for(var d=0;d<g.length;d+=4){var w=i[d+3]=g[d+3];w!==0?(i[d]=Math.round(Math.min(g[d]*255/w,255)),i[d+1]=Math.round(Math.min(g[d+1]*255/w,255)),i[d+2]=Math.round(Math.min(g[d+2]*255/w,255))):(i[d]=g[d],i[d+1]=g[d+1],i[d+2]=g[d+2])}},b}(),tp=(b,g={})=>{if(!b)return;const i={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?))?((((?:[^?#/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#/]*\.[^?#/.]+(?:[?#]|$)))*\/?)?([^?#/]*))(?:\?([^#]*))?(?:#(.*))?)/}},d=i.parser[g.strictMode?"strict":"loose"].exec(b),w={};let f=14;for(;f--;)w[i.key[f]]=d[f]||"";return w[i.q.name]={},w[i.key[12]].replace(i.q.parser,function(r,t,n){t&&(w[i.q.name][t]=n)}),w};const wh=Ol(tp);class Ba{constructor(g,i=!1,d){this._fn=g,this._once=i,this._thisArg=d,this._next=this._prev=this._owner=null}detach(){return this._owner===null?!1:(this._owner.detach(this),!0)}}function ju(b,g){return b._head?(b._tail._next=g,g._prev=b._tail,b._tail=g):(b._head=g,b._tail=g),g._owner=b,g}class Pi{constructor(){this._head=this._tail=void 0}handlers(g=!1){let i=this._head;if(g)return!!i;const d=[];for(;i;)d.push(i),i=i._next;return d}has(g){if(!(g instanceof Ba))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return g._owner===this}dispatch(){let g=this._head;if(!g)return!1;for(;g;)g._once&&this.detach(g),g._fn.apply(g._thisArg,arguments),g=g._next;return!0}add(g,i=null){if(typeof g!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return ju(this,new Ba(g,!1,i))}once(g,i=null){if(typeof g!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return ju(this,new Ba(g,!0,i))}detach(g){if(!(g instanceof Ba))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return g._owner!==this?this:(g._prev&&(g._prev._next=g._next),g._next&&(g._next._prev=g._prev),g===this._head?(this._head=g._next,g._next===null&&(this._tail=null)):g===this._tail&&(this._tail=g._prev,this._tail._next=null),g._owner=null,this)}detachAll(){let g=this._head;if(!g)return this;for(this._head=this._tail=null;g;)g._owner=null,g=g._next;return this}}/*!
 * resource-loader - v3.0.1
 * https://github.com/pixijs/pixi-sound
 * Compiled Tue, 02 Jul 2019 14:06:18 UTC
 *
 * resource-loader is licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license
 */function Zi(){}function Hu(b,g,i,d){var w=0,f=b.length;(function r(t){if(t||w===f){i&&i(t);return}setTimeout(function(){g(b[w++],r)},1)})()}function ep(b){return function(){if(b===null)throw new Error("Callback was already called.");var g=b;b=null,g.apply(this,arguments)}}function np(b,g){if(g==null)g=1;else if(g===0)throw new Error("Concurrency must not be zero");var i=0,d={_tasks:[],concurrency:g,saturated:Zi,unsaturated:Zi,buffer:g/4,empty:Zi,drain:Zi,error:Zi,started:!1,paused:!1,push:function(r,t){w(r,!1,t)},kill:function(){i=0,d.drain=Zi,d.started=!1,d._tasks=[]},unshift:function(r,t){w(r,!0,t)},process:function(){for(;!d.paused&&i<d.concurrency&&d._tasks.length;){var r=d._tasks.shift();d._tasks.length===0&&d.empty(),i+=1,i===d.concurrency&&d.saturated(),b(r.data,ep(f(r)))}},length:function(){return d._tasks.length},running:function(){return i},idle:function(){return d._tasks.length+i===0},pause:function(){d.paused!==!0&&(d.paused=!0)},resume:function(){if(d.paused!==!1){d.paused=!1;for(var r=1;r<=d.concurrency;r++)d.process()}}};function w(r,t,n){if(n!=null&&typeof n!="function")throw new Error("task callback must be a function");if(d.started=!0,r==null&&d.idle()){setTimeout(function(){return d.drain()},1);return}var a={data:r,callback:typeof n=="function"?n:Zi};t?d._tasks.unshift(a):d._tasks.push(a),setTimeout(function(){return d.process()},1)}function f(r){return function(){i-=1,r.callback.apply(r,arguments),arguments[0]!=null&&d.error(arguments[0],r.data),i<=d.concurrency-d.buffer&&d.unsaturated(),d.idle()&&d.drain(),d.process()}}return d}var Ns={};function rp(b,g){var i=this;Ns[b.url]?(b.data=Ns[b.url],b.complete()):b.onComplete.once(function(){return Ns[i.url]=i.data}),g()}function ip(b,g){for(var i=0;i<g.length;i++){var d=g[i];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(b,d.key,d)}}function Sh(b,g,i){return g&&ip(b.prototype,g),b}var op=!!(window.XDomainRequest&&!("withCredentials"in new XMLHttpRequest)),Fa=null,ap=0,Bu=200,sp=204,lp=1223,up=2;function cp(){}var Mn=function(){b.setExtensionLoadType=function(i,d){Fu(b._loadTypeMap,i,d)},b.setExtensionXhrType=function(i,d){Fu(b._xhrTypeMap,i,d)};function b(i,d,w){if(typeof i!="string"||typeof d!="string")throw new Error("Both name and url are required for constructing a resource.");w=w||{},this._flags=0,this._setFlag(b.STATUS_FLAGS.DATA_URL,d.indexOf("data:")===0),this.name=i,this.url=d,this.extension=this._getExtension(),this.data=null,this.crossOrigin=w.crossOrigin===!0?"anonymous":w.crossOrigin,this.timeout=w.timeout||0,this.loadType=w.loadType||this._determineLoadType(),this.xhrType=w.xhrType,this.metadata=w.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=b.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=cp,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new Pi,this.onProgress=new Pi,this.onComplete=new Pi,this.onAfterMiddleware=new Pi}var g=b.prototype;return g.complete=function(){this._clearEvents(),this._finish()},g.abort=function(i){if(!this.error){if(this.error=new Error(i),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=b.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},g.load=function(i){var d=this;if(!this.isLoading){if(this.isComplete){i&&setTimeout(function(){return i(d)},1);return}else i&&this.onComplete.once(i);switch(this._setFlag(b.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case b.LOAD_TYPE.IMAGE:this.type=b.TYPE.IMAGE,this._loadElement("image");break;case b.LOAD_TYPE.AUDIO:this.type=b.TYPE.AUDIO,this._loadSourceElement("audio");break;case b.LOAD_TYPE.VIDEO:this.type=b.TYPE.VIDEO,this._loadSourceElement("video");break;case b.LOAD_TYPE.XHR:default:op&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},g._hasFlag=function(i){return(this._flags&i)!==0},g._setFlag=function(i,d){this._flags=d?this._flags|i:this._flags&~i},g._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},g._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(b.STATUS_FLAGS.COMPLETE,!0),this._setFlag(b.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},g._loadElement=function(i){this.metadata.loadElement?this.data=this.metadata.loadElement:i==="image"&&typeof window.Image<"u"?this.data=new Image:this.data=document.createElement(i),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},g._loadSourceElement=function(i){if(this.metadata.loadElement?this.data=this.metadata.loadElement:i==="audio"&&typeof window.Audio<"u"?this.data=new Audio:this.data=document.createElement(i),this.data===null){this.abort("Unsupported element: "+i);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var d=this.metadata.mimeType,w=0;w<this.url.length;++w)this.data.appendChild(this._createSource(i,this.url[w],Array.isArray(d)?d[w]:d));else{var f=this.metadata.mimeType;this.data.appendChild(this._createSource(i,this.url,Array.isArray(f)?f[0]:f))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},g._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var i=this.xhr=new XMLHttpRequest;i.open("GET",this.url,!0),i.timeout=this.timeout,this.xhrType===b.XHR_RESPONSE_TYPE.JSON||this.xhrType===b.XHR_RESPONSE_TYPE.DOCUMENT?i.responseType=b.XHR_RESPONSE_TYPE.TEXT:i.responseType=this.xhrType,i.addEventListener("error",this._boundXhrOnError,!1),i.addEventListener("timeout",this._boundXhrOnTimeout,!1),i.addEventListener("abort",this._boundXhrOnAbort,!1),i.addEventListener("progress",this._boundOnProgress,!1),i.addEventListener("load",this._boundXhrOnLoad,!1),i.send()},g._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var i=this.xhr=new XDomainRequest;i.timeout=this.timeout||5e3,i.onerror=this._boundXhrOnError,i.ontimeout=this._boundXhrOnTimeout,i.onprogress=this._boundOnProgress,i.onload=this._boundXhrOnLoad,i.open("GET",this.url,!0),setTimeout(function(){return i.send()},1)},g._createSource=function(i,d,w){w||(w=i+"/"+this._getExtension(d));var f=document.createElement("source");return f.src=d,f.type=w,f},g._onError=function(i){this.abort("Failed to load element using: "+i.target.nodeName)},g._onProgress=function(i){i&&i.lengthComputable&&this.onProgress.dispatch(this,i.loaded/i.total)},g._onTimeout=function(){this.abort("Load timed out.")},g._xhrOnError=function(){var i=this.xhr;this.abort(Ds(i)+" Request failed. Status: "+i.status+', text: "'+i.statusText+'"')},g._xhrOnTimeout=function(){var i=this.xhr;this.abort(Ds(i)+" Request timed out.")},g._xhrOnAbort=function(){var i=this.xhr;this.abort(Ds(i)+" Request was aborted by the user.")},g._xhrOnLoad=function(){var i=this.xhr,d="",w=typeof i.status>"u"?Bu:i.status;(i.responseType===""||i.responseType==="text"||typeof i.responseType>"u")&&(d=i.responseText),w===ap&&(d.length>0||i.responseType===b.XHR_RESPONSE_TYPE.BUFFER)?w=Bu:w===lp&&(w=sp);var f=w/100|0;if(f===up)if(this.xhrType===b.XHR_RESPONSE_TYPE.TEXT)this.data=d,this.type=b.TYPE.TEXT;else if(this.xhrType===b.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(d),this.type=b.TYPE.JSON}catch(n){this.abort("Error trying to parse loaded json: "+n);return}else if(this.xhrType===b.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var r=new DOMParser;this.data=r.parseFromString(d,"text/xml")}else{var t=document.createElement("div");t.innerHTML=d,this.data=t}this.type=b.TYPE.XML}catch(n){this.abort("Error trying to parse loaded xml: "+n);return}else this.data=i.response||d;else{this.abort("["+i.status+"] "+i.statusText+": "+i.responseURL);return}this.complete()},g._determineCrossOrigin=function(i,d){if(i.indexOf("data:")===0)return"";if(window.origin!==window.location.origin)return"anonymous";d=d||window.location,Fa||(Fa=document.createElement("a")),Fa.href=i,i=wh(Fa.href,{strictMode:!0});var w=!i.port&&d.port===""||i.port===d.port,f=i.protocol?i.protocol+":":"";return i.host!==d.hostname||!w||f!==d.protocol?"anonymous":""},g._determineXhrType=function(){return b._xhrTypeMap[this.extension]||b.XHR_RESPONSE_TYPE.TEXT},g._determineLoadType=function(){return b._loadTypeMap[this.extension]||b.LOAD_TYPE.XHR},g._getExtension=function(){var i=this.url,d="";if(this.isDataUrl){var w=i.indexOf("/");d=i.substring(w+1,i.indexOf(";",w))}else{var f=i.indexOf("?"),r=i.indexOf("#"),t=Math.min(f>-1?f:i.length,r>-1?r:i.length);i=i.substring(0,t),d=i.substring(i.lastIndexOf(".")+1)}return d.toLowerCase()},g._getMimeFromXhrType=function(i){switch(i){case b.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case b.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case b.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case b.XHR_RESPONSE_TYPE.JSON:return"application/json";case b.XHR_RESPONSE_TYPE.DEFAULT:case b.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},Sh(b,[{key:"isDataUrl",get:function(){return this._hasFlag(b.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(b.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(b.STATUS_FLAGS.LOADING)}}]),b}();Mn.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4};Mn.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6};Mn.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4};Mn.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"};Mn._loadTypeMap={gif:Mn.LOAD_TYPE.IMAGE,png:Mn.LOAD_TYPE.IMAGE,bmp:Mn.LOAD_TYPE.IMAGE,jpg:Mn.LOAD_TYPE.IMAGE,jpeg:Mn.LOAD_TYPE.IMAGE,tif:Mn.LOAD_TYPE.IMAGE,tiff:Mn.LOAD_TYPE.IMAGE,webp:Mn.LOAD_TYPE.IMAGE,tga:Mn.LOAD_TYPE.IMAGE,svg:Mn.LOAD_TYPE.IMAGE,"svg+xml":Mn.LOAD_TYPE.IMAGE,mp3:Mn.LOAD_TYPE.AUDIO,ogg:Mn.LOAD_TYPE.AUDIO,wav:Mn.LOAD_TYPE.AUDIO,mp4:Mn.LOAD_TYPE.VIDEO,webm:Mn.LOAD_TYPE.VIDEO};Mn._xhrTypeMap={xhtml:Mn.XHR_RESPONSE_TYPE.DOCUMENT,html:Mn.XHR_RESPONSE_TYPE.DOCUMENT,htm:Mn.XHR_RESPONSE_TYPE.DOCUMENT,xml:Mn.XHR_RESPONSE_TYPE.DOCUMENT,tmx:Mn.XHR_RESPONSE_TYPE.DOCUMENT,svg:Mn.XHR_RESPONSE_TYPE.DOCUMENT,tsx:Mn.XHR_RESPONSE_TYPE.DOCUMENT,gif:Mn.XHR_RESPONSE_TYPE.BLOB,png:Mn.XHR_RESPONSE_TYPE.BLOB,bmp:Mn.XHR_RESPONSE_TYPE.BLOB,jpg:Mn.XHR_RESPONSE_TYPE.BLOB,jpeg:Mn.XHR_RESPONSE_TYPE.BLOB,tif:Mn.XHR_RESPONSE_TYPE.BLOB,tiff:Mn.XHR_RESPONSE_TYPE.BLOB,webp:Mn.XHR_RESPONSE_TYPE.BLOB,tga:Mn.XHR_RESPONSE_TYPE.BLOB,json:Mn.XHR_RESPONSE_TYPE.JSON,text:Mn.XHR_RESPONSE_TYPE.TEXT,txt:Mn.XHR_RESPONSE_TYPE.TEXT,ttf:Mn.XHR_RESPONSE_TYPE.BUFFER,otf:Mn.XHR_RESPONSE_TYPE.BUFFER};Mn.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";function Fu(b,g,i){g&&g.indexOf(".")===0&&(g=g.substring(1)),g&&(b[g]=i)}function Ds(b){return b.toString().replace("object ","")}var hp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function fp(b){for(var g="",i=0;i<b.length;){for(var d=[0,0,0],w=[0,0,0,0],f=0;f<d.length;++f)i<b.length?d[f]=b.charCodeAt(i++)&255:d[f]=0;w[0]=d[0]>>2,w[1]=(d[0]&3)<<4|d[1]>>4,w[2]=(d[1]&15)<<2|d[2]>>6,w[3]=d[2]&63;var r=i-(b.length-1);switch(r){case 2:w[3]=64,w[2]=64;break;case 1:w[3]=64;break}for(var t=0;t<w.length;++t)g+=hp.charAt(w[t])}return g}var zu=window.URL||window.webkitURL;function dp(b,g){if(!b.data){g();return}if(b.xhr&&b.xhrType===Mn.XHR_RESPONSE_TYPE.BLOB){if(!window.Blob||typeof b.data=="string"){var i=b.xhr.getResponseHeader("content-type");if(i&&i.indexOf("image")===0){b.data=new Image,b.data.src="data:"+i+";base64,"+fp(b.xhr.responseText),b.type=Mn.TYPE.IMAGE,b.data.onload=function(){b.data.onload=null,g()};return}}else if(b.data.type.indexOf("image")===0){var d=zu.createObjectURL(b.data);b.blob=b.data,b.data=new Image,b.data.src=d,b.type=Mn.TYPE.IMAGE,b.data.onload=function(){zu.revokeObjectURL(d),b.data.onload=null,g()};return}}g()}var pp={caching:rp,parsing:dp},js=100,mp=/(#[\w-]+)?$/,Ri=function(){function b(i,d){var w=this;i===void 0&&(i=""),d===void 0&&(d=10),this.baseUrl=i,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,n){return w._loadResource(t,n)},this._queue=np(this._boundLoadResource,d),this._queue.pause(),this.resources={},this.onProgress=new Pi,this.onError=new Pi,this.onLoad=new Pi,this.onStart=new Pi,this.onComplete=new Pi;for(var f=0;f<b._defaultBeforeMiddleware.length;++f)this.pre(b._defaultBeforeMiddleware[f]);for(var r=0;r<b._defaultAfterMiddleware.length;++r)this.use(b._defaultAfterMiddleware[r])}var g=b.prototype;return g.add=function(i,d,w,f){if(Array.isArray(i)){for(var r=0;r<i.length;++r)this.add(i[r]);return this}if(typeof i=="object"&&(f=d||i.callback||i.onComplete,w=i,d=i.url,i=i.name||i.key||i.url),typeof d!="string"&&(f=w,w=d,d=i),typeof d!="string")throw new Error("No url passed to add resource to loader.");if(typeof w=="function"&&(f=w,w=null),this.loading&&(!w||!w.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[i])throw new Error('Resource named "'+i+'" already exists.');if(d=this._prepareUrl(d),this.resources[i]=new Mn(i,d,w),typeof f=="function"&&this.resources[i].onAfterMiddleware.once(f),this.loading){for(var t=w.parentResource,n=[],a=0;a<t.children.length;++a)t.children[a].isComplete||n.push(t.children[a]);var l=t.progressChunk*(n.length+1),e=l/(n.length+2);t.children.push(this.resources[i]),t.progressChunk=e;for(var o=0;o<n.length;++o)n[o].progressChunk=e;this.resources[i].progressChunk=e}return this._queue.push(this.resources[i]),this},g.pre=function(i){return this._beforeMiddleware.push(i),this},g.use=function(i){return this._afterMiddleware.push(i),this},g.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var i in this.resources){var d=this.resources[i];d._onLoadBinding&&d._onLoadBinding.detach(),d.isLoading&&d.abort()}return this.resources={},this},g.load=function(i){if(typeof i=="function"&&this.onComplete.once(i),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var d=this._queue._tasks.length,w=js/d,f=0;f<this._queue._tasks.length;++f)this._queue._tasks[f].data.progressChunk=w;this._onStart(),this._queue.resume()}return this},g._prepareUrl=function(i){var d=wh(i,{strictMode:!0}),w;if(d.protocol||!d.path||i.indexOf("//")===0?w=i:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&i.charAt(0)!=="/"?w=this.baseUrl+"/"+i:w=this.baseUrl+i,this.defaultQueryString){var f=mp.exec(w)[0];w=w.substr(0,w.length-f.length),w.indexOf("?")!==-1?w+="&"+this.defaultQueryString:w+="?"+this.defaultQueryString,w+=f}return w},g._loadResource=function(i,d){var w=this;i._dequeue=d,Hu(this._beforeMiddleware,function(f,r){f.call(w,i,function(){r(i.isComplete?{}:null)})},function(){i.isComplete?w._onLoad(i):(i._onLoadBinding=i.onComplete.once(w._onLoad,w),i.load())})},g._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},g._onComplete=function(){this.progress=js,this.loading=!1,this.onComplete.dispatch(this,this.resources)},g._onLoad=function(i){var d=this;i._onLoadBinding=null,this._resourcesParsing.push(i),i._dequeue(),Hu(this._afterMiddleware,function(w,f){w.call(d,i,f)},function(){i.onAfterMiddleware.dispatch(i),d.progress=Math.min(js,d.progress+i.progressChunk),d.onProgress.dispatch(d,i),i.error?d.onError.dispatch(i.error,d,i):d.onLoad.dispatch(d,i),d._resourcesParsing.splice(d._resourcesParsing.indexOf(i),1),d._queue.idle()&&d._resourcesParsing.length===0&&d._onComplete()})},Sh(b,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(i){this._queue.concurrency=i}}]),b}();Ri._defaultBeforeMiddleware=[];Ri._defaultAfterMiddleware=[];Ri.pre=function(b){return Ri._defaultBeforeMiddleware.push(b),Ri};Ri.use=function(b){return Ri._defaultAfterMiddleware.push(b),Ri};/*!
 * @pixi/loaders - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ua=Mn;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var il=function(b,g){return il=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,d){i.__proto__=d}||function(i,d){for(var w in d)d.hasOwnProperty(w)&&(i[w]=d[w])},il(b,g)};function gp(b,g){il(b,g);function i(){this.constructor=b}b.prototype=g===null?Object.create(g):(i.prototype=g.prototype,new i)}var Th=function(){function b(){}return b.use=function(g,i){g.data&&g.type===Mn.TYPE.IMAGE&&(g.texture=Dn.fromLoader(g.data,g.url,g.name)),i()},b}(),uo=function(b){gp(g,b);function g(i,d){for(var w=b.call(this,i,d)||this,f=0;f<g._plugins.length;++f){var r=g._plugins[f],t=r.pre,n=r.use;t&&w.pre(t),n&&w.use(n)}return w._protected=!1,w}return g.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(g,"shared",{get:function(){var i=g._shared;return i||(i=new g,i._protected=!0,g._shared=i),i},enumerable:!1,configurable:!0}),g.registerPlugin=function(i){return g._plugins.push(i),i.add&&i.add(),g},g._plugins=[],g}(Ri);uo.registerPlugin({use:pp.parsing});uo.registerPlugin(Th);var Eh=function(){function b(){}return b.init=function(g){g=Object.assign({sharedLoader:!1},g),this.loader=g.sharedLoader?uo.shared:new uo},b.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},b}();/*!
 * @pixi/particles - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/particles is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ol=function(b,g){return ol=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,d){i.__proto__=d}||function(i,d){for(var w in d)d.hasOwnProperty(w)&&(i[w]=d[w])},ol(b,g)};function kh(b,g){ol(b,g);function i(){this.constructor=b}b.prototype=g===null?Object.create(g):(i.prototype=g.prototype,new i)}var vp=function(b){kh(g,b);function g(i,d,w,f){i===void 0&&(i=1500),w===void 0&&(w=16384),f===void 0&&(f=!1);var r=b.call(this)||this,t=16384;return w>t&&(w=t),r._properties=[!1,!0,!1,!1,!1],r._maxSize=i,r._batchSize=w,r._buffers=null,r._bufferUpdateIDs=[],r._updateID=0,r.interactiveChildren=!1,r.blendMode=Pn.NORMAL,r.autoResize=f,r.roundPixels=!0,r.baseTexture=null,r.setProperties(d),r._tint=0,r.tintRgb=new Float32Array(4),r.tint=16777215,r}return g.prototype.setProperties=function(i){i&&(this._properties[0]="vertices"in i||"scale"in i?!!i.vertices||!!i.scale:this._properties[0],this._properties[1]="position"in i?!!i.position:this._properties[1],this._properties[2]="rotation"in i?!!i.rotation:this._properties[2],this._properties[3]="uvs"in i?!!i.uvs:this._properties[3],this._properties[4]="tint"in i||"alpha"in i?!!i.tint||!!i.alpha:this._properties[4])},g.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(g.prototype,"tint",{get:function(){return this._tint},set:function(i){this._tint=i,ao(i,this.tintRgb)},enumerable:!1,configurable:!0}),g.prototype.render=function(i){var d=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return d.onChildrenChange(0)})),i.batch.setObjectRenderer(i.plugins.particle),i.plugins.particle.render(this))},g.prototype.onChildrenChange=function(i){for(var d=Math.floor(i/this._batchSize);this._bufferUpdateIDs.length<d;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[d]=++this._updateID},g.prototype.dispose=function(){if(this._buffers){for(var i=0;i<this._buffers.length;++i)this._buffers[i].destroy();this._buffers=null}},g.prototype.destroy=function(i){b.prototype.destroy.call(this,i),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},g}(yi),Uu=function(){function b(g,i,d){this.geometry=new Do,this.indexBuffer=null,this.size=d,this.dynamicProperties=[],this.staticProperties=[];for(var w=0;w<g.length;++w){var f=g[w];f={attributeName:f.attributeName,size:f.size,uploadFunction:f.uploadFunction,type:f.type||Pr.FLOAT,offset:f.offset},i[w]?this.dynamicProperties.push(f):this.staticProperties.push(f)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return b.prototype.initBuffers=function(){var g=this.geometry,i=0;this.indexBuffer=new Lr(vc(this.size),!0,!0),g.addIndex(this.indexBuffer),this.dynamicStride=0;for(var d=0;d<this.dynamicProperties.length;++d){var w=this.dynamicProperties[d];w.offset=i,i+=w.size,this.dynamicStride+=w.size}var f=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(f),this.dynamicDataUint32=new Uint32Array(f),this.dynamicBuffer=new Lr(this.dynamicData,!1,!1);var r=0;this.staticStride=0;for(var d=0;d<this.staticProperties.length;++d){var w=this.staticProperties[d];w.offset=r,r+=w.size,this.staticStride+=w.size}var t=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(t),this.staticDataUint32=new Uint32Array(t),this.staticBuffer=new Lr(this.staticData,!0,!1);for(var d=0;d<this.dynamicProperties.length;++d){var w=this.dynamicProperties[d];g.addAttribute(w.attributeName,this.dynamicBuffer,0,w.type===Pr.UNSIGNED_BYTE,w.type,this.dynamicStride*4,w.offset*4)}for(var d=0;d<this.staticProperties.length;++d){var w=this.staticProperties[d];g.addAttribute(w.attributeName,this.staticBuffer,0,w.type===Pr.UNSIGNED_BYTE,w.type,this.staticStride*4,w.offset*4)}},b.prototype.uploadDynamic=function(g,i,d){for(var w=0;w<this.dynamicProperties.length;w++){var f=this.dynamicProperties[w];f.uploadFunction(g,i,d,f.type===Pr.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,f.offset)}this.dynamicBuffer._updateID++},b.prototype.uploadStatic=function(g,i,d){for(var w=0;w<this.staticProperties.length;w++){var f=this.staticProperties[w];f.uploadFunction(g,i,d,f.type===Pr.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,f.offset)}this.staticBuffer._updateID++},b.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},b}(),yp=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,bp=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,Ch=function(b){kh(g,b);function g(i){var d=b.call(this,i)||this;return d.shader=null,d.properties=null,d.tempMatrix=new Or,d.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:d.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:d.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:d.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:d.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Pr.UNSIGNED_BYTE,uploadFunction:d.uploadTint,offset:0}],d.shader=Vi.from(bp,yp,{}),d.state=Gi.for2d(),d}return g.prototype.render=function(i){var d=i.children,w=i._maxSize,f=i._batchSize,r=this.renderer,t=d.length;if(t!==0){t>w&&!i.autoResize&&(t=w);var n=i._buffers;n||(n=i._buffers=this.generateBuffers(i));var a=d[0]._texture.baseTexture;this.state.blendMode=Nl(i.blendMode,a.alphaMode),r.state.set(this.state);var l=r.gl,e=i.worldTransform.copyTo(this.tempMatrix);e.prepend(r.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=e.toArray(!0),this.shader.uniforms.uColor=gc(i.tintRgb,i.worldAlpha,this.shader.uniforms.uColor,a.alphaMode),this.shader.uniforms.uSampler=a,this.renderer.shader.bind(this.shader);for(var o=!1,s=0,u=0;s<t;s+=f,u+=1){var c=t-s;c>f&&(c=f),u>=n.length&&n.push(this._generateOneMoreBuffer(i));var m=n[u];m.uploadDynamic(d,s,c);var p=i._bufferUpdateIDs[u]||0;o=o||m._updateID<p,o&&(m._updateID=i._updateID,m.uploadStatic(d,s,c)),r.geometry.bind(m.geometry),l.drawElements(l.TRIANGLES,c*6,l.UNSIGNED_SHORT,0)}}},g.prototype.generateBuffers=function(i){for(var d=[],w=i._maxSize,f=i._batchSize,r=i._properties,t=0;t<w;t+=f)d.push(new Uu(this.properties,r,f));return d},g.prototype._generateOneMoreBuffer=function(i){var d=i._batchSize,w=i._properties;return new Uu(this.properties,w,d)},g.prototype.uploadVertices=function(i,d,w,f,r,t){for(var n=0,a=0,l=0,e=0,o=0;o<w;++o){var s=i[d+o],u=s._texture,c=s.scale.x,m=s.scale.y,p=u.trim,h=u.orig;p?(a=p.x-s.anchor.x*h.width,n=a+p.width,e=p.y-s.anchor.y*h.height,l=e+p.height):(n=h.width*(1-s.anchor.x),a=h.width*-s.anchor.x,l=h.height*(1-s.anchor.y),e=h.height*-s.anchor.y),f[t]=a*c,f[t+1]=e*m,f[t+r]=n*c,f[t+r+1]=e*m,f[t+r*2]=n*c,f[t+r*2+1]=l*m,f[t+r*3]=a*c,f[t+r*3+1]=l*m,t+=r*4}},g.prototype.uploadPosition=function(i,d,w,f,r,t){for(var n=0;n<w;n++){var a=i[d+n].position;f[t]=a.x,f[t+1]=a.y,f[t+r]=a.x,f[t+r+1]=a.y,f[t+r*2]=a.x,f[t+r*2+1]=a.y,f[t+r*3]=a.x,f[t+r*3+1]=a.y,t+=r*4}},g.prototype.uploadRotation=function(i,d,w,f,r,t){for(var n=0;n<w;n++){var a=i[d+n].rotation;f[t]=a,f[t+r]=a,f[t+r*2]=a,f[t+r*3]=a,t+=r*4}},g.prototype.uploadUvs=function(i,d,w,f,r,t){for(var n=0;n<w;++n){var a=i[d+n]._texture._uvs;a?(f[t]=a.x0,f[t+1]=a.y0,f[t+r]=a.x1,f[t+r+1]=a.y1,f[t+r*2]=a.x2,f[t+r*2+1]=a.y2,f[t+r*3]=a.x3,f[t+r*3+1]=a.y3,t+=r*4):(f[t]=0,f[t+1]=0,f[t+r]=0,f[t+r+1]=0,f[t+r*2]=0,f[t+r*2+1]=0,f[t+r*3]=0,f[t+r*3+1]=0,t+=r*4)}},g.prototype.uploadTint=function(i,d,w,f,r,t){for(var n=0;n<w;++n){var a=i[d+n],l=a._texture.baseTexture.alphaMode>0,e=a.alpha,o=e<1&&l?es(a._tintRGB,e):a._tintRGB+(e*255<<24);f[t]=o,f[t+r]=o,f[t+r*2]=o,f[t+r*3]=o,t+=r*4}},g.prototype.destroy=function(){b.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},g}(ya);/*!
 * @pixi/graphics - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Oi;(function(b){b.MITER="miter",b.BEVEL="bevel",b.ROUND="round"})(Oi||(Oi={}));var Mi;(function(b){b.BUTT="butt",b.ROUND="round",b.SQUARE="square"})(Mi||(Mi={}));var Io={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(b,g){if(g===void 0&&(g=20),!this.adaptive||!b||isNaN(b))return g;var i=Math.ceil(b/this.maxLength);return i<this.minSegments?i=this.minSegments:i>this.maxSegments&&(i=this.maxSegments),i}},Yl=function(){function b(){this.color=16777215,this.alpha=1,this.texture=Dn.WHITE,this.matrix=null,this.visible=!1,this.reset()}return b.prototype.clone=function(){var g=new b;return g.color=this.color,g.alpha=this.alpha,g.texture=this.texture,g.matrix=this.matrix,g.visible=this.visible,g},b.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Dn.WHITE,this.matrix=null,this.visible=!1},b.prototype.destroy=function(){this.texture=null,this.matrix=null},b}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var al=function(b,g){return al=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,d){i.__proto__=d}||function(i,d){for(var w in d)d.hasOwnProperty(w)&&(i[w]=d[w])},al(b,g)};function os(b,g){al(b,g);function i(){this.constructor=b}b.prototype=g===null?Object.create(g):(i.prototype=g.prototype,new i)}var $l={build:function(b){b.points=b.shape.points.slice()},triangulate:function(b,g){var i=b.points,d=b.holes,w=g.points,f=g.indices;if(i.length>=6){for(var r=[],t=0;t<d.length;t++){var n=d[t];r.push(i.length/2),i=i.concat(n.points)}var a=Ml(i,r,2);if(!a)return;for(var l=w.length/2,t=0;t<a.length;t+=3)f.push(a[t]+l),f.push(a[t+1]+l),f.push(a[t+2]+l);for(var t=0;t<i.length;t++)w.push(i[t])}}},sl={build:function(b){var g=b.shape,i=b.points,d=g.x,w=g.y,f,r;if(i.length=0,b.type===Er.CIRC)f=g.radius,r=g.radius;else{var t=b.shape;f=t.width,r=t.height}if(!(f===0||r===0)){var n=Math.floor(30*Math.sqrt(g.radius))||Math.floor(15*Math.sqrt(f+r));n/=2.3;for(var a=Math.PI*2/n,l=0;l<n-.5;l++)i.push(d+Math.sin(-a*l)*f,w+Math.cos(-a*l)*r);i.push(i[0],i[1])}},triangulate:function(b,g){var i=b.points,d=g.points,w=g.indices,f=d.length/2,r=f,t=b.shape,n=b.matrix,a=t.x,l=t.y;d.push(b.matrix?n.a*a+n.c*l+n.tx:a,b.matrix?n.b*a+n.d*l+n.ty:l);for(var e=0;e<i.length;e+=2)d.push(i[e],i[e+1]),w.push(f++,r,f)}},Ah={build:function(b){var g=b.shape,i=g.x,d=g.y,w=g.width,f=g.height,r=b.points;r.length=0,r.push(i,d,i+w,d,i+w,d+f,i,d+f)},triangulate:function(b,g){var i=b.points,d=g.points,w=d.length/2;d.push(i[0],i[1],i[2],i[3],i[6],i[7],i[4],i[5]),g.indices.push(w,w+1,w+2,w+1,w+2,w+3)}};function xo(b,g,i){var d=g-b;return b+d*i}function za(b,g,i,d,w,f,r){r===void 0&&(r=[]);for(var t=20,n=r,a=0,l=0,e=0,o=0,s=0,u=0,c=0,m=0;c<=t;++c)m=c/t,a=xo(b,i,m),l=xo(g,d,m),e=xo(i,w,m),o=xo(d,f,m),s=xo(a,e,m),u=xo(l,o,m),n.push(s,u);return n}var Ph={build:function(b){var g=b.shape,i=b.points,d=g.x,w=g.y,f=g.width,r=g.height,t=Math.max(0,Math.min(g.radius,Math.min(f,r)/2));i.length=0,t?(za(d,w+t,d,w,d+t,w,i),za(d+f-t,w,d+f,w,d+f,w+t,i),za(d+f,w+r-t,d+f,w+r,d+f-t,w+r,i),za(d+t,w+r,d,w+r,d,w+r-t,i)):i.push(d,w,d+f,w,d+f,w+r,d,w+r)},triangulate:function(b,g){for(var i=b.points,d=g.points,w=g.indices,f=d.length/2,r=Ml(i,null,2),t=0,n=r.length;t<n;t+=3)w.push(r[t]+f),w.push(r[t+1]+f),w.push(r[t+2]+f);for(var t=0,n=i.length;t<n;t++)d.push(i[t],i[++t])}};function Vu(b,g,i,d,w,f,r,t){var n=b-i*w,a=g-d*w,l=b+i*f,e=g+d*f,o,s;r?(o=d,s=-i):(o=-d,s=i);var u=n+o,c=a+s,m=l+o,p=e+s;return t.push(u,c),t.push(m,p),2}function wo(b,g,i,d,w,f,r,t){var n=i-b,a=d-g,l=Math.atan2(n,a),e=Math.atan2(w-b,f-g);t&&l<e?l+=Math.PI*2:!t&&l>e&&(e+=Math.PI*2);var o=l,s=e-l,u=Math.abs(s),c=Math.sqrt(n*n+a*a),m=(15*u*Math.sqrt(c)/Math.PI>>0)+1,p=s/m;if(o+=p,t){r.push(b,g),r.push(i,d);for(var h=1,v=o;h<m;h++,v+=p)r.push(b,g),r.push(b+Math.sin(v)*c,g+Math.cos(v)*c);r.push(b,g),r.push(w,f)}else{r.push(i,d),r.push(b,g);for(var h=1,v=o;h<m;h++,v+=p)r.push(b+Math.sin(v)*c,g+Math.cos(v)*c),r.push(b,g);r.push(w,f),r.push(b,g)}return m*2}function _p(b,g){var i=b.shape,d=b.points||i.points.slice(),w=g.closePointEps;if(d.length!==0){var f=b.lineStyle,r=new Dr(d[0],d[1]),t=new Dr(d[d.length-2],d[d.length-1]),n=i.type!==Er.POLY||i.closeStroke,a=Math.abs(r.x-t.x)<w&&Math.abs(r.y-t.y)<w;if(n){d=d.slice(),a&&(d.pop(),d.pop(),t.set(d[d.length-2],d[d.length-1]));var l=(r.x+t.x)*.5,e=(t.y+r.y)*.5;d.unshift(l,e),d.push(l,e)}var o=g.points,s=d.length/2,u=d.length,c=o.length/2,m=f.width/2,p=m*m,h=f.miterLimit*f.miterLimit,v=d[0],x=d[1],y=d[2],k=d[3],T=0,E=0,_=-(x-k),A=v-y,C=0,S=0,P=Math.sqrt(_*_+A*A);_/=P,A/=P,_*=m,A*=m;var O=f.alignment,R=(1-O)*2,I=O*2;n||(f.cap===Mi.ROUND?u+=wo(v-_*(R-I)*.5,x-A*(R-I)*.5,v-_*R,x-A*R,v+_*I,x+A*I,o,!0)+2:f.cap===Mi.SQUARE&&(u+=Vu(v,x,_,A,R,I,!0,o))),o.push(v-_*R,x-A*R),o.push(v+_*I,x+A*I);for(var M=1;M<s-1;++M){v=d[(M-1)*2],x=d[(M-1)*2+1],y=d[M*2],k=d[M*2+1],T=d[(M+1)*2],E=d[(M+1)*2+1],_=-(x-k),A=v-y,P=Math.sqrt(_*_+A*A),_/=P,A/=P,_*=m,A*=m,C=-(k-E),S=y-T,P=Math.sqrt(C*C+S*S),C/=P,S/=P,C*=m,S*=m;var H=y-v,L=x-k,D=y-T,j=E-k,W=L*D-j*H,B=W<0;if(Math.abs(W)<.1){o.push(y-_*R,k-A*R),o.push(y+_*I,k+A*I);continue}var F=(-_+v)*(-A+k)-(-_+y)*(-A+x),N=(-C+T)*(-S+k)-(-C+y)*(-S+E),X=(H*N-D*F)/W,G=(j*F-L*N)/W,V=(X-y)*(X-y)+(G-k)*(G-k),z=y+(X-y)*R,U=k+(G-k)*R,Z=y-(X-y)*I,st=k-(G-k)*I,Y=Math.min(H*H+L*L,D*D+j*j),rt=B?R:I,ft=Y+rt*rt*p,tt=V<=ft;tt?f.join===Oi.BEVEL||V/p>h?(B?(o.push(z,U),o.push(y+_*I,k+A*I),o.push(z,U),o.push(y+C*I,k+S*I)):(o.push(y-_*R,k-A*R),o.push(Z,st),o.push(y-C*R,k-S*R),o.push(Z,st)),u+=2):f.join===Oi.ROUND?B?(o.push(z,U),o.push(y+_*I,k+A*I),u+=wo(y,k,y+_*I,k+A*I,y+C*I,k+S*I,o,!0)+4,o.push(z,U),o.push(y+C*I,k+S*I)):(o.push(y-_*R,k-A*R),o.push(Z,st),u+=wo(y,k,y-_*R,k-A*R,y-C*R,k-S*R,o,!1)+4,o.push(y-C*R,k-S*R),o.push(Z,st)):(o.push(z,U),o.push(Z,st)):(o.push(y-_*R,k-A*R),o.push(y+_*I,k+A*I),f.join===Oi.BEVEL||V/p>h||(f.join===Oi.ROUND?B?u+=wo(y,k,y+_*I,k+A*I,y+C*I,k+S*I,o,!0)+2:u+=wo(y,k,y-_*R,k-A*R,y-C*R,k-S*R,o,!1)+2:(B?(o.push(Z,st),o.push(Z,st)):(o.push(z,U),o.push(z,U)),u+=2)),o.push(y-C*R,k-S*R),o.push(y+C*I,k+S*I),u+=2)}v=d[(s-2)*2],x=d[(s-2)*2+1],y=d[(s-1)*2],k=d[(s-1)*2+1],_=-(x-k),A=v-y,P=Math.sqrt(_*_+A*A),_/=P,A/=P,_*=m,A*=m,o.push(y-_*R,k-A*R),o.push(y+_*I,k+A*I),n||(f.cap===Mi.ROUND?u+=wo(y-_*(R-I)*.5,k-A*(R-I)*.5,y-_*R,k-A*R,y+_*I,k+A*I,o,!1)+2:f.cap===Mi.SQUARE&&(u+=Vu(y,k,_,A,R,I,!1,o)));for(var K=g.indices,Q=Io.epsilon*Io.epsilon,M=c;M<u+c-2;++M)v=o[M*2],x=o[M*2+1],y=o[(M+1)*2],k=o[(M+1)*2+1],T=o[(M+2)*2],E=o[(M+2)*2+1],!(Math.abs(v*(k-E)+y*(E-x)+T*(x-k))<Q)&&K.push(M,M+1,M+2)}}function xp(b,g){var i=0,d=b.shape,w=b.points||d.points,f=d.type!==Er.POLY||d.closeStroke;if(w.length!==0){var r=g.points,t=g.indices,n=w.length/2,a=r.length/2,l=a;for(r.push(w[0],w[1]),i=1;i<n;i++)r.push(w[i*2],w[i*2+1]),t.push(l,l+1),l++;f&&t.push(l,a)}}function ll(b,g){b.lineStyle.native?xp(b,g):_p(b,g)}var Oh=function(b){os(g,b);function g(i,d,w,f,r,t){t===void 0&&(t=0);var n=this;r=r||f/2;for(var a=-1*Math.PI/2+t,l=w*2,e=Oo/l,o=[],s=0;s<l;s++){var u=s%2?r:f,c=s*e+a;o.push(i+u*Math.cos(c),d+u*Math.sin(c))}return n=b.call(this,o)||this,n}return g}(ko),ul=function(){function b(){}return b.curveTo=function(g,i,d,w,f,r){var t=r[r.length-2],n=r[r.length-1],a=n-i,l=t-g,e=w-i,o=d-g,s=Math.abs(a*o-l*e);if(s<1e-8||f===0)return(r[r.length-2]!==g||r[r.length-1]!==i)&&r.push(g,i),null;var u=a*a+l*l,c=e*e+o*o,m=a*e+l*o,p=f*Math.sqrt(u)/s,h=f*Math.sqrt(c)/s,v=p*m/u,x=h*m/c,y=p*o+h*l,k=p*e+h*a,T=l*(h+v),E=a*(h+v),_=o*(p+x),A=e*(p+x),C=Math.atan2(E-k,T-y),S=Math.atan2(A-k,_-y);return{cx:y+g,cy:k+i,radius:f,startAngle:C,endAngle:S,anticlockwise:l*e>o*a}},b.arc=function(g,i,d,w,f,r,t,n,a){for(var l=t-r,e=Io._segmentsCount(Math.abs(l)*f,Math.ceil(Math.abs(l)/Oo)*40),o=l/(e*2),s=o*2,u=Math.cos(o),c=Math.sin(o),m=e-1,p=m%1/m,h=0;h<=m;++h){var v=h+p*h,x=o+r+s*v,y=Math.cos(x),k=-Math.sin(x);a.push((u*y+c*k)*f+d,(u*-k+c*y)*f+w)}},b}(),Mh=function(){function b(){}return b.curveLength=function(g,i,d,w,f,r,t,n){for(var a=10,l=0,e=0,o=0,s=0,u=0,c=0,m=0,p=0,h=0,v=0,x=0,y=g,k=i,T=1;T<=a;++T)e=T/a,o=e*e,s=o*e,u=1-e,c=u*u,m=c*u,p=m*g+3*c*e*d+3*u*o*f+s*t,h=m*i+3*c*e*w+3*u*o*r+s*n,v=y-p,x=k-h,y=p,k=h,l+=Math.sqrt(v*v+x*x);return l},b.curveTo=function(g,i,d,w,f,r,t){var n=t[t.length-2],a=t[t.length-1];t.length-=2;var l=Io._segmentsCount(b.curveLength(n,a,g,i,d,w,f,r)),e=0,o=0,s=0,u=0,c=0;t.push(n,a);for(var m=1,p=0;m<=l;++m)p=m/l,e=1-p,o=e*e,s=o*e,u=p*p,c=u*p,t.push(s*n+3*o*p*g+3*e*u*d+c*f,s*a+3*o*p*i+3*e*u*w+c*r)},b}(),Ih=function(){function b(){}return b.curveLength=function(g,i,d,w,f,r){var t=g-2*d+f,n=i-2*w+r,a=2*d-2*g,l=2*w-2*i,e=4*(t*t+n*n),o=4*(t*a+n*l),s=a*a+l*l,u=2*Math.sqrt(e+o+s),c=Math.sqrt(e),m=2*e*c,p=2*Math.sqrt(s),h=o/c;return(m*u+c*o*(u-p)+(4*s*e-o*o)*Math.log((2*c+h+u)/(h+p)))/(4*m)},b.curveTo=function(g,i,d,w,f){for(var r=f[f.length-2],t=f[f.length-1],n=Io._segmentsCount(b.curveLength(r,t,g,i,d,w)),a=0,l=0,e=1;e<=n;++e){var o=e/n;a=r+(g-r)*o,l=t+(i-t)*o,f.push(a+(g+(d-g)*o-a)*o,l+(i+(w-i)*o-l)*o)}},b}(),Rh=function(){function b(){this.reset()}return b.prototype.begin=function(g,i,d){this.reset(),this.style=g,this.start=i,this.attribStart=d},b.prototype.end=function(g,i){this.attribSize=i-this.attribStart,this.size=g-this.start},b.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},b}(),Ki,qa=(Ki={},Ki[Er.POLY]=$l,Ki[Er.CIRC]=sl,Ki[Er.ELIP]=sl,Ki[Er.RECT]=Ah,Ki[Er.RREC]=Ph,Ki),cl=[],sa=[],wp={buildPoly:$l,buildCircle:sl,buildRectangle:Ah,buildRoundedRectangle:Ph,FILL_COMMANDS:qa,BATCH_POOL:cl,DRAW_CALL_POOL:sa,buildLine:ll,Star:Oh,ArcUtils:ul,BezierUtils:Mh,QuadraticUtils:Ih,BatchPart:Rh},hl=function(){function b(g,i,d,w){i===void 0&&(i=null),d===void 0&&(d=null),w===void 0&&(w=null),this.shape=g,this.lineStyle=d,this.fillStyle=i,this.matrix=w,this.type=g.type,this.points=[],this.holes=[]}return b.prototype.clone=function(){return new b(this.shape,this.fillStyle,this.lineStyle,this.matrix)},b.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},b}(),So=new Dr,Sp=new pa,Lh=function(b){os(g,b);function g(){var i=b.call(this)||this;return i.uvsFloat32=null,i.indicesUint16=null,i.points=[],i.colors=[],i.uvs=[],i.indices=[],i.textureIds=[],i.graphicsData=[],i.dirty=0,i.batchDirty=-1,i.cacheDirty=-1,i.clearDirty=0,i.drawCalls=[],i.batches=[],i.shapeIndex=0,i._bounds=new pa,i.boundsDirty=-1,i.boundsPadding=0,i.batchable=!1,i.indicesUint16=null,i.uvsFloat32=null,i.closePointEps=1e-4,i}return Object.defineProperty(g.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),g.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var i=0;i<this.drawCalls.length;i++)this.drawCalls[i].texArray.clear(),sa.push(this.drawCalls[i]);this.drawCalls.length=0;for(var i=0;i<this.batches.length;i++){var d=this.batches[i];d.reset(),cl.push(d)}this.batches.length=0},g.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},g.prototype.drawShape=function(i,d,w,f){d===void 0&&(d=null),w===void 0&&(w=null),f===void 0&&(f=null);var r=new hl(i,d,w,f);return this.graphicsData.push(r),this.dirty++,this},g.prototype.drawHole=function(i,d){if(d===void 0&&(d=null),!this.graphicsData.length)return null;var w=new hl(i,null,null,d),f=this.graphicsData[this.graphicsData.length-1];return w.lineStyle=f.lineStyle,f.holes.push(w),this.dirty++,this},g.prototype.destroy=function(){b.prototype.destroy.call(this);for(var i=0;i<this.graphicsData.length;++i)this.graphicsData[i].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},g.prototype.containsPoint=function(i){for(var d=this.graphicsData,w=0;w<d.length;++w){var f=d[w];if(f.fillStyle.visible&&f.shape&&(f.matrix?f.matrix.applyInverse(i,So):So.copyFrom(i),f.shape.contains(So.x,So.y))){var r=!1;if(f.holes)for(var t=0;t<f.holes.length;t++){var n=f.holes[t];if(n.shape.contains(So.x,So.y)){r=!0;break}}if(!r)return!0}}return!1},g.prototype.updateBatches=function(i){if(!this.graphicsData.length){this.batchable=!0;return}if(this.validateBatching()){this.cacheDirty=this.dirty;var d=this.uvs,w=this.graphicsData,f=null,r=null;this.batches.length>0&&(f=this.batches[this.batches.length-1],r=f.style);for(var t=this.shapeIndex;t<w.length;t++){this.shapeIndex++;var n=w[t],a=n.fillStyle,l=n.lineStyle,e=qa[n.type];e.build(n),n.matrix&&this.transformPoints(n.points,n.matrix);for(var o=0;o<2;o++){var s=o===0?a:l;if(s.visible){var u=s.texture.baseTexture,c=this.indices.length,m=this.points.length/2;u.wrapMode=Ii.REPEAT,o===0?this.processFill(n):this.processLine(n);var p=this.points.length/2-m;p!==0&&(f&&!this._compareStyles(r,s)&&(f.end(c,m),f=null),f||(f=cl.pop()||new Rh,f.begin(s,c,m),this.batches.push(f),r=s),this.addUvs(this.points,d,s.texture,m,p,s.matrix))}}}var h=this.indices.length,v=this.points.length/2;if(f&&f.end(h,v),this.batches.length===0){this.batchable=!0;return}if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var x=v>65535&&i;this.indicesUint16=x?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},g.prototype._compareStyles=function(i,d){return!(!i||!d||i.texture.baseTexture!==d.texture.baseTexture||i.color+i.alpha!==d.color+d.alpha||!!i.native!=!!d.native)},g.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var i=0,d=this.graphicsData.length;i<d;i++){var w=this.graphicsData[i],f=w.fillStyle,r=w.lineStyle;if(f&&!f.texture.baseTexture.valid||r&&!r.texture.baseTexture.valid)return!1}return!0},g.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var i=this.batches,d=0,w=i.length;d<w;d++)for(var f=i[d],r=0;r<f.size;r++){var t=f.start+r;this.indicesUint16[t]=this.indicesUint16[t]-f.attribStart}},g.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var i=this.batches,d=0;d<i.length;d++)if(i[d].style.native)return!1;return this.points.length<g.BATCHABLE_SIZE*2},g.prototype.buildDrawCalls=function(){for(var i=++yr._globalBatch,d=0;d<this.drawCalls.length;d++)this.drawCalls[d].texArray.clear(),sa.push(this.drawCalls[d]);this.drawCalls.length=0;var w=this.colors,f=this.textureIds,r=sa.pop();r||(r=new Ja,r.texArray=new Qa),r.texArray.count=0,r.start=0,r.size=0,r.type=ci.TRIANGLES;var t=0,n=null,a=0,l=!1,e=ci.TRIANGLES,o=0;this.drawCalls.push(r);for(var d=0;d<this.batches.length;d++){var s=this.batches[d],u=8,c=s.style,m=c.texture.baseTexture;l!==!!c.native&&(l=!!c.native,e=l?ci.LINES:ci.TRIANGLES,n=null,t=u,i++),n!==m&&(n=m,m._batchEnabled!==i&&(t===u&&(i++,t=0,r.size>0&&(r=sa.pop(),r||(r=new Ja,r.texArray=new Qa),this.drawCalls.push(r)),r.start=o,r.size=0,r.texArray.count=0,r.type=e),m.touched=1,m._batchEnabled=i,m._batchLocation=t,m.wrapMode=10497,r.texArray.elements[r.texArray.count++]=m,t++)),r.size+=s.size,o+=s.size,a=m._batchLocation,this.addColors(w,c.color,c.alpha,s.attribSize,s.attribStart),this.addTextureIds(f,a,s.attribSize,s.attribStart)}yr._globalBatch=i,this.packAttributes()},g.prototype.packAttributes=function(){for(var i=this.points,d=this.uvs,w=this.colors,f=this.textureIds,r=new ArrayBuffer(i.length*3*4),t=new Float32Array(r),n=new Uint32Array(r),a=0,l=0;l<i.length/2;l++)t[a++]=i[l*2],t[a++]=i[l*2+1],t[a++]=d[l*2],t[a++]=d[l*2+1],n[a++]=w[l],t[a++]=f[l];this._buffer.update(r),this._indexBuffer.update(this.indicesUint16)},g.prototype.processFill=function(i){if(i.holes.length)this.processHoles(i.holes),$l.triangulate(i,this);else{var d=qa[i.type];d.triangulate(i,this)}},g.prototype.processLine=function(i){ll(i,this);for(var d=0;d<i.holes.length;d++)ll(i.holes[d],this)},g.prototype.processHoles=function(i){for(var d=0;d<i.length;d++){var w=i[d],f=qa[w.type];f.build(w),w.matrix&&this.transformPoints(w.points,w.matrix)}},g.prototype.calculateBounds=function(){var i=this._bounds,d=Sp,w=Or.IDENTITY;this._bounds.clear(),d.clear();for(var f=0;f<this.graphicsData.length;f++){var r=this.graphicsData[f],t=r.shape,n=r.type,a=r.lineStyle,l=r.matrix||Or.IDENTITY,e=0;if(a&&a.visible){var o=a.alignment;e=a.width,n===Er.POLY?e=e*(.5+Math.abs(.5-o)):e=e*Math.max(0,o)}if(w!==l&&(d.isEmpty()||(i.addBoundsMatrix(d,w),d.clear()),w=l),n===Er.RECT||n===Er.RREC){var s=t;d.addFramePad(s.x,s.y,s.x+s.width,s.y+s.height,e,e)}else if(n===Er.CIRC){var u=t;d.addFramePad(u.x,u.y,u.x,u.y,u.radius+e,u.radius+e)}else if(n===Er.ELIP){var c=t;d.addFramePad(c.x,c.y,c.x,c.y,c.width+e,c.height+e)}else{var m=t;i.addVerticesMatrix(w,m.points,0,m.points.length,e,e)}}d.isEmpty()||i.addBoundsMatrix(d,w),i.pad(this.boundsPadding,this.boundsPadding)},g.prototype.transformPoints=function(i,d){for(var w=0;w<i.length/2;w++){var f=i[w*2],r=i[w*2+1];i[w*2]=d.a*f+d.c*r+d.tx,i[w*2+1]=d.b*f+d.d*r+d.ty}},g.prototype.addColors=function(i,d,w,f,r){r===void 0&&(r=0);var t=(d>>16)+(d&65280)+((d&255)<<16),n=es(t,w);i.length=Math.max(i.length,r+f);for(var a=0;a<f;a++)i[r+a]=n},g.prototype.addTextureIds=function(i,d,w,f){f===void 0&&(f=0),i.length=Math.max(i.length,f+w);for(var r=0;r<w;r++)i[f+r]=d},g.prototype.addUvs=function(i,d,w,f,r,t){t===void 0&&(t=null);for(var n=0,a=d.length,l=w.frame;n<r;){var e=i[(f+n)*2],o=i[(f+n)*2+1];if(t){var s=t.a*e+t.c*o+t.tx;o=t.b*e+t.d*o+t.ty,e=s}n++,d.push(e/l.width,o/l.height)}var u=w.baseTexture;(l.width<u.width||l.height<u.height)&&this.adjustUvs(d,w,a,r)},g.prototype.adjustUvs=function(i,d,w,f){for(var r=d.baseTexture,t=1e-6,n=w+f*2,a=d.frame,l=a.width/r.width,e=a.height/r.height,o=a.x/a.width,s=a.y/a.height,u=Math.floor(i[w]+t),c=Math.floor(i[w+1]+t),m=w+2;m<n;m+=2)u=Math.min(u,Math.floor(i[m]+t)),c=Math.min(c,Math.floor(i[m+1]+t));o-=u,s-=c;for(var m=w;m<n;m+=2)i[m]=(i[m]+o)*l,i[m+1]=(i[m+1]+s)*e},g.BATCHABLE_SIZE=100,g}(ql),Nh=function(b){os(g,b);function g(){var i=b!==null&&b.apply(this,arguments)||this;return i.width=0,i.alignment=.5,i.native=!1,i.cap=Mi.BUTT,i.join=Oi.MITER,i.miterLimit=10,i}return g.prototype.clone=function(){var i=new g;return i.color=this.color,i.alpha=this.alpha,i.texture=this.texture,i.matrix=this.matrix,i.visible=this.visible,i.width=this.width,i.alignment=this.alignment,i.native=this.native,i.cap=this.cap,i.join=this.join,i.miterLimit=this.miterLimit,i},g.prototype.reset=function(){b.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},g}(Yl),Tp=new Float32Array(3),Hs={},Zl=function(b){os(g,b);function g(i){i===void 0&&(i=null);var d=b.call(this)||this;return d._geometry=i||new Lh,d._geometry.refCount++,d.shader=null,d.state=Gi.for2d(),d._fillStyle=new Yl,d._lineStyle=new Nh,d._matrix=null,d._holeMode=!1,d.currentPath=null,d.batches=[],d.batchTint=-1,d.batchDirty=-1,d.vertexData=null,d.pluginName="batch",d._transformID=-1,d.tint=16777215,d.blendMode=Pn.NORMAL,d}return Object.defineProperty(g.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),g.prototype.clone=function(){return this.finishPoly(),new g(this._geometry)},Object.defineProperty(g.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(i){this.state.blendMode=i},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"tint",{get:function(){return this._tint},set:function(i){this._tint=i},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),g.prototype.lineStyle=function(i){if(i===void 0&&(i=null),typeof i=="number"){var d=arguments;i={width:d[0]||0,color:d[1]||0,alpha:d[2]!==void 0?d[2]:1,alignment:d[3]!==void 0?d[3]:.5,native:!!d[4]}}return this.lineTextureStyle(i)},g.prototype.lineTextureStyle=function(i){if(typeof i=="number"){en("v5.2.0","Please use object-based options for Graphics#lineTextureStyle");var d=arguments,w=d[0],f=d[1],r=d[2],t=d[3],n=d[4],a=d[5],l=d[6];i={width:w,texture:f,color:r,alpha:t,matrix:n,alignment:a,native:l},Object.keys(i).forEach(function(o){return i[o]===void 0&&delete i[o]})}i=Object.assign({width:0,texture:Dn.WHITE,color:i&&i.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Mi.BUTT,join:Oi.MITER,miterLimit:10},i),this.currentPath&&this.startPoly();var e=i.width>0&&i.alpha>0;return e?(i.matrix&&(i.matrix=i.matrix.clone(),i.matrix.invert()),Object.assign(this._lineStyle,{visible:e},i)):this._lineStyle.reset(),this},g.prototype.startPoly=function(){if(this.currentPath){var i=this.currentPath.points,d=this.currentPath.points.length;d>2&&(this.drawShape(this.currentPath),this.currentPath=new ko,this.currentPath.closeStroke=!1,this.currentPath.points.push(i[d-2],i[d-1]))}else this.currentPath=new ko,this.currentPath.closeStroke=!1},g.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},g.prototype.moveTo=function(i,d){return this.startPoly(),this.currentPath.points[0]=i,this.currentPath.points[1]=d,this},g.prototype.lineTo=function(i,d){this.currentPath||this.moveTo(0,0);var w=this.currentPath.points,f=w[w.length-2],r=w[w.length-1];return(f!==i||r!==d)&&w.push(i,d),this},g.prototype._initCurve=function(i,d){i===void 0&&(i=0),d===void 0&&(d=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[i,d]):this.moveTo(i,d)},g.prototype.quadraticCurveTo=function(i,d,w,f){this._initCurve();var r=this.currentPath.points;return r.length===0&&this.moveTo(0,0),Ih.curveTo(i,d,w,f,r),this},g.prototype.bezierCurveTo=function(i,d,w,f,r,t){return this._initCurve(),Mh.curveTo(i,d,w,f,r,t,this.currentPath.points),this},g.prototype.arcTo=function(i,d,w,f,r){this._initCurve(i,d);var t=this.currentPath.points,n=ul.curveTo(i,d,w,f,r,t);if(n){var a=n.cx,l=n.cy,e=n.radius,o=n.startAngle,s=n.endAngle,u=n.anticlockwise;this.arc(a,l,e,o,s,u)}return this},g.prototype.arc=function(i,d,w,f,r,t){if(t===void 0&&(t=!1),f===r)return this;!t&&r<=f?r+=Oo:t&&f<=r&&(f+=Oo);var n=r-f;if(n===0)return this;var a=i+Math.cos(f)*w,l=d+Math.sin(f)*w,e=this._geometry.closePointEps,o=this.currentPath?this.currentPath.points:null;if(o){var s=Math.abs(o[o.length-2]-a),u=Math.abs(o[o.length-1]-l);s<e&&u<e||o.push(a,l)}else this.moveTo(a,l),o=this.currentPath.points;return ul.arc(a,l,i,d,w,f,r,t,o),this},g.prototype.beginFill=function(i,d){return i===void 0&&(i=0),d===void 0&&(d=1),this.beginTextureFill({texture:Dn.WHITE,color:i,alpha:d})},g.prototype.beginTextureFill=function(i){if(i instanceof Dn){en("v5.2.0","Please use object-based options for Graphics#beginTextureFill");var d=arguments,w=d[0],f=d[1],r=d[2],t=d[3];i={texture:w,color:f,alpha:r,matrix:t},Object.keys(i).forEach(function(a){return i[a]===void 0&&delete i[a]})}i=Object.assign({texture:Dn.WHITE,color:16777215,alpha:1,matrix:null},i),this.currentPath&&this.startPoly();var n=i.alpha>0;return n?(i.matrix&&(i.matrix=i.matrix.clone(),i.matrix.invert()),Object.assign(this._fillStyle,{visible:n},i)):this._fillStyle.reset(),this},g.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},g.prototype.drawRect=function(i,d,w,f){return this.drawShape(new or(i,d,w,f))},g.prototype.drawRoundedRect=function(i,d,w,f,r){return this.drawShape(new kc(i,d,w,f,r))},g.prototype.drawCircle=function(i,d,w){return this.drawShape(new Tc(i,d,w))},g.prototype.drawEllipse=function(i,d,w,f){return this.drawShape(new Ec(i,d,w,f))},g.prototype.drawPolygon=function(){for(var i=arguments,d=[],w=0;w<arguments.length;w++)d[w]=i[w];var f,r=!0,t=d[0];t.points?(r=t.closeStroke,f=t.points):Array.isArray(d[0])?f=d[0]:f=d;var n=new ko(f);return n.closeStroke=r,this.drawShape(n),this},g.prototype.drawShape=function(i){return this._holeMode?this._geometry.drawHole(i,this._matrix):this._geometry.drawShape(i,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},g.prototype.drawStar=function(i,d,w,f,r,t){return t===void 0&&(t=0),this.drawPolygon(new Oh(i,d,w,f,r,t))},g.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},g.prototype.isFastRect=function(){var i=this._geometry.graphicsData;return i.length===1&&i[0].shape.type===Er.RECT&&!(i[0].lineStyle.visible&&i[0].lineStyle.width)},g.prototype._render=function(i){this.finishPoly();var d=this._geometry,w=i.context.supports.uint32Indices;d.updateBatches(w),d.batchable?(this.batchDirty!==d.batchDirty&&this._populateBatches(),this._renderBatched(i)):(i.batch.flush(),this._renderDirect(i))},g.prototype._populateBatches=function(){var i=this._geometry,d=this.blendMode,w=i.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=i.batchDirty,this.batches.length=w,this.vertexData=new Float32Array(i.points);for(var f=0;f<w;f++){var r=i.batches[f],t=r.style.color,n=new Float32Array(this.vertexData.buffer,r.attribStart*4*2,r.attribSize*2),a=new Float32Array(i.uvsFloat32.buffer,r.attribStart*4*2,r.attribSize*2),l=new Uint16Array(i.indicesUint16.buffer,r.start*2,r.size),e={vertexData:n,blendMode:d,indices:l,uvs:a,_batchRGB:ao(t),_tintRGB:t,_texture:r.style.texture,alpha:r.style.alpha,worldAlpha:1};this.batches[f]=e}},g.prototype._renderBatched=function(i){if(this.batches.length){i.batch.setObjectRenderer(i.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var d=0,w=this.batches.length;d<w;d++){var f=this.batches[d];f.worldAlpha=this.worldAlpha*f.alpha,i.plugins[this.pluginName].render(f)}}},g.prototype._renderDirect=function(i){var d=this._resolveDirectShader(i),w=this._geometry,f=this.tint,r=this.worldAlpha,t=d.uniforms,n=w.drawCalls;t.translationMatrix=this.transform.worldTransform,t.tint[0]=(f>>16&255)/255*r,t.tint[1]=(f>>8&255)/255*r,t.tint[2]=(f&255)/255*r,t.tint[3]=r,i.shader.bind(d),i.geometry.bind(w,d),i.state.set(this.state);for(var a=0,l=n.length;a<l;a++)this._renderDrawCallDirect(i,w.drawCalls[a])},g.prototype._renderDrawCallDirect=function(i,d){for(var w=d.texArray,f=d.type,r=d.size,t=d.start,n=w.count,a=0;a<n;a++)i.texture.bind(w.elements[a],a);i.geometry.draw(f,r,t)},g.prototype._resolveDirectShader=function(i){var d=this.shader,w=this.pluginName;if(!d){if(!Hs[w]){for(var f=i.plugins.batch.MAX_TEXTURES,r=new Int32Array(f),t=0;t<f;t++)r[t]=t;var n={tint:new Float32Array([1,1,1,1]),translationMatrix:new Or,default:Ui.from({uSamplers:r},!0)},a=i.plugins[w]._shader.program;Hs[w]=new Vi(a,n)}d=Hs[w]}return d},g.prototype._calculateBounds=function(){this.finishPoly();var i=this._geometry;if(i.graphicsData.length){var d=i.bounds,w=d.minX,f=d.minY,r=d.maxX,t=d.maxY;this._bounds.addFrame(this.transform,w,f,r,t)}},g.prototype.containsPoint=function(i){return this.worldTransform.applyInverse(i,g._TEMP_POINT),this._geometry.containsPoint(g._TEMP_POINT)},g.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var i=ao(this.tint,Tp),d=0;d<this.batches.length;d++){var w=this.batches[d],f=w._batchRGB,r=i[0]*f[0]*255,t=i[1]*f[1]*255,n=i[2]*f[2]*255,a=(r<<16)+(t<<8)+(n|0);w._tintRGB=(a>>16)+(a&65280)+((a&255)<<16)}}},g.prototype.calculateVertices=function(){var i=this.transform._worldID;if(this._transformID!==i){this._transformID=i;for(var d=this.transform.worldTransform,w=d.a,f=d.b,r=d.c,t=d.d,n=d.tx,a=d.ty,l=this._geometry.points,e=this.vertexData,o=0,s=0;s<l.length;s+=2){var u=l[s],c=l[s+1];e[o++]=w*u+r*c+n,e[o++]=t*c+f*u+a}}},g.prototype.closePath=function(){var i=this.currentPath;return i&&(i.closeStroke=!0),this},g.prototype.setMatrix=function(i){return this._matrix=i,this},g.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},g.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},g.prototype.destroy=function(i){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,b.prototype.destroy.call(this,i)},g._TEMP_POINT=new Dr,g}(yi);/*!
 * @pixi/sprite - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var fl=function(b,g){return fl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,d){i.__proto__=d}||function(i,d){for(var w in d)d.hasOwnProperty(w)&&(i[w]=d[w])},fl(b,g)};function Ep(b,g){fl(b,g);function i(){this.constructor=b}b.prototype=g===null?Object.create(g):(i.prototype=g.prototype,new i)}var oa=new Dr,kp=new Uint16Array([0,1,2,0,2,3]),jo=function(b){Ep(g,b);function g(i){var d=b.call(this)||this;return d._anchor=new ro(d._onAnchorUpdate,d,i?i.defaultAnchor.x:0,i?i.defaultAnchor.y:0),d._texture=null,d._width=0,d._height=0,d._tint=null,d._tintRGB=null,d.tint=16777215,d.blendMode=Pn.NORMAL,d._cachedTint=16777215,d.uvs=null,d.texture=i||Dn.EMPTY,d.vertexData=new Float32Array(8),d.vertexTrimmedData=null,d._transformID=-1,d._textureID=-1,d._transformTrimmedID=-1,d._textureTrimmedID=-1,d.indices=kp,d.pluginName="batch",d.isSprite=!0,d._roundPixels=An.ROUND_PIXELS,d}return g.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=no(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=no(this.scale.y)*this._height/this._texture.orig.height)},g.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},g.prototype.calculateVertices=function(){var i=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===i._updateID)){this._textureID!==i._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=i._updateID;var d=this.transform.worldTransform,w=d.a,f=d.b,r=d.c,t=d.d,n=d.tx,a=d.ty,l=this.vertexData,e=i.trim,o=i.orig,s=this._anchor,u=0,c=0,m=0,p=0;if(e?(c=e.x-s._x*o.width,u=c+e.width,p=e.y-s._y*o.height,m=p+e.height):(c=-s._x*o.width,u=c+o.width,p=-s._y*o.height,m=p+o.height),l[0]=w*c+r*p+n,l[1]=t*p+f*c+a,l[2]=w*u+r*p+n,l[3]=t*p+f*u+a,l[4]=w*u+r*m+n,l[5]=t*m+f*u+a,l[6]=w*c+r*m+n,l[7]=t*m+f*c+a,this._roundPixels)for(var h=An.RESOLUTION,v=0;v<l.length;++v)l[v]=Math.round((l[v]*h|0)/h)}},g.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var i=this._texture,d=this.vertexTrimmedData,w=i.orig,f=this._anchor,r=this.transform.worldTransform,t=r.a,n=r.b,a=r.c,l=r.d,e=r.tx,o=r.ty,s=-f._x*w.width,u=s+w.width,c=-f._y*w.height,m=c+w.height;d[0]=t*s+a*c+e,d[1]=l*c+n*s+o,d[2]=t*u+a*c+e,d[3]=l*c+n*u+o,d[4]=t*u+a*m+e,d[5]=l*m+n*u+o,d[6]=t*s+a*m+e,d[7]=l*m+n*s+o},g.prototype._render=function(i){this.calculateVertices(),i.batch.setObjectRenderer(i.plugins[this.pluginName]),i.plugins[this.pluginName].render(this)},g.prototype._calculateBounds=function(){var i=this._texture.trim,d=this._texture.orig;!i||i.width===d.width&&i.height===d.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},g.prototype.getLocalBounds=function(i){return this.children.length===0?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),i||(this._localBoundsRect||(this._localBoundsRect=new or),i=this._localBoundsRect),this._bounds.getRectangle(i)):b.prototype.getLocalBounds.call(this,i)},g.prototype.containsPoint=function(i){this.worldTransform.applyInverse(i,oa);var d=this._texture.orig.width,w=this._texture.orig.height,f=-d*this.anchor.x,r=0;return oa.x>=f&&oa.x<f+d&&(r=-w*this.anchor.y,oa.y>=r&&oa.y<r+w)},g.prototype.destroy=function(i){b.prototype.destroy.call(this,i),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var d=typeof i=="boolean"?i:i&&i.texture;if(d){var w=typeof i=="boolean"?i:i&&i.baseTexture;this._texture.destroy(!!w)}this._texture=null},g.from=function(i,d){var w=i instanceof Dn?i:Dn.from(i,d);return new g(w)},Object.defineProperty(g.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(i){this._roundPixels!==i&&(this._transformID=-1),this._roundPixels=i},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(i){var d=no(this.scale.x)||1;this.scale.x=d*i/this._texture.orig.width,this._width=i},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(i){var d=no(this.scale.y)||1;this.scale.y=d*i/this._texture.orig.height,this._height=i},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"anchor",{get:function(){return this._anchor},set:function(i){this._anchor.copyFrom(i)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"tint",{get:function(){return this._tint},set:function(i){this._tint=i,this._tintRGB=(i>>16)+(i&65280)+((i&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"texture",{get:function(){return this._texture},set:function(i){this._texture!==i&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=i||Dn.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,i&&(i.baseTexture.valid?this._onTextureUpdate():i.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),g}(yi);/*!
 * @pixi/text - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var dl=function(b,g){return dl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,d){i.__proto__=d}||function(i,d){for(var w in d)d.hasOwnProperty(w)&&(i[w]=d[w])},dl(b,g)};function Cp(b,g){dl(b,g);function i(){this.constructor=b}b.prototype=g===null?Object.create(g):(i.prototype=g.prototype,new i)}var Ro;(function(b){b[b.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",b[b.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(Ro||(Ro={}));var Bs={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Ro.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},Ap=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],co=function(){function b(g){this.styleID=0,this.reset(),zs(this,g,g)}return b.prototype.clone=function(){var g={};return zs(g,this,Bs),new b(g)},b.prototype.reset=function(){zs(this,Bs,Bs)},Object.defineProperty(b.prototype,"align",{get:function(){return this._align},set:function(g){this._align!==g&&(this._align=g,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"breakWords",{get:function(){return this._breakWords},set:function(g){this._breakWords!==g&&(this._breakWords=g,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(g){this._dropShadow!==g&&(this._dropShadow=g,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(g){this._dropShadowAlpha!==g&&(this._dropShadowAlpha=g,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(g){this._dropShadowAngle!==g&&(this._dropShadowAngle=g,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(g){this._dropShadowBlur!==g&&(this._dropShadowBlur=g,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(g){var i=Fs(g);this._dropShadowColor!==i&&(this._dropShadowColor=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(g){this._dropShadowDistance!==g&&(this._dropShadowDistance=g,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"fill",{get:function(){return this._fill},set:function(g){var i=Fs(g);this._fill!==i&&(this._fill=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(g){this._fillGradientType!==g&&(this._fillGradientType=g,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(g){Pp(this._fillGradientStops,g)||(this._fillGradientStops=g,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(g){this.fontFamily!==g&&(this._fontFamily=g,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"fontSize",{get:function(){return this._fontSize},set:function(g){this._fontSize!==g&&(this._fontSize=g,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(g){this._fontStyle!==g&&(this._fontStyle=g,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(g){this._fontVariant!==g&&(this._fontVariant=g,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(g){this._fontWeight!==g&&(this._fontWeight=g,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(g){this._letterSpacing!==g&&(this._letterSpacing=g,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(g){this._lineHeight!==g&&(this._lineHeight=g,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"leading",{get:function(){return this._leading},set:function(g){this._leading!==g&&(this._leading=g,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(g){this._lineJoin!==g&&(this._lineJoin=g,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(g){this._miterLimit!==g&&(this._miterLimit=g,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"padding",{get:function(){return this._padding},set:function(g){this._padding!==g&&(this._padding=g,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"stroke",{get:function(){return this._stroke},set:function(g){var i=Fs(g);this._stroke!==i&&(this._stroke=i,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(g){this._strokeThickness!==g&&(this._strokeThickness=g,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(g){this._textBaseline!==g&&(this._textBaseline=g,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"trim",{get:function(){return this._trim},set:function(g){this._trim!==g&&(this._trim=g,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(g){this._whiteSpace!==g&&(this._whiteSpace=g,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(g){this._wordWrap!==g&&(this._wordWrap=g,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(g){this._wordWrapWidth!==g&&(this._wordWrapWidth=g,this.styleID++)},enumerable:!1,configurable:!0}),b.prototype.toFontString=function(){var g=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,i=this.fontFamily;Array.isArray(this.fontFamily)||(i=this.fontFamily.split(","));for(var d=i.length-1;d>=0;d--){var w=i[d].trim();!/([\"\'])[^\'\"]+\1/.test(w)&&Ap.indexOf(w)<0&&(w='"'+w+'"'),i[d]=w}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+g+" "+i.join(",")},b}();function Gu(b){return typeof b=="number"?Il(b):(typeof b=="string"&&b.indexOf("0x")===0&&(b=b.replace("0x","#")),b)}function Fs(b){if(Array.isArray(b)){for(var g=0;g<b.length;++g)b[g]=Gu(b[g]);return b}else return Gu(b)}function Pp(b,g){if(!Array.isArray(b)||!Array.isArray(g)||b.length!==g.length)return!1;for(var i=0;i<b.length;++i)if(b[i]!==g[i])return!1;return!0}function zs(b,g,i){for(var d in i)Array.isArray(g[d])?b[d]=g[d].slice():b[d]=g[d]}var fi=function(){function b(g,i,d,w,f,r,t,n,a){this.text=g,this.style=i,this.width=d,this.height=w,this.lines=f,this.lineWidths=r,this.lineHeight=t,this.maxLineWidth=n,this.fontProperties=a}return b.measureText=function(g,i,d,w){w===void 0&&(w=b._canvas),d=d??i.wordWrap;var f=i.toFontString(),r=b.measureFont(f);r.fontSize===0&&(r.fontSize=i.fontSize,r.ascent=i.fontSize);var t=w.getContext("2d");t.font=f;for(var n=d?b.wordWrap(g,i,w):g,a=n.split(/(?:\r\n|\r|\n)/),l=new Array(a.length),e=0,o=0;o<a.length;o++){var s=t.measureText(a[o]).width+(a[o].length-1)*i.letterSpacing;l[o]=s,e=Math.max(e,s)}var u=e+i.strokeThickness;i.dropShadow&&(u+=i.dropShadowDistance);var c=i.lineHeight||r.fontSize+i.strokeThickness,m=Math.max(c,r.fontSize+i.strokeThickness)+(a.length-1)*(c+i.leading);return i.dropShadow&&(m+=i.dropShadowDistance),new b(g,i,u,m,a,l,c+i.leading,e,r)},b.wordWrap=function(g,i,d){d===void 0&&(d=b._canvas);for(var w=d.getContext("2d"),f=0,r="",t="",n=Object.create(null),a=i.letterSpacing,l=i.whiteSpace,e=b.collapseSpaces(l),o=b.collapseNewlines(l),s=!e,u=i.wordWrapWidth+a,c=b.tokenize(g),m=0;m<c.length;m++){var p=c[m];if(b.isNewline(p)){if(!o){t+=b.addLine(r),s=!e,r="",f=0;continue}p=" "}if(e){var h=b.isBreakingSpace(p),v=b.isBreakingSpace(r[r.length-1]);if(h&&v)continue}var x=b.getFromCache(p,a,n,w);if(x>u)if(r!==""&&(t+=b.addLine(r),r="",f=0),b.canBreakWords(p,i.breakWords))for(var y=b.wordWrapSplit(p),k=0;k<y.length;k++){for(var T=y[k],E=1;y[k+E];){var _=y[k+E],A=T[T.length-1];if(!b.canBreakChars(A,_,p,k,i.breakWords))T+=_;else break;E++}k+=T.length-1;var C=b.getFromCache(T,a,n,w);C+f>u&&(t+=b.addLine(r),s=!1,r="",f=0),r+=T,f+=C}else{r.length>0&&(t+=b.addLine(r),r="",f=0);var S=m===c.length-1;t+=b.addLine(p,!S),s=!1,r="",f=0}else x+f>u&&(s=!1,t+=b.addLine(r),r="",f=0),(r.length>0||!b.isBreakingSpace(p)||s)&&(r+=p,f+=x)}return t+=b.addLine(r,!1),t},b.addLine=function(g,i){return i===void 0&&(i=!0),g=b.trimRight(g),g=i?g+`
`:g,g},b.getFromCache=function(g,i,d,w){var f=d[g];if(typeof f!="number"){var r=g.length*i;f=w.measureText(g).width+r,d[g]=f}return f},b.collapseSpaces=function(g){return g==="normal"||g==="pre-line"},b.collapseNewlines=function(g){return g==="normal"},b.trimRight=function(g){if(typeof g!="string")return"";for(var i=g.length-1;i>=0;i--){var d=g[i];if(!b.isBreakingSpace(d))break;g=g.slice(0,-1)}return g},b.isNewline=function(g){return typeof g!="string"?!1:b._newlines.indexOf(g.charCodeAt(0))>=0},b.isBreakingSpace=function(g){return typeof g!="string"?!1:b._breakingSpaces.indexOf(g.charCodeAt(0))>=0},b.tokenize=function(g){var i=[],d="";if(typeof g!="string")return i;for(var w=0;w<g.length;w++){var f=g[w];if(b.isBreakingSpace(f)||b.isNewline(f)){d!==""&&(i.push(d),d=""),i.push(f);continue}d+=f}return d!==""&&i.push(d),i},b.canBreakWords=function(g,i){return i},b.canBreakChars=function(g,i,d,w,f){return!0},b.wordWrapSplit=function(g){return g.split("")},b.measureFont=function(g){if(b._fonts[g])return b._fonts[g];var i={ascent:0,descent:0,fontSize:0},d=b._canvas,w=b._context;w.font=g;var f=b.METRICS_STRING+b.BASELINE_SYMBOL,r=Math.ceil(w.measureText(f).width),t=Math.ceil(w.measureText(b.BASELINE_SYMBOL).width),n=2*t;t=t*b.BASELINE_MULTIPLIER|0,d.width=r,d.height=n,w.fillStyle="#f00",w.fillRect(0,0,r,n),w.font=g,w.textBaseline="alphabetic",w.fillStyle="#000",w.fillText(f,0,t);var a=w.getImageData(0,0,r,n).data,l=a.length,e=r*4,o=0,s=0,u=!1;for(o=0;o<t;++o){for(var c=0;c<e;c+=4)if(a[s+c]!==255){u=!0;break}if(!u)s+=e;else break}for(i.ascent=t-o,s=l-e,u=!1,o=n;o>t;--o){for(var c=0;c<e;c+=4)if(a[s+c]!==255){u=!0;break}if(!u)s-=e;else break}return i.descent=o-t,i.fontSize=i.ascent+i.descent,b._fonts[g]=i,i},b.clearMetrics=function(g){g===void 0&&(g=""),g?delete b._fonts[g]:b._fonts={}},b}(),ts=function(){try{var b=new OffscreenCanvas(0,0),g=b.getContext("2d");return g&&g.measureText?b:document.createElement("canvas")}catch{return document.createElement("canvas")}}();ts.width=ts.height=10;fi._canvas=ts;fi._context=ts.getContext("2d");fi._fonts={};fi.METRICS_STRING="|ÉqÅ";fi.BASELINE_SYMBOL="M";fi.BASELINE_MULTIPLIER=1.4;fi._newlines=[10,13];fi._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var Op={texture:!0,children:!1,baseTexture:!0},Kl=function(b){Cp(g,b);function g(i,d,w){var f=this,r=!1;w||(w=document.createElement("canvas"),r=!0),w.width=3,w.height=3;var t=Dn.from(w);return t.orig=new or,t.trim=new or,f=b.call(this,t)||this,f._ownCanvas=r,f.canvas=w,f.context=f.canvas.getContext("2d"),f._resolution=An.RESOLUTION,f._autoResolution=!0,f._text=null,f._style=null,f._styleListener=null,f._font="",f.text=i,f.style=d,f.localStyleID=-1,f}return g.prototype.updateText=function(i){var d=this._style;if(this.localStyleID!==d.styleID&&(this.dirty=!0,this.localStyleID=d.styleID),!(!this.dirty&&i)){this._font=this._style.toFontString();var w=this.context,f=fi.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),r=f.width,t=f.height,n=f.lines,a=f.lineHeight,l=f.lineWidths,e=f.maxLineWidth,o=f.fontProperties;this.canvas.width=Math.ceil((Math.max(1,r)+d.padding*2)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,t)+d.padding*2)*this._resolution),w.scale(this._resolution,this._resolution),w.clearRect(0,0,this.canvas.width,this.canvas.height),w.font=this._font,w.lineWidth=d.strokeThickness,w.textBaseline=d.textBaseline,w.lineJoin=d.lineJoin,w.miterLimit=d.miterLimit;for(var s,u,c=d.dropShadow?2:1,m=0;m<c;++m){var p=d.dropShadow&&m===0,h=p?Math.ceil(Math.max(1,t)+d.padding*2):0,v=h*this._resolution;if(p){w.fillStyle="black",w.strokeStyle="black";var x=d.dropShadowColor,y=ao(typeof x=="number"?x:Rl(x)),k=d.dropShadowBlur*this._resolution,T=d.dropShadowDistance*this._resolution;w.shadowColor="rgba("+y[0]*255+","+y[1]*255+","+y[2]*255+","+d.dropShadowAlpha+")",w.shadowBlur=k,w.shadowOffsetX=Math.cos(d.dropShadowAngle)*T,w.shadowOffsetY=Math.sin(d.dropShadowAngle)*T+v}else w.fillStyle=this._generateFillStyle(d,n,f),w.strokeStyle=d.stroke,w.shadowColor="black",w.shadowBlur=0,w.shadowOffsetX=0,w.shadowOffsetY=0;for(var E=0;E<n.length;E++)s=d.strokeThickness/2,u=d.strokeThickness/2+E*a+o.ascent,d.align==="right"?s+=e-l[E]:d.align==="center"&&(s+=(e-l[E])/2),d.stroke&&d.strokeThickness&&this.drawLetterSpacing(n[E],s+d.padding,u+d.padding-h,!0),d.fill&&this.drawLetterSpacing(n[E],s+d.padding,u+d.padding-h)}this.updateTexture()}},g.prototype.drawLetterSpacing=function(i,d,w,f){f===void 0&&(f=!1);var r=this._style,t=r.letterSpacing;if(t===0){f?this.context.strokeText(i,d,w):this.context.fillText(i,d,w);return}for(var n=d,a=Array.from?Array.from(i):i.split(""),l=this.context.measureText(i).width,e=0,o=0;o<a.length;++o){var s=a[o];f?this.context.strokeText(s,n,w):this.context.fillText(s,n,w),e=this.context.measureText(i.substring(o+1)).width,n+=l-e+t,l=e}},g.prototype.updateTexture=function(){var i=this.canvas;if(this._style.trim){var d=bc(i);d.data&&(i.width=d.width,i.height=d.height,this.context.putImageData(d.data,0,0))}var w=this._texture,f=this._style,r=f.trim?0:f.padding,t=w.baseTexture;w.trim.width=w._frame.width=Math.ceil(i.width/this._resolution),w.trim.height=w._frame.height=Math.ceil(i.height/this._resolution),w.trim.x=-r,w.trim.y=-r,w.orig.width=w._frame.width-r*2,w.orig.height=w._frame.height-r*2,this._onTextureUpdate(),t.setRealSize(i.width,i.height,this._resolution),this._recursivePostUpdateTransform(),this.dirty=!1},g.prototype._render=function(i){this._autoResolution&&this._resolution!==i.resolution&&(this._resolution=i.resolution,this.dirty=!0),this.updateText(!0),b.prototype._render.call(this,i)},g.prototype.getLocalBounds=function(i){return this.updateText(!0),b.prototype.getLocalBounds.call(this,i)},g.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},g.prototype._generateFillStyle=function(i,d,w){var f=i.fill;if(Array.isArray(f)){if(f.length===1)return f[0]}else return f;var r,t=i.dropShadow?i.dropShadowDistance:0,n=i.padding||0,a=Math.ceil(this.canvas.width/this._resolution)-t-n*2,l=Math.ceil(this.canvas.height/this._resolution)-t-n*2,e=f.slice(),o=i.fillGradientStops.slice();if(!o.length)for(var s=e.length+1,u=1;u<s;++u)o.push(u/s);if(e.unshift(f[0]),o.unshift(0),e.push(f[f.length-1]),o.push(1),i.fillGradientType===Ro.LINEAR_VERTICAL){r=this.context.createLinearGradient(a/2,n,a/2,l+n);for(var c=0,m=w.fontProperties.fontSize+i.strokeThickness,p=m/l,u=0;u<d.length;u++)for(var h=w.lineHeight*u,v=0;v<e.length;v++){var x=0;typeof o[v]=="number"?x=o[v]:x=v/e.length;var y=h/l+x*p,k=Math.max(c,y);k=Math.min(k,1),r.addColorStop(k,e[v]),c=k}}else{r=this.context.createLinearGradient(n,l/2,a+n,l/2);for(var T=e.length+1,E=1,u=0;u<e.length;u++){var _=void 0;typeof o[u]=="number"?_=o[u]:_=E/T,r.addColorStop(_,e[u]),E++}}return r},g.prototype.destroy=function(i){typeof i=="boolean"&&(i={children:i}),i=Object.assign({},Op,i),b.prototype.destroy.call(this,i),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(g.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(i){this.updateText(!0);var d=no(this.scale.x)||1;this.scale.x=d*i/this._texture.orig.width,this._width=i},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(i){this.updateText(!0);var d=no(this.scale.y)||1;this.scale.y=d*i/this._texture.orig.height,this._height=i},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"style",{get:function(){return this._style},set:function(i){i=i||{},i instanceof co?this._style=i:this._style=new co(i),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"text",{get:function(){return this._text},set:function(i){i=String(i??""),this._text!==i&&(this._text=i,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"resolution",{get:function(){return this._resolution},set:function(i){this._autoResolution=!1,this._resolution!==i&&(this._resolution=i,this.dirty=!0)},enumerable:!1,configurable:!0}),g}(jo);/*!
 * @pixi/prepare - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */An.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var pl=function(b,g){return pl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,d){i.__proto__=d}||function(i,d){for(var w in d)d.hasOwnProperty(w)&&(i[w]=d[w])},pl(b,g)};function Mp(b,g){pl(b,g);function i(){this.constructor=b}b.prototype=g===null?Object.create(g):(i.prototype=g.prototype,new i)}var Dh=function(){function b(g){this.maxItemsPerFrame=g,this.itemsLeft=0}return b.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},b.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},b}();function Ip(b,g){var i=!1;if(b&&b._textures&&b._textures.length){for(var d=0;d<b._textures.length;d++)if(b._textures[d]instanceof Dn){var w=b._textures[d].baseTexture;g.indexOf(w)===-1&&(g.push(w),i=!0)}}return i}function Rp(b,g){if(b.baseTexture instanceof yr){var i=b.baseTexture;return g.indexOf(i)===-1&&g.push(i),!0}return!1}function Lp(b,g){if(b._texture&&b._texture instanceof Dn){var i=b._texture.baseTexture;return g.indexOf(i)===-1&&g.push(i),!0}return!1}function Np(b,g){return g instanceof Kl?(g.updateText(!0),!0):!1}function Dp(b,g){if(g instanceof co){var i=g.toFontString();return fi.measureFont(i),!0}return!1}function jp(b,g){if(b instanceof Kl){g.indexOf(b.style)===-1&&g.push(b.style),g.indexOf(b)===-1&&g.push(b);var i=b._texture.baseTexture;return g.indexOf(i)===-1&&g.push(i),!0}return!1}function Hp(b,g){return b instanceof co?(g.indexOf(b)===-1&&g.push(b),!0):!1}var jh=function(){function b(g){var i=this;this.limiter=new Dh(An.UPLOADS_PER_FRAME),this.renderer=g,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){i.queue&&i.prepareItems()},this.registerFindHook(jp),this.registerFindHook(Hp),this.registerFindHook(Ip),this.registerFindHook(Rp),this.registerFindHook(Lp),this.registerUploadHook(Np),this.registerUploadHook(Dp)}return b.prototype.upload=function(g,i){typeof g=="function"&&(i=g,g=null),g&&this.add(g),this.queue.length?(i&&this.completes.push(i),this.ticking||(this.ticking=!0,Nr.system.addOnce(this.tick,this,Si.UTILITY))):i&&i()},b.prototype.tick=function(){setTimeout(this.delayedTick,0)},b.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var g=this.queue[0],i=!1;if(g&&!g._destroyed){for(var d=0,w=this.uploadHooks.length;d<w;d++)if(this.uploadHooks[d](this.uploadHookHelper,g)){this.queue.shift(),i=!0;break}}i||this.queue.shift()}if(this.queue.length)Nr.system.addOnce(this.tick,this,Si.UTILITY);else{this.ticking=!1;var f=this.completes.slice(0);this.completes.length=0;for(var d=0,w=f.length;d<w;d++)f[d]()}},b.prototype.registerFindHook=function(g){return g&&this.addHooks.push(g),this},b.prototype.registerUploadHook=function(g){return g&&this.uploadHooks.push(g),this},b.prototype.add=function(g){for(var i=0,d=this.addHooks.length;i<d&&!this.addHooks[i](g,this.queue);i++);if(g instanceof yi)for(var i=g.children.length-1;i>=0;i--)this.add(g.children[i]);return this},b.prototype.destroy=function(){this.ticking&&Nr.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},b}();function Hh(b,g){return g instanceof yr?(g._glTextures[b.CONTEXT_UID]||b.texture.bind(g),!0):!1}function Bp(b,g){if(!(g instanceof Zl))return!1;var i=g.geometry;g.finishPoly(),i.updateBatches();for(var d=i.batches,w=0;w<d.length;w++){var f=d[w].style.texture;f&&Hh(b,f.baseTexture)}return i.batchable||b.geometry.bind(i,g._resolveDirectShader(b)),!0}function Fp(b,g){return b instanceof Zl?(g.push(b),!0):!1}var Bh=function(b){Mp(g,b);function g(i){var d=b.call(this,i)||this;return d.uploadHookHelper=d.renderer,d.registerFindHook(Fp),d.registerUploadHook(Hh),d.registerUploadHook(Bp),d}return g}(jh),zp=function(){function b(g){this.maxMilliseconds=g,this.frameStart=0}return b.prototype.beginFrame=function(){this.frameStart=Date.now()},b.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},b}();/*!
 * @pixi/spritesheet - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Fh=function(){function b(g,i,d){d===void 0&&(d=null),this._texture=g instanceof Dn?g:null,this.baseTexture=g instanceof yr?g:this._texture.baseTexture,this.textures={},this.animations={},this.data=i;var w=this.baseTexture.resource;this.resolution=this._updateResolution(d||(w?w.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return b.prototype._updateResolution=function(g){g===void 0&&(g=null);var i=this.data.meta.scale,d=da(g,null);return d===null&&(d=i!==void 0?parseFloat(i):1),d!==1&&this.baseTexture.setResolution(d),d},b.prototype.parse=function(g){this._batchIndex=0,this._callback=g,this._frameKeys.length<=b.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},b.prototype._processFrames=function(g){for(var i=g,d=b.BATCH_SIZE;i-g<d&&i<this._frameKeys.length;){var w=this._frameKeys[i],f=this._frames[w],r=f.frame;if(r){var t=null,n=null,a=f.trimmed!==!1&&f.sourceSize?f.sourceSize:f.frame,l=new or(0,0,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution);f.rotated?t=new or(Math.floor(r.x)/this.resolution,Math.floor(r.y)/this.resolution,Math.floor(r.h)/this.resolution,Math.floor(r.w)/this.resolution):t=new or(Math.floor(r.x)/this.resolution,Math.floor(r.y)/this.resolution,Math.floor(r.w)/this.resolution,Math.floor(r.h)/this.resolution),f.trimmed!==!1&&f.spriteSourceSize&&(n=new or(Math.floor(f.spriteSourceSize.x)/this.resolution,Math.floor(f.spriteSourceSize.y)/this.resolution,Math.floor(r.w)/this.resolution,Math.floor(r.h)/this.resolution)),this.textures[w]=new Dn(this.baseTexture,t,l,n,f.rotated?2:0,f.anchor),Dn.addToCache(this.textures[w],w)}i++}},b.prototype._processAnimations=function(){var g=this.data.animations||{};for(var i in g){this.animations[i]=[];for(var d=0;d<g[i].length;d++){var w=g[i][d];this.animations[i].push(this.textures[w])}}},b.prototype._parseComplete=function(){var g=this._callback;this._callback=null,this._batchIndex=0,g.call(this,this.textures)},b.prototype._nextBatch=function(){var g=this;this._processFrames(this._batchIndex*b.BATCH_SIZE),this._batchIndex++,setTimeout(function(){g._batchIndex*b.BATCH_SIZE<g._frameKeys.length?g._nextBatch():(g._processAnimations(),g._parseComplete())},0)},b.prototype.destroy=function(g){var i;g===void 0&&(g=!1);for(var d in this.textures)this.textures[d].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,g&&((i=this._texture)===null||i===void 0||i.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},b.BATCH_SIZE=1e3,b}(),zh=function(){function b(){}return b.use=function(g,i){var d=this,w=g.name+"_image";if(!g.data||g.type!==ua.TYPE.JSON||!g.data.frames||d.resources[w]){i();return}var f={crossOrigin:g.crossOrigin,metadata:g.metadata.imageMetadata,parentResource:g},r=b.getResourcePath(g,d.baseUrl);d.add(w,r,f,function(t){if(t.error){i(t.error);return}var n=new Fh(t.texture,g.data,g.url);n.parse(function(){g.spritesheet=n,g.textures=n.textures,i()})})},b.getResourcePath=function(g,i){return g.isDataUrl?g.data.meta.image:ho.resolve(g.url.replace(i,""),g.data.meta.image)},b}();/*!
 * @pixi/sprite-tiling - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ml=function(b,g){return ml=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,d){i.__proto__=d}||function(i,d){for(var w in d)d.hasOwnProperty(w)&&(i[w]=d[w])},ml(b,g)};function Uh(b,g){ml(b,g);function i(){this.constructor=b}b.prototype=g===null?Object.create(g):(i.prototype=g.prototype,new i)}var aa=new Dr,Up=function(b){Uh(g,b);function g(i,d,w){d===void 0&&(d=100),w===void 0&&(w=100);var f=b.call(this,i)||this;return f.tileTransform=new jl,f._width=d,f._height=w,f.uvMatrix=f.texture.uvMatrix||new is(i),f.pluginName="tilingSprite",f.uvRespectAnchor=!1,f}return Object.defineProperty(g.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(i){this.uvMatrix.clampMargin=i,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(i){this.tileTransform.scale.copyFrom(i)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(i){this.tileTransform.position.copyFrom(i)},enumerable:!1,configurable:!0}),g.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},g.prototype._render=function(i){var d=this._texture;!d||!d.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),i.batch.setObjectRenderer(i.plugins[this.pluginName]),i.plugins[this.pluginName].render(this))},g.prototype._calculateBounds=function(){var i=this._width*-this._anchor._x,d=this._height*-this._anchor._y,w=this._width*(1-this._anchor._x),f=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,i,d,w,f)},g.prototype.getLocalBounds=function(i){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),i||(this._localBoundsRect||(this._localBoundsRect=new or),i=this._localBoundsRect),this._bounds.getRectangle(i)):b.prototype.getLocalBounds.call(this,i)},g.prototype.containsPoint=function(i){this.worldTransform.applyInverse(i,aa);var d=this._width,w=this._height,f=-d*this.anchor._x;if(aa.x>=f&&aa.x<f+d){var r=-w*this.anchor._y;if(aa.y>=r&&aa.y<r+w)return!0}return!1},g.prototype.destroy=function(i){b.prototype.destroy.call(this,i),this.tileTransform=null,this.uvMatrix=null},g.from=function(i,d){return typeof d=="number"&&(en("5.3.0","TilingSprite.from use options instead of width and height args"),d={width:d,height:arguments[2]}),new g(Dn.from(i,d),d.width,d.height)},Object.defineProperty(g.prototype,"width",{get:function(){return this._width},set:function(i){this._width=i},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"height",{get:function(){return this._height},set:function(i){this._height=i},enumerable:!1,configurable:!0}),g}(jo),Wu=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Vp=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture2D(uSampler, coord);
    gl_FragColor = texSample * uColor;
}
`,Gp=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,Ua=new Or,Vh=function(b){Uh(g,b);function g(i){var d=b.call(this,i)||this,w={globals:d.renderer.globalUniforms};return d.shader=Vi.from(Wu,Vp,w),d.simpleShader=Vi.from(Wu,Gp,w),d.quad=new Wl,d.state=Gi.for2d(),d}return g.prototype.render=function(i){var d=this.renderer,w=this.quad,f=w.vertices;f[0]=f[6]=i._width*-i.anchor.x,f[1]=f[3]=i._height*-i.anchor.y,f[2]=f[4]=i._width*(1-i.anchor.x),f[5]=f[7]=i._height*(1-i.anchor.y),i.uvRespectAnchor&&(f=w.uvs,f[0]=f[6]=-i.anchor.x,f[1]=f[3]=-i.anchor.y,f[2]=f[4]=1-i.anchor.x,f[5]=f[7]=1-i.anchor.y),w.invalidate();var r=i._texture,t=r.baseTexture,n=i.tileTransform.localTransform,a=i.uvMatrix,l=t.isPowerOfTwo&&r.frame.width===t.width&&r.frame.height===t.height;l&&(t._glTextures[d.CONTEXT_UID]?l=t.wrapMode!==Ii.CLAMP:t.wrapMode===Ii.CLAMP&&(t.wrapMode=Ii.REPEAT));var e=l?this.simpleShader:this.shader,o=r.width,s=r.height,u=i._width,c=i._height;Ua.set(n.a*o/u,n.b*o/c,n.c*s/u,n.d*s/c,n.tx/u,n.ty/c),Ua.invert(),l?Ua.prepend(a.mapCoord):(e.uniforms.uMapCoord=a.mapCoord.toArray(!0),e.uniforms.uClampFrame=a.uClampFrame,e.uniforms.uClampOffset=a.uClampOffset),e.uniforms.uTransform=Ua.toArray(!0),e.uniforms.uColor=Dl(i.tint,i.worldAlpha,e.uniforms.uColor,t.alphaMode),e.uniforms.translationMatrix=i.transform.worldTransform.toArray(!0),e.uniforms.uSampler=r,d.shader.bind(e),d.geometry.bind(w),this.state.blendMode=Nl(i.blendMode,t.alphaMode),d.state.set(this.state),d.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},g}(ya);/*!
 * @pixi/mesh - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var gl=function(b,g){return gl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,d){i.__proto__=d}||function(i,d){for(var w in d)d.hasOwnProperty(w)&&(i[w]=d[w])},gl(b,g)};function Jl(b,g){gl(b,g);function i(){this.constructor=b}b.prototype=g===null?Object.create(g):(i.prototype=g.prototype,new i)}var Gh=function(){function b(g,i){this.uvBuffer=g,this.uvMatrix=i,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return b.prototype.update=function(g){if(!(!g&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var i=this.uvBuffer.data;(!this.data||this.data.length!==i.length)&&(this.data=new Float32Array(i.length)),this.uvMatrix.multiplyUvs(i,this.data),this._updateID++}},b}(),Us=new Dr,Xu=new ko,Lo=function(b){Jl(g,b);function g(i,d,w,f){f===void 0&&(f=ci.TRIANGLES);var r=b.call(this)||this;return r.geometry=i,i.refCount++,r.shader=d,r.state=w||Gi.for2d(),r.drawMode=f,r.start=0,r.size=0,r.uvs=null,r.indices=null,r.vertexData=new Float32Array(1),r.vertexDirty=0,r._transformID=-1,r._roundPixels=An.ROUND_PIXELS,r.batchUvs=null,r}return Object.defineProperty(g.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"material",{get:function(){return this.shader},set:function(i){this.shader=i},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(i){this.state.blendMode=i},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(i){this._roundPixels!==i&&(this._transformID=-1),this._roundPixels=i},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"tint",{get:function(){return this.shader.tint},set:function(i){this.shader.tint=i},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"texture",{get:function(){return this.shader.texture},set:function(i){this.shader.texture=i},enumerable:!1,configurable:!0}),g.prototype._render=function(i){var d=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===ci.TRIANGLES&&d.length<g.BATCHABLE_SIZE*2?this._renderToBatch(i):this._renderDefault(i)},g.prototype._renderDefault=function(i){var d=this.shader;d.alpha=this.worldAlpha,d.update&&d.update(),i.batch.flush(),d.program.uniformData.translationMatrix&&(d.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),i.shader.bind(d),i.state.set(this.state),i.geometry.bind(this.geometry,d),i.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},g.prototype._renderToBatch=function(i){var d=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=d.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var w=this.material.pluginName;i.batch.setObjectRenderer(i.plugins[w]),i.plugins[w].render(this)},g.prototype.calculateVertices=function(){var i=this.geometry,d=i.buffers[0].data;if(!(i.vertexDirtyId===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==d.length&&(this.vertexData=new Float32Array(d.length));for(var w=this.transform.worldTransform,f=w.a,r=w.b,t=w.c,n=w.d,a=w.tx,l=w.ty,e=this.vertexData,o=0;o<e.length/2;o++){var s=d[o*2],u=d[o*2+1];e[o*2]=f*s+t*u+a,e[o*2+1]=r*s+n*u+l}if(this._roundPixels)for(var c=An.RESOLUTION,o=0;o<e.length;++o)e[o]=Math.round((e[o]*c|0)/c);this.vertexDirty=i.vertexDirtyId}},g.prototype.calculateUvs=function(){var i=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=i.data:(this.batchUvs||(this.batchUvs=new Gh(i,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},g.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},g.prototype.containsPoint=function(i){if(!this.getBounds().contains(i.x,i.y))return!1;this.worldTransform.applyInverse(i,Us);for(var d=this.geometry.getBuffer("aVertexPosition").data,w=Xu.points,f=this.geometry.getIndex().data,r=f.length,t=this.drawMode===4?3:1,n=0;n+2<r;n+=t){var a=f[n]*2,l=f[n+1]*2,e=f[n+2]*2;if(w[0]=d[a],w[1]=d[a+1],w[2]=d[l],w[3]=d[l+1],w[4]=d[e],w[5]=d[e+1],Xu.contains(Us.x,Us.y))return!0}return!1},g.prototype.destroy=function(i){b.prototype.destroy.call(this,i),this.geometry.refCount--,this.geometry.refCount===0&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},g.BATCHABLE_SIZE=100,g}(yi),Wp=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,Xp=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,xa=function(b){Jl(g,b);function g(i,d){var w=this,f={uSampler:i,alpha:1,uTextureMatrix:Or.IDENTITY,uColor:new Float32Array([1,1,1,1])};return d=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},d),d.uniforms&&Object.assign(f,d.uniforms),w=b.call(this,d.program||ba.from(Xp,Wp),f)||this,w._colorDirty=!1,w.uvMatrix=new is(i),w.batchable=d.program===void 0,w.pluginName=d.pluginName,w.tint=d.tint,w.alpha=d.alpha,w}return Object.defineProperty(g.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(i){this.uniforms.uSampler!==i&&(this.uniforms.uSampler=i,this.uvMatrix.texture=i)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"alpha",{get:function(){return this._alpha},set:function(i){i!==this._alpha&&(this._alpha=i,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"tint",{get:function(){return this._tint},set:function(i){i!==this._tint&&(this._tint=i,this._tintRGB=(i>>16)+(i&65280)+((i&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),g.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var i=this.texture.baseTexture;Dl(this._tint,this._alpha,this.uniforms.uColor,i.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},g}(Vi),wa=function(b){Jl(g,b);function g(i,d,w){var f=b.call(this)||this,r=new Lr(i),t=new Lr(d,!0),n=new Lr(w,!0,!0);return f.addAttribute("aVertexPosition",r,2,!1,Pr.FLOAT).addAttribute("aTextureCoord",t,2,!1,Pr.FLOAT).addIndex(n),f._updateId=-1,f}return Object.defineProperty(g.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),g}(Do);/*!
 * @pixi/text-bitmap - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var vl=function(b,g){return vl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,d){i.__proto__=d}||function(i,d){for(var w in d)d.hasOwnProperty(w)&&(i[w]=d[w])},vl(b,g)};function qp(b,g){vl(b,g);function i(){this.constructor=b}b.prototype=g===null?Object.create(g):(i.prototype=g.prototype,new i)}var ma=function(){function b(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]}return b}(),Yp=function(){function b(){}return b.test=function(g){return typeof g=="string"&&g.indexOf("info face=")===0},b.parse=function(g){var i=g.match(/^[a-z]+\s+.+$/gm),d={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]};for(var w in i){var f=i[w].match(/^[a-z]+/gm)[0],r=i[w].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),t={};for(var n in r){var a=r[n].split("="),l=a[0],e=a[1].replace(/"/gm,""),o=parseFloat(e),s=isNaN(o)?e:o;t[l]=s}d[f].push(t)}var u=new ma;return d.info.forEach(function(c){return u.info.push({face:c.face,size:parseInt(c.size,10)})}),d.common.forEach(function(c){return u.common.push({lineHeight:parseInt(c.lineHeight,10)})}),d.page.forEach(function(c){return u.page.push({id:parseInt(c.id,10),file:c.file})}),d.char.forEach(function(c){return u.char.push({id:parseInt(c.id,10),page:parseInt(c.page,10),x:parseInt(c.x,10),y:parseInt(c.y,10),width:parseInt(c.width,10),height:parseInt(c.height,10),xoffset:parseInt(c.xoffset,10),yoffset:parseInt(c.yoffset,10),xadvance:parseInt(c.xadvance,10)})}),d.kerning.forEach(function(c){return u.kerning.push({first:parseInt(c.first,10),second:parseInt(c.second,10),amount:parseInt(c.amount,10)})}),u},b}(),yl=function(){function b(){}return b.test=function(g){return g instanceof XMLDocument&&g.getElementsByTagName("page").length&&g.getElementsByTagName("info")[0].getAttribute("face")!==null},b.parse=function(g){for(var i=new ma,d=g.getElementsByTagName("info"),w=g.getElementsByTagName("common"),f=g.getElementsByTagName("page"),r=g.getElementsByTagName("char"),t=g.getElementsByTagName("kerning"),n=0;n<d.length;n++)i.info.push({face:d[n].getAttribute("face"),size:parseInt(d[n].getAttribute("size"),10)});for(var n=0;n<w.length;n++)i.common.push({lineHeight:parseInt(w[n].getAttribute("lineHeight"),10)});for(var n=0;n<f.length;n++)i.page.push({id:parseInt(f[n].getAttribute("id"),10)||0,file:f[n].getAttribute("file")});for(var n=0;n<r.length;n++){var a=r[n];i.char.push({id:parseInt(a.getAttribute("id"),10),page:parseInt(a.getAttribute("page"),10)||0,x:parseInt(a.getAttribute("x"),10),y:parseInt(a.getAttribute("y"),10),width:parseInt(a.getAttribute("width"),10),height:parseInt(a.getAttribute("height"),10),xoffset:parseInt(a.getAttribute("xoffset"),10),yoffset:parseInt(a.getAttribute("yoffset"),10),xadvance:parseInt(a.getAttribute("xadvance"),10)})}for(var n=0;n<t.length;n++)i.kerning.push({first:parseInt(t[n].getAttribute("first"),10),second:parseInt(t[n].getAttribute("second"),10),amount:parseInt(t[n].getAttribute("amount"),10)});return i},b}(),$p=function(){function b(){}return b.test=function(g){if(typeof g=="string"&&g.indexOf("<font>")>-1){var i=new self.DOMParser().parseFromString(g,"text/xml");return yl.test(i)}return!1},b.parse=function(g){var i=new window.DOMParser().parseFromString(g,"text/xml");return yl.parse(i)},b}(),Vs=[Yp,yl,$p];function Wh(b){for(var g=0;g<Vs.length;g++)if(Vs[g].test(b))return Vs[g];return null}function Zp(b,g,i,d,w,f){var r=i.fill;if(Array.isArray(r)){if(r.length===1)return r[0]}else return r;var t,n=i.dropShadow?i.dropShadowDistance:0,a=i.padding||0,l=Math.ceil(b.width/d)-n-a*2,e=Math.ceil(b.height/d)-n-a*2,o=r.slice(),s=i.fillGradientStops.slice();if(!s.length)for(var u=o.length+1,c=1;c<u;++c)s.push(c/u);if(o.unshift(r[0]),s.unshift(0),o.push(r[r.length-1]),s.push(1),i.fillGradientType===Ro.LINEAR_VERTICAL){t=g.createLinearGradient(l/2,a,l/2,e+a);for(var m=0,p=f.fontProperties.fontSize+i.strokeThickness,h=p/e,c=0;c<w.length;c++)for(var v=f.lineHeight*c,x=0;x<o.length;x++){var y=0;typeof s[x]=="number"?y=s[x]:y=x/o.length;var k=v/e+y*h,T=Math.max(m,k);T=Math.min(T,1),t.addColorStop(T,o[x]),m=T}}else{t=g.createLinearGradient(a,e/2,l+a,e/2);for(var E=o.length+1,_=1,c=0;c<o.length;c++){var A=void 0;typeof s[c]=="number"?A=s[c]:A=_/E,t.addColorStop(A,o[c]),_++}}return t}function Kp(b,g,i,d,w,f,r){var t=i.text,n=i.fontProperties;g.translate(d,w),g.scale(f,f);var a=r.strokeThickness/2,l=-(r.strokeThickness/2);if(g.font=r.toFontString(),g.lineWidth=r.strokeThickness,g.textBaseline=r.textBaseline,g.lineJoin=r.lineJoin,g.miterLimit=r.miterLimit,g.fillStyle=Zp(b,g,r,f,[t],i),g.strokeStyle=r.stroke,r.dropShadow){var e=r.dropShadowColor,o=ao(typeof e=="number"?e:Rl(e)),s=r.dropShadowBlur*f,u=r.dropShadowDistance*f;g.shadowColor="rgba("+o[0]*255+","+o[1]*255+","+o[2]*255+","+r.dropShadowAlpha+")",g.shadowBlur=s,g.shadowOffsetX=Math.cos(r.dropShadowAngle)*u,g.shadowOffsetY=Math.sin(r.dropShadowAngle)*u}else g.shadowColor="black",g.shadowBlur=0,g.shadowOffsetX=0,g.shadowOffsetY=0;r.stroke&&r.strokeThickness&&g.strokeText(t,a,l+i.lineHeight-n.descent),r.fill&&g.fillText(t,a,l+i.lineHeight-n.descent),g.setTransform(1,0,0,1,0,0),g.fillStyle="rgba(0, 0, 0, 0)"}function Jp(b){typeof b=="string"&&(b=[b]);for(var g=[],i=0,d=b.length;i<d;i++){var w=b[i];if(Array.isArray(w)){if(w.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+w.length+".");var f=w[0].charCodeAt(0),r=w[1].charCodeAt(0);if(r<f)throw new Error("[BitmapFont]: Invalid character range.");for(var t=f,n=r;t<=n;t++)g.push(String.fromCharCode(t))}else g.push.apply(g,w.split(""))}if(g.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return g}var Fi=function(){function b(g,i,d){var w=g.info[0],f=g.common[0],r=g.page[0],t=da(r.file),n={};this._ownsTextures=d,this.font=w.face,this.size=w.size,this.lineHeight=f.lineHeight/t,this.chars={},this.pageTextures=n;for(var a=0;a<g.page.length;a++){var l=g.page[a],e=l.id,o=l.file;n[e]=i instanceof Array?i[a]:i[o]}for(var a=0;a<g.char.length;a++){var s=g.char[a],e=s.id,u=s.page,c=g.char[a],m=c.x,p=c.y,h=c.width,v=c.height,x=c.xoffset,y=c.yoffset,k=c.xadvance;m/=t,p/=t,h/=t,v/=t,x/=t,y/=t,k/=t;var T=new or(m+n[u].frame.x/t,p+n[u].frame.y/t,h,v);this.chars[e]={xOffset:x,yOffset:y,xAdvance:k,kerning:{},texture:new Dn(n[u].baseTexture,T),page:u}}for(var a=0;a<g.kerning.length;a++){var E=g.kerning[a],_=E.first,A=E.second,C=E.amount;_/=t,A/=t,C/=t,this.chars[A]&&(this.chars[A].kerning[_]=C)}}return b.prototype.destroy=function(){for(var g in this.chars)this.chars[g].texture.destroy(),this.chars[g].texture=null;for(var g in this.pageTextures)this._ownsTextures&&this.pageTextures[g].destroy(!0),this.pageTextures[g]=null;this.chars=null,this.pageTextures=null},b.install=function(g,i,d){var w;if(g instanceof ma)w=g;else{var f=Wh(g);if(!f)throw new Error("Unrecognized data format for font.");w=f.parse(g)}i instanceof Dn&&(i=[i]);var r=new b(w,i,d);return b.available[r.font]=r,r},b.uninstall=function(g){var i=b.available[g];if(!i)throw new Error("No font found named '"+g+"'");i.destroy(),delete b.available[g]},b.from=function(g,i,d){if(!g)throw new Error("[BitmapFont] Property `name` is required.");var w=Object.assign({},b.defaultOptions,d),f=w.chars,r=w.padding,t=w.resolution,n=w.textureWidth,a=w.textureHeight,l=Jp(f),e=i instanceof co?i:new co(i),o=n,s=new ma;s.info[0]={face:e.fontFamily,size:e.fontSize},s.common[0]={lineHeight:e.fontSize};for(var u=0,c=0,m,p,h,v=0,x=[],y=0;y<l.length;y++){m||(m=document.createElement("canvas"),m.width=n,m.height=a,p=m.getContext("2d"),h=new yr(m,{resolution:t}),x.push(new Dn(h)),s.page.push({id:x.length-1,file:""}));var k=fi.measureText(l[y],e,!1,m),T=k.width,E=Math.ceil(k.height),_=Math.ceil((e.fontStyle==="italic"?2:1)*T);if(c>=a-E*t){if(c===0)throw new Error("[BitmapFont] textureHeight "+a+"px is "+("too small for "+e.fontSize+"px fonts"));--y,m=null,p=null,h=null,c=0,u=0,v=0;continue}if(v=Math.max(E+k.fontProperties.descent,v),_*t+u>=o){--y,c+=v*t,c=Math.ceil(c),u=0,v=0;continue}Kp(m,p,k,u,c,t,e);var A=k.text.charCodeAt(0);s.char.push({id:A,page:x.length-1,x:u/t,y:c/t,width:_,height:E,xoffset:0,yoffset:0,xadvance:Math.ceil(T-(e.dropShadow?e.dropShadowDistance:0)-(e.stroke?e.strokeThickness:0))}),u+=(_+2*r)*t,u=Math.ceil(u)}var C=new b(s,x,!0);return b.available[g]!==void 0&&b.uninstall(g),b.available[g]=C,C},b.ALPHA=[["a","z"],["A","Z"]," "],b.NUMERIC=[["0","9"]],b.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],b.ASCII=[[" ","~"]],b.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:b.ALPHANUMERIC},b.available={},b}(),qu=[],Yu=[],Qp=function(b){qp(g,b);function g(i,d){d===void 0&&(d={});var w=b.call(this)||this;w._tint=16777215,d.font&&(en("5.3.0","PIXI.BitmapText constructor style.font property is deprecated."),w._upgradeStyle(d));var f=Object.assign({},g.styleDefaults,d),r=f.align,t=f.tint,n=f.maxWidth,a=f.letterSpacing,l=f.fontName,e=f.fontSize;if(!Fi.available[l])throw new Error('Missing BitmapFont "'+l+'"');return w._activePagesMeshData=[],w._textWidth=0,w._textHeight=0,w._align=r,w._tint=t,w._fontName=l,w._fontSize=e||Fi.available[l].size,w._text=i,w._maxWidth=n,w._maxLineHeight=0,w._letterSpacing=a,w._anchor=new ro(function(){w.dirty=!0},w,0,0),w._roundPixels=An.ROUND_PIXELS,w.dirty=!0,w._textureCache={},w}return g.prototype.updateText=function(){for(var i,d=Fi.available[this._fontName],w=this._fontSize/d.size,f=new Dr,r=[],t=[],n=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",a=n.length,l=this._maxWidth*d.size/this._fontSize,e=null,o=0,s=0,u=0,c=-1,m=0,p=0,h=0,v=0;v<a;v++){var x=n.charCodeAt(v),y=n.charAt(v);if(/(?:\s)/.test(y)&&(c=v,m=o),y==="\r"||y===`
`){t.push(o),s=Math.max(s,o),++u,++p,f.x=0,f.y+=d.lineHeight,e=null;continue}var k=d.chars[x];if(k){e&&k.kerning[e]&&(f.x+=k.kerning[e]);var T=Yu.pop()||{texture:Dn.EMPTY,line:0,charCode:0,position:new Dr};T.texture=k.texture,T.line=u,T.charCode=x,T.position.x=f.x+k.xOffset+this._letterSpacing/2,T.position.y=f.y+k.yOffset,r.push(T),f.x+=k.xAdvance+this._letterSpacing,o=f.x,h=Math.max(h,k.yOffset+k.texture.height),e=x,c!==-1&&l>0&&f.x>l&&(++p,io(r,1+c-p,1+v-c),v=c,c=-1,t.push(m),s=Math.max(s,m),u++,f.x=0,f.y+=d.lineHeight,e=null)}}var E=n.charAt(n.length-1);E!=="\r"&&E!==`
`&&(/(?:\s)/.test(E)&&(o=m),t.push(o),s=Math.max(s,o));for(var _=[],v=0;v<=u;v++){var A=0;this._align==="right"?A=s-t[v]:this._align==="center"&&(A=(s-t[v])/2),_.push(A)}for(var C=r.length,S={},P=[],O=this._activePagesMeshData,v=0;v<O.length;v++)qu.push(O[v]);for(var v=0;v<C;v++){var R=r[v].texture,I=R.baseTexture.uid;if(!S[I]){var M=qu.pop();if(!M){var H=new wa,L=new xa(Dn.EMPTY),D=new Lo(H,L);M={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:D,vertices:null,uvs:null,indices:null}}M.index=0,M.indexCount=0,M.vertexCount=0,M.uvsCount=0,M.total=0;var j=this._textureCache;j[I]=j[I]||new Dn(R.baseTexture),M.mesh.texture=j[I],M.mesh.tint=this._tint,P.push(M),S[I]=M}S[I].total++}for(var v=0;v<O.length;v++)P.indexOf(O[v])===-1&&this.removeChild(O[v].mesh);for(var v=0;v<P.length;v++)P[v].mesh.parent!==this&&this.addChild(P[v].mesh);this._activePagesMeshData=P;for(var v in S){var M=S[v],W=M.total;if(!(((i=M.indices)===null||i===void 0?void 0:i.length)>6*W)||M.vertices.length<Lo.BATCHABLE_SIZE*2)M.vertices=new Float32Array(4*2*W),M.uvs=new Float32Array(4*2*W),M.indices=new Uint16Array(6*W);else for(var B=M.total,F=M.vertices,N=B*4*2;N<F.length;N++)F[N]=0;M.mesh.size=6*W}for(var v=0;v<C;v++){var y=r[v],X=y.position.x+_[y.line];this._roundPixels&&(X=Math.round(X));var G=X*w,V=y.position.y*w,R=y.texture,z=S[R.baseTexture.uid],U=R.frame,Z=R._uvs,st=z.index++;z.indices[st*6+0]=0+st*4,z.indices[st*6+1]=1+st*4,z.indices[st*6+2]=2+st*4,z.indices[st*6+3]=0+st*4,z.indices[st*6+4]=2+st*4,z.indices[st*6+5]=3+st*4,z.vertices[st*8+0]=G,z.vertices[st*8+1]=V,z.vertices[st*8+2]=G+U.width*w,z.vertices[st*8+3]=V,z.vertices[st*8+4]=G+U.width*w,z.vertices[st*8+5]=V+U.height*w,z.vertices[st*8+6]=G,z.vertices[st*8+7]=V+U.height*w,z.uvs[st*8+0]=Z.x0,z.uvs[st*8+1]=Z.y0,z.uvs[st*8+2]=Z.x1,z.uvs[st*8+3]=Z.y1,z.uvs[st*8+4]=Z.x2,z.uvs[st*8+5]=Z.y2,z.uvs[st*8+6]=Z.x3,z.uvs[st*8+7]=Z.y3}this._textWidth=s*w,this._textHeight=(f.y+d.lineHeight)*w;for(var v in S){var M=S[v];if(this.anchor.x!==0||this.anchor.y!==0)for(var Y=0,rt=this._textWidth*this.anchor.x,ft=this._textHeight*this.anchor.y,tt=0;tt<M.total;tt++)M.vertices[Y++]-=rt,M.vertices[Y++]-=ft,M.vertices[Y++]-=rt,M.vertices[Y++]-=ft,M.vertices[Y++]-=rt,M.vertices[Y++]-=ft,M.vertices[Y++]-=rt,M.vertices[Y++]-=ft;this._maxLineHeight=h*w;var K=M.mesh.geometry.getBuffer("aVertexPosition"),Q=M.mesh.geometry.getBuffer("aTextureCoord"),ct=M.mesh.geometry.getIndex();K.data=M.vertices,Q.data=M.uvs,ct.data=M.indices,K.update(),Q.update(),ct.update()}for(var v=0;v<r.length;v++)Yu.push(r[v])},g.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},g.prototype.getLocalBounds=function(){return this.validate(),b.prototype.getLocalBounds.call(this)},g.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(g.prototype,"tint",{get:function(){return this._tint},set:function(i){if(this._tint!==i){this._tint=i;for(var d=0;d<this._activePagesMeshData.length;d++)this._activePagesMeshData[d].mesh.tint=i}},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"align",{get:function(){return this._align},set:function(i){this._align!==i&&(this._align=i,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"fontName",{get:function(){return this._fontName},set:function(i){if(!Fi.available[i])throw new Error('Missing BitmapFont "'+i+'"');this._fontName!==i&&(this._fontName=i,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"fontSize",{get:function(){return this._fontSize},set:function(i){this._fontSize!==i&&(this._fontSize=i,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"anchor",{get:function(){return this._anchor},set:function(i){typeof i=="number"?this._anchor.set(i):this._anchor.copyFrom(i)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"text",{get:function(){return this._text},set:function(i){i=String(i??""),this._text!==i&&(this._text=i,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(i){this._maxWidth!==i&&(this._maxWidth=i,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(i){this._letterSpacing!==i&&(this._letterSpacing=i,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(i){i!==this._roundPixels&&(this._roundPixels=i,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),g.prototype._upgradeStyle=function(i){if(typeof i.font=="string"){var d=i.font.split(" ");i.fontName=d.length===1?d[0]:d.slice(1).join(" "),d.length>=2&&(i.fontSize=parseInt(d[0],10))}else i.fontName=i.font.name,i.fontSize=typeof i.font.size=="number"?i.font.size:parseInt(i.font.size,10)},g.prototype.destroy=function(i){var d=this._textureCache;for(var w in d){var f=d[w];f.destroy(),delete d[w]}this._textureCache=null,b.prototype.destroy.call(this,i)},g.registerFont=function(i,d){return en("5.3.0","PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install"),Fi.install(i,d)},Object.defineProperty(g,"fonts",{get:function(){return en("5.3.0","PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available"),Fi.available},enumerable:!1,configurable:!0}),g.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},g}(yi),Xh=function(){function b(){}return b.add=function(){ua.setExtensionXhrType("fnt",ua.XHR_RESPONSE_TYPE.TEXT)},b.use=function(g,i){var d=Wh(g.data);if(!d){i();return}for(var w=b.getBaseUrl(this,g),f=d.parse(g.data),r={},t=function(c){r[c.metadata.pageFile]=c.texture,Object.keys(r).length===f.page.length&&(g.bitmapFont=Fi.install(f,r,!0),i())},n=0;n<f.page.length;++n){var a=f.page[n].file,l=w+a,e=!1;for(var o in this.resources){var s=this.resources[o];if(s.url===l){s.metadata.pageFile=a,s.texture?t(s):s.onAfterMiddleware.add(t),e=!0;break}}if(!e){var u={crossOrigin:g.crossOrigin,loadType:ua.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:a},g.metadata.imageMetadata),parentResource:g};this.add(l,u,t)}}},b.getBaseUrl=function(g,i){var d=i.isDataUrl?"":b.dirname(i.url);return i.isDataUrl&&(d==="."&&(d=""),g.baseUrl&&d&&g.baseUrl.charAt(g.baseUrl.length-1)==="/"&&(d+="/")),d=d.replace(g.baseUrl,""),d&&d.charAt(d.length-1)!=="/"&&(d+="/"),d},b.dirname=function(g){var i=g.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return i===g?".":i===""?"/":i},b}();/*!
 * @pixi/filter-alpha - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var bl=function(b,g){return bl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,d){i.__proto__=d}||function(i,d){for(var w in d)d.hasOwnProperty(w)&&(i[w]=d[w])},bl(b,g)};function t1(b,g){bl(b,g);function i(){this.constructor=b}b.prototype=g===null?Object.create(g):(i.prototype=g.prototype,new i)}var e1=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`,n1=function(b){t1(g,b);function g(i){i===void 0&&(i=1);var d=b.call(this,mh,e1,{uAlpha:1})||this;return d.alpha=i,d}return Object.defineProperty(g.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(i){this.uniforms.uAlpha=i},enumerable:!1,configurable:!0}),g}(Di);/*!
 * @pixi/filter-blur - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var _l=function(b,g){return _l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,d){i.__proto__=d}||function(i,d){for(var w in d)d.hasOwnProperty(w)&&(i[w]=d[w])},_l(b,g)};function qh(b,g){_l(b,g);function i(){this.constructor=b}b.prototype=g===null?Object.create(g):(i.prototype=g.prototype,new i)}var r1=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function i1(b,g){var i=Math.ceil(b/2),d=r1,w="",f;g?f="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":f="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var r=0;r<b;r++){var t=f.replace("%index%",r.toString());t=t.replace("%sampleIndex%",r-(i-1)+".0"),w+=t,w+=`
`}return d=d.replace("%blur%",w),d=d.replace("%size%",b.toString()),d}var o1={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},a1=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function s1(b){for(var g=o1[b],i=g.length,d=a1,w="",f="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",r,t=0;t<b;t++){var n=f.replace("%index%",t.toString());r=t,t>=i&&(r=b-t-1),n=n.replace("%value%",g[r].toString()),w+=n,w+=`
`}return d=d.replace("%blur%",w),d=d.replace("%size%",b.toString()),d}var $u;(function(b){b[b.WEBGL_LEGACY=0]="WEBGL_LEGACY",b[b.WEBGL=1]="WEBGL",b[b.WEBGL2=2]="WEBGL2"})($u||($u={}));var Zu;(function(b){b[b.UNKNOWN=0]="UNKNOWN",b[b.WEBGL=1]="WEBGL",b[b.CANVAS=2]="CANVAS"})(Zu||(Zu={}));var Ku;(function(b){b[b.COLOR=16384]="COLOR",b[b.DEPTH=256]="DEPTH",b[b.STENCIL=1024]="STENCIL"})(Ku||(Ku={}));var Ju;(function(b){b[b.NORMAL=0]="NORMAL",b[b.ADD=1]="ADD",b[b.MULTIPLY=2]="MULTIPLY",b[b.SCREEN=3]="SCREEN",b[b.OVERLAY=4]="OVERLAY",b[b.DARKEN=5]="DARKEN",b[b.LIGHTEN=6]="LIGHTEN",b[b.COLOR_DODGE=7]="COLOR_DODGE",b[b.COLOR_BURN=8]="COLOR_BURN",b[b.HARD_LIGHT=9]="HARD_LIGHT",b[b.SOFT_LIGHT=10]="SOFT_LIGHT",b[b.DIFFERENCE=11]="DIFFERENCE",b[b.EXCLUSION=12]="EXCLUSION",b[b.HUE=13]="HUE",b[b.SATURATION=14]="SATURATION",b[b.COLOR=15]="COLOR",b[b.LUMINOSITY=16]="LUMINOSITY",b[b.NORMAL_NPM=17]="NORMAL_NPM",b[b.ADD_NPM=18]="ADD_NPM",b[b.SCREEN_NPM=19]="SCREEN_NPM",b[b.NONE=20]="NONE",b[b.SRC_OVER=0]="SRC_OVER",b[b.SRC_IN=21]="SRC_IN",b[b.SRC_OUT=22]="SRC_OUT",b[b.SRC_ATOP=23]="SRC_ATOP",b[b.DST_OVER=24]="DST_OVER",b[b.DST_IN=25]="DST_IN",b[b.DST_OUT=26]="DST_OUT",b[b.DST_ATOP=27]="DST_ATOP",b[b.ERASE=26]="ERASE",b[b.SUBTRACT=28]="SUBTRACT",b[b.XOR=29]="XOR"})(Ju||(Ju={}));var Qu;(function(b){b[b.POINTS=0]="POINTS",b[b.LINES=1]="LINES",b[b.LINE_LOOP=2]="LINE_LOOP",b[b.LINE_STRIP=3]="LINE_STRIP",b[b.TRIANGLES=4]="TRIANGLES",b[b.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",b[b.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Qu||(Qu={}));var tc;(function(b){b[b.RGBA=6408]="RGBA",b[b.RGB=6407]="RGB",b[b.ALPHA=6406]="ALPHA",b[b.LUMINANCE=6409]="LUMINANCE",b[b.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",b[b.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",b[b.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(tc||(tc={}));var ec;(function(b){b[b.TEXTURE_2D=3553]="TEXTURE_2D",b[b.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",b[b.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",b[b.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",b[b.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",b[b.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",b[b.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",b[b.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",b[b.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(ec||(ec={}));var nc;(function(b){b[b.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",b[b.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",b[b.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",b[b.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",b[b.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",b[b.FLOAT=5126]="FLOAT",b[b.HALF_FLOAT=36193]="HALF_FLOAT"})(nc||(nc={}));var rc;(function(b){b[b.NEAREST=0]="NEAREST",b[b.LINEAR=1]="LINEAR"})(rc||(rc={}));var ic;(function(b){b[b.CLAMP=33071]="CLAMP",b[b.REPEAT=10497]="REPEAT",b[b.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(ic||(ic={}));var oc;(function(b){b[b.OFF=0]="OFF",b[b.POW2=1]="POW2",b[b.ON=2]="ON"})(oc||(oc={}));var ac;(function(b){b[b.NPM=0]="NPM",b[b.UNPACK=1]="UNPACK",b[b.PMA=2]="PMA",b[b.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",b[b.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",b[b.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"})(ac||(ac={}));var ga;(function(b){b[b.NO=0]="NO",b[b.YES=1]="YES",b[b.AUTO=2]="AUTO",b[b.BLEND=0]="BLEND",b[b.CLEAR=1]="CLEAR",b[b.BLIT=2]="BLIT"})(ga||(ga={}));var sc;(function(b){b[b.AUTO=0]="AUTO",b[b.MANUAL=1]="MANUAL"})(sc||(sc={}));var lc;(function(b){b.LOW="lowp",b.MEDIUM="mediump",b.HIGH="highp"})(lc||(lc={}));var uc;(function(b){b[b.NONE=0]="NONE",b[b.SCISSOR=1]="SCISSOR",b[b.STENCIL=2]="STENCIL",b[b.SPRITE=3]="SPRITE"})(uc||(uc={}));var cc;(function(b){b[b.NONE=0]="NONE",b[b.LOW=2]="LOW",b[b.MEDIUM=4]="MEDIUM",b[b.HIGH=8]="HIGH"})(cc||(cc={}));var xl=function(b){qh(g,b);function g(i,d,w,f,r){d===void 0&&(d=8),w===void 0&&(w=4),f===void 0&&(f=An.FILTER_RESOLUTION),r===void 0&&(r=5);var t=this,n=i1(r,i),a=s1(r);return t=b.call(this,n,a)||this,t.horizontal=i,t.resolution=f,t._quality=0,t.quality=w,t.blur=d,t}return g.prototype.apply=function(i,d,w,f){if(w?this.horizontal?this.uniforms.strength=1/w.width*(w.width/d.width):this.uniforms.strength=1/w.height*(w.height/d.height):this.horizontal?this.uniforms.strength=1/i.renderer.width*(i.renderer.width/d.width):this.uniforms.strength=1/i.renderer.height*(i.renderer.height/d.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)i.applyFilter(this,d,w,f);else{var r=i.getFilterTexture(),t=i.renderer,n=d,a=r;this.state.blend=!1,i.applyFilter(this,n,a,ga.CLEAR);for(var l=1;l<this.passes-1;l++){i.bindAndClear(n,ga.BLIT),this.uniforms.uSampler=a;var e=a;a=n,n=e,t.shader.bind(this),t.geometry.draw(5)}this.state.blend=!0,i.applyFilter(this,a,w,f),i.returnFilterTexture(r)}},Object.defineProperty(g.prototype,"blur",{get:function(){return this.strength},set:function(i){this.padding=1+Math.abs(i)*2,this.strength=i},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"quality",{get:function(){return this._quality},set:function(i){this._quality=i,this.passes=i},enumerable:!1,configurable:!0}),g}(Di),l1=function(b){qh(g,b);function g(i,d,w,f){i===void 0&&(i=8),d===void 0&&(d=4),w===void 0&&(w=An.FILTER_RESOLUTION),f===void 0&&(f=5);var r=b.call(this)||this;return r.blurXFilter=new xl(!0,i,d,w,f),r.blurYFilter=new xl(!1,i,d,w,f),r.resolution=w,r.quality=d,r.blur=i,r.repeatEdgePixels=!1,r}return g.prototype.apply=function(i,d,w,f){var r=Math.abs(this.blurXFilter.strength),t=Math.abs(this.blurYFilter.strength);if(r&&t){var n=i.getFilterTexture();this.blurXFilter.apply(i,d,n,ga.CLEAR),this.blurYFilter.apply(i,n,w,f),i.returnFilterTexture(n)}else t?this.blurYFilter.apply(i,d,w,f):this.blurXFilter.apply(i,d,w,f)},g.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(g.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(i){this.blurXFilter.blur=this.blurYFilter.blur=i,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(i){this.blurXFilter.quality=this.blurYFilter.quality=i},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(i){this.blurXFilter.blur=i,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(i){this.blurYFilter.blur=i,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(i){this.blurYFilter.blendMode=i},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(i){this._repeatEdgePixels=i,this.updatePadding()},enumerable:!1,configurable:!0}),g}(Di);/*!
 * @pixi/filter-color-matrix - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var wl=function(b,g){return wl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,d){i.__proto__=d}||function(i,d){for(var w in d)d.hasOwnProperty(w)&&(i[w]=d[w])},wl(b,g)};function u1(b,g){wl(b,g);function i(){this.constructor=b}b.prototype=g===null?Object.create(g):(i.prototype=g.prototype,new i)}var c1=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,Sl=function(b){u1(g,b);function g(){var i=this,d={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return i=b.call(this,Xl,c1,d)||this,i.alpha=1,i}return g.prototype._loadMatrix=function(i,d){d===void 0&&(d=!1);var w=i;d&&(this._multiply(w,this.uniforms.m,i),w=this._colorMatrix(w)),this.uniforms.m=w},g.prototype._multiply=function(i,d,w){return i[0]=d[0]*w[0]+d[1]*w[5]+d[2]*w[10]+d[3]*w[15],i[1]=d[0]*w[1]+d[1]*w[6]+d[2]*w[11]+d[3]*w[16],i[2]=d[0]*w[2]+d[1]*w[7]+d[2]*w[12]+d[3]*w[17],i[3]=d[0]*w[3]+d[1]*w[8]+d[2]*w[13]+d[3]*w[18],i[4]=d[0]*w[4]+d[1]*w[9]+d[2]*w[14]+d[3]*w[19]+d[4],i[5]=d[5]*w[0]+d[6]*w[5]+d[7]*w[10]+d[8]*w[15],i[6]=d[5]*w[1]+d[6]*w[6]+d[7]*w[11]+d[8]*w[16],i[7]=d[5]*w[2]+d[6]*w[7]+d[7]*w[12]+d[8]*w[17],i[8]=d[5]*w[3]+d[6]*w[8]+d[7]*w[13]+d[8]*w[18],i[9]=d[5]*w[4]+d[6]*w[9]+d[7]*w[14]+d[8]*w[19]+d[9],i[10]=d[10]*w[0]+d[11]*w[5]+d[12]*w[10]+d[13]*w[15],i[11]=d[10]*w[1]+d[11]*w[6]+d[12]*w[11]+d[13]*w[16],i[12]=d[10]*w[2]+d[11]*w[7]+d[12]*w[12]+d[13]*w[17],i[13]=d[10]*w[3]+d[11]*w[8]+d[12]*w[13]+d[13]*w[18],i[14]=d[10]*w[4]+d[11]*w[9]+d[12]*w[14]+d[13]*w[19]+d[14],i[15]=d[15]*w[0]+d[16]*w[5]+d[17]*w[10]+d[18]*w[15],i[16]=d[15]*w[1]+d[16]*w[6]+d[17]*w[11]+d[18]*w[16],i[17]=d[15]*w[2]+d[16]*w[7]+d[17]*w[12]+d[18]*w[17],i[18]=d[15]*w[3]+d[16]*w[8]+d[17]*w[13]+d[18]*w[18],i[19]=d[15]*w[4]+d[16]*w[9]+d[17]*w[14]+d[18]*w[19]+d[19],i},g.prototype._colorMatrix=function(i){var d=new Float32Array(i);return d[4]/=255,d[9]/=255,d[14]/=255,d[19]/=255,d},g.prototype.brightness=function(i,d){var w=[i,0,0,0,0,0,i,0,0,0,0,0,i,0,0,0,0,0,1,0];this._loadMatrix(w,d)},g.prototype.greyscale=function(i,d){var w=[i,i,i,0,0,i,i,i,0,0,i,i,i,0,0,0,0,0,1,0];this._loadMatrix(w,d)},g.prototype.blackAndWhite=function(i){var d=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(d,i)},g.prototype.hue=function(i,d){i=(i||0)/180*Math.PI;var w=Math.cos(i),f=Math.sin(i),r=Math.sqrt,t=1/3,n=r(t),a=w+(1-w)*t,l=t*(1-w)-n*f,e=t*(1-w)+n*f,o=t*(1-w)+n*f,s=w+t*(1-w),u=t*(1-w)-n*f,c=t*(1-w)-n*f,m=t*(1-w)+n*f,p=w+t*(1-w),h=[a,l,e,0,0,o,s,u,0,0,c,m,p,0,0,0,0,0,1,0];this._loadMatrix(h,d)},g.prototype.contrast=function(i,d){var w=(i||0)+1,f=-.5*(w-1),r=[w,0,0,0,f,0,w,0,0,f,0,0,w,0,f,0,0,0,1,0];this._loadMatrix(r,d)},g.prototype.saturate=function(i,d){i===void 0&&(i=0);var w=i*2/3+1,f=(w-1)*-.5,r=[w,f,f,0,0,f,w,f,0,0,f,f,w,0,0,0,0,0,1,0];this._loadMatrix(r,d)},g.prototype.desaturate=function(){this.saturate(-1)},g.prototype.negative=function(i){var d=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(d,i)},g.prototype.sepia=function(i){var d=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(d,i)},g.prototype.technicolor=function(i){var d=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(d,i)},g.prototype.polaroid=function(i){var d=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(d,i)},g.prototype.toBGR=function(i){var d=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(d,i)},g.prototype.kodachrome=function(i){var d=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(d,i)},g.prototype.browni=function(i){var d=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(d,i)},g.prototype.vintage=function(i){var d=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(d,i)},g.prototype.colorTone=function(i,d,w,f,r){i=i||.2,d=d||.15,w=w||16770432,f=f||3375104;var t=(w>>16&255)/255,n=(w>>8&255)/255,a=(w&255)/255,l=(f>>16&255)/255,e=(f>>8&255)/255,o=(f&255)/255,s=[.3,.59,.11,0,0,t,n,a,i,0,l,e,o,d,0,t-l,n-e,a-o,0,0];this._loadMatrix(s,r)},g.prototype.night=function(i,d){i=i||.1;var w=[i*-2,-i,0,0,0,-i,0,i,0,0,0,i,i*2,0,0,0,0,0,1,0];this._loadMatrix(w,d)},g.prototype.predator=function(i,d){var w=[11.224130630493164*i,-4.794486999511719*i,-2.8746118545532227*i,0*i,.40342438220977783*i,-3.6330697536468506*i,9.193157196044922*i,-2.951810836791992*i,0*i,-1.316135048866272*i,-3.2184197902679443*i,-4.2375030517578125*i,7.476448059082031*i,0*i,.8044459223747253*i,0,0,0,1,0];this._loadMatrix(w,d)},g.prototype.lsd=function(i){var d=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(d,i)},g.prototype.reset=function(){var i=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(i,!1)},Object.defineProperty(g.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(i){this.uniforms.m=i},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(i){this.uniforms.uAlpha=i},enumerable:!1,configurable:!0}),g}(Di);Sl.prototype.grayscale=Sl.prototype.greyscale;/*!
 * @pixi/filter-displacement - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Tl=function(b,g){return Tl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,d){i.__proto__=d}||function(i,d){for(var w in d)d.hasOwnProperty(w)&&(i[w]=d[w])},Tl(b,g)};function h1(b,g){Tl(b,g);function i(){this.constructor=b}b.prototype=g===null?Object.create(g):(i.prototype=g.prototype,new i)}var f1=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,d1=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`,p1=function(b){h1(g,b);function g(i,d){var w=this,f=new Or;return i.renderable=!1,w=b.call(this,d1,f1,{mapSampler:i._texture,filterMatrix:f,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,w.maskSprite=i,w.maskMatrix=f,d==null&&(d=20),w.scale=new Dr(d,d),w}return g.prototype.apply=function(i,d,w,f){this.uniforms.filterMatrix=i.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var r=this.maskSprite.worldTransform,t=Math.sqrt(r.a*r.a+r.b*r.b),n=Math.sqrt(r.c*r.c+r.d*r.d);t!==0&&n!==0&&(this.uniforms.rotation[0]=r.a/t,this.uniforms.rotation[1]=r.b/t,this.uniforms.rotation[2]=r.c/n,this.uniforms.rotation[3]=r.d/n),i.applyFilter(this,d,w,f)},Object.defineProperty(g.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(i){this.uniforms.mapSampler=i},enumerable:!1,configurable:!0}),g}(Di);/*!
 * @pixi/filter-fxaa - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var El=function(b,g){return El=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,d){i.__proto__=d}||function(i,d){for(var w in d)d.hasOwnProperty(w)&&(i[w]=d[w])},El(b,g)};function m1(b,g){El(b,g);function i(){this.constructor=b}b.prototype=g===null?Object.create(g):(i.prototype=g.prototype,new i)}var g1=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputPixel;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,v1=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputPixel;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,y1=function(b){m1(g,b);function g(){return b.call(this,g1,v1)||this}return g}(Di);/*!
 * @pixi/filter-noise - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var kl=function(b,g){return kl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,d){i.__proto__=d}||function(i,d){for(var w in d)d.hasOwnProperty(w)&&(i[w]=d[w])},kl(b,g)};function b1(b,g){kl(b,g);function i(){this.constructor=b}b.prototype=g===null?Object.create(g):(i.prototype=g.prototype,new i)}var _1=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`,x1=function(b){b1(g,b);function g(i,d){i===void 0&&(i=.5),d===void 0&&(d=Math.random());var w=b.call(this,Xl,_1,{uNoise:0,uSeed:0})||this;return w.noise=i,w.seed=d,w}return Object.defineProperty(g.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(i){this.uniforms.uNoise=i},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(i){this.uniforms.uSeed=i},enumerable:!1,configurable:!0}),g}(Di);/*!
 * @pixi/mixin-cache-as-bitmap - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Yh=new Or;Mr.prototype._cacheAsBitmap=!1;Mr.prototype._cacheData=null;var w1=function(){function b(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return b}();Object.defineProperties(Mr.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(b){if(this._cacheAsBitmap!==b){this._cacheAsBitmap=b;var g;b?(this._cacheData||(this._cacheData=new w1),g=this._cacheData,g.originalRender=this.render,g.originalRenderCanvas=this.renderCanvas,g.originalUpdateTransform=this.updateTransform,g.originalCalculateBounds=this.calculateBounds,g.originalGetLocalBounds=this.getLocalBounds,g.originalDestroy=this.destroy,g.originalContainsPoint=this.containsPoint,g.originalMask=this._mask,g.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(g=this._cacheData,g.sprite&&this._destroyCachedDisplayObject(),this.render=g.originalRender,this.renderCanvas=g.originalRenderCanvas,this.calculateBounds=g.originalCalculateBounds,this.getLocalBounds=g.originalGetLocalBounds,this.destroy=g.originalDestroy,this.updateTransform=g.originalUpdateTransform,this.containsPoint=g.originalContainsPoint,this._mask=g.originalMask,this.filterArea=g.originalFilterArea)}}}});Mr.prototype._renderCached=function(b){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(b),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(b))};Mr.prototype._initCachedDisplayObject=function(b){if(!(this._cacheData&&this._cacheData.sprite)){var g=this.alpha;this.alpha=1,b.batch.flush();var i=this.getLocalBounds(null,!0).clone();if(this.filters){var d=this.filters[0].padding;i.pad(d)}i.ceil(An.RESOLUTION);var w=b.renderTexture.current,f=b.renderTexture.sourceFrame.clone(),r=b.renderTexture.destinationFrame.clone(),t=b.projection.transform,n=lo.create({width:i.width,height:i.height}),a="cacheAsBitmap_"+so();this._cacheData.textureCacheId=a,yr.addToCache(n.baseTexture,a),Dn.addToCache(n,a);var l=this.transform.localTransform.copyTo(Yh).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,b.render(this,n,!0,l,!1),b.projection.transform=t,b.renderTexture.bind(w,f,r),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var e=new jo(n);e.transform.worldTransform=this.transform.worldTransform,e.anchor.x=-(i.x/i.width),e.anchor.y=-(i.y/i.height),e.alpha=g,e._bounds=this._bounds,this._cacheData.sprite=e,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=e.containsPoint.bind(e)}};Mr.prototype._renderCachedCanvas=function(b){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(b),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(b))};Mr.prototype._initCachedDisplayObjectCanvas=function(b){if(!(this._cacheData&&this._cacheData.sprite)){var g=this.getLocalBounds(null,!0),i=this.alpha;this.alpha=1;var d=b.context,w=b._projTransform;g.ceil(An.RESOLUTION);var f=lo.create({width:g.width,height:g.height}),r="cacheAsBitmap_"+so();this._cacheData.textureCacheId=r,yr.addToCache(f.baseTexture,r),Dn.addToCache(f,r);var t=Yh;this.transform.localTransform.copyTo(t),t.invert(),t.tx-=g.x,t.ty-=g.y,this.renderCanvas=this._cacheData.originalRenderCanvas,b.render(this,f,!0,t,!1),b.context=d,b._projTransform=w,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var n=new jo(f);n.transform.worldTransform=this.transform.worldTransform,n.anchor.x=-(g.x/g.width),n.anchor.y=-(g.y/g.height),n.alpha=i,n._bounds=this._bounds,this._cacheData.sprite=n,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=b._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=n.containsPoint.bind(n)}};Mr.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Mr.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Mr.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,yr.removeFromCache(this._cacheData.textureCacheId),Dn.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Mr.prototype._cacheAsBitmapDestroy=function(b){this.cacheAsBitmap=!1,this.destroy(b)};/*!
 * @pixi/mixin-get-child-by-name - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Mr.prototype.name=null;yi.prototype.getChildByName=function(b,g){for(var i=0,d=this.children.length;i<d;i++)if(this.children[i].name===b)return this.children[i];if(g)for(var i=0,d=this.children.length;i<d;i++){var w=this.children[i];if(w.getChildByName){var f=this.children[i].getChildByName(b,!0);if(f)return f}}return null};/*!
 * @pixi/mixin-get-global-position - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Mr.prototype.getGlobalPosition=function(b,g){return b===void 0&&(b=new Dr),g===void 0&&(g=!1),this.parent?this.parent.toGlobal(this.position,b,g):(b.x=this.position.x,b.y=this.position.y),b};/*!
 * @pixi/mesh-extras - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Cl=function(b,g){return Cl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,d){i.__proto__=d}||function(i,d){for(var w in d)d.hasOwnProperty(w)&&(i[w]=d[w])},Cl(b,g)};function Ho(b,g){Cl(b,g);function i(){this.constructor=b}b.prototype=g===null?Object.create(g):(i.prototype=g.prototype,new i)}var $h=function(b){Ho(g,b);function g(i,d,w,f){i===void 0&&(i=100),d===void 0&&(d=100),w===void 0&&(w=10),f===void 0&&(f=10);var r=b.call(this)||this;return r.segWidth=w,r.segHeight=f,r.width=i,r.height=d,r.build(),r}return g.prototype.build=function(){for(var i=this.segWidth*this.segHeight,d=[],w=[],f=[],r=this.segWidth-1,t=this.segHeight-1,n=this.width/r,a=this.height/t,l=0;l<i;l++){var e=l%this.segWidth,o=l/this.segWidth|0;d.push(e*n,o*a),w.push(e/r,o/t)}for(var s=r*t,l=0;l<s;l++){var u=l%r,c=l/r|0,m=c*this.segWidth+u,p=c*this.segWidth+u+1,h=(c+1)*this.segWidth+u,v=(c+1)*this.segWidth+u+1;f.push(m,p,h,p,v,h)}this.buffers[0].data=new Float32Array(d),this.buffers[1].data=new Float32Array(w),this.indexBuffer.data=new Uint16Array(f),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},g}(wa),Zh=function(b){Ho(g,b);function g(i,d,w){i===void 0&&(i=200),w===void 0&&(w=0);var f=b.call(this,new Float32Array(d.length*4),new Float32Array(d.length*4),new Uint16Array((d.length-1)*6))||this;return f.points=d,f._width=i,f.textureScale=w,f.build(),f}return Object.defineProperty(g.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),g.prototype.build=function(){var i=this.points;if(i){var d=this.getBuffer("aVertexPosition"),w=this.getBuffer("aTextureCoord"),f=this.getIndex();if(!(i.length<1)){d.data.length/4!==i.length&&(d.data=new Float32Array(i.length*4),w.data=new Float32Array(i.length*4),f.data=new Uint16Array((i.length-1)*6));var r=w.data,t=f.data;r[0]=0,r[1]=0,r[2]=0,r[3]=1;for(var n=0,a=i[0],l=this._width*this.textureScale,e=i.length,o=0;o<e;o++){var s=o*4;if(this.textureScale>0){var u=a.x-i[o].x,c=a.y-i[o].y,m=Math.sqrt(u*u+c*c);a=i[o],n+=m/l}else n=o/(e-1);r[s]=n,r[s+1]=0,r[s+2]=n,r[s+3]=1}for(var p=0,o=0;o<e-1;o++){var s=o*2;t[p++]=s,t[p++]=s+1,t[p++]=s+2,t[p++]=s+2,t[p++]=s+1,t[p++]=s+3}w.update(),f.update(),this.updateVertices()}}},g.prototype.updateVertices=function(){var i=this.points;if(!(i.length<1)){for(var d=i[0],w,f=0,r=0,t=this.buffers[0].data,n=i.length,a=0;a<n;a++){var l=i[a],e=a*4;a<i.length-1?w=i[a+1]:w=l,r=-(w.x-d.x),f=w.y-d.y;var o=Math.sqrt(f*f+r*r),s=this.textureScale>0?this.textureScale*this._width/2:this._width/2;f/=o,r/=o,f*=s,r*=s,t[e]=l.x+f,t[e+1]=l.y+r,t[e+2]=l.x-f,t[e+3]=l.y-r,d=l}this.buffers[0].update()}},g.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},g}(wa),S1=function(b){Ho(g,b);function g(i,d,w){w===void 0&&(w=0);var f=this,r=new Zh(i.height,d,w),t=new xa(i);return w>0&&(i.baseTexture.wrapMode=Ii.REPEAT),f=b.call(this,r,t)||this,f.autoUpdate=!0,f}return g.prototype._render=function(i){var d=this.geometry;(this.autoUpdate||d._width!==this.shader.texture.height)&&(d._width=this.shader.texture.height,d.update()),b.prototype._render.call(this,i)},g}(Lo),Kh=function(b){Ho(g,b);function g(i,d,w){var f=this,r=new $h(i.width,i.height,d,w),t=new xa(Dn.WHITE);return f=b.call(this,r,t)||this,f.texture=i,f}return g.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var i=this.geometry;i.width=this.shader.texture.width,i.height=this.shader.texture.height,i.build()},Object.defineProperty(g.prototype,"texture",{get:function(){return this.shader.texture},set:function(i){this.shader.texture!==i&&(this.shader.texture=i,this._textureID=-1,i.baseTexture.valid?this.textureUpdated():i.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),g.prototype._render=function(i){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),b.prototype._render.call(this,i)},g.prototype.destroy=function(i){this.shader.texture.off("update",this.textureUpdated,this),b.prototype.destroy.call(this,i)},g}(Lo),T1=function(b){Ho(g,b);function g(i,d,w,f,r){i===void 0&&(i=Dn.EMPTY);var t=this,n=new wa(d,w,f);n.getBuffer("aVertexPosition").static=!1;var a=new xa(i);return t=b.call(this,n,a,null,r)||this,t.autoUpdate=!0,t}return Object.defineProperty(g.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(i){this.geometry.getBuffer("aVertexPosition").data=i},enumerable:!1,configurable:!0}),g.prototype._render=function(i){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),b.prototype._render.call(this,i)},g}(Lo),Va=10,E1=function(b){Ho(g,b);function g(i,d,w,f,r){d===void 0&&(d=Va),w===void 0&&(w=Va),f===void 0&&(f=Va),r===void 0&&(r=Va);var t=b.call(this,Dn.WHITE,4,4)||this;return t._origWidth=i.orig.width,t._origHeight=i.orig.height,t._width=t._origWidth,t._height=t._origHeight,t._leftWidth=d,t._rightWidth=f,t._topHeight=w,t._bottomHeight=r,t.texture=i,t}return g.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(g.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(i){this.geometry.getBuffer("aVertexPosition").data=i},enumerable:!1,configurable:!0}),g.prototype.updateHorizontalVertices=function(){var i=this.vertices,d=this._getMinScale();i[9]=i[11]=i[13]=i[15]=this._topHeight*d,i[17]=i[19]=i[21]=i[23]=this._height-this._bottomHeight*d,i[25]=i[27]=i[29]=i[31]=this._height},g.prototype.updateVerticalVertices=function(){var i=this.vertices,d=this._getMinScale();i[2]=i[10]=i[18]=i[26]=this._leftWidth*d,i[4]=i[12]=i[20]=i[28]=this._width-this._rightWidth*d,i[6]=i[14]=i[22]=i[30]=this._width},g.prototype._getMinScale=function(){var i=this._leftWidth+this._rightWidth,d=this._width>i?1:this._width/i,w=this._topHeight+this._bottomHeight,f=this._height>w?1:this._height/w,r=Math.min(d,f);return r},Object.defineProperty(g.prototype,"width",{get:function(){return this._width},set:function(i){this._width=i,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"height",{get:function(){return this._height},set:function(i){this._height=i,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(i){this._leftWidth=i,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(i){this._rightWidth=i,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"topHeight",{get:function(){return this._topHeight},set:function(i){this._topHeight=i,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(i){this._bottomHeight=i,this._refresh()},enumerable:!1,configurable:!0}),g.prototype._refresh=function(){var i=this.texture,d=this.geometry.buffers[1].data;this._origWidth=i.orig.width,this._origHeight=i.orig.height;var w=1/this._origWidth,f=1/this._origHeight;d[0]=d[8]=d[16]=d[24]=0,d[1]=d[3]=d[5]=d[7]=0,d[6]=d[14]=d[22]=d[30]=1,d[25]=d[27]=d[29]=d[31]=1,d[2]=d[10]=d[18]=d[26]=w*this._leftWidth,d[4]=d[12]=d[20]=d[28]=1-w*this._rightWidth,d[9]=d[11]=d[13]=d[15]=f*this._topHeight,d[17]=d[19]=d[21]=d[23]=1-f*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},g}(Kh);/*!
 * @pixi/sprite-animated - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Al=function(b,g){return Al=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,d){i.__proto__=d}||function(i,d){for(var w in d)d.hasOwnProperty(w)&&(i[w]=d[w])},Al(b,g)};function k1(b,g){Al(b,g);function i(){this.constructor=b}b.prototype=g===null?Object.create(g):(i.prototype=g.prototype,new i)}var C1=function(b){k1(g,b);function g(i,d){d===void 0&&(d=!0);var w=b.call(this,i[0]instanceof Dn?i[0]:i[0].texture)||this;return w._textures=null,w._durations=null,w._autoUpdate=d,w._isConnectedToTicker=!1,w.animationSpeed=1,w.loop=!0,w.updateAnchor=!1,w.onComplete=null,w.onFrameChange=null,w.onLoop=null,w._currentTime=0,w._playing=!1,w._previousFrame=null,w.textures=i,w}return g.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Nr.shared.remove(this.update,this),this._isConnectedToTicker=!1))},g.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Nr.shared.add(this.update,this,Si.HIGH),this._isConnectedToTicker=!0))},g.prototype.gotoAndStop=function(i){this.stop();var d=this.currentFrame;this._currentTime=i,d!==this.currentFrame&&this.updateTexture()},g.prototype.gotoAndPlay=function(i){var d=this.currentFrame;this._currentTime=i,d!==this.currentFrame&&this.updateTexture(),this.play()},g.prototype.update=function(i){if(this._playing){var d=this.animationSpeed*i,w=this.currentFrame;if(this._durations!==null){var f=this._currentTime%1*this._durations[this.currentFrame];for(f+=d/60*1e3;f<0;)this._currentTime--,f+=this._durations[this.currentFrame];var r=Math.sign(this.animationSpeed*i);for(this._currentTime=Math.floor(this._currentTime);f>=this._durations[this.currentFrame];)f-=this._durations[this.currentFrame]*r,this._currentTime+=r;this._currentTime+=f/this._durations[this.currentFrame]}else this._currentTime+=d;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):w!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<w?this.onLoop():this.animationSpeed<0&&this.currentFrame>w&&this.onLoop()),this.updateTexture())}},g.prototype.updateTexture=function(){var i=this.currentFrame;this._previousFrame!==i&&(this._previousFrame=i,this._texture=this._textures[i],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},g.prototype.destroy=function(i){this.stop(),b.prototype.destroy.call(this,i),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},g.fromFrames=function(i){for(var d=[],w=0;w<i.length;++w)d.push(Dn.from(i[w]));return new g(d)},g.fromImages=function(i){for(var d=[],w=0;w<i.length;++w)d.push(Dn.from(i[w]));return new g(d)},Object.defineProperty(g.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"textures",{get:function(){return this._textures},set:function(i){if(i[0]instanceof Dn)this._textures=i,this._durations=null;else{this._textures=[],this._durations=[];for(var d=0;d<i.length;d++)this._textures.push(i[d].texture),this._durations.push(i[d].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"currentFrame",{get:function(){var i=Math.floor(this._currentTime)%this._textures.length;return i<0&&(i+=this._textures.length),i},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(i){i!==this._autoUpdate&&(this._autoUpdate=i,!this._autoUpdate&&this._isConnectedToTicker?(Nr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Nr.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),g}(jo);/*!
 * pixi.js - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Pl=function(b,g){return Pl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,d){i.__proto__=d}||function(i,d){for(var w in d)d.hasOwnProperty(w)&&(i[w]=d[w])},Pl(b,g)};function hc(b,g){Pl(b,g);function i(){this.constructor=b}b.prototype=g===null?Object.create(g):(i.prototype=g.prototype,new i)}var mn="5.0.0";function A1(){var b=this;Object.defineProperties(b,{SVG_SIZE:{get:function(){return en(mn,"PIXI.utils.SVG_SIZE property has moved to PIXI.resources.SVGResource.SVG_SIZE"),b.SVGResource.SVG_SIZE}},TransformStatic:{get:function(){return en(mn,"PIXI.TransformStatic class has been removed, use PIXI.Transform"),b.Transform}},TransformBase:{get:function(){return en(mn,"PIXI.TransformBase class has been removed, use PIXI.Transform"),b.Transform}},TRANSFORM_MODE:{get:function(){return en(mn,"PIXI.TRANSFORM_MODE property has been removed"),{STATIC:0,DYNAMIC:1}}},WebGLRenderer:{get:function(){return en(mn,"PIXI.WebGLRenderer class has moved to PIXI.Renderer"),b.Renderer}},CanvasRenderTarget:{get:function(){return en(mn,"PIXI.CanvasRenderTarget class has moved to PIXI.utils.CanvasRenderTarget"),b.utils.CanvasRenderTarget}},loader:{get:function(){return en(mn,"PIXI.loader instance has moved to PIXI.Loader.shared"),b.Loader.shared}},FilterManager:{get:function(){return en(mn,"PIXI.FilterManager class has moved to PIXI.systems.FilterSystem"),b.systems.FilterSystem}},CanvasTinter:{get:function(){return en("5.2.0","PIXI.CanvasTinter namespace has moved to PIXI.canvasUtils"),b.canvasUtils}},GroupD8:{get:function(){return en("5.2.0","PIXI.GroupD8 namespace has moved to PIXI.groupD8"),b.groupD8}}}),b.accessibility={},Object.defineProperties(b.accessibility,{AccessibilityManager:{get:function(){return en("5.3.0","PIXI.accessibility.AccessibilityManager moved to PIXI.AccessibilityManager"),b.AccessibilityManager}}}),b.interaction={},Object.defineProperties(b.interaction,{InteractionManager:{get:function(){return en("5.3.0","PIXI.interaction.InteractionManager moved to PIXI.InteractionManager"),b.InteractionManager}},InteractionData:{get:function(){return en("5.3.0","PIXI.interaction.InteractionData moved to PIXI.InteractionData"),b.InteractionData}},InteractionEvent:{get:function(){return en("5.3.0","PIXI.interaction.InteractionEvent moved to PIXI.InteractionEvent"),b.InteractionEvent}}}),b.prepare={},Object.defineProperties(b.prepare,{BasePrepare:{get:function(){return en("5.2.1","PIXI.prepare.BasePrepare moved to PIXI.BasePrepare"),b.BasePrepare}},Prepare:{get:function(){return en("5.2.1","PIXI.prepare.Prepare moved to PIXI.Prepare"),b.Prepare}},CanvasPrepare:{get:function(){return en("5.2.1","PIXI.prepare.CanvasPrepare moved to PIXI.CanvasPrepare"),b.CanvasPrepare}}}),b.extract={},Object.defineProperties(b.extract,{Extract:{get:function(){return en("5.2.1","PIXI.extract.Extract moved to PIXI.Extract"),b.Extract}},CanvasExtract:{get:function(){return en("5.2.1","PIXI.extract.CanvasExtract moved to PIXI.CanvasExtract"),b.CanvasExtract}}}),b.extras={},Object.defineProperties(b.extras,{TilingSprite:{get:function(){return en(mn,"PIXI.extras.TilingSprite class has moved to PIXI.TilingSprite"),b.TilingSprite}},TilingSpriteRenderer:{get:function(){return en(mn,"PIXI.extras.TilingSpriteRenderer class has moved to PIXI.TilingSpriteRenderer"),b.TilingSpriteRenderer}},AnimatedSprite:{get:function(){return en(mn,"PIXI.extras.AnimatedSprite class has moved to PIXI.AnimatedSprite"),b.AnimatedSprite}},BitmapText:{get:function(){return en(mn,"PIXI.extras.BitmapText class has moved to PIXI.BitmapText"),b.BitmapText}}}),b.TilingSprite.fromFrame=function(e,o,s){return en("5.3.0","TilingSprite.fromFrame is deprecated, use TilingSprite.from"),b.TilingSprite.from(e,{width:o,height:s})},b.TilingSprite.fromImage=function(e,o,s,u){return u===void 0&&(u={}),en("5.3.0","TilingSprite.fromImage is deprecated, use TilingSprite.from"),u&&typeof u!="object"&&(u={scaleMode:arguments[4],resourceOptions:{crossorigin:arguments[3]}}),u.width=o,u.height=s,b.TilingSprite.from(e,u)},Object.defineProperties(b.utils,{getSvgSize:{get:function(){return en(mn,"PIXI.utils.getSvgSize function has moved to PIXI.resources.SVGResource.getSize"),b.resources.SVGResource.getSize}}}),b.mesh={},Object.defineProperties(b.mesh,{Mesh:{get:function(){return en(mn,"PIXI.mesh.Mesh class has moved to PIXI.SimpleMesh"),b.SimpleMesh}},NineSlicePlane:{get:function(){return en(mn,"PIXI.mesh.NineSlicePlane class has moved to PIXI.NineSlicePlane"),b.NineSlicePlane}},Plane:{get:function(){return en(mn,"PIXI.mesh.Plane class has moved to PIXI.SimplePlane"),b.SimplePlane}},Rope:{get:function(){return en(mn,"PIXI.mesh.Rope class has moved to PIXI.SimpleRope"),b.SimpleRope}},RawMesh:{get:function(){return en(mn,"PIXI.mesh.RawMesh class has moved to PIXI.Mesh"),b.Mesh}},CanvasMeshRenderer:{get:function(){return en(mn,"PIXI.mesh.CanvasMeshRenderer class has moved to PIXI.CanvasMeshRenderer"),b.CanvasMeshRenderer}},MeshRenderer:{get:function(){return en(mn,"PIXI.mesh.MeshRenderer class has moved to PIXI.MeshRenderer"),b.MeshRenderer}}}),b.particles={},Object.defineProperties(b.particles,{ParticleContainer:{get:function(){return en(mn,"PIXI.particles.ParticleContainer class has moved to PIXI.ParticleContainer"),b.ParticleContainer}},ParticleRenderer:{get:function(){return en(mn,"PIXI.particles.ParticleRenderer class has moved to PIXI.ParticleRenderer"),b.ParticleRenderer}}}),b.ticker={},Object.defineProperties(b.ticker,{Ticker:{get:function(){return en(mn,"PIXI.ticker.Ticker class has moved to PIXI.Ticker"),b.Ticker}},shared:{get:function(){return en(mn,"PIXI.ticker.shared instance has moved to PIXI.Ticker.shared"),b.Ticker.shared}}}),b.loaders={},Object.defineProperties(b.loaders,{Loader:{get:function(){return en(mn,"PIXI.loaders.Loader class has moved to PIXI.Loader"),b.Loader}},Resource:{get:function(){return en(mn,"PIXI.loaders.Resource class has moved to PIXI.LoaderResource"),b.LoaderResource}},bitmapFontParser:{get:function(){return en(mn,"PIXI.loaders.bitmapFontParser function has moved to PIXI.BitmapFontLoader.use"),b.BitmapFontLoader.use}},parseBitmapFontData:{get:function(){en(mn,"PIXI.loaders.parseBitmapFontData function has removed")}},spritesheetParser:{get:function(){return en(mn,"PIXI.loaders.spritesheetParser function has moved to PIXI.SpritesheetLoader.use"),b.SpritesheetLoader.use}},getResourcePath:{get:function(){return en(mn,"PIXI.loaders.getResourcePath property has moved to PIXI.SpritesheetLoader.getResourcePath"),b.SpritesheetLoader.getResourcePath}}}),b.Loader.addPixiMiddleware=function(e){return en(mn,"PIXI.loaders.Loader.addPixiMiddleware function is deprecated, use PIXI.loaders.Loader.registerPlugin"),b.loaders.Loader.registerPlugin({use:e()})};var g=function(e){return"on"+e.charAt(0).toUpperCase()+e.slice(1)};Object.assign(b.Loader.prototype,{on:function(e){var o=g(e);en(mn,"PIXI.Loader#on is completely deprecated, use PIXI.Loader#"+o+".add")},once:function(e){var o=g(e);en(mn,"PIXI.Loader#once is completely deprecated, use PIXI.Loader#"+o+".once")},off:function(e){var o=g(e);en(mn,"PIXI.Loader#off is completely deprecated, use PIXI.Loader#"+o+".detach")}}),Object.defineProperty(b.extract,"WebGLExtract",{get:function(){return en(mn,"PIXI.extract.WebGLExtract method has moved to PIXI.Extract"),b.Extract}}),Object.defineProperty(b.prepare,"WebGLPrepare",{get:function(){return en(mn,"PIXI.prepare.WebGLPrepare class has moved to PIXI.Prepare"),b.Prepare}}),b.Container.prototype._renderWebGL=function(e){en(mn,"PIXI.Container._renderWebGL method has moved to PIXI.Container._render"),this._render(e)},b.Container.prototype.renderWebGL=function(e){en(mn,"PIXI.Container.renderWebGL method has moved to PIXI.Container.render"),this.render(e)},b.DisplayObject.prototype.renderWebGL=function(e){en(mn,"PIXI.DisplayObject.renderWebGL method has moved to PIXI.DisplayObject.render"),this.render(e)},b.Container.prototype.renderAdvancedWebGL=function(e){en(mn,"PIXI.Container.renderAdvancedWebGL method has moved to PIXI.Container.renderAdvanced"),this.renderAdvanced(e)},Object.defineProperties(b.settings,{TRANSFORM_MODE:{get:function(){return en(mn,"PIXI.settings.TRANSFORM_MODE property has been removed"),0},set:function(){en(mn,"PIXI.settings.TRANSFORM_MODE property has been removed")}}});var i=b.BaseTexture;i.prototype.loadSource=function(e){en(mn,"PIXI.BaseTexture.loadSource method has been deprecated");var o=b.resources.autoDetectResource(e);o.internal=!0,this.setResource(o),this.update()};var d=!1;Object.defineProperties(i.prototype,{hasLoaded:{get:function(){return en(mn,"PIXI.BaseTexture.hasLoaded property has been removed, use PIXI.BaseTexture.valid"),this.valid}},imageUrl:{get:function(){var e;return en(mn,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),(e=this.resource)===null||e===void 0?void 0:e.url},set:function(e){en(mn,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),this.resource&&(this.resource.url=e)}},source:{get:function(){return en(mn,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source`"),this.resource.source},set:function(e){en(mn,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source` if you want to set HTMLCanvasElement. Otherwise, create new BaseTexture."),this.resource&&(this.resource.source=e)}},premultiplyAlpha:{get:function(){return en("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode!==0},set:function(e){en("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(e)}},_id:{get:function(){return d||(en("5.2.0","PIXI.BaseTexture._id batch local field has been changed to `_batchLocation`"),d=!0),this._batchLocation},set:function(e){this._batchLocation=e}}}),i.fromImage=function(e,o,s,u){en(mn,"PIXI.BaseTexture.fromImage method has been replaced with PIXI.BaseTexture.from");var c={scale:u,crossorigin:o};return i.from(e,{scaleMode:s,resourceOptions:c})},i.fromCanvas=function(e,o){return en(mn,"PIXI.BaseTexture.fromCanvas method has been replaced with PIXI.BaseTexture.from"),i.from(e,{scaleMode:o})},i.fromSVG=function(e,o,s,u){en(mn,"PIXI.BaseTexture.fromSVG method has been replaced with PIXI.BaseTexture.from");var c={scale:u,crossorigin:o};return i.from(e,{scaleMode:s,resourceOptions:c})},Object.defineProperties(b.resources.ImageResource.prototype,{premultiplyAlpha:{get:function(){return en("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode!==0},set:function(e){en("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(e)}}}),b.Point.prototype.copy=function(e){return en(mn,"PIXI.Point.copy method has been replaced with PIXI.Point.copyFrom"),this.copyFrom(e)},b.ObservablePoint.prototype.copy=function(e){return en(mn,"PIXI.ObservablePoint.copy method has been replaced with PIXI.ObservablePoint.copyFrom"),this.copyFrom(e)},b.Rectangle.prototype.copy=function(e){return en(mn,"PIXI.Rectangle.copy method has been replaced with PIXI.Rectangle.copyFrom"),this.copyFrom(e)},b.Matrix.prototype.copy=function(e){return en(mn,"PIXI.Matrix.copy method has been replaced with PIXI.Matrix.copyTo"),this.copyTo(e)},b.systems.StateSystem.prototype.setState=function(e){return en("v5.1.0","StateSystem.setState has been renamed to StateSystem.set"),this.set(e)},Object.assign(b.systems.FilterSystem.prototype,{getRenderTarget:function(e,o){return en(mn,"PIXI.FilterManager.getRenderTarget method has been replaced with PIXI.systems.FilterSystem#getFilterTexture"),this.getFilterTexture(null,o)},returnRenderTarget:function(e){en(mn,"PIXI.FilterManager.returnRenderTarget method has been replaced with PIXI.systems.FilterSystem.returnFilterTexture"),this.returnFilterTexture(e)},calculateScreenSpaceMatrix:function(e){en(mn,"PIXI.systems.FilterSystem.calculateScreenSpaceMatrix method is removed, use `(vTextureCoord * inputSize.xy) + outputFrame.xy` instead");var o=e.identity(),s=this.activeState,u=s.sourceFrame,c=s.destinationFrame;return o.translate(u.x/c.width,u.y/c.height),o.scale(c.width,c.height),o},calculateNormalizedScreenSpaceMatrix:function(e){en(mn,"PIXI.systems.FilterManager.calculateNormalizedScreenSpaceMatrix method is removed, use `((vTextureCoord * inputSize.xy) + outputFrame.xy) / outputFrame.zw` instead.");var o=this.activeState,s=o.sourceFrame,u=o.destinationFrame,c=e.identity();c.translate(s.x/u.width,s.y/u.height);var m=u.width/s.width,p=u.height/s.height;return c.scale(m,p),c}}),Object.defineProperties(b.RenderTexture.prototype,{sourceFrame:{get:function(){return en(mn,"PIXI.RenderTexture.sourceFrame property has been removed"),this.filterFrame}},size:{get:function(){return en(mn,"PIXI.RenderTexture.size property has been removed"),this._frame}}});var w=function(e){hc(o,e);function o(s,u,c,m){var p=this;return en(mn,"PIXI.filters.BlurXFilter class is deprecated, use PIXI.filters.BlurFilterPass"),p=e.call(this,!0,s,u,c,m)||this,p}return o}(b.filters.BlurFilterPass),f=function(e){hc(o,e);function o(s,u,c,m){var p=this;return en(mn,"PIXI.filters.BlurYFilter class is deprecated, use PIXI.filters.BlurFilterPass"),p=e.call(this,!1,s,u,c,m)||this,p}return o}(b.filters.BlurFilterPass);Object.assign(b.filters,{BlurXFilter:w,BlurYFilter:f});var r=b.Sprite,t=b.Texture,n=b.Graphics;n.prototype.generateCanvasTexture||(n.prototype.generateCanvasTexture=function(){en(mn,'PIXI.Graphics.generateCanvasTexture method is only available in "pixi.js-legacy"')}),Object.defineProperty(n.prototype,"graphicsData",{get:function(){return en(mn,"PIXI.Graphics.graphicsData property is deprecated, use PIXI.Graphics.geometry.graphicsData"),this.geometry.graphicsData}});function a(e,o,s,u){return en(mn,"PIXI.Sprite."+e+" method is deprecated, use PIXI.Sprite.from"),r.from(o,{resourceOptions:{scale:u,crossorigin:s}})}r.fromImage=a.bind(null,"fromImage"),r.fromSVG=a.bind(null,"fromSVG"),r.fromCanvas=a.bind(null,"fromCanvas"),r.fromVideo=a.bind(null,"fromVideo"),r.fromFrame=a.bind(null,"fromFrame");function l(e,o,s,u){return en(mn,"PIXI.Texture."+e+" method is deprecated, use PIXI.Texture.from"),t.from(o,{resourceOptions:{scale:u,crossorigin:s}})}t.fromImage=l.bind(null,"fromImage"),t.fromSVG=l.bind(null,"fromSVG"),t.fromCanvas=l.bind(null,"fromCanvas"),t.fromVideo=l.bind(null,"fromVideo"),t.fromFrame=l.bind(null,"fromFrame"),Object.defineProperty(b.AbstractRenderer.prototype,"autoResize",{get:function(){return en(mn,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity},set:function(e){en(mn,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity=e}}),Object.defineProperty(b.Renderer.prototype,"textureManager",{get:function(){return en(mn,"PIXI.Renderer.textureManager property is deprecated, use PIXI.Renderer.texture"),this.texture}}),b.utils.mixins={mixin:function(){en(mn,"PIXI.utils.mixins.mixin function is no longer available")},delayMixin:function(){en(mn,"PIXI.utils.mixins.delayMixin function is no longer available")},performMixins:function(){en(mn,"PIXI.utils.mixins.performMixins function is no longer available")}},Object.defineProperty(b.BitmapText.prototype,"font",{get:function(){return en("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),{name:this._fontName,size:this._fontSize,tint:this._tint,align:this._align}},set:function(e){if(en("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),!!e){var o={font:e};this._upgradeStyle(o),o.fontSize=o.fontSize||b.BitmapFont.available[o.fontName].size,this._fontName=o.fontName,this._fontSize=o.fontSize,this.dirty=!0}}})}ji.registerPlugin("accessibility",Pc);ji.registerPlugin("extract",xh);ji.registerPlugin("interaction",Rc);ji.registerPlugin("particle",Ch);ji.registerPlugin("prepare",Bh);ji.registerPlugin("batch",_h);ji.registerPlugin("tilingSprite",Vh);uo.registerPlugin(Xh);uo.registerPlugin(zh);_a.registerPlugin(Oc);_a.registerPlugin(Eh);var P1="5.3.12",O1={AlphaFilter:n1,BlurFilter:l1,BlurFilterPass:xl,ColorMatrixFilter:Sl,DisplacementFilter:p1,FXAAFilter:y1,NoiseFilter:x1};const M1=Object.freeze(Object.defineProperty({__proto__:null,get ALPHA_MODES(){return Li},AbstractBatchRenderer:vh,AbstractRenderer:dh,AccessibilityManager:Pc,AnimatedSprite:C1,AppLoaderPlugin:Eh,Application:_a,Attribute:rl,get BLEND_MODES(){return Pn},get BUFFER_BITS(){return ha},BasePrepare:jh,BaseRenderTexture:la,BaseTexture:yr,BatchDrawCall:Ja,BatchGeometry:ql,BatchPluginFactory:bh,BatchRenderer:_h,BatchShaderGenerator:yh,BatchTextureArray:Qa,BitmapFont:Fi,BitmapFontData:ma,BitmapFontLoader:Xh,BitmapText:Qp,Bounds:pa,Buffer:Lr,get CLEAR_MODES(){return gi},Circle:Tc,Container:yi,CountLimiter:Dh,DEG_TO_RAD:Sc,get DRAW_MODES(){return ci},DisplayObject:Mr,get ENV(){return wi},Ellipse:Ec,Extract:xh,get FORMATS(){return Ao},FillStyle:Yl,Filter:Di,FilterState:Uc,Framebuffer:Ka,get GC_MODES(){return $a},GLFramebuffer:Xc,GLProgram:lh,GLTexture:Xa,GRAPHICS_CURVES:Io,Geometry:Do,Graphics:Zl,GraphicsData:hl,GraphicsGeometry:Lh,IGLUniformData:Gd,InteractionData:tl,InteractionEvent:Mc,InteractionManager:Rc,InteractionTrackingData:Ga,get LINE_CAP(){return Mi},get LINE_JOIN(){return Oi},LineStyle:Nh,Loader:uo,LoaderResource:ua,get MASK_TYPES(){return ei},get MIPMAP_MODES(){return Po},get MSAA_QUALITY(){return oo},MaskData:$c,Matrix:Or,Mesh:Lo,MeshBatchUvs:Gh,MeshGeometry:wa,MeshMaterial:xa,NineSlicePlane:E1,ObjectRenderer:ya,ObservablePoint:ro,PI_2:Oo,get PRECISION(){return vi},ParticleContainer:vp,ParticleRenderer:Ch,PlaneGeometry:$h,Point:Dr,Polygon:ko,Prepare:Bh,Program:ba,Quad:zc,QuadUv:Wl,RAD_TO_DEG:wc,get RENDERER_TYPE(){return Co},Rectangle:or,RenderTexture:lo,RenderTexturePool:Bc,Renderer:ji,RopeGeometry:Zh,RoundedRectangle:kc,Runner:Xr,get SCALE_MODES(){return xi},get SHAPES(){return Er},Shader:Vi,SimpleMesh:T1,SimplePlane:Kh,SimpleRope:S1,Sprite:jo,SpriteMaskFilter:eh,Spritesheet:Fh,SpritesheetLoader:zh,State:Gi,System:ri,get TARGETS(){return zi},get TEXT_GRADIENT(){return Ro},get TYPES(){return Pr},TemporaryDisplayObject:Bl,Text:Kl,TextMetrics:fi,TextStyle:co,Texture:Dn,TextureLoader:Th,TextureMatrix:is,TextureUvs:Gl,Ticker:Nr,TickerPlugin:Oc,TilingSprite:Up,TilingSpriteRenderer:Vh,TimeLimiter:zp,Transform:jl,get UPDATE_PRIORITY(){return Si},UniformGroup:Ui,VERSION:P1,ViewableBuffer:gh,get WRAP_MODES(){return Ii},accessibleTarget:Ac,autoDetectRenderer:ph,checkMaxIfStatementsInShader:th,defaultFilterVertex:Xl,defaultVertex:mh,filters:O1,graphicsUtils:wp,groupD8:_r,interactiveTarget:Ic,isMobile:ui,resources:vd,settings:An,systems:Jd,uniformParsers:Wa,useDeprecated:A1,utils:od},Symbol.toStringTag,{value:"Module"})),I1=vf(M1);(function(b,g){(function(i,d){b.exports=d(mf,gf,I1)})(window,function(i,d,w){return function(f){var r={};function t(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return f[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}return t.m=f,t.c=r,t.d=function(n,a,l){t.o(n,a)||Object.defineProperty(n,a,{enumerable:!0,get:l})},t.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,a){if(a&1&&(n=t(n)),a&8||a&4&&typeof n=="object"&&n&&n.__esModule)return n;var l=Object.create(null);if(t.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:n}),a&2&&typeof n!="string")for(var e in n)t.d(l,e,(function(o){return n[o]}).bind(null,e));return l},t.n=function(n){var a=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(a,"a",a),a},t.o=function(n,a){return Object.prototype.hasOwnProperty.call(n,a)},t.p="/",t(t.s=317)}([function(f,r,t){t.r(r);var n="http://www.w3.org/1999/xhtml",a={svg:"http://www.w3.org/2000/svg",xhtml:n,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},l=function(xt){var Bt=xt+="",Qt=Bt.indexOf(":");return Qt>=0&&(Bt=xt.slice(0,Qt))!=="xmlns"&&(xt=xt.slice(Qt+1)),a.hasOwnProperty(Bt)?{space:a[Bt],local:xt}:xt};function e(xt){return function(){var Bt=this.ownerDocument,Qt=this.namespaceURI;return Qt===n&&Bt.documentElement.namespaceURI===n?Bt.createElement(xt):Bt.createElementNS(Qt,xt)}}function o(xt){return function(){return this.ownerDocument.createElementNS(xt.space,xt.local)}}var s=function(xt){var Bt=l(xt);return(Bt.local?o:e)(Bt)};function u(){}var c=function(xt){return xt==null?u:function(){return this.querySelector(xt)}},m=function(xt){typeof xt!="function"&&(xt=c(xt));for(var Bt=this._groups,Qt=Bt.length,le=new Array(Qt),ve=0;ve<Qt;++ve)for(var _e=Bt[ve],Ae=_e.length,ge=le[ve]=new Array(Ae),ke,Ke,$e=0;$e<Ae;++$e)(ke=_e[$e])&&(Ke=xt.call(ke,ke.__data__,$e,_e))&&("__data__"in ke&&(Ke.__data__=ke.__data__),ge[$e]=Ke);return new Be(le,this._parents)};function p(){return[]}var h=function(xt){return xt==null?p:function(){return this.querySelectorAll(xt)}},v=function(xt){typeof xt!="function"&&(xt=h(xt));for(var Bt=this._groups,Qt=Bt.length,le=[],ve=[],_e=0;_e<Qt;++_e)for(var Ae=Bt[_e],ge=Ae.length,ke,Ke=0;Ke<ge;++Ke)(ke=Ae[Ke])&&(le.push(xt.call(ke,ke.__data__,Ke,Ae)),ve.push(ke));return new Be(le,ve)},x=function(xt){return function(){return this.matches(xt)}},y=function(xt){typeof xt!="function"&&(xt=x(xt));for(var Bt=this._groups,Qt=Bt.length,le=new Array(Qt),ve=0;ve<Qt;++ve)for(var _e=Bt[ve],Ae=_e.length,ge=le[ve]=[],ke,Ke=0;Ke<Ae;++Ke)(ke=_e[Ke])&&xt.call(ke,ke.__data__,Ke,_e)&&ge.push(ke);return new Be(le,this._parents)},k=function(xt){return new Array(xt.length)},T=function(){return new Be(this._enter||this._groups.map(k),this._parents)};function E(xt,Bt){this.ownerDocument=xt.ownerDocument,this.namespaceURI=xt.namespaceURI,this._next=null,this._parent=xt,this.__data__=Bt}E.prototype={constructor:E,appendChild:function(xt){return this._parent.insertBefore(xt,this._next)},insertBefore:function(xt,Bt){return this._parent.insertBefore(xt,Bt)},querySelector:function(xt){return this._parent.querySelector(xt)},querySelectorAll:function(xt){return this._parent.querySelectorAll(xt)}};var _=function(xt){return function(){return xt}},A="$";function C(xt,Bt,Qt,le,ve,_e){for(var Ae=0,ge,ke=Bt.length,Ke=_e.length;Ae<Ke;++Ae)(ge=Bt[Ae])?(ge.__data__=_e[Ae],le[Ae]=ge):Qt[Ae]=new E(xt,_e[Ae]);for(;Ae<ke;++Ae)(ge=Bt[Ae])&&(ve[Ae]=ge)}function S(xt,Bt,Qt,le,ve,_e,Ae){var ge,ke,Ke={},$e=Bt.length,jn=_e.length,In=new Array($e),xn;for(ge=0;ge<$e;++ge)(ke=Bt[ge])&&(In[ge]=xn=A+Ae.call(ke,ke.__data__,ge,Bt),xn in Ke?ve[ge]=ke:Ke[xn]=ke);for(ge=0;ge<jn;++ge)xn=A+Ae.call(xt,_e[ge],ge,_e),(ke=Ke[xn])?(le[ge]=ke,ke.__data__=_e[ge],Ke[xn]=null):Qt[ge]=new E(xt,_e[ge]);for(ge=0;ge<$e;++ge)(ke=Bt[ge])&&Ke[In[ge]]===ke&&(ve[ge]=ke)}var P=function(xt,Bt){if(!xt)return xn=new Array(this.size()),Ke=-1,this.each(function(Ee){xn[++Ke]=Ee}),xn;var Qt=Bt?S:C,le=this._parents,ve=this._groups;typeof xt!="function"&&(xt=_(xt));for(var _e=ve.length,Ae=new Array(_e),ge=new Array(_e),ke=new Array(_e),Ke=0;Ke<_e;++Ke){var $e=le[Ke],jn=ve[Ke],In=jn.length,xn=xt.call($e,$e&&$e.__data__,Ke,le),Un=xn.length,cn=ge[Ke]=new Array(Un),xr=Ae[Ke]=new Array(Un),wr=ke[Ke]=new Array(In);Qt($e,jn,cn,xr,wr,xn,Bt);for(var fr=0,pr=0,qe,ae;fr<Un;++fr)if(qe=cn[fr]){for(fr>=pr&&(pr=fr+1);!(ae=xr[pr])&&++pr<Un;);qe._next=ae||null}}return Ae=new Be(Ae,le),Ae._enter=ge,Ae._exit=ke,Ae},O=function(){return new Be(this._exit||this._groups.map(k),this._parents)},R=function(xt,Bt,Qt){var le=this.enter(),ve=this,_e=this.exit();return le=typeof xt=="function"?xt(le):le.append(xt+""),Bt!=null&&(ve=Bt(ve)),Qt==null?_e.remove():Qt(_e),le&&ve?le.merge(ve).order():ve},I=function(xt){for(var Bt=this._groups,Qt=xt._groups,le=Bt.length,ve=Qt.length,_e=Math.min(le,ve),Ae=new Array(le),ge=0;ge<_e;++ge)for(var ke=Bt[ge],Ke=Qt[ge],$e=ke.length,jn=Ae[ge]=new Array($e),In,xn=0;xn<$e;++xn)(In=ke[xn]||Ke[xn])&&(jn[xn]=In);for(;ge<le;++ge)Ae[ge]=Bt[ge];return new Be(Ae,this._parents)},M=function(){for(var xt=this._groups,Bt=-1,Qt=xt.length;++Bt<Qt;)for(var le=xt[Bt],ve=le.length-1,_e=le[ve],Ae;--ve>=0;)(Ae=le[ve])&&(_e&&Ae.compareDocumentPosition(_e)^4&&_e.parentNode.insertBefore(Ae,_e),_e=Ae);return this},H=function(xt){xt||(xt=L);function Bt(jn,In){return jn&&In?xt(jn.__data__,In.__data__):!jn-!In}for(var Qt=this._groups,le=Qt.length,ve=new Array(le),_e=0;_e<le;++_e){for(var Ae=Qt[_e],ge=Ae.length,ke=ve[_e]=new Array(ge),Ke,$e=0;$e<ge;++$e)(Ke=Ae[$e])&&(ke[$e]=Ke);ke.sort(Bt)}return new Be(ve,this._parents).order()};function L(xt,Bt){return xt<Bt?-1:xt>Bt?1:xt>=Bt?0:NaN}var D=function(){var xt=arguments[0];return arguments[0]=this,xt.apply(null,arguments),this},j=function(){var xt=new Array(this.size()),Bt=-1;return this.each(function(){xt[++Bt]=this}),xt},W=function(){for(var xt=this._groups,Bt=0,Qt=xt.length;Bt<Qt;++Bt)for(var le=xt[Bt],ve=0,_e=le.length;ve<_e;++ve){var Ae=le[ve];if(Ae)return Ae}return null},B=function(){var xt=0;return this.each(function(){++xt}),xt},F=function(){return!this.node()},N=function(xt){for(var Bt=this._groups,Qt=0,le=Bt.length;Qt<le;++Qt)for(var ve=Bt[Qt],_e=0,Ae=ve.length,ge;_e<Ae;++_e)(ge=ve[_e])&&xt.call(ge,ge.__data__,_e,ve);return this};function X(xt){return function(){this.removeAttribute(xt)}}function G(xt){return function(){this.removeAttributeNS(xt.space,xt.local)}}function V(xt,Bt){return function(){this.setAttribute(xt,Bt)}}function z(xt,Bt){return function(){this.setAttributeNS(xt.space,xt.local,Bt)}}function U(xt,Bt){return function(){var Qt=Bt.apply(this,arguments);Qt==null?this.removeAttribute(xt):this.setAttribute(xt,Qt)}}function Z(xt,Bt){return function(){var Qt=Bt.apply(this,arguments);Qt==null?this.removeAttributeNS(xt.space,xt.local):this.setAttributeNS(xt.space,xt.local,Qt)}}var st=function(xt,Bt){var Qt=l(xt);if(arguments.length<2){var le=this.node();return Qt.local?le.getAttributeNS(Qt.space,Qt.local):le.getAttribute(Qt)}return this.each((Bt==null?Qt.local?G:X:typeof Bt=="function"?Qt.local?Z:U:Qt.local?z:V)(Qt,Bt))},Y=function(xt){return xt.ownerDocument&&xt.ownerDocument.defaultView||xt.document&&xt||xt.defaultView};function rt(xt){return function(){this.style.removeProperty(xt)}}function ft(xt,Bt,Qt){return function(){this.style.setProperty(xt,Bt,Qt)}}function tt(xt,Bt,Qt){return function(){var le=Bt.apply(this,arguments);le==null?this.style.removeProperty(xt):this.style.setProperty(xt,le,Qt)}}var K=function(xt,Bt,Qt){return arguments.length>1?this.each((Bt==null?rt:typeof Bt=="function"?tt:ft)(xt,Bt,Qt??"")):Q(this.node(),xt)};function Q(xt,Bt){return xt.style.getPropertyValue(Bt)||Y(xt).getComputedStyle(xt,null).getPropertyValue(Bt)}function ct(xt){return function(){delete this[xt]}}function nt(xt,Bt){return function(){this[xt]=Bt}}function ot(xt,Bt){return function(){var Qt=Bt.apply(this,arguments);Qt==null?delete this[xt]:this[xt]=Qt}}var yt=function(xt,Bt){return arguments.length>1?this.each((Bt==null?ct:typeof Bt=="function"?ot:nt)(xt,Bt)):this.node()[xt]};function pt(xt){return xt.trim().split(/^|\s+/)}function dt(xt){return xt.classList||new mt(xt)}function mt(xt){this._node=xt,this._names=pt(xt.getAttribute("class")||"")}mt.prototype={add:function(xt){var Bt=this._names.indexOf(xt);Bt<0&&(this._names.push(xt),this._node.setAttribute("class",this._names.join(" ")))},remove:function(xt){var Bt=this._names.indexOf(xt);Bt>=0&&(this._names.splice(Bt,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(xt){return this._names.indexOf(xt)>=0}};function q(xt,Bt){for(var Qt=dt(xt),le=-1,ve=Bt.length;++le<ve;)Qt.add(Bt[le])}function $(xt,Bt){for(var Qt=dt(xt),le=-1,ve=Bt.length;++le<ve;)Qt.remove(Bt[le])}function J(xt){return function(){q(this,xt)}}function lt(xt){return function(){$(this,xt)}}function ut(xt,Bt){return function(){(Bt.apply(this,arguments)?q:$)(this,xt)}}var ht=function(xt,Bt){var Qt=pt(xt+"");if(arguments.length<2){for(var le=dt(this.node()),ve=-1,_e=Qt.length;++ve<_e;)if(!le.contains(Qt[ve]))return!1;return!0}return this.each((typeof Bt=="function"?ut:Bt?J:lt)(Qt,Bt))};function bt(){this.textContent=""}function kt(xt){return function(){this.textContent=xt}}function vt(xt){return function(){var Bt=xt.apply(this,arguments);this.textContent=Bt??""}}var Et=function(xt){return arguments.length?this.each(xt==null?bt:(typeof xt=="function"?vt:kt)(xt)):this.node().textContent};function Rt(){this.innerHTML=""}function Vt(xt){return function(){this.innerHTML=xt}}function ee(xt){return function(){var Bt=xt.apply(this,arguments);this.innerHTML=Bt??""}}var Tt=function(xt){return arguments.length?this.each(xt==null?Rt:(typeof xt=="function"?ee:Vt)(xt)):this.node().innerHTML};function _t(){this.nextSibling&&this.parentNode.appendChild(this)}var zt=function(){return this.each(_t)};function oe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}var $t=function(){return this.each(oe)},pe=function(xt){var Bt=typeof xt=="function"?xt:s(xt);return this.select(function(){return this.appendChild(Bt.apply(this,arguments))})};function Nt(){return null}var se=function(xt,Bt){var Qt=typeof xt=="function"?xt:s(xt),le=Bt==null?Nt:typeof Bt=="function"?Bt:c(Bt);return this.select(function(){return this.insertBefore(Qt.apply(this,arguments),le.apply(this,arguments)||null)})};function Gt(){var xt=this.parentNode;xt&&xt.removeChild(this)}var gt=function(){return this.each(Gt)};function fe(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function Ct(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var at=function(xt){return this.select(xt?Ct:fe)},St=function(xt){return arguments.length?this.property("__data__",xt):this.node().__data__},jt={},Zt=null;if(typeof document<"u"){var ue=document.documentElement;"onmouseenter"in ue||(jt={mouseenter:"mouseover",mouseleave:"mouseout"})}function ce(xt,Bt,Qt){return xt=It(xt,Bt,Qt),function(le){var ve=le.relatedTarget;(!ve||ve!==this&&!(ve.compareDocumentPosition(this)&8))&&xt.call(this,le)}}function It(xt,Bt,Qt){return function(le){var ve=Zt;Zt=le;try{xt.call(this,this.__data__,Bt,Qt)}finally{Zt=ve}}}function Mt(xt){return xt.trim().split(/^|\s+/).map(function(Bt){var Qt="",le=Bt.indexOf(".");return le>=0&&(Qt=Bt.slice(le+1),Bt=Bt.slice(0,le)),{type:Bt,name:Qt}})}function Ut(xt){return function(){var Bt=this.__on;if(Bt){for(var Qt=0,le=-1,ve=Bt.length,_e;Qt<ve;++Qt)_e=Bt[Qt],(!xt.type||_e.type===xt.type)&&_e.name===xt.name?this.removeEventListener(_e.type,_e.listener,_e.capture):Bt[++le]=_e;++le?Bt.length=le:delete this.__on}}}function Kt(xt,Bt,Qt){var le=jt.hasOwnProperty(xt.type)?ce:It;return function(ve,_e,Ae){var ge=this.__on,ke,Ke=le(Bt,_e,Ae);if(ge){for(var $e=0,jn=ge.length;$e<jn;++$e)if((ke=ge[$e]).type===xt.type&&ke.name===xt.name){this.removeEventListener(ke.type,ke.listener,ke.capture),this.addEventListener(ke.type,ke.listener=Ke,ke.capture=Qt),ke.value=Bt;return}}this.addEventListener(xt.type,Ke,Qt),ke={type:xt.type,name:xt.name,value:Bt,listener:Ke,capture:Qt},ge?ge.push(ke):this.__on=[ke]}}var wt=function(xt,Bt,Qt){var le=Mt(xt+""),ve,_e=le.length,Ae;if(arguments.length<2){var ge=this.node().__on;if(ge){for(var ke=0,Ke=ge.length,$e;ke<Ke;++ke)for(ve=0,$e=ge[ke];ve<_e;++ve)if((Ae=le[ve]).type===$e.type&&Ae.name===$e.name)return $e.value}return}for(ge=Bt?Kt:Ut,Qt==null&&(Qt=!1),ve=0;ve<_e;++ve)this.each(ge(le[ve],Bt,Qt));return this};function ye(xt,Bt,Qt,le){var ve=Zt;xt.sourceEvent=Zt,Zt=xt;try{return Bt.apply(Qt,le)}finally{Zt=ve}}function we(xt,Bt,Qt){var le=Y(xt),ve=le.CustomEvent;typeof ve=="function"?ve=new ve(Bt,Qt):(ve=le.document.createEvent("Event"),Qt?(ve.initEvent(Bt,Qt.bubbles,Qt.cancelable),ve.detail=Qt.detail):ve.initEvent(Bt,!1,!1)),xt.dispatchEvent(ve)}function Oe(xt,Bt){return function(){return we(this,xt,Bt)}}function Ne(xt,Bt){return function(){return we(this,xt,Bt.apply(this,arguments))}}var ze=function(xt,Bt){return this.each((typeof Bt=="function"?Ne:Oe)(xt,Bt))},Ue=[null];function Be(xt,Bt){this._groups=xt,this._parents=Bt}function Je(){return new Be([[document.documentElement]],Ue)}Be.prototype=Je.prototype={constructor:Be,select:m,selectAll:v,filter:y,data:P,enter:T,exit:O,join:R,merge:I,order:M,sort:H,call:D,nodes:j,node:W,size:B,empty:F,each:N,attr:st,style:K,property:yt,classed:ht,text:Et,html:Tt,raise:zt,lower:$t,append:pe,insert:se,remove:gt,clone:at,datum:St,on:wt,dispatch:ze};var Xe=Je,pn=function(xt){return typeof xt=="string"?new Be([[document.querySelector(xt)]],[document.documentElement]):new Be([[xt]],Ue)},qt=function(xt){return pn(s(xt).call(document.documentElement))},it=0;function Xt(){return new te}function te(){this._="@"+(++it).toString(36)}te.prototype=Xt.prototype={constructor:te,get:function(xt){for(var Bt=this._;!(Bt in xt);)if(!(xt=xt.parentNode))return;return xt[Bt]},set:function(xt,Bt){return xt[this._]=Bt},remove:function(xt){return this._ in xt&&delete xt[this._]},toString:function(){return this._}};var ne=function(){for(var xt=Zt,Bt;Bt=xt.sourceEvent;)xt=Bt;return xt},Wt=function(xt,Bt){var Qt=xt.ownerSVGElement||xt;if(Qt.createSVGPoint){var le=Qt.createSVGPoint();return le.x=Bt.clientX,le.y=Bt.clientY,le=le.matrixTransform(xt.getScreenCTM().inverse()),[le.x,le.y]}var ve=xt.getBoundingClientRect();return[Bt.clientX-ve.left-xt.clientLeft,Bt.clientY-ve.top-xt.clientTop]},he=function(xt){var Bt=ne();return Bt.changedTouches&&(Bt=Bt.changedTouches[0]),Wt(xt,Bt)},Dt=function(xt){return typeof xt=="string"?new Be([document.querySelectorAll(xt)],[document.documentElement]):new Be([xt??[]],Ue)},Ft=function(xt,Bt,Qt){arguments.length<3&&(Qt=Bt,Bt=ne().changedTouches);for(var le=0,ve=Bt?Bt.length:0,_e;le<ve;++le)if((_e=Bt[le]).identifier===Qt)return Wt(xt,_e);return null},Yt=function(xt,Bt){Bt==null&&(Bt=ne().touches);for(var Qt=0,le=Bt?Bt.length:0,ve=new Array(le);Qt<le;++Qt)ve[Qt]=Wt(xt,Bt[Qt]);return ve};t.d(r,"create",function(){return qt}),t.d(r,"creator",function(){return s}),t.d(r,"local",function(){return Xt}),t.d(r,"matcher",function(){return x}),t.d(r,"mouse",function(){return he}),t.d(r,"namespace",function(){return l}),t.d(r,"namespaces",function(){return a}),t.d(r,"clientPoint",function(){return Wt}),t.d(r,"select",function(){return pn}),t.d(r,"selectAll",function(){return Dt}),t.d(r,"selection",function(){return Xe}),t.d(r,"selector",function(){return c}),t.d(r,"selectorAll",function(){return h}),t.d(r,"style",function(){return Q}),t.d(r,"touch",function(){return Ft}),t.d(r,"touches",function(){return Yt}),t.d(r,"window",function(){return Y}),t.d(r,"event",function(){return Zt}),t.d(r,"customEvent",function(){return ye})},function(f,r){f.exports=i},function(f,r,t){f.exports=t(568)()},function(f,r,t){r.__esModule=!0,r.default=function(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}},function(f,r,t){r.__esModule=!0;var n=t(131),a=l(n);function l(e){return e&&e.__esModule?e:{default:e}}r.default=function(){function e(o,s){for(var u=0;u<s.length;u++){var c=s[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),(0,a.default)(o,c.key,c)}}return function(o,s,u){return s&&e(o.prototype,s),u&&e(o,u),o}}()},function(f,r,t){f.exports={default:t(558),__esModule:!0}},function(f,r,t){r.__esModule=!0;var n=t(94),a=l(n);function l(e){return e&&e.__esModule?e:{default:e}}r.default=function(e,o){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&((typeof o>"u"?"undefined":(0,a.default)(o))==="object"||typeof o=="function")?o:e}},function(f,r,t){r.__esModule=!0;var n=t(331),a=u(n),l=t(565),e=u(l),o=t(94),s=u(o);function u(c){return c&&c.__esModule?c:{default:c}}r.default=function(c,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof m>"u"?"undefined":(0,s.default)(m)));c.prototype=(0,e.default)(m&&m.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),m&&(a.default?(0,a.default)(c,m):c.__proto__=m)}},function(f,r,t){t.r(r);var n=function(tt,K){return tt<K?-1:tt>K?1:tt>=K?0:NaN},a=function(tt){return tt.length===1&&(tt=l(tt)),{left:function(K,Q,ct,nt){for(ct==null&&(ct=0),nt==null&&(nt=K.length);ct<nt;){var ot=ct+nt>>>1;tt(K[ot],Q)<0?ct=ot+1:nt=ot}return ct},right:function(K,Q,ct,nt){for(ct==null&&(ct=0),nt==null&&(nt=K.length);ct<nt;){var ot=ct+nt>>>1;tt(K[ot],Q)>0?nt=ot:ct=ot+1}return ct}}};function l(tt){return function(K,Q){return n(tt(K),Q)}}var e=a(n),o=e.right,s=e.left,u=o,c=function(tt,K){K==null&&(K=m);for(var Q=0,ct=tt.length-1,nt=tt[0],ot=new Array(ct<0?0:ct);Q<ct;)ot[Q]=K(nt,nt=tt[++Q]);return ot};function m(tt,K){return[tt,K]}var p=function(tt,K,Q){var ct=tt.length,nt=K.length,ot=new Array(ct*nt),yt,pt,dt,mt;for(Q==null&&(Q=m),yt=dt=0;yt<ct;++yt)for(mt=tt[yt],pt=0;pt<nt;++pt,++dt)ot[dt]=Q(mt,K[pt]);return ot},h=function(tt,K){return K<tt?-1:K>tt?1:K>=tt?0:NaN},v=function(tt){return tt===null?NaN:+tt},x=function(tt,K){var Q=tt.length,ct=0,nt=-1,ot=0,yt,pt,dt=0;if(K==null)for(;++nt<Q;)isNaN(yt=v(tt[nt]))||(pt=yt-ot,ot+=pt/++ct,dt+=pt*(yt-ot));else for(;++nt<Q;)isNaN(yt=v(K(tt[nt],nt,tt)))||(pt=yt-ot,ot+=pt/++ct,dt+=pt*(yt-ot));if(ct>1)return dt/(ct-1)},y=function(tt,K){var Q=x(tt,K);return Q&&Math.sqrt(Q)},k=function(tt,K){var Q=tt.length,ct=-1,nt,ot,yt;if(K==null){for(;++ct<Q;)if((nt=tt[ct])!=null&&nt>=nt)for(ot=yt=nt;++ct<Q;)(nt=tt[ct])!=null&&(ot>nt&&(ot=nt),yt<nt&&(yt=nt))}else for(;++ct<Q;)if((nt=K(tt[ct],ct,tt))!=null&&nt>=nt)for(ot=yt=nt;++ct<Q;)(nt=K(tt[ct],ct,tt))!=null&&(ot>nt&&(ot=nt),yt<nt&&(yt=nt));return[ot,yt]},T=Array.prototype,E=T.slice,_=T.map,A=function(tt){return function(){return tt}},C=function(tt){return tt},S=function(tt,K,Q){tt=+tt,K=+K,Q=(nt=arguments.length)<2?(K=tt,tt=0,1):nt<3?1:+Q;for(var ct=-1,nt=Math.max(0,Math.ceil((K-tt)/Q))|0,ot=new Array(nt);++ct<nt;)ot[ct]=tt+ct*Q;return ot},P=Math.sqrt(50),O=Math.sqrt(10),R=Math.sqrt(2),I=function(tt,K,Q){var ct,nt=-1,ot,yt,pt;if(K=+K,tt=+tt,Q=+Q,tt===K&&Q>0)return[tt];if((ct=K<tt)&&(ot=tt,tt=K,K=ot),(pt=M(tt,K,Q))===0||!isFinite(pt))return[];if(pt>0)for(tt=Math.ceil(tt/pt),K=Math.floor(K/pt),yt=new Array(ot=Math.ceil(K-tt+1));++nt<ot;)yt[nt]=(tt+nt)*pt;else for(tt=Math.floor(tt*pt),K=Math.ceil(K*pt),yt=new Array(ot=Math.ceil(tt-K+1));++nt<ot;)yt[nt]=(tt-nt)/pt;return ct&&yt.reverse(),yt};function M(tt,K,Q){var ct=(K-tt)/Math.max(0,Q),nt=Math.floor(Math.log(ct)/Math.LN10),ot=ct/Math.pow(10,nt);return nt>=0?(ot>=P?10:ot>=O?5:ot>=R?2:1)*Math.pow(10,nt):-Math.pow(10,-nt)/(ot>=P?10:ot>=O?5:ot>=R?2:1)}function H(tt,K,Q){var ct=Math.abs(K-tt)/Math.max(0,Q),nt=Math.pow(10,Math.floor(Math.log(ct)/Math.LN10)),ot=ct/nt;return ot>=P?nt*=10:ot>=O?nt*=5:ot>=R&&(nt*=2),K<tt?-nt:nt}var L=function(tt){return Math.ceil(Math.log(tt.length)/Math.LN2)+1},D=function(){var tt=C,K=k,Q=L;function ct(nt){var ot,yt=nt.length,pt,dt=new Array(yt);for(ot=0;ot<yt;++ot)dt[ot]=tt(nt[ot],ot,nt);var mt=K(dt),q=mt[0],$=mt[1],J=Q(dt,q,$);Array.isArray(J)||(J=H(q,$,J),J=S(Math.ceil(q/J)*J,$,J));for(var lt=J.length;J[0]<=q;)J.shift(),--lt;for(;J[lt-1]>$;)J.pop(),--lt;var ut=new Array(lt+1),ht;for(ot=0;ot<=lt;++ot)ht=ut[ot]=[],ht.x0=ot>0?J[ot-1]:q,ht.x1=ot<lt?J[ot]:$;for(ot=0;ot<yt;++ot)pt=dt[ot],q<=pt&&pt<=$&&ut[u(J,pt,0,lt)].push(nt[ot]);return ut}return ct.value=function(nt){return arguments.length?(tt=typeof nt=="function"?nt:A(nt),ct):tt},ct.domain=function(nt){return arguments.length?(K=typeof nt=="function"?nt:A([nt[0],nt[1]]),ct):K},ct.thresholds=function(nt){return arguments.length?(Q=typeof nt=="function"?nt:Array.isArray(nt)?A(E.call(nt)):A(nt),ct):Q},ct},j=function(tt,K,Q){if(Q==null&&(Q=v),!!(ct=tt.length)){if((K=+K)<=0||ct<2)return+Q(tt[0],0,tt);if(K>=1)return+Q(tt[ct-1],ct-1,tt);var ct,nt=(ct-1)*K,ot=Math.floor(nt),yt=+Q(tt[ot],ot,tt),pt=+Q(tt[ot+1],ot+1,tt);return yt+(pt-yt)*(nt-ot)}},W=function(tt,K,Q){return tt=_.call(tt,v).sort(n),Math.ceil((Q-K)/(2*(j(tt,.75)-j(tt,.25))*Math.pow(tt.length,-1/3)))},B=function(tt,K,Q){return Math.ceil((Q-K)/(3.5*y(tt)*Math.pow(tt.length,-1/3)))},F=function(tt,K){var Q=tt.length,ct=-1,nt,ot;if(K==null){for(;++ct<Q;)if((nt=tt[ct])!=null&&nt>=nt)for(ot=nt;++ct<Q;)(nt=tt[ct])!=null&&nt>ot&&(ot=nt)}else for(;++ct<Q;)if((nt=K(tt[ct],ct,tt))!=null&&nt>=nt)for(ot=nt;++ct<Q;)(nt=K(tt[ct],ct,tt))!=null&&nt>ot&&(ot=nt);return ot},N=function(tt,K){var Q=tt.length,ct=Q,nt=-1,ot,yt=0;if(K==null)for(;++nt<Q;)isNaN(ot=v(tt[nt]))?--ct:yt+=ot;else for(;++nt<Q;)isNaN(ot=v(K(tt[nt],nt,tt)))?--ct:yt+=ot;if(ct)return yt/ct},X=function(tt,K){var Q=tt.length,ct=-1,nt,ot=[];if(K==null)for(;++ct<Q;)isNaN(nt=v(tt[ct]))||ot.push(nt);else for(;++ct<Q;)isNaN(nt=v(K(tt[ct],ct,tt)))||ot.push(nt);return j(ot.sort(n),.5)},G=function(tt){for(var K=tt.length,Q,ct=-1,nt=0,ot,yt;++ct<K;)nt+=tt[ct].length;for(ot=new Array(nt);--K>=0;)for(yt=tt[K],Q=yt.length;--Q>=0;)ot[--nt]=yt[Q];return ot},V=function(tt,K){var Q=tt.length,ct=-1,nt,ot;if(K==null){for(;++ct<Q;)if((nt=tt[ct])!=null&&nt>=nt)for(ot=nt;++ct<Q;)(nt=tt[ct])!=null&&ot>nt&&(ot=nt)}else for(;++ct<Q;)if((nt=K(tt[ct],ct,tt))!=null&&nt>=nt)for(ot=nt;++ct<Q;)(nt=K(tt[ct],ct,tt))!=null&&ot>nt&&(ot=nt);return ot},z=function(tt,K){for(var Q=K.length,ct=new Array(Q);Q--;)ct[Q]=tt[K[Q]];return ct},U=function(tt,K){if(Q=tt.length){var Q,ct=0,nt=0,ot,yt=tt[nt];for(K==null&&(K=n);++ct<Q;)(K(ot=tt[ct],yt)<0||K(yt,yt)!==0)&&(yt=ot,nt=ct);if(K(yt,yt)===0)return nt}},Z=function(tt,K,Q){for(var ct=(Q??tt.length)-(K=K==null?0:+K),nt,ot;ct;)ot=Math.random()*ct--|0,nt=tt[ct+K],tt[ct+K]=tt[ot+K],tt[ot+K]=nt;return tt},st=function(tt,K){var Q=tt.length,ct=-1,nt,ot=0;if(K==null)for(;++ct<Q;)(nt=+tt[ct])&&(ot+=nt);else for(;++ct<Q;)(nt=+K(tt[ct],ct,tt))&&(ot+=nt);return ot},Y=function(tt){if(!(ot=tt.length))return[];for(var K=-1,Q=V(tt,rt),ct=new Array(Q);++K<Q;)for(var nt=-1,ot,yt=ct[K]=new Array(ot);++nt<ot;)yt[nt]=tt[nt][K];return ct};function rt(tt){return tt.length}var ft=function(){return Y(arguments)};t.d(r,"bisect",function(){return u}),t.d(r,"bisectRight",function(){return o}),t.d(r,"bisectLeft",function(){return s}),t.d(r,"ascending",function(){return n}),t.d(r,"bisector",function(){return a}),t.d(r,"cross",function(){return p}),t.d(r,"descending",function(){return h}),t.d(r,"deviation",function(){return y}),t.d(r,"extent",function(){return k}),t.d(r,"histogram",function(){return D}),t.d(r,"thresholdFreedmanDiaconis",function(){return W}),t.d(r,"thresholdScott",function(){return B}),t.d(r,"thresholdSturges",function(){return L}),t.d(r,"max",function(){return F}),t.d(r,"mean",function(){return N}),t.d(r,"median",function(){return X}),t.d(r,"merge",function(){return G}),t.d(r,"min",function(){return V}),t.d(r,"pairs",function(){return c}),t.d(r,"permute",function(){return z}),t.d(r,"quantile",function(){return j}),t.d(r,"range",function(){return S}),t.d(r,"scan",function(){return U}),t.d(r,"shuffle",function(){return Z}),t.d(r,"sum",function(){return st}),t.d(r,"ticks",function(){return I}),t.d(r,"tickIncrement",function(){return M}),t.d(r,"tickStep",function(){return H}),t.d(r,"transpose",function(){return Y}),t.d(r,"variance",function(){return x}),t.d(r,"zip",function(){return ft})},function(f,r,t){t.r(r);var n=function(vt,Et,Rt){vt.prototype=Et.prototype=Rt,Rt.constructor=vt};function a(vt,Et){var Rt=Object.create(vt.prototype);for(var Vt in Et)Rt[Vt]=Et[Vt];return Rt}function l(){}var e=.7,o=1/e,s="\\s*([+-]?\\d+)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",c="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",m=/^#([0-9a-f]{3})$/,p=/^#([0-9a-f]{6})$/,h=new RegExp("^rgb\\("+[s,s,s]+"\\)$"),v=new RegExp("^rgb\\("+[c,c,c]+"\\)$"),x=new RegExp("^rgba\\("+[s,s,s,u]+"\\)$"),y=new RegExp("^rgba\\("+[c,c,c,u]+"\\)$"),k=new RegExp("^hsl\\("+[u,c,c]+"\\)$"),T=new RegExp("^hsla\\("+[u,c,c,u]+"\\)$"),E={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};n(l,_,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}});function _(vt){var Et;return vt=(vt+"").trim().toLowerCase(),(Et=m.exec(vt))?(Et=parseInt(Et[1],16),new O(Et>>8&15|Et>>4&240,Et>>4&15|Et&240,(Et&15)<<4|Et&15,1)):(Et=p.exec(vt))?A(parseInt(Et[1],16)):(Et=h.exec(vt))?new O(Et[1],Et[2],Et[3],1):(Et=v.exec(vt))?new O(Et[1]*255/100,Et[2]*255/100,Et[3]*255/100,1):(Et=x.exec(vt))?C(Et[1],Et[2],Et[3],Et[4]):(Et=y.exec(vt))?C(Et[1]*255/100,Et[2]*255/100,Et[3]*255/100,Et[4]):(Et=k.exec(vt))?I(Et[1],Et[2]/100,Et[3]/100,1):(Et=T.exec(vt))?I(Et[1],Et[2]/100,Et[3]/100,Et[4]):E.hasOwnProperty(vt)?A(E[vt]):vt==="transparent"?new O(NaN,NaN,NaN,0):null}function A(vt){return new O(vt>>16&255,vt>>8&255,vt&255,1)}function C(vt,Et,Rt,Vt){return Vt<=0&&(vt=Et=Rt=NaN),new O(vt,Et,Rt,Vt)}function S(vt){return vt instanceof l||(vt=_(vt)),vt?(vt=vt.rgb(),new O(vt.r,vt.g,vt.b,vt.opacity)):new O}function P(vt,Et,Rt,Vt){return arguments.length===1?S(vt):new O(vt,Et,Rt,Vt??1)}function O(vt,Et,Rt,Vt){this.r=+vt,this.g=+Et,this.b=+Rt,this.opacity=+Vt}n(O,P,a(l,{brighter:function(vt){return vt=vt==null?o:Math.pow(o,vt),new O(this.r*vt,this.g*vt,this.b*vt,this.opacity)},darker:function(vt){return vt=vt==null?e:Math.pow(e,vt),new O(this.r*vt,this.g*vt,this.b*vt,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+R(this.r)+R(this.g)+R(this.b)},toString:function(){var vt=this.opacity;return vt=isNaN(vt)?1:Math.max(0,Math.min(1,vt)),(vt===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(vt===1?")":", "+vt+")")}}));function R(vt){return vt=Math.max(0,Math.min(255,Math.round(vt)||0)),(vt<16?"0":"")+vt.toString(16)}function I(vt,Et,Rt,Vt){return Vt<=0?vt=Et=Rt=NaN:Rt<=0||Rt>=1?vt=Et=NaN:Et<=0&&(vt=NaN),new L(vt,Et,Rt,Vt)}function M(vt){if(vt instanceof L)return new L(vt.h,vt.s,vt.l,vt.opacity);if(vt instanceof l||(vt=_(vt)),!vt)return new L;if(vt instanceof L)return vt;vt=vt.rgb();var Et=vt.r/255,Rt=vt.g/255,Vt=vt.b/255,ee=Math.min(Et,Rt,Vt),Tt=Math.max(Et,Rt,Vt),_t=NaN,zt=Tt-ee,oe=(Tt+ee)/2;return zt?(Et===Tt?_t=(Rt-Vt)/zt+(Rt<Vt)*6:Rt===Tt?_t=(Vt-Et)/zt+2:_t=(Et-Rt)/zt+4,zt/=oe<.5?Tt+ee:2-Tt-ee,_t*=60):zt=oe>0&&oe<1?0:_t,new L(_t,zt,oe,vt.opacity)}function H(vt,Et,Rt,Vt){return arguments.length===1?M(vt):new L(vt,Et,Rt,Vt??1)}function L(vt,Et,Rt,Vt){this.h=+vt,this.s=+Et,this.l=+Rt,this.opacity=+Vt}n(L,H,a(l,{brighter:function(vt){return vt=vt==null?o:Math.pow(o,vt),new L(this.h,this.s,this.l*vt,this.opacity)},darker:function(vt){return vt=vt==null?e:Math.pow(e,vt),new L(this.h,this.s,this.l*vt,this.opacity)},rgb:function(){var vt=this.h%360+(this.h<0)*360,Et=isNaN(vt)||isNaN(this.s)?0:this.s,Rt=this.l,Vt=Rt+(Rt<.5?Rt:1-Rt)*Et,ee=2*Rt-Vt;return new O(D(vt>=240?vt-240:vt+120,ee,Vt),D(vt,ee,Vt),D(vt<120?vt+240:vt-120,ee,Vt),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));function D(vt,Et,Rt){return(vt<60?Et+(Rt-Et)*vt/60:vt<180?Rt:vt<240?Et+(Rt-Et)*(240-vt)/60:Et)*255}var j=Math.PI/180,W=180/Math.PI,B=18,F=.96422,N=1,X=.82521,G=4/29,V=6/29,z=3*V*V,U=V*V*V;function Z(vt){if(vt instanceof rt)return new rt(vt.l,vt.a,vt.b,vt.opacity);if(vt instanceof yt){if(isNaN(vt.h))return new rt(vt.l,0,0,vt.opacity);var Et=vt.h*j;return new rt(vt.l,Math.cos(Et)*vt.c,Math.sin(Et)*vt.c,vt.opacity)}vt instanceof O||(vt=S(vt));var Rt=Q(vt.r),Vt=Q(vt.g),ee=Q(vt.b),Tt=ft((.2225045*Rt+.7168786*Vt+.0606169*ee)/N),_t,zt;return Rt===Vt&&Vt===ee?_t=zt=Tt:(_t=ft((.4360747*Rt+.3850649*Vt+.1430804*ee)/F),zt=ft((.0139322*Rt+.0971045*Vt+.7141733*ee)/X)),new rt(116*Tt-16,500*(_t-Tt),200*(Tt-zt),vt.opacity)}function st(vt,Et){return new rt(vt,0,0,Et??1)}function Y(vt,Et,Rt,Vt){return arguments.length===1?Z(vt):new rt(vt,Et,Rt,Vt??1)}function rt(vt,Et,Rt,Vt){this.l=+vt,this.a=+Et,this.b=+Rt,this.opacity=+Vt}n(rt,Y,a(l,{brighter:function(vt){return new rt(this.l+B*(vt??1),this.a,this.b,this.opacity)},darker:function(vt){return new rt(this.l-B*(vt??1),this.a,this.b,this.opacity)},rgb:function(){var vt=(this.l+16)/116,Et=isNaN(this.a)?vt:vt+this.a/500,Rt=isNaN(this.b)?vt:vt-this.b/200;return Et=F*tt(Et),vt=N*tt(vt),Rt=X*tt(Rt),new O(K(3.1338561*Et-1.6168667*vt-.4906146*Rt),K(-.9787684*Et+1.9161415*vt+.033454*Rt),K(.0719453*Et-.2289914*vt+1.4052427*Rt),this.opacity)}}));function ft(vt){return vt>U?Math.pow(vt,1/3):vt/z+G}function tt(vt){return vt>V?vt*vt*vt:z*(vt-G)}function K(vt){return 255*(vt<=.0031308?12.92*vt:1.055*Math.pow(vt,1/2.4)-.055)}function Q(vt){return(vt/=255)<=.04045?vt/12.92:Math.pow((vt+.055)/1.055,2.4)}function ct(vt){if(vt instanceof yt)return new yt(vt.h,vt.c,vt.l,vt.opacity);if(vt instanceof rt||(vt=Z(vt)),vt.a===0&&vt.b===0)return new yt(NaN,0,vt.l,vt.opacity);var Et=Math.atan2(vt.b,vt.a)*W;return new yt(Et<0?Et+360:Et,Math.sqrt(vt.a*vt.a+vt.b*vt.b),vt.l,vt.opacity)}function nt(vt,Et,Rt,Vt){return arguments.length===1?ct(vt):new yt(Rt,Et,vt,Vt??1)}function ot(vt,Et,Rt,Vt){return arguments.length===1?ct(vt):new yt(vt,Et,Rt,Vt??1)}function yt(vt,Et,Rt,Vt){this.h=+vt,this.c=+Et,this.l=+Rt,this.opacity=+Vt}n(yt,ot,a(l,{brighter:function(vt){return new yt(this.h,this.c,this.l+B*(vt??1),this.opacity)},darker:function(vt){return new yt(this.h,this.c,this.l-B*(vt??1),this.opacity)},rgb:function(){return Z(this).rgb()}}));var pt=-.14861,dt=1.78277,mt=-.29227,q=-.90649,$=1.97294,J=$*q,lt=$*dt,ut=dt*mt-q*pt;function ht(vt){if(vt instanceof kt)return new kt(vt.h,vt.s,vt.l,vt.opacity);vt instanceof O||(vt=S(vt));var Et=vt.r/255,Rt=vt.g/255,Vt=vt.b/255,ee=(ut*Vt+J*Et-lt*Rt)/(ut+J-lt),Tt=Vt-ee,_t=($*(Rt-ee)-mt*Tt)/q,zt=Math.sqrt(_t*_t+Tt*Tt)/($*ee*(1-ee)),oe=zt?Math.atan2(_t,Tt)*W-120:NaN;return new kt(oe<0?oe+360:oe,zt,ee,vt.opacity)}function bt(vt,Et,Rt,Vt){return arguments.length===1?ht(vt):new kt(vt,Et,Rt,Vt??1)}function kt(vt,Et,Rt,Vt){this.h=+vt,this.s=+Et,this.l=+Rt,this.opacity=+Vt}n(kt,bt,a(l,{brighter:function(vt){return vt=vt==null?o:Math.pow(o,vt),new kt(this.h,this.s,this.l*vt,this.opacity)},darker:function(vt){return vt=vt==null?e:Math.pow(e,vt),new kt(this.h,this.s,this.l*vt,this.opacity)},rgb:function(){var vt=isNaN(this.h)?0:(this.h+120)*j,Et=+this.l,Rt=isNaN(this.s)?0:this.s*Et*(1-Et),Vt=Math.cos(vt),ee=Math.sin(vt);return new O(255*(Et+Rt*(pt*Vt+dt*ee)),255*(Et+Rt*(mt*Vt+q*ee)),255*(Et+Rt*($*Vt)),this.opacity)}})),t.d(r,"color",function(){return _}),t.d(r,"rgb",function(){return P}),t.d(r,"hsl",function(){return H}),t.d(r,"lab",function(){return Y}),t.d(r,"hcl",function(){return ot}),t.d(r,"lch",function(){return nt}),t.d(r,"gray",function(){return st}),t.d(r,"cubehelix",function(){return bt})},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(527);Object.defineProperty(r,"absToChr",{enumerable:!0,get:function(){function Mt(){return It(n).default}return Mt}()});var a=t(528);Object.defineProperty(r,"accessorTransposition",{enumerable:!0,get:function(){function Mt(){return It(a).default}return Mt}()});var l=t(529);Object.defineProperty(r,"addArrays",{enumerable:!0,get:function(){function Mt(){return It(l).default}return Mt}()});var e=t(530);Object.defineProperty(r,"addClass",{enumerable:!0,get:function(){function Mt(){return It(e).default}return Mt}()});var o=t(531);Object.defineProperty(r,"base64ToCanvas",{enumerable:!0,get:function(){function Mt(){return It(o).default}return Mt}()});var s=t(532);Object.defineProperty(r,"chromInfoBisector",{enumerable:!0,get:function(){function Mt(){return It(s).default}return Mt}()});var u=t(533);Object.defineProperty(r,"chrToAbs",{enumerable:!0,get:function(){function Mt(){return It(u).default}return Mt}()});var c=t(323);Object.defineProperty(r,"cloneEvent",{enumerable:!0,get:function(){function Mt(){return It(c).default}return Mt}()});var m=t(534);Object.defineProperty(r,"colorDomainToRgbaArray",{enumerable:!0,get:function(){function Mt(){return It(m).default}return Mt}()});var p=t(535);Object.defineProperty(r,"colorToHex",{enumerable:!0,get:function(){function Mt(){return It(p).default}return Mt}()});var h=t(536);Object.defineProperty(r,"colorToRgba",{enumerable:!0,get:function(){function Mt(){return It(h).default}return Mt}()});var v=t(326);Object.defineProperty(r,"dataToGenomicLoci",{enumerable:!0,get:function(){function Mt(){return It(v).default}return Mt}()});var x=t(537);Object.defineProperty(r,"debounce",{enumerable:!0,get:function(){function Mt(){return It(x).default}return Mt}()});var y=t(538);Object.defineProperty(r,"decToHexStr",{enumerable:!0,get:function(){function Mt(){return It(y).default}return Mt}()});var k=t(539);Object.defineProperty(r,"dictFromTuples",{enumerable:!0,get:function(){function Mt(){return It(k).default}return Mt}()});var T=t(540);Object.defineProperty(r,"dictItems",{enumerable:!0,get:function(){function Mt(){return It(T).default}return Mt}()});var E=t(541);Object.defineProperty(r,"dictKeys",{enumerable:!0,get:function(){function Mt(){return It(E).default}return Mt}()});var _=t(542);Object.defineProperty(r,"dictValues",{enumerable:!0,get:function(){function Mt(){return It(_).default}return Mt}()});var A=t(543);Object.defineProperty(r,"download",{enumerable:!0,get:function(){function Mt(){return It(A).default}return Mt}()});var C=t(544);Object.defineProperty(r,"fillInMinWidths",{enumerable:!0,get:function(){function Mt(){return It(C).default}return Mt}()});var S=t(890);Object.defineProperty(r,"flatten",{enumerable:!0,get:function(){function Mt(){return It(S).default}return Mt}()});var P=t(891);Object.defineProperty(r,"forEach",{enumerable:!0,get:function(){function Mt(){return It(P).default}return Mt}()});var O=t(892);Object.defineProperty(r,"forwardEvent",{enumerable:!0,get:function(){function Mt(){return It(O).default}return Mt}()});var R=t(893);Object.defineProperty(r,"genomeLociToPixels",{enumerable:!0,get:function(){function Mt(){return It(R).default}return Mt}()});var I=t(894);Object.defineProperty(r,"genomicRangeToChromosomeChunks",{enumerable:!0,get:function(){function Mt(){return It(I).default}return Mt}()});var M=t(895);Object.defineProperty(r,"getDefaultTrackForDatatype",{enumerable:!0,get:function(){function Mt(){return It(M).default}return Mt}()});var H=t(896);Object.defineProperty(r,"getElementDim",{enumerable:!0,get:function(){function Mt(){return It(H).default}return Mt}()});var L=t(897);Object.defineProperty(r,"getTrackByUid",{enumerable:!0,get:function(){function Mt(){return It(L).default}return Mt}()});var D=t(898);Object.defineProperty(r,"getTrackConfFromHGC",{enumerable:!0,get:function(){function Mt(){return It(D).default}return Mt}()});var j=t(899);Object.defineProperty(r,"getTrackObjById",{enumerable:!0,get:function(){function Mt(){return It(j).default}return Mt}()});var W=t(900);Object.defineProperty(r,"getTrackPositionByUid",{enumerable:!0,get:function(){function Mt(){return It(W).default}return Mt}()});var B=t(441);Object.defineProperty(r,"getXylofon",{enumerable:!0,get:function(){function Mt(){return It(B).default}return Mt}()});var F=t(901);Object.defineProperty(r,"gradient",{enumerable:!0,get:function(){function Mt(){return It(F).default}return Mt}()});var N=t(221);Object.defineProperty(r,"hasClass",{enumerable:!0,get:function(){function Mt(){return It(N).default}return Mt}()});var X=t(902);Object.defineProperty(r,"hasParent",{enumerable:!0,get:function(){function Mt(){return It(X).default}return Mt}()});var G=t(903);Object.defineProperty(r,"hexStrToInt",{enumerable:!0,get:function(){function Mt(){return It(G).default}return Mt}()});var V=t(904);Object.defineProperty(r,"intoTheVoid",{enumerable:!0,get:function(){function Mt(){return It(V).default}return Mt}()});var z=t(905);Object.defineProperty(r,"isTrackOrChildTrack",{enumerable:!0,get:function(){function Mt(){return It(z).default}return Mt}()});var U=t(906);Object.defineProperty(r,"isWithin",{enumerable:!0,get:function(){function Mt(){return It(U).default}return Mt}()});var Z=t(907);Object.defineProperty(r,"latToY",{enumerable:!0,get:function(){function Mt(){return It(Z).default}return Mt}()});var st=t(908);Object.defineProperty(r,"loadChromInfos",{enumerable:!0,get:function(){function Mt(){return It(st).default}return Mt}()});var Y=t(909);Object.defineProperty(r,"lngToX",{enumerable:!0,get:function(){function Mt(){return It(Y).default}return Mt}()});var rt=t(442);Object.defineProperty(r,"map",{enumerable:!0,get:function(){function Mt(){return It(rt).default}return Mt}()});var ft=t(910);Object.defineProperty(r,"max",{enumerable:!0,get:function(){function Mt(){return It(ft).default}return Mt}()});var tt=t(911);Object.defineProperty(r,"maxNonZero",{enumerable:!0,get:function(){function Mt(){return It(tt).default}return Mt}()});var K=t(912);Object.defineProperty(r,"min",{enumerable:!0,get:function(){function Mt(){return It(K).default}return Mt}()});var Q=t(913);Object.defineProperty(r,"minNonZero",{enumerable:!0,get:function(){function Mt(){return It(Q).default}return Mt}()});var ct=t(914);Object.defineProperty(r,"mod",{enumerable:!0,get:function(){function Mt(){return It(ct).default}return Mt}()});var nt=t(915);Object.defineProperty(r,"ndarrayAssign",{enumerable:!0,get:function(){function Mt(){return It(nt).default}return Mt}()});var ot=t(916);Object.defineProperty(r,"ndarrayFlatten",{enumerable:!0,get:function(){function Mt(){return It(ot).default}return Mt}()});var yt=t(445);Object.defineProperty(r,"ndarrayToList",{enumerable:!0,get:function(){function Mt(){return It(yt).default}return Mt}()});var pt=t(917);Object.defineProperty(r,"numericifyVersion",{enumerable:!0,get:function(){function Mt(){return It(pt).default}return Mt}()});var dt=t(918);Object.defineProperty(r,"objVals",{enumerable:!0,get:function(){function Mt(){return It(dt).default}return Mt}()});var mt=t(919);Object.defineProperty(r,"or",{enumerable:!0,get:function(){function Mt(){return It(mt).default}return Mt}()});var q=t(920);Object.defineProperty(r,"parseChromsizesRows",{enumerable:!0,get:function(){function Mt(){return It(q).default}return Mt}()});var $=t(921);Object.defineProperty(r,"pixiTextToSvg",{enumerable:!0,get:function(){function Mt(){return It($).default}return Mt}()});var J=t(922);Object.defineProperty(r,"q",{enumerable:!0,get:function(){function Mt(){return It(J).default}return Mt}()});var lt=t(439);Object.defineProperty(r,"reduce",{enumerable:!0,get:function(){function Mt(){return It(lt).default}return Mt}()});var ut=t(923);Object.defineProperty(r,"rangeQuery2d",{enumerable:!0,get:function(){function Mt(){return It(ut).default}return Mt}()});var ht=t(924);Object.defineProperty(r,"relToAbsChromPos",{enumerable:!0,get:function(){function Mt(){return It(ht).default}return Mt}()});var bt=t(925);Object.defineProperty(r,"removeClass",{enumerable:!0,get:function(){function Mt(){return It(bt).default}return Mt}()});var kt=t(926);Object.defineProperty(r,"resetD3BrushStyle",{enumerable:!0,get:function(){function Mt(){return It(kt).default}return Mt}()});var vt=t(927);Object.defineProperty(r,"rgbToHex",{enumerable:!0,get:function(){function Mt(){return It(vt).default}return Mt}()});var Et=t(928);Object.defineProperty(r,"scalesCenterAndK",{enumerable:!0,get:function(){function Mt(){return It(Et).default}return Mt}()});var Rt=t(929);Object.defineProperty(r,"scalesToGenomeLoci",{enumerable:!0,get:function(){function Mt(){return It(Rt).default}return Mt}()});var Vt=t(930);Object.defineProperty(r,"showMousePosition",{enumerable:!0,get:function(){function Mt(){return It(Vt).default}return Mt}()});var ee=t(931);Object.defineProperty(r,"some",{enumerable:!0,get:function(){function Mt(){return It(ee).default}return Mt}()});var Tt=t(932);Object.defineProperty(r,"sum",{enumerable:!0,get:function(){function Mt(){return It(Tt).default}return Mt}()});var _t=t(933);Object.defineProperty(r,"svgLine",{enumerable:!0,get:function(){function Mt(){return It(_t).default}return Mt}()});var zt=t(934);Object.defineProperty(r,"throttleAndDebounce",{enumerable:!0,get:function(){function Mt(){return It(zt).default}return Mt}()});var oe=t(935);Object.defineProperty(r,"tileToCanvas",{enumerable:!0,get:function(){function Mt(){return It(oe).default}return Mt}()});var $t=t(936);Object.defineProperty(r,"timeout",{enumerable:!0,get:function(){function Mt(){return It($t).default}return Mt}()});var pe=t(937);Object.defineProperty(r,"totalTrackPixelHeight",{enumerable:!0,get:function(){function Mt(){return It(pe).default}return Mt}()});var Nt=t(171);Object.defineProperty(r,"toVoid",{enumerable:!0,get:function(){function Mt(){return It(Nt).default}return Mt}()});var se=t(938);Object.defineProperty(r,"trimTrailingSlash",{enumerable:!0,get:function(){function Mt(){return It(se).default}return Mt}()});var Gt=t(939);Object.defineProperty(r,"valueToColor",{enumerable:!0,get:function(){function Mt(){return It(Gt).default}return Mt}()});var gt=t(940);Object.defineProperty(r,"expandCombinedTracks",{enumerable:!0,get:function(){function Mt(){return It(gt).default}return Mt}()});var fe=t(941);Object.defineProperty(r,"segmentsToRows",{enumerable:!0,get:function(){function Mt(){return It(fe).default}return Mt}()});var Ct=t(443);Object.defineProperty(r,"visitPositionedTracks",{enumerable:!0,get:function(){function Mt(){return It(Ct).default}return Mt}()});var at=t(444);Object.defineProperty(r,"visitTracks",{enumerable:!0,get:function(){function Mt(){return It(at).default}return Mt}()});var St=t(943);Object.defineProperty(r,"trackUtils",{enumerable:!0,get:function(){function Mt(){return It(St).default}return Mt}()});var jt=t(137);Object.defineProperty(r,"DenseDataExtrema1D",{enumerable:!0,get:function(){function Mt(){return It(jt).default}return Mt}()});var Zt=t(138);Object.defineProperty(r,"DenseDataExtrema2D",{enumerable:!0,get:function(){function Mt(){return It(Zt).default}return Mt}()});var ue=t(446);Object.defineProperty(r,"getTrackObjectFromHGC",{enumerable:!0,get:function(){function Mt(){return ue.getTrackObjectFromHGC}return Mt}()}),Object.defineProperty(r,"getTrackRenderer",{enumerable:!0,get:function(){function Mt(){return ue.getTrackRenderer}return Mt}()}),Object.defineProperty(r,"getTiledPlot",{enumerable:!0,get:function(){function Mt(){return ue.getTiledPlot}return Mt}()});var ce=t(944);Object.defineProperty(r,"changeOptions",{enumerable:!0,get:function(){function Mt(){return ce.changeOptions}return Mt}()}),Object.defineProperty(r,"waitForJsonComplete",{enumerable:!0,get:function(){function Mt(){return ce.waitForJsonComplete}return Mt}()}),Object.defineProperty(r,"waitForTilesLoaded",{enumerable:!0,get:function(){function Mt(){return ce.waitForTilesLoaded}return Mt}()}),Object.defineProperty(r,"waitForTransitionsFinished",{enumerable:!0,get:function(){function Mt(){return ce.waitForTransitionsFinished}return Mt}()}),Object.defineProperty(r,"mountHGComponent",{enumerable:!0,get:function(){function Mt(){return ce.mountHGComponent}return Mt}()}),Object.defineProperty(r,"removeHGComponent",{enumerable:!0,get:function(){function Mt(){return ce.removeHGComponent}return Mt}()});function It(Mt){return Mt&&Mt.__esModule?Mt:{default:Mt}}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(327);Object.defineProperty(r,"THEME_LIGHT",{enumerable:!0,get:function(){function y(){return n.THEME_LIGHT}return y}()}),Object.defineProperty(r,"THEME_DARK",{enumerable:!0,get:function(){function y(){return n.THEME_DARK}return y}()}),Object.defineProperty(r,"THEME_DEFAULT",{enumerable:!0,get:function(){function y(){return n.THEME_DEFAULT}return y}()});var a=t(324);Object.defineProperty(r,"GLOBALS",{enumerable:!0,get:function(){function y(){return x(a).default}return y}()});var l=t(551);Object.defineProperty(r,"DATATYPE_TO_TRACK_TYPE",{enumerable:!0,get:function(){function y(){return x(l).default}return y}()});var e=t(552);Object.defineProperty(r,"HEATED_OBJECT_MAP",{enumerable:!0,get:function(){function y(){return x(e).default}return y}()});var o=t(553);Object.defineProperty(r,"IS_TRACK_RANGE_SELECTABLE",{enumerable:!0,get:function(){function y(){return x(o).default}return y}()});var s=t(554);Object.defineProperty(r,"OPTIONS_INFO",{enumerable:!0,get:function(){function y(){return x(s).default}return y}()});var u=t(880);Object.defineProperty(r,"TRACKS_INFO",{enumerable:!0,get:function(){function y(){return x(u).default}return y}()});var c=t(882);Object.defineProperty(r,"TRACKS_INFO_BY_TYPE",{enumerable:!0,get:function(){function y(){return x(c).default}return y}()});var m=t(883);Object.defineProperty(r,"POSITIONS_BY_DATATYPE",{enumerable:!0,get:function(){function y(){return x(m).default}return y}()});var p=t(884);Object.defineProperty(r,"DEFAULT_TRACKS_FOR_DATATYPE",{enumerable:!0,get:function(){function y(){return x(p).default}return y}()});var h=t(885);Object.defineProperty(r,"AVAILABLE_FOR_PLUGINS",{enumerable:!0,get:function(){function y(){return x(h).default}return y}()});var v=t(889);Object.defineProperty(r,"AVAILABLE_TRACK_TYPES",{enumerable:!0,get:function(){function y(){return x(v).default}return y}()});function x(y){return y&&y.__esModule?y:{default:y}}r.DEFAULT_VIEW_MARGIN=0,r.DEFAULT_VIEW_PADDING=5,r.DEFAULT_CONTAINER_PADDING_X=10,r.DEFAULT_CONTAINER_PADDING_Y=10,r.MAX_CLICK_DELAY=300,r.MOUSE_TOOL_MOVE="move",r.MOUSE_TOOL_SELECT="select",r.TILE_FETCH_DEBOUNCE=100,r.ZOOM_DEBOUNCE=10,r.SHORT_DRAG_TIMEOUT=110,r.LONG_DRAG_TIMEOUT=3e3,r.LOCATION_LISTENER_PREFIX="locationListenerPrefix",r.ZOOM_TRANSITION_DURATION=1e3,r.DEFAULT_SERVER="http://higlass.io/api/v1",r.VIEW_HEADER_MED_WIDTH_SEARCH_BAR=400,r.VIEW_HEADER_MIN_WIDTH_SEARCH_BAR=300,r.TRACK_LOCATIONS=["top","left","right","bottom","center","whole","gallery"],r.MIN_HORIZONTAL_HEIGHT=20,r.MIN_VERTICAL_WIDTH=20},function(f,r){var t=f.exports={version:"2.6.5"};typeof __e=="number"&&(__e=t)},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.ReactCSS=r.loop=r.handleActive=r.handleHover=r.hover=void 0;var n=t(731),a=x(n),l=t(797),e=x(l),o=t(816),s=x(o),u=t(817),c=x(u),m=t(818),p=x(m),h=t(819),v=x(h);function x(k){return k&&k.__esModule?k:{default:k}}r.hover=c.default,r.handleHover=c.default,r.handleActive=p.default,r.loop=v.default;var y=r.ReactCSS=function(k){for(var T=arguments.length,E=Array(T>1?T-1:0),_=1;_<T;_++)E[_-1]=arguments[_];var A=(0,a.default)(E),C=(0,e.default)(k,A);return(0,s.default)(C)};r.default=y},function(f,r,t){r.__esModule=!0;var n=t(5),a=o(n),l=t(612),e=o(l);function o(s){return s&&s.__esModule?s:{default:s}}r.default=function s(u,c,m){u===null&&(u=Function.prototype);var p=(0,e.default)(u,c);if(p===void 0){var h=(0,a.default)(u);return h===null?void 0:s(h,c,m)}else{if("value"in p)return p.value;var v=p.get;return v===void 0?void 0:v.call(m)}}},function(f,r,t){var n=t(9),a=function(Y){return function(){return Y}};function l(Y,rt){return function(ft){return Y+ft*rt}}function e(Y,rt,ft){return Y=Math.pow(Y,ft),rt=Math.pow(rt,ft)-Y,ft=1/ft,function(tt){return Math.pow(Y+tt*rt,ft)}}function o(Y,rt){var ft=rt-Y;return ft?l(Y,ft>180||ft<-180?ft-360*Math.round(ft/360):ft):a(isNaN(Y)?rt:Y)}function s(Y){return(Y=+Y)==1?u:function(rt,ft){return ft-rt?e(rt,ft,Y):a(isNaN(rt)?ft:rt)}}function u(Y,rt){var ft=rt-Y;return ft?l(Y,ft):a(isNaN(Y)?rt:Y)}var c=function Y(rt){var ft=s(rt);function tt(K,Q){var ct=ft((K=Object(n.rgb)(K)).r,(Q=Object(n.rgb)(Q)).r),nt=ft(K.g,Q.g),ot=ft(K.b,Q.b),yt=u(K.opacity,Q.opacity);return function(pt){return K.r=ct(pt),K.g=nt(pt),K.b=ot(pt),K.opacity=yt(pt),K+""}}return tt.gamma=Y,tt}(1),m=function(Y,rt){var ft=rt?rt.length:0,tt=Y?Math.min(ft,Y.length):0,K=new Array(tt),Q=new Array(ft),ct;for(ct=0;ct<tt;++ct)K[ct]=_(Y[ct],rt[ct]);for(;ct<ft;++ct)Q[ct]=rt[ct];return function(nt){for(ct=0;ct<tt;++ct)Q[ct]=K[ct](nt);return Q}},p=function(Y,rt){var ft=new Date;return Y=+Y,rt-=Y,function(tt){return ft.setTime(Y+rt*tt),ft}},h=function(Y,rt){return Y=+Y,rt-=Y,function(ft){return Y+rt*ft}},v=function(Y,rt){var ft={},tt={},K;(Y===null||typeof Y!="object")&&(Y={}),(rt===null||typeof rt!="object")&&(rt={});for(K in rt)K in Y?ft[K]=_(Y[K],rt[K]):tt[K]=rt[K];return function(Q){for(K in ft)tt[K]=ft[K](Q);return tt}},x=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,y=new RegExp(x.source,"g");function k(Y){return function(){return Y}}function T(Y){return function(rt){return Y(rt)+""}}var E=function(Y,rt){var ft=x.lastIndex=y.lastIndex=0,tt,K,Q,ct=-1,nt=[],ot=[];for(Y=Y+"",rt=rt+"";(tt=x.exec(Y))&&(K=y.exec(rt));)(Q=K.index)>ft&&(Q=rt.slice(ft,Q),nt[ct]?nt[ct]+=Q:nt[++ct]=Q),(tt=tt[0])===(K=K[0])?nt[ct]?nt[ct]+=K:nt[++ct]=K:(nt[++ct]=null,ot.push({i:ct,x:h(tt,K)})),ft=y.lastIndex;return ft<rt.length&&(Q=rt.slice(ft),nt[ct]?nt[ct]+=Q:nt[++ct]=Q),nt.length<2?ot[0]?T(ot[0].x):k(rt):(rt=ot.length,function(yt){for(var pt=0,dt;pt<rt;++pt)nt[(dt=ot[pt]).i]=dt.x(yt);return nt.join("")})},_=function(Y,rt){var ft=typeof rt,tt;return rt==null||ft==="boolean"?a(rt):(ft==="number"?h:ft==="string"?(tt=Object(n.color)(rt))?(rt=tt,c):E:rt instanceof n.color?c:rt instanceof Date?p:Array.isArray(rt)?m:typeof rt.valueOf!="function"&&typeof rt.toString!="function"||isNaN(rt)?v:h)(Y,rt)},A=function(Y,rt){return Y=+Y,rt-=Y,function(ft){return Math.round(Y+rt*ft)}},C=180/Math.PI,S={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},P=function(Y,rt,ft,tt,K,Q){var ct,nt,ot;return(ct=Math.sqrt(Y*Y+rt*rt))&&(Y/=ct,rt/=ct),(ot=Y*ft+rt*tt)&&(ft-=Y*ot,tt-=rt*ot),(nt=Math.sqrt(ft*ft+tt*tt))&&(ft/=nt,tt/=nt,ot/=nt),Y*tt<rt*ft&&(Y=-Y,rt=-rt,ot=-ot,ct=-ct),{translateX:K,translateY:Q,rotate:Math.atan2(rt,Y)*C,skewX:Math.atan(ot)*C,scaleX:ct,scaleY:nt}},O,R,I,M;function H(Y){return Y==="none"?S:(O||(O=document.createElement("DIV"),R=document.documentElement,I=document.defaultView),O.style.transform=Y,Y=I.getComputedStyle(R.appendChild(O),null).getPropertyValue("transform"),R.removeChild(O),Y=Y.slice(7,-1).split(","),P(+Y[0],+Y[1],+Y[2],+Y[3],+Y[4],+Y[5]))}function L(Y){return Y==null||(M||(M=document.createElementNS("http://www.w3.org/2000/svg","g")),M.setAttribute("transform",Y),!(Y=M.transform.baseVal.consolidate()))?S:(Y=Y.matrix,P(Y.a,Y.b,Y.c,Y.d,Y.e,Y.f))}function D(Y,rt,ft,tt){function K(yt){return yt.length?yt.pop()+" ":""}function Q(yt,pt,dt,mt,q,$){if(yt!==dt||pt!==mt){var J=q.push("translate(",null,rt,null,ft);$.push({i:J-4,x:h(yt,dt)},{i:J-2,x:h(pt,mt)})}else(dt||mt)&&q.push("translate("+dt+rt+mt+ft)}function ct(yt,pt,dt,mt){yt!==pt?(yt-pt>180?pt+=360:pt-yt>180&&(yt+=360),mt.push({i:dt.push(K(dt)+"rotate(",null,tt)-2,x:h(yt,pt)})):pt&&dt.push(K(dt)+"rotate("+pt+tt)}function nt(yt,pt,dt,mt){yt!==pt?mt.push({i:dt.push(K(dt)+"skewX(",null,tt)-2,x:h(yt,pt)}):pt&&dt.push(K(dt)+"skewX("+pt+tt)}function ot(yt,pt,dt,mt,q,$){if(yt!==dt||pt!==mt){var J=q.push(K(q)+"scale(",null,",",null,")");$.push({i:J-4,x:h(yt,dt)},{i:J-2,x:h(pt,mt)})}else(dt!==1||mt!==1)&&q.push(K(q)+"scale("+dt+","+mt+")")}return function(yt,pt){var dt=[],mt=[];return yt=Y(yt),pt=Y(pt),Q(yt.translateX,yt.translateY,pt.translateX,pt.translateY,dt,mt),ct(yt.rotate,pt.rotate,dt,mt),nt(yt.skewX,pt.skewX,dt,mt),ot(yt.scaleX,yt.scaleY,pt.scaleX,pt.scaleY,dt,mt),yt=pt=null,function(q){for(var $=-1,J=mt.length,lt;++$<J;)dt[(lt=mt[$]).i]=lt.x(q);return dt.join("")}}}var j=D(H,"px, ","px)","deg)"),W=D(L,", ",")",")"),B=Math.SQRT2,F=2,N=4,X=1e-12;function G(Y){return((Y=Math.exp(Y))+1/Y)/2}function V(Y){return((Y=Math.exp(Y))-1/Y)/2}function z(Y){return((Y=Math.exp(2*Y))-1)/(Y+1)}var U=function(Y,rt){var ft=Y[0],tt=Y[1],K=Y[2],Q=rt[0],ct=rt[1],nt=rt[2],ot=Q-ft,yt=ct-tt,pt=ot*ot+yt*yt,dt,mt;if(pt<X)mt=Math.log(nt/K)/B,dt=function(ht){return[ft+ht*ot,tt+ht*yt,K*Math.exp(B*ht*mt)]};else{var q=Math.sqrt(pt),$=(nt*nt-K*K+N*pt)/(2*K*F*q),J=(nt*nt-K*K-N*pt)/(2*nt*F*q),lt=Math.log(Math.sqrt($*$+1)-$),ut=Math.log(Math.sqrt(J*J+1)-J);mt=(ut-lt)/B,dt=function(ht){var bt=ht*mt,kt=G(lt),vt=K/(F*q)*(kt*z(B*bt+lt)-V(lt));return[ft+vt*ot,tt+vt*yt,K*kt/G(B*bt+lt)]}}return dt.duration=mt*1e3,dt};function Z(Y){return function rt(ft){ft=+ft;function tt(K,Q){var ct=Y((K=Object(n.cubehelix)(K)).h,(Q=Object(n.cubehelix)(Q)).h),nt=u(K.s,Q.s),ot=u(K.l,Q.l),yt=u(K.opacity,Q.opacity);return function(pt){return K.h=ct(pt),K.s=nt(pt),K.l=ot(Math.pow(pt,ft)),K.opacity=yt(pt),K+""}}return tt.gamma=rt,tt}(1)}Z(o);var st=Z(u);t.d(r,"a",function(){return _}),t.d(r,"c",function(){return h}),t.d(r,"e",function(){return A}),t.d(r,"f",function(){return E}),t.d(r,"g",function(){return j}),t.d(r,"h",function(){return W}),t.d(r,"i",function(){return U}),t.d(r,"d",function(){return c}),t.d(r,"b",function(){return st})},function(f,r,t){var n=t(23),a=t(12),l=t(49),e=t(43),o=t(47),s="prototype",u=function(c,m,p){var h=c&u.F,v=c&u.G,x=c&u.S,y=c&u.P,k=c&u.B,T=c&u.W,E=v?a:a[m]||(a[m]={}),_=E[s],A=v?n:x?n[m]:(n[m]||{})[s],C,S,P;v&&(p=m);for(C in p)S=!h&&A&&A[C]!==void 0,!(S&&o(E,C))&&(P=S?A[C]:p[C],E[C]=v&&typeof A[C]!="function"?p[C]:k&&S?l(P,n):T&&A[C]==P?function(O){var R=function(I,M,H){if(this instanceof O){switch(arguments.length){case 0:return new O;case 1:return new O(I);case 2:return new O(I,M)}return new O(I,M,H)}return O.apply(this,arguments)};return R[s]=O[s],R}(P):y&&typeof P=="function"?l(Function.call,P):P,y&&((E.virtual||(E.virtual={}))[C]=P,c&u.R&&_&&!_[C]&&e(_,C,P)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,f.exports=u},function(f,r,t){f.exports={default:t(216),__esModule:!0}},function(f,r,t){f.exports={default:t(208),__esModule:!0}},function(f,r,t){r.__esModule=!0;var n=t(516),a=o(n),l=t(17),e=o(l);function o(s){return s&&s.__esModule?s:{default:s}}r.default=function(){function s(u,c){var m=[],p=!0,h=!1,v=void 0;try{for(var x=(0,e.default)(u),y;!(p=(y=x.next()).done)&&(m.push(y.value),!(c&&m.length===c));p=!0);}catch(k){h=!0,v=k}finally{try{!p&&x.return&&x.return()}finally{if(h)throw v}}return m}return function(u,c){if(Array.isArray(u))return u;if((0,a.default)(Object(u)))return s(u,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(f,r,t){t.r(r);var n=function(O,R){if((I=(O=R?O.toExponential(R-1):O.toExponential()).indexOf("e"))<0)return null;var I,M=O.slice(0,I);return[M.length>1?M[0]+M.slice(2):M,+O.slice(I+1)]},a=function(O){return O=n(Math.abs(O)),O?O[1]:NaN},l=function(O,R){return function(I,M){for(var H=I.length,L=[],D=0,j=O[0],W=0;H>0&&j>0&&(W+j+1>M&&(j=Math.max(1,M-W)),L.push(I.substring(H-=j,H+j)),!((W+=j+1)>M));)j=O[D=(D+1)%O.length];return L.reverse().join(R)}},e=function(O){return function(R){return R.replace(/[0-9]/g,function(I){return O[+I]})}},o=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function s(O){return new u(O)}s.prototype=u.prototype;function u(O){if(!(R=o.exec(O)))throw new Error("invalid format: "+O);var R;this.fill=R[1]||" ",this.align=R[2]||">",this.sign=R[3]||"-",this.symbol=R[4]||"",this.zero=!!R[5],this.width=R[6]&&+R[6],this.comma=!!R[7],this.precision=R[8]&&+R[8].slice(1),this.trim=!!R[9],this.type=R[10]||""}u.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width==null?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision==null?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var c=function(O){t:for(var R=O.length,I=1,M=-1,H;I<R;++I)switch(O[I]){case".":M=H=I;break;case"0":M===0&&(M=I),H=I;break;default:if(M>0){if(!+O[I])break t;M=0}break}return M>0?O.slice(0,M)+O.slice(H+1):O},m,p=function(O,R){var I=n(O,R);if(!I)return O+"";var M=I[0],H=I[1],L=H-(m=Math.max(-8,Math.min(8,Math.floor(H/3)))*3)+1,D=M.length;return L===D?M:L>D?M+new Array(L-D+1).join("0"):L>0?M.slice(0,L)+"."+M.slice(L):"0."+new Array(1-L).join("0")+n(O,Math.max(0,R+L-1))[0]},h=function(O,R){var I=n(O,R);if(!I)return O+"";var M=I[0],H=I[1];return H<0?"0."+new Array(-H).join("0")+M:M.length>H+1?M.slice(0,H+1)+"."+M.slice(H+1):M+new Array(H-M.length+2).join("0")},v={"%":function(O,R){return(O*100).toFixed(R)},b:function(O){return Math.round(O).toString(2)},c:function(O){return O+""},d:function(O){return Math.round(O).toString(10)},e:function(O,R){return O.toExponential(R)},f:function(O,R){return O.toFixed(R)},g:function(O,R){return O.toPrecision(R)},o:function(O){return Math.round(O).toString(8)},p:function(O,R){return h(O*100,R)},r:h,s:p,X:function(O){return Math.round(O).toString(16).toUpperCase()},x:function(O){return Math.round(O).toString(16)}},x=function(O){return O},y=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],k=function(O){var R=O.grouping&&O.thousands?l(O.grouping,O.thousands):x,I=O.currency,M=O.decimal,H=O.numerals?e(O.numerals):x,L=O.percent||"%";function D(W){W=s(W);var B=W.fill,F=W.align,N=W.sign,X=W.symbol,G=W.zero,V=W.width,z=W.comma,U=W.precision,Z=W.trim,st=W.type;st==="n"?(z=!0,st="g"):v[st]||(U==null&&(U=12),Z=!0,st="g"),(G||B==="0"&&F==="=")&&(G=!0,B="0",F="=");var Y=X==="$"?I[0]:X==="#"&&/[boxX]/.test(st)?"0"+st.toLowerCase():"",rt=X==="$"?I[1]:/[%p]/.test(st)?L:"",ft=v[st],tt=/[defgprs%]/.test(st);U=U==null?6:/[gprs]/.test(st)?Math.max(1,Math.min(21,U)):Math.max(0,Math.min(20,U));function K(Q){var ct=Y,nt=rt,ot,yt,pt;if(st==="c")nt=ft(Q)+nt,Q="";else{Q=+Q;var dt=Q<0;if(Q=ft(Math.abs(Q),U),Z&&(Q=c(Q)),dt&&+Q==0&&(dt=!1),ct=(dt?N==="("?N:"-":N==="-"||N==="("?"":N)+ct,nt=(st==="s"?y[8+m/3]:"")+nt+(dt&&N==="("?")":""),tt){for(ot=-1,yt=Q.length;++ot<yt;)if(pt=Q.charCodeAt(ot),48>pt||pt>57){nt=(pt===46?M+Q.slice(ot+1):Q.slice(ot))+nt,Q=Q.slice(0,ot);break}}}z&&!G&&(Q=R(Q,1/0));var mt=ct.length+Q.length+nt.length,q=mt<V?new Array(V-mt+1).join(B):"";switch(z&&G&&(Q=R(q+Q,q.length?V-nt.length:1/0),q=""),F){case"<":Q=ct+Q+nt+q;break;case"=":Q=ct+q+Q+nt;break;case"^":Q=q.slice(0,mt=q.length>>1)+ct+Q+nt+q.slice(mt);break;default:Q=q+ct+Q+nt;break}return H(Q)}return K.toString=function(){return W+""},K}function j(W,B){var F=D((W=s(W),W.type="f",W)),N=Math.max(-8,Math.min(8,Math.floor(a(B)/3)))*3,X=Math.pow(10,-N),G=y[8+N/3];return function(V){return F(X*V)+G}}return{format:D,formatPrefix:j}},T,E,_;A({decimal:".",thousands:",",grouping:[3],currency:["$",""]});function A(O){return T=k(O),E=T.format,_=T.formatPrefix,T}var C=function(O){return Math.max(0,-a(Math.abs(O)))},S=function(O,R){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(a(R)/3)))*3-a(Math.abs(O)))},P=function(O,R){return O=Math.abs(O),R=Math.abs(R)-O,Math.max(0,a(R)-a(O))+1};t.d(r,"formatDefaultLocale",function(){return A}),t.d(r,"format",function(){return E}),t.d(r,"formatPrefix",function(){return _}),t.d(r,"formatLocale",function(){return k}),t.d(r,"formatSpecifier",function(){return s}),t.d(r,"precisionFixed",function(){return C}),t.d(r,"precisionPrefix",function(){return S}),t.d(r,"precisionRound",function(){return P})},function(f,r,t){var n=t(106)("wks"),a=t(91),l=t(23).Symbol,e=typeof l=="function",o=f.exports=function(s){return n[s]||(n[s]=e&&l[s]||(e?l:a)("Symbol."+s))};o.store=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(822);Object.defineProperty(r,"Alpha",{enumerable:!0,get:function(){return m(n).default}});var a=t(289);Object.defineProperty(r,"Checkboard",{enumerable:!0,get:function(){return m(a).default}});var l=t(825);Object.defineProperty(r,"EditableInput",{enumerable:!0,get:function(){return m(l).default}});var e=t(826);Object.defineProperty(r,"Hue",{enumerable:!0,get:function(){return m(e).default}});var o=t(828);Object.defineProperty(r,"Raised",{enumerable:!0,get:function(){return m(o).default}});var s=t(835);Object.defineProperty(r,"Saturation",{enumerable:!0,get:function(){return m(s).default}});var u=t(437);Object.defineProperty(r,"ColorWrap",{enumerable:!0,get:function(){return m(u).default}});var c=t(841);Object.defineProperty(r,"Swatch",{enumerable:!0,get:function(){return m(c).default}});function m(p){return p&&p.__esModule?p:{default:p}}},function(f,r){var t=f.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=t)},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(519);Object.defineProperty(r,"chromInfo",{enumerable:!0,get:function(){function s(){return o(n).default}return s}()});var a=t(1077);Object.defineProperty(r,"createDomEvent",{enumerable:!0,get:function(){function s(){return o(a).default}return s}()});var l=t(440);Object.defineProperty(r,"ElementResizeListener",{enumerable:!0,get:function(){function s(){return o(l).default}return s}()});var e=t(1078);Object.defineProperty(r,"tileProxy",{enumerable:!0,get:function(){function s(){return o(e).default}return s}()}),Object.defineProperty(r,"requestsInFlight",{enumerable:!0,get:function(){function s(){return e.requestsInFlight}return s}()}),Object.defineProperty(r,"setTileProxyAuthHeader",{enumerable:!0,get:function(){function s(){return e.setTileProxyAuthHeader}return s}()}),Object.defineProperty(r,"getTileProxyAuthHeader",{enumerable:!0,get:function(){function s(){return e.getTileProxyAuthHeader}return s}()}),Object.defineProperty(r,"authHeader",{enumerable:!0,get:function(){function s(){return e.authHeader}return s}()});function o(s){return s&&s.__esModule?s:{default:s}}},function(f,r,t){r.__esModule=!0;var n=t(95),a=l(n);function l(e){return e&&e.__esModule?e:{default:e}}r.default=function(e){if(Array.isArray(e)){for(var o=0,s=Array(e.length);o<e.length;o++)s[o]=e[o];return s}else return(0,a.default)(e)}},function(f,r,t){f.exports=t(587)},function(f,r){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch{typeof window=="object"&&(t=window)}f.exports=t},function(f,r,t){t.r(r);var n=t(8),a=t(72),l=Array.prototype,e=l.map,o=l.slice,s={name:"implicit"};function u(Lt){var re=Object(a.a)(),be=[],Se=s;Lt=Lt==null?[]:o.call(Lt);function De(Me){var Le=Me+"",Qe=re.get(Le);if(!Qe){if(Se!==s)return Se;re.set(Le,Qe=be.push(Me))}return Lt[(Qe-1)%Lt.length]}return De.domain=function(Me){if(!arguments.length)return be.slice();be=[],re=Object(a.a)();for(var Le=-1,Qe=Me.length,rn,Ln;++Le<Qe;)re.has(Ln=(rn=Me[Le])+"")||re.set(Ln,be.push(rn));return De},De.range=function(Me){return arguments.length?(Lt=o.call(Me),De):Lt.slice()},De.unknown=function(Me){return arguments.length?(Se=Me,De):Se},De.copy=function(){return u().domain(be).range(Lt).unknown(Se)},De}function c(){var Lt=u().unknown(void 0),re=Lt.domain,be=Lt.range,Se=[0,1],De,Me,Le=!1,Qe=0,rn=0,Ln=.5;delete Lt.unknown;function sr(){var wn=re().length,Hr=Se[1]<Se[0],Br=Se[Hr-0],Fr=Se[1-Hr];De=(Fr-Br)/Math.max(1,wn-Qe+rn*2),Le&&(De=Math.floor(De)),Br+=(Fr-Br-De*(wn-Qe))*Ln,Me=De*(1-Qe),Le&&(Br=Math.round(Br),Me=Math.round(Me));var Ir=Object(n.range)(wn).map(function(mi){return Br+De*mi});return be(Hr?Ir.reverse():Ir)}return Lt.domain=function(wn){return arguments.length?(re(wn),sr()):re()},Lt.range=function(wn){return arguments.length?(Se=[+wn[0],+wn[1]],sr()):Se.slice()},Lt.rangeRound=function(wn){return Se=[+wn[0],+wn[1]],Le=!0,sr()},Lt.bandwidth=function(){return Me},Lt.step=function(){return De},Lt.round=function(wn){return arguments.length?(Le=!!wn,sr()):Le},Lt.padding=function(wn){return arguments.length?(Qe=rn=Math.max(0,Math.min(1,wn)),sr()):Qe},Lt.paddingInner=function(wn){return arguments.length?(Qe=Math.max(0,Math.min(1,wn)),sr()):Qe},Lt.paddingOuter=function(wn){return arguments.length?(rn=Math.max(0,Math.min(1,wn)),sr()):rn},Lt.align=function(wn){return arguments.length?(Ln=Math.max(0,Math.min(1,wn)),sr()):Ln},Lt.copy=function(){return c().domain(re()).range(Se).round(Le).paddingInner(Qe).paddingOuter(rn).align(Ln)},sr()}function m(Lt){var re=Lt.copy;return Lt.padding=Lt.paddingOuter,delete Lt.paddingInner,delete Lt.paddingOuter,Lt.copy=function(){return m(re())},Lt}function p(){return m(c().paddingInner(1))}var h=t(15),v=function(Lt){return function(){return Lt}},x=function(Lt){return+Lt},y=[0,1];function k(Lt,re){return(re-=Lt=+Lt)?function(be){return(be-Lt)/re}:v(re)}function T(Lt){return function(re,be){var Se=Lt(re=+re,be=+be);return function(De){return De<=re?0:De>=be?1:Se(De)}}}function E(Lt){return function(re,be){var Se=Lt(re=+re,be=+be);return function(De){return De<=0?re:De>=1?be:Se(De)}}}function _(Lt,re,be,Se){var De=Lt[0],Me=Lt[1],Le=re[0],Qe=re[1];return Me<De?(De=be(Me,De),Le=Se(Qe,Le)):(De=be(De,Me),Le=Se(Le,Qe)),function(rn){return Le(De(rn))}}function A(Lt,re,be,Se){var De=Math.min(Lt.length,re.length)-1,Me=new Array(De),Le=new Array(De),Qe=-1;for(Lt[De]<Lt[0]&&(Lt=Lt.slice().reverse(),re=re.slice().reverse());++Qe<De;)Me[Qe]=be(Lt[Qe],Lt[Qe+1]),Le[Qe]=Se(re[Qe],re[Qe+1]);return function(rn){var Ln=Object(n.bisect)(Lt,rn,1,De)-1;return Le[Ln](Me[Ln](rn))}}function C(Lt,re){return re.domain(Lt.domain()).range(Lt.range()).interpolate(Lt.interpolate()).clamp(Lt.clamp())}function S(Lt,re){var be=y,Se=y,De=h.a,Me=!1,Le,Qe,rn;function Ln(){return Le=Math.min(be.length,Se.length)>2?A:_,Qe=rn=null,sr}function sr(wn){return(Qe||(Qe=Le(be,Se,Me?T(Lt):Lt,De)))(+wn)}return sr.invert=function(wn){return(rn||(rn=Le(Se,be,k,Me?E(re):re)))(+wn)},sr.domain=function(wn){return arguments.length?(be=e.call(wn,x),Ln()):be.slice()},sr.range=function(wn){return arguments.length?(Se=o.call(wn),Ln()):Se.slice()},sr.rangeRound=function(wn){return Se=o.call(wn),De=h.e,Ln()},sr.clamp=function(wn){return arguments.length?(Me=!!wn,Ln()):Me},sr.interpolate=function(wn){return arguments.length?(De=wn,Ln()):De},Ln()}var P=t(20),O=function(Lt,re,be){var Se=Lt[0],De=Lt[Lt.length-1],Me=Object(n.tickStep)(Se,De,re??10),Le;switch(be=Object(P.formatSpecifier)(be??",f"),be.type){case"s":{var Qe=Math.max(Math.abs(Se),Math.abs(De));return be.precision==null&&!isNaN(Le=Object(P.precisionPrefix)(Me,Qe))&&(be.precision=Le),Object(P.formatPrefix)(be,Qe)}case"":case"e":case"g":case"p":case"r":{be.precision==null&&!isNaN(Le=Object(P.precisionRound)(Me,Math.max(Math.abs(Se),Math.abs(De))))&&(be.precision=Le-(be.type==="e"));break}case"f":case"%":{be.precision==null&&!isNaN(Le=Object(P.precisionFixed)(Me))&&(be.precision=Le-(be.type==="%")*2);break}}return Object(P.format)(be)};function R(Lt){var re=Lt.domain;return Lt.ticks=function(be){var Se=re();return Object(n.ticks)(Se[0],Se[Se.length-1],be??10)},Lt.tickFormat=function(be,Se){return O(re(),be,Se)},Lt.nice=function(be){be==null&&(be=10);var Se=re(),De=0,Me=Se.length-1,Le=Se[De],Qe=Se[Me],rn;return Qe<Le&&(rn=Le,Le=Qe,Qe=rn,rn=De,De=Me,Me=rn),rn=Object(n.tickIncrement)(Le,Qe,be),rn>0?(Le=Math.floor(Le/rn)*rn,Qe=Math.ceil(Qe/rn)*rn,rn=Object(n.tickIncrement)(Le,Qe,be)):rn<0&&(Le=Math.ceil(Le*rn)/rn,Qe=Math.floor(Qe*rn)/rn,rn=Object(n.tickIncrement)(Le,Qe,be)),rn>0?(Se[De]=Math.floor(Le/rn)*rn,Se[Me]=Math.ceil(Qe/rn)*rn,re(Se)):rn<0&&(Se[De]=Math.ceil(Le*rn)/rn,Se[Me]=Math.floor(Qe*rn)/rn,re(Se)),Lt},Lt}function I(){var Lt=S(k,h.c);return Lt.copy=function(){return C(Lt,I())},R(Lt)}function M(){var Lt=[0,1];function re(be){return+be}return re.invert=re,re.domain=re.range=function(be){return arguments.length?(Lt=e.call(be,x),re):Lt.slice()},re.copy=function(){return M().domain(Lt)},R(re)}var H=function(Lt,re){Lt=Lt.slice();var be=0,Se=Lt.length-1,De=Lt[be],Me=Lt[Se],Le;return Me<De&&(Le=be,be=Se,Se=Le,Le=De,De=Me,Me=Le),Lt[be]=re.floor(De),Lt[Se]=re.ceil(Me),Lt};function L(Lt,re){return(re=Math.log(re/Lt))?function(be){return Math.log(be/Lt)/re}:v(re)}function D(Lt,re){return Lt<0?function(be){return-Math.pow(-re,be)*Math.pow(-Lt,1-be)}:function(be){return Math.pow(re,be)*Math.pow(Lt,1-be)}}function j(Lt){return isFinite(Lt)?+("1e"+Lt):Lt<0?0:Lt}function W(Lt){return Lt===10?j:Lt===Math.E?Math.exp:function(re){return Math.pow(Lt,re)}}function B(Lt){return Lt===Math.E?Math.log:Lt===10&&Math.log10||Lt===2&&Math.log2||(Lt=Math.log(Lt),function(re){return Math.log(re)/Lt})}function F(Lt){return function(re){return-Lt(-re)}}function N(){var Lt=S(L,D).domain([1,10]),re=Lt.domain,be=10,Se=B(10),De=W(10);function Me(){return Se=B(be),De=W(be),re()[0]<0&&(Se=F(Se),De=F(De)),Lt}return Lt.base=function(Le){return arguments.length?(be=+Le,Me()):be},Lt.domain=function(Le){return arguments.length?(re(Le),Me()):re()},Lt.ticks=function(Le){var Qe=re(),rn=Qe[0],Ln=Qe[Qe.length-1],sr;(sr=Ln<rn)&&(wn=rn,rn=Ln,Ln=wn);var wn=Se(rn),Hr=Se(Ln),Br,Fr,Ir,mi=Le==null?10:+Le,ai=[];if(!(be%1)&&Hr-wn<mi){if(wn=Math.round(wn)-1,Hr=Math.round(Hr)+1,rn>0){for(;wn<Hr;++wn)for(Fr=1,Br=De(wn);Fr<be;++Fr)if(Ir=Br*Fr,!(Ir<rn)){if(Ir>Ln)break;ai.push(Ir)}}else for(;wn<Hr;++wn)for(Fr=be-1,Br=De(wn);Fr>=1;--Fr)if(Ir=Br*Fr,!(Ir<rn)){if(Ir>Ln)break;ai.push(Ir)}}else ai=Object(n.ticks)(wn,Hr,Math.min(Hr-wn,mi)).map(De);return sr?ai.reverse():ai},Lt.tickFormat=function(Le,Qe){if(Qe==null&&(Qe=be===10?".0e":","),typeof Qe!="function"&&(Qe=Object(P.format)(Qe)),Le===1/0)return Qe;Le==null&&(Le=10);var rn=Math.max(1,be*Le/Lt.ticks().length);return function(Ln){var sr=Ln/De(Math.round(Se(Ln)));return sr*be<be-.5&&(sr*=be),sr<=rn?Qe(Ln):""}},Lt.nice=function(){return re(H(re(),{floor:function(Le){return De(Math.floor(Se(Le)))},ceil:function(Le){return De(Math.ceil(Se(Le)))}}))},Lt.copy=function(){return C(Lt,N().base(be))},Lt}function X(Lt,re){return Lt<0?-Math.pow(-Lt,re):Math.pow(Lt,re)}function G(){var Lt=1,re=S(Se,De),be=re.domain;function Se(Me,Le){return(Le=X(Le,Lt)-(Me=X(Me,Lt)))?function(Qe){return(X(Qe,Lt)-Me)/Le}:v(Le)}function De(Me,Le){return Le=X(Le,Lt)-(Me=X(Me,Lt)),function(Qe){return X(Me+Le*Qe,1/Lt)}}return re.exponent=function(Me){return arguments.length?(Lt=+Me,be(be())):Lt},re.copy=function(){return C(re,G().exponent(Lt))},R(re)}function V(){return G().exponent(.5)}function z(){var Lt=[],re=[],be=[];function Se(){var Me=0,Le=Math.max(1,re.length);for(be=new Array(Le-1);++Me<Le;)be[Me-1]=Object(n.quantile)(Lt,Me/Le);return De}function De(Me){if(!isNaN(Me=+Me))return re[Object(n.bisect)(be,Me)]}return De.invertExtent=function(Me){var Le=re.indexOf(Me);return Le<0?[NaN,NaN]:[Le>0?be[Le-1]:Lt[0],Le<be.length?be[Le]:Lt[Lt.length-1]]},De.domain=function(Me){if(!arguments.length)return Lt.slice();Lt=[];for(var Le=0,Qe=Me.length,rn;Le<Qe;++Le)rn=Me[Le],rn!=null&&!isNaN(rn=+rn)&&Lt.push(rn);return Lt.sort(n.ascending),Se()},De.range=function(Me){return arguments.length?(re=o.call(Me),Se()):re.slice()},De.quantiles=function(){return be.slice()},De.copy=function(){return z().domain(Lt).range(re)},De}function U(){var Lt=0,re=1,be=1,Se=[.5],De=[0,1];function Me(Qe){if(Qe<=Qe)return De[Object(n.bisect)(Se,Qe,0,be)]}function Le(){var Qe=-1;for(Se=new Array(be);++Qe<be;)Se[Qe]=((Qe+1)*re-(Qe-be)*Lt)/(be+1);return Me}return Me.domain=function(Qe){return arguments.length?(Lt=+Qe[0],re=+Qe[1],Le()):[Lt,re]},Me.range=function(Qe){return arguments.length?(be=(De=o.call(Qe)).length-1,Le()):De.slice()},Me.invertExtent=function(Qe){var rn=De.indexOf(Qe);return rn<0?[NaN,NaN]:rn<1?[Lt,Se[0]]:rn>=be?[Se[be-1],re]:[Se[rn-1],Se[rn]]},Me.copy=function(){return U().domain([Lt,re]).range(De)},R(Me)}function Z(){var Lt=[.5],re=[0,1],be=1;function Se(De){if(De<=De)return re[Object(n.bisect)(Lt,De,0,be)]}return Se.domain=function(De){return arguments.length?(Lt=o.call(De),be=Math.min(Lt.length,re.length-1),Se):Lt.slice()},Se.range=function(De){return arguments.length?(re=o.call(De),be=Math.min(Lt.length,re.length-1),Se):re.slice()},Se.invertExtent=function(De){var Me=re.indexOf(De);return[Lt[Me-1],Lt[Me]]},Se.copy=function(){return Z().domain(Lt).range(re)},Se}var st=new Date,Y=new Date;function rt(Lt,re,be,Se){function De(Me){return Lt(Me=new Date(+Me)),Me}return De.floor=De,De.ceil=function(Me){return Lt(Me=new Date(Me-1)),re(Me,1),Lt(Me),Me},De.round=function(Me){var Le=De(Me),Qe=De.ceil(Me);return Me-Le<Qe-Me?Le:Qe},De.offset=function(Me,Le){return re(Me=new Date(+Me),Le==null?1:Math.floor(Le)),Me},De.range=function(Me,Le,Qe){var rn=[],Ln;if(Me=De.ceil(Me),Qe=Qe==null?1:Math.floor(Qe),!(Me<Le)||!(Qe>0))return rn;do rn.push(Ln=new Date(+Me)),re(Me,Qe),Lt(Me);while(Ln<Me&&Me<Le);return rn},De.filter=function(Me){return rt(function(Le){if(Le>=Le)for(;Lt(Le),!Me(Le);)Le.setTime(Le-1)},function(Le,Qe){if(Le>=Le)if(Qe<0)for(;++Qe<=0;)for(;re(Le,-1),!Me(Le););else for(;--Qe>=0;)for(;re(Le,1),!Me(Le););})},be&&(De.count=function(Me,Le){return st.setTime(+Me),Y.setTime(+Le),Lt(st),Lt(Y),Math.floor(be(st,Y))},De.every=function(Me){return Me=Math.floor(Me),!isFinite(Me)||!(Me>0)?null:Me>1?De.filter(Se?function(Le){return Se(Le)%Me===0}:function(Le){return De.count(0,Le)%Me===0}):De}),De}var ft=rt(function(){},function(Lt,re){Lt.setTime(+Lt+re)},function(Lt,re){return re-Lt});ft.every=function(Lt){return Lt=Math.floor(Lt),!isFinite(Lt)||!(Lt>0)?null:Lt>1?rt(function(re){re.setTime(Math.floor(re/Lt)*Lt)},function(re,be){re.setTime(+re+be*Lt)},function(re,be){return(be-re)/Lt}):ft};var tt=ft;ft.range;var K=1e3,Q=6e4,ct=36e5,nt=864e5,ot=6048e5,yt=rt(function(Lt){Lt.setTime(Lt-Lt.getMilliseconds())},function(Lt,re){Lt.setTime(+Lt+re*K)},function(Lt,re){return(re-Lt)/K},function(Lt){return Lt.getUTCSeconds()}),pt=yt;yt.range;var dt=rt(function(Lt){Lt.setTime(Lt-Lt.getMilliseconds()-Lt.getSeconds()*K)},function(Lt,re){Lt.setTime(+Lt+re*Q)},function(Lt,re){return(re-Lt)/Q},function(Lt){return Lt.getMinutes()}),mt=dt;dt.range;var q=rt(function(Lt){Lt.setTime(Lt-Lt.getMilliseconds()-Lt.getSeconds()*K-Lt.getMinutes()*Q)},function(Lt,re){Lt.setTime(+Lt+re*ct)},function(Lt,re){return(re-Lt)/ct},function(Lt){return Lt.getHours()}),$=q;q.range;var J=rt(function(Lt){Lt.setHours(0,0,0,0)},function(Lt,re){Lt.setDate(Lt.getDate()+re)},function(Lt,re){return(re-Lt-(re.getTimezoneOffset()-Lt.getTimezoneOffset())*Q)/nt},function(Lt){return Lt.getDate()-1}),lt=J;J.range;function ut(Lt){return rt(function(re){re.setDate(re.getDate()-(re.getDay()+7-Lt)%7),re.setHours(0,0,0,0)},function(re,be){re.setDate(re.getDate()+be*7)},function(re,be){return(be-re-(be.getTimezoneOffset()-re.getTimezoneOffset())*Q)/ot})}var ht=ut(0),bt=ut(1),kt=ut(2),vt=ut(3),Et=ut(4),Rt=ut(5),Vt=ut(6);ht.range,bt.range,kt.range,vt.range,Et.range,Rt.range,Vt.range;var ee=rt(function(Lt){Lt.setDate(1),Lt.setHours(0,0,0,0)},function(Lt,re){Lt.setMonth(Lt.getMonth()+re)},function(Lt,re){return re.getMonth()-Lt.getMonth()+(re.getFullYear()-Lt.getFullYear())*12},function(Lt){return Lt.getMonth()}),Tt=ee;ee.range;var _t=rt(function(Lt){Lt.setMonth(0,1),Lt.setHours(0,0,0,0)},function(Lt,re){Lt.setFullYear(Lt.getFullYear()+re)},function(Lt,re){return re.getFullYear()-Lt.getFullYear()},function(Lt){return Lt.getFullYear()});_t.every=function(Lt){return!isFinite(Lt=Math.floor(Lt))||!(Lt>0)?null:rt(function(re){re.setFullYear(Math.floor(re.getFullYear()/Lt)*Lt),re.setMonth(0,1),re.setHours(0,0,0,0)},function(re,be){re.setFullYear(re.getFullYear()+be*Lt)})};var zt=_t;_t.range;var oe=rt(function(Lt){Lt.setUTCSeconds(0,0)},function(Lt,re){Lt.setTime(+Lt+re*Q)},function(Lt,re){return(re-Lt)/Q},function(Lt){return Lt.getUTCMinutes()}),$t=oe;oe.range;var pe=rt(function(Lt){Lt.setUTCMinutes(0,0,0)},function(Lt,re){Lt.setTime(+Lt+re*ct)},function(Lt,re){return(re-Lt)/ct},function(Lt){return Lt.getUTCHours()}),Nt=pe;pe.range;var se=rt(function(Lt){Lt.setUTCHours(0,0,0,0)},function(Lt,re){Lt.setUTCDate(Lt.getUTCDate()+re)},function(Lt,re){return(re-Lt)/nt},function(Lt){return Lt.getUTCDate()-1}),Gt=se;se.range;function gt(Lt){return rt(function(re){re.setUTCDate(re.getUTCDate()-(re.getUTCDay()+7-Lt)%7),re.setUTCHours(0,0,0,0)},function(re,be){re.setUTCDate(re.getUTCDate()+be*7)},function(re,be){return(be-re)/ot})}var fe=gt(0),Ct=gt(1),at=gt(2),St=gt(3),jt=gt(4),Zt=gt(5),ue=gt(6);fe.range,Ct.range,at.range,St.range,jt.range,Zt.range,ue.range;var ce=rt(function(Lt){Lt.setUTCDate(1),Lt.setUTCHours(0,0,0,0)},function(Lt,re){Lt.setUTCMonth(Lt.getUTCMonth()+re)},function(Lt,re){return re.getUTCMonth()-Lt.getUTCMonth()+(re.getUTCFullYear()-Lt.getUTCFullYear())*12},function(Lt){return Lt.getUTCMonth()}),It=ce;ce.range;var Mt=rt(function(Lt){Lt.setUTCMonth(0,1),Lt.setUTCHours(0,0,0,0)},function(Lt,re){Lt.setUTCFullYear(Lt.getUTCFullYear()+re)},function(Lt,re){return re.getUTCFullYear()-Lt.getUTCFullYear()},function(Lt){return Lt.getUTCFullYear()});Mt.every=function(Lt){return!isFinite(Lt=Math.floor(Lt))||!(Lt>0)?null:rt(function(re){re.setUTCFullYear(Math.floor(re.getUTCFullYear()/Lt)*Lt),re.setUTCMonth(0,1),re.setUTCHours(0,0,0,0)},function(re,be){re.setUTCFullYear(re.getUTCFullYear()+be*Lt)})};var Ut=Mt;Mt.range;function Kt(Lt){if(0<=Lt.y&&Lt.y<100){var re=new Date(-1,Lt.m,Lt.d,Lt.H,Lt.M,Lt.S,Lt.L);return re.setFullYear(Lt.y),re}return new Date(Lt.y,Lt.m,Lt.d,Lt.H,Lt.M,Lt.S,Lt.L)}function wt(Lt){if(0<=Lt.y&&Lt.y<100){var re=new Date(Date.UTC(-1,Lt.m,Lt.d,Lt.H,Lt.M,Lt.S,Lt.L));return re.setUTCFullYear(Lt.y),re}return new Date(Date.UTC(Lt.y,Lt.m,Lt.d,Lt.H,Lt.M,Lt.S,Lt.L))}function ye(Lt){return{y:Lt,m:0,d:1,H:0,M:0,S:0,L:0}}function we(Lt){var re=Lt.dateTime,be=Lt.date,Se=Lt.time,De=Lt.periods,Me=Lt.days,Le=Lt.shortDays,Qe=Lt.months,rn=Lt.shortMonths,Ln=Xe(De),sr=pn(De),wn=Xe(Me),Hr=pn(Me),Br=Xe(Le),Fr=pn(Le),Ir=Xe(Qe),mi=pn(Qe),ai=Xe(rn),Xi=pn(rn),oi={a:Fo,A:zo,b:yo,B:Uo,c:null,d:Ke,e:Ke,f:Un,H:$e,I:jn,j:In,L:xn,m:cn,M:xr,p:Vo,Q:Zn,s:Jr,S:wr,u:fr,U:pr,V:qe,w:ae,W:Ee,x:null,X:null,y:tn,Y:sn,Z:on,"%":an},qr={a:Go,A:Sa,b:cs,B:Ta,c:null,d:He,e:He,f:gn,H:Ve,I:yn,j:dn,L:_n,m:Hn,M:Bn,p:hs,Q:Zn,s:Jr,S:Vn,u:tr,U:Qn,V:er,w:cr,W:Kn,x:null,X:null,y:br,Y:mr,Z:dr,"%":an},vo={a:$r,A:Qr,b:Ur,B:Kr,c:ls,d:Yt,e:Yt,f:_e,H:Bt,I:Bt,j:xt,L:ve,m:Ft,M:Qt,p:Yr,Q:ge,s:ke,S:le,u:it,U:Xt,V:te,w:qt,W:ne,x:us,X:qi,y:he,Y:Wt,Z:Dt,"%":Ae};oi.x=zr(be,oi),oi.X=zr(Se,oi),oi.c=zr(re,oi),qr.x=zr(be,qr),qr.X=zr(Se,qr),qr.c=zr(re,qr);function zr(Sn,Gn){return function(Jn){var un=[],Vr=-1,$n=0,Gr=Sn.length,Wr,Ei,Wo;for(Jn instanceof Date||(Jn=new Date(+Jn));++Vr<Gr;)Sn.charCodeAt(Vr)===37&&(un.push(Sn.slice($n,Vr)),(Ei=Oe[Wr=Sn.charAt(++Vr)])!=null?Wr=Sn.charAt(++Vr):Ei=Wr==="e"?" ":"0",(Wo=Gn[Wr])&&(Wr=Wo(Jn,Ei)),un.push(Wr),$n=Vr+1);return un.push(Sn.slice($n,Vr)),un.join("")}}function Nn(Sn,Gn){return function(Jn){var un=ye(1900),Vr=Ar(un,Sn,Jn+="",0),$n,Gr;if(Vr!=Jn.length)return null;if("Q"in un)return new Date(un.Q);if("p"in un&&(un.H=un.H%12+un.p*12),"V"in un){if(un.V<1||un.V>53)return null;"w"in un||(un.w=1),"Z"in un?($n=wt(ye(un.y)),Gr=$n.getUTCDay(),$n=Gr>4||Gr===0?Ct.ceil($n):Ct($n),$n=Gt.offset($n,(un.V-1)*7),un.y=$n.getUTCFullYear(),un.m=$n.getUTCMonth(),un.d=$n.getUTCDate()+(un.w+6)%7):($n=Gn(ye(un.y)),Gr=$n.getDay(),$n=Gr>4||Gr===0?bt.ceil($n):bt($n),$n=lt.offset($n,(un.V-1)*7),un.y=$n.getFullYear(),un.m=$n.getMonth(),un.d=$n.getDate()+(un.w+6)%7)}else("W"in un||"U"in un)&&("w"in un||(un.w="u"in un?un.u%7:"W"in un?1:0),Gr="Z"in un?wt(ye(un.y)).getUTCDay():Gn(ye(un.y)).getDay(),un.m=0,un.d="W"in un?(un.w+6)%7+un.W*7-(Gr+5)%7:un.w+un.U*7-(Gr+6)%7);return"Z"in un?(un.H+=un.Z/100|0,un.M+=un.Z%100,wt(un)):Gn(un)}}function Ar(Sn,Gn,Jn,un){for(var Vr=0,$n=Gn.length,Gr=Jn.length,Wr,Ei;Vr<$n;){if(un>=Gr)return-1;if(Wr=Gn.charCodeAt(Vr++),Wr===37){if(Wr=Gn.charAt(Vr++),Ei=vo[Wr in Oe?Gn.charAt(Vr++):Wr],!Ei||(un=Ei(Sn,Jn,un))<0)return-1}else if(Wr!=Jn.charCodeAt(un++))return-1}return un}function Yr(Sn,Gn,Jn){var un=Ln.exec(Gn.slice(Jn));return un?(Sn.p=sr[un[0].toLowerCase()],Jn+un[0].length):-1}function $r(Sn,Gn,Jn){var un=Br.exec(Gn.slice(Jn));return un?(Sn.w=Fr[un[0].toLowerCase()],Jn+un[0].length):-1}function Qr(Sn,Gn,Jn){var un=wn.exec(Gn.slice(Jn));return un?(Sn.w=Hr[un[0].toLowerCase()],Jn+un[0].length):-1}function Ur(Sn,Gn,Jn){var un=ai.exec(Gn.slice(Jn));return un?(Sn.m=Xi[un[0].toLowerCase()],Jn+un[0].length):-1}function Kr(Sn,Gn,Jn){var un=Ir.exec(Gn.slice(Jn));return un?(Sn.m=mi[un[0].toLowerCase()],Jn+un[0].length):-1}function ls(Sn,Gn,Jn){return Ar(Sn,re,Gn,Jn)}function us(Sn,Gn,Jn){return Ar(Sn,be,Gn,Jn)}function qi(Sn,Gn,Jn){return Ar(Sn,Se,Gn,Jn)}function Fo(Sn){return Le[Sn.getDay()]}function zo(Sn){return Me[Sn.getDay()]}function yo(Sn){return rn[Sn.getMonth()]}function Uo(Sn){return Qe[Sn.getMonth()]}function Vo(Sn){return De[+(Sn.getHours()>=12)]}function Go(Sn){return Le[Sn.getUTCDay()]}function Sa(Sn){return Me[Sn.getUTCDay()]}function cs(Sn){return rn[Sn.getUTCMonth()]}function Ta(Sn){return Qe[Sn.getUTCMonth()]}function hs(Sn){return De[+(Sn.getUTCHours()>=12)]}return{format:function(Sn){var Gn=zr(Sn+="",oi);return Gn.toString=function(){return Sn},Gn},parse:function(Sn){var Gn=Nn(Sn+="",Kt);return Gn.toString=function(){return Sn},Gn},utcFormat:function(Sn){var Gn=zr(Sn+="",qr);return Gn.toString=function(){return Sn},Gn},utcParse:function(Sn){var Gn=Nn(Sn,wt);return Gn.toString=function(){return Sn},Gn}}}var Oe={"-":"",_:" ",0:"0"},Ne=/^\s*\d+/,ze=/^%/,Ue=/[\\^$*+?|[\]().{}]/g;function Be(Lt,re,be){var Se=Lt<0?"-":"",De=(Se?-Lt:Lt)+"",Me=De.length;return Se+(Me<be?new Array(be-Me+1).join(re)+De:De)}function Je(Lt){return Lt.replace(Ue,"\\$&")}function Xe(Lt){return new RegExp("^(?:"+Lt.map(Je).join("|")+")","i")}function pn(Lt){for(var re={},be=-1,Se=Lt.length;++be<Se;)re[Lt[be].toLowerCase()]=be;return re}function qt(Lt,re,be){var Se=Ne.exec(re.slice(be,be+1));return Se?(Lt.w=+Se[0],be+Se[0].length):-1}function it(Lt,re,be){var Se=Ne.exec(re.slice(be,be+1));return Se?(Lt.u=+Se[0],be+Se[0].length):-1}function Xt(Lt,re,be){var Se=Ne.exec(re.slice(be,be+2));return Se?(Lt.U=+Se[0],be+Se[0].length):-1}function te(Lt,re,be){var Se=Ne.exec(re.slice(be,be+2));return Se?(Lt.V=+Se[0],be+Se[0].length):-1}function ne(Lt,re,be){var Se=Ne.exec(re.slice(be,be+2));return Se?(Lt.W=+Se[0],be+Se[0].length):-1}function Wt(Lt,re,be){var Se=Ne.exec(re.slice(be,be+4));return Se?(Lt.y=+Se[0],be+Se[0].length):-1}function he(Lt,re,be){var Se=Ne.exec(re.slice(be,be+2));return Se?(Lt.y=+Se[0]+(+Se[0]>68?1900:2e3),be+Se[0].length):-1}function Dt(Lt,re,be){var Se=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(re.slice(be,be+6));return Se?(Lt.Z=Se[1]?0:-(Se[2]+(Se[3]||"00")),be+Se[0].length):-1}function Ft(Lt,re,be){var Se=Ne.exec(re.slice(be,be+2));return Se?(Lt.m=Se[0]-1,be+Se[0].length):-1}function Yt(Lt,re,be){var Se=Ne.exec(re.slice(be,be+2));return Se?(Lt.d=+Se[0],be+Se[0].length):-1}function xt(Lt,re,be){var Se=Ne.exec(re.slice(be,be+3));return Se?(Lt.m=0,Lt.d=+Se[0],be+Se[0].length):-1}function Bt(Lt,re,be){var Se=Ne.exec(re.slice(be,be+2));return Se?(Lt.H=+Se[0],be+Se[0].length):-1}function Qt(Lt,re,be){var Se=Ne.exec(re.slice(be,be+2));return Se?(Lt.M=+Se[0],be+Se[0].length):-1}function le(Lt,re,be){var Se=Ne.exec(re.slice(be,be+2));return Se?(Lt.S=+Se[0],be+Se[0].length):-1}function ve(Lt,re,be){var Se=Ne.exec(re.slice(be,be+3));return Se?(Lt.L=+Se[0],be+Se[0].length):-1}function _e(Lt,re,be){var Se=Ne.exec(re.slice(be,be+6));return Se?(Lt.L=Math.floor(Se[0]/1e3),be+Se[0].length):-1}function Ae(Lt,re,be){var Se=ze.exec(re.slice(be,be+1));return Se?be+Se[0].length:-1}function ge(Lt,re,be){var Se=Ne.exec(re.slice(be));return Se?(Lt.Q=+Se[0],be+Se[0].length):-1}function ke(Lt,re,be){var Se=Ne.exec(re.slice(be));return Se?(Lt.Q=+Se[0]*1e3,be+Se[0].length):-1}function Ke(Lt,re){return Be(Lt.getDate(),re,2)}function $e(Lt,re){return Be(Lt.getHours(),re,2)}function jn(Lt,re){return Be(Lt.getHours()%12||12,re,2)}function In(Lt,re){return Be(1+lt.count(zt(Lt),Lt),re,3)}function xn(Lt,re){return Be(Lt.getMilliseconds(),re,3)}function Un(Lt,re){return xn(Lt,re)+"000"}function cn(Lt,re){return Be(Lt.getMonth()+1,re,2)}function xr(Lt,re){return Be(Lt.getMinutes(),re,2)}function wr(Lt,re){return Be(Lt.getSeconds(),re,2)}function fr(Lt){var re=Lt.getDay();return re===0?7:re}function pr(Lt,re){return Be(ht.count(zt(Lt),Lt),re,2)}function qe(Lt,re){var be=Lt.getDay();return Lt=be>=4||be===0?Et(Lt):Et.ceil(Lt),Be(Et.count(zt(Lt),Lt)+(zt(Lt).getDay()===4),re,2)}function ae(Lt){return Lt.getDay()}function Ee(Lt,re){return Be(bt.count(zt(Lt),Lt),re,2)}function tn(Lt,re){return Be(Lt.getFullYear()%100,re,2)}function sn(Lt,re){return Be(Lt.getFullYear()%1e4,re,4)}function on(Lt){var re=Lt.getTimezoneOffset();return(re>0?"-":(re*=-1,"+"))+Be(re/60|0,"0",2)+Be(re%60,"0",2)}function He(Lt,re){return Be(Lt.getUTCDate(),re,2)}function Ve(Lt,re){return Be(Lt.getUTCHours(),re,2)}function yn(Lt,re){return Be(Lt.getUTCHours()%12||12,re,2)}function dn(Lt,re){return Be(1+Gt.count(Ut(Lt),Lt),re,3)}function _n(Lt,re){return Be(Lt.getUTCMilliseconds(),re,3)}function gn(Lt,re){return _n(Lt,re)+"000"}function Hn(Lt,re){return Be(Lt.getUTCMonth()+1,re,2)}function Bn(Lt,re){return Be(Lt.getUTCMinutes(),re,2)}function Vn(Lt,re){return Be(Lt.getUTCSeconds(),re,2)}function tr(Lt){var re=Lt.getUTCDay();return re===0?7:re}function Qn(Lt,re){return Be(fe.count(Ut(Lt),Lt),re,2)}function er(Lt,re){var be=Lt.getUTCDay();return Lt=be>=4||be===0?jt(Lt):jt.ceil(Lt),Be(jt.count(Ut(Lt),Lt)+(Ut(Lt).getUTCDay()===4),re,2)}function cr(Lt){return Lt.getUTCDay()}function Kn(Lt,re){return Be(Ct.count(Ut(Lt),Lt),re,2)}function br(Lt,re){return Be(Lt.getUTCFullYear()%100,re,2)}function mr(Lt,re){return Be(Lt.getUTCFullYear()%1e4,re,4)}function dr(){return"+0000"}function an(){return"%"}function Zn(Lt){return+Lt}function Jr(Lt){return Math.floor(+Lt/1e3)}var Cr,di,de,Te;We({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function We(Lt){return Cr=we(Lt),di=Cr.format,Cr.parse,de=Cr.utcFormat,Te=Cr.utcParse,Cr}var fn="%Y-%m-%dT%H:%M:%S.%LZ";Date.prototype.toISOString||de(fn),+new Date("2000-01-01T00:00:00.000Z")||Te(fn);var zn=1e3,On=zn*60,qn=On*60,ar=qn*24,gr=ar*7,nr=ar*30,et=ar*365;function Pt(Lt){return new Date(Lt)}function Ot(Lt){return Lt instanceof Date?+Lt:+new Date(+Lt)}function nn(Lt,re,be,Se,De,Me,Le,Qe,rn){var Ln=S(k,h.c),sr=Ln.invert,wn=Ln.domain,Hr=rn(".%L"),Br=rn(":%S"),Fr=rn("%I:%M"),Ir=rn("%I %p"),mi=rn("%a %d"),ai=rn("%b %d"),Xi=rn("%B"),oi=rn("%Y"),qr=[[Le,1,zn],[Le,5,5*zn],[Le,15,15*zn],[Le,30,30*zn],[Me,1,On],[Me,5,5*On],[Me,15,15*On],[Me,30,30*On],[De,1,qn],[De,3,3*qn],[De,6,6*qn],[De,12,12*qn],[Se,1,ar],[Se,2,2*ar],[be,1,gr],[re,1,nr],[re,3,3*nr],[Lt,1,et]];function vo(Nn){return(Le(Nn)<Nn?Hr:Me(Nn)<Nn?Br:De(Nn)<Nn?Fr:Se(Nn)<Nn?Ir:re(Nn)<Nn?be(Nn)<Nn?mi:ai:Lt(Nn)<Nn?Xi:oi)(Nn)}function zr(Nn,Ar,Yr,$r){if(Nn==null&&(Nn=10),typeof Nn=="number"){var Qr=Math.abs(Yr-Ar)/Nn,Ur=Object(n.bisector)(function(Kr){return Kr[2]}).right(qr,Qr);Ur===qr.length?($r=Object(n.tickStep)(Ar/et,Yr/et,Nn),Nn=Lt):Ur?(Ur=qr[Qr/qr[Ur-1][2]<qr[Ur][2]/Qr?Ur-1:Ur],$r=Ur[1],Nn=Ur[0]):($r=Math.max(Object(n.tickStep)(Ar,Yr,Nn),1),Nn=Qe)}return $r==null?Nn:Nn.every($r)}return Ln.invert=function(Nn){return new Date(sr(Nn))},Ln.domain=function(Nn){return arguments.length?wn(e.call(Nn,Ot)):wn().map(Pt)},Ln.ticks=function(Nn,Ar){var Yr=wn(),$r=Yr[0],Qr=Yr[Yr.length-1],Ur=Qr<$r,Kr;return Ur&&(Kr=$r,$r=Qr,Qr=Kr),Kr=zr(Nn,$r,Qr,Ar),Kr=Kr?Kr.range($r,Qr+1):[],Ur?Kr.reverse():Kr},Ln.tickFormat=function(Nn,Ar){return Ar==null?vo:rn(Ar)},Ln.nice=function(Nn,Ar){var Yr=wn();return(Nn=zr(Nn,Yr[0],Yr[Yr.length-1],Ar))?wn(H(Yr,Nn)):Ln},Ln.copy=function(){return C(Ln,nn(Lt,re,be,Se,De,Me,Le,Qe,rn))},Ln}var kn=function(){return nn(zt,Tt,ht,lt,$,mt,pt,tt,di).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},rr=function(){return nn(Ut,It,fe,Gt,Nt,$t,pt,tt,de).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},Yn=function(Lt){return Lt.match(/.{6}/g).map(function(re){return"#"+re})},jr=Yn("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),bi=Yn("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),Zr=Yn("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),pi=Yn("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),ii=t(9),fo=Object(h.b)(Object(ii.cubehelix)(300,.5,0),Object(ii.cubehelix)(-240,.5,1)),as=Object(h.b)(Object(ii.cubehelix)(-100,.75,.35),Object(ii.cubehelix)(80,1.5,.8)),ss=Object(h.b)(Object(ii.cubehelix)(260,.75,.35),Object(ii.cubehelix)(80,1.5,.8)),Ti=Object(ii.cubehelix)(),Bo=function(Lt){(Lt<0||Lt>1)&&(Lt-=Math.floor(Lt));var re=Math.abs(Lt-.5);return Ti.h=360*Lt-100,Ti.s=1.5-1.5*re,Ti.l=.8-.9*re,Ti+""};function Hi(Lt){var re=Lt.length;return function(be){return Lt[Math.max(0,Math.min(re-1,Math.floor(be*re)))]}}var Wi=Hi(Yn("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),po=Hi(Yn("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),mo=Hi(Yn("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Bi=Hi(Yn("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function go(Lt){var re=0,be=1,Se=!1;function De(Me){var Le=(Me-re)/(be-re);return Lt(Se?Math.max(0,Math.min(1,Le)):Le)}return De.domain=function(Me){return arguments.length?(re=+Me[0],be=+Me[1],De):[re,be]},De.clamp=function(Me){return arguments.length?(Se=!!Me,De):Se},De.interpolator=function(Me){return arguments.length?(Lt=Me,De):Lt},De.copy=function(){return go(Lt).domain([re,be]).clamp(Se)},R(De)}t.d(r,"scaleBand",function(){return c}),t.d(r,"scalePoint",function(){return p}),t.d(r,"scaleIdentity",function(){return M}),t.d(r,"scaleLinear",function(){return I}),t.d(r,"scaleLog",function(){return N}),t.d(r,"scaleOrdinal",function(){return u}),t.d(r,"scaleImplicit",function(){return s}),t.d(r,"scalePow",function(){return G}),t.d(r,"scaleSqrt",function(){return V}),t.d(r,"scaleQuantile",function(){return z}),t.d(r,"scaleQuantize",function(){return U}),t.d(r,"scaleThreshold",function(){return Z}),t.d(r,"scaleTime",function(){return kn}),t.d(r,"scaleUtc",function(){return rr}),t.d(r,"schemeCategory10",function(){return jr}),t.d(r,"schemeCategory20b",function(){return bi}),t.d(r,"schemeCategory20c",function(){return Zr}),t.d(r,"schemeCategory20",function(){return pi}),t.d(r,"interpolateCubehelixDefault",function(){return fo}),t.d(r,"interpolateRainbow",function(){return Bo}),t.d(r,"interpolateWarm",function(){return as}),t.d(r,"interpolateCool",function(){return ss}),t.d(r,"interpolateViridis",function(){return Wi}),t.d(r,"interpolateMagma",function(){return po}),t.d(r,"interpolateInferno",function(){return mo}),t.d(r,"interpolatePlasma",function(){return Bi}),t.d(r,"scaleSequential",function(){return go})},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n="throw",a=function(e){return e.indexOf(".")!==-1},l=function(e,o,s){var u=e.split("."),c=u[0],m=u[1],p=s||n;if(!m){if(p==="throw")throw new Error("Invalid style name: "+e);if(p==="warn")console.warn("Invalid style name: "+e);else return null}if(!o[c]){if(p==="throw")throw new Error("CSS module import does not exist: "+c);if(p==="warn")console.warn("CSS module import does not exist: "+c);else return null}if(!o[c][m]){if(p==="throw")throw new Error("CSS module does not exist: "+m);if(p==="warn")console.warn("CSS module does not exist: "+m);else return null}return o[c][m]};r.default=function(e,o,s){var u=Object.keys(o),c=s&&s.handleMissingStyleName||n;return e.split(" ").filter(function(m){return m}).map(function(m){if(a(m))return l(m,o,c);if(u.length===0)throw new Error("Cannot use styleName attribute for style name '"+m+"' without importing at least one stylesheet.");if(u.length>1)throw new Error("Cannot use anonymous style name '"+m+"' with more than one stylesheet import.");var p=o[u[0]];if(!p[m]){if(c==="throw")throw new Error("Could not resolve the styleName '"+m+"'.");c==="warn"&&console.warn("Could not resolve the styleName '"+m+"'.")}return p[m]}).filter(function(m){return m}).join(" ")}},function(f,r,t){f.exports={default:t(233),__esModule:!0}},function(f,r){var t=Array.isArray;f.exports=t},function(f,r,t){var n=t(39),a=t(159),l=t(127),e=Object.defineProperty;r.f=t(36)?Object.defineProperty:function(o,s,u){if(n(o),s=l(s,!0),n(u),a)try{return e(o,s,u)}catch{}if("get"in u||"set"in u)throw TypeError("Accessors not supported!");return"value"in u&&(o[s]=u.value),o}},function(f,r){f.exports=function(t){return typeof t=="object"?t!==null:typeof t=="function"}},function(f,r,t){r.__esModule=!0;var n=t(44),a=l(n);function l(e){return e&&e.__esModule?e:{default:e}}r.default=a.default||function(e){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(e[u]=s[u])}return e}},function(f,r,t){f.exports={default:t(229),__esModule:!0}},function(f,r,t){f.exports=!t(50)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(f,r,t){f.exports={default:t(555),__esModule:!0}},function(f,r,t){f.exports={default:t(578),__esModule:!0}},function(f,r,t){var n=t(33);f.exports=function(a){if(!n(a))throw TypeError(a+" is not an object!");return a}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(17),a=M(n),l=t(44),e=M(l),o=t(5),s=M(o),u=t(3),c=M(u),m=t(4),p=M(m),h=t(6),v=M(h),x=t(14),y=M(x),k=t(7),T=M(k),E=t(30),_=M(E),A=t(20),C=t(26),S=M(C),P=t(177),O=M(P),R=t(10),I=t(11);function M(W){return W&&W.__esModule?W:{default:W}}function H(W,B){var F=(0,A.precisionPrefix)(B,W),N=(0,A.formatPrefix)("."+String(F),W),X=N(W);return X}function L(W,B){var F=W.map(function(G){return+G}).sort(function(G,V){return V-G}),N=F[B],X=F[F.length-1];return H(N,X)}function D(W,B,F,N){var X=B/(Math.pow(2,W)*F);if(!(0,_.default)(X)){var G=B/(Math.pow(2,N)*F),V=(0,A.precisionPrefix)(G,X),z=(0,A.formatPrefix)("."+String(V),X),U=z(X);return U}return console.warn("NaN resolution, screen is probably too small."),""}var j=function(W){(0,T.default)(B,W);function B(F,N){(0,c.default)(this,B);var X=(0,v.default)(this,(B.__proto__||(0,s.default)(B)).call(this,F,N)),G=F.scene;X.scene=G,X.delayDrawing=!1,X.pBase=new I.GLOBALS.PIXI.Graphics,X.pMasked=new I.GLOBALS.PIXI.Graphics,X.pMask=new I.GLOBALS.PIXI.Graphics,X.pMain=new I.GLOBALS.PIXI.Graphics,X.pBorder=new I.GLOBALS.PIXI.Graphics,X.pBackground=new I.GLOBALS.PIXI.Graphics,X.pForeground=new I.GLOBALS.PIXI.Graphics,X.pLabel=new I.GLOBALS.PIXI.Graphics,X.pMobile=new I.GLOBALS.PIXI.Graphics,X.pAxis=new I.GLOBALS.PIXI.Graphics,X.pMouseOver=new I.GLOBALS.PIXI.Graphics,X.scene.addChild(X.pBase),X.pBase.addChild(X.pMasked),X.pMasked.addChild(X.pBackground),X.pMasked.addChild(X.pMain),X.pMasked.addChild(X.pMask),X.pMasked.addChild(X.pMobile),X.pMasked.addChild(X.pBorder),X.pMasked.addChild(X.pLabel),X.pMasked.addChild(X.pForeground),X.pMasked.addChild(X.pMouseOver),X.pBase.addChild(X.pAxis),X.pMasked.mask=X.pMask,X.prevOptions="",X.options=(0,e.default)(X.options,N);var V=X.getName();return X.labelTextFontFamily="Arial",X.labelTextFontSize=12,X.labelXOffset=0,X.labelText=new I.GLOBALS.PIXI.Text(V,{fontSize:String(X.labelTextFontSize)+"px",fontFamily:X.labelTextFontFamily,fill:"black"}),X.pLabel.addChild(X.labelText),X.errorText=new I.GLOBALS.PIXI.Text("",{fontSize:"12px",fontFamily:"Arial",fill:"red"}),X.errorText.anchor.x=.5,X.errorText.anchor.y=.5,X.pLabel.addChild(X.errorText),X}return(0,p.default)(B,[{key:"setLabelText",value:function(){function F(){}return F}()},{key:"setPosition",value:function(){function F(N){this.position=N,this.drawBorder(),this.drawLabel(),this.drawBackground(),this.setMask(this.position,this.dimensions),this.setForeground()}return F}()},{key:"setDimensions",value:function(){function F(N){(0,y.default)(B.prototype.__proto__||(0,s.default)(B.prototype),"setDimensions",this).call(this,N),this.drawBorder(),this.drawLabel(),this.drawBackground(),this.setMask(this.position,this.dimensions),this.setForeground()}return F}()},{key:"setMask",value:function(){function F(N,X){this.pMask.clear(),this.pMask.beginFill(),this.pMask.drawRect(N[0],N[1],X[0],X[1]),this.pMask.endFill()}return F}()},{key:"setForeground",value:function(){function F(){this.pForeground.position.y=this.position[1],this.pForeground.position.x=this.position[0]}return F}()},{key:"remove",value:function(){function F(){this.pBase.clear(),this.scene.removeChild(this.pBase)}return F}()},{key:"drawBorder",value:function(){function F(){var N=this.pBorder;if(N.clear(),!(!this.options||!this.options.trackBorderWidth)){var X=(0,R.colorToHex)(this.options.trackBorderColor?this.options.trackBorderColor:"white");N.lineStyle(this.options.trackBorderWidth,X),N.drawRect(this.position[0],this.position[1],this.dimensions[0],this.dimensions[1])}}return F}()},{key:"drawError",value:function(){function F(){if(this.errorText.x=this.position[0]+this.dimensions[0]/2,this.errorText.y=this.position[1]+this.dimensions[1]/2,this.errorText.text=this.errorTextText,this.errorTextText&&this.errorTextText.length){var N=this.pBorder;N.clear(),N.lineStyle(1,(0,R.colorToHex)("red")),N.drawRect(this.position[0],this.position[1],this.dimensions[0],this.dimensions[1])}}return F}()},{key:"drawBackground",value:function(){function F(){var N=this.pBackground;if(N.clear(),!(!this.options||!this.options.backgroundColor)){var X=1,G=this.options.backgroundColor;this.options.backgroundColor==="transparent"&&(X=0,G="white");var V=(0,R.colorToHex)(G);N.beginFill(V,X),N.drawRect(this.position[0],this.position[1],this.dimensions[0],this.dimensions[1])}}return F}()},{key:"getLabelColor",value:function(){function F(){return this.options.labelColor&&this.options.labelColor!=="[glyph-color]"?this.options.labelColor:this.options.lineStrokeColor||this.options.barFillColor||"black"}return F}()},{key:"getName",value:function(){function F(){return this.options.name?this.options.name:this.tilesetInfo&&this.tilesetInfo.name||""}return F}()},{key:"drawLabel",value:function(){function F(){if(this.labelText){var N=this.pLabel;if(N.clear(),!this.options||!this.options.labelPosition||this.options.labelPosition==="hidden"){this.labelText.alpha=0;return}N.beginFill((0,R.colorToHex)(this.options.labelBackgroundColor||"white"),+this.options.labelBackgroundOpacity>=0?+this.options.labelBackgroundOpacity:.5);var X=(0,R.colorToHex)(this.getLabelColor()),G=2;if(!(this.dimensions[0]<0)){var V=this.options.labelShowAssembly&&this.tilesetInfo&&this.tilesetInfo.coordSystem?String(this.tilesetInfo.coordSystem)+" | ":"";if(V+=this.getName(),this.options.labelShowResolution&&this.tilesetInfo&&this.tilesetInfo.max_width&&this.tilesetInfo.bins_per_dimension){var z=D(this.calculateZoomLevel(),this.tilesetInfo.max_width,this.tilesetInfo.bins_per_dimension,this.tilesetInfo.max_zoom);V+=`
[Current data resolution: `+String(z)+"]"}else if(this.options.labelShowResolution&&this.tilesetInfo&&this.tilesetInfo.resolutions){var U=L(this.tilesetInfo.resolutions,this.calculateZoomLevel());V+=`
[Current data resolution: `+String(U)+"]"}if(this.options&&this.options.dataTransform){var Z=null;if(this.tilesetInfo&&this.tilesetInfo.transforms){var st=!0,Y=!1,rt=void 0;try{for(var ft=(0,a.default)(this.tilesetInfo.transforms),tt;!(st=(tt=ft.next()).done);st=!0){var K=tt.value;K.value===this.options.dataTransform&&(Z=K)}}catch(yt){Y=!0,rt=yt}finally{try{!st&&ft.return&&ft.return()}finally{if(Y)throw rt}}}Z?V+=`
[Transform: `+String(Z.name)+"]":this.options.dataTransform==="None"?V+=`
[Transform: None ]`:V+=`
[Transform: Default ]`}this.labelText.text=V,this.labelText.style={fontSize:String(this.labelTextFontSize)+"px",fontFamily:this.labelTextFontFamily,fill:X},this.labelText.alpha=typeof this.options.labelTextOpacity<"u"?this.options.labelTextOpacity:1,this.labelText.visible=!0,this.flipText&&(this.labelText.scale.x=-1);var Q=+this.options.labelLeftMargin||0,ct=+this.options.labelRightMargin||0,nt=+this.options.labelTopMargin||0,ot=+this.options.labelBottomMargin||0;this.options.labelPosition==="topLeft"?(this.labelText.x=this.position[0]+Q+this.labelXOffset,this.labelText.y=this.position[1]+nt,this.labelText.anchor.x=.5,this.labelText.anchor.y=0,this.labelText.x+=this.labelText.width/2,N.drawRect(this.position[0]+Q+this.labelXOffset,this.position[1]+nt,this.labelText.width+G,this.labelText.height+G)):this.options.labelPosition==="bottomLeft"&&!this.flipText||this.options.labelPosition==="topRight"&&this.flipText?(this.labelText.x=this.position[0]+(Q||nt),this.labelText.y=this.position[1]+this.dimensions[1]-(ot||ct),this.labelText.anchor.x=.5,this.labelText.anchor.y=1,this.labelText.x+=this.labelText.width/2+this.labelXOffset,N.drawRect(this.position[0]+(Q||nt)+this.labelXOffset,this.position[1]+this.dimensions[1]-this.labelText.height-G-(ot||ct),this.labelText.width+G,this.labelText.height+G)):this.options.labelPosition==="topRight"&&!this.flipText||this.options.labelPosition==="bottomLeft"&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0]-(ct||ot),this.labelText.y=this.position[1]+(nt||Q),this.labelText.anchor.x=.5,this.labelText.anchor.y=0,this.labelText.x-=this.labelText.width/2+this.labelXOffset,N.drawRect(this.position[0]+this.dimensions[0]-this.labelText.width-G-(ct||ot)-this.labelXOffset,this.position[1]+(nt||Q),this.labelText.width+G,this.labelText.height+G)):this.options.labelPosition==="bottomRight"?(this.labelText.x=this.position[0]+this.dimensions[0]-ct,this.labelText.y=this.position[1]+this.dimensions[1]-ot,this.labelText.anchor.x=.5,this.labelText.anchor.y=1,this.labelText.x-=this.labelText.width/2+this.labelXOffset,N.drawRect(this.position[0]+this.dimensions[0]-this.labelText.width-G-ct-this.labelXOffset,this.position[1]+this.dimensions[1]-this.labelText.height-G-ot,this.labelText.width+G,this.labelText.height+G)):this.options.labelPosition==="outerLeft"&&!this.flipText||this.options.labelPosition==="outerTop"&&this.flipText?(this.labelText.x=this.position[0],this.labelText.y=this.position[1]+this.dimensions[1]/2,this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.x-=this.labelText.width/2+3):this.options.labelPosition==="outerTop"&&!this.flipText||this.options.labelPosition==="outerLeft"&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0]/2,this.labelText.y=this.position[1],this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.y-=this.labelText.height/2+3):this.options.labelPosition==="outerBottom"&&!this.flipText||this.options.labelPosition==="outerRight"&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0]/2,this.labelText.y=this.position[1]+this.dimensions[1],this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.y+=this.labelText.height/2+3):this.options.labelPosition==="outerRight"&&!this.flipText||this.options.labelPosition==="outerBottom"&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0],this.labelText.y=this.position[1]+this.dimensions[1]/2,this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.x+=this.labelText.width/2+3):this.labelText.visible=!1,this.options.labelPosition==="outerLeft"||this.options.labelPosition==="outerRight"||this.options.labelPosition==="outerTop"||this.options.labelPosition==="outerBottom"?this.pLabel.setParent(this.pBase):this.pLabel.setParent(this.pMasked)}}}return F}()},{key:"rerender",value:function(){function F(N){this.options=N,this.draw(),this.drawBackground(),this.drawLabel(),this.drawError(),this.drawBorder()}return F}()},{key:"draw",value:function(){function F(){this.drawError()}return F}()},{key:"exportSVG",value:function(){function F(){var N=document.createElement("g"),X=document.createElement("rect");X.setAttribute("x",""+String(this.position[0])),X.setAttribute("y",""+String(this.position[1])),X.setAttribute("width",""+String(this.dimensions[0])),X.setAttribute("height",""+String(this.dimensions[1])),this.options&&this.options.backgroundColor?X.setAttribute("fill",this.options.backgroundColor):X.setAttribute("fill-opacity","0");var G=document.createElement("g");G.setAttribute("class","g-clipped"),N.appendChild(G),G.appendChild(X);var V=document.createElement("g");G.setAttribute("class","g-track"),G.appendChild(V);var z=document.createElement("g");G.setAttribute("class","g-labels"),G.appendChild(z);var U=document.createElementNS("http://www.w3.org/2000/svg","clipPath");N.appendChild(U);var Z=document.createElementNS("http://www.w3.org/2000/svg","polygon");U.appendChild(Z),Z.setAttribute("points",String(this.position[0])+","+String(this.position[1])+" "+(String(this.position[0]+this.dimensions[0])+","+String(this.position[1])+" ")+(String(this.position[0]+this.dimensions[0])+","+String(this.position[1]+this.dimensions[1])+" ")+(String(this.position[0])+","+String(this.position[1]+this.dimensions[1])+" "));var st=S.default.nice();U.setAttribute("id",st),G.setAttribute("style","clip-path:url(#"+String(st)+");");var Y=this.labelText.text.split(`
`),rt=0,ft=3,tt=(this.labelTextFontSize+2)*Y.length+ft;this.labelText.anchor.y===.5?rt=tt/2:this.labelText.anchor.y===1&&(rt=-tt);for(var K=0;K<Y.length;K++){var Q=document.createElement("text");if(Q.setAttribute("font-family",this.labelTextFontFamily),Q.setAttribute("font-size",String(this.labelTextFontSize)+"px"),Q.innerText=Y[K],this.options.labelPosition==="topLeft"||this.options.labelPosition==="topRight"){var ct=rt+(K+1)*(this.labelTextFontSize+2);Q.setAttribute("dy",ct)}else(this.options.labelPosition==="bottomLeft"||this.options.labelPosition==="bottomRight")&&Q.setAttribute("dy",rt+K*(this.labelTextFontSize+2));Q.setAttribute("fill",this.options.labelColor),this.labelText.anchor.x===.5?Q.setAttribute("text-anchor","middle"):this.labelText.anchor.x===1&&Q.setAttribute("text-anchor","end"),z.appendChild(Q)}return z.setAttribute("transform","translate("+String(this.labelText.x)+","+String(this.labelText.y)+")scale("+String(this.labelText.scale.x)+",1)"),[N,V]}return F}()}]),B}(O.default);r.default=j},function(f,r,t){var n=t(406),a=typeof self=="object"&&self&&self.Object===Object&&self,l=n||a||Function("return this")();f.exports=l},function(f,r){f.exports=d},function(f,r,t){var n=t(32),a=t(66);f.exports=t(36)?function(l,e,o){return n.f(l,e,a(1,o))}:function(l,e,o){return l[e]=o,l}},function(f,r,t){f.exports={default:t(222),__esModule:!0}},function(f,r){function t(n){var a=typeof n;return n!=null&&(a=="object"||a=="function")}f.exports=t},function(f,r,t){var n=t(829),a=t(290),l=a(function(e,o,s){n(e,o,s)});f.exports=l},function(f,r){var t={}.hasOwnProperty;f.exports=function(n,a){return t.call(n,a)}},function(f,r,t){var n=t(105),a=t(87);f.exports=function(l){return n(a(l))}},function(f,r,t){var n=t(92);f.exports=function(a,l,e){if(n(a),l===void 0)return a;switch(e){case 1:return function(o){return a.call(l,o)};case 2:return function(o,s){return a.call(l,o,s)};case 3:return function(o,s,u){return a.call(l,o,s,u)}}return function(){return a.apply(l,arguments)}}},function(f,r){f.exports=function(t){try{return!!t()}catch{return!0}}},function(f,r){f.exports={}},function(f,r,t){var n=t(295),a=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",l=Object.prototype.toString,e=Array.prototype.concat,o=Object.defineProperty,s=function(h){return typeof h=="function"&&l.call(h)==="[object Function]"},u=function(){var h={};try{o(h,"x",{enumerable:!1,value:h});for(var v in h)return!1;return h.x===h}catch{return!1}},c=o&&u(),m=function(h,v,x,y){v in h&&(!s(y)||!y())||(c?o(h,v,{configurable:!0,enumerable:!1,value:x,writable:!0}):h[v]=x)},p=function(h,v){var x=arguments.length>2?arguments[2]:{},y=n(v);a&&(y=e.call(y,Object.getOwnPropertySymbols(v)));for(var k=0;k<y.length;k+=1)m(h,y[k],v[y[k]],x[y[k]])};p.supportsDescriptors=!!c,f.exports=p},function(f,r,t){var n=t(947);f.exports=Function.prototype.bind||n},function(f,r,t){var n=t(87);f.exports=function(a){return Object(n(a))}},function(f,r,t){f.exports={default:t(241),__esModule:!0}},function(f,r){function t(n){return n!=null&&typeof n=="object"}f.exports=t},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.red=void 0;var n=t(839),a=o(n),l=t(840),e=o(l);function o(s){return s&&s.__esModule?s:{default:s}}r.default={simpleCheckForValidColor:function(s){var u=["r","g","b","a","h","s","l","v"],c=0,m=0;return(0,a.default)(u,function(p){if(s[p]&&(c+=1,isNaN(s[p])||(m+=1),p==="s"||p==="l")){var h=/^\d+%$/;h.test(s[p])&&(m+=1)}}),c===m?s:!1},toState:function(s,u){var c=s.hex?(0,e.default)(s.hex):(0,e.default)(s),m=c.toHsl(),p=c.toHsv(),h=c.toRgb(),v=c.toHex();m.s===0&&(m.h=u||0,p.h=u||0);var x=v==="000000"&&h.a===0;return{hsl:m,hex:x?"transparent":"#"+v,rgb:h,hsv:p,oldHue:s.h||u||m.h,source:s.source}},isValidHex:function(s){var u=String(s).charAt(0)==="#"?1:0;return s.length!==4+u&&s.length<7+u&&(0,e.default)(s).isValid()},getContrastingColor:function(s){if(!s)return"#fff";var u=this.toState(s);if(u.hex==="transparent")return"rgba(0,0,0,0.4)";var c=(u.rgb.r*299+u.rgb.g*587+u.rgb.b*114)/1e3;return c>=128?"#000":"#fff"}},r.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}}},function(f,r){typeof Object.create=="function"?f.exports=function(t,n){t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:f.exports=function(t,n){t.super_=n;var a=function(){};a.prototype=n.prototype,t.prototype=new a,t.prototype.constructor=t}},function(f,r,t){var n=t(53);f.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},function(f,r,t){var n=t(158),a=t(107);f.exports=Object.keys||function(l){return n(l,a)}},function(f,r,t){var n=t(215)(!0);t(109)(String,"String",function(a){this._t=String(a),this._i=0},function(){var a=this._t,l=this._i,e;return l>=a.length?{value:void 0,done:!0}:(e=n(a,l),this._i+=e.length,{value:e,done:!1})})},function(f,r,t){f.exports={default:t(520),__esModule:!0}},function(f,r,t){f.exports={default:t(239),__esModule:!0}},function(f,r,t){var n=r.NAMESPACES={HTML:"http://www.w3.org/1999/xhtml",MATHML:"http://www.w3.org/1998/Math/MathML",SVG:"http://www.w3.org/2000/svg",XLINK:"http://www.w3.org/1999/xlink",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"};r.ATTRS={TYPE:"type",ACTION:"action",ENCODING:"encoding",PROMPT:"prompt",NAME:"name",COLOR:"color",FACE:"face",SIZE:"size"},r.DOCUMENT_MODE={NO_QUIRKS:"no-quirks",QUIRKS:"quirks",LIMITED_QUIRKS:"limited-quirks"};var a=r.TAG_NAMES={A:"a",ADDRESS:"address",ANNOTATION_XML:"annotation-xml",APPLET:"applet",AREA:"area",ARTICLE:"article",ASIDE:"aside",B:"b",BASE:"base",BASEFONT:"basefont",BGSOUND:"bgsound",BIG:"big",BLOCKQUOTE:"blockquote",BODY:"body",BR:"br",BUTTON:"button",CAPTION:"caption",CENTER:"center",CODE:"code",COL:"col",COLGROUP:"colgroup",DD:"dd",DESC:"desc",DETAILS:"details",DIALOG:"dialog",DIR:"dir",DIV:"div",DL:"dl",DT:"dt",EM:"em",EMBED:"embed",FIELDSET:"fieldset",FIGCAPTION:"figcaption",FIGURE:"figure",FONT:"font",FOOTER:"footer",FOREIGN_OBJECT:"foreignObject",FORM:"form",FRAME:"frame",FRAMESET:"frameset",H1:"h1",H2:"h2",H3:"h3",H4:"h4",H5:"h5",H6:"h6",HEAD:"head",HEADER:"header",HGROUP:"hgroup",HR:"hr",HTML:"html",I:"i",IMG:"img",IMAGE:"image",INPUT:"input",IFRAME:"iframe",KEYGEN:"keygen",LABEL:"label",LI:"li",LINK:"link",LISTING:"listing",MAIN:"main",MALIGNMARK:"malignmark",MARQUEE:"marquee",MATH:"math",MENU:"menu",MENUITEM:"menuitem",META:"meta",MGLYPH:"mglyph",MI:"mi",MO:"mo",MN:"mn",MS:"ms",MTEXT:"mtext",NAV:"nav",NOBR:"nobr",NOFRAMES:"noframes",NOEMBED:"noembed",NOSCRIPT:"noscript",OBJECT:"object",OL:"ol",OPTGROUP:"optgroup",OPTION:"option",P:"p",PARAM:"param",PLAINTEXT:"plaintext",PRE:"pre",RB:"rb",RP:"rp",RT:"rt",RTC:"rtc",RUBY:"ruby",S:"s",SCRIPT:"script",SECTION:"section",SELECT:"select",SOURCE:"source",SMALL:"small",SPAN:"span",STRIKE:"strike",STRONG:"strong",STYLE:"style",SUB:"sub",SUMMARY:"summary",SUP:"sup",TABLE:"table",TBODY:"tbody",TEMPLATE:"template",TEXTAREA:"textarea",TFOOT:"tfoot",TD:"td",TH:"th",THEAD:"thead",TITLE:"title",TR:"tr",TRACK:"track",TT:"tt",U:"u",UL:"ul",SVG:"svg",VAR:"var",WBR:"wbr",XMP:"xmp"},l=r.SPECIAL_ELEMENTS=Object.create(null);l[n.HTML]=Object.create(null),l[n.HTML][a.ADDRESS]=!0,l[n.HTML][a.APPLET]=!0,l[n.HTML][a.AREA]=!0,l[n.HTML][a.ARTICLE]=!0,l[n.HTML][a.ASIDE]=!0,l[n.HTML][a.BASE]=!0,l[n.HTML][a.BASEFONT]=!0,l[n.HTML][a.BGSOUND]=!0,l[n.HTML][a.BLOCKQUOTE]=!0,l[n.HTML][a.BODY]=!0,l[n.HTML][a.BR]=!0,l[n.HTML][a.BUTTON]=!0,l[n.HTML][a.CAPTION]=!0,l[n.HTML][a.CENTER]=!0,l[n.HTML][a.COL]=!0,l[n.HTML][a.COLGROUP]=!0,l[n.HTML][a.DD]=!0,l[n.HTML][a.DETAILS]=!0,l[n.HTML][a.DIR]=!0,l[n.HTML][a.DIV]=!0,l[n.HTML][a.DL]=!0,l[n.HTML][a.DT]=!0,l[n.HTML][a.EMBED]=!0,l[n.HTML][a.FIELDSET]=!0,l[n.HTML][a.FIGCAPTION]=!0,l[n.HTML][a.FIGURE]=!0,l[n.HTML][a.FOOTER]=!0,l[n.HTML][a.FORM]=!0,l[n.HTML][a.FRAME]=!0,l[n.HTML][a.FRAMESET]=!0,l[n.HTML][a.H1]=!0,l[n.HTML][a.H2]=!0,l[n.HTML][a.H3]=!0,l[n.HTML][a.H4]=!0,l[n.HTML][a.H5]=!0,l[n.HTML][a.H6]=!0,l[n.HTML][a.HEAD]=!0,l[n.HTML][a.HEADER]=!0,l[n.HTML][a.HGROUP]=!0,l[n.HTML][a.HR]=!0,l[n.HTML][a.HTML]=!0,l[n.HTML][a.IFRAME]=!0,l[n.HTML][a.IMG]=!0,l[n.HTML][a.INPUT]=!0,l[n.HTML][a.LI]=!0,l[n.HTML][a.LINK]=!0,l[n.HTML][a.LISTING]=!0,l[n.HTML][a.MAIN]=!0,l[n.HTML][a.MARQUEE]=!0,l[n.HTML][a.MENU]=!0,l[n.HTML][a.META]=!0,l[n.HTML][a.NAV]=!0,l[n.HTML][a.NOEMBED]=!0,l[n.HTML][a.NOFRAMES]=!0,l[n.HTML][a.NOSCRIPT]=!0,l[n.HTML][a.OBJECT]=!0,l[n.HTML][a.OL]=!0,l[n.HTML][a.P]=!0,l[n.HTML][a.PARAM]=!0,l[n.HTML][a.PLAINTEXT]=!0,l[n.HTML][a.PRE]=!0,l[n.HTML][a.SCRIPT]=!0,l[n.HTML][a.SECTION]=!0,l[n.HTML][a.SELECT]=!0,l[n.HTML][a.SOURCE]=!0,l[n.HTML][a.STYLE]=!0,l[n.HTML][a.SUMMARY]=!0,l[n.HTML][a.TABLE]=!0,l[n.HTML][a.TBODY]=!0,l[n.HTML][a.TD]=!0,l[n.HTML][a.TEMPLATE]=!0,l[n.HTML][a.TEXTAREA]=!0,l[n.HTML][a.TFOOT]=!0,l[n.HTML][a.TH]=!0,l[n.HTML][a.THEAD]=!0,l[n.HTML][a.TITLE]=!0,l[n.HTML][a.TR]=!0,l[n.HTML][a.TRACK]=!0,l[n.HTML][a.UL]=!0,l[n.HTML][a.WBR]=!0,l[n.HTML][a.XMP]=!0,l[n.MATHML]=Object.create(null),l[n.MATHML][a.MI]=!0,l[n.MATHML][a.MO]=!0,l[n.MATHML][a.MN]=!0,l[n.MATHML][a.MS]=!0,l[n.MATHML][a.MTEXT]=!0,l[n.MATHML][a.ANNOTATION_XML]=!0,l[n.SVG]=Object.create(null),l[n.SVG][a.TITLE]=!0,l[n.SVG][a.FOREIGN_OBJECT]=!0,l[n.SVG][a.DESC]=!0},function(f,r,t){var n={value:function(){}};function a(){for(var c=0,m=arguments.length,p={},h;c<m;++c){if(!(h=arguments[c]+"")||h in p)throw new Error("illegal type: "+h);p[h]=[]}return new l(p)}function l(c){this._=c}function e(c,m){return c.trim().split(/^|\s+/).map(function(p){var h="",v=p.indexOf(".");if(v>=0&&(h=p.slice(v+1),p=p.slice(0,v)),p&&!m.hasOwnProperty(p))throw new Error("unknown type: "+p);return{type:p,name:h}})}l.prototype=a.prototype={constructor:l,on:function(c,m){var p=this._,h=e(c+"",p),v,x=-1,y=h.length;if(arguments.length<2){for(;++x<y;)if((v=(c=h[x]).type)&&(v=o(p[v],c.name)))return v;return}if(m!=null&&typeof m!="function")throw new Error("invalid callback: "+m);for(;++x<y;)if(v=(c=h[x]).type)p[v]=s(p[v],c.name,m);else if(m==null)for(v in p)p[v]=s(p[v],c.name,null);return this},copy:function(){var c={},m=this._;for(var p in m)c[p]=m[p].slice();return new l(c)},call:function(c,m){if((v=arguments.length-2)>0)for(var p=new Array(v),h=0,v,x;h<v;++h)p[h]=arguments[h+2];if(!this._.hasOwnProperty(c))throw new Error("unknown type: "+c);for(x=this._[c],h=0,v=x.length;h<v;++h)x[h].value.apply(m,p)},apply:function(c,m,p){if(!this._.hasOwnProperty(c))throw new Error("unknown type: "+c);for(var h=this._[c],v=0,x=h.length;v<x;++v)h[v].value.apply(m,p)}};function o(c,m){for(var p=0,h=c.length,v;p<h;++p)if((v=c[p]).name===m)return v.value}function s(c,m,p){for(var h=0,v=c.length;h<v;++h)if(c[h].name===m){c[h]=n,c=c.slice(0,h).concat(c.slice(h+1));break}return p!=null&&c.push({name:m,value:p}),c}var u=a;t.d(r,"a",function(){return u})},function(f,r){f.exports=function(t,n){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:n}}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(2),a=o(n),l=t(1),e=o(l);t(68);function o(u){return u&&u.__esModule?u:{default:u}}var s=function(u){return e.default.createElement("div",{"data-menu-item-for":typeof u.children=="string"?u.children:null,onClick:function(){function c(m){return u.onClick(m)}return c}(),onMouseEnter:function(){function c(m){return u.onMouseEnter(m)}return c}(),onMouseLeave:function(){function c(m){return u.onMouseLeave(m)}return c}(),role:"button",className:"ContextMenu-module_context-menu-item-1HeVv",tabIndex:0},e.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},u.children))};s.defaultProps={onMouseEnter:function(){function u(){}return u}(),onMouseLeave:function(){function u(){}return u}()},s.propTypes={children:a.default.node.isRequired,onClick:a.default.func.isRequired,onMouseEnter:a.default.func,onMouseLeave:a.default.func},r.default=s},function(f,r,t){f.exports={"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-dark":"ContextMenu-module_context-menu-dark-2PO31","context-menu-icon":"ContextMenu-module_context-menu-icon-I4kiw","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.Provider=r.fake=void 0;var n=t(34),a=u(n),l=t(1),e=u(l),o=t(171),s=u(o);function u(x){return x&&x.__esModule?x:{default:x}}var c={__fake__:!0,publish:s.default,subscribe:s.default,unsubscribe:s.default},m=e.default.createContext(c),p=m.Provider,h=m.Consumer,v=function(x){return e.default.forwardRef(function(y,k){return e.default.createElement(h,null,function(T){return e.default.createElement(x,(0,a.default)({ref:k},y,{pubSub:T}))})})};r.default=v,r.fake=c,r.Provider=p},function(f,r,t){var n=t(413),a=t(144),l=t(795),e=t(31);function o(s,u){var c=e(s)?n:l;return c(s,a(u,3))}f.exports=o},function(f,r,t){(function(n){var a=Object.getOwnPropertyDescriptors||function(z){for(var U=Object.keys(z),Z={},st=0;st<U.length;st++)Z[U[st]]=Object.getOwnPropertyDescriptor(z,U[st]);return Z},l=/%[sdj%]/g;r.format=function(z){if(!S(z)){for(var U=[],Z=0;Z<arguments.length;Z++)U.push(s(arguments[Z]));return U.join(" ")}for(var Z=1,st=arguments,Y=st.length,rt=String(z).replace(l,function(K){if(K==="%%")return"%";if(Z>=Y)return K;switch(K){case"%s":return String(st[Z++]);case"%d":return Number(st[Z++]);case"%j":try{return JSON.stringify(st[Z++])}catch{return"[Circular]"}default:return K}}),ft=st[Z];Z<Y;ft=st[++Z])_(ft)||!I(ft)?rt+=" "+ft:rt+=" "+s(ft);return rt},r.deprecate=function(z,U){if(typeof n<"u"&&n.noDeprecation===!0)return z;if(typeof n>"u")return function(){return r.deprecate(z,U).apply(this,arguments)};var Z=!1;function st(){if(!Z){if(n.throwDeprecation)throw new Error(U);n.traceDeprecation?console.trace(U):console.error(U),Z=!0}return z.apply(this,arguments)}return st};var e={},o;r.debuglog=function(z){if(O(o)&&(o=Object({NODE_ENV:"production"}).NODE_DEBUG||""),z=z.toUpperCase(),!e[z])if(new RegExp("\\b"+z+"\\b","i").test(o)){var U=n.pid;e[z]=function(){var Z=r.format.apply(r,arguments);console.error("%s %d: %s",z,U,Z)}}else e[z]=function(){};return e[z]};function s(z,U){var Z={seen:[],stylize:c};return arguments.length>=3&&(Z.depth=arguments[2]),arguments.length>=4&&(Z.colors=arguments[3]),E(U)?Z.showHidden=U:U&&r._extend(Z,U),O(Z.showHidden)&&(Z.showHidden=!1),O(Z.depth)&&(Z.depth=2),O(Z.colors)&&(Z.colors=!1),O(Z.customInspect)&&(Z.customInspect=!0),Z.colors&&(Z.stylize=u),p(Z,z,Z.depth)}r.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function u(z,U){var Z=s.styles[U];return Z?"\x1B["+s.colors[Z][0]+"m"+z+"\x1B["+s.colors[Z][1]+"m":z}function c(z,U){return z}function m(z){var U={};return z.forEach(function(Z,st){U[Z]=!0}),U}function p(z,U,Z){if(z.customInspect&&U&&L(U.inspect)&&U.inspect!==r.inspect&&!(U.constructor&&U.constructor.prototype===U)){var st=U.inspect(Z,z);return S(st)||(st=p(z,st,Z)),st}var Y=h(z,U);if(Y)return Y;var rt=Object.keys(U),ft=m(rt);if(z.showHidden&&(rt=Object.getOwnPropertyNames(U)),H(U)&&(rt.indexOf("message")>=0||rt.indexOf("description")>=0))return v(U);if(rt.length===0){if(L(U)){var tt=U.name?": "+U.name:"";return z.stylize("[Function"+tt+"]","special")}if(R(U))return z.stylize(RegExp.prototype.toString.call(U),"regexp");if(M(U))return z.stylize(Date.prototype.toString.call(U),"date");if(H(U))return v(U)}var K="",Q=!1,ct=["{","}"];if(T(U)&&(Q=!0,ct=["[","]"]),L(U)){var nt=U.name?": "+U.name:"";K=" [Function"+nt+"]"}if(R(U)&&(K=" "+RegExp.prototype.toString.call(U)),M(U)&&(K=" "+Date.prototype.toUTCString.call(U)),H(U)&&(K=" "+v(U)),rt.length===0&&(!Q||U.length==0))return ct[0]+K+ct[1];if(Z<0)return R(U)?z.stylize(RegExp.prototype.toString.call(U),"regexp"):z.stylize("[Object]","special");z.seen.push(U);var ot;return Q?ot=x(z,U,Z,ft,rt):ot=rt.map(function(yt){return y(z,U,Z,ft,yt,Q)}),z.seen.pop(),k(ot,K,ct)}function h(z,U){if(O(U))return z.stylize("undefined","undefined");if(S(U)){var Z="'"+JSON.stringify(U).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return z.stylize(Z,"string")}if(C(U))return z.stylize(""+U,"number");if(E(U))return z.stylize(""+U,"boolean");if(_(U))return z.stylize("null","null")}function v(z){return"["+Error.prototype.toString.call(z)+"]"}function x(z,U,Z,st,Y){for(var rt=[],ft=0,tt=U.length;ft<tt;++ft)N(U,String(ft))?rt.push(y(z,U,Z,st,String(ft),!0)):rt.push("");return Y.forEach(function(K){K.match(/^\d+$/)||rt.push(y(z,U,Z,st,K,!0))}),rt}function y(z,U,Z,st,Y,rt){var ft,tt,K;if(K=Object.getOwnPropertyDescriptor(U,Y)||{value:U[Y]},K.get?K.set?tt=z.stylize("[Getter/Setter]","special"):tt=z.stylize("[Getter]","special"):K.set&&(tt=z.stylize("[Setter]","special")),N(st,Y)||(ft="["+Y+"]"),tt||(z.seen.indexOf(K.value)<0?(_(Z)?tt=p(z,K.value,null):tt=p(z,K.value,Z-1),tt.indexOf(`
`)>-1&&(rt?tt=tt.split(`
`).map(function(Q){return"  "+Q}).join(`
`).substr(2):tt=`
`+tt.split(`
`).map(function(Q){return"   "+Q}).join(`
`))):tt=z.stylize("[Circular]","special")),O(ft)){if(rt&&Y.match(/^\d+$/))return tt;ft=JSON.stringify(""+Y),ft.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ft=ft.substr(1,ft.length-2),ft=z.stylize(ft,"name")):(ft=ft.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ft=z.stylize(ft,"string"))}return ft+": "+tt}function k(z,U,Z){var st=z.reduce(function(Y,rt){return rt.indexOf(`
`)>=0,Y+rt.replace(/\u001b\[\d\d?m/g,"").length+1},0);return st>60?Z[0]+(U===""?"":U+`
 `)+" "+z.join(`,
  `)+" "+Z[1]:Z[0]+U+" "+z.join(", ")+" "+Z[1]}function T(z){return Array.isArray(z)}r.isArray=T;function E(z){return typeof z=="boolean"}r.isBoolean=E;function _(z){return z===null}r.isNull=_;function A(z){return z==null}r.isNullOrUndefined=A;function C(z){return typeof z=="number"}r.isNumber=C;function S(z){return typeof z=="string"}r.isString=S;function P(z){return typeof z=="symbol"}r.isSymbol=P;function O(z){return z===void 0}r.isUndefined=O;function R(z){return I(z)&&j(z)==="[object RegExp]"}r.isRegExp=R;function I(z){return typeof z=="object"&&z!==null}r.isObject=I;function M(z){return I(z)&&j(z)==="[object Date]"}r.isDate=M;function H(z){return I(z)&&(j(z)==="[object Error]"||z instanceof Error)}r.isError=H;function L(z){return typeof z=="function"}r.isFunction=L;function D(z){return z===null||typeof z=="boolean"||typeof z=="number"||typeof z=="string"||typeof z=="symbol"||typeof z>"u"}r.isPrimitive=D,r.isBuffer=t(971);function j(z){return Object.prototype.toString.call(z)}function W(z){return z<10?"0"+z.toString(10):z.toString(10)}var B=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function F(){var z=new Date,U=[W(z.getHours()),W(z.getMinutes()),W(z.getSeconds())].join(":");return[z.getDate(),B[z.getMonth()],U].join(" ")}r.log=function(){console.log("%s - %s",F(),r.format.apply(r,arguments))},r.inherits=t(58),r._extend=function(z,U){if(!U||!I(U))return z;for(var Z=Object.keys(U),st=Z.length;st--;)z[Z[st]]=U[Z[st]];return z};function N(z,U){return Object.prototype.hasOwnProperty.call(z,U)}var X=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;r.promisify=function(z){if(typeof z!="function")throw new TypeError('The "original" argument must be of type Function');if(X&&z[X]){var U=z[X];if(typeof U!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(U,X,{value:U,enumerable:!1,writable:!1,configurable:!0}),U}function U(){for(var Z,st,Y=new Promise(function(tt,K){Z=tt,st=K}),rt=[],ft=0;ft<arguments.length;ft++)rt.push(arguments[ft]);rt.push(function(tt,K){tt?st(tt):Z(K)});try{z.apply(this,rt)}catch(tt){st(tt)}return Y}return Object.setPrototypeOf(U,Object.getPrototypeOf(z)),X&&Object.defineProperty(U,X,{value:U,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(U,a(z))},r.promisify.custom=X;function G(z,U){if(!z){var Z=new Error("Promise was rejected with a falsy value");Z.reason=z,z=Z}return U(z)}function V(z){if(typeof z!="function")throw new TypeError('The "original" argument must be of type Function');function U(){for(var Z=[],st=0;st<arguments.length;st++)Z.push(arguments[st]);var Y=Z.pop();if(typeof Y!="function")throw new TypeError("The last argument must be of type Function");var rt=this,ft=function(){return Y.apply(rt,arguments)};z.apply(this,Z).then(function(tt){n.nextTick(ft,null,tt)},function(tt){n.nextTick(G,tt,ft)})}return Object.setPrototypeOf(U,Object.getPrototypeOf(z)),Object.defineProperties(U,a(z)),U}r.callbackify=V}).call(this,t(150))},function(f,r,t){var n="$";function a(){}a.prototype=l.prototype={constructor:a,has:function(u){return n+u in this},get:function(u){return this[n+u]},set:function(u,c){return this[n+u]=c,this},remove:function(u){var c=n+u;return c in this&&delete this[c]},clear:function(){for(var u in this)u[0]===n&&delete this[u]},keys:function(){var u=[];for(var c in this)c[0]===n&&u.push(c.slice(1));return u},values:function(){var u=[];for(var c in this)c[0]===n&&u.push(this[c]);return u},entries:function(){var u=[];for(var c in this)c[0]===n&&u.push({key:c.slice(1),value:this[c]});return u},size:function(){var u=0;for(var c in this)c[0]===n&&++u;return u},empty:function(){for(var u in this)if(u[0]===n)return!1;return!0},each:function(u){for(var c in this)c[0]===n&&u(this[c],c.slice(1),this)}};function l(u,c){var m=new a;if(u instanceof a)u.each(function(y,k){m.set(k,y)});else if(Array.isArray(u)){var p=-1,h=u.length,v;if(c==null)for(;++p<h;)m.set(p,u[p]);else for(;++p<h;)m.set(c(v=u[p],p,u),v)}else if(u)for(var x in u)m.set(x,u[x]);return m}var e=l;function o(){}var s=e.prototype;o.prototype={constructor:o,has:s.has,add:function(u){return u+="",this[n+u]=u,this},remove:s.remove,clear:s.clear,values:s.keys,size:s.size,empty:s.empty,each:s.each},t.d(r,"a",function(){return e})},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(18),a=m(n),l=t(19),e=m(l),o=t(104),s=t(24),u=t(10),c=t(69);function m(h){return h&&h.__esModule?h:{default:h}}function p(h,v){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:c.fake,y={};return y.absToChr=function(k){return y.chrPositions?(0,u.absToChr)(k,y):null},y.chrToAbs=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],T=(0,e.default)(k,2),E=T[0],_=T[1];return y.chrPositions?(0,u.chrToAbs)(E,_,y):null},s.tileProxy.text(h,function(k,T){if(k)v&&v(null);else{var E=(0,o.tsvParseRows)(T),_=(0,u.parseChromsizesRows)(E);(0,a.default)(_).forEach(function(A){y[A]=_[A]}),v&&v(y)}},x).then(function(){return y})}r.default=p},function(f,r){var t={}.toString;f.exports=function(n){return t.call(n).slice(8,-1)}},function(f,r){f.exports=!0},function(f,r,t){t(212);for(var n=t(23),a=t(43),l=t(51),e=t(21)("toStringTag"),o="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),s=0;s<o.length;s++){var u=o[s],c=n[u],m=c&&c.prototype;m&&!m[e]&&a(m,e,u),l[u]=l.Array}},function(f,r,t){var n=t(32).f,a=t(47),l=t(21)("toStringTag");f.exports=function(e,o,s){e&&!a(e=s?e:e.prototype,l)&&n(e,l,{configurable:!0,value:o})}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.Provider=void 0;var n=t(34),a=u(n),l=t(1),e=u(l),o=t(171),s=u(o);function u(v){return v&&v.__esModule?v:{default:v}}var c=e.default.createContext({close:s.default,open:s.default}),m=c.Provider,p=c.Consumer,h=function(v){return e.default.forwardRef(function(x,y){return e.default.createElement(p,null,function(k){return e.default.createElement(v,(0,a.default)({ref:y},x,{theme:k}))})})};r.default=h,r.Provider=m},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(63),a=nt(n),l=t(55),e=nt(l),o=t(95),s=nt(o),u=t(37),c=nt(u),m=t(19),p=nt(m),h=t(34),v=nt(h),x=t(35),y=nt(x),k=t(17),T=nt(k),E=t(25),_=nt(E),A=t(18),C=nt(A),S=t(30),P=nt(S),O=t(38),R=nt(O),I=t(5),M=nt(I),H=t(3),L=nt(H),D=t(4),j=nt(D),W=t(6),B=nt(W),F=t(14),N=nt(F),X=t(7),G=nt(X);r.getValueScale=ot;var V=t(28),z=t(8),U=t(26),Z=nt(U),st=t(245),Y=nt(st),rt=t(40),ft=nt(rt),tt=t(10),K=t(617),Q=nt(K),ct=t(11);function nt(pt){return pt&&pt.__esModule?pt:{default:pt}}function ot(pt,dt,mt,q,$){var J=pt||$,lt=0;return J==="log"&&dt>0?["log",(0,V.scaleLog)().range([254,0]).domain([dt+lt,q+lt])]:["linear",(0,V.scaleLinear)().range([254,0]).domain([dt,q])]}var yt=function(pt){(0,G.default)(dt,pt);function dt(mt,q){(0,L.default)(this,dt);var $=(0,B.default)(this,(dt.__proto__||(0,M.default)(dt)).call(this,mt,q)),J=mt.pubSub,lt=mt.dataConfig,ut=mt.handleTilesetInfoReceived,ht=mt.animate,bt=mt.onValueScaleChanged;return $.renderVersion=1,$.visibleTiles=new R.default,$.visibleTileIds=new R.default,$.renderingTiles=new R.default,$.fetching=new R.default,$.scale={},$.fetchedTiles={},$.tileGraphics={},$.maxZoom=0,$.medianVisibleValue=null,$.backgroundTaskScheduler=Q.default,$.continuousScaling="requestIdleCallback"in window,$.valueScaleMin=null,$.fixedValueScaleMin=null,$.valueScaleMax=null,$.fixedValueScaleMax=null,$.listeners={},$.pubSub=J,$.animate=ht,$.onValueScaleChanged=bt,$.prevValueScale=null,mt.dataFetcher?$.dataFetcher=mt.dataFetcher:$.dataFetcher=new Y.default(lt,$.pubSub),$.tilesetInfo=null,$.uuid=Z.default.nice(),$.trackNotFoundText=new ct.GLOBALS.PIXI.Text("",{fontSize:"12px",fontFamily:"Arial",fill:"black"}),$.pLabel.addChild($.trackNotFoundText),$.refreshTilesDebounced=(0,tt.throttleAndDebounce)($.refreshTiles.bind($),ct.ZOOM_DEBOUNCE,ct.ZOOM_DEBOUNCE),$.dataFetcher.tilesetInfo(function(kt,vt){if($.tilesetInfo=kt,$.dataFetcher.dataConfig.tilesetUid||($.dataFetcher.dataConfig.tilesetUid=vt),$.tilesetUid=$.dataFetcher.dataConfig.tilesetUid,$.server=$.dataFetcher.dataConfig.server||"unknown",$.tilesetInfo.chromsizes&&($.chromInfo=(0,tt.parseChromsizesRows)($.tilesetInfo.chromsizes)),"error"in $.tilesetInfo){console.warn("Error retrieving tilesetInfo:",lt,$.tilesetInfo.error),$.tilesetInfo=null,$.setError($.tilesetInfo.error);return}$.tilesetInfo.resolutions?$.maxZoom=$.tilesetInfo.resolutions.length:$.maxZoom=+$.tilesetInfo.max_zoom,$.options&&$.options.maxZoom&&($.options.maxZoom>=0?$.maxZoom=Math.min($.options.maxZoom,$.maxZoom):console.error("Invalid maxZoom on track:",$)),$.refreshTiles(),ut&&ut(kt),$.options||($.options={}),$.options.name=$.options.name||kt.name,$.checkValueScaleLimits(),$.draw(),$.drawLabel(),$.animate()}),$}return(0,j.default)(dt,[{key:"setError",value:function(){function mt(q){this.errorTextText=q,this.draw(),this.animate()}return mt}()},{key:"setFixedValueScaleMin",value:function(){function mt(q){(0,P.default)(+q)?this.fixedValueScaleMin=null:this.fixedValueScaleMin=+q}return mt}()},{key:"setFixedValueScaleMax",value:function(){function mt(q){(0,P.default)(+q)?this.fixedValueScaleMax=null:this.fixedValueScaleMax=+q}return mt}()},{key:"checkValueScaleLimits",value:function(){function mt(){this.valueScaleMin=typeof this.options.valueScaleMin<"u"?+this.options.valueScaleMin:null,this.fixedValueScaleMin!==null&&(this.valueScaleMin=this.fixedValueScaleMin),this.valueScaleMax=typeof this.options.valueScaleMax<"u"?+this.options.valueScaleMax:null,this.fixedValueScaleMax!==null&&(this.valueScaleMax=this.fixedValueScaleMax)}return mt}()},{key:"on",value:function(){function mt(q,$){this.listeners[q]||(this.listeners[q]=[]),this.listeners[q].push($)}return mt}()},{key:"off",value:function(){function mt(q,$){var J=this.listeners[q].indexOf($);J===-1||J>=this.listeners[q].length||this.listeners[q].splice(J,1)}return mt}()},{key:"rerender",value:function(){function mt(q){(0,N.default)(dt.prototype.__proto__||(0,M.default)(dt.prototype),"rerender",this).call(this,q),this.renderVersion+=1,this.tilesetInfo&&(this.checkValueScaleLimits(),this.tilesetInfo.resolutions?this.maxZoom=this.tilesetInfo.resolutions.length:this.maxZoom=+this.tilesetInfo.max_zoom,this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?this.maxZoom=Math.min(this.options.maxZoom,this.maxZoom):console.error("Invalid maxZoom on track:",this)))}return mt}()},{key:"visibleAndFetchedIds",value:function(){function mt(){var q=this;return(0,C.default)(this.fetchedTiles).filter(function($){return q.visibleTileIds.has($)})}return mt}()},{key:"visibleAndFetchedTiles",value:function(){function mt(){var q=this;return this.visibleAndFetchedIds().map(function($){return q.fetchedTiles[$]})}return mt}()},{key:"setVisibleTiles",value:function(){function mt(q){var $=this;this.visibleTiles=q.map(function(J){return{tileId:$.tileToLocalId(J),remoteId:$.tileToRemoteId(J),mirrored:J.mirrored}}),this.visibleTileIds=new R.default(this.visibleTiles.map(function(J){return J.tileId}))}return mt}()},{key:"removeOldTiles",value:function(){function mt(){var q=this;this.calculateVisibleTiles();var $=new R.default((0,C.default)(this.fetchedTiles)),J=[].concat((0,_.default)($)).filter(function(lt){return!q.visibleTileIds.has(lt)});this.removeTiles(J)}return mt}()},{key:"refreshTiles",value:function(){function mt(){var q=this;if(this.tilesetInfo){this.calculateVisibleTiles();for(var $=new R.default((0,C.default)(this.fetchedTiles)),J=[].concat((0,_.default)(this.visibleTiles)).filter(function(ut){return!q.fetching.has(ut.remoteId)&&!$.has(ut.tileId)}),lt=0;lt<J.length;lt++)this.fetching.add(J[lt].remoteId);this.removeOldTiles(),this.fetchNewTiles(J)}}return mt}()},{key:"parentInFetched",value:function(){function mt(q){for(var $=q.tileData.tilesetUid,J=q.tileData.zoomLevel,lt=q.tileData.tilePos;J>0;){J-=1,lt=lt.map(function(ht){return Math.floor(ht/2)});var ut=String($)+"."+String(J)+"."+String(lt.join("."));if(ut in this.fetchedTiles)return!0}return!1}return mt}()},{key:"parentTileId",value:function(){function mt(q){var $=q.tileData.zoomLevel-1,J=q.tileData.tilePos.map(function(ut){return Math.floor(ut/2)}),lt=q.tileData.tilesetUid;return String(lt)+"."+$+"."+String(J.join("."))}return mt}()},{key:"removeTiles",value:function(){function mt(q){var $=this;!q.length||!this.areAllVisibleTilesLoaded()||this.renderingTiles.size||(q.forEach(function(J){var lt=J;$.destroyTile($.fetchedTiles[lt]),lt in $.tileGraphics&&($.pMain.removeChild($.tileGraphics[lt]),delete $.tileGraphics[lt]),delete $.fetchedTiles[lt]}),this.synchronizeTilesAndGraphics(),this.draw())}return mt}()},{key:"zoomed",value:function(){function mt(q,$){var J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,lt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;this.xScale(q),this.yScale($),this.refreshTilesDebounced(),this.pMobile.position.x=lt,this.pMobile.position.y=this.position[1],this.pMobile.scale.x=J,this.pMobile.scale.y=1}return mt}()},{key:"setPosition",value:function(){function mt(q){(0,N.default)(dt.prototype.__proto__||(0,M.default)(dt.prototype),"setPosition",this).call(this,q)}return mt}()},{key:"setDimensions",value:function(){function mt(q){(0,N.default)(dt.prototype.__proto__||(0,M.default)(dt.prototype),"setDimensions",this).call(this,q)}return mt}()},{key:"areAllVisibleTilesLoaded",value:function(){function mt(){for(var q=new R.default((0,C.default)(this.fetchedTiles)),$=[].concat((0,_.default)(this.visibleTileIds)),J=0;J<$.length;J++)if(!q.has($[J]))return!1;return!0}return mt}()},{key:"allTilesLoaded",value:function(){function mt(){}return mt}()},{key:"minValue",value:function(){function mt(q){return q?(this.scale.minValue=q,this):this.valueScaleMin!==null?this.valueScaleMin:this.scale.minValue}return mt}()},{key:"maxValue",value:function(){function mt(q){return q?(this.scale.maxValue=q,this):this.valueScaleMax!==null?this.valueScaleMax:this.scale.maxValue}return mt}()},{key:"minRawValue",value:function(){function mt(){return this.scale.minRawValue}return mt}()},{key:"maxRawValue",value:function(){function mt(){return this.scale.maxRawValue}return mt}()},{key:"initTile",value:function(){function mt(){this.scale.minRawValue=this.continuousScaling?this.minVisibleValue():this.minVisibleValueInTiles(),this.scale.maxRawValue=this.continuousScaling?this.maxVisibleValue():this.maxVisibleValueInTiles(),this.scale.minValue=this.scale.minRawValue,this.scale.maxValue=this.scale.maxRawValue}return mt}()},{key:"updateTile",value:function(){function mt(){}return mt}()},{key:"destroyTile",value:function(){function mt(){}return mt}()},{key:"addMissingGraphics",value:function(){function mt(){var q=(0,C.default)(this.fetchedTiles);this.renderVersion+=1;for(var $=0;$<q.length;$++)if(!(q[$]in this.tileGraphics)){var J=new ct.GLOBALS.PIXI.Graphics;this.pMain.addChild(J),this.fetchedTiles[q[$]].graphics=J,this.initTile(this.fetchedTiles[q[$]]),this.tileGraphics[q[$]]=J}}return mt}()},{key:"updateExistingGraphics",value:function(){function mt(){for(var q=(0,C.default)(this.fetchedTiles),$=0;$<q.length;$++){var J=this.fetchedTiles[q[$]];this.updateTile(J)}}return mt}()},{key:"synchronizeTilesAndGraphics",value:function(){function mt(){if(this.addMissingGraphics(),this.removeOldTiles(),this.updateExistingGraphics(),this.listeners.dataChanged){var q=!0,$=!1,J=void 0;try{for(var lt=(0,T.default)(this.listeners.dataChanged),ut;!(q=(ut=lt.next()).done);q=!0){var ht=ut.value;ht(this.visibleAndFetchedTiles().map(function(bt){return bt.tileData}))}}catch(bt){$=!0,J=bt}finally{try{!q&&lt.return&&lt.return()}finally{if($)throw J}}}}return mt}()},{key:"loadTileData",value:function(){function mt(q,$){var J=this.lruCache.get(q.tileId);return J||(J=$(q.data,q.type),this.lruCache.put(q.tileId,J)),J}return mt}()},{key:"fetchNewTiles",value:function(){function mt(q){if(q.length>0){var $=[].concat((0,_.default)(new R.default(q.map(function(J){return J.remoteId}))));this.dataFetcher.fetchTilesDebounced(this.receivedTiles.bind(this),$)}}return mt}()},{key:"receivedTiles",value:function(){function mt(q){for(var $=this,J=function(){function kt(vt){var Et=$.visibleTiles[vt].tileId;if(!q[$.visibleTiles[vt].remoteId])return"continue";if($.visibleTiles[vt].remoteId in q){if(Et in $.fetchedTiles||($.fetchedTiles[Et]=$.visibleTiles[vt]),Array.isArray(q[$.visibleTiles[vt].remoteId])){var Rt=q[$.visibleTiles[vt].remoteId];$.fetchedTiles[Et].tileData=[].concat((0,_.default)(Rt)),(0,C.default)(Rt).filter(function(Vt){return(0,P.default)(+Vt)}).forEach(function(Vt){$.fetchedTiles[Et].tileData[Vt]=Rt[Vt]})}else $.fetchedTiles[Et].tileData=(0,v.default)({},q[$.visibleTiles[vt].remoteId]);$.fetchedTiles[Et].tileData.error&&console.warn("Error in loaded tile",Et,$.fetchedTiles[Et].tileData)}}return kt}(),lt=0;lt<this.visibleTiles.length;lt++)var ut=J(lt);for(var ht in q)if(q[ht]){var bt=q[ht].tilePositionId;this.fetching.has(bt)&&this.fetching.delete(bt)}this.synchronizeTilesAndGraphics(),this.draw(),this.drawLabel(),this.valueScale&&(!this.prevValueScale||(0,y.default)(this.valueScale.domain())!==(0,y.default)(this.prevValueScale.domain()))&&(this.prevValueScale=this.valueScale.copy(),this.onValueScaleChanged&&this.onValueScaleChanged()),this.animate(),this.areAllVisibleTilesLoaded()&&this.pubSub&&this.pubSub.publish("TiledPixiTrack.tilesLoaded",{uuid:this.uuid})}return mt}()},{key:"draw",value:function(){function mt(){var q=this;if(!this.delayDrawing){if(this.tilesetInfo)this.trackNotFoundText.visible=!1;else{this.dataFetcher.tilesetInfoLoading?this.trackNotFoundText.text="Loading...":this.trackNotFoundText.text="Tileset info not found. Server: ["+String(this.server)+"] tilesetUid: ["+String(this.tilesetUid)+"]";var $=(0,p.default)(this.position,2);this.trackNotFoundText.x=$[0],this.trackNotFoundText.y=$[1],this.flipText&&(this.trackNotFoundText.anchor.x=1,this.trackNotFoundText.scale.x=-1),this.trackNotFoundText.visible=!0}this.pubSub&&this.pubSub.publish("TiledPixiTrack.tilesDrawnStart",{uuid:this.uuid});var J=(0,c.default)(this.fetchedTiles).map(function(lt){return lt.tileData&&lt.tileData.error&&String(lt.tileId)+": "+String(lt.tileData.error)}).filter(function(lt){return lt});J.length?this.errorTextText=J.join(`
`):this.errorTextText="",(0,N.default)(dt.prototype.__proto__||(0,M.default)(dt.prototype),"draw",this).call(this),(0,C.default)(this.fetchedTiles).forEach(function(lt){q.drawTile(q.fetchedTiles[lt])}),this.pubSub&&this.pubSub.publish("TiledPixiTrack.tilesDrawnEnd",{uuid:this.uuid})}}return mt}()},{key:"drawTile",value:function(){function mt(){}return mt}()},{key:"calculateMedianVisibleValue",value:function(){function mt(){var q,$=this;this.areAllVisibleTilesLoaded()&&this.allTilesLoaded();var J=this.visibleAndFetchedIds();J.length===0&&(J=(0,C.default)(this.fetchedTiles));var lt=(q=[]).concat.apply(q,(0,_.default)(J.filter(function(ut){return $.fetchedTiles[ut].tileData.dense}).map(function(ut){return(0,s.default)($.fetchedTiles[ut].tileData.dense)}))).filter(function(ut){return ut>0});return this.medianVisibleValue=(0,z.median)(lt),this.medianVisibleValue}return mt}()},{key:"allVisibleValues",value:function(){function mt(){var q,$=this;return(q=[]).concat.apply(q,(0,_.default)(this.visibleAndFetchedIds().map(function(J){return(0,s.default)($.fetchedTiles[J].tileData.dense)})))}return mt}()},{key:"minVisibleValue",value:function(){function mt(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.minVisibleValueInTiles(q)}return mt}()},{key:"minVisibleValueInTiles",value:function(){function mt(){var q=this,$=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,J=this.visibleAndFetchedIds();J.length===0&&(J=(0,C.default)(this.fetchedTiles));var lt=Math.min.apply(Math,(0,_.default)(J.map(function(ut){return q.fetchedTiles[ut].tileData.minNonZero})));return lt===e.default&&(lt=null),$?lt:this.valueScaleMin!==null?this.valueScaleMin:lt}return mt}()},{key:"maxVisibleValue",value:function(){function mt(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.maxVisibleValueInTiles(q)}return mt}()},{key:"maxVisibleValueInTiles",value:function(){function mt(){var q=this,$=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,J=this.visibleAndFetchedIds();J.length===0&&(J=(0,C.default)(this.fetchedTiles));var lt=Math.max.apply(Math,(0,_.default)(J.map(function(ut){return q.fetchedTiles[ut].tileData.maxNonZero})));return lt===a.default&&(lt=null),$?lt:this.valueScaleMax!==null?this.valueScaleMax:lt}return mt}()},{key:"makeValueScale",value:function(){function mt(q,$,J,lt){var ut=null,ht=0,bt=lt;(bt===null||typeof bt>"u")&&(bt=6);var kt=Math.min(this.dimensions[1]-bt,bt),vt=Math.max(this.dimensions[1]-bt,bt);if(this.dimensions[1]-bt<bt&&(kt=this.dimensions[1]/2,vt=this.dimensions[1]/2),this.options.valueScaling==="log")ht=$,ht||(ht=q),ut=(0,V.scaleLog)().domain([ht,J+ht]).range([kt,vt]);else if(this.options.valueScaling==="quantile"){var Et=this.dimensions[1]-bt,Rt=bt,Vt=(0,V.scaleQuantile)().domain(this.allVisibleValues()).range((0,z.range)(Et,Rt,(Rt-Et)/256));return Vt.ticks=function(oe){return(0,z.ticks)(Et,Rt,oe)},[Vt,0]}else if(this.options.valueScaling==="setquantile"){var ee=this.dimensions[1]-bt,Tt=bt,_t=new R.default(this.allVisibleValues()),zt=(0,V.scaleQuantile)().domain([].concat((0,_.default)(_t))).range((0,z.range)(ee,Tt,(Tt-ee)/256));return zt.ticks=function(oe){return(0,z.ticks)(ee,Tt,oe)},[zt,0]}else ut=(0,V.scaleLinear)().domain([q,J]).range([vt,kt]);return[ut,ht]}return mt}()}]),dt}(ft.default);r.default=yt},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(5),a=T(n),l=t(3),e=T(l),o=t(4),s=T(o),u=t(6),c=T(u),m=t(7),p=T(m),h=t(0),v=t(26),x=T(v),y=t(177),k=T(y);function T(_){return _&&_.__esModule?_:{default:_}}var E=function(_){(0,p.default)(A,_);function A(C,S){(0,e.default)(this,A);var P=(0,c.default)(this,(A.__proto__||(0,a.default)(A)).call(this,C,S)),O=C.svgElement;return P.gMain=(0,h.select)(O).append("g"),P.clipUid=x.default.nice(),P.clipRect=P.gMain.append("clipPath").attr("id","track-bounds-"+String(P.clipUid)).append("rect"),P.gMain.attr("clip-path","url(#track-bounds-"+String(P.clipUid)+")"),P}return(0,s.default)(A,[{key:"setPosition",value:function(){function C(S){this.position=S,this.gMain.attr("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),this.draw()}return C}()},{key:"setDimensions",value:function(){function C(S){this.dimensions=S,this._xScale.range([0,this.dimensions[0]]),this._yScale.range([0,this.dimensions[1]]),S[0]>=0&&S[1]>=0?(this.clipRect.attr("width",S[0]),this.clipRect.attr("height",S[1])):(this.clipRect.attr("width",0),this.clipRect.attr("height",0)),this.draw()}return C}()},{key:"remove",value:function(){function C(){this.gMain.remove(),this.gMain=null}return C}()},{key:"draw",value:function(){function C(){return this}return C}()}]),A}(k.default);r.default=E},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.mix=r.Mixin=r.BareMixin=r.HasInstance=r.DeDupe=r.Cached=r.wrap=r.hasMixin=r.isApplicationOf=r.apply=r.unwrap=void 0;var n=t(3),a=E(n),l=t(4),e=E(l),o=t(131),s=E(o),u=t(634),c=E(u),m=t(225),p=E(m),h=t(637),v=E(h),x=t(331),y=E(x),k=t(5),T=E(k);function E(j){return j&&j.__esModule?j:{default:j}}var _="__mixwith_appliedMixin",A="__mixwith_wrappedMixin",C=r.unwrap=function(j){return j[A]||j},S=r.apply=function(j,W){var B=W(j);return B.prototype[_]=C(W),B},P=r.isApplicationOf=function(j,W){return j.hasOwnProperty(_)&&j[_]===C(W)},O=r.hasMixin=function(j,W){for(;j!==null;){if(P(j,W))return!0;j=(0,T.default)(j)}return!1},R=r.wrap=function(j,W){return(0,y.default)(W,j),j[A]||(j[A]=j),W},I="__mixwith_cachedApplications",M=r.Cached=function(j){return R(j,function(W){var B=W[I];B||(W[I]=new v.default,B=W[I]);var F=B.get(j);return F||(F=j(W),B.set(j,F)),F})},H=r.DeDupe=function(j){return R(j,function(W){return O(W.prototype,j)?W:j(W)})};r.HasInstance=function(j){return p.default&&c.default&&!j[c.default]&&(0,s.default)(j,c.default,{value:function(){function W(B){return O(B,j)}return W}()}),j};var L=r.BareMixin=function(j){return R(j,function(W){return S(W,j)})};r.Mixin=function(j){return H(M(L(j)))};var D=function(){function j(W){(0,a.default)(this,j),this.superclass=W||function(){function B(){(0,a.default)(this,B)}return B}()}return(0,e.default)(j,[{key:"with",value:function(){function W(){for(var B=arguments.length,F=Array(B),N=0;N<B;N++)F[N]=arguments[N];return F.reduce(function(X,G){return G(X)},this.superclass)}return W}()}]),j}();r.mix=function(j){return new D(j)}},function(f,r,t){var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function a(o,s){return Object.prototype.hasOwnProperty.call(o,s)}r.assign=function(o){for(var s=Array.prototype.slice.call(arguments,1);s.length;){var u=s.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var c in u)a(u,c)&&(o[c]=u[c])}}return o},r.shrinkBuf=function(o,s){return o.length===s?o:o.subarray?o.subarray(0,s):(o.length=s,o)};var l={arraySet:function(o,s,u,c,m){if(s.subarray&&o.subarray){o.set(s.subarray(u,u+c),m);return}for(var p=0;p<c;p++)o[m+p]=s[u+p]},flattenChunks:function(o){var s,u,c,m,p,h;for(c=0,s=0,u=o.length;s<u;s++)c+=o[s].length;for(h=new Uint8Array(c),m=0,s=0,u=o.length;s<u;s++)p=o[s],h.set(p,m),m+=p.length;return h}},e={arraySet:function(o,s,u,c,m){for(var p=0;p<c;p++)o[m+p]=s[u+p]},flattenChunks:function(o){return[].concat.apply([],o)}};r.setTyped=function(o){o?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,l)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,e))},r.setTyped(n)},function(f,r,t){t.r(r);var n=t(65),a=t(84),l=t(15),e=t(0),o=t(85),s=function(B){return function(){return B}},u=function(B,F,N){this.target=B,this.type=F,this.selection=N};function c(){e.event.stopImmediatePropagation()}var m=function(){e.event.preventDefault(),e.event.stopImmediatePropagation()},p={name:"drag"},h={name:"space"},v={name:"handle"},x={name:"center"},y={name:"x",handles:["e","w"].map(P),input:function(B,F){return B&&[[B[0],F[0][1]],[B[1],F[1][1]]]},output:function(B){return B&&[B[0][0],B[1][0]]}},k={name:"y",handles:["n","s"].map(P),input:function(B,F){return B&&[[F[0][0],B[0]],[F[1][0],B[1]]]},output:function(B){return B&&[B[0][1],B[1][1]]}},T={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(P),input:function(B){return B},output:function(B){return B}},E={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},_={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},A={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},C={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},S={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function P(B){return{type:B}}function O(){return!e.event.button}function R(){var B=this.ownerSVGElement||this;return[[0,0],[B.width.baseVal.value,B.height.baseVal.value]]}function I(B){for(;!B.__brush;)if(!(B=B.parentNode))return;return B.__brush}function M(B){return B[0][0]===B[1][0]||B[0][1]===B[1][1]}function H(B){var F=B.__brush;return F?F.dim.output(F.selection):null}function L(B,F,N){return W(y,B,F,N)}function D(B,F,N){return W(k,B,F,N)}var j=function(B,F,N){return W(T,B,F,N)};function W(B,F,N,X){var G=R,V=O,z=Object(n.a)(st,"start","brush","end"),U=6,Z;function st(Q){var ct=Q.property("__brush",K).selectAll(".overlay").data([P("overlay")]);ct.enter().append("rect").attr("class","overlay").attr("pointer-events",X?"auto":"all").attr("cursor",N?"default":E.overlay).merge(ct).each(function(){var ot=I(this).extent;Object(e.select)(this).attr("x",ot[0][0]).attr("y",ot[0][1]).attr("width",ot[1][0]-ot[0][0]).attr("height",ot[1][1]-ot[0][1])}),Q.selectAll(".selection").data([P("selection")]).enter().append("rect").attr("class","selection").attr("cursor",E.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var nt=Q.selectAll(".handle").data(B.handles,function(ot){return ot.type});nt.exit().remove(),nt.enter().append("rect").attr("class",function(ot){return"handle handle--"+ot.type}).attr("cursor",function(ot){return E[ot.type]}),Q.each(Y).attr("fill","none").attr("pointer-events",X?"auto":"all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)"),N?Q.on("mousedown.brush touchstart.brush",function(){e.event.target.__data__.type!=="overlay"&&tt.apply(this,arguments)}):Q.on("mousedown.brush touchstart.brush",tt)}st.move=function(Q,ct){Q.selection?Q.on("start.brush",function(){rt(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){rt(this,arguments).end()}).tween("brush",function(){var nt=this,ot=nt.__brush,yt=rt(nt,arguments),pt=ot.selection,dt=B.input(typeof ct=="function"?ct.apply(this,arguments):ct,ot.extent),mt=Object(l.a)(pt,dt);function q($){ot.selection=$===1&&M(dt)?null:mt($),Y.call(nt),yt.brush()}return pt&&dt?q:q(1)}):Q.each(function(){var nt=this,ot=arguments,yt=nt.__brush,pt=B.input(typeof ct=="function"?ct.apply(nt,ot):ct,yt.extent),dt=rt(nt,ot).beforestart();Object(o.interrupt)(nt),yt.selection=pt==null||M(pt)?null:pt,Y.call(nt),dt.start().brush().end()})};function Y(){var Q=Object(e.select)(this),ct=I(this).selection;ct?(Q.selectAll(".selection").style("display",null).attr("x",ct[0][0]).attr("y",ct[0][1]).attr("width",ct[1][0]-ct[0][0]).attr("height",ct[1][1]-ct[0][1]),Q.selectAll(".handle").style("display",null).attr("x",function(nt){return nt.type[nt.type.length-1]==="e"?ct[1][0]-U/2:ct[0][0]-U/2}).attr("y",function(nt){return nt.type[0]==="s"?ct[1][1]-U/2:ct[0][1]-U/2}).attr("width",function(nt){return nt.type==="n"||nt.type==="s"?ct[1][0]-ct[0][0]+U:U}).attr("height",function(nt){return nt.type==="e"||nt.type==="w"?ct[1][1]-ct[0][1]+U:U})):Q.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function rt(Q,ct){return Q.__brush.emitter||new ft(Q,ct)}function ft(Q,ct){this.that=Q,this.args=ct,this.state=Q.__brush,this.active=0}ft.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return--this.active===0&&(delete this.state.emitter,this.emit("end")),this},emit:function(Q){Object(e.customEvent)(new u(st,Q,B.output(this.state.selection)),z.apply,z,[Q,this.that,this.args])}};function tt(){if(e.event.touches){if(e.event.changedTouches.length<e.event.touches.length)return m()}else if(Z)return;if(!V.apply(this,arguments))return;var Q=this,ct=e.event.target.__data__.type,nt=(e.event.metaKey&&!F?ct="overlay":ct)==="selection"?p:e.event.altKey&&!F?x:v,ot=B===k?null:C[ct],yt=B===y?null:S[ct],pt=I(Q),dt=pt.extent,mt=pt.selection,q=dt[0][0],$,J,lt=dt[0][1],ut,ht,bt=dt[1][0],kt,vt,Et=dt[1][1],Rt,Vt,ee,Tt,_t,zt=ot&&yt&&e.event.shiftKey,oe,$t,pe=Object(e.mouse)(Q),Nt=pe,se=rt(Q,arguments).beforestart();ct==="overlay"?pt.selection=mt=[[$=B===k?q:pe[0],ut=B===y?lt:pe[1]],[kt=B===k?bt:$,Rt=B===y?Et:ut]]:($=mt[0][0],ut=mt[0][1],kt=mt[1][0],Rt=mt[1][1]),J=$,ht=ut,vt=kt,Vt=Rt;var Gt=Object(e.select)(Q).attr("pointer-events","none"),gt=Gt.selectAll(".overlay").attr("cursor",E[ct]);if(e.event.touches)Gt.on("touchmove.brush",Ct,!0).on("touchend.brush touchcancel.brush",St,!0);else{var fe=Object(e.select)(e.event.view).on("mousemove.brush",Ct,!0).on("mouseup.brush",St,!0);F||fe.on("keydown.brush",jt,!0).on("keyup.brush",Zt,!0),Object(a.dragDisable)(e.event.view)}c(),Object(o.interrupt)(Q),Y.call(Q),se.start();function Ct(){var ue=Object(e.mouse)(Q);zt&&!oe&&!$t&&(Math.abs(ue[0]-Nt[0])>Math.abs(ue[1]-Nt[1])?$t=!0:oe=!0),Nt=ue,_t=!0,m(),at()}function at(){var ue;switch(ee=Nt[0]-pe[0],Tt=Nt[1]-pe[1],nt){case h:case p:{ot&&(ee=Math.max(q-$,Math.min(bt-kt,ee)),J=$+ee,vt=kt+ee),yt&&(Tt=Math.max(lt-ut,Math.min(Et-Rt,Tt)),ht=ut+Tt,Vt=Rt+Tt);break}case v:{ot<0?(ee=Math.max(q-$,Math.min(bt-$,ee)),J=$+ee,vt=kt):ot>0&&(ee=Math.max(q-kt,Math.min(bt-kt,ee)),J=$,vt=kt+ee),yt<0?(Tt=Math.max(lt-ut,Math.min(Et-ut,Tt)),ht=ut+Tt,Vt=Rt):yt>0&&(Tt=Math.max(lt-Rt,Math.min(Et-Rt,Tt)),ht=ut,Vt=Rt+Tt);break}case x:{ot&&(J=Math.max(q,Math.min(bt,$-ee*ot)),vt=Math.max(q,Math.min(bt,kt+ee*ot))),yt&&(ht=Math.max(lt,Math.min(Et,ut-Tt*yt)),Vt=Math.max(lt,Math.min(Et,Rt+Tt*yt)));break}}vt<J&&(ot*=-1,ue=$,$=kt,kt=ue,ue=J,J=vt,vt=ue,ct in _&&gt.attr("cursor",E[ct=_[ct]])),Vt<ht&&(yt*=-1,ue=ut,ut=Rt,Rt=ue,ue=ht,ht=Vt,Vt=ue,ct in A&&gt.attr("cursor",E[ct=A[ct]])),pt.selection&&(mt=pt.selection),oe&&(J=mt[0][0],vt=mt[1][0]),$t&&(ht=mt[0][1],Vt=mt[1][1]),(mt[0][0]!==J||mt[0][1]!==ht||mt[1][0]!==vt||mt[1][1]!==Vt)&&(pt.selection=[[J,ht],[vt,Vt]],Y.call(Q),se.brush())}function St(){if(c(),e.event.touches){if(e.event.touches.length)return;Z&&clearTimeout(Z),Z=setTimeout(function(){Z=null},500),Gt.on("touchmove.brush touchend.brush touchcancel.brush",null)}else Object(a.dragEnable)(e.event.view,_t),fe.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);Gt.attr("pointer-events","all"),gt.attr("cursor",E.overlay),pt.selection&&(mt=pt.selection),M(mt)&&(pt.selection=null,Y.call(Q)),se.end()}function jt(){switch(e.event.keyCode){case 16:{zt=ot&&yt;break}case 18:{nt===v&&(ot&&(kt=vt-ee*ot,$=J+ee*ot),yt&&(Rt=Vt-Tt*yt,ut=ht+Tt*yt),nt=x,at());break}case 32:{(nt===v||nt===x)&&(ot<0?kt=vt-ee:ot>0&&($=J-ee),yt<0?Rt=Vt-Tt:yt>0&&(ut=ht-Tt),nt=h,gt.attr("cursor",E.selection),at());break}default:return}m()}function Zt(){switch(e.event.keyCode){case 16:{zt&&(oe=$t=zt=!1,at());break}case 18:{nt===x&&(ot<0?kt=vt:ot>0&&($=J),yt<0?Rt=Vt:yt>0&&(ut=ht),nt=v,at());break}case 32:{nt===h&&(e.event.altKey?(ot&&(kt=vt-ee*ot,$=J+ee*ot),yt&&(Rt=Vt-Tt*yt,ut=ht+Tt*yt),nt=x):(ot<0?kt=vt:ot>0&&($=J),yt<0?Rt=Vt:yt>0&&(ut=ht),nt=v),gt.attr("cursor",E[ct]),at());break}default:return}m()}}function K(){var Q=this.__brush||{selection:null};return Q.extent=G.apply(this,arguments),Q.dim=B,Q}return st.extent=function(Q){return arguments.length?(G=typeof Q=="function"?Q:s([[+Q[0][0],+Q[0][1]],[+Q[1][0],+Q[1][1]]]),st):G},st.filter=function(Q){return arguments.length?(V=typeof Q=="function"?Q:s(!!Q),st):V},st.handleSize=function(Q){return arguments.length?(U=+Q,st):U},st.on=function(){var Q=z.on.apply(z,arguments);return Q===z?st:Q},st}t.d(r,"brush",function(){return j}),t.d(r,"brushX",function(){return L}),t.d(r,"brushY",function(){return D}),t.d(r,"brushSelection",function(){return H})},function(f,r,t){t.r(r);var n=t(65),a=t(0);function l(){a.event.stopImmediatePropagation()}var e=function(){a.event.preventDefault(),a.event.stopImmediatePropagation()},o=function(y){var k=y.document.documentElement,T=Object(a.select)(y).on("dragstart.drag",e,!0);"onselectstart"in k?T.on("selectstart.drag",e,!0):(k.__noselect=k.style.MozUserSelect,k.style.MozUserSelect="none")};function s(y,k){var T=y.document.documentElement,E=Object(a.select)(y).on("dragstart.drag",null);k&&(E.on("click.drag",e,!0),setTimeout(function(){E.on("click.drag",null)},0)),"onselectstart"in T?E.on("selectstart.drag",null):(T.style.MozUserSelect=T.__noselect,delete T.__noselect)}var u=function(y){return function(){return y}};function c(y,k,T,E,_,A,C,S,P,O){this.target=y,this.type=k,this.subject=T,this.identifier=E,this.active=_,this.x=A,this.y=C,this.dx=S,this.dy=P,this._=O}c.prototype.on=function(){var y=this._.on.apply(this._,arguments);return y===this._?this:y};function m(){return!a.event.button}function p(){return this.parentNode}function h(y){return y??{x:a.event.x,y:a.event.y}}function v(){return"ontouchstart"in this}var x=function(){var y=m,k=p,T=h,E=v,_={},A=Object(n.a)("start","drag","end"),C=0,S,P,O,R,I=0;function M(N){N.on("mousedown.drag",H).filter(E).on("touchstart.drag",j).on("touchmove.drag",W).on("touchend.drag touchcancel.drag",B).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function H(){if(!(R||!y.apply(this,arguments))){var N=F("mouse",k.apply(this,arguments),a.mouse,this,arguments);N&&(Object(a.select)(a.event.view).on("mousemove.drag",L,!0).on("mouseup.drag",D,!0),o(a.event.view),l(),O=!1,S=a.event.clientX,P=a.event.clientY,N("start"))}}function L(){if(e(),!O){var N=a.event.clientX-S,X=a.event.clientY-P;O=N*N+X*X>I}_.mouse("drag")}function D(){Object(a.select)(a.event.view).on("mousemove.drag mouseup.drag",null),s(a.event.view,O),e(),_.mouse("end")}function j(){if(y.apply(this,arguments)){var N=a.event.changedTouches,X=k.apply(this,arguments),G=N.length,V,z;for(V=0;V<G;++V)(z=F(N[V].identifier,X,a.touch,this,arguments))&&(l(),z("start"))}}function W(){var N=a.event.changedTouches,X=N.length,G,V;for(G=0;G<X;++G)(V=_[N[G].identifier])&&(e(),V("drag"))}function B(){var N=a.event.changedTouches,X=N.length,G,V;for(R&&clearTimeout(R),R=setTimeout(function(){R=null},500),G=0;G<X;++G)(V=_[N[G].identifier])&&(l(),V("end"))}function F(N,X,G,V,z){var U=G(X,N),Z,st,Y,rt=A.copy();if(Object(a.customEvent)(new c(M,"beforestart",Z,N,C,U[0],U[1],0,0,rt),function(){return(a.event.subject=Z=T.apply(V,z))==null?!1:(st=Z.x-U[0]||0,Y=Z.y-U[1]||0,!0)}))return function ft(tt){var K=U,Q;switch(tt){case"start":_[N]=ft,Q=C++;break;case"end":delete _[N],--C;case"drag":U=G(X,N),Q=C;break}Object(a.customEvent)(new c(M,tt,Z,N,Q,U[0]+st,U[1]+Y,U[0]-K[0],U[1]-K[1],rt),rt.apply,rt,[tt,V,z])}}return M.filter=function(N){return arguments.length?(y=typeof N=="function"?N:u(!!N),M):y},M.container=function(N){return arguments.length?(k=typeof N=="function"?N:u(N),M):k},M.subject=function(N){return arguments.length?(T=typeof N=="function"?N:u(N),M):T},M.touchable=function(N){return arguments.length?(E=typeof N=="function"?N:u(!!N),M):E},M.on=function(){var N=A.on.apply(A,arguments);return N===A?M:N},M.clickDistance=function(N){return arguments.length?(I=(N=+N)*N,M):Math.sqrt(I)},M};t.d(r,"drag",function(){return x}),t.d(r,"dragDisable",function(){return o}),t.d(r,"dragEnable",function(){return s})},function(f,r,t){t.r(r);var n=t(0),a=t(65),l=0,e=0,o=0,s=1e3,u,c,m=0,p=0,h=0,v=typeof performance=="object"&&performance.now?performance:Date,x=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Dt){setTimeout(Dt,17)};function y(){return p||(x(k),p=v.now()+h)}function k(){p=0}function T(){this._call=this._time=this._next=null}T.prototype=E.prototype={constructor:T,restart:function(Dt,Ft,Yt){if(typeof Dt!="function")throw new TypeError("callback is not a function");Yt=(Yt==null?y():+Yt)+(Ft==null?0:+Ft),!this._next&&c!==this&&(c?c._next=this:u=this,c=this),this._call=Dt,this._time=Yt,P()},stop:function(){this._call&&(this._call=null,this._time=1/0,P())}};function E(Dt,Ft,Yt){var xt=new T;return xt.restart(Dt,Ft,Yt),xt}function _(){y(),++l;for(var Dt=u,Ft;Dt;)(Ft=p-Dt._time)>=0&&Dt._call.call(null,Ft),Dt=Dt._next;--l}function A(){p=(m=v.now())+h,l=e=0;try{_()}finally{l=0,S(),p=0}}function C(){var Dt=v.now(),Ft=Dt-m;Ft>s&&(h-=Ft,m=Dt)}function S(){for(var Dt,Ft=u,Yt,xt=1/0;Ft;)Ft._call?(xt>Ft._time&&(xt=Ft._time),Dt=Ft,Ft=Ft._next):(Yt=Ft._next,Ft._next=null,Ft=Dt?Dt._next=Yt:u=Yt);c=Dt,P(xt)}function P(Dt){if(!l){e&&(e=clearTimeout(e));var Ft=Dt-p;Ft>24?(Dt<1/0&&(e=setTimeout(A,Dt-v.now()-h)),o&&(o=clearInterval(o))):(o||(m=v.now(),o=setInterval(C,s)),l=1,x(A))}}var O=function(Dt,Ft,Yt){var xt=new T;return Ft=Ft==null?0:+Ft,xt.restart(function(Bt){xt.stop(),Dt(Bt+Ft)},Ft,Yt),xt},R=Object(a.a)("start","end","cancel","interrupt"),I=[],M=0,H=1,L=2,D=3,j=4,W=5,B=6,F=function(Dt,Ft,Yt,xt,Bt,Qt){var le=Dt.__transition;if(!le)Dt.__transition={};else if(Yt in le)return;V(Dt,Yt,{name:Ft,index:xt,group:Bt,on:R,tween:I,time:Qt.time,delay:Qt.delay,duration:Qt.duration,ease:Qt.ease,timer:null,state:M})};function N(Dt,Ft){var Yt=G(Dt,Ft);if(Yt.state>M)throw new Error("too late; already scheduled");return Yt}function X(Dt,Ft){var Yt=G(Dt,Ft);if(Yt.state>D)throw new Error("too late; already running");return Yt}function G(Dt,Ft){var Yt=Dt.__transition;if(!Yt||!(Yt=Yt[Ft]))throw new Error("transition not found");return Yt}function V(Dt,Ft,Yt){var xt=Dt.__transition,Bt;xt[Ft]=Yt,Yt.timer=E(Qt,0,Yt.time);function Qt(Ae){Yt.state=H,Yt.timer.restart(le,Yt.delay,Yt.time),Yt.delay<=Ae&&le(Ae-Yt.delay)}function le(Ae){var ge,ke,Ke,$e;if(Yt.state!==H)return _e();for(ge in xt)if($e=xt[ge],$e.name===Yt.name){if($e.state===D)return O(le);$e.state===j?($e.state=B,$e.timer.stop(),$e.on.call("interrupt",Dt,Dt.__data__,$e.index,$e.group),delete xt[ge]):+ge<Ft&&($e.state=B,$e.timer.stop(),$e.on.call("cancel",Dt,Dt.__data__,$e.index,$e.group),delete xt[ge])}if(O(function(){Yt.state===D&&(Yt.state=j,Yt.timer.restart(ve,Yt.delay,Yt.time),ve(Ae))}),Yt.state=L,Yt.on.call("start",Dt,Dt.__data__,Yt.index,Yt.group),Yt.state===L){for(Yt.state=D,Bt=new Array(Ke=Yt.tween.length),ge=0,ke=-1;ge<Ke;++ge)($e=Yt.tween[ge].value.call(Dt,Dt.__data__,Yt.index,Yt.group))&&(Bt[++ke]=$e);Bt.length=ke+1}}function ve(Ae){for(var ge=Ae<Yt.duration?Yt.ease.call(null,Ae/Yt.duration):(Yt.timer.restart(_e),Yt.state=W,1),ke=-1,Ke=Bt.length;++ke<Ke;)Bt[ke].call(Dt,ge);Yt.state===W&&(Yt.on.call("end",Dt,Dt.__data__,Yt.index,Yt.group),_e())}function _e(){Yt.state=B,Yt.timer.stop(),delete xt[Ft];for(var Ae in xt)return;delete Dt.__transition}}var z=function(Dt,Ft){var Yt=Dt.__transition,xt,Bt,Qt=!0,le;if(Yt){Ft=Ft==null?null:Ft+"";for(le in Yt){if((xt=Yt[le]).name!==Ft){Qt=!1;continue}Bt=xt.state>L&&xt.state<W,xt.state=B,xt.timer.stop(),xt.on.call(Bt?"interrupt":"cancel",Dt,Dt.__data__,xt.index,xt.group),delete Yt[le]}Qt&&delete Dt.__transition}},U=function(Dt){return this.each(function(){z(this,Dt)})},Z=t(15);function st(Dt,Ft){var Yt,xt;return function(){var Bt=X(this,Dt),Qt=Bt.tween;if(Qt!==Yt){xt=Yt=Qt;for(var le=0,ve=xt.length;le<ve;++le)if(xt[le].name===Ft){xt=xt.slice(),xt.splice(le,1);break}}Bt.tween=xt}}function Y(Dt,Ft,Yt){var xt,Bt;if(typeof Yt!="function")throw new Error;return function(){var Qt=X(this,Dt),le=Qt.tween;if(le!==xt){Bt=(xt=le).slice();for(var ve={name:Ft,value:Yt},_e=0,Ae=Bt.length;_e<Ae;++_e)if(Bt[_e].name===Ft){Bt[_e]=ve;break}_e===Ae&&Bt.push(ve)}Qt.tween=Bt}}var rt=function(Dt,Ft){var Yt=this._id;if(Dt+="",arguments.length<2){for(var xt=G(this.node(),Yt).tween,Bt=0,Qt=xt.length,le;Bt<Qt;++Bt)if((le=xt[Bt]).name===Dt)return le.value;return null}return this.each((Ft==null?st:Y)(Yt,Dt,Ft))};function ft(Dt,Ft,Yt){var xt=Dt._id;return Dt.each(function(){var Bt=X(this,xt);(Bt.value||(Bt.value={}))[Ft]=Yt.apply(this,arguments)}),function(Bt){return G(Bt,xt).value[Ft]}}var tt=t(9),K=function(Dt,Ft){var Yt;return(typeof Ft=="number"?Z.c:Ft instanceof tt.color?Z.d:(Yt=Object(tt.color)(Ft))?(Ft=Yt,Z.d):Z.f)(Dt,Ft)};function Q(Dt){return function(){this.removeAttribute(Dt)}}function ct(Dt){return function(){this.removeAttributeNS(Dt.space,Dt.local)}}function nt(Dt,Ft,Yt){var xt,Bt=Yt+"",Qt;return function(){var le=this.getAttribute(Dt);return le===Bt?null:le===xt?Qt:Qt=Ft(xt=le,Yt)}}function ot(Dt,Ft,Yt){var xt,Bt=Yt+"",Qt;return function(){var le=this.getAttributeNS(Dt.space,Dt.local);return le===Bt?null:le===xt?Qt:Qt=Ft(xt=le,Yt)}}function yt(Dt,Ft,Yt){var xt,Bt,Qt;return function(){var le,ve=Yt(this),_e;return ve==null?void this.removeAttribute(Dt):(le=this.getAttribute(Dt),_e=ve+"",le===_e?null:le===xt&&_e===Bt?Qt:(Bt=_e,Qt=Ft(xt=le,ve)))}}function pt(Dt,Ft,Yt){var xt,Bt,Qt;return function(){var le,ve=Yt(this),_e;return ve==null?void this.removeAttributeNS(Dt.space,Dt.local):(le=this.getAttributeNS(Dt.space,Dt.local),_e=ve+"",le===_e?null:le===xt&&_e===Bt?Qt:(Bt=_e,Qt=Ft(xt=le,ve)))}}var dt=function(Dt,Ft){var Yt=Object(n.namespace)(Dt),xt=Yt==="transform"?Z.h:K;return this.attrTween(Dt,typeof Ft=="function"?(Yt.local?pt:yt)(Yt,xt,ft(this,"attr."+Dt,Ft)):Ft==null?(Yt.local?ct:Q)(Yt):(Yt.local?ot:nt)(Yt,xt,Ft))};function mt(Dt,Ft){return function(Yt){this.setAttribute(Dt,Ft(Yt))}}function q(Dt,Ft){return function(Yt){this.setAttributeNS(Dt.space,Dt.local,Ft(Yt))}}function $(Dt,Ft){var Yt,xt;function Bt(){var Qt=Ft.apply(this,arguments);return Qt!==xt&&(Yt=(xt=Qt)&&q(Dt,Qt)),Yt}return Bt._value=Ft,Bt}function J(Dt,Ft){var Yt,xt;function Bt(){var Qt=Ft.apply(this,arguments);return Qt!==xt&&(Yt=(xt=Qt)&&mt(Dt,Qt)),Yt}return Bt._value=Ft,Bt}var lt=function(Dt,Ft){var Yt="attr."+Dt;if(arguments.length<2)return(Yt=this.tween(Yt))&&Yt._value;if(Ft==null)return this.tween(Yt,null);if(typeof Ft!="function")throw new Error;var xt=Object(n.namespace)(Dt);return this.tween(Yt,(xt.local?$:J)(xt,Ft))};function ut(Dt,Ft){return function(){N(this,Dt).delay=+Ft.apply(this,arguments)}}function ht(Dt,Ft){return Ft=+Ft,function(){N(this,Dt).delay=Ft}}var bt=function(Dt){var Ft=this._id;return arguments.length?this.each((typeof Dt=="function"?ut:ht)(Ft,Dt)):G(this.node(),Ft).delay};function kt(Dt,Ft){return function(){X(this,Dt).duration=+Ft.apply(this,arguments)}}function vt(Dt,Ft){return Ft=+Ft,function(){X(this,Dt).duration=Ft}}var Et=function(Dt){var Ft=this._id;return arguments.length?this.each((typeof Dt=="function"?kt:vt)(Ft,Dt)):G(this.node(),Ft).duration};function Rt(Dt,Ft){if(typeof Ft!="function")throw new Error;return function(){X(this,Dt).ease=Ft}}var Vt=function(Dt){var Ft=this._id;return arguments.length?this.each(Rt(Ft,Dt)):G(this.node(),Ft).ease},ee=function(Dt){typeof Dt!="function"&&(Dt=Object(n.matcher)(Dt));for(var Ft=this._groups,Yt=Ft.length,xt=new Array(Yt),Bt=0;Bt<Yt;++Bt)for(var Qt=Ft[Bt],le=Qt.length,ve=xt[Bt]=[],_e,Ae=0;Ae<le;++Ae)(_e=Qt[Ae])&&Dt.call(_e,_e.__data__,Ae,Qt)&&ve.push(_e);return new Oe(xt,this._parents,this._name,this._id)},Tt=function(Dt){if(Dt._id!==this._id)throw new Error;for(var Ft=this._groups,Yt=Dt._groups,xt=Ft.length,Bt=Yt.length,Qt=Math.min(xt,Bt),le=new Array(xt),ve=0;ve<Qt;++ve)for(var _e=Ft[ve],Ae=Yt[ve],ge=_e.length,ke=le[ve]=new Array(ge),Ke,$e=0;$e<ge;++$e)(Ke=_e[$e]||Ae[$e])&&(ke[$e]=Ke);for(;ve<xt;++ve)le[ve]=Ft[ve];return new Oe(le,this._parents,this._name,this._id)};function _t(Dt){return(Dt+"").trim().split(/^|\s+/).every(function(Ft){var Yt=Ft.indexOf(".");return Yt>=0&&(Ft=Ft.slice(0,Yt)),!Ft||Ft==="start"})}function zt(Dt,Ft,Yt){var xt,Bt,Qt=_t(Ft)?N:X;return function(){var le=Qt(this,Dt),ve=le.on;ve!==xt&&(Bt=(xt=ve).copy()).on(Ft,Yt),le.on=Bt}}var oe=function(Dt,Ft){var Yt=this._id;return arguments.length<2?G(this.node(),Yt).on.on(Dt):this.each(zt(Yt,Dt,Ft))};function $t(Dt){return function(){var Ft=this.parentNode;for(var Yt in this.__transition)if(+Yt!==Dt)return;Ft&&Ft.removeChild(this)}}var pe=function(){return this.on("end.remove",$t(this._id))},Nt=function(Dt){var Ft=this._name,Yt=this._id;typeof Dt!="function"&&(Dt=Object(n.selector)(Dt));for(var xt=this._groups,Bt=xt.length,Qt=new Array(Bt),le=0;le<Bt;++le)for(var ve=xt[le],_e=ve.length,Ae=Qt[le]=new Array(_e),ge,ke,Ke=0;Ke<_e;++Ke)(ge=ve[Ke])&&(ke=Dt.call(ge,ge.__data__,Ke,ve))&&("__data__"in ge&&(ke.__data__=ge.__data__),Ae[Ke]=ke,F(Ae[Ke],Ft,Yt,Ke,Ae,G(ge,Yt)));return new Oe(Qt,this._parents,Ft,Yt)},se=function(Dt){var Ft=this._name,Yt=this._id;typeof Dt!="function"&&(Dt=Object(n.selectorAll)(Dt));for(var xt=this._groups,Bt=xt.length,Qt=[],le=[],ve=0;ve<Bt;++ve)for(var _e=xt[ve],Ae=_e.length,ge,ke=0;ke<Ae;++ke)if(ge=_e[ke]){for(var Ke=Dt.call(ge,ge.__data__,ke,_e),$e,jn=G(ge,Yt),In=0,xn=Ke.length;In<xn;++In)($e=Ke[In])&&F($e,Ft,Yt,In,Ke,jn);Qt.push(Ke),le.push(ge)}return new Oe(Qt,le,Ft,Yt)},Gt=n.selection.prototype.constructor,gt=function(){return new Gt(this._groups,this._parents)};function fe(Dt,Ft){var Yt,xt,Bt;return function(){var Qt=Object(n.style)(this,Dt),le=(this.style.removeProperty(Dt),Object(n.style)(this,Dt));return Qt===le?null:Qt===Yt&&le===xt?Bt:Bt=Ft(Yt=Qt,xt=le)}}function Ct(Dt){return function(){this.style.removeProperty(Dt)}}function at(Dt,Ft,Yt){var xt,Bt=Yt+"",Qt;return function(){var le=Object(n.style)(this,Dt);return le===Bt?null:le===xt?Qt:Qt=Ft(xt=le,Yt)}}function St(Dt,Ft,Yt){var xt,Bt,Qt;return function(){var le=Object(n.style)(this,Dt),ve=Yt(this),_e=ve+"";return ve==null&&(_e=ve=(this.style.removeProperty(Dt),Object(n.style)(this,Dt))),le===_e?null:le===xt&&_e===Bt?Qt:(Bt=_e,Qt=Ft(xt=le,ve))}}function jt(Dt,Ft){var Yt,xt,Bt,Qt="style."+Ft,le="end."+Qt,ve;return function(){var _e=X(this,Dt),Ae=_e.on,ge=_e.value[Qt]==null?ve||(ve=Ct(Ft)):void 0;(Ae!==Yt||Bt!==ge)&&(xt=(Yt=Ae).copy()).on(le,Bt=ge),_e.on=xt}}var Zt=function(Dt,Ft,Yt){var xt=(Dt+="")=="transform"?Z.g:K;return Ft==null?this.styleTween(Dt,fe(Dt,xt)).on("end.style."+Dt,Ct(Dt)):typeof Ft=="function"?this.styleTween(Dt,St(Dt,xt,ft(this,"style."+Dt,Ft))).each(jt(this._id,Dt)):this.styleTween(Dt,at(Dt,xt,Ft),Yt).on("end.style."+Dt,null)};function ue(Dt,Ft,Yt){return function(xt){this.style.setProperty(Dt,Ft(xt),Yt)}}function ce(Dt,Ft,Yt){var xt,Bt;function Qt(){var le=Ft.apply(this,arguments);return le!==Bt&&(xt=(Bt=le)&&ue(Dt,le,Yt)),xt}return Qt._value=Ft,Qt}var It=function(Dt,Ft,Yt){var xt="style."+(Dt+="");if(arguments.length<2)return(xt=this.tween(xt))&&xt._value;if(Ft==null)return this.tween(xt,null);if(typeof Ft!="function")throw new Error;return this.tween(xt,ce(Dt,Ft,Yt??""))};function Mt(Dt){return function(){this.textContent=Dt}}function Ut(Dt){return function(){var Ft=Dt(this);this.textContent=Ft??""}}var Kt=function(Dt){return this.tween("text",typeof Dt=="function"?Ut(ft(this,"text",Dt)):Mt(Dt==null?"":Dt+""))},wt=function(){for(var Dt=this._name,Ft=this._id,Yt=ze(),xt=this._groups,Bt=xt.length,Qt=0;Qt<Bt;++Qt)for(var le=xt[Qt],ve=le.length,_e,Ae=0;Ae<ve;++Ae)if(_e=le[Ae]){var ge=G(_e,Ft);F(_e,Dt,Yt,Ae,le,{time:ge.time+ge.delay+ge.duration,delay:0,duration:ge.duration,ease:ge.ease})}return new Oe(xt,this._parents,Dt,Yt)},ye=function(){var Dt,Ft,Yt=this,xt=Yt._id,Bt=Yt.size();return new Promise(function(Qt,le){var ve={value:le},_e={value:function(){--Bt===0&&Qt()}};Yt.each(function(){var Ae=X(this,xt),ge=Ae.on;ge!==Dt&&(Ft=(Dt=ge).copy(),Ft._.cancel.push(ve),Ft._.interrupt.push(ve),Ft._.end.push(_e)),Ae.on=Ft})})},we=0;function Oe(Dt,Ft,Yt,xt){this._groups=Dt,this._parents=Ft,this._name=Yt,this._id=xt}function Ne(Dt){return Object(n.selection)().transition(Dt)}function ze(){return++we}var Ue=n.selection.prototype;Oe.prototype=Ne.prototype={constructor:Oe,select:Nt,selectAll:se,filter:ee,merge:Tt,selection:gt,transition:wt,call:Ue.call,nodes:Ue.nodes,node:Ue.node,size:Ue.size,empty:Ue.empty,each:Ue.each,on:oe,attr:dt,attrTween:lt,style:Zt,styleTween:It,text:Kt,remove:pe,tween:rt,delay:bt,duration:Et,ease:Vt,end:ye};function Be(Dt){return((Dt*=2)<=1?Dt*Dt*Dt:(Dt-=2)*Dt*Dt+2)/2}var Je=3;(function Dt(Ft){Ft=+Ft;function Yt(xt){return Math.pow(xt,Ft)}return Yt.exponent=Dt,Yt})(Je),function Dt(Ft){Ft=+Ft;function Yt(xt){return 1-Math.pow(1-xt,Ft)}return Yt.exponent=Dt,Yt}(Je),function Dt(Ft){Ft=+Ft;function Yt(xt){return((xt*=2)<=1?Math.pow(xt,Ft):2-Math.pow(2-xt,Ft))/2}return Yt.exponent=Dt,Yt}(Je);var Xe=1.70158;(function Dt(Ft){Ft=+Ft;function Yt(xt){return xt*xt*((Ft+1)*xt-Ft)}return Yt.overshoot=Dt,Yt})(Xe),function Dt(Ft){Ft=+Ft;function Yt(xt){return--xt*xt*((Ft+1)*xt+Ft)+1}return Yt.overshoot=Dt,Yt}(Xe),function Dt(Ft){Ft=+Ft;function Yt(xt){return((xt*=2)<1?xt*xt*((Ft+1)*xt-Ft):(xt-=2)*xt*((Ft+1)*xt+Ft)+2)/2}return Yt.overshoot=Dt,Yt}(Xe);var pn=2*Math.PI,qt=1,it=.3;(function Dt(Ft,Yt){var xt=Math.asin(1/(Ft=Math.max(1,Ft)))*(Yt/=pn);function Bt(Qt){return Ft*Math.pow(2,10*--Qt)*Math.sin((xt-Qt)/Yt)}return Bt.amplitude=function(Qt){return Dt(Qt,Yt*pn)},Bt.period=function(Qt){return Dt(Ft,Qt)},Bt})(qt,it),function Dt(Ft,Yt){var xt=Math.asin(1/(Ft=Math.max(1,Ft)))*(Yt/=pn);function Bt(Qt){return 1-Ft*Math.pow(2,-10*(Qt=+Qt))*Math.sin((Qt+xt)/Yt)}return Bt.amplitude=function(Qt){return Dt(Qt,Yt*pn)},Bt.period=function(Qt){return Dt(Ft,Qt)},Bt}(qt,it),function Dt(Ft,Yt){var xt=Math.asin(1/(Ft=Math.max(1,Ft)))*(Yt/=pn);function Bt(Qt){return((Qt=Qt*2-1)<0?Ft*Math.pow(2,10*Qt)*Math.sin((xt-Qt)/Yt):2-Ft*Math.pow(2,-10*Qt)*Math.sin((xt+Qt)/Yt))/2}return Bt.amplitude=function(Qt){return Dt(Qt,Yt*pn)},Bt.period=function(Qt){return Dt(Ft,Qt)},Bt}(qt,it);var Xt={time:null,delay:0,duration:250,ease:Be};function te(Dt,Ft){for(var Yt;!(Yt=Dt.__transition)||!(Yt=Yt[Ft]);)if(!(Dt=Dt.parentNode))return Xt.time=y(),Xt;return Yt}var ne=function(Dt){var Ft,Yt;Dt instanceof Oe?(Ft=Dt._id,Dt=Dt._name):(Ft=ze(),(Yt=Xt).time=y(),Dt=Dt==null?null:Dt+"");for(var xt=this._groups,Bt=xt.length,Qt=0;Qt<Bt;++Qt)for(var le=xt[Qt],ve=le.length,_e,Ae=0;Ae<ve;++Ae)(_e=le[Ae])&&F(_e,Dt,Ft,Ae,le,Yt||te(_e,Ft));return new Oe(xt,this._parents,Dt,Ft)};n.selection.prototype.interrupt=U,n.selection.prototype.transition=ne;var Wt=[null],he=function(Dt,Ft){var Yt=Dt.__transition,xt,Bt;if(Yt){Ft=Ft==null?null:Ft+"";for(Bt in Yt)if((xt=Yt[Bt]).state>H&&xt.name===Ft)return new Oe([[Dt]],Wt,Ft,+Bt)}return null};t.d(r,"transition",function(){return Ne}),t.d(r,"active",function(){return he}),t.d(r,"interrupt",function(){return z})},function(f,r,t){var n=function(a,l,e,o,s,u,c,m){if(!a){var p;if(l===void 0)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var h=[e,o,s,u,c,m],v=0;p=new Error(l.replace(/%s/g,function(){return h[v++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}};f.exports=n},function(f,r){f.exports=function(t){if(t==null)throw TypeError("Can't call method on  "+t);return t}},function(f,r,t){var n=t(89),a=Math.min;f.exports=function(l){return l>0?a(n(l),9007199254740991):0}},function(f,r){var t=Math.ceil,n=Math.floor;f.exports=function(a){return isNaN(a=+a)?0:(a>0?n:t)(a)}},function(f,r,t){var n=t(106)("keys"),a=t(91);f.exports=function(l){return n[l]||(n[l]=a(l))}},function(f,r){var t=0,n=Math.random();f.exports=function(a){return"Symbol(".concat(a===void 0?"":a,")_",(++t+n).toString(36))}},function(f,r){f.exports=function(t){if(typeof t!="function")throw TypeError(t+" is not a function!");return t}},function(f,r){r.f={}.propertyIsEnumerable},function(f,r,t){r.__esModule=!0;var n=t(560),a=s(n),l=t(225),e=s(l),o=typeof e.default=="function"&&typeof a.default=="symbol"?function(u){return typeof u}:function(u){return u&&typeof e.default=="function"&&u.constructor===e.default&&u!==e.default.prototype?"symbol":typeof u};function s(u){return u&&u.__esModule?u:{default:u}}r.default=typeof e.default=="function"&&o(a.default)==="symbol"?function(u){return typeof u>"u"?"undefined":o(u)}:function(u){return u&&typeof e.default=="function"&&u.constructor===e.default&&u!==e.default.prototype?"symbol":typeof u>"u"?"undefined":o(u)}},function(f,r,t){f.exports={default:t(235),__esModule:!0}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(44),a=P(n),l=t(5),e=P(l),o=t(3),s=P(o),u=t(4),c=P(u),m=t(6),p=P(m),h=t(7),v=P(h),x=t(29),y=P(x),k=t(2),T=P(k),E=t(1),_=P(E),A=t(42),C=P(A),S=t(11);t(68);function P(M){return M&&M.__esModule?M:{default:M}}var O={"../styles/ContextMenu.module.scss":{"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-dark":"ContextMenu-module_context-menu-dark-2PO31","context-menu-icon":"ContextMenu-module_context-menu-icon-I4kiw","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},R=20,I=function(M){(0,v.default)(H,M);function H(L){(0,s.default)(this,H);var D=(0,p.default)(this,(H.__proto__||(0,e.default)(H)).call(this,L));return D.adjusted=!1,D.state={orientation:D.props.orientation?D.props.orientation:"right",left:D.props.position.left,top:D.props.position.top,submenuShown:null},D}return(0,c.default)(H,[{key:"componentDidMount",value:function(){function L(){this.updateOrientation()}return L}()},{key:"UNSAFE_componentWillReceiveProps",value:function(){function L(D){this.adjusted=!1,this.setState({left:D.position.left,top:D.position.top})}return L}()},{key:"componentDidUpdate",value:function(){function L(){this.updateOrientation()}return L}()},{key:"handleItemMouseEnterWithRect",value:function(){function L(D,j){this.setState({submenuShown:j,submenuSourceBbox:D})}return L}()},{key:"handleItemMouseEnter",value:function(){function L(D,j){this.handleItemMouseEnterWithRect(D.currentTarget.getBoundingClientRect(),j)}return L}()},{key:"handleMouseLeave",value:function(){function L(){}return L}()},{key:"handleOtherMouseEnter",value:function(){function L(){this.setState({submenuShown:null})}return L}()},{key:"updateOrientation",value:function(){function L(){if(!this.adjusted){this.adjusted=!0,this.divDom=C.default.findDOMNode(this.div);var D=this.divDom.getBoundingClientRect(),j=this.props.parentBbox?this.props.parentBbox:{top:this.props.position.top,left:this.props.position.left,width:0,height:0},W=this.state.orientation,B=j.top;if(j.top+D.height>window.innerHeight&&(j.top-D.height>0?B=j.top-D.height+R:(B=j.top-D.height+R,B-=B+D.height-window.innerHeight)),this.state.orientation==="left"){var F=j.left-D.width;F<0&&(j.left+j.width+D.width>window.innerWidth?F=0:(F=j.left+j.width,W="right")),this.setState({left:F,top:B,orientation:W})}else{var N=j.left+j.width;j.left+j.width+D.width>window.innerWidth&&(j.left-D.width<0?(N=0,W="right"):(N=j.left-D.width,W="left")),this.setState({left:N,top:B,orientation:W})}}}return L}()},{key:"render",value:function(){function L(){var D=this,j=this.state.left?{left:this.state.left}:{right:this.state.right},W={top:this.state.top},B=(0,a.default)(j,W),F="context-menu";return this.props.theme===S.THEME_DARK&&(F+=" context-menu-dark"),_.default.createElement("div",{ref:function(){function N(X){D.div=X}return N}(),style:B,className:"context-menu-item "+(0,y.default)(F,O)},this.props.children)}return L}()}]),H}(_.default.Component);I.propTypes={children:T.default.node,orientation:T.default.string,parentBbox:T.default.object,position:T.default.object,theme:T.default.symbol.isRequired},r.default=I},function(f,r,t){var n=t(118),a=t(733),l=t(734),e="[object Null]",o="[object Undefined]",s=n?n.toStringTag:void 0;function u(c){return c==null?c===void 0?o:e:s&&s in Object(c)?a(c):l(c)}f.exports=u},function(f,r,t){var n=t(277),a=t(274);function l(e){return e!=null&&a(e.length)&&!n(e)}f.exports=l},function(f,r,t){var n=t(754),a=t(757);function l(e,o){var s=a(e,o);return n(s)?s:void 0}f.exports=l},function(f,r,t){var n=t(195),a=t(287);function l(e,o,s,u){var c=!s;s||(s={});for(var m=-1,p=o.length;++m<p;){var h=o[m],v=u?u(s[h],e[h],h,s,e):void 0;v===void 0&&(v=e[h]),c?a(s,h,v):n(s,h,v)}return s}f.exports=l},function(f,r,t){var n=f.exports;[t(952),t(956),t(957),t(958),t(959),t(960)].forEach(function(a){Object.keys(a).forEach(function(l){n[l]=a[l].bind(n)})})},function(f,r,t){var n=t(203),a=Object.keys||function(v){var x=[];for(var y in v)x.push(y);return x};f.exports=m;var l=t(151);l.inherits=t(58);var e=t(466),o=t(305);l.inherits(m,e);for(var s=a(o.prototype),u=0;u<s.length;u++){var c=s[u];m.prototype[c]||(m.prototype[c]=o.prototype[c])}function m(v){if(!(this instanceof m))return new m(v);e.call(this,v),o.call(this,v),v&&v.readable===!1&&(this.readable=!1),v&&v.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,v&&v.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",p)}Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function p(){this.allowHalfOpen||this._writableState.ended||n.nextTick(h,this)}function h(v){v.end()}Object.defineProperty(m.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(v){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=v,this._writableState.destroyed=v)}}),m.prototype._destroy=function(v,x){this.push(null),this.end(),n.nextTick(x,v)}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.default=o;var n=t(509),a=e(n),l=t(315);function e(s){return s&&s.__esModule?s:{default:s}}function o(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(s.adapter)return(0,a.default)(s.adapter),s.adapter;var u=(0,l.get)(),c=u.adapter;return(0,a.default)(c),c}},function(f,r,t){t.r(r);var n={},a={},l=34,e=10,o=13;function s(M){return new Function("d","return {"+M.map(function(H,L){return JSON.stringify(H)+": d["+L+"]"}).join(",")+"}")}function u(M,H){var L=s(M);return function(D,j){return H(L(D),j,M)}}function c(M){var H=Object.create(null),L=[];return M.forEach(function(D){for(var j in D)j in H||L.push(H[j]=j)}),L}function m(M,H){var L=M+"",D=L.length;return D<H?new Array(H-D+1).join(0)+L:L}function p(M){return M<0?"-"+m(-M,6):M>9999?"+"+m(M,6):m(M,4)}function h(M){var H=M.getUTCHours(),L=M.getUTCMinutes(),D=M.getUTCSeconds(),j=M.getUTCMilliseconds();return isNaN(M)?"Invalid Date":p(M.getUTCFullYear())+"-"+m(M.getUTCMonth()+1,2)+"-"+m(M.getUTCDate(),2)+(j?"T"+m(H,2)+":"+m(L,2)+":"+m(D,2)+"."+m(j,3)+"Z":D?"T"+m(H,2)+":"+m(L,2)+":"+m(D,2)+"Z":L||H?"T"+m(H,2)+":"+m(L,2)+"Z":"")}var v=function(M){var H=new RegExp('["'+M+`
\r]`),L=M.charCodeAt(0);function D(V,z){var U,Z,st=j(V,function(Y,rt){if(U)return U(Y,rt-1);Z=Y,U=z?u(Y,z):s(Y)});return st.columns=Z||[],st}function j(V,z){var U=[],Z=V.length,st=0,Y=0,rt,ft=Z<=0,tt=!1;V.charCodeAt(Z-1)===e&&--Z,V.charCodeAt(Z-1)===o&&--Z;function K(){if(ft)return a;if(tt)return tt=!1,n;var ct,nt=st,ot;if(V.charCodeAt(nt)===l){for(;st++<Z&&V.charCodeAt(st)!==l||V.charCodeAt(++st)===l;);return(ct=st)>=Z?ft=!0:(ot=V.charCodeAt(st++))===e?tt=!0:ot===o&&(tt=!0,V.charCodeAt(st)===e&&++st),V.slice(nt+1,ct-1).replace(/""/g,'"')}for(;st<Z;){if((ot=V.charCodeAt(ct=st++))===e)tt=!0;else if(ot===o)tt=!0,V.charCodeAt(st)===e&&++st;else if(ot!==L)continue;return V.slice(nt,ct)}return ft=!0,V.slice(nt,Z)}for(;(rt=K())!==a;){for(var Q=[];rt!==n&&rt!==a;)Q.push(rt),rt=K();z&&(Q=z(Q,Y++))==null||U.push(Q)}return U}function W(V,z){return V.map(function(U){return z.map(function(Z){return G(U[Z])}).join(M)})}function B(V,z){return z==null&&(z=c(V)),[z.map(G).join(M)].concat(W(V,z)).join(`
`)}function F(V,z){return z==null&&(z=c(V)),W(V,z).join(`
`)}function N(V){return V.map(X).join(`
`)}function X(V){return V.map(G).join(M)}function G(V){return V==null?"":V instanceof Date?h(V):H.test(V+="")?'"'+V.replace(/"/g,'""')+'"':V}return{parse:D,parseRows:j,format:B,formatBody:F,formatRows:N}},x=v(","),y=x.parse,k=x.parseRows,T=x.format,E=x.formatBody,_=x.formatRows,A=v("	"),C=A.parse,S=A.parseRows,P=A.format,O=A.formatBody,R=A.formatRows;function I(M){for(var H in M){var L=M[H].trim(),D;if(!L)L=null;else if(L==="true")L=!0;else if(L==="false")L=!1;else if(L==="NaN")L=NaN;else if(!isNaN(D=+L))L=D;else if(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/.test(L))L=new Date(L);else continue;M[H]=L}return M}t.d(r,"dsvFormat",function(){return v}),t.d(r,"csvParse",function(){return y}),t.d(r,"csvParseRows",function(){return k}),t.d(r,"csvFormat",function(){return T}),t.d(r,"csvFormatBody",function(){return E}),t.d(r,"csvFormatRows",function(){return _}),t.d(r,"tsvParse",function(){return C}),t.d(r,"tsvParseRows",function(){return S}),t.d(r,"tsvFormat",function(){return P}),t.d(r,"tsvFormatBody",function(){return O}),t.d(r,"tsvFormatRows",function(){return R}),t.d(r,"autoType",function(){return I})},function(f,r,t){var n=t(74);f.exports=Object("z").propertyIsEnumerable(0)?Object:function(a){return n(a)=="String"?a.split(""):Object(a)}},function(f,r,t){var n=t(12),a=t(23),l="__core-js_shared__",e=a[l]||(a[l]={});(f.exports=function(o,s){return e[o]||(e[o]=s!==void 0?s:{})})("versions",[]).push({version:n.version,mode:t(75)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(f,r){f.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(f,r,t){var n=t(33),a=t(23).document,l=n(a)&&n(a.createElement);f.exports=function(e){return l?a.createElement(e):{}}},function(f,r,t){var n=t(75),a=t(16),l=t(161),e=t(43),o=t(51),s=t(214),u=t(77),c=t(128),m=t(21)("iterator"),p=!([].keys&&"next"in[].keys()),h="@@iterator",v="keys",x="values",y=function(){return this};f.exports=function(k,T,E,_,A,C,S){s(E,T,_);var P=function(N){if(!p&&N in M)return M[N];switch(N){case v:return function(){return new E(this,N)};case x:return function(){return new E(this,N)}}return function(){return new E(this,N)}},O=T+" Iterator",R=A==x,I=!1,M=k.prototype,H=M[m]||M[h]||A&&M[A],L=H||P(A),D=A?R?P("entries"):L:void 0,j=T=="Array"&&M.entries||H,W,B,F;if(j&&(F=c(j.call(new k)),F!==Object.prototype&&F.next&&(u(F,O,!0),!n&&typeof F[m]!="function"&&e(F,m,y))),R&&H&&H.name!==x&&(I=!0,L=function(){return H.call(this)}),(!n||S)&&(p||I||!M[m])&&e(M,m,L),o[T]=L,o[O]=y,A)if(W={values:R?L:P(x),keys:C?L:P(v),entries:D},S)for(B in W)B in M||l(M,B,W[B]);else a(a.P+a.F*(p||I),T,W);return W}},function(f,r,t){var n=t(39),a=t(162),l=t(107),e=t(90)("IE_PROTO"),o=function(){},s="prototype",u=function(){var c=t(108)("iframe"),m=l.length,p="<",h=">",v;for(c.style.display="none",t(163).appendChild(c),c.src="javascript:",v=c.contentWindow.document,v.open(),v.write(p+"script"+h+"document.F=Object"+p+"/script"+h),v.close(),u=v.F;m--;)delete u[s][l[m]];return u()};f.exports=Object.create||function(c,m){var p;return c!==null?(o[s]=n(c),p=new o,o[s]=null,p[e]=c):p=u(),m===void 0?p:a(p,m)}},function(f,r,t){var n=t(74),a=t(21)("toStringTag"),l=n(function(){return arguments}())=="Arguments",e=function(o,s){try{return o[s]}catch{}};f.exports=function(o){var s,u,c;return o===void 0?"Undefined":o===null?"Null":typeof(u=e(s=Object(o),a))=="string"?u:l?n(s):(c=n(s))=="Object"&&typeof s.callee=="function"?"Arguments":c}},function(f,r,t){var n=t(111),a=t(21)("iterator"),l=t(51);f.exports=t(12).getIteratorMethod=function(e){if(e!=null)return e[a]||e["@@iterator"]||l[n(e)]}},function(f,r,t){(function(n){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
* @license  MIT
*/var a=t(588),l=t(589),e=t(338);r.Buffer=c,r.SlowBuffer=_,r.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=n.TYPED_ARRAY_SUPPORT!==void 0?n.TYPED_ARRAY_SUPPORT:o(),r.kMaxLength=s();function o(){try{var q=new Uint8Array(1);return q.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},q.foo()===42&&typeof q.subarray=="function"&&q.subarray(1,1).byteLength===0}catch{return!1}}function s(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(q,$){if(s()<$)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(q=new Uint8Array($),q.__proto__=c.prototype):(q===null&&(q=new c($)),q.length=$),q}function c(q,$,J){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(q,$,J);if(typeof q=="number"){if(typeof $=="string")throw new Error("If encoding is specified then the first argument must be a string");return v(this,q)}return m(this,q,$,J)}c.poolSize=8192,c._augment=function(q){return q.__proto__=c.prototype,q};function m(q,$,J,lt){if(typeof $=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&$ instanceof ArrayBuffer?k(q,$,J,lt):typeof $=="string"?x(q,$,J):T(q,$)}c.from=function(q,$,J){return m(null,q,$,J)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0}));function p(q){if(typeof q!="number")throw new TypeError('"size" argument must be a number');if(q<0)throw new RangeError('"size" argument must not be negative')}function h(q,$,J,lt){return p($),$<=0?u(q,$):J!==void 0?typeof lt=="string"?u(q,$).fill(J,lt):u(q,$).fill(J):u(q,$)}c.alloc=function(q,$,J){return h(null,q,$,J)};function v(q,$){if(p($),q=u(q,$<0?0:E($)|0),!c.TYPED_ARRAY_SUPPORT)for(var J=0;J<$;++J)q[J]=0;return q}c.allocUnsafe=function(q){return v(null,q)},c.allocUnsafeSlow=function(q){return v(null,q)};function x(q,$,J){if((typeof J!="string"||J==="")&&(J="utf8"),!c.isEncoding(J))throw new TypeError('"encoding" must be a valid string encoding');var lt=A($,J)|0;q=u(q,lt);var ut=q.write($,J);return ut!==lt&&(q=q.slice(0,ut)),q}function y(q,$){var J=$.length<0?0:E($.length)|0;q=u(q,J);for(var lt=0;lt<J;lt+=1)q[lt]=$[lt]&255;return q}function k(q,$,J,lt){if($.byteLength,J<0||$.byteLength<J)throw new RangeError("'offset' is out of bounds");if($.byteLength<J+(lt||0))throw new RangeError("'length' is out of bounds");return J===void 0&&lt===void 0?$=new Uint8Array($):lt===void 0?$=new Uint8Array($,J):$=new Uint8Array($,J,lt),c.TYPED_ARRAY_SUPPORT?(q=$,q.__proto__=c.prototype):q=y(q,$),q}function T(q,$){if(c.isBuffer($)){var J=E($.length)|0;return q=u(q,J),q.length===0||$.copy(q,0,0,J),q}if($){if(typeof ArrayBuffer<"u"&&$.buffer instanceof ArrayBuffer||"length"in $)return typeof $.length!="number"||mt($.length)?u(q,0):y(q,$);if($.type==="Buffer"&&e($.data))return y(q,$.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function E(q){if(q>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return q|0}function _(q){return+q!=q&&(q=0),c.alloc(+q)}c.isBuffer=function(q){return!!(q!=null&&q._isBuffer)},c.compare=function(q,$){if(!c.isBuffer(q)||!c.isBuffer($))throw new TypeError("Arguments must be Buffers");if(q===$)return 0;for(var J=q.length,lt=$.length,ut=0,ht=Math.min(J,lt);ut<ht;++ut)if(q[ut]!==$[ut]){J=q[ut],lt=$[ut];break}return J<lt?-1:lt<J?1:0},c.isEncoding=function(q){switch(String(q).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(q,$){if(!e(q))throw new TypeError('"list" argument must be an Array of Buffers');if(q.length===0)return c.alloc(0);var J;if($===void 0)for($=0,J=0;J<q.length;++J)$+=q[J].length;var lt=c.allocUnsafe($),ut=0;for(J=0;J<q.length;++J){var ht=q[J];if(!c.isBuffer(ht))throw new TypeError('"list" argument must be an Array of Buffers');ht.copy(lt,ut),ut+=ht.length}return lt};function A(q,$){if(c.isBuffer(q))return q.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(q)||q instanceof ArrayBuffer))return q.byteLength;typeof q!="string"&&(q=""+q);var J=q.length;if(J===0)return 0;for(var lt=!1;;)switch($){case"ascii":case"latin1":case"binary":return J;case"utf8":case"utf-8":case void 0:return nt(q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J*2;case"hex":return J>>>1;case"base64":return pt(q).length;default:if(lt)return nt(q).length;$=(""+$).toLowerCase(),lt=!0}}c.byteLength=A;function C(q,$,J){var lt=!1;if(($===void 0||$<0)&&($=0),$>this.length||((J===void 0||J>this.length)&&(J=this.length),J<=0)||(J>>>=0,$>>>=0,J<=$))return"";for(q||(q="utf8");;)switch(q){case"hex":return G(this,$,J);case"utf8":case"utf-8":return W(this,$,J);case"ascii":return N(this,$,J);case"latin1":case"binary":return X(this,$,J);case"base64":return j(this,$,J);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,$,J);default:if(lt)throw new TypeError("Unknown encoding: "+q);q=(q+"").toLowerCase(),lt=!0}}c.prototype._isBuffer=!0;function S(q,$,J){var lt=q[$];q[$]=q[J],q[J]=lt}c.prototype.swap16=function(){var q=this.length;if(q%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var $=0;$<q;$+=2)S(this,$,$+1);return this},c.prototype.swap32=function(){var q=this.length;if(q%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var $=0;$<q;$+=4)S(this,$,$+3),S(this,$+1,$+2);return this},c.prototype.swap64=function(){var q=this.length;if(q%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var $=0;$<q;$+=8)S(this,$,$+7),S(this,$+1,$+6),S(this,$+2,$+5),S(this,$+3,$+4);return this},c.prototype.toString=function(){var q=this.length|0;return q===0?"":arguments.length===0?W(this,0,q):C.apply(this,arguments)},c.prototype.equals=function(q){if(!c.isBuffer(q))throw new TypeError("Argument must be a Buffer");return this===q?!0:c.compare(this,q)===0},c.prototype.inspect=function(){var q="",$=r.INSPECT_MAX_BYTES;return this.length>0&&(q=this.toString("hex",0,$).match(/.{2}/g).join(" "),this.length>$&&(q+=" ... ")),"<Buffer "+q+">"},c.prototype.compare=function(q,$,J,lt,ut){if(!c.isBuffer(q))throw new TypeError("Argument must be a Buffer");if($===void 0&&($=0),J===void 0&&(J=q?q.length:0),lt===void 0&&(lt=0),ut===void 0&&(ut=this.length),$<0||J>q.length||lt<0||ut>this.length)throw new RangeError("out of range index");if(lt>=ut&&$>=J)return 0;if(lt>=ut)return-1;if($>=J)return 1;if($>>>=0,J>>>=0,lt>>>=0,ut>>>=0,this===q)return 0;for(var ht=ut-lt,bt=J-$,kt=Math.min(ht,bt),vt=this.slice(lt,ut),Et=q.slice($,J),Rt=0;Rt<kt;++Rt)if(vt[Rt]!==Et[Rt]){ht=vt[Rt],bt=Et[Rt];break}return ht<bt?-1:bt<ht?1:0};function P(q,$,J,lt,ut){if(q.length===0)return-1;if(typeof J=="string"?(lt=J,J=0):J>2147483647?J=2147483647:J<-2147483648&&(J=-2147483648),J=+J,isNaN(J)&&(J=ut?0:q.length-1),J<0&&(J=q.length+J),J>=q.length){if(ut)return-1;J=q.length-1}else if(J<0)if(ut)J=0;else return-1;if(typeof $=="string"&&($=c.from($,lt)),c.isBuffer($))return $.length===0?-1:O(q,$,J,lt,ut);if(typeof $=="number")return $=$&255,c.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?ut?Uint8Array.prototype.indexOf.call(q,$,J):Uint8Array.prototype.lastIndexOf.call(q,$,J):O(q,[$],J,lt,ut);throw new TypeError("val must be string, number or Buffer")}function O(q,$,J,lt,ut){var ht=1,bt=q.length,kt=$.length;if(lt!==void 0&&(lt=String(lt).toLowerCase(),lt==="ucs2"||lt==="ucs-2"||lt==="utf16le"||lt==="utf-16le")){if(q.length<2||$.length<2)return-1;ht=2,bt/=2,kt/=2,J/=2}function vt(Tt,_t){return ht===1?Tt[_t]:Tt.readUInt16BE(_t*ht)}var Et;if(ut){var Rt=-1;for(Et=J;Et<bt;Et++)if(vt(q,Et)===vt($,Rt===-1?0:Et-Rt)){if(Rt===-1&&(Rt=Et),Et-Rt+1===kt)return Rt*ht}else Rt!==-1&&(Et-=Et-Rt),Rt=-1}else for(J+kt>bt&&(J=bt-kt),Et=J;Et>=0;Et--){for(var Vt=!0,ee=0;ee<kt;ee++)if(vt(q,Et+ee)!==vt($,ee)){Vt=!1;break}if(Vt)return Et}return-1}c.prototype.includes=function(q,$,J){return this.indexOf(q,$,J)!==-1},c.prototype.indexOf=function(q,$,J){return P(this,q,$,J,!0)},c.prototype.lastIndexOf=function(q,$,J){return P(this,q,$,J,!1)};function R(q,$,J,lt){J=Number(J)||0;var ut=q.length-J;lt?(lt=Number(lt),lt>ut&&(lt=ut)):lt=ut;var ht=$.length;if(ht%2!==0)throw new TypeError("Invalid hex string");lt>ht/2&&(lt=ht/2);for(var bt=0;bt<lt;++bt){var kt=parseInt($.substr(bt*2,2),16);if(isNaN(kt))return bt;q[J+bt]=kt}return bt}function I(q,$,J,lt){return dt(nt($,q.length-J),q,J,lt)}function M(q,$,J,lt){return dt(ot($),q,J,lt)}function H(q,$,J,lt){return M(q,$,J,lt)}function L(q,$,J,lt){return dt(pt($),q,J,lt)}function D(q,$,J,lt){return dt(yt($,q.length-J),q,J,lt)}c.prototype.write=function(q,$,J,lt){if($===void 0)lt="utf8",J=this.length,$=0;else if(J===void 0&&typeof $=="string")lt=$,J=this.length,$=0;else if(isFinite($))$=$|0,isFinite(J)?(J=J|0,lt===void 0&&(lt="utf8")):(lt=J,J=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ut=this.length-$;if((J===void 0||J>ut)&&(J=ut),q.length>0&&(J<0||$<0)||$>this.length)throw new RangeError("Attempt to write outside buffer bounds");lt||(lt="utf8");for(var ht=!1;;)switch(lt){case"hex":return R(this,q,$,J);case"utf8":case"utf-8":return I(this,q,$,J);case"ascii":return M(this,q,$,J);case"latin1":case"binary":return H(this,q,$,J);case"base64":return L(this,q,$,J);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,q,$,J);default:if(ht)throw new TypeError("Unknown encoding: "+lt);lt=(""+lt).toLowerCase(),ht=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function j(q,$,J){return $===0&&J===q.length?a.fromByteArray(q):a.fromByteArray(q.slice($,J))}function W(q,$,J){J=Math.min(q.length,J);for(var lt=[],ut=$;ut<J;){var ht=q[ut],bt=null,kt=ht>239?4:ht>223?3:ht>191?2:1;if(ut+kt<=J){var vt,Et,Rt,Vt;switch(kt){case 1:ht<128&&(bt=ht);break;case 2:vt=q[ut+1],(vt&192)===128&&(Vt=(ht&31)<<6|vt&63,Vt>127&&(bt=Vt));break;case 3:vt=q[ut+1],Et=q[ut+2],(vt&192)===128&&(Et&192)===128&&(Vt=(ht&15)<<12|(vt&63)<<6|Et&63,Vt>2047&&(Vt<55296||Vt>57343)&&(bt=Vt));break;case 4:vt=q[ut+1],Et=q[ut+2],Rt=q[ut+3],(vt&192)===128&&(Et&192)===128&&(Rt&192)===128&&(Vt=(ht&15)<<18|(vt&63)<<12|(Et&63)<<6|Rt&63,Vt>65535&&Vt<1114112&&(bt=Vt))}}bt===null?(bt=65533,kt=1):bt>65535&&(bt-=65536,lt.push(bt>>>10&1023|55296),bt=56320|bt&1023),lt.push(bt),ut+=kt}return F(lt)}var B=4096;function F(q){var $=q.length;if($<=B)return String.fromCharCode.apply(String,q);for(var J="",lt=0;lt<$;)J+=String.fromCharCode.apply(String,q.slice(lt,lt+=B));return J}function N(q,$,J){var lt="";J=Math.min(q.length,J);for(var ut=$;ut<J;++ut)lt+=String.fromCharCode(q[ut]&127);return lt}function X(q,$,J){var lt="";J=Math.min(q.length,J);for(var ut=$;ut<J;++ut)lt+=String.fromCharCode(q[ut]);return lt}function G(q,$,J){var lt=q.length;(!$||$<0)&&($=0),(!J||J<0||J>lt)&&(J=lt);for(var ut="",ht=$;ht<J;++ht)ut+=ct(q[ht]);return ut}function V(q,$,J){for(var lt=q.slice($,J),ut="",ht=0;ht<lt.length;ht+=2)ut+=String.fromCharCode(lt[ht]+lt[ht+1]*256);return ut}c.prototype.slice=function(q,$){var J=this.length;q=~~q,$=$===void 0?J:~~$,q<0?(q+=J,q<0&&(q=0)):q>J&&(q=J),$<0?($+=J,$<0&&($=0)):$>J&&($=J),$<q&&($=q);var lt;if(c.TYPED_ARRAY_SUPPORT)lt=this.subarray(q,$),lt.__proto__=c.prototype;else{var ut=$-q;lt=new c(ut,void 0);for(var ht=0;ht<ut;++ht)lt[ht]=this[ht+q]}return lt};function z(q,$,J){if(q%1!==0||q<0)throw new RangeError("offset is not uint");if(q+$>J)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUIntLE=function(q,$,J){q=q|0,$=$|0,J||z(q,$,this.length);for(var lt=this[q],ut=1,ht=0;++ht<$&&(ut*=256);)lt+=this[q+ht]*ut;return lt},c.prototype.readUIntBE=function(q,$,J){q=q|0,$=$|0,J||z(q,$,this.length);for(var lt=this[q+--$],ut=1;$>0&&(ut*=256);)lt+=this[q+--$]*ut;return lt},c.prototype.readUInt8=function(q,$){return $||z(q,1,this.length),this[q]},c.prototype.readUInt16LE=function(q,$){return $||z(q,2,this.length),this[q]|this[q+1]<<8},c.prototype.readUInt16BE=function(q,$){return $||z(q,2,this.length),this[q]<<8|this[q+1]},c.prototype.readUInt32LE=function(q,$){return $||z(q,4,this.length),(this[q]|this[q+1]<<8|this[q+2]<<16)+this[q+3]*16777216},c.prototype.readUInt32BE=function(q,$){return $||z(q,4,this.length),this[q]*16777216+(this[q+1]<<16|this[q+2]<<8|this[q+3])},c.prototype.readIntLE=function(q,$,J){q=q|0,$=$|0,J||z(q,$,this.length);for(var lt=this[q],ut=1,ht=0;++ht<$&&(ut*=256);)lt+=this[q+ht]*ut;return ut*=128,lt>=ut&&(lt-=Math.pow(2,8*$)),lt},c.prototype.readIntBE=function(q,$,J){q=q|0,$=$|0,J||z(q,$,this.length);for(var lt=$,ut=1,ht=this[q+--lt];lt>0&&(ut*=256);)ht+=this[q+--lt]*ut;return ut*=128,ht>=ut&&(ht-=Math.pow(2,8*$)),ht},c.prototype.readInt8=function(q,$){return $||z(q,1,this.length),this[q]&128?(255-this[q]+1)*-1:this[q]},c.prototype.readInt16LE=function(q,$){$||z(q,2,this.length);var J=this[q]|this[q+1]<<8;return J&32768?J|4294901760:J},c.prototype.readInt16BE=function(q,$){$||z(q,2,this.length);var J=this[q+1]|this[q]<<8;return J&32768?J|4294901760:J},c.prototype.readInt32LE=function(q,$){return $||z(q,4,this.length),this[q]|this[q+1]<<8|this[q+2]<<16|this[q+3]<<24},c.prototype.readInt32BE=function(q,$){return $||z(q,4,this.length),this[q]<<24|this[q+1]<<16|this[q+2]<<8|this[q+3]},c.prototype.readFloatLE=function(q,$){return $||z(q,4,this.length),l.read(this,q,!0,23,4)},c.prototype.readFloatBE=function(q,$){return $||z(q,4,this.length),l.read(this,q,!1,23,4)},c.prototype.readDoubleLE=function(q,$){return $||z(q,8,this.length),l.read(this,q,!0,52,8)},c.prototype.readDoubleBE=function(q,$){return $||z(q,8,this.length),l.read(this,q,!1,52,8)};function U(q,$,J,lt,ut,ht){if(!c.isBuffer(q))throw new TypeError('"buffer" argument must be a Buffer instance');if($>ut||$<ht)throw new RangeError('"value" argument is out of bounds');if(J+lt>q.length)throw new RangeError("Index out of range")}c.prototype.writeUIntLE=function(q,$,J,lt){if(q=+q,$=$|0,J=J|0,!lt){var ut=Math.pow(2,8*J)-1;U(this,q,$,J,ut,0)}var ht=1,bt=0;for(this[$]=q&255;++bt<J&&(ht*=256);)this[$+bt]=q/ht&255;return $+J},c.prototype.writeUIntBE=function(q,$,J,lt){if(q=+q,$=$|0,J=J|0,!lt){var ut=Math.pow(2,8*J)-1;U(this,q,$,J,ut,0)}var ht=J-1,bt=1;for(this[$+ht]=q&255;--ht>=0&&(bt*=256);)this[$+ht]=q/bt&255;return $+J},c.prototype.writeUInt8=function(q,$,J){return q=+q,$=$|0,J||U(this,q,$,1,255,0),c.TYPED_ARRAY_SUPPORT||(q=Math.floor(q)),this[$]=q&255,$+1};function Z(q,$,J,lt){$<0&&($=65535+$+1);for(var ut=0,ht=Math.min(q.length-J,2);ut<ht;++ut)q[J+ut]=($&255<<8*(lt?ut:1-ut))>>>(lt?ut:1-ut)*8}c.prototype.writeUInt16LE=function(q,$,J){return q=+q,$=$|0,J||U(this,q,$,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[$]=q&255,this[$+1]=q>>>8):Z(this,q,$,!0),$+2},c.prototype.writeUInt16BE=function(q,$,J){return q=+q,$=$|0,J||U(this,q,$,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[$]=q>>>8,this[$+1]=q&255):Z(this,q,$,!1),$+2};function st(q,$,J,lt){$<0&&($=4294967295+$+1);for(var ut=0,ht=Math.min(q.length-J,4);ut<ht;++ut)q[J+ut]=$>>>(lt?ut:3-ut)*8&255}c.prototype.writeUInt32LE=function(q,$,J){return q=+q,$=$|0,J||U(this,q,$,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[$+3]=q>>>24,this[$+2]=q>>>16,this[$+1]=q>>>8,this[$]=q&255):st(this,q,$,!0),$+4},c.prototype.writeUInt32BE=function(q,$,J){return q=+q,$=$|0,J||U(this,q,$,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[$]=q>>>24,this[$+1]=q>>>16,this[$+2]=q>>>8,this[$+3]=q&255):st(this,q,$,!1),$+4},c.prototype.writeIntLE=function(q,$,J,lt){if(q=+q,$=$|0,!lt){var ut=Math.pow(2,8*J-1);U(this,q,$,J,ut-1,-ut)}var ht=0,bt=1,kt=0;for(this[$]=q&255;++ht<J&&(bt*=256);)q<0&&kt===0&&this[$+ht-1]!==0&&(kt=1),this[$+ht]=(q/bt>>0)-kt&255;return $+J},c.prototype.writeIntBE=function(q,$,J,lt){if(q=+q,$=$|0,!lt){var ut=Math.pow(2,8*J-1);U(this,q,$,J,ut-1,-ut)}var ht=J-1,bt=1,kt=0;for(this[$+ht]=q&255;--ht>=0&&(bt*=256);)q<0&&kt===0&&this[$+ht+1]!==0&&(kt=1),this[$+ht]=(q/bt>>0)-kt&255;return $+J},c.prototype.writeInt8=function(q,$,J){return q=+q,$=$|0,J||U(this,q,$,1,127,-128),c.TYPED_ARRAY_SUPPORT||(q=Math.floor(q)),q<0&&(q=255+q+1),this[$]=q&255,$+1},c.prototype.writeInt16LE=function(q,$,J){return q=+q,$=$|0,J||U(this,q,$,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[$]=q&255,this[$+1]=q>>>8):Z(this,q,$,!0),$+2},c.prototype.writeInt16BE=function(q,$,J){return q=+q,$=$|0,J||U(this,q,$,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[$]=q>>>8,this[$+1]=q&255):Z(this,q,$,!1),$+2},c.prototype.writeInt32LE=function(q,$,J){return q=+q,$=$|0,J||U(this,q,$,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[$]=q&255,this[$+1]=q>>>8,this[$+2]=q>>>16,this[$+3]=q>>>24):st(this,q,$,!0),$+4},c.prototype.writeInt32BE=function(q,$,J){return q=+q,$=$|0,J||U(this,q,$,4,2147483647,-2147483648),q<0&&(q=4294967295+q+1),c.TYPED_ARRAY_SUPPORT?(this[$]=q>>>24,this[$+1]=q>>>16,this[$+2]=q>>>8,this[$+3]=q&255):st(this,q,$,!1),$+4};function Y(q,$,J,lt,ut,ht){if(J+lt>q.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("Index out of range")}function rt(q,$,J,lt,ut){return ut||Y(q,$,J,4),l.write(q,$,J,lt,23,4),J+4}c.prototype.writeFloatLE=function(q,$,J){return rt(this,q,$,!0,J)},c.prototype.writeFloatBE=function(q,$,J){return rt(this,q,$,!1,J)};function ft(q,$,J,lt,ut){return ut||Y(q,$,J,8),l.write(q,$,J,lt,52,8),J+8}c.prototype.writeDoubleLE=function(q,$,J){return ft(this,q,$,!0,J)},c.prototype.writeDoubleBE=function(q,$,J){return ft(this,q,$,!1,J)},c.prototype.copy=function(q,$,J,lt){if(J||(J=0),!lt&&lt!==0&&(lt=this.length),$>=q.length&&($=q.length),$||($=0),lt>0&&lt<J&&(lt=J),lt===J||q.length===0||this.length===0)return 0;if($<0)throw new RangeError("targetStart out of bounds");if(J<0||J>=this.length)throw new RangeError("sourceStart out of bounds");if(lt<0)throw new RangeError("sourceEnd out of bounds");lt>this.length&&(lt=this.length),q.length-$<lt-J&&(lt=q.length-$+J);var ut=lt-J,ht;if(this===q&&J<$&&$<lt)for(ht=ut-1;ht>=0;--ht)q[ht+$]=this[ht+J];else if(ut<1e3||!c.TYPED_ARRAY_SUPPORT)for(ht=0;ht<ut;++ht)q[ht+$]=this[ht+J];else Uint8Array.prototype.set.call(q,this.subarray(J,J+ut),$);return ut},c.prototype.fill=function(q,$,J,lt){if(typeof q=="string"){if(typeof $=="string"?(lt=$,$=0,J=this.length):typeof J=="string"&&(lt=J,J=this.length),q.length===1){var ut=q.charCodeAt(0);ut<256&&(q=ut)}if(lt!==void 0&&typeof lt!="string")throw new TypeError("encoding must be a string");if(typeof lt=="string"&&!c.isEncoding(lt))throw new TypeError("Unknown encoding: "+lt)}else typeof q=="number"&&(q=q&255);if($<0||this.length<$||this.length<J)throw new RangeError("Out of range index");if(J<=$)return this;$=$>>>0,J=J===void 0?this.length:J>>>0,q||(q=0);var ht;if(typeof q=="number")for(ht=$;ht<J;++ht)this[ht]=q;else{var bt=c.isBuffer(q)?q:nt(new c(q,lt).toString()),kt=bt.length;for(ht=0;ht<J-$;++ht)this[ht+$]=bt[ht%kt]}return this};var tt=/[^+\/0-9A-Za-z-_]/g;function K(q){if(q=Q(q).replace(tt,""),q.length<2)return"";for(;q.length%4!==0;)q=q+"=";return q}function Q(q){return q.trim?q.trim():q.replace(/^\s+|\s+$/g,"")}function ct(q){return q<16?"0"+q.toString(16):q.toString(16)}function nt(q,$){$=$||1/0;for(var J,lt=q.length,ut=null,ht=[],bt=0;bt<lt;++bt){if(J=q.charCodeAt(bt),J>55295&&J<57344){if(!ut){if(J>56319){($-=3)>-1&&ht.push(239,191,189);continue}else if(bt+1===lt){($-=3)>-1&&ht.push(239,191,189);continue}ut=J;continue}if(J<56320){($-=3)>-1&&ht.push(239,191,189),ut=J;continue}J=(ut-55296<<10|J-56320)+65536}else ut&&($-=3)>-1&&ht.push(239,191,189);if(ut=null,J<128){if(($-=1)<0)break;ht.push(J)}else if(J<2048){if(($-=2)<0)break;ht.push(J>>6|192,J&63|128)}else if(J<65536){if(($-=3)<0)break;ht.push(J>>12|224,J>>6&63|128,J&63|128)}else if(J<1114112){if(($-=4)<0)break;ht.push(J>>18|240,J>>12&63|128,J>>6&63|128,J&63|128)}else throw new Error("Invalid code point")}return ht}function ot(q){for(var $=[],J=0;J<q.length;++J)$.push(q.charCodeAt(J)&255);return $}function yt(q,$){for(var J,lt,ut,ht=[],bt=0;bt<q.length&&!(($-=2)<0);++bt)J=q.charCodeAt(bt),lt=J>>8,ut=J%256,ht.push(ut),ht.push(lt);return ht}function pt(q){return a.toByteArray(K(q))}function dt(q,$,J,lt){for(var ut=0;ut<lt&&!(ut+J>=$.length||ut>=q.length);++ut)$[ut+J]=q[ut];return ut}function mt(q){return q!==q}}).call(this,t(27))},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.NUM_PRECOMP_SUBSETS_PER_1D_TTILE=8,r.NUM_PRECOMP_SUBSETS_PER_2D_TTILE=8},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(19),a=R(n),l=t(35),e=R(l),o=t(5),s=R(o),u=t(3),c=R(u),m=t(4),p=R(m),h=t(6),v=R(h),x=t(14),y=R(x),k=t(7),T=R(k),E=t(255),_=R(E),A=t(179),C=R(A),S=t(24),P=t(10),O=t(11);function R(M){return M&&M.__esModule?M:{default:M}}var I=function(M){(0,T.default)(H,M);function H(L,D){(0,c.default)(this,H);var j=(0,v.default)(this,(H.__proto__||(0,s.default)(H)).call(this,L,D)),W=L.animate,B=L.isShowGlobalMousePosition;return j.constIndicator=new O.GLOBALS.PIXI.Graphics,j.pMain.addChild(j.constIndicator),j.axis=new C.default(j),j.pBase.addChild(j.axis.pAxis),j.animate=W,j.options=D,j.isShowGlobalMousePosition=B,j.pubSubs=[],j.options.showMousePosition&&!j.hideMousePosition&&(j.hideMousePosition=(0,P.showMousePosition)(j,j.is2d,j.isShowGlobalMousePosition())),j}return(0,p.default)(H,[{key:"rerender",value:function(){function L(D,j){var W=(0,e.default)(D);!j&&W===this.prevOptions||((0,y.default)(H.prototype.__proto__||(0,s.default)(H.prototype),"rerender",this).call(this,D,j),this.prevOptions=W,this.options=D,this.options.showMousePosition&&!this.hideMousePosition&&(this.hideMousePosition=(0,P.showMousePosition)(this,this.is2d,this.isShowGlobalMousePosition())),!this.options.showMousePosition&&this.hideMousePosition&&(this.hideMousePosition(),this.hideMousePosition=void 0))}return L}()},{key:"calculateZoomLevel",value:function(){function L(){if(this.tilesetInfo.resolutions){var D=S.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]-2);return D}var j=S.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.bins_per_dimension||this.tilesetInfo.tile_size),W=Math.min(j,this.maxZoom);return W=Math.max(W,0),W}return L}()},{key:"relevantScale",value:function(){function L(){return this._xScale}return L}()},{key:"draw",value:function(){function L(){(0,y.default)(H.prototype.__proto__||(0,s.default)(H.prototype),"draw",this).call(this),this.drawConstIndicator()}return L}()},{key:"drawAxis",value:function(){function L(D){if(!this.options.axisPositionVertical&&!this.options.axisPositionHorizontal){this.axis.clearAxis();return}if(this.options.axisPositionVertical&&this.options.axisPositionVertical==="hidden"){this.axis.clearAxis();return}if(this.options.axisPositionHorizontal&&this.options.axisPositionHorizontal==="hidden"){this.axis.clearAxis();return}var j=this.options.axisMargin||0;this.options.axisPositionHorizontal==="left"||this.options.axisPositionVertical==="top"?(this.axis.pAxis.position.x=this.position[0]+j,this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisRight(D,this.dimensions[1])):this.options.axisPositionHorizontal==="outsideLeft"||this.options.axisPositionVertical==="outsideTop"?(this.axis.pAxis.position.x=this.position[0]+j,this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisLeft(D,this.dimensions[1])):this.options.axisPositionHorizontal==="right"||this.options.axisPositionVertical==="bottom"?(this.axis.pAxis.position.x=this.position[0]+this.dimensions[0]-j,this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisLeft(D,this.dimensions[1])):(this.options.axisPositionHorizontal==="outsideRight"||this.options.axisPositionVertical==="outsideBottom")&&(this.axis.pAxis.position.x=this.position[0]+this.dimensions[0]-j,this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisRight(D,this.dimensions[1]))}return L}()},{key:"mouseMoveZoomHandler",value:function(){function L(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.mouseX,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.mouseY;if(!(typeof D>"u"||!this.areAllVisibleTilesLoaded()||!this.tilesetInfo)){var W=0,B=0,F="1d-horizontal";this.isLeftModified?(W=j-this.position[1],B=D-this.position[0],F="1d-vertical"):(W=D-this.position[0],B=j-this.position[1]);var N=D-this.position[0],X=j-this.position[1],G=this._xScale.invert(W),V=this._yScale.invert(B),z=this.getDataAtPos(W);z&&this.onMouseMoveZoom({trackId:this.id,data:z,absX:D,absY:j,relX:N,relY:X,dataX:G,dataY:V,orientation:F})}}return L}()},{key:"drawConstIndicator",value:function(){function L(){var D=this;if(this.constIndicator){for(this.constIndicator.clear();this.constIndicator.children[0];)this.constIndicator.removeChild(this.constIndicator.children[0]);!this.options.constIndicators||!this.valueScale||this.options.constIndicators.forEach(function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},W=j.color,B=W===void 0?"black":W,F=j.opacity,N=F===void 0?1:F,X=j.label,G=X===void 0?null:X,V=j.labelColor,z=V===void 0?"black":V,U=j.labelOpacity,Z=U===void 0?1:U,st=j.labelPosition,Y=st===void 0?"leftTop":st,rt=j.labelSize,ft=rt===void 0?12:rt,tt=j.value,K=tt===void 0?0:tt,Q=(0,P.colorToHex)(B),ct=(0,P.colorToHex)(z);D.constIndicator.beginFill(Q,N);var nt=D.valueScale(K),ot=0,yt=0;if(G){var pt=new O.GLOBALS.PIXI.Text(G,{fontFamily:"Arial",fontSize:ft,fill:ct});switch(pt.alpha=Z,Y){case"right":pt.anchor.x=1,pt.anchor.y=.5,pt.x=D.position[0]+D.dimensions[0]-6,pt.y=nt,yt=pt.width+8;break;case"rightBottom":pt.anchor.x=1,pt.anchor.y=0,pt.x=D.position[0]+D.dimensions[0]-6,pt.y=nt;break;case"rightTop":pt.anchor.x=1,pt.anchor.y=1,pt.x=D.position[0]+D.dimensions[0]-6,pt.y=nt;break;case"left":pt.anchor.x=0,pt.anchor.y=.5,pt.x=D.position[0]+2,pt.y=nt,ot=pt.width+4;break;case"leftBottom":pt.anchor.x=0,pt.anchor.y=0,pt.x=D.position[0]+2,pt.y=nt;break;case"leftTop":default:pt.anchor.x=0,pt.anchor.y=1,pt.x=D.position[0]+2,pt.y=nt;break}D.constIndicator.addChild(pt)}D.constIndicator.drawRect(D.position[0]+ot,nt,D.dimensions[0]-yt,1)})}}return L}()},{key:"exportSVG",value:function(){function L(){var D=this,j=null,W=null;if((0,y.default)(H.prototype.__proto__||(0,s.default)(H.prototype),"exportSVG",this)){var B=(0,y.default)(H.prototype.__proto__||(0,s.default)(H.prototype),"exportSVG",this).call(this),F=(0,a.default)(B,2);W=F[0],j=F[1]}else W=document.createElement("g"),j=W;W.setAttribute("class","horizontal-tiled-1d-track");var N=document.createElement("g");return j.appendChild(N),this.options.constIndicators&&this.options.constIndicators.forEach(function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},G=X.color,V=G===void 0?"black":G,z=X.opacity,U=z===void 0?1:z,Z=X.label,st=Z===void 0?null:Z,Y=X.labelColor,rt=Y===void 0?"black":Y,ft=X.labelOpacity,tt=ft===void 0?1:ft,K=X.labelPosition,Q=K===void 0?"leftTop":K,ct=X.labelSize,nt=ct===void 0?12:ct,ot=X.value,yt=ot===void 0?0:ot,pt=D.valueScale(yt);if(st){var dt=document.createElement("text");switch(dt.textContent=st,dt.setAttribute("x",D.position[0]),dt.setAttribute("y",pt),dt.setAttribute("style","font-family: 'Arial'; font-size: "+String(nt)+"px; fill: "+String(rt)+"; fill-opacity: "+String(tt)+";"),Q){case"rightBottom":dt.setAttribute("x",D.position[0]+D.dimensions[0]-6),dt.setAttribute("y",pt+nt+2),dt.setAttribute("text-anchor","end");break;case"right":case"rightTop":dt.setAttribute("x",D.position[0]+D.dimensions[0]-6),dt.setAttribute("y",pt-2),dt.setAttribute("text-anchor","end");break;case"leftBottom":dt.setAttribute("x",D.position[0]+2),dt.setAttribute("y",pt+nt+2);break;case"left":case"leftTop":default:dt.setAttribute("x",D.position[0]+2),dt.setAttribute("y",pt-2);break}N.appendChild(dt)}var mt=document.createElement("line");mt.setAttribute("x1",D.position[0]),mt.setAttribute("y1",pt),mt.setAttribute("x2",D.dimensions[0]),mt.setAttribute("y2",pt),mt.setAttribute("stroke",V),mt.setAttribute("stroke-opacity",U),N.appendChild(mt)}),[W,j]}return L}()}]),H}(_.default);r.default=I},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(17),a=R(n),l=t(30),e=R(l),o=t(19),s=R(o),u=t(5),c=R(u),m=t(3),p=R(m),h=t(4),v=R(h),x=t(6),y=R(x),k=t(14),T=R(k),E=t(7),_=R(E),A=t(20),C=t(28),S=t(115),P=R(S),O=t(10);function R(M){return M&&M.__esModule?M:{default:M}}var I=function(M){(0,_.default)(H,M);function H(){return(0,p.default)(this,H),(0,y.default)(this,(H.__proto__||(0,c.default)(H)).apply(this,arguments))}return(0,v.default)(H,[{key:"stopHover",value:function(){function L(){this.pMouseOver.clear(),this.animate()}return L}()},{key:"getMouseOverHtml",value:function(){function L(D){if(!this.tilesetInfo||!this.options.showTooltip||!this.valueScale)return"";var j=this.getDataAtPos(D),W="";j&&(W=(0,A.format)(".3f")(j));var B=this.pMouseOver,F=0,N=this.valueScale(j);B.clear(),B.beginFill(F,.5),B.lineStyle(1,F,1);var X=4;return B.drawRect(D-X/2,N-X/2,X,X),this.animate(),""+String(W)}return L}()},{key:"initTile",value:function(){function L(D){if((0,T.default)(H.prototype.__proto__||(0,c.default)(H.prototype),"initTile",this).call(this,D),!D.tileData||!D.tileData.dense){console.warn("emptyTile:",D);return}if(D.xValues=new Array(D.tileData.dense.length),D.yValues=new Array(D.tileData.dense.length),this.isValueScaleLocked()){var j=this.getLockGroupExtrema();j!==null&&(this.minValue(j[0]),this.maxValue(j[1]))}this.drawTile(D)}return L}()},{key:"rerender",value:function(){function L(D,j){var W=this;(0,T.default)(H.prototype.__proto__||(0,c.default)(H.prototype),"rerender",this).call(this,D,j),this.options=D,(0,T.default)(H.prototype.__proto__||(0,c.default)(H.prototype),"draw",this).call(this),this.visibleAndFetchedTiles().forEach(function(B){W.renderTile(B)})}return L}()},{key:"renderTile",value:function(){function L(D){this.drawTile(D),this.drawAxis(this.valueScale)}return L}()},{key:"drawTile",value:function(){function L(D){if((0,T.default)(H.prototype.__proto__||(0,c.default)(H.prototype),"drawTile",this).call(this,D),!!D.graphics&&!(!D.tileData||!D.tileData.dense)){var j=D.graphics,W=this.getTilePosAndDimensions(D.tileData.zoomLevel,D.tileData.tilePos),B=W.tileX,F=W.tileWidth,N=D.tileData.dense;if(N.length!==0){var X=this.makeValueScale(this.minValue(),this.medianVisibleValue,this.maxValue()),G=(0,s.default)(X,2),V=G[0],z=G[1];if(this.valueScale=V,j.clear(),this.drawAxis(this.valueScale),this.options.valueScaling==="log"&&this.valueScale.domain()[1]<0){console.warn("Negative values present when using a log scale",this.valueScale.domain());return}var U=(0,O.colorToHex)(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue");!this.tilesetInfo.tile_size&&!this.tilesetInfo.bins_per_dimension&&console.warn("No tileset_info.tile_size or tileset_info.bins_per_dimension",this.tilesetInfo);var Z=this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension,st=(0,C.scaleLinear)().domain([0,Z]).range([B,B+F]),Y=this.options.lineStrokeWidth?this.options.lineStrokeWidth:1;j.lineStyle(Y,U,1),D.segments=[];for(var rt=[],ft=0;ft<N.length;ft++){var tt=this._xScale(st(ft)),K=this.valueScale(N[ft]+z);if(this.options.valueScaling==="log"&&N[ft]===0||(0,e.default)(K)){rt.length>1&&D.segments.push(rt),rt=[];continue}if(st(ft)>this.tilesetInfo.max_pos[0])break;rt.push([tt,K])}rt.length>1&&D.segments.push(rt);var Q=!0,ct=!1,nt=void 0;try{for(var ot=(0,a.default)(D.segments),yt;!(Q=(yt=ot.next()).done);Q=!0){var pt=yt.value,dt=pt[0],mt=pt.slice(1);j.moveTo(dt[0],dt[1]);var q=!0,$=!1,J=void 0;try{for(var lt=(0,a.default)(mt),ut;!(q=(ut=lt.next()).done);q=!0){var ht=ut.value;j.lineTo(ht[0],ht[1])}}catch(bt){$=!0,J=bt}finally{try{!q&&lt.return&&lt.return()}finally{if($)throw J}}}}catch(bt){ct=!0,nt=bt}finally{try{!Q&&ot.return&&ot.return()}finally{if(ct)throw nt}}}}}return L}()},{key:"setPosition",value:function(){function L(D){(0,T.default)(H.prototype.__proto__||(0,c.default)(H.prototype),"setPosition",this).call(this,D),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0],this.pMouseOver.position.y=this.position[1],this.pMouseOver.position.x=this.position[0]}return L}()},{key:"zoomed",value:function(){function L(D,j){this.xScale(D),this.yScale(j),this.refreshTiles(),this.draw();var W=this.isValueScaleLocked();if(this.continuousScaling&&this.minValue()!==void 0&&this.maxValue()!==void 0){if(this.valueScaleMin===null&&this.valueScaleMax===null&&!W){var B=this.minVisibleValue(),F=this.maxVisibleValue(),N=1e-6;B!==null&&F!==null&&(Math.abs(this.minValue()-B)>N||Math.abs(this.maxValue()-F)>N)&&(this.minValue(B),this.maxValue(F),this.scheduleRerender())}W&&this.onValueScaleChanged()}}return L}()},{key:"superSVG",value:function(){function L(){return(0,T.default)(H.prototype.__proto__||(0,c.default)(H.prototype),"exportSVG",this).call(this)}return L}()},{key:"exportSVG",value:function(){function L(){var D=null,j=null;if((0,T.default)(H.prototype.__proto__||(0,c.default)(H.prototype),"exportSVG",this)){var W=(0,T.default)(H.prototype.__proto__||(0,c.default)(H.prototype),"exportSVG",this).call(this),B=(0,s.default)(W,2);j=B[0],D=B[1]}else j=document.createElement("g"),D=j;j.setAttribute("class","exported-line-track");var F=document.createElement("g");D.appendChild(F),F.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")");var N=this.options.lineStrokeColor?this.options.lineStrokeColor:"blue";this.visibleAndFetchedTiles().forEach(function(z){var U=document.createElement("path");U.setAttribute("fill","transparent"),U.setAttribute("stroke",N);var Z="",st=!0,Y=!1,rt=void 0;try{for(var ft=(0,a.default)(z.segments),tt;!(st=(tt=ft.next()).done);st=!0){var K=tt.value,Q=K[0],ct=K.slice(1);Z+="M"+String(Q[0])+" "+String(Q[1]);var nt=!0,ot=!1,yt=void 0;try{for(var pt=(0,a.default)(ct),dt;!(nt=(dt=pt.next()).done);nt=!0){var mt=dt.value;Z+="L"+String(mt[0])+" "+String(mt[1])}}catch(q){ot=!0,yt=q}finally{try{!nt&&pt.return&&pt.return()}finally{if(ot)throw yt}}}}catch(q){Y=!0,rt=q}finally{try{!st&&ft.return&&ft.return()}finally{if(Y)throw rt}}U.setAttribute("d",Z),F.appendChild(U)});var X=document.createElement("g");if(X.setAttribute("id","axis"),j.appendChild(X),X.setAttribute("transform","translate("+String(this.axis.pAxis.position.x)+", "+String(this.axis.pAxis.position.y)+")"),this.options.axisPositionHorizontal==="left"||this.options.axisPositionVertical==="top"){var G=this.axis.exportAxisLeftSVG(this.valueScale,this.dimensions[1]);X.appendChild(G)}else if(this.options.axisPositionHorizontal==="right"||this.options.axisPositionVertical==="bottom"){var V=this.axis.exportAxisRightSVG(this.valueScale,this.dimensions[1]);X.appendChild(V)}return[j,D]}return L}()},{key:"tileToLocalId",value:function(){function L(D){return this.options.aggregationMode&&this.options.aggregationMode!=="mean"?String(D.join("."))+"."+String(this.options.aggregationMode):""+String(D.join("."))}return L}()},{key:"tileToRemoteId",value:function(){function L(D){return this.tileToLocalId(D)}return L}()}]),H}(P.default);r.default=I},function(f,r,t){f.exports={copy:n,checkDataType:a,checkDataTypes:l,coerceToTypes:o,toHash:s,getProperty:m,escapeQuotes:p,equal:t(269),ucs2length:t(692),varOccurences:h,varReplace:v,cleanUpCode:T,finalCleanUpCode:M,schemaHasRules:H,schemaHasRulesExcept:L,schemaUnknownRules:D,toQuotedString:j,getPathExpr:W,getPath:B,getData:X,unescapeFragment:V,unescapeJsonPointer:Z,escapeFragment:z,escapeJsonPointer:U};function n(st,Y){Y=Y||{};for(var rt in st)Y[rt]=st[rt];return Y}function a(st,Y,rt){var ft=rt?" !== ":" === ",tt=rt?" || ":" && ",K=rt?"!":"",Q=rt?"":"!";switch(st){case"null":return Y+ft+"null";case"array":return K+"Array.isArray("+Y+")";case"object":return"("+K+Y+tt+"typeof "+Y+ft+'"object"'+tt+Q+"Array.isArray("+Y+"))";case"integer":return"(typeof "+Y+ft+'"number"'+tt+Q+"("+Y+" % 1)"+tt+Y+ft+Y+")";default:return"typeof "+Y+ft+'"'+st+'"'}}function l(st,Y){switch(st.length){case 1:return a(st[0],Y,!0);default:var rt="",ft=s(st);ft.array&&ft.object&&(rt=ft.null?"(":"(!"+Y+" || ",rt+="typeof "+Y+' !== "object")',delete ft.null,delete ft.array,delete ft.object),ft.number&&delete ft.integer;for(var tt in ft)rt+=(rt?" && ":"")+a(tt,Y,!0);return rt}}var e=s(["string","number","integer","boolean","null"]);function o(st,Y){if(Array.isArray(Y)){for(var rt=[],ft=0;ft<Y.length;ft++){var tt=Y[ft];(e[tt]||st==="array"&&tt==="array")&&(rt[rt.length]=tt)}if(rt.length)return rt}else{if(e[Y])return[Y];if(st==="array"&&Y==="array")return["array"]}}function s(st){for(var Y={},rt=0;rt<st.length;rt++)Y[st[rt]]=!0;return Y}var u=/^[a-z$_][a-z$_0-9]*$/i,c=/'|\\/g;function m(st){return typeof st=="number"?"["+st+"]":u.test(st)?"."+st:"['"+p(st)+"']"}function p(st){return st.replace(c,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function h(st,Y){Y+="[^0-9]";var rt=st.match(new RegExp(Y,"g"));return rt?rt.length:0}function v(st,Y,rt){return Y+="([^0-9])",rt=rt.replace(/\$/g,"$$$$"),st.replace(new RegExp(Y,"g"),rt+"$1")}var x=/else\s*{\s*}/g,y=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,k=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g;function T(st){return st.replace(x,"").replace(y,"").replace(k,"if (!($1))")}var E=/[^v.]errors/g,_=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,A=/var errors = 0;|var vErrors = null;/g,C="return errors === 0;",S="validate.errors = null; return true;",P=/if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/,O="return data;",R=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,I=/if \(rootData === undefined\) rootData = data;/;function M(st,Y){var rt=st.match(E);return rt&&rt.length==2&&(st=Y?st.replace(A,"").replace(P,O):st.replace(_,"").replace(C,S)),rt=st.match(R),!rt||rt.length!==3?st:st.replace(I,"")}function H(st,Y){if(typeof st=="boolean")return!st;for(var rt in st)if(Y[rt])return!0}function L(st,Y,rt){if(typeof st=="boolean")return!st&&rt!="not";for(var ft in st)if(ft!=rt&&Y[ft])return!0}function D(st,Y){if(typeof st!="boolean"){for(var rt in st)if(!Y[rt])return rt}}function j(st){return"'"+p(st)+"'"}function W(st,Y,rt,ft){var tt=rt?"'/' + "+Y+(ft?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):ft?"'[' + "+Y+" + ']'":"'[\\'' + "+Y+" + '\\']'";return G(st,tt)}function B(st,Y,rt){var ft=j(rt?"/"+U(Y):m(Y));return G(st,ft)}var F=/^\/(?:[^~]|~0|~1)*$/,N=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function X(st,Y,rt){var ft,tt,K,Q;if(st==="")return"rootData";if(st[0]=="/"){if(!F.test(st))throw new Error("Invalid JSON-pointer: "+st);tt=st,K="rootData"}else{if(Q=st.match(N),!Q)throw new Error("Invalid JSON-pointer: "+st);if(ft=+Q[1],tt=Q[2],tt=="#"){if(ft>=Y)throw new Error("Cannot access property/index "+ft+" levels up, current level is "+Y);return rt[Y-ft]}if(ft>Y)throw new Error("Cannot access data "+ft+" levels up, current level is "+Y);if(K="data"+(Y-ft||""),!tt)return K}for(var ct=K,nt=tt.split("/"),ot=0;ot<nt.length;ot++){var yt=nt[ot];yt&&(K+=m(Z(yt)),ct+=" && "+K)}return ct}function G(st,Y){return st=='""'?Y:(st+" + "+Y).replace(/' \+ '/g,"")}function V(st){return Z(decodeURIComponent(st))}function z(st){return encodeURIComponent(U(st))}function U(st){return st.replace(/~/g,"~0").replace(/\//g,"~1")}function Z(st){return st.replace(/~1/g,"/").replace(/~0/g,"~")}},function(f,r,t){var n=t(41),a=n.Symbol;f.exports=a},function(f,r,t){var n=t(409),a=t(740),l=t(98);function e(o){return l(o)?n(o):a(o)}f.exports=e},function(f,r){function t(n,a){return n===a||n!==n&&a!==a}f.exports=t},function(f,r,t){var n=t(409),a=t(802),l=t(98);function e(o){return l(o)?n(o,!0):a(o)}f.exports=e},function(f,r,t){var n=t(52),a=t(449),l=t(451),e=t(948),o=l();n(o,{getPolyfill:l,implementation:a,shim:e}),f.exports=o},function(f,r){f.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:function(t){return t.type==="tag"||t.type==="script"||t.type==="style"}}},function(f,r,t){var n=t(966),a=t(149),l=t(967),e=a.CODE_POINTS,o=a.CODE_POINT_SEQUENCES,s={0:65533,13:13,128:8364,129:129,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,141:141,142:381,143:143,144:144,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,157:157,158:382,159:376},u=1,c=2,m=4,p=u|c|m,h="DATA_STATE",v="CHARACTER_REFERENCE_IN_DATA_STATE",x="RCDATA_STATE",y="CHARACTER_REFERENCE_IN_RCDATA_STATE",k="RAWTEXT_STATE",T="SCRIPT_DATA_STATE",E="PLAINTEXT_STATE",_="TAG_OPEN_STATE",A="END_TAG_OPEN_STATE",C="TAG_NAME_STATE",S="RCDATA_LESS_THAN_SIGN_STATE",P="RCDATA_END_TAG_OPEN_STATE",O="RCDATA_END_TAG_NAME_STATE",R="RAWTEXT_LESS_THAN_SIGN_STATE",I="RAWTEXT_END_TAG_OPEN_STATE",M="RAWTEXT_END_TAG_NAME_STATE",H="SCRIPT_DATA_LESS_THAN_SIGN_STATE",L="SCRIPT_DATA_END_TAG_OPEN_STATE",D="SCRIPT_DATA_END_TAG_NAME_STATE",j="SCRIPT_DATA_ESCAPE_START_STATE",W="SCRIPT_DATA_ESCAPE_START_DASH_STATE",B="SCRIPT_DATA_ESCAPED_STATE",F="SCRIPT_DATA_ESCAPED_DASH_STATE",N="SCRIPT_DATA_ESCAPED_DASH_DASH_STATE",X="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE",G="SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE",V="SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE",z="SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE",U="SCRIPT_DATA_DOUBLE_ESCAPED_STATE",Z="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE",st="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE",Y="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE",rt="SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE",ft="BEFORE_ATTRIBUTE_NAME_STATE",tt="ATTRIBUTE_NAME_STATE",K="AFTER_ATTRIBUTE_NAME_STATE",Q="BEFORE_ATTRIBUTE_VALUE_STATE",ct="ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE",nt="ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE",ot="ATTRIBUTE_VALUE_UNQUOTED_STATE",yt="CHARACTER_REFERENCE_IN_ATTRIBUTE_VALUE_STATE",pt="AFTER_ATTRIBUTE_VALUE_QUOTED_STATE",dt="SELF_CLOSING_START_TAG_STATE",mt="BOGUS_COMMENT_STATE",q="BOGUS_COMMENT_STATE_CONTINUATION",$="MARKUP_DECLARATION_OPEN_STATE",J="COMMENT_START_STATE",lt="COMMENT_START_DASH_STATE",ut="COMMENT_STATE",ht="COMMENT_END_DASH_STATE",bt="COMMENT_END_STATE",kt="COMMENT_END_BANG_STATE",vt="DOCTYPE_STATE",Et="DOCTYPE_NAME_STATE",Rt="AFTER_DOCTYPE_NAME_STATE",Vt="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE",ee="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE",Tt="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE",_t="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE",zt="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE",oe="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE",$t="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE",pe="AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE",Nt="BOGUS_DOCTYPE_STATE",se="CDATA_SECTION_STATE";function Gt(wt){return wt===e.SPACE||wt===e.LINE_FEED||wt===e.TABULATION||wt===e.FORM_FEED}function gt(wt){return wt>=e.DIGIT_0&&wt<=e.DIGIT_9}function fe(wt){return wt>=e.LATIN_CAPITAL_A&&wt<=e.LATIN_CAPITAL_Z}function Ct(wt){return wt>=e.LATIN_SMALL_A&&wt<=e.LATIN_SMALL_Z}function at(wt){return Ct(wt)||fe(wt)}function St(wt){return at(wt)||gt(wt)}function jt(wt,ye){return gt(wt)||ye&&(wt>=e.LATIN_CAPITAL_A&&wt<=e.LATIN_CAPITAL_F||wt>=e.LATIN_SMALL_A&&wt<=e.LATIN_SMALL_F)}function Zt(wt){return wt>=55296&&wt<=57343||wt>1114111}function ue(wt){return wt+32}function ce(wt){return wt<=65535?String.fromCharCode(wt):(wt-=65536,String.fromCharCode(wt>>>10&1023|55296)+String.fromCharCode(56320|wt&1023))}function It(wt){return String.fromCharCode(ue(wt))}function Mt(wt,ye){for(var we=l[++wt],Oe=++wt,Ne=Oe+we-1;Oe<=Ne;){var ze=Oe+Ne>>>1,Ue=l[ze];if(Ue<ye)Oe=ze+1;else if(Ue>ye)Ne=ze-1;else return l[ze+we]}return-1}var Ut=f.exports=function(){this.preprocessor=new n,this.tokenQueue=[],this.allowCDATA=!1,this.state=h,this.returnState="",this.tempBuff=[],this.additionalAllowedCp=void 0,this.lastStartTagName="",this.consumedAfterSnapshot=-1,this.active=!1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr=null};Ut.CHARACTER_TOKEN="CHARACTER_TOKEN",Ut.NULL_CHARACTER_TOKEN="NULL_CHARACTER_TOKEN",Ut.WHITESPACE_CHARACTER_TOKEN="WHITESPACE_CHARACTER_TOKEN",Ut.START_TAG_TOKEN="START_TAG_TOKEN",Ut.END_TAG_TOKEN="END_TAG_TOKEN",Ut.COMMENT_TOKEN="COMMENT_TOKEN",Ut.DOCTYPE_TOKEN="DOCTYPE_TOKEN",Ut.EOF_TOKEN="EOF_TOKEN",Ut.HIBERNATION_TOKEN="HIBERNATION_TOKEN",Ut.MODE={DATA:h,RCDATA:x,RAWTEXT:k,SCRIPT_DATA:T,PLAINTEXT:E},Ut.getTokenAttr=function(wt,ye){for(var we=wt.attrs.length-1;we>=0;we--)if(wt.attrs[we].name===ye)return wt.attrs[we].value;return null},Ut.prototype.getNextToken=function(){for(;!this.tokenQueue.length&&this.active;){this._hibernationSnapshot();var wt=this._consume();this._ensureHibernation()||this[this.state](wt)}return this.tokenQueue.shift()},Ut.prototype.write=function(wt,ye){this.active=!0,this.preprocessor.write(wt,ye)},Ut.prototype.insertHtmlAtCurrentPos=function(wt){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(wt)},Ut.prototype._hibernationSnapshot=function(){this.consumedAfterSnapshot=0},Ut.prototype._ensureHibernation=function(){if(this.preprocessor.endOfChunkHit){for(;this.consumedAfterSnapshot>0;this.consumedAfterSnapshot--)this.preprocessor.retreat();return this.active=!1,this.tokenQueue.push({type:Ut.HIBERNATION_TOKEN}),!0}return!1},Ut.prototype._consume=function(){return this.consumedAfterSnapshot++,this.preprocessor.advance()},Ut.prototype._unconsume=function(){this.consumedAfterSnapshot--,this.preprocessor.retreat()},Ut.prototype._unconsumeSeveral=function(wt){for(;wt--;)this._unconsume()},Ut.prototype._reconsumeInState=function(wt){this.state=wt,this._unconsume()},Ut.prototype._consumeSubsequentIfMatch=function(wt,ye,we){for(var Oe=0,Ne=!0,ze=wt.length,Ue=0,Be=ye,Je=void 0;Ue<ze;Ue++){if(Ue>0&&(Be=this._consume(),Oe++),Be===e.EOF){Ne=!1;break}if(Je=wt[Ue],Be!==Je&&(we||Be!==ue(Je))){Ne=!1;break}}return Ne||this._unconsumeSeveral(Oe),Ne},Ut.prototype._lookahead=function(){var wt=this._consume();return this._unconsume(),wt},Ut.prototype.isTempBufferEqualToScriptString=function(){if(this.tempBuff.length!==o.SCRIPT_STRING.length)return!1;for(var wt=0;wt<this.tempBuff.length;wt++)if(this.tempBuff[wt]!==o.SCRIPT_STRING[wt])return!1;return!0},Ut.prototype._createStartTagToken=function(){this.currentToken={type:Ut.START_TAG_TOKEN,tagName:"",selfClosing:!1,attrs:[]}},Ut.prototype._createEndTagToken=function(){this.currentToken={type:Ut.END_TAG_TOKEN,tagName:"",attrs:[]}},Ut.prototype._createCommentToken=function(){this.currentToken={type:Ut.COMMENT_TOKEN,data:""}},Ut.prototype._createDoctypeToken=function(wt){this.currentToken={type:Ut.DOCTYPE_TOKEN,name:wt,forceQuirks:!1,publicId:null,systemId:null}},Ut.prototype._createCharacterToken=function(wt,ye){this.currentCharacterToken={type:wt,chars:ye}},Ut.prototype._createAttr=function(wt){this.currentAttr={name:wt,value:""}},Ut.prototype._isDuplicateAttr=function(){return Ut.getTokenAttr(this.currentToken,this.currentAttr.name)!==null},Ut.prototype._leaveAttrName=function(wt){this.state=wt,this._isDuplicateAttr()||this.currentToken.attrs.push(this.currentAttr)},Ut.prototype._leaveAttrValue=function(wt){this.state=wt},Ut.prototype._isAppropriateEndTagToken=function(){return this.lastStartTagName===this.currentToken.tagName},Ut.prototype._emitCurrentToken=function(){this._emitCurrentCharacterToken(),this.currentToken.type===Ut.START_TAG_TOKEN&&(this.lastStartTagName=this.currentToken.tagName),this.tokenQueue.push(this.currentToken),this.currentToken=null},Ut.prototype._emitCurrentCharacterToken=function(){this.currentCharacterToken&&(this.tokenQueue.push(this.currentCharacterToken),this.currentCharacterToken=null)},Ut.prototype._emitEOFToken=function(){this._emitCurrentCharacterToken(),this.tokenQueue.push({type:Ut.EOF_TOKEN})},Ut.prototype._appendCharToCurrentCharacterToken=function(wt,ye){this.currentCharacterToken&&this.currentCharacterToken.type!==wt&&this._emitCurrentCharacterToken(),this.currentCharacterToken?this.currentCharacterToken.chars+=ye:this._createCharacterToken(wt,ye)},Ut.prototype._emitCodePoint=function(wt){var ye=Ut.CHARACTER_TOKEN;Gt(wt)?ye=Ut.WHITESPACE_CHARACTER_TOKEN:wt===e.NULL&&(ye=Ut.NULL_CHARACTER_TOKEN),this._appendCharToCurrentCharacterToken(ye,ce(wt))},Ut.prototype._emitSeveralCodePoints=function(wt){for(var ye=0;ye<wt.length;ye++)this._emitCodePoint(wt[ye])},Ut.prototype._emitChar=function(wt){this._appendCharToCurrentCharacterToken(Ut.CHARACTER_TOKEN,wt)},Ut.prototype._consumeNumericEntity=function(wt){var ye="",we=void 0;do ye+=ce(this._consume()),we=this._lookahead();while(we!==e.EOF&&jt(we,wt));this._lookahead()===e.SEMICOLON&&this._consume();var Oe=parseInt(ye,wt?16:10),Ne=s[Oe];return Ne||(Zt(Oe)?e.REPLACEMENT_CHARACTER:Oe)},Ut.prototype._consumeNamedEntity=function(wt){for(var ye=null,we=0,Oe=null,Ne=0,ze=!1,Ue=0;Ue>-1;){var Be=l[Ue],Je=Be<p,Xe=Je&&Be&u;if(Xe&&(ye=Be&c?[l[++Ue],l[++Ue]]:[l[++Ue]],we=Ne,Oe===e.SEMICOLON)){ze=!0;break}if(Oe=this._consume(),Ne++,Oe===e.EOF)break;Je?Ue=Be&m?Mt(Ue,Oe):-1:Ue=Oe===Be?++Ue:-1}if(ye){if(!ze&&(this._unconsumeSeveral(Ne-we),wt)){var pn=this._lookahead();if(pn===e.EQUALS_SIGN||St(pn))return this._unconsumeSeveral(we),null}return ye}return this._unconsumeSeveral(Ne),null},Ut.prototype._consumeCharacterReference=function(wt,ye){if(Gt(wt)||wt===e.GREATER_THAN_SIGN||wt===e.AMPERSAND||wt===this.additionalAllowedCp||wt===e.EOF)return this._unconsume(),null;if(wt===e.NUMBER_SIGN){var we=!1,Oe=this._lookahead();return(Oe===e.LATIN_SMALL_X||Oe===e.LATIN_CAPITAL_X)&&(this._consume(),we=!0),Oe=this._lookahead(),Oe!==e.EOF&&jt(Oe,we)?[this._consumeNumericEntity(we)]:(this._unconsumeSeveral(we?2:1),null)}return this._unconsume(),this._consumeNamedEntity(ye)};var Kt=Ut.prototype;Kt[h]=function(wt){this.preprocessor.dropParsedChunk(),wt===e.AMPERSAND?this.state=v:wt===e.LESS_THAN_SIGN?this.state=_:wt===e.NULL?this._emitCodePoint(wt):wt===e.EOF?this._emitEOFToken():this._emitCodePoint(wt)},Kt[v]=function(wt){this.additionalAllowedCp=void 0;var ye=this._consumeCharacterReference(wt,!1);this._ensureHibernation()||(ye?this._emitSeveralCodePoints(ye):this._emitChar("&"),this.state=h)},Kt[x]=function(wt){this.preprocessor.dropParsedChunk(),wt===e.AMPERSAND?this.state=y:wt===e.LESS_THAN_SIGN?this.state=S:wt===e.NULL?this._emitChar(a.REPLACEMENT_CHARACTER):wt===e.EOF?this._emitEOFToken():this._emitCodePoint(wt)},Kt[y]=function(wt){this.additionalAllowedCp=void 0;var ye=this._consumeCharacterReference(wt,!1);this._ensureHibernation()||(ye?this._emitSeveralCodePoints(ye):this._emitChar("&"),this.state=x)},Kt[k]=function(wt){this.preprocessor.dropParsedChunk(),wt===e.LESS_THAN_SIGN?this.state=R:wt===e.NULL?this._emitChar(a.REPLACEMENT_CHARACTER):wt===e.EOF?this._emitEOFToken():this._emitCodePoint(wt)},Kt[T]=function(wt){this.preprocessor.dropParsedChunk(),wt===e.LESS_THAN_SIGN?this.state=H:wt===e.NULL?this._emitChar(a.REPLACEMENT_CHARACTER):wt===e.EOF?this._emitEOFToken():this._emitCodePoint(wt)},Kt[E]=function(wt){this.preprocessor.dropParsedChunk(),wt===e.NULL?this._emitChar(a.REPLACEMENT_CHARACTER):wt===e.EOF?this._emitEOFToken():this._emitCodePoint(wt)},Kt[_]=function(wt){wt===e.EXCLAMATION_MARK?this.state=$:wt===e.SOLIDUS?this.state=A:at(wt)?(this._createStartTagToken(),this._reconsumeInState(C)):wt===e.QUESTION_MARK?this._reconsumeInState(mt):(this._emitChar("<"),this._reconsumeInState(h))},Kt[A]=function(wt){at(wt)?(this._createEndTagToken(),this._reconsumeInState(C)):wt===e.GREATER_THAN_SIGN?this.state=h:wt===e.EOF?(this._reconsumeInState(h),this._emitChar("<"),this._emitChar("/")):this._reconsumeInState(mt)},Kt[C]=function(wt){Gt(wt)?this.state=ft:wt===e.SOLIDUS?this.state=dt:wt===e.GREATER_THAN_SIGN?(this.state=h,this._emitCurrentToken()):fe(wt)?this.currentToken.tagName+=It(wt):wt===e.NULL?this.currentToken.tagName+=a.REPLACEMENT_CHARACTER:wt===e.EOF?this._reconsumeInState(h):this.currentToken.tagName+=ce(wt)},Kt[S]=function(wt){wt===e.SOLIDUS?(this.tempBuff=[],this.state=P):(this._emitChar("<"),this._reconsumeInState(x))},Kt[P]=function(wt){at(wt)?(this._createEndTagToken(),this._reconsumeInState(O)):(this._emitChar("<"),this._emitChar("/"),this._reconsumeInState(x))},Kt[O]=function(wt){if(fe(wt))this.currentToken.tagName+=It(wt),this.tempBuff.push(wt);else if(Ct(wt))this.currentToken.tagName+=ce(wt),this.tempBuff.push(wt);else{if(this._isAppropriateEndTagToken()){if(Gt(wt)){this.state=ft;return}if(wt===e.SOLIDUS){this.state=dt;return}if(wt===e.GREATER_THAN_SIGN){this.state=h,this._emitCurrentToken();return}}this._emitChar("<"),this._emitChar("/"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(x)}},Kt[R]=function(wt){wt===e.SOLIDUS?(this.tempBuff=[],this.state=I):(this._emitChar("<"),this._reconsumeInState(k))},Kt[I]=function(wt){at(wt)?(this._createEndTagToken(),this._reconsumeInState(M)):(this._emitChar("<"),this._emitChar("/"),this._reconsumeInState(k))},Kt[M]=function(wt){if(fe(wt))this.currentToken.tagName+=It(wt),this.tempBuff.push(wt);else if(Ct(wt))this.currentToken.tagName+=ce(wt),this.tempBuff.push(wt);else{if(this._isAppropriateEndTagToken()){if(Gt(wt)){this.state=ft;return}if(wt===e.SOLIDUS){this.state=dt;return}if(wt===e.GREATER_THAN_SIGN){this._emitCurrentToken(),this.state=h;return}}this._emitChar("<"),this._emitChar("/"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(k)}},Kt[H]=function(wt){wt===e.SOLIDUS?(this.tempBuff=[],this.state=L):wt===e.EXCLAMATION_MARK?(this.state=j,this._emitChar("<"),this._emitChar("!")):(this._emitChar("<"),this._reconsumeInState(T))},Kt[L]=function(wt){at(wt)?(this._createEndTagToken(),this._reconsumeInState(D)):(this._emitChar("<"),this._emitChar("/"),this._reconsumeInState(T))},Kt[D]=function(wt){if(fe(wt))this.currentToken.tagName+=It(wt),this.tempBuff.push(wt);else if(Ct(wt))this.currentToken.tagName+=ce(wt),this.tempBuff.push(wt);else{if(this._isAppropriateEndTagToken()){if(Gt(wt)){this.state=ft;return}else if(wt===e.SOLIDUS){this.state=dt;return}else if(wt===e.GREATER_THAN_SIGN){this._emitCurrentToken(),this.state=h;return}}this._emitChar("<"),this._emitChar("/"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(T)}},Kt[j]=function(wt){wt===e.HYPHEN_MINUS?(this.state=W,this._emitChar("-")):this._reconsumeInState(T)},Kt[W]=function(wt){wt===e.HYPHEN_MINUS?(this.state=N,this._emitChar("-")):this._reconsumeInState(T)},Kt[B]=function(wt){wt===e.HYPHEN_MINUS?(this.state=F,this._emitChar("-")):wt===e.LESS_THAN_SIGN?this.state=X:wt===e.NULL?this._emitChar(a.REPLACEMENT_CHARACTER):wt===e.EOF?this._reconsumeInState(h):this._emitCodePoint(wt)},Kt[F]=function(wt){wt===e.HYPHEN_MINUS?(this.state=N,this._emitChar("-")):wt===e.LESS_THAN_SIGN?this.state=X:wt===e.NULL?(this.state=B,this._emitChar(a.REPLACEMENT_CHARACTER)):wt===e.EOF?this._reconsumeInState(h):(this.state=B,this._emitCodePoint(wt))},Kt[N]=function(wt){wt===e.HYPHEN_MINUS?this._emitChar("-"):wt===e.LESS_THAN_SIGN?this.state=X:wt===e.GREATER_THAN_SIGN?(this.state=T,this._emitChar(">")):wt===e.NULL?(this.state=B,this._emitChar(a.REPLACEMENT_CHARACTER)):wt===e.EOF?this._reconsumeInState(h):(this.state=B,this._emitCodePoint(wt))},Kt[X]=function(wt){wt===e.SOLIDUS?(this.tempBuff=[],this.state=G):at(wt)?(this.tempBuff=[],this._emitChar("<"),this._reconsumeInState(z)):(this._emitChar("<"),this._reconsumeInState(B))},Kt[G]=function(wt){at(wt)?(this._createEndTagToken(),this._reconsumeInState(V)):(this._emitChar("<"),this._emitChar("/"),this._reconsumeInState(B))},Kt[V]=function(wt){if(fe(wt))this.currentToken.tagName+=It(wt),this.tempBuff.push(wt);else if(Ct(wt))this.currentToken.tagName+=ce(wt),this.tempBuff.push(wt);else{if(this._isAppropriateEndTagToken()){if(Gt(wt)){this.state=ft;return}if(wt===e.SOLIDUS){this.state=dt;return}if(wt===e.GREATER_THAN_SIGN){this._emitCurrentToken(),this.state=h;return}}this._emitChar("<"),this._emitChar("/"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(B)}},Kt[z]=function(wt){Gt(wt)||wt===e.SOLIDUS||wt===e.GREATER_THAN_SIGN?(this.state=this.isTempBufferEqualToScriptString()?U:B,this._emitCodePoint(wt)):fe(wt)?(this.tempBuff.push(ue(wt)),this._emitCodePoint(wt)):Ct(wt)?(this.tempBuff.push(wt),this._emitCodePoint(wt)):this._reconsumeInState(B)},Kt[U]=function(wt){wt===e.HYPHEN_MINUS?(this.state=Z,this._emitChar("-")):wt===e.LESS_THAN_SIGN?(this.state=Y,this._emitChar("<")):wt===e.NULL?this._emitChar(a.REPLACEMENT_CHARACTER):wt===e.EOF?this._reconsumeInState(h):this._emitCodePoint(wt)},Kt[Z]=function(wt){wt===e.HYPHEN_MINUS?(this.state=st,this._emitChar("-")):wt===e.LESS_THAN_SIGN?(this.state=Y,this._emitChar("<")):wt===e.NULL?(this.state=U,this._emitChar(a.REPLACEMENT_CHARACTER)):wt===e.EOF?this._reconsumeInState(h):(this.state=U,this._emitCodePoint(wt))},Kt[st]=function(wt){wt===e.HYPHEN_MINUS?this._emitChar("-"):wt===e.LESS_THAN_SIGN?(this.state=Y,this._emitChar("<")):wt===e.GREATER_THAN_SIGN?(this.state=T,this._emitChar(">")):wt===e.NULL?(this.state=U,this._emitChar(a.REPLACEMENT_CHARACTER)):wt===e.EOF?this._reconsumeInState(h):(this.state=U,this._emitCodePoint(wt))},Kt[Y]=function(wt){wt===e.SOLIDUS?(this.tempBuff=[],this.state=rt,this._emitChar("/")):this._reconsumeInState(U)},Kt[rt]=function(wt){Gt(wt)||wt===e.SOLIDUS||wt===e.GREATER_THAN_SIGN?(this.state=this.isTempBufferEqualToScriptString()?B:U,this._emitCodePoint(wt)):fe(wt)?(this.tempBuff.push(ue(wt)),this._emitCodePoint(wt)):Ct(wt)?(this.tempBuff.push(wt),this._emitCodePoint(wt)):this._reconsumeInState(U)},Kt[ft]=function(wt){Gt(wt)||(wt===e.SOLIDUS||wt===e.GREATER_THAN_SIGN||wt===e.EOF?this._reconsumeInState(K):wt===e.EQUALS_SIGN?(this._createAttr("="),this.state=tt):(this._createAttr(""),this._reconsumeInState(tt)))},Kt[tt]=function(wt){Gt(wt)||wt===e.SOLIDUS||wt===e.GREATER_THAN_SIGN||wt===e.EOF?(this._leaveAttrName(K),this._unconsume()):wt===e.EQUALS_SIGN?this._leaveAttrName(Q):fe(wt)?this.currentAttr.name+=It(wt):wt===e.QUOTATION_MARK||wt===e.APOSTROPHE||wt===e.LESS_THAN_SIGN?this.currentAttr.name+=ce(wt):wt===e.NULL?this.currentAttr.name+=a.REPLACEMENT_CHARACTER:this.currentAttr.name+=ce(wt)},Kt[K]=function(wt){Gt(wt)||(wt===e.SOLIDUS?this.state=dt:wt===e.EQUALS_SIGN?this.state=Q:wt===e.GREATER_THAN_SIGN?(this.state=h,this._emitCurrentToken()):wt===e.EOF?this._reconsumeInState(h):(this._createAttr(""),this._reconsumeInState(tt)))},Kt[Q]=function(wt){Gt(wt)||(wt===e.QUOTATION_MARK?this.state=ct:wt===e.APOSTROPHE?this.state=nt:this._reconsumeInState(ot))},Kt[ct]=function(wt){wt===e.QUOTATION_MARK?this.state=pt:wt===e.AMPERSAND?(this.additionalAllowedCp=e.QUOTATION_MARK,this.returnState=this.state,this.state=yt):wt===e.NULL?this.currentAttr.value+=a.REPLACEMENT_CHARACTER:wt===e.EOF?this._reconsumeInState(h):this.currentAttr.value+=ce(wt)},Kt[nt]=function(wt){wt===e.APOSTROPHE?this.state=pt:wt===e.AMPERSAND?(this.additionalAllowedCp=e.APOSTROPHE,this.returnState=this.state,this.state=yt):wt===e.NULL?this.currentAttr.value+=a.REPLACEMENT_CHARACTER:wt===e.EOF?this._reconsumeInState(h):this.currentAttr.value+=ce(wt)},Kt[ot]=function(wt){Gt(wt)?this._leaveAttrValue(ft):wt===e.AMPERSAND?(this.additionalAllowedCp=e.GREATER_THAN_SIGN,this.returnState=this.state,this.state=yt):wt===e.GREATER_THAN_SIGN?(this._leaveAttrValue(h),this._emitCurrentToken()):wt===e.NULL?this.currentAttr.value+=a.REPLACEMENT_CHARACTER:wt===e.QUOTATION_MARK||wt===e.APOSTROPHE||wt===e.LESS_THAN_SIGN||wt===e.EQUALS_SIGN||wt===e.GRAVE_ACCENT?this.currentAttr.value+=ce(wt):wt===e.EOF?this._reconsumeInState(h):this.currentAttr.value+=ce(wt)},Kt[yt]=function(wt){var ye=this._consumeCharacterReference(wt,!0);if(!this._ensureHibernation()){if(ye)for(var we=0;we<ye.length;we++)this.currentAttr.value+=ce(ye[we]);else this.currentAttr.value+="&";this.state=this.returnState}},Kt[pt]=function(wt){Gt(wt)?this._leaveAttrValue(ft):wt===e.SOLIDUS?this._leaveAttrValue(dt):wt===e.GREATER_THAN_SIGN?(this._leaveAttrValue(h),this._emitCurrentToken()):wt===e.EOF?this._reconsumeInState(h):this._reconsumeInState(ft)},Kt[dt]=function(wt){wt===e.GREATER_THAN_SIGN?(this.currentToken.selfClosing=!0,this.state=h,this._emitCurrentToken()):wt===e.EOF?this._reconsumeInState(h):this._reconsumeInState(ft)},Kt[mt]=function(){this._createCommentToken(),this._reconsumeInState(q)},Kt[q]=function(wt){for(;;)if(wt===e.GREATER_THAN_SIGN){this.state=h;break}else if(wt===e.EOF){this._reconsumeInState(h);break}else if(this.currentToken.data+=wt===e.NULL?a.REPLACEMENT_CHARACTER:ce(wt),this._hibernationSnapshot(),wt=this._consume(),this._ensureHibernation())return;this._emitCurrentToken()},Kt[$]=function(wt){var ye=this._consumeSubsequentIfMatch(o.DASH_DASH_STRING,wt,!0),we=!ye&&this._consumeSubsequentIfMatch(o.DOCTYPE_STRING,wt,!1),Oe=!ye&&!we&&this.allowCDATA&&this._consumeSubsequentIfMatch(o.CDATA_START_STRING,wt,!0);this._ensureHibernation()||(ye?(this._createCommentToken(),this.state=J):we?this.state=vt:Oe?this.state=se:this._reconsumeInState(mt))},Kt[J]=function(wt){wt===e.HYPHEN_MINUS?this.state=lt:wt===e.NULL?(this.currentToken.data+=a.REPLACEMENT_CHARACTER,this.state=ut):wt===e.GREATER_THAN_SIGN?(this.state=h,this._emitCurrentToken()):wt===e.EOF?(this._emitCurrentToken(),this._reconsumeInState(h)):(this.currentToken.data+=ce(wt),this.state=ut)},Kt[lt]=function(wt){wt===e.HYPHEN_MINUS?this.state=bt:wt===e.NULL?(this.currentToken.data+="-",this.currentToken.data+=a.REPLACEMENT_CHARACTER,this.state=ut):wt===e.GREATER_THAN_SIGN?(this.state=h,this._emitCurrentToken()):wt===e.EOF?(this._emitCurrentToken(),this._reconsumeInState(h)):(this.currentToken.data+="-",this.currentToken.data+=ce(wt),this.state=ut)},Kt[ut]=function(wt){wt===e.HYPHEN_MINUS?this.state=ht:wt===e.NULL?this.currentToken.data+=a.REPLACEMENT_CHARACTER:wt===e.EOF?(this._emitCurrentToken(),this._reconsumeInState(h)):this.currentToken.data+=ce(wt)},Kt[ht]=function(wt){wt===e.HYPHEN_MINUS?this.state=bt:wt===e.NULL?(this.currentToken.data+="-",this.currentToken.data+=a.REPLACEMENT_CHARACTER,this.state=ut):wt===e.EOF?(this._emitCurrentToken(),this._reconsumeInState(h)):(this.currentToken.data+="-",this.currentToken.data+=ce(wt),this.state=ut)},Kt[bt]=function(wt){wt===e.GREATER_THAN_SIGN?(this.state=h,this._emitCurrentToken()):wt===e.EXCLAMATION_MARK?this.state=kt:wt===e.HYPHEN_MINUS?this.currentToken.data+="-":wt===e.NULL?(this.currentToken.data+="--",this.currentToken.data+=a.REPLACEMENT_CHARACTER,this.state=ut):wt===e.EOF?(this._reconsumeInState(h),this._emitCurrentToken()):(this.currentToken.data+="--",this.currentToken.data+=ce(wt),this.state=ut)},Kt[kt]=function(wt){wt===e.HYPHEN_MINUS?(this.currentToken.data+="--!",this.state=ht):wt===e.GREATER_THAN_SIGN?(this.state=h,this._emitCurrentToken()):wt===e.NULL?(this.currentToken.data+="--!",this.currentToken.data+=a.REPLACEMENT_CHARACTER,this.state=ut):wt===e.EOF?(this._emitCurrentToken(),this._reconsumeInState(h)):(this.currentToken.data+="--!",this.currentToken.data+=ce(wt),this.state=ut)},Kt[vt]=function(wt){Gt(wt)||(wt===e.GREATER_THAN_SIGN?(this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=h):wt===e.EOF?(this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(h)):(this._createDoctypeToken(""),this._reconsumeInState(Et)))},Kt[Et]=function(wt){Gt(wt)||wt===e.GREATER_THAN_SIGN||wt===e.EOF?this._reconsumeInState(Rt):fe(wt)?this.currentToken.name+=It(wt):wt===e.NULL?this.currentToken.name+=a.REPLACEMENT_CHARACTER:this.currentToken.name+=ce(wt)},Kt[Rt]=function(wt){if(!Gt(wt))if(wt===e.GREATER_THAN_SIGN)this.state=h,this._emitCurrentToken();else{var ye=this._consumeSubsequentIfMatch(o.PUBLIC_STRING,wt,!1),we=!ye&&this._consumeSubsequentIfMatch(o.SYSTEM_STRING,wt,!1);this._ensureHibernation()||(ye?this.state=Vt:we?this.state=zt:(this.currentToken.forceQuirks=!0,this.state=Nt))}},Kt[Vt]=function(wt){Gt(wt)||(wt===e.QUOTATION_MARK?(this.currentToken.publicId="",this.state=ee):wt===e.APOSTROPHE?(this.currentToken.publicId="",this.state=Tt):(this.currentToken.forceQuirks=!0,this._reconsumeInState(Nt)))},Kt[ee]=function(wt){wt===e.QUOTATION_MARK?this.state=_t:wt===e.NULL?this.currentToken.publicId+=a.REPLACEMENT_CHARACTER:wt===e.GREATER_THAN_SIGN?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=h):wt===e.EOF?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(h)):this.currentToken.publicId+=ce(wt)},Kt[Tt]=function(wt){wt===e.APOSTROPHE?this.state=_t:wt===e.NULL?this.currentToken.publicId+=a.REPLACEMENT_CHARACTER:wt===e.GREATER_THAN_SIGN?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=h):wt===e.EOF?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(h)):this.currentToken.publicId+=ce(wt)},Kt[_t]=function(wt){Gt(wt)||(wt===e.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=h):wt===e.QUOTATION_MARK?(this.currentToken.systemId="",this.state=oe):wt===e.APOSTROPHE?(this.currentToken.systemId="",this.state=$t):(this.currentToken.forceQuirks=!0,this._reconsumeInState(Nt)))},Kt[zt]=function(wt){Gt(wt)||(wt===e.QUOTATION_MARK?(this.currentToken.systemId="",this.state=oe):wt===e.APOSTROPHE?(this.currentToken.systemId="",this.state=$t):(this.currentToken.forceQuirks=!0,this._reconsumeInState(Nt)))},Kt[oe]=function(wt){wt===e.QUOTATION_MARK?this.state=pe:wt===e.GREATER_THAN_SIGN?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=h):wt===e.NULL?this.currentToken.systemId+=a.REPLACEMENT_CHARACTER:wt===e.EOF?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(h)):this.currentToken.systemId+=ce(wt)},Kt[$t]=function(wt){wt===e.APOSTROPHE?this.state=pe:wt===e.GREATER_THAN_SIGN?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=h):wt===e.NULL?this.currentToken.systemId+=a.REPLACEMENT_CHARACTER:wt===e.EOF?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(h)):this.currentToken.systemId+=ce(wt)},Kt[pe]=function(wt){Gt(wt)||(wt===e.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=h):wt===e.EOF?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(h)):this.state=Nt)},Kt[Nt]=function(wt){wt===e.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=h):wt===e.EOF&&(this._emitCurrentToken(),this._reconsumeInState(h))},Kt[se]=function(wt){for(;;)if(wt===e.EOF){this._reconsumeInState(h);break}else{var ye=this._consumeSubsequentIfMatch(o.CDATA_END_STRING,wt,!0);if(this._ensureHibernation())break;if(ye){this.state=h;break}if(this._emitCodePoint(wt),this._hibernationSnapshot(),wt=this._consume(),this._ensureHibernation())break}}},function(f,r,t){t.r(r);function n(){return n=Object.assign||function(_t){for(var zt=1;zt<arguments.length;zt++){var oe=arguments[zt];for(var $t in oe)Object.prototype.hasOwnProperty.call(oe,$t)&&(_t[$t]=oe[$t])}return _t},n.apply(this,arguments)}function a(_t){if(Array.isArray(_t))return _t}function l(_t,zt){var oe=[],$t=!0,pe=!1,Nt=void 0;try{for(var se=_t[Symbol.iterator](),Gt;!($t=(Gt=se.next()).done)&&(oe.push(Gt.value),!(zt&&oe.length===zt));$t=!0);}catch(gt){pe=!0,Nt=gt}finally{try{!$t&&se.return!=null&&se.return()}finally{if(pe)throw Nt}}return oe}function e(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(_t,zt){return a(_t)||l(_t,zt)||e()}function s(_t,zt,oe){return zt in _t?Object.defineProperty(_t,zt,{value:oe,enumerable:!0,configurable:!0,writable:!0}):_t[zt]=oe,_t}function u(_t){for(var zt=1;zt<arguments.length;zt++){var oe=arguments[zt]!=null?arguments[zt]:{},$t=Object.keys(oe);typeof Object.getOwnPropertySymbols=="function"&&($t=$t.concat(Object.getOwnPropertySymbols(oe).filter(function(pe){return Object.getOwnPropertyDescriptor(oe,pe).enumerable}))),$t.forEach(function(pe){s(_t,pe,oe[pe])})}return _t}function c(_t,zt){if(!(_t instanceof zt))throw new TypeError("Cannot call a class as a function")}function m(_t,zt){for(var oe=0;oe<zt.length;oe++){var $t=zt[oe];$t.enumerable=$t.enumerable||!1,$t.configurable=!0,"value"in $t&&($t.writable=!0),Object.defineProperty(_t,$t.key,$t)}}function p(_t,zt,oe){return zt&&m(_t.prototype,zt),_t}function h(_t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(zt){return typeof zt}:h=function(zt){return zt&&typeof Symbol=="function"&&zt.constructor===Symbol&&zt!==Symbol.prototype?"symbol":typeof zt},h(_t)}function v(_t){return typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?v=function(zt){return h(zt)}:v=function(zt){return zt&&typeof Symbol=="function"&&zt.constructor===Symbol&&zt!==Symbol.prototype?"symbol":h(zt)},v(_t)}function x(_t){if(_t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _t}function y(_t,zt){return zt&&(v(zt)==="object"||typeof zt=="function")?zt:x(_t)}function k(_t){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(zt){return zt.__proto__||Object.getPrototypeOf(zt)},k(_t)}function T(_t,zt){return T=Object.setPrototypeOf||function(oe,$t){return oe.__proto__=$t,oe},T(_t,zt)}function E(_t,zt){if(typeof zt!="function"&&zt!==null)throw new TypeError("Super expression must either be null or a function");_t.prototype=Object.create(zt&&zt.prototype,{constructor:{value:_t,writable:!0,configurable:!0}}),zt&&T(_t,zt)}var _=t(1),A=t(2),C=t.n(A),S=t(42),P=t(86),O=t.n(P);function R(_t){if(Array.isArray(_t)){for(var zt=0,oe=new Array(_t.length);zt<_t.length;zt++)oe[zt]=_t[zt];return oe}}function I(_t){if(Symbol.iterator in Object(_t)||Object.prototype.toString.call(_t)==="[object Arguments]")return Array.from(_t)}function M(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function H(_t){return R(_t)||I(_t)||M()}t.d(r,"SortableContainer",function(){return Rt}),t.d(r,"sortableContainer",function(){return Rt}),t.d(r,"SortableElement",function(){return Tt}),t.d(r,"sortableElement",function(){return Tt}),t.d(r,"SortableHandle",function(){return mt}),t.d(r,"sortableHandle",function(){return mt}),t.d(r,"arrayMove",function(){return j});var L=function(){function _t(){c(this,_t),s(this,"refs",{})}return p(_t,[{key:"add",value:function(zt,oe){this.refs[zt]||(this.refs[zt]=[]),this.refs[zt].push(oe)}},{key:"remove",value:function(zt,oe){var $t=this.getIndex(zt,oe);$t!==-1&&this.refs[zt].splice($t,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var zt=this;return this.refs[this.active.collection].find(function(oe){var $t=oe.node;return $t.sortableInfo.index==zt.active.index})}},{key:"getIndex",value:function(zt,oe){return this.refs[zt].indexOf(oe)}},{key:"getOrderedRefs",value:function(){var zt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.active.collection;return this.refs[zt].sort(D)}}]),_t}();function D(_t,zt){var oe=_t.node.sortableInfo.index,$t=zt.node.sortableInfo.index;return oe-$t}function j(_t,zt,oe){return _t=_t.slice(),_t.splice(oe<0?_t.length+oe:oe,0,_t.splice(zt,1)[0]),_t}function W(_t,zt){return Object.keys(_t).reduce(function(oe,$t){return zt.indexOf($t)===-1&&(oe[$t]=_t[$t]),oe},{})}var B={end:["touchend","touchcancel","mouseup"],move:["touchmove","mousemove"],start:["touchstart","mousedown"]},F=function(){if(typeof window>"u"||typeof document>"u")return"";var _t=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],zt=(Array.prototype.slice.call(_t).join("").match(/-(moz|webkit|ms)-/)||_t.OLink===""&&["","o"])[1];switch(zt){case"ms":return"ms";default:return zt&&zt.length?zt[0].toUpperCase()+zt.substr(1):""}}();function N(_t,zt){Object.keys(zt).forEach(function(oe){_t.style[oe]=zt[oe]})}function X(_t,zt){_t.style["".concat(F,"Transform")]=zt==null?"":"translate3d(".concat(zt.x,"px,").concat(zt.y,"px,0)")}function G(_t,zt){_t.style["".concat(F,"TransitionDuration")]=zt==null?"":"".concat(zt,"ms")}function V(_t,zt){for(;_t;){if(zt(_t))return _t;_t=_t.parentNode}return null}function z(_t,zt,oe){return Math.max(_t,Math.min(oe,zt))}function U(_t){return _t.substr(-2)==="px"?parseFloat(_t):0}function Z(_t){var zt=window.getComputedStyle(_t);return{bottom:U(zt.marginBottom),left:U(zt.marginLeft),right:U(zt.marginRight),top:U(zt.marginTop)}}function st(_t,zt){var oe=zt.displayName||zt.name;return oe?"".concat(_t,"(").concat(oe,")"):_t}function Y(_t,zt){var oe=_t.getBoundingClientRect();return{top:oe.top+zt.top,left:oe.left+zt.left}}function rt(_t){return _t.touches&&_t.touches.length?{x:_t.touches[0].pageX,y:_t.touches[0].pageY}:_t.changedTouches&&_t.changedTouches.length?{x:_t.changedTouches[0].pageX,y:_t.changedTouches[0].pageY}:{x:_t.pageX,y:_t.pageY}}function ft(_t){return _t.touches&&_t.touches.length||_t.changedTouches&&_t.changedTouches.length}function tt(_t,zt){var oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{left:0,top:0};if(_t){var $t={left:oe.left+_t.offsetLeft,top:oe.top+_t.offsetTop};return _t.parentNode===zt?$t:tt(_t.parentNode,zt,$t)}}function K(_t,zt,oe){return _t<oe&&_t>zt?_t-1:_t>oe&&_t<zt?_t+1:_t}function Q(_t){var zt=_t.lockOffset,oe=_t.width,$t=_t.height,pe=zt,Nt=zt,se="px";if(typeof zt=="string"){var Gt=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(zt);O()(Gt!==null,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',zt),pe=parseFloat(zt),Nt=parseFloat(zt),se=Gt[1]}return O()(isFinite(pe)&&isFinite(Nt),"lockOffset value should be a finite. Given %s",zt),se==="%"&&(pe=pe*oe/100,Nt=Nt*$t/100),{x:pe,y:Nt}}function ct(_t){var zt=_t.height,oe=_t.width,$t=_t.lockOffset,pe=Array.isArray($t)?$t:[$t,$t];O()(pe.length===2,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",$t);var Nt=o(pe,2),se=Nt[0],Gt=Nt[1];return[Q({height:zt,lockOffset:se,width:oe}),Q({height:zt,lockOffset:Gt,width:oe})]}function nt(_t){var zt=window.getComputedStyle(_t),oe=/(auto|scroll)/,$t=["overflow","overflowX","overflowY"];return $t.find(function(pe){return oe.test(zt[pe])})}function ot(_t){return _t instanceof HTMLElement?nt(_t)?_t:ot(_t.parentNode):null}var yt={TAB:9,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40},pt={Anchor:"A",Button:"BUTTON",Canvas:"CANVAS",Input:"INPUT",Option:"OPTION",Textarea:"TEXTAREA",Select:"SELECT"};function dt(_t){var zt="input, textarea, select, canvas, [contenteditable]",oe=_t.querySelectorAll(zt),$t=_t.cloneNode(!0),pe=H($t.querySelectorAll(zt));return pe.forEach(function(Nt,se){if(Nt.type!=="file"&&(Nt.value=oe[se].value),Nt.type==="radio"&&Nt.name&&(Nt.name="__sortableClone__".concat(Nt.name)),Nt.tagName===pt.Canvas&&oe[se].width>0&&oe[se].height>0){var Gt=Nt.getContext("2d");Gt.drawImage(oe[se],0,0)}}),$t}function mt(_t){var zt,oe,$t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return oe=zt=function(pe){E(Nt,pe);function Nt(){return c(this,Nt),y(this,k(Nt).apply(this,arguments))}return p(Nt,[{key:"componentDidMount",value:function(){var se=Object(S.findDOMNode)(this);se.sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return O()($t.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var se=$t.withRef?"wrappedInstance":null;return Object(_.createElement)(_t,n({ref:se},this.props))}}]),Nt}(_.Component),s(zt,"displayName",st("sortableHandle",_t)),oe}function q(_t){return _t.sortableHandle!=null}var $=function(){function _t(zt,oe){c(this,_t),this.container=zt,this.onScrollCallback=oe}return p(_t,[{key:"clear",value:function(){clearInterval(this.interval),this.interval=null}},{key:"update",value:function(zt){var oe=this,$t=zt.translate,pe=zt.minTranslate,Nt=zt.maxTranslate,se=zt.width,Gt=zt.height,gt={x:0,y:0},fe={x:1,y:1},Ct={x:10,y:10},at=this.container,St=at.scrollTop,jt=at.scrollLeft,Zt=at.scrollHeight,ue=at.scrollWidth,ce=at.clientHeight,It=at.clientWidth,Mt=St===0,Ut=Zt-St-ce===0,Kt=jt===0,wt=ue-jt-It===0;$t.y>=Nt.y-Gt/2&&!Ut?(gt.y=1,fe.y=Ct.y*Math.abs((Nt.y-Gt/2-$t.y)/Gt)):$t.x>=Nt.x-se/2&&!wt?(gt.x=1,fe.x=Ct.x*Math.abs((Nt.x-se/2-$t.x)/se)):$t.y<=pe.y+Gt/2&&!Mt?(gt.y=-1,fe.y=Ct.y*Math.abs(($t.y-Gt/2-pe.y)/Gt)):$t.x<=pe.x+se/2&&!Kt&&(gt.x=-1,fe.x=Ct.x*Math.abs(($t.x-se/2-pe.x)/se)),this.interval&&(this.clear(),this.isAutoScrolling=!1),(gt.x!==0||gt.y!==0)&&(this.interval=setInterval(function(){oe.isAutoScrolling=!0;var ye={left:fe.x*gt.x,top:fe.y*gt.y};oe.container.scrollTop+=ye.top,oe.container.scrollLeft+=ye.left,oe.onScrollCallback(ye)},5))}}]),_t}();function J(_t){var zt=_t.node;return{height:zt.offsetHeight,width:zt.offsetWidth}}function lt(_t){var zt=[pt.Input,pt.Textarea,pt.Select,pt.Option,pt.Button];return!!(zt.indexOf(_t.target.tagName)!==-1||V(_t.target,function(oe){return oe.contentEditable==="true"}))}var ut={axis:C.a.oneOf(["x","y","xy"]),contentWindow:C.a.any,disableAutoscroll:C.a.bool,distance:C.a.number,getContainer:C.a.func,getHelperDimensions:C.a.func,helperClass:C.a.string,helperContainer:C.a.oneOfType([C.a.func,typeof HTMLElement>"u"?C.a.any:C.a.instanceOf(HTMLElement)]),hideSortableGhost:C.a.bool,keyboardSortingTransitionDuration:C.a.number,lockAxis:C.a.string,lockOffset:C.a.oneOfType([C.a.number,C.a.string,C.a.arrayOf(C.a.oneOfType([C.a.number,C.a.string]))]),lockToContainerEdges:C.a.bool,onSortEnd:C.a.func,onSortMove:C.a.func,onSortOver:C.a.func,onSortStart:C.a.func,pressDelay:C.a.number,pressThreshold:C.a.number,keyCodes:C.a.shape({lift:C.a.arrayOf(C.a.number),drop:C.a.arrayOf(C.a.number),cancel:C.a.arrayOf(C.a.number),up:C.a.arrayOf(C.a.number),down:C.a.arrayOf(C.a.number)}),shouldCancelStart:C.a.func,transitionDuration:C.a.number,updateBeforeSortStart:C.a.func,useDragHandle:C.a.bool,useWindowAsScrollContainer:C.a.bool},ht={lift:[yt.SPACE],drop:[yt.SPACE],cancel:[yt.ESC],up:[yt.UP,yt.LEFT],down:[yt.DOWN,yt.RIGHT]},bt={axis:"y",disableAutoscroll:!1,distance:0,getHelperDimensions:J,hideSortableGhost:!0,lockOffset:"50%",lockToContainerEdges:!1,pressDelay:0,pressThreshold:5,keyCodes:ht,shouldCancelStart:lt,transitionDuration:300,useWindowAsScrollContainer:!1},kt=Object.keys(ut);function vt(_t){O()(!(_t.distance&&_t.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.")}function Et(_t,zt){try{var oe=_t()}catch($t){return zt(!0,$t)}return oe&&oe.then?oe.then(zt.bind(null,!1),zt.bind(null,!0)):zt(!1,value)}function Rt(_t){var zt,oe,$t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return oe=zt=function(pe){E(Nt,pe);function Nt(se){var Gt;return c(this,Nt),Gt=y(this,k(Nt).call(this,se)),s(x(x(Gt)),"state",{}),s(x(x(Gt)),"handleStart",function(gt){var fe=Gt.props,Ct=fe.distance,at=fe.shouldCancelStart;if(!(gt.button===2||at(gt))){Gt.touched=!0,Gt.position=rt(gt);var St=V(gt.target,function(Mt){return Mt.sortableInfo!=null});if(St&&St.sortableInfo&&Gt.nodeIsChild(St)&&!Gt.state.sorting){var jt=Gt.props.useDragHandle,Zt=St.sortableInfo,ue=Zt.index,ce=Zt.collection,It=Zt.disabled;if(It||jt&&!V(gt.target,q))return;Gt.manager.active={collection:ce,index:ue},!ft(gt)&&gt.target.tagName===pt.Anchor&&gt.preventDefault(),Ct||(Gt.props.pressDelay===0?Gt.handlePress(gt):Gt.pressTimer=setTimeout(function(){return Gt.handlePress(gt)},Gt.props.pressDelay))}}}),s(x(x(Gt)),"nodeIsChild",function(gt){return gt.sortableInfo.manager===Gt.manager}),s(x(x(Gt)),"handleMove",function(gt){var fe=Gt.props,Ct=fe.distance,at=fe.pressThreshold;if(!Gt.state.sorting&&Gt.touched&&!Gt._awaitingUpdateBeforeSortStart){var St=rt(gt),jt={x:Gt.position.x-St.x,y:Gt.position.y-St.y},Zt=Math.abs(jt.x)+Math.abs(jt.y);Gt.delta=jt,!Ct&&(!at||Zt>=at)?(clearTimeout(Gt.cancelTimer),Gt.cancelTimer=setTimeout(Gt.cancel,0)):Ct&&Zt>=Ct&&Gt.manager.isActive()&&Gt.handlePress(gt)}}),s(x(x(Gt)),"handleEnd",function(){Gt.touched=!1,Gt.cancel()}),s(x(x(Gt)),"cancel",function(){var gt=Gt.props.distance,fe=Gt.state.sorting;fe||(gt||clearTimeout(Gt.pressTimer),Gt.manager.active=null)}),s(x(x(Gt)),"handlePress",function(gt){try{var fe=Gt.manager.getActive(),Ct=function(){if(fe){var at=function(){var Oe=Kt.sortableInfo.index,Ne=Z(Kt),ze=Gt.scrollContainer.getBoundingClientRect(),Ue=Zt({collection:wt,index:Oe,node:Kt});if(Gt.node=Kt,Gt.margin=Ne,Gt.width=Ue.width,Gt.height=Ue.height,Gt.marginOffset={x:Gt.margin.left+Gt.margin.right,y:Math.max(Gt.margin.top,Gt.margin.bottom)},Gt.boundingClientRect=Kt.getBoundingClientRect(),Gt.containerBoundingRect=ze,Gt.index=Oe,Gt.newIndex=Oe,Gt.axis={x:jt.indexOf("x")>=0,y:jt.indexOf("y")>=0},Gt.offsetEdge=tt(Kt,Gt.container),ye?Gt.initialOffset=rt(u({},gt,{pageX:Gt.boundingClientRect.left,pageY:Gt.boundingClientRect.top})):Gt.initialOffset=rt(gt),Gt.initialScroll={left:Gt.scrollContainer.scrollLeft,top:Gt.scrollContainer.scrollTop},Gt.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},Gt.helper=Gt.helperContainer.appendChild(dt(Kt)),N(Gt.helper,{boxSizing:"border-box",height:"".concat(Gt.height,"px"),left:"".concat(Gt.boundingClientRect.left-Ne.left,"px"),pointerEvents:"none",position:"fixed",top:"".concat(Gt.boundingClientRect.top-Ne.top,"px"),width:"".concat(Gt.width,"px")}),ye&&Gt.helper.focus(),ce&&(Gt.sortableGhost=Kt,N(Kt,{opacity:0,visibility:"hidden"})),Gt.minTranslate={},Gt.maxTranslate={},ye){var Be=Ut?{top:0,left:0,width:Gt.contentWindow.innerWidth,height:Gt.contentWindow.innerHeight}:Gt.containerBoundingRect,Je=Be.top,Xe=Be.left,pn=Be.width,qt=Be.height,it=Je+qt,Xt=Xe+pn;Gt.axis.x&&(Gt.minTranslate.x=Xe-Gt.boundingClientRect.left,Gt.maxTranslate.x=Xt-(Gt.boundingClientRect.left+Gt.width)),Gt.axis.y&&(Gt.minTranslate.y=Je-Gt.boundingClientRect.top,Gt.maxTranslate.y=it-(Gt.boundingClientRect.top+Gt.height))}else Gt.axis.x&&(Gt.minTranslate.x=(Ut?0:ze.left)-Gt.boundingClientRect.left-Gt.width/2,Gt.maxTranslate.x=(Ut?Gt.contentWindow.innerWidth:ze.left+ze.width)-Gt.boundingClientRect.left-Gt.width/2),Gt.axis.y&&(Gt.minTranslate.y=(Ut?0:ze.top)-Gt.boundingClientRect.top-Gt.height/2,Gt.maxTranslate.y=(Ut?Gt.contentWindow.innerHeight:ze.top+ze.height)-Gt.boundingClientRect.top-Gt.height/2);ue&&ue.split(" ").forEach(function(te){return Gt.helper.classList.add(te)}),Gt.listenerNode=gt.touches?Kt:Gt.contentWindow,ye?(Gt.listenerNode.addEventListener("wheel",Gt.handleKeyEnd,!0),Gt.listenerNode.addEventListener("mousedown",Gt.handleKeyEnd,!0),Gt.listenerNode.addEventListener("keydown",Gt.handleKeyDown)):(B.move.forEach(function(te){return Gt.listenerNode.addEventListener(te,Gt.handleSortMove,!1)}),B.end.forEach(function(te){return Gt.listenerNode.addEventListener(te,Gt.handleSortEnd,!1)})),Gt.setState({sorting:!0,sortingIndex:Oe}),Mt&&Mt({node:Kt,index:Oe,collection:wt,isKeySorting:ye},gt),ye&&Gt.keyMove(0)},St=Gt.props,jt=St.axis,Zt=St.getHelperDimensions,ue=St.helperClass,ce=St.hideSortableGhost,It=St.updateBeforeSortStart,Mt=St.onSortStart,Ut=St.useWindowAsScrollContainer,Kt=fe.node,wt=fe.collection,ye=Gt.manager.isKeySorting,we=function(){if(typeof It=="function"){Gt._awaitingUpdateBeforeSortStart=!0;var Oe=Et(function(){var Ne=Kt.sortableInfo.index;return Promise.resolve(It({collection:wt,index:Ne,node:Kt,isKeySorting:ye},gt)).then(function(){})},function(Ne,ze){if(Gt._awaitingUpdateBeforeSortStart=!1,Ne)throw ze;return ze});if(Oe&&Oe.then)return Oe.then(function(){})}}();return we&&we.then?we.then(at):at(we)}}();return Promise.resolve(Ct&&Ct.then?Ct.then(function(){}):void 0)}catch(at){return Promise.reject(at)}}),s(x(x(Gt)),"handleSortMove",function(gt){var fe=Gt.props.onSortMove;typeof gt.preventDefault=="function"&&gt.preventDefault(),Gt.updateHelperPosition(gt),Gt.animateNodes(),Gt.autoscroll(),fe&&fe(gt)}),s(x(x(Gt)),"handleSortEnd",function(gt){var fe=Gt.props,Ct=fe.hideSortableGhost,at=fe.onSortEnd,St=Gt.manager,jt=St.active.collection,Zt=St.isKeySorting,ue=Gt.manager.refs[jt];Gt.listenerNode&&(Zt?(Gt.listenerNode.removeEventListener("wheel",Gt.handleKeyEnd,!0),Gt.listenerNode.removeEventListener("mousedown",Gt.handleKeyEnd,!0),Gt.listenerNode.removeEventListener("keydown",Gt.handleKeyDown)):(B.move.forEach(function(Kt){return Gt.listenerNode.removeEventListener(Kt,Gt.handleSortMove)}),B.end.forEach(function(Kt){return Gt.listenerNode.removeEventListener(Kt,Gt.handleSortEnd)}))),Gt.helper.parentNode.removeChild(Gt.helper),Ct&&Gt.sortableGhost&&N(Gt.sortableGhost,{opacity:"",visibility:""});for(var ce=0,It=ue.length;ce<It;ce++){var Mt=ue[ce],Ut=Mt.node;Mt.edgeOffset=null,Mt.boundingClientRect=null,X(Ut,null),G(Ut,null),Mt.translate=null}Gt.autoScroller.clear(),Gt.manager.active=null,Gt.manager.isKeySorting=!1,Gt.setState({sorting:!1,sortingIndex:null}),typeof at=="function"&&at({collection:jt,newIndex:Gt.newIndex,oldIndex:Gt.index,isKeySorting:Zt},gt),Gt.touched=!1}),s(x(x(Gt)),"autoscroll",function(){var gt=Gt.props.disableAutoscroll,fe=Gt.manager.isKeySorting;if(!gt){if(fe){var Ct=u({},Gt.translate),at=0,St=0;Gt.axis.x&&(Ct.x=Math.min(Gt.maxTranslate.x,Math.max(Gt.minTranslate.x,Gt.translate.x)),at=Gt.translate.x-Ct.x),Gt.axis.y&&(Ct.y=Math.min(Gt.maxTranslate.y,Math.max(Gt.minTranslate.y,Gt.translate.y)),St=Gt.translate.y-Ct.y),Gt.translate=Ct,X(Gt.helper,Gt.translate),Gt.scrollContainer.scrollLeft+=at,Gt.scrollContainer.scrollTop+=St;return}Gt.autoScroller.update({height:Gt.height,maxTranslate:Gt.maxTranslate,minTranslate:Gt.minTranslate,translate:Gt.translate,width:Gt.width})}}),s(x(x(Gt)),"onAutoScroll",function(gt){Gt.translate.x+=gt.left,Gt.translate.y+=gt.top,Gt.animateNodes()}),s(x(x(Gt)),"handleKeyDown",function(gt){var fe=gt.keyCode,Ct=Gt.props,at=Ct.shouldCancelStart,St=Ct.keyCodes,jt=St===void 0?{}:St,Zt=u({},ht,jt);Gt.manager.active&&!Gt.manager.isKeySorting||!Gt.manager.active&&(!Zt.lift.includes(fe)||at(gt)||!Gt.isValidSortingTarget(gt))||(gt.stopPropagation(),gt.preventDefault(),Zt.lift.includes(fe)&&!Gt.manager.active?Gt.keyLift(gt):Zt.drop.includes(fe)&&Gt.manager.active?Gt.keyDrop(gt):Zt.cancel.includes(fe)?(Gt.newIndex=Gt.manager.active.index,Gt.keyDrop(gt)):Zt.up.includes(fe)?Gt.keyMove(-1):Zt.down.includes(fe)&&Gt.keyMove(1))}),s(x(x(Gt)),"keyLift",function(gt){var fe=gt.target,Ct=V(fe,function(Zt){return Zt.sortableInfo!=null}),at=Ct.sortableInfo,St=at.index,jt=at.collection;Gt.initialFocusedNode=fe,Gt.manager.isKeySorting=!0,Gt.manager.active={index:St,collection:jt},Gt.handlePress(gt)}),s(x(x(Gt)),"keyMove",function(gt){var fe=Gt.manager.getOrderedRefs(),Ct=fe[fe.length-1].node.sortableInfo.index,at=Gt.newIndex+gt,St=Gt.newIndex;if(!(at<0||at>Ct)){Gt.prevIndex=St,Gt.newIndex=at;var jt=K(Gt.newIndex,Gt.prevIndex,Gt.index),Zt=fe.find(function(ye){var we=ye.node;return we.sortableInfo.index===jt}),ue=Zt.node,ce=Gt.containerScrollDelta,It=Zt.boundingClientRect||Y(ue,ce),Mt=Zt.translate||{x:0,y:0},Ut={top:It.top+Mt.y-ce.top,left:It.left+Mt.x-ce.left},Kt=St<at,wt={x:Kt&&Gt.axis.x?ue.offsetWidth-Gt.width:0,y:Kt&&Gt.axis.y?ue.offsetHeight-Gt.height:0};Gt.handleSortMove({pageX:Ut.left+wt.x,pageY:Ut.top+wt.y,ignoreTransition:gt===0})}}),s(x(x(Gt)),"keyDrop",function(gt){Gt.handleSortEnd(gt),Gt.initialFocusedNode&&Gt.initialFocusedNode.focus()}),s(x(x(Gt)),"handleKeyEnd",function(gt){Gt.manager.active&&Gt.keyDrop(gt)}),s(x(x(Gt)),"isValidSortingTarget",function(gt){var fe=Gt.props.useDragHandle,Ct=gt.target,at=V(Ct,function(St){return St.sortableInfo!=null});return at&&at.sortableInfo&&!at.sortableInfo.disabled&&(fe?q(Ct):Ct.sortableInfo)}),vt(se),Gt.manager=new L,Gt.events={end:Gt.handleEnd,move:Gt.handleMove,start:Gt.handleStart},Gt}return p(Nt,[{key:"getChildContext",value:function(){return{manager:this.manager}}},{key:"componentDidMount",value:function(){var se=this,Gt=this.props.useWindowAsScrollContainer,gt=this.getContainer();Promise.resolve(gt).then(function(fe){se.container=fe,se.document=se.container.ownerDocument||document;var Ct=se.props.contentWindow||se.document.defaultView||window;se.contentWindow=typeof Ct=="function"?Ct():Ct,se.scrollContainer=Gt?se.document.scrollingElement||se.document.documentElement:ot(se.container)||se.container,se.autoScroller=new $(se.scrollContainer,se.onAutoScroll),Object.keys(se.events).forEach(function(at){return B[at].forEach(function(St){return se.container.addEventListener(St,se.events[at],!1)})}),se.container.addEventListener("keydown",se.handleKeyDown)})}},{key:"componentWillUnmount",value:function(){var se=this;this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach(function(Gt){return B[Gt].forEach(function(gt){return se.container.removeEventListener(gt,se.events[Gt])})}),this.container.removeEventListener("keydown",this.handleKeyDown))}},{key:"updateHelperPosition",value:function(se){var Gt=this.props,gt=Gt.lockAxis,fe=Gt.lockOffset,Ct=Gt.lockToContainerEdges,at=Gt.transitionDuration,St=Gt.keyboardSortingTransitionDuration,jt=St===void 0?at:St,Zt=this.manager.isKeySorting,ue=se.ignoreTransition,ce=rt(se),It={x:ce.x-this.initialOffset.x,y:ce.y-this.initialOffset.y};if(It.y-=window.pageYOffset-this.initialWindowScroll.top,It.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=It,Ct){var Mt=ct({height:this.height,lockOffset:fe,width:this.width}),Ut=o(Mt,2),Kt=Ut[0],wt=Ut[1],ye={x:this.width/2-Kt.x,y:this.height/2-Kt.y},we={x:this.width/2-wt.x,y:this.height/2-wt.y};It.x=z(this.minTranslate.x+ye.x,this.maxTranslate.x-we.x,It.x),It.y=z(this.minTranslate.y+ye.y,this.maxTranslate.y-we.y,It.y)}gt==="x"?It.y=0:gt==="y"&&(It.x=0),Zt&&jt&&!ue&&G(this.helper,jt),X(this.helper,It)}},{key:"animateNodes",value:function(){var se=this.props,Gt=se.transitionDuration,gt=se.hideSortableGhost,fe=se.onSortOver,Ct=this.containerScrollDelta,at=this.windowScrollDelta,St=this.manager.getOrderedRefs(),jt={left:this.offsetEdge.left+this.translate.x+Ct.left,top:this.offsetEdge.top+this.translate.y+Ct.top},Zt=this.manager.isKeySorting,ue=this.newIndex;this.newIndex=null;for(var ce=0,It=St.length;ce<It;ce++){var Mt=St[ce].node,Ut=Mt.sortableInfo.index,Kt=Mt.offsetWidth,wt=Mt.offsetHeight,ye={height:this.height>wt?wt/2:this.height/2,width:this.width>Kt?Kt/2:this.width/2},we=Zt&&Ut>this.index&&Ut<=ue,Oe=Zt&&Ut<this.index&&Ut>=ue,Ne={x:0,y:0},ze=St[ce].edgeOffset;ze||(ze=tt(Mt,this.container),St[ce].edgeOffset=ze,Zt&&(St[ce].boundingClientRect=Y(Mt,Ct)));var Ue=ce<St.length-1&&St[ce+1],Be=ce>0&&St[ce-1];if(Ue&&!Ue.edgeOffset&&(Ue.edgeOffset=tt(Ue.node,this.container),Zt&&(Ue.boundingClientRect=Y(Ue.node,Ct))),Ut===this.index){gt&&(this.sortableGhost=Mt,N(Mt,{opacity:0,visibility:"hidden"}));continue}Gt&&G(Mt,Gt),this.axis.x?this.axis.y?Oe||Ut<this.index&&(jt.left+at.left-ye.width<=ze.left&&jt.top+at.top<=ze.top+ye.height||jt.top+at.top+ye.height<=ze.top)?(Ne.x=this.width+this.marginOffset.x,ze.left+Ne.x>this.containerBoundingRect.width-ye.width&&Ue&&(Ne.x=Ue.edgeOffset.left-ze.left,Ne.y=Ue.edgeOffset.top-ze.top),this.newIndex===null&&(this.newIndex=Ut)):(we||Ut>this.index&&(jt.left+at.left+ye.width>=ze.left&&jt.top+at.top+ye.height>=ze.top||jt.top+at.top+ye.height>=ze.top+wt))&&(Ne.x=-(this.width+this.marginOffset.x),ze.left+Ne.x<this.containerBoundingRect.left+ye.width&&Be&&(Ne.x=Be.edgeOffset.left-ze.left,Ne.y=Be.edgeOffset.top-ze.top),this.newIndex=Ut):we||Ut>this.index&&jt.left+at.left+ye.width>=ze.left?(Ne.x=-(this.width+this.marginOffset.x),this.newIndex=Ut):(Oe||Ut<this.index&&jt.left+at.left<=ze.left+ye.width)&&(Ne.x=this.width+this.marginOffset.x,this.newIndex==null&&(this.newIndex=Ut)):this.axis.y&&(we||Ut>this.index&&jt.top+at.top+ye.height>=ze.top?(Ne.y=-(this.height+this.marginOffset.y),this.newIndex=Ut):(Oe||Ut<this.index&&jt.top+at.top<=ze.top+ye.height)&&(Ne.y=this.height+this.marginOffset.y,this.newIndex==null&&(this.newIndex=Ut))),X(Mt,Ne),St[ce].translate=Ne}this.newIndex==null&&(this.newIndex=this.index),Zt&&(this.newIndex=ue);var Je=Zt?this.prevIndex:ue;fe&&this.newIndex!==Je&&fe({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:Je,isKeySorting:Zt})}},{key:"getWrappedInstance",value:function(){return O()($t.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.refs.wrappedInstance}},{key:"getContainer",value:function(){var se=this.props.getContainer;return typeof se!="function"?Object(S.findDOMNode)(this):se($t.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var se=$t.withRef?"wrappedInstance":null;return Object(_.createElement)(_t,n({ref:se},W(this.props,kt)))}},{key:"helperContainer",get:function(){var se=this.props.helperContainer;return typeof se=="function"?se():this.props.helperContainer||this.document.body}},{key:"containerScrollDelta",get:function(){var se=this.props.useWindowAsScrollContainer;return se?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}},{key:"windowScrollDelta",get:function(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}}]),Nt}(_.Component),s(zt,"displayName",st("sortableList",_t)),s(zt,"defaultProps",bt),s(zt,"propTypes",ut),s(zt,"childContextTypes",{manager:C.a.object.isRequired}),oe}var Vt={index:C.a.number.isRequired,collection:C.a.oneOfType([C.a.number,C.a.string]),disabled:C.a.bool},ee=Object.keys(Vt);function Tt(_t){var zt,oe,$t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return oe=zt=function(pe){E(Nt,pe);function Nt(){return c(this,Nt),y(this,k(Nt).apply(this,arguments))}return p(Nt,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(se){this.node&&(se.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),se.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),se.collection!==this.props.collection&&(this.unregister(se.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var se=this.props,Gt=se.collection,gt=se.disabled,fe=se.index,Ct=Object(S.findDOMNode)(this);Ct.sortableInfo={collection:Gt,disabled:gt,index:fe,manager:this.context.manager},this.node=Ct,this.ref={node:Ct},this.context.manager.add(Gt,this.ref)}},{key:"unregister",value:function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.collection;this.context.manager.remove(se,this.ref)}},{key:"getWrappedInstance",value:function(){return O()($t.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var se=$t.withRef?"wrappedInstance":null;return Object(_.createElement)(_t,n({ref:se},W(this.props,ee)))}}]),Nt}(_.Component),s(zt,"displayName",st("sortableElement",_t)),s(zt,"contextTypes",{manager:C.a.object.isRequired}),s(zt,"propTypes",Vt),s(zt,"defaultProps",{collection:0}),oe}},function(f,r,t){var n=t(16),a=t(12),l=t(50);f.exports=function(e,o){var s=(a.Object||{})[e]||Object[e],u={};u[e]=o(s),n(n.S+n.F*l(function(){s(1)}),"Object",u)}},function(f,r,t){var n=t(33);f.exports=function(a,l){if(!n(a))return a;var e,o;if(l&&typeof(e=a.toString)=="function"&&!n(o=e.call(a))||typeof(e=a.valueOf)=="function"&&!n(o=e.call(a))||!l&&typeof(e=a.toString)=="function"&&!n(o=e.call(a)))return o;throw TypeError("Can't convert object to primitive value")}},function(f,r,t){var n=t(47),a=t(54),l=t(90)("IE_PROTO"),e=Object.prototype;f.exports=Object.getPrototypeOf||function(o){return o=a(o),n(o,l)?o[l]:typeof o.constructor=="function"&&o instanceof o.constructor?o.constructor.prototype:o instanceof Object?e:null}},function(f,m,t){var n=t(49),a=t(165),l=t(166),e=t(39),o=t(88),s=t(112),u={},c={},m=f.exports=function(p,h,v,x,y){var k=y?function(){return p}:s(p),T=n(v,x,h?2:1),E=0,_,A,C,S;if(typeof k!="function")throw TypeError(p+" is not iterable!");if(l(k)){for(_=o(p.length);_>E;E++)if(S=h?T(e(A=p[E])[0],A[1]):T(p[E]),S===u||S===c)return S}else for(C=k.call(p);!(A=C.next()).done;)if(S=a(C,T,A.value,h),S===u||S===c)return S};m.BREAK=u,m.RETURN=c},function(f,r){r.f=Object.getOwnPropertySymbols},function(f,r,t){f.exports={default:t(230),__esModule:!0}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.Provider=void 0;var n=t(34),a=u(n),l=t(1),e=u(l),o=t(171),s=u(o);function u(v){return v&&v.__esModule?v:{default:v}}var c=e.default.createContext({close:s.default,open:s.default}),m=c.Provider,p=c.Consumer,h=function(v){return e.default.forwardRef(function(x,y){return e.default.createElement(p,null,function(k){return e.default.createElement(v,(0,a.default)({ref:y},x,{modal:k}))})})};r.default=h,r.Provider=m},function(f,r,t){r.__esModule=!0,r.noop=void 0;var n=Object.assign||function(B){for(var F=1;F<arguments.length;F++){var N=arguments[F];for(var X in N)Object.prototype.hasOwnProperty.call(N,X)&&(B[X]=N[X])}return B};r.bottom=u,r.cloneLayout=c,r.cloneLayoutItem=m,r.childrenEqual=p,r.collides=h,r.compact=v,r.compactItem=k,r.correctBounds=T,r.getLayoutItem=E,r.getFirstCollision=_,r.getAllCollisions=A,r.getStatics=C,r.moveElement=S,r.moveElementAwayFromCollision=P,r.perc=O,r.setTransform=R,r.setTopLeft=I,r.sortLayoutItems=M,r.sortLayoutItemsByRowCol=H,r.sortLayoutItemsByColRow=L,r.synchronizeLayoutWithChildren=D,r.validateLayout=j,r.autoBindHandlers=W;var a=t(172),l=s(a),e=t(1),o=s(e);function s(B){return B&&B.__esModule?B:{default:B}}function u(B){for(var F=0,N=void 0,X=0,G=B.length;X<G;X++)N=B[X].y+B[X].h,N>F&&(F=N);return F}function c(B){for(var F=Array(B.length),N=0,X=B.length;N<X;N++)F[N]=m(B[N]);return F}function m(B){return{w:B.w,h:B.h,x:B.x,y:B.y,i:B.i,minW:B.minW,maxW:B.maxW,minH:B.minH,maxH:B.maxH,moved:!!B.moved,static:!!B.static,isDraggable:B.isDraggable,isResizable:B.isResizable}}function p(B,F){return(0,l.default)(o.default.Children.map(B,function(N){return N.key}),o.default.Children.map(F,function(N){return N.key}))}function h(B,F){return!(B===F||B.x+B.w<=F.x||B.x>=F.x+F.w||B.y+B.h<=F.y||B.y>=F.y+F.h)}function v(B,F,N){for(var X=C(B),G=M(B,F),V=Array(B.length),z=0,U=G.length;z<U;z++){var Z=m(G[z]);Z.static||(Z=k(X,Z,F,N,G),X.push(Z)),V[B.indexOf(G[z])]=Z,Z.moved=!1}return V}var x={x:"w",y:"h"};function y(B,F,N,X){var G=x[X];F[X]+=1;for(var V=B.indexOf(F),z=V+1;z<B.length;z++){var U=B[z];if(!U.static){if(U.y>F.y+F.h)break;h(F,U)&&y(B,U,N+F[G],X)}}F[X]=N}function k(B,F,N,X,G){var V=N==="vertical",z=N==="horizontal";if(V)for(F.y=Math.min(u(B),F.y);F.y>0&&!_(B,F);)F.y--;else if(z)for(F.y=Math.min(u(B),F.y);F.x>0&&!_(B,F);)F.x--;for(var U=void 0;U=_(B,F);)z?y(G,F,U.x+U.w,"x"):y(G,F,U.y+U.h,"y"),z&&F.x+F.w>X&&(F.x=X-F.w,F.y++);return F}function T(B,F){for(var N=C(B),X=0,G=B.length;X<G;X++){var V=B[X];if(V.x+V.w>F.cols&&(V.x=F.cols-V.w),V.x<0&&(V.x=0,V.w=F.cols),!V.static)N.push(V);else for(;_(N,V);)V.y++}return B}function E(B,F){for(var N=0,X=B.length;N<X;N++)if(B[N].i===F)return B[N]}function _(B,F){for(var N=0,X=B.length;N<X;N++)if(h(B[N],F))return B[N]}function A(B,F){return B.filter(function(N){return h(N,F)})}function C(B){return B.filter(function(F){return F.static})}function S(B,F,N,X,G,V,z,U){if(F.static||F.y===X&&F.x===N)return B;""+F.i+String(N)+String(X)+F.x+F.y;var Z=F.x,st=F.y;typeof N=="number"&&(F.x=N),typeof X=="number"&&(F.y=X),F.moved=!0;var Y=M(B,z),rt=z==="vertical"&&typeof X=="number"?st>=X:z==="horizontal"&&typeof N=="number"?Z>=N:!1;rt&&(Y=Y.reverse());var ft=A(Y,F);if(V&&ft.length)return""+F.i,F.x=Z,F.y=st,F.moved=!1,B;for(var tt=0,K=ft.length;tt<K;tt++){var Q=ft[tt];""+F.i+F.x+F.y+Q.i+Q.x+Q.y,!Q.moved&&(Q.static?B=P(B,Q,F,G,z):B=P(B,F,Q,G,z))}return B}function P(B,F,N,X,G,V){var z=G==="horizontal",U=G==="vertical",Z=!1;if(X){X=!1;var st={x:z?Math.max(F.x-N.w,0):N.x,y:U?Math.max(F.y-N.h,0):N.y,w:N.w,h:N.h,i:"-1"};if(!_(B,st))return""+N.i+st.x+st.y,S(B,N,z?st.x:void 0,U?st.y:void 0,X,Z,G)}return S(B,N,z?N.x+1:void 0,U?N.y+1:void 0,X,Z,G)}function O(B){return B*100+"%"}function R(B){var F=B.top,N=B.left,X=B.width,G=B.height,V="translate("+N+"px,"+F+"px)";return{transform:V,WebkitTransform:V,MozTransform:V,msTransform:V,OTransform:V,width:X+"px",height:G+"px",position:"absolute"}}function I(B){var F=B.top,N=B.left,X=B.width,G=B.height;return{top:F+"px",left:N+"px",width:X+"px",height:G+"px",position:"absolute"}}function M(B,F){return F==="horizontal"?L(B):H(B)}function H(B){return[].concat(B).sort(function(F,N){return F.y>N.y||F.y===N.y&&F.x>N.x?1:F.y===N.y&&F.x===N.x?0:-1})}function L(B){return[].concat(B).sort(function(F,N){return F.x>N.x||F.x===N.x&&F.y>N.y?1:-1})}function D(B,F,N,X){B=B||[];var G=[];return o.default.Children.forEach(F,function(V,z){var U=E(B,String(V.key));if(U)G[z]=m(U);else{var Z=V.props["data-grid"]||V.props._grid;Z?G[z]=m(n({},Z,{i:V.key})):G[z]=m({w:1,h:1,x:0,y:u(G),i:String(V.key)})}}),G=T(G,{cols:N}),G=v(G,X,N),G}function j(B){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Layout",N=["x","y","w","h"];if(!Array.isArray(B))throw new Error(F+" must be an array!");for(var X=0,G=B.length;X<G;X++){for(var V=B[X],z=0;z<N.length;z++)if(typeof V[N[z]]!="number")throw new Error("ReactGridLayout: "+F+"["+X+"]."+N[z]+" must be a number!");if(V.i&&typeof V.i!="string")throw new Error("ReactGridLayout: "+F+"["+X+"].i must be a string!");if(V.static!==void 0&&typeof V.static!="boolean")throw new Error("ReactGridLayout: "+F+"["+X+"].static must be a boolean!")}}function W(B,F){F.forEach(function(N){return B[N]=B[N].bind(B)})}r.noop=function(){}},function(f,r,t){t.r(r),t.d(r,"globalPubSub",function(){return h}),t.d(r,"createPubSub",function(){return m});const n=(()=>{try{return new window.BroadcastChannel("pub-sub-es")}catch{return{postMessage:()=>{}}}})(),a=(v,x)=>x?v.toLowerCase():v,l=(v,{caseInsensitive:x}={})=>(y,k,T=1/0)=>{const E=a(y,x);return v[E]||(v[E]=[],v.__times__[E]=[]),v[E].push(k),v.__times__[E].push(+T||1/0),{event:E,handler:k}},e=(v,{caseInsensitive:x}={})=>(y,k)=>{typeof y=="object"&&(k=y.handler,y=y.event);const T=a(y,x);if(!v[T])return;const E=v[T].indexOf(k);E===-1||E>=v[T].length||(v[T].splice(E,1),v.__times__[T].splice(E,1))},o=(v,x)=>()=>{v.forEach(y=>y(x))},s=(v,{isGlobal:x,caseInsensitive:y,async:k}={})=>{const T=e(v);return(E,_,A={})=>{const C=a(E,y);if(!v[C])return;const S=[...v[C]];if(S.forEach((P,O)=>{--v.__times__[C][O]<1&&T(C,P)}),k||A.async?setTimeout(o(S,_),0):o(S,_)(),x&&!A.isNoGlobalBroadcast)try{n.postMessage({event:C,news:_})}catch(P){if(P instanceof DOMException)console.warn(`Could not broadcast '${C}' globally. Payload is not clonable.`);else throw P}}},u=v=>()=>{Object.keys(v).filter(x=>x[0]!=="_").forEach(x=>{v[x]=void 0,v.__times__[x]=void 0,delete v[x],delete v.__times__[x]})},c=()=>({__times__:{}}),m=({async:v=!1,caseInsensitive:x=!1,stack:y=c()}={})=>(y.__times__||(y.__times__={}),{publish:s(y,{async:v,caseInsensitive:x}),subscribe:l(y,{caseInsensitive:x}),unsubscribe:e(y,{caseInsensitive:x}),clear:u(y),stack:y}),p=c(),h={publish:s(p,{isGlobal:!0}),subscribe:l(p),unsubscribe:e(p),stack:p};n.onmessage=({data:{event:v,news:x}})=>h.publish(v,x,!0),r.default=m},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(63),a=tt(n),l=t(55),e=tt(l),o=t(17),s=tt(o),u=t(95),c=tt(u),m=t(30),p=tt(m),h=t(19),v=tt(h),x=t(35),y=tt(x),k=t(5),T=tt(k),E=t(34),_=tt(E),A=t(3),C=tt(A),S=t(4),P=tt(S),O=t(6),R=tt(O),I=t(14),M=tt(I),H=t(7),L=tt(H),D=t(136),j=tt(D),W=t(83),B=t(20),F=t(28),N=t(0),X=t(26),G=tt(X),V=t(10),z=t(79),U=tt(z),Z=t(179),st=tt(Z),Y=t(24),rt=t(11),ft=t(114);function tt(lt){return lt&&lt.__esModule?lt:{default:lt}}var K=200,Q=10,ct=40,nt=10,ot=nt,yt=4,pt=1,dt=4,mt=5,q=256,$=Q+ct+nt+pt+ot+dt,J=function(lt){(0,L.default)(ut,lt);function ut(ht,bt){(0,C.default)(this,ut);var kt=(0,_.default)({},ht);kt.onValueScaleChanged=function(){ht.onValueScaleChanged(),vt.drawColorbar()};var vt=(0,R.default)(this,(ut.__proto__||(0,T.default)(ut)).call(this,kt,bt)),Et=ht.pubSub,Rt=ht.animate,Vt=ht.svgElement,ee=ht.onTrackOptionsChanged,Tt=ht.onMouseMoveZoom,_t=ht.isShowGlobalMousePosition,zt=ht.isValueScaleLocked;return vt.pubSub=Et,vt.is2d=!0,vt.animate=Rt,vt.uid=G.default.nice(),vt.scaleBrush=(0,W.brushY)(),vt.onTrackOptionsChanged=ee,vt.isShowGlobalMousePosition=_t,vt.isValueScaleLocked=zt,vt.pColorbarArea=new rt.GLOBALS.PIXI.Graphics,vt.pMasked.addChild(vt.pColorbarArea),vt.pColorbar=new rt.GLOBALS.PIXI.Graphics,vt.pColorbarArea.addChild(vt.pColorbar),vt.axis=new st.default(vt),vt.pColorbarArea.addChild(vt.axis.pAxis),vt.colorScale=rt.HEATED_OBJECT_MAP,bt&&bt.colorRange&&(vt.colorScale=(0,V.colorDomainToRgbaArray)(bt.colorRange)),vt.gBase=(0,N.select)(Vt).append("g"),vt.gMain=vt.gBase.append("g"),vt.gColorscaleBrush=vt.gMain.append("g"),vt.brushing=!1,vt.prevOptions="",vt.prevIndUpperLeftTile="",vt.onMouseMoveZoom=Tt,vt.setDataLensSize(11),vt.dataLens=new Float32Array(Math.pow(vt.dataLensSize,2)),vt.mouseMoveHandlerBound=vt.mouseMoveHandler.bind(vt),vt.onMouseMoveZoom&&vt.pubSubs.push(vt.pubSub.subscribe("app.mouseMove",vt.mouseMoveHandlerBound)),vt.options&&vt.options.showMousePosition&&!vt.hideMousePosition&&(vt.hideMousePosition=(0,V.showMousePosition)(vt,vt.is2d,vt.isShowGlobalMousePosition())),vt.prevOptions=(0,y.default)(bt),vt}return(0,P.default)(ut,[{key:"mouseMoveHandler",value:function(){function ht(bt){this.isWithin(bt.x,bt.y)&&(this.mouseX=bt.x,this.mouseY=bt.y,this.mouseMoveZoomHandler())}return ht}()},{key:"mouseMoveZoomHandler",value:function(){function ht(){var bt=this,kt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.mouseX,vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.mouseY;if(!(typeof kt>"u"||typeof vt>"u"||!this.areAllVisibleTilesLoaded())&&this.tilesetInfo){var Et=kt-this.position[0],Rt=vt-this.position[1],Vt=void 0,ee=void 0;try{ee=this.getVisibleRectangleData(Et-this.dataLensPadding,Rt-this.dataLensPadding,this.dataLensSize,this.dataLensSize),Vt=ee.get(this.dataLensPadding,this.dataLensPadding)}catch{return}var Tt=this.dataLensSize,_t=void 0;try{_t=(0,V.valueToColor)(this.limitedValueScale,this.colorScale,this.valueScale.domain()[0])}catch{return}if(_t){var zt=Math.round(this._xScale.invert(Et)),oe=Math.round(this._yScale.invert(Rt)),$t=[zt,oe],pe=[Math.round(this._xScale.invert(Et-this.dataLensPadding)),Math.round(this._xScale.invert(Et+this.dataLensPadding))],Nt=[Math.round(this._yScale.invert(Rt-this.dataLensPadding)),Math.round(this._yScale.invert(Rt+this.dataLensPadding))];this.chromInfo&&($t=$t.map(function(se){return(0,V.absToChr)(se,bt.chromInfo).slice(0,2)}),pe=pe.map(function(se){return(0,V.absToChr)(se,bt.chromInfo).slice(0,2)}),Nt=Nt.map(function(se){return(0,V.absToChr)(se,bt.chromInfo).slice(0,2)})),this.onMouseMoveZoom({trackId:this.id,data:Vt,absX:kt,absY:vt,relX:Et,relY:Rt,dataX:zt,dataY:oe,orientation:"2d",dataLens:ee,dim:Tt,toRgb:_t,center:$t,xRange:pe,yRange:Nt,isGenomicCoords:!!this.chromInfo})}}}return ht}()},{key:"scheduleRerender",value:function(){function ht(){this.backgroundTaskScheduler.enqueueTask(this.handleRerender.bind(this),null,this.uuid)}return ht}()},{key:"handleRerender",value:function(){function ht(){this.rerender(this.options,!0)}return ht}()},{key:"getAbsTileDim",value:function(){function ht(bt,kt,vt){var Et=this.getTilePosAndDimensions(bt,kt),Rt=Et.tileX,Vt=Et.tileY,ee=Et.tileWidth,Tt=Et.tileHeight,_t={};return _t.width=this._refXScale(Rt+ee)-this._refXScale(Rt),_t.height=this._refYScale(Vt+Tt)-this._refYScale(Vt),vt?(_t.x=this._refXScale(Vt),_t.y=this._refYScale(Rt)):(_t.x=this._refXScale(Rt),_t.y=this._refYScale(Vt)),_t}return ht}()},{key:"updateValueScale",value:function(){function ht(){var bt=this.minValue(),kt=this.maxValue(),vt=1e-6;if(bt!=null&&kt!==void 0&&kt!==null&&Math.abs(bt-kt)<vt){var Et=.001;bt=Math.max(vt,bt-Et),kt+=Et}var Rt=(0,z.getValueScale)(this.options&&this.options.heatmapValueScaling||"log",bt,this.medianVisibleValue,kt,"log"),Vt=(0,v.default)(Rt,2),ee=Vt[0],Tt=Vt[1];return this.valueScale=Tt,this.limitedValueScale=this.valueScale.copy(),this.options&&typeof this.options.scaleStartPercent<"u"&&typeof this.options.scaleEndPercent<"u"&&this.limitedValueScale.domain([this.valueScale.domain()[0]+(this.valueScale.domain()[1]-this.valueScale.domain()[0])*this.options.scaleStartPercent,this.valueScale.domain()[0]+(this.valueScale.domain()[1]-this.valueScale.domain()[0])*this.options.scaleEndPercent]),[ee,Tt]}return ht}()},{key:"rerender",value:function(){function ht(bt,kt){var vt=this;(0,M.default)(ut.prototype.__proto__||(0,T.default)(ut.prototype),"rerender",this).call(this,bt,kt),this.updateValueScale();var Et=(0,y.default)(bt);this.drawColorbar(),!(!kt&&Et===this.prevOptions)&&(this.prevOptions=Et,this.options=bt,(0,M.default)(ut.prototype.__proto__||(0,T.default)(ut.prototype),"rerender",this).call(this,bt,kt),this.calculateVisibleTiles(),bt&&bt.colorRange&&(this.colorScale=(0,V.colorDomainToRgbaArray)(bt.colorRange)),this.visibleAndFetchedTiles().forEach(function(Rt){return vt.renderTile(Rt)}),this.hideMousePosition&&(this.hideMousePosition(),this.hideMousePosition=void 0),this.options&&this.options.showMousePosition&&!this.hideMousePosition&&(this.hideMousePosition=(0,V.showMousePosition)(this,this.is2d,this.isShowGlobalMousePosition())))}return ht}()},{key:"drawLabel",value:function(){function ht(){this.options.labelPosition===this.options.colorbarPosition?this.labelXOffset=$:this.labelXOffset=0,(0,M.default)(ut.prototype.__proto__||(0,T.default)(ut.prototype),"drawLabel",this).call(this)}return ht}()},{key:"tileDataToCanvas",value:function(){function ht(bt){var kt=document.createElement("canvas");kt.width=this.binsPerTile(),kt.height=this.binsPerTile();var vt=kt.getContext("2d");vt.fillStyle="transparent",vt.fillRect(0,0,kt.width,kt.height);var Et=new ImageData(bt,kt.width,kt.height);return vt.putImageData(Et,0,0),kt}return ht}()},{key:"exportData",value:function(){function ht(){if(this.tilesetInfo){var bt=this.getVisibleRectangleData(0,0,this.dimensions[0],this.dimensions[1]),kt={bounds:[this._xScale.domain(),this._yScale.domain()],dimensions:bt.shape,data:(0,V.ndarrayFlatten)(bt)};(0,V.download)("data.json",(0,y.default)(kt))}}return ht}()},{key:"setSpriteProperties",value:function(){function ht(bt,kt,vt,Et){var Rt=this.getAbsTileDim(kt,vt,Et);bt.width=Rt.width,bt.height=Rt.height,bt.x=Rt.x,bt.y=Rt.y,Et&&vt[0]!==vt[1]&&(bt.rotation=-Math.PI/2,bt.scale.x=Math.abs(bt.scale.x)*-1)}return ht}()},{key:"refXScale",value:function(){function ht(bt){(0,M.default)(ut.prototype.__proto__||(0,T.default)(ut.prototype),"refXScale",this).call(this,bt),this.draw()}return ht}()},{key:"refYScale",value:function(){function ht(bt){(0,M.default)(ut.prototype.__proto__||(0,T.default)(ut.prototype),"refYScale",this).call(this,bt),this.draw()}return ht}()},{key:"draw",value:function(){function ht(){(0,M.default)(ut.prototype.__proto__||(0,T.default)(ut.prototype),"draw",this).call(this)}return ht}()},{key:"newBrushOptions",value:function(){function ht(bt){var kt=JSON.parse((0,y.default)(this.options)),vt=this.valueScale.copy().range([this.colorbarHeight,0]),Et=vt.invert(bt[0]),Rt=vt.invert(bt[1]),Vt=(Rt-vt.domain()[0])/(vt.domain()[1]-vt.domain()[0]),ee=(Et-vt.domain()[0])/(vt.domain()[1]-vt.domain()[0]);return kt.scaleStartPercent=Vt.toFixed(mt),kt.scaleEndPercent=ee.toFixed(mt),kt}return ht}()},{key:"brushStart",value:function(){function ht(){this.brushing=!0}return ht}()},{key:"brushMoved",value:function(){function ht(){if(N.event.selection){var bt=this.newBrushOptions(N.event.selection),kt=(0,y.default)(bt);this.gColorscaleBrush.selectAll(".handle--custom").attr("y",function(vt){return vt.type==="n"?N.event.selection[0]:N.event.selection[1]-yt/2}),kt!==this.prevOptions&&(this.prevOptions=kt,this.rerender(bt,!0),this.onTrackOptionsChanged(bt),this.isValueScaleLocked()&&this.onValueScaleChanged())}}return ht}()},{key:"brushEnd",value:function(){function ht(){this.brushing=!1}return ht}()},{key:"setPosition",value:function(){function ht(bt){(0,M.default)(ut.prototype.__proto__||(0,T.default)(ut.prototype),"setPosition",this).call(this,bt),this.drawColorbar()}return ht}()},{key:"setDimensions",value:function(){function ht(bt){(0,M.default)(ut.prototype.__proto__||(0,T.default)(ut.prototype),"setDimensions",this).call(this,bt),this.drawColorbar()}return ht}()},{key:"removeColorbar",value:function(){function ht(){this.pColorbarArea.visible=!1,this.scaleBrush.on(".brush")&&this.gColorscaleBrush.call(this.scaleBrush.move,null),this.gColorscaleBrush.on(".brush",null),this.gColorscaleBrush.selectAll("rect").remove()}return ht}()},{key:"drawColorbar",value:function(){function ht(){if(this.pColorbar.clear(),!this.options||!this.options.colorbarPosition||this.options.colorbarPosition==="hidden"){this.removeColorbar();return}if(this.pColorbarArea.visible=!0,!!this.valueScale&&!((0,p.default)(+this.valueScale.domain()[0])||(0,p.default)(+this.valueScale.domain()[1]))){var bt=Math.min(this.dimensions[1]/2,K);if(this.colorbarHeight=bt-2*nt,this.colorbarHeight<0){this.removeColorbar();return}if(this.valueScale.domain()[1]===this.valueScale.domain()[0]){this.removeColorbar();return}var kt=this.valueScale.copy().range([this.colorbarHeight,0]);if(this.options.colorbarPosition==="topLeft"||this.options.colorbarPosition==="bottomLeft"?this.scaleBrush.extent([[dt,0],[ot,this.colorbarHeight]]):this.scaleBrush.extent([[0,0],[ot-dt,this.colorbarHeight]]),this.options.colorbarPosition==="topLeft"){var vt=(0,v.default)(this.position,2);this.pColorbarArea.x=vt[0],this.pColorbarArea.y=vt[1],this.pColorbar.y=nt,this.axis.pAxis.y=nt,this.axis.pAxis.x=dt+ot+pt+Q,this.pColorbar.x=dt+ot+pt,this.gColorscaleBrush.attr("transform","translate("+String(this.pColorbarArea.x+dt)+","+(this.pColorbarArea.y+this.pColorbar.y-1)+")")}this.options.colorbarPosition==="topRight"&&(this.pColorbarArea.x=this.position[0]+this.dimensions[0]-$,this.pColorbarArea.y=this.position[1],this.pColorbar.y=nt,this.axis.pAxis.y=nt,this.axis.pAxis.x=ct+nt,this.pColorbar.x=ct+nt,this.gColorscaleBrush.attr("transform","translate("+String(this.pColorbarArea.x+this.pColorbar.x+Q+2)+","+(this.pColorbarArea.y+this.pColorbar.y-1)+")")),this.options.colorbarPosition==="bottomRight"&&(this.pColorbarArea.x=this.position[0]+this.dimensions[0]-$,this.pColorbarArea.y=this.position[1]+this.dimensions[1]-bt,this.pColorbar.y=nt,this.axis.pAxis.y=nt,this.axis.pAxis.x=ct+nt,this.pColorbar.x=ct+nt,this.gColorscaleBrush.attr("transform","translate("+String(this.pColorbarArea.x+this.pColorbar.x+Q+pt)+","+(this.pColorbarArea.y+this.pColorbar.y-1)+")")),this.options.colorbarPosition==="bottomLeft"&&(this.pColorbarArea.x=this.position[0],this.pColorbarArea.y=this.position[1]+this.dimensions[1]-bt,this.pColorbar.y=nt,this.axis.pAxis.y=nt,this.axis.pAxis.x=dt+ot+pt+Q,this.pColorbar.x=dt+ot+pt,this.gColorscaleBrush.attr("transform","translate("+String(this.pColorbarArea.x+2)+","+(this.pColorbarArea.y+this.pColorbar.y-1)+")")),this.pColorbarArea.clear(),this.pColorbarArea.beginFill((0,V.colorToHex)(this.options.colorbarBackgroundColor||"white"),+this.options.colorbarBackgroundOpacity>=0?+this.options.colorbarBackgroundOpacity:.6),this.pColorbarArea.drawRect(0,0,$,bt),this.options?(this.options.scaleStartPercent||(this.options.scaleStartPercent=0),this.options.scaleEndPercent||(this.options.scaleEndPercent=1)):this.options={scaleStartPercent:0,scaleEndPercent:1};var Et=kt.domain()[1]-kt.domain()[0],Rt=kt(this.options.scaleStartPercent*Et+kt.domain()[0]),Vt=kt(this.options.scaleEndPercent*Et+kt.domain()[0]);this.brushing||(this.scaleBrush.on("start",this.brushStart.bind(this)).on("brush",this.brushMoved.bind(this)).on("end",this.brushEnd.bind(this)).handleSize(0),this.gColorscaleBrush.on(".brush",null),this.gColorscaleBrush.call(this.scaleBrush),this.northHandle=this.gColorscaleBrush.selectAll(".handle--custom").data([{type:"n"},{type:"s"}]).enter().append("rect").classed("handle--custom",!0).attr("cursor","ns-resize").attr("width",ot).attr("height",yt).style("fill","#666").style("stroke","white"),this.flipText&&this.northHandle.attr("cursor","ew-resize"),this.gColorscaleBrush.call(this.scaleBrush.move,[Vt,Rt]));for(var ee=(0,F.scaleLinear)().domain([0,255]).range([0,this.colorbarHeight]),Tt=0;Tt<this.colorbarHeight;Tt++){var _t=this.limitedValueScale(kt.invert(Tt)),zt=Math.max(0,Math.min(254,Math.floor(_t)));this.pColorbar.beginFill((0,V.colorToHex)("rgb("+String(this.colorScale[zt][0])+","+String(this.colorScale[zt][1])+","+String(this.colorScale[zt][2])+")")),this.pColorbar.drawRect(0,Tt,Q,1)}this.pAxis.position.x=Q,this.pAxis.position.y=ee(0),this.options.colorbarPosition==="topLeft"||this.options.colorbarPosition==="bottomLeft"?this.axis.drawAxisRight(kt,this.colorbarHeight):(this.options.colorbarPosition==="topRight"||this.options.colorbarPosition==="bottomRight")&&this.axis.drawAxisLeft(kt,this.colorbarHeight)}}return ht}()},{key:"exportColorBarSVG",value:function(){function ht(){var bt=document.createElement("g");if(bt.setAttribute("class","color-bar"),!this.options.colorbarPosition||this.options.colorbarPosition==="hidden"||!this.valueScale)return bt;bt.setAttribute("transform","translate("+String(this.pColorbarArea.x)+", "+String(this.pColorbarArea.y)+")");var kt=document.createElement("rect");bt.appendChild(kt);var vt=document.createElement("g");bt.appendChild(vt),vt.setAttribute("transform","translate("+String(this.pColorbar.x)+", "+String(this.pColorbar.y)+")");var Et=Math.min(this.dimensions[1]/2,K);this.colorbarHeight=Et-2*nt,kt.setAttribute("x",0),kt.setAttribute("y",0),kt.setAttribute("width",$),kt.setAttribute("height",Et),kt.setAttribute("style","fill: white; stroke-width: 0; opacity: 0.7");for(var Rt=256,Vt=(0,F.scaleLinear)().domain([0,Rt-1]).range([0,this.colorbarHeight]),ee=this.colorbarHeight/Rt,Tt=0;Tt<Rt;Tt++){var _t=document.createElement("rect");vt.appendChild(_t),_t.setAttribute("x",0),_t.setAttribute("y",Vt(Tt)),_t.setAttribute("width",Q),_t.setAttribute("height",ee),_t.setAttribute("class","color-rect");var zt=Math.min(this.colorScale.length-1,Math.max(0,Math.floor(this.limitedValueScale(this.valueScale.invert(Tt))))),oe=this.colorScale[zt];oe?_t.setAttribute("style","fill: rgb("+String(oe[0])+", "+String(oe[1])+", "+String(oe[2])+")"):_t.setAttribute("style","fill: rgb(255,255,255,0)")}var $t=document.createElement("g");bt.appendChild($t),$t.setAttribute("transform","translate("+String(this.axis.pAxis.position.x)+","+String(this.axis.pAxis.position.y)+")");var pe=null,Nt=this.valueScale.copy().range([this.colorbarHeight,0]);return this.options.colorbarPosition==="topLeft"||this.options.colorbarPosition==="bottomLeft"?pe=this.axis.exportAxisRightSVG(Nt,this.colorbarHeight):(this.options.colorbarPosition==="topRight"||this.options.colorbarPosition==="bottomRight")&&(pe=this.axis.exportAxisLeftSVG(Nt,this.colorbarHeight)),$t.appendChild(pe),bt}return ht}()},{key:"setDataLensSize",value:function(){function ht(bt){this.dataLensPadding=Math.max(0,Math.floor((bt-1)/2)),this.dataLensSize=this.dataLensPadding*2+1}return ht}()},{key:"binsPerTile",value:function(){function ht(){return this.tilesetInfo.bins_per_dimension||q}return ht}()},{key:"getVisibleRectangleData",value:function(){function ht(bt,kt,vt,Et){var Rt=this,Vt=this.calculateZoomLevel();Vt=this.tilesetInfo.max_zoom?Math.min(this.tilesetInfo.max_zoom,Vt):Vt;var ee=Y.tileProxy.calculateTileWidth(this.tilesetInfo,Vt,this.binsPerTile()),Tt=ee/this.binsPerTile(),_t=[this._xScale.invert(bt),this._xScale.invert(bt+vt)],zt=[this._yScale.invert(kt),this._yScale.invert(kt+Et)],oe=[Math.max(_t[0],this.tilesetInfo.min_pos[0]),Math.min(_t[1],this.tilesetInfo.max_pos[0])],$t=[Math.max(zt[0],this.tilesetInfo.min_pos[1]),Math.min(zt[1],this.tilesetInfo.max_pos[1])],pe=Math.floor(oe[0]/Tt),Nt=Math.floor($t[0]/Tt),se=Math.max(0,Math.ceil((oe[1]-oe[0])/Tt)),Gt=Math.max(0,Math.ceil(($t[1]-$t[0])/Tt)),gt=(0,j.default)(new Array(Gt*se).fill(NaN),[Gt,se]);return this.visibleAndFetchedTiles().forEach(function(fe){var Ct=fe.mirrored?[fe.tileData.tilePos[1],fe.tileData.tilePos[0]]:fe.tileData.tilePos,at=Rt.getTilePosAndDimensions(fe.tileData.zoomLevel,Ct,Rt.binsPerTile()),St=at.tileX,jt=at.tileY,Zt=at.tileWidth,ue=at.tileHeight,ce=Math.floor(St/Tt),It=Math.floor((St+Zt)/Tt),Mt=Math.floor(jt/Tt),Ut=Math.floor((jt+ue)/Tt),Kt=Math.max(pe,ce)-ce,wt=Math.max(Nt,Mt)-Mt,ye=Math.min(pe+se,It)-ce,we=Math.min(Nt+Gt,Ut)-Mt,Oe=Math.max(ce-pe,0),Ne=Math.max(Mt-Nt,0),ze=ye-Kt,Ue=we-wt;if(!(ze<0||Ue<0)){if(fe.mirrored&&Kt>wt){var Be=Kt;Kt=wt,wt=Be}(0,V.ndarrayAssign)(gt.hi(Ne+Ue,Oe+ze).lo(Ne,Oe),fe.dataArray.hi(wt+Ue,Kt+ze).lo(wt,Kt))}}),gt}return ht}()},{key:"initTile",value:function(){function ht(bt){(0,M.default)(ut.prototype.__proto__||(0,T.default)(ut.prototype),"initTile",this).call(this,bt),bt.tileData.dense.length===Math.pow(this.binsPerTile(),2)&&(bt.dataArray=(0,j.default)((0,c.default)(bt.tileData.dense),[this.binsPerTile(),this.binsPerTile()]),this.continuousScaling&&bt.tileData.tilePos[0]===bt.tileData.tilePos[1]&&bt.mirrored&&(bt.tileData.denseDataExtrema.mirrorPrecomputedExtrema(),(0,M.default)(ut.prototype.__proto__||(0,T.default)(ut.prototype),"initTile",this).call(this,bt))),!(this.scale.minValue===null||this.scale.maxValue===null)&&this.renderTile(bt)}return ht}()},{key:"updateTile",value:function(){function ht(bt){bt.scale&&this.scale&&this.scale.minValue===bt.scale.minValue&&this.scale.maxValue===bt.scale.maxValue||(this.renderTile(bt),this.drawColorbar())}return ht}()},{key:"destroyTile",value:function(){function ht(bt){bt.sprite.destroy(!0),bt.canvas=null,bt.sprite=null,bt.texture=null}return ht}()},{key:"pixDataFunction",value:function(){function ht(bt,kt){if(kt){var vt=bt.graphics,Et=this.tileDataToCanvas(kt.pixData);bt.sprite&&bt.sprite.destroy(!0);var Rt=rt.GLOBALS.PIXI.VERSION[0]==="4"?rt.GLOBALS.PIXI.Texture.fromCanvas(Et,rt.GLOBALS.PIXI.SCALE_MODES.NEAREST):rt.GLOBALS.PIXI.Texture.from(Et,{scaleMode:rt.GLOBALS.PIXI.SCALE_MODES.NEAREST}),Vt=new rt.GLOBALS.PIXI.Sprite(Rt);bt.sprite=Vt,bt.texture=Rt,bt.canvas=Et,this.setSpriteProperties(bt.sprite,bt.tileData.zoomLevel,bt.tileData.tilePos,bt.mirrored),vt.removeChildren(),vt.addChild(bt.sprite)}this.renderingTiles.delete(bt.tileId)}return ht}()},{key:"renderTile",value:function(){function ht(bt){var kt=this,vt=this.updateValueScale(),Et=(0,v.default)(vt,1),Rt=Et[0],Vt=0;if(this.renderingTiles.add(bt.tileId),this.tilesetInfo.tile_size&&bt.tileData.dense.length<this.tilesetInfo.tile_size){var ee=new Float32Array(this.tilesetInfo.tile_size);ee.fill(NaN),ee.set(bt.tileData.dense),bt.tileData.dense=ee}Y.tileProxy.tileDataToPixData(bt,Rt,this.limitedValueScale.domain(),Vt,this.colorScale,function(Tt){return kt.pixDataFunction(bt,Tt)},this.mirrorTiles()&&!bt.mirrored&&bt.tileData.tilePos[0]===bt.tileData.tilePos[1],this.options.extent==="upper-right"&&bt.tileData.tilePos[0]===bt.tileData.tilePos[1],this.options.zeroValueColor?(0,V.colorToRgba)(this.options.zeroValueColor):void 0,{selectedRows:this.options.selectRows,selectedRowsAggregationMode:this.options.selectRowsAggregationMode,selectedRowsAggregationWithRelativeHeight:this.options.selectRowsAggregationWithRelativeHeight,selectedRowsAggregationMethod:this.options.selectRowsAggregationMethod})}return ht}()},{key:"remove",value:function(){function ht(){this.gMain.remove(),this.gMain=null,(0,M.default)(ut.prototype.__proto__||(0,T.default)(ut.prototype),"remove",this).call(this)}return ht}()},{key:"refScalesChanged",value:function(){function ht(bt,kt){var vt=this;(0,M.default)(ut.prototype.__proto__||(0,T.default)(ut.prototype),"refScalesChanged",this).call(this,bt,kt),(0,V.objVals)(this.fetchedTiles).filter(function(Et){return Et.sprite}).forEach(function(Et){return vt.setSpriteProperties(Et.sprite,Et.tileData.zoomLevel,Et.tileData.tilePos,Et.mirrored)})}return ht}()},{key:"superSVG",value:function(){function ht(){return(0,M.default)(ut.prototype.__proto__||(0,T.default)(ut.prototype),"exportSVG",this).call(this)}return ht}()},{key:"exportSVG",value:function(){function ht(){var bt=null,kt=null;if((0,M.default)(ut.prototype.__proto__||(0,T.default)(ut.prototype),"exportSVG",this)){var vt=(0,M.default)(ut.prototype.__proto__||(0,T.default)(ut.prototype),"exportSVG",this).call(this),Et=(0,v.default)(vt,2);kt=Et[0],bt=Et[1]}else kt=document.createElement("g"),bt=kt;var Rt=document.createElement("g");bt.appendChild(Rt),Rt.setAttribute("transform","translate("+String(this.pMain.position.x)+","+String(this.pMain.position.y)+") scale("+String(this.pMain.scale.x)+","+String(this.pMain.scale.y)+")");var Vt=!0,ee=!1,Tt=void 0;try{for(var _t=(0,s.default)(this.visibleAndFetchedTiles()),zt;!(Vt=(zt=_t.next()).done);Vt=!0){var oe=zt.value,$t=oe.sprite.rotation*180/Math.PI,pe=document.createElement("g");pe.setAttribute("transform","translate("+String(oe.sprite.x)+","+String(oe.sprite.y)+") rotate("+$t+") scale("+String(oe.sprite.scale.x)+","+String(oe.sprite.scale.y)+")");var Nt=document.createElement("image");Nt.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",oe.canvas.toDataURL()),Nt.setAttribute("width",oe.canvas.width),Nt.setAttribute("height",oe.canvas.height),Nt.setAttribute("style","image-rendering: pixelated"),pe.appendChild(Nt),Rt.appendChild(pe)}}catch(Gt){ee=!0,Tt=Gt}finally{try{!Vt&&_t.return&&_t.return()}finally{if(ee)throw Tt}}var se=this.exportColorBarSVG();return bt.appendChild(se),[kt,kt]}return ht}()},{key:"getVisiblePartOfUppLeftTile",value:function(){function ht(){var bt=this.visibleAndFetchedTiles().map(function(pe){var Nt=pe.mirrored?[pe.tileData.tilePos[1],pe.tileData.tilePos[0]]:pe.tileData.tilePos;return[Nt[0],Nt[1],pe.tileId]});if(bt.length===0)return null;for(var kt=bt[0],vt=0;vt<bt.length;vt++){var Et=bt[vt];(Et[0]<kt[0]||Et[1]<kt[1])&&(kt=Et)}var Rt=Math.min(ft.NUM_PRECOMP_SUBSETS_PER_2D_TTILE,this.binsPerTile()),Vt=this.binsPerTile()/Rt,ee=this.visibleAndFetchedTiles().filter(function(pe){return pe.tileId===kt[2]})[0],Tt=this.getIndicesOfVisibleDataInTile(ee),_t=Tt[0],zt=Tt[1],oe=_t-_t%Vt,$t=zt-zt%Vt;return[ee.tileId,oe,$t]}return ht}()},{key:"getIndicesOfVisibleDataInTile",value:function(){function ht(bt){var kt=this._xScale.range(),vt=this._yScale.range(),Et=bt.mirrored?[bt.tileData.tilePos[1],bt.tileData.tilePos[0]]:bt.tileData.tilePos,Rt=this.getTilePosAndDimensions(bt.tileData.zoomLevel,Et,this.binsPerTile()),Vt=Rt.tileX,ee=Rt.tileY,Tt=Rt.tileWidth,_t=Rt.tileHeight,zt=(0,F.scaleLinear)().domain([0,this.binsPerTile()]).range([Vt,Vt+Tt]),oe=Math.max(0,Math.round(zt.invert(this._xScale.invert(kt[0])))-1),$t=Math.min(this.binsPerTile(),Math.round(zt.invert(this._xScale.invert(kt[1])))),pe=(0,F.scaleLinear)().domain([0,this.binsPerTile()]).range([ee,ee+_t]),Nt=Math.max(0,Math.round(pe.invert(this._yScale.invert(vt[0])))-1),se=Math.min(this.binsPerTile(),Math.round(pe.invert(this._yScale.invert(vt[1])))),Gt=bt.mirrored&&Et[0]!==Et[1]?[Nt,oe,se,$t]:[oe,Nt,$t,se];return Gt}return ht}()},{key:"minVisibleValue",value:function(){function ht(){var bt=this,kt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,vt=this.visibleAndFetchedTiles().map(function(Rt){if(Rt.tileData.denseDataExtrema===void 0)return null;var Vt=bt.getIndicesOfVisibleDataInTile(Rt);return Rt.tileData.denseDataExtrema.getMinNonZeroInSubset(Vt)});if(vt.length===0&&this.valueScaleMax===null)return null;var Et=Math.min.apply(null,vt);return Et===e.default?(0,M.default)(ut.prototype.__proto__||(0,T.default)(ut.prototype),"minVisibleValue",this).call(this,kt):kt?Et:this.valueScaleMin!==null?this.valueScaleMin:Et}return ht}()},{key:"maxVisibleValue",value:function(){function ht(){var bt=this,kt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,vt=this.visibleAndFetchedTiles().map(function(Rt){if(Rt.tileData.denseDataExtrema===void 0)return null;var Vt=bt.getIndicesOfVisibleDataInTile(Rt);return Rt.tileData.denseDataExtrema.getMaxNonZeroInSubset(Vt)});if(vt.length===0&&this.valueScaleMax===null)return null;var Et=Math.max.apply(null,vt);return Et===a.default?(0,M.default)(ut.prototype.__proto__||(0,T.default)(ut.prototype),"maxVisibleValue",this).call(this,kt):kt?Et:this.valueScaleMax!==null?this.valueScaleMax:Et}return ht}()},{key:"zoomed",value:function(){function ht(bt,kt,vt,Et,Rt){if(!this.brushing){(0,M.default)(ut.prototype.__proto__||(0,T.default)(ut.prototype),"zoomed",this).call(this,bt,kt),this.pMain.position.x=Et,this.pMain.position.y=Rt,this.pMain.scale.x=vt,this.pMain.scale.y=vt;var Vt=this.isValueScaleLocked();if(this.continuousScaling&&this.minValue()!==void 0&&this.maxValue()!==void 0){var ee=(0,y.default)(this.getVisiblePartOfUppLeftTile());if(this.valueScaleMin===null&&this.valueScaleMax===null&&!Vt&&ee!==this.prevIndUpperLeftTile){var Tt=this.minVisibleValue(),_t=this.maxVisibleValue(),zt=1e-6;Tt!==null&&_t!==null&&(Math.abs(this.minValue()-Tt)>zt||Math.abs(this.maxValue()-_t)>zt)&&(this.minValue(Tt),this.maxValue(_t),this.scheduleRerender()),this.prevIndUpperLeftTile=ee}Vt&&this.onValueScaleChanged()}this.mouseMoveZoomHandler()}}return ht}()},{key:"addTileId",value:function(){function ht(bt,kt,vt,Et,Rt){var Vt=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,ee=[kt,vt,Et];ee.mirrored=Vt,ee.dataTransform=Rt,bt.push(ee)}return ht}()},{key:"tilesToId",value:function(){function ht(bt,kt,vt){for(var Et=bt,Rt=kt,Vt=this.options&&this.options.dataTransform||"default",ee=[],Tt=0;Tt<Et.length;Tt++)for(var _t=0;_t<Rt.length;_t++)this.mirrorTiles()?(Et[Tt]>=Rt[_t]?this.options.extent!=="lower-left"&&this.addTileId(ee,vt,Rt[_t],Et[Tt],Vt,!0):this.options.extent!=="upper-right"&&this.addTileId(ee,vt,Et[Tt],Rt[_t],Vt),Et[Tt]===Rt[_t]&&this.options.extent==="lower-left"&&this.addTileId(ee,vt,Et[Tt],Rt[_t],Vt)):this.addTileId(ee,vt,Et[Tt],Rt[_t],Vt);return ee}return ht}()},{key:"calculateVisibleTiles",value:function(){function ht(){if(this.tilesetInfo){if(this.zoomLevel=this.calculateZoomLevel(),this.tilesetInfo.resolutions){var bt=this.tilesetInfo.resolutions.map(function(kt){return+kt}).sort(function(kt,vt){return vt-kt});this.xTiles=Y.tileProxy.calculateTilesFromResolution(bt[this.zoomLevel],this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),this.yTiles=Y.tileProxy.calculateTilesFromResolution(bt[this.zoomLevel],this._yScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0])}else this.xTiles=Y.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=Y.tileProxy.calculateTiles(this.zoomLevel,this._yScale,this.options.reverseYAxis?-this.tilesetInfo.max_pos[1]:this.tilesetInfo.min_pos[1],this.options.reverseYAxis?-this.tilesetInfo.min_pos[1]:this.tilesetInfo.max_pos[1],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width1||this.tilesetInfo.max_width);this.setVisibleTiles(this.tilesToId(this.xTiles,this.yTiles,this.zoomLevel))}}return ht}()},{key:"mirrorTiles",value:function(){function ht(){return!(this.tilesetInfo.mirror_tiles&&(this.tilesetInfo.mirror_tiles===!1||this.tilesetInfo.mirror_tiles==="false"))}return ht}()},{key:"getMouseOverHtml",value:function(){function ht(bt,kt){if(!this.options||!this.options.showTooltip||!this.tilesetInfo)return"";var vt=Y.tileProxy.calculateResolution(this.tilesetInfo,this.zoomLevel),Et=Math.max(this.tilesetInfo.max_pos[1]-this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[0]-this.tilesetInfo.min_pos[0]),Rt=Math.ceil(Math.log(Et/vt)/Math.log(10));this.setDataLensSize(1);var Vt=this._xScale.invert(bt),ee=this._yScale.invert(kt),Tt="<b>Position:</b> ";if(this.chromInfo){var _t=(0,V.absToChr)(Vt,this.chromInfo),zt=(0,V.absToChr)(ee,this.chromInfo),oe=function(){function pe(Nt){return(0,B.format)("."+String(Rt)+"s")(Nt)}return pe}();Tt+=String(_t[0])+":"+String(oe(_t[1]))+" & "+String(zt[0])+":"+String(oe(zt[1])),Tt+="<br/>"}var $t=null;try{$t=this.getVisibleRectangleData(bt,kt,1,1).get(0,0)}catch{return""}return this.options&&this.options.heatmapValueScaling==="log"?$t>0?Tt+"<b>Value:</b> 1e"+String((0,B.format)(".3f")(Math.log($t)/Math.log(10))):$t===0?Tt+"<b>Value:</b> 0":Tt+"<b>Value:</b> N/A":Tt+"<b>Value:</b> "+String((0,B.format)(".3f")($t))}return ht}()},{key:"getTilePosAndDimensions",value:function(){function ht(bt,kt,vt){var Et=vt||this.binsPerTile();if(this.tilesetInfo.resolutions){var Rt=this.tilesetInfo.resolutions.map(function(Ct){return+Ct}).sort(function(Ct,at){return at-Ct}),Vt=Rt[bt],ee=Vt*Et,Tt=ee,_t=Vt*Et*kt[0],zt=Vt*Et*kt[1];return{tileX:_t,tileY:zt,tileWidth:ee,tileHeight:Tt}}var oe=kt[0],$t=kt[1],pe=this.tilesetInfo.min_pos[0],Nt=this.options.reverseYAxis?-this.tilesetInfo.max_pos[1]:this.tilesetInfo.min_pos[1],se=this.tilesetInfo.max_width/Math.pow(2,bt),Gt=this.tilesetInfo.max_width/Math.pow(2,bt),gt=pe+oe*se,fe=Nt+$t*Gt;return{tileX:gt,tileY:fe,tileWidth:se,tileHeight:Gt}}return ht}()},{key:"calculateZoomLevel",value:function(){function ht(){var bt=this.tilesetInfo.min_pos[0],kt=this.tilesetInfo.max_pos[0],vt=this.tilesetInfo.min_pos[1],Et=this.tilesetInfo.max_pos[1],Rt=null;if(this.tilesetInfo.resolutions){var Vt=Y.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,bt,kt),ee=Y.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._yScale,vt,Et);Rt=Math.min(Vt,ee)}else{var Tt=Y.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.binsPerTile()),_t=Y.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1],this.binsPerTile());Rt=Math.max(Tt,_t),Rt=Math.min(Rt,this.maxZoom)}return this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?Rt=Math.min(this.options.maxZoom,Rt):console.error("Invalid maxZoom on track:",this)),Rt}return ht}()},{key:"tileToLocalId",value:function(){function ht(bt){return bt.dataTransform&&bt.dataTransform!=="default"?String(bt.join("."))+"."+String(bt.mirrored)+"."+String(bt.dataTransform):String(bt.join("."))+"."+String(bt.mirrored)}return ht}()},{key:"tileToRemoteId",value:function(){function ht(bt){return bt.dataTransform&&bt.dataTransform!=="default"?String(bt.join("."))+"."+String(bt.dataTransform):""+String(bt.join("."))}return ht}()},{key:"localToRemoteId",value:function(){function ht(bt){var kt=bt.split(".");return kt.slice(0,kt.length-1).join(".")}return ht}()}]),ut}(U.default);r.default=J},function(f,r,t){var n=t(243),a=t(244),l=typeof Float64Array<"u";function e(p,h){return p[0]-h[0]}function o(){var p=this.stride,h=new Array(p.length),v;for(v=0;v<h.length;++v)h[v]=[Math.abs(p[v]),v];h.sort(e);var x=new Array(h.length);for(v=0;v<x.length;++v)x[v]=h[v][1];return x}function s(p,h){var v=["View",h,"d",p].join("");h<0&&(v="View_Nil"+p);var x=p==="generic";if(h===-1){var y="function "+v+"(a){this.data=a;};	var proto="+v+".prototype;	proto.dtype='"+p+"';	proto.index=function(){return -1};	proto.size=0;	proto.dimension=-1;	proto.shape=proto.stride=proto.order=[];	proto.lo=proto.hi=proto.transpose=proto.step=	function(){return new "+v+"(this.data);};	proto.get=proto.set=function(){};	proto.pick=function(){return null};	return function construct_"+v+"(a){return new "+v+"(a);}",I=new Function(y);return I()}else if(h===0){var y="function "+v+"(a,d) {	this.data = a;	this.offset = d	};	var proto="+v+".prototype;	proto.dtype='"+p+"';	proto.index=function(){return this.offset};	proto.dimension=0;	proto.size=1;	proto.shape=	proto.stride=	proto.order=[];	proto.lo=	proto.hi=	proto.transpose=	proto.step=function "+v+"_copy() {	return new "+v+"(this.data,this.offset)	};	proto.pick=function "+v+"_pick(){	return TrivialArray(this.data);	};	proto.valueOf=proto.get=function "+v+"_get(){	return "+(x?"this.data.get(this.offset)":"this.data[this.offset]")+"};	proto.set=function "+v+"_set(v){	return "+(x?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"	};	return function construct_"+v+"(a,b,c,d){return new "+v+"(a,d)}",I=new Function("TrivialArray",y);return I(c[p][0])}var y=["'use strict'"],k=n(h),T=k.map(function(M){return"i"+M}),E="this.offset+"+k.map(function(M){return"this.stride["+M+"]*i"+M}).join("+"),_=k.map(function(M){return"b"+M}).join(","),A=k.map(function(M){return"c"+M}).join(",");y.push("function "+v+"(a,"+_+","+A+",d){this.data=a","this.shape=["+_+"]","this.stride=["+A+"]","this.offset=d|0}","var proto="+v+".prototype","proto.dtype='"+p+"'","proto.dimension="+h),y.push("Object.defineProperty(proto,'size',{get:function "+v+"_size(){	return "+k.map(function(M){return"this.shape["+M+"]"}).join("*"),"}})"),h===1?y.push("proto.order=[0]"):(y.push("Object.defineProperty(proto,'order',{get:"),h<4?(y.push("function "+v+"_order(){"),h===2?y.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):h===3&&y.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);	if(s0>s1){	if(s1>s2){	return [2,1,0];	}else if(s0>s2){	return [1,2,0];	}else{	return [1,0,2];	}	}else if(s0>s2){	return [2,0,1];	}else if(s2>s1){	return [0,1,2];	}else{	return [0,2,1];	}}})")):y.push("ORDER})")),y.push("proto.set=function "+v+"_set("+T.join(",")+",v){"),x?y.push("return this.data.set("+E+",v)}"):y.push("return this.data["+E+"]=v}"),y.push("proto.get=function "+v+"_get("+T.join(",")+"){"),x?y.push("return this.data.get("+E+")}"):y.push("return this.data["+E+"]}"),y.push("proto.index=function "+v+"_index(",T.join(),"){return "+E+"}"),y.push("proto.hi=function "+v+"_hi("+T.join(",")+"){return new "+v+"(this.data,"+k.map(function(M){return["(typeof i",M,"!=='number'||i",M,"<0)?this.shape[",M,"]:i",M,"|0"].join("")}).join(",")+","+k.map(function(M){return"this.stride["+M+"]"}).join(",")+",this.offset)}");var C=k.map(function(M){return"a"+M+"=this.shape["+M+"]"}),S=k.map(function(M){return"c"+M+"=this.stride["+M+"]"});y.push("proto.lo=function "+v+"_lo("+T.join(",")+"){var b=this.offset,d=0,"+C.join(",")+","+S.join(","));for(var P=0;P<h;++P)y.push("if(typeof i"+P+"==='number'&&i"+P+">=0){	d=i"+P+"|0;	b+=c"+P+"*d;	a"+P+"-=d}");y.push("return new "+v+"(this.data,"+k.map(function(M){return"a"+M}).join(",")+","+k.map(function(M){return"c"+M}).join(",")+",b)}"),y.push("proto.step=function "+v+"_step("+T.join(",")+"){var "+k.map(function(M){return"a"+M+"=this.shape["+M+"]"}).join(",")+","+k.map(function(M){return"b"+M+"=this.stride["+M+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var P=0;P<h;++P)y.push("if(typeof i"+P+"==='number'){	d=i"+P+"|0;	if(d<0){	c+=b"+P+"*(a"+P+"-1);	a"+P+"=ceil(-a"+P+"/d)	}else{	a"+P+"=ceil(a"+P+"/d)	}	b"+P+"*=d	}");y.push("return new "+v+"(this.data,"+k.map(function(M){return"a"+M}).join(",")+","+k.map(function(M){return"b"+M}).join(",")+",c)}");for(var O=new Array(h),R=new Array(h),P=0;P<h;++P)O[P]="a[i"+P+"]",R[P]="b[i"+P+"]";y.push("proto.transpose=function "+v+"_transpose("+T+"){"+T.map(function(M,H){return M+"=("+M+"===undefined?"+H+":"+M+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+v+"(this.data,"+O.join(",")+","+R.join(",")+",this.offset)}"),y.push("proto.pick=function "+v+"_pick("+T+"){var a=[],b=[],c=this.offset");for(var P=0;P<h;++P)y.push("if(typeof i"+P+"==='number'&&i"+P+">=0){c=(c+this.stride["+P+"]*i"+P+")|0}else{a.push(this.shape["+P+"]);b.push(this.stride["+P+"])}");y.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),y.push("return function construct_"+v+"(data,shape,stride,offset){return new "+v+"(data,"+k.map(function(M){return"shape["+M+"]"}).join(",")+","+k.map(function(M){return"stride["+M+"]"}).join(",")+",offset)}");var I=new Function("CTOR_LIST","ORDER",y.join(`
`));return I(c[p],o)}function u(p){if(a(p))return"buffer";if(l)switch(Object.prototype.toString.call(p)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(p)?"array":"generic"}var c={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};function m(p,h,v,x){if(p===void 0){var A=c.array[0];return A([])}else typeof p=="number"&&(p=[p]);h===void 0&&(h=[p.length]);var y=h.length;if(v===void 0){v=new Array(y);for(var k=y-1,T=1;k>=0;--k)v[k]=T,T*=h[k]}if(x===void 0){x=0;for(var k=0;k<y;++k)v[k]<0&&(x-=(h[k]-1)*v[k])}for(var E=u(p),_=c[E];_.length<=y+1;)_.push(s(E,_.length-1));var A=_[y+1];return A(p,h,v,x)}f.exports=m},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(25),a=y(n),l=t(63),e=y(l),o=t(55),s=y(o),u=t(248),c=y(u),m=t(3),p=y(m),h=t(4),v=y(h),x=t(114);function y(T){return T&&T.__esModule?T:{default:T}}var k=function(){function T(E){(0,p.default)(this,T),this.epsilon=1e-6,this.data=E,this.tileSize=this.data.length,this.paddedTileSize=Math.pow(2,Math.ceil((0,c.default)(this.tileSize))),this.numSubsets=Math.min(x.NUM_PRECOMP_SUBSETS_PER_1D_TTILE,this.paddedTileSize),this.subsetSize=this.paddedTileSize/this.numSubsets,this.subsetMinimums=this.computeSubsetNonZeroMinimums(),this.subsetMaximums=this.computeSubsetNonZeroMaximums(),this.minNonZeroInTile=this.getMinNonZeroInTile(),this.maxNonZeroInTile=this.getMaxNonZeroInTile()}return(0,v.default)(T,[{key:"getMinNonZeroInSubset",value:function(){function E(_){var A=_[0],C=_[1],S=s.default;if(A===0&&C===this.tileSize)return this.minNonZeroInTile;var P=Math.ceil(A/this.subsetSize),O=Math.floor((C-1)/this.subsetSize);return P>=O?this.minNonZero(this.data,A,C):(A<P*this.subsetSize&&(S=Math.min(S,this.minNonZero(this.data,A,P*this.subsetSize))),S=Math.min(S,this.minNonZero(this.subsetMinimums,P,O)),C>O*this.subsetSize&&(S=Math.min(S,this.minNonZero(this.data,O*this.subsetSize,C))),S)}return E}()},{key:"getMaxNonZeroInSubset",value:function(){function E(_){var A=_[0],C=_[1],S=e.default;if(A===0&&C===this.tileSize)return this.maxNonZeroInTile;var P=Math.ceil(A/this.subsetSize),O=Math.floor((C-1)/this.subsetSize);return P>=O?this.maxNonZero(this.data,A,C):(A<P*this.subsetSize&&(S=Math.max(S,this.maxNonZero(this.data,A,P*this.subsetSize))),S=Math.max(S,this.maxNonZero(this.subsetMaximums,P,O)),C>O*this.subsetSize&&(S=Math.max(S,this.maxNonZero(this.data,O*this.subsetSize,C))),S)}return E}()},{key:"computeSubsetNonZeroMinimums",value:function(){function E(){for(var _=[],A=0;A<this.numSubsets;A++){for(var C=s.default,S=0;S<this.subsetSize;S++){var P=this.data[A*this.subsetSize+S];P!==void 0&&(P<this.epsilon&&P>-this.epsilon||P<C&&(C=P))}_.push(C)}return _}return E}()},{key:"computeSubsetNonZeroMaximums",value:function(){function E(){for(var _=[],A=0;A<this.numSubsets;A++){for(var C=e.default,S=0;S<this.subsetSize;S++){var P=this.data[A*this.subsetSize+S];P!==void 0&&(P<this.epsilon&&P>-this.epsilon||P>C&&(C=P))}_.push(C)}return _}return E}()},{key:"getMinNonZeroInTile",value:function(){function E(){return Math.min.apply(Math,(0,a.default)(this.subsetMinimums))}return E}()},{key:"getMaxNonZeroInTile",value:function(){function E(){return Math.max.apply(Math,(0,a.default)(this.subsetMaximums))}return E}()},{key:"minNonZero",value:function(){function E(_,A,C){for(var S=s.default,P=A;P<C;P++){var O=_[P];O<this.epsilon&&O>-this.epsilon||O<S&&(S=O)}return S}return E}()},{key:"maxNonZero",value:function(){function E(_,A,C){for(var S=e.default,P=A;P<C;P++){var O=_[P];O<this.epsilon&&O>-this.epsilon||O>S&&(S=O)}return S}return E}()}]),T}();r.default=k},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(63),a=T(n),l=t(55),e=T(l),o=t(95),s=T(o),u=t(251),c=T(u),m=t(3),p=T(m),h=t(4),v=T(h),x=t(136),y=T(x),k=t(114);function T(_){return _&&_.__esModule?_:{default:_}}var E=function(){function _(A){(0,p.default)(this,_),this.epsilon=1e-6,this.tileSize=Math.sqrt(A.length),(0,c.default)(this.tileSize)||console.error("The DenseDataExtrema2D module only works for data of quadratic length."),this.numSubsets=Math.min(k.NUM_PRECOMP_SUBSETS_PER_2D_TTILE,this.tileSize),this.subsetSize=this.tileSize/this.numSubsets;var C=(0,y.default)((0,s.default)(A),[this.tileSize,this.tileSize]);this.subsetMinimums=this.computeSubsetNonZeroMinimums(C),this.subsetMaximums=this.computeSubsetNonZeroMaximums(C),this.minNonZeroInTile=this.getMinNonZeroInTile(),this.maxNonZeroInTile=this.getMaxNonZeroInTile()}return(0,v.default)(_,[{key:"getMinNonZeroInSubset",value:function(){function A(C){var S=C[0],P=C[1],O=C[2],R=C[3],I=Math.floor(P/this.subsetSize),M=Math.floor(S/this.subsetSize),H=Math.ceil((R+1)/this.subsetSize)-I,L=Math.ceil((O+1)/this.subsetSize)-M,D=this.getMinNonZeroInNdarraySubset(this.subsetMinimums,I,M,L,H);return D}return A}()},{key:"getMaxNonZeroInSubset",value:function(){function A(C){var S=C[0],P=C[1],O=C[2],R=C[3],I=Math.floor(P/this.subsetSize),M=Math.floor(S/this.subsetSize),H=Math.ceil((R+1)/this.subsetSize)-I,L=Math.ceil((O+1)/this.subsetSize)-M,D=this.getMaxNonZeroInNdarraySubset(this.subsetMaximums,I,M,L,H);return D}return A}()},{key:"computeSubsetNonZeroMinimums",value:function(){function A(C){var S=new Array(Math.pow(this.numSubsets,2));S=(0,y.default)(S,[this.numSubsets,this.numSubsets]);for(var P=0;P<this.numSubsets;P++)for(var O=0;O<this.numSubsets;O++){var R=this.getMinNonZeroInNdarraySubset(C,P*this.subsetSize,O*this.subsetSize,this.subsetSize,this.subsetSize);S.set(P,O,R)}return S}return A}()},{key:"computeSubsetNonZeroMaximums",value:function(){function A(C){var S=new Array(Math.pow(this.numSubsets,2));S=(0,y.default)(S,[this.numSubsets,this.numSubsets]);for(var P=0;P<this.numSubsets;P++)for(var O=0;O<this.numSubsets;O++){var R=this.getMaxNonZeroInNdarraySubset(C,P*this.subsetSize,O*this.subsetSize,this.subsetSize,this.subsetSize);S.set(P,O,R)}return S}return A}()},{key:"getMinNonZeroInNdarraySubset",value:function(){function A(C,S,P,O,R){for(var I=e.default,M=0;M<O;M++)for(var H=0;H<R;H++){var L=C.get(S+H,P+M);L<this.epsilon&&L>-this.epsilon||L<I&&(I=L)}return I}return A}()},{key:"getMaxNonZeroInNdarraySubset",value:function(){function A(C,S,P,O,R){for(var I=a.default,M=0;M<O;M++)for(var H=0;H<R;H++){var L=C.get(S+H,P+M);L<this.epsilon&&L>-this.epsilon||L>I&&(I=L)}return I}return A}()},{key:"mirrorPrecomputedExtrema",value:function(){function A(){for(var C=1;C<this.numSubsets;C++)for(var S=0;S<C;S++)this.subsetMinimums.set(S,C,this.subsetMinimums.get(C,S)),this.subsetMaximums.set(S,C,this.subsetMaximums.get(C,S))}return A}()},{key:"getMinNonZeroInTile",value:function(){function A(){return this.getMinNonZeroInNdarraySubset(this.subsetMinimums,0,0,this.numSubsets,this.numSubsets)}return A}()},{key:"getMaxNonZeroInTile",value:function(){function A(){return this.getMaxNonZeroInNdarraySubset(this.subsetMaximums,0,0,this.numSubsets,this.numSubsets)}return A}()}]),_}();r.default=E},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function(a,l){return a.reduce(function(e,o){return e+(Array.isArray(o)&&l?o.length:1)},0)};r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(19),a=v(n),l=t(30),e=v(l),o=t(3),s=v(o),u=t(4),c=v(u),m=t(8),p=t(20),h=t(10);function v(y){return y&&y.__esModule?y:{default:y}}var x=function(){function y(k){(0,s.default)(this,y),this.chromInfo=k,this.chromInfoBisector=(0,m.bisector)(function(T){return T.pos}).left}return(0,c.default)(y,[{key:"scalesToPositionText",value:function(){function k(T,E){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.chromInfo===null||!T||!E)return"";var A=(0,h.absToChr)(T.domain()[0],this.chromInfo),C=(0,h.absToChr)(T.domain()[1],this.chromInfo),S=(0,h.absToChr)(E.domain()[0],this.chromInfo),P=(0,h.absToChr)(E.domain()[1],this.chromInfo),O=null,R=(0,p.format)(",d");return A[0]!==C[0]?O=String(A[0])+":"+String(R(Math.floor(A[1])))+"-"+String(C[0])+":"+String(R(Math.ceil(C[1]))):O=String(A[0])+":"+String(R(Math.floor(A[1])))+"-"+String(R(Math.ceil(C[1]))),_&&(S[0]!==P[0]?O+=" & "+String(S[0])+":"+String(R(Math.floor(S[1])))+"-"+String(P[0])+":"+String(R(Math.ceil(P[1]))):O+=" & "+String(S[0])+":"+String(R(Math.floor(S[1])))+"-"+String(R(Math.ceil(P[1])))),(A[2]<=0||C[2]>0||_&&(S[2]<=0||P[2]>0))&&(O+=" [offset "+String(A[2])+","+String(C[2]),_&&(O+=":"+String(S[2])+","+String(P[2])),O+="]"),O}return k}()},{key:"convertNumberNotation",value:function(){function k(T){var E=T;if(!E.includes("M",E.length-1)&&!E.includes("K",E.length-1))return E;var _=0,A=0;if(E.includes("M",E.length-1)?(_=6,E=E.replace("M","")):(_=3,E=E.replace("K","")),(0,e.default)(+E))return T;E=(+E).toString(),E.includes(".")&&(A=E.length-1-E.indexOf("."),E=(+E.replace(".","")).toString());var C=_-A;return C<0?T:(E+="0".repeat(C),E)}return k}()},{key:"parsePosition",value:function(){function k(T){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,_=T.split(":"),A=null,C=0;_.length>1?(A=_[0],C=+this.convertNumberNotation(_[1].replace(/,/g,""))):_[0]in this.chromInfo.chrPositions?(A=_[0],C=0,E!==null&&(C=+this.chromInfo.chromLengths[A])):(C=+this.convertNumberNotation(_[0].replace(/,/g,"")),A=null,E&&(A=E));var S=null;return A===null?(A=E,S=C):A in this.chromInfo.chrPositions&&(S=this.chromInfo.chrPositions[A].pos+C),[A,C,S]}return k}()},{key:"matchRangesToLarger",value:function(){function k(T,E){if(T[1]-T[0]<E[1]-E[0]){var _=E[1]-E[0]-(T[1]-T[0]);return[[T[0]-_/2,T[1]+_/2],E]}var A=T[1]-T[0]-(E[1]-E[0]);return[T,[E[0]-A/2,E[1]+A/2]]}return k}()},{key:"getSearchRange",value:function(){function k(T){if(T.length===0)return null;var E=T.split("-");E=E.filter(function(U){return U.length>0});var _=null;if(E[0].indexOf("-")===0&&(E[0]=E[0].slice(3,E[0].length)),E.length>1){var A=this.parsePosition(E[0]),C=(0,a.default)(A,3),S=C[0];C[1];var P=C[2],O=this.parsePosition(E[1],S),R=(0,a.default)(O,3),I=R[0];R[1];var M=R[2],H=[P,M],L=this.parsePosition(E[1]),D=(0,a.default)(L,3);S=D[0],D[1],P=D[2];var j=this.parsePosition(E[0],S),W=(0,a.default)(j,3);if(I=W[0],W[1],M=W[2],S===null&&I!==null){var B=this.parsePosition(E[1],I),F=(0,a.default)(B,3);S=F[0],F[1],P=F[2]}var N=[P,M];return N[1]-N[0]>H[1]-H[0]?N:H}if(E[0]in this.chromInfo.chrPositions){var X=+this.chromInfo.chrPositions[E[0]].pos;_=[X,X+ +this.chromInfo.chromLengths[E[0]]]}else{var G=this.parsePosition(E[0]),V=(0,a.default)(G,3);V[0],V[1];var z=V[2];_=[z-8e6,z+8e6]}return _[0]>_[1]?[_[1],_[0]]:_}return k}()},{key:"parseOffset",value:function(){function k(T){var E=T.split(":");if(E.length===0)return[[0,0],[0,0]];if(E.length===1){var _=E[0].split(",");return[[+_[0],+_[1]],[0,0]]}var A=E[0].split(","),C=E[1].split(",");return[[+A[0],+A[1]],[+C[0],+C[1]]]}return k}()},{key:"searchPosition",value:function(){function k(T){var E=null,_=null;T=T.trim();var A=/\[offset (.+?)\]/.exec(T),C=[[0,0],[0,0]];A&&(T=T.replace(A[0],""),C=this.parseOffset(A[1]));var S=T.split(" & ");if(S.length>1?(E=this.getSearchRange(S[0].split(" ")[0]),_=this.getSearchRange(S[1].split(" ")[0])):E=this.getSearchRange(S[0]),E!==null&&_!==null){var P=this.matchRangesToLarger(E,_),O=(0,a.default)(P,2);E=O[0],_=O[1]}return E&&(E[0]+=C[0][0],E[1]+=C[0][1]),_&&(_[0]+=C[1][0],_[1]+=C[1][1]),[E,_]}return k}()}]),y}();r.default=x},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(17),a=j(n),l=t(25),e=j(l),o=t(18),s=j(o),u=t(30),c=j(u),m=t(38),p=j(m),h=t(5),v=j(h),x=t(3),y=j(x),k=t(4),T=j(k),E=t(6),_=j(E),A=t(14),C=j(A),S=t(7),P=j(S),O=t(26),R=j(O),I=t(40),M=j(I),H=t(24),L=t(10),D=t(11);function j(B){return B&&B.__esModule?B:{default:B}}var W=function(B){(0,P.default)(F,B);function F(N,X){(0,y.default)(this,F);var G=(0,_.default)(this,(F.__proto__||(0,v.default)(F)).call(this,N,X)),V=N.animate;return G.visibleTiles=new p.default,G.visibleTileIds=new p.default,G.fetching=new p.default,G.fetchedTiles={},G.tileGraphics={},G.minX=typeof G.options.minPos<"u"&&!(0,c.default)(+G.options.minPos)?+G.options.minPos:-180,G.maxX=+G.options.maxPos||180,G.maxX=typeof G.options.maxPos<"u"&&!(0,c.default)(+G.options.maxPos)?+G.options.maxPos:180,G.minY=G.options.minY||G.minX,G.maxY=G.options.maxY||G.maxX,G.maxZoom=19,G.maxWidth=G.maxX-G.minX,G.animate=V,G.uuid=R.default.nice(),G.refreshTilesDebounced=(0,L.debounce)(G.refreshTiles.bind(G),D.ZOOM_DEBOUNCE),G}return(0,T.default)(F,[{key:"visibleAndFetchedIds",value:function(){function N(){var X=this;return(0,s.default)(this.fetchedTiles).filter(function(G){return X.visibleTileIds.has(G)})}return N}()},{key:"visibleAndFetchedTiles",value:function(){function N(){var X=this;return this.visibleAndFetchedIds().map(function(G){return X.fetchedTiles[G]})}return N}()},{key:"setVisibleTiles",value:function(){function N(X){var G=this;this.visibleTiles=X.map(function(V){return{tileId:G.tileToLocalId(V),remoteId:G.tileToRemoteId(V),mirrored:V.mirrored}}),this.visibleTileIds=new p.default(this.visibleTiles.map(function(V){return V.tileId}))}return N}()},{key:"removeAllTiles",value:function(){function N(){var X=new p.default((0,s.default)(this.fetchedTiles));this.removeTiles([].concat((0,e.default)(X)))}return N}()},{key:"refreshTiles",value:function(){function N(){var X=this;this.calculateVisibleTiles();for(var G=new p.default((0,s.default)(this.fetchedTiles)),V=[].concat((0,e.default)(this.visibleTiles)).filter(function(Z){return!X.fetching.has(Z.remoteId)&&!G.has(Z.tileId)}),z=0;z<V.length;z++)this.fetching.add(V[z].remoteId);var U=[].concat((0,e.default)(G)).filter(function(Z){return!X.visibleTileIds.has(Z)});this.removeTiles(U),this.fetchNewTiles(V)}return N}()},{key:"removeTiles",value:function(){function N(X){var G=this;X.length&&this.areAllVisibleTilesLoaded()&&(X.forEach(function(V){var z=V;G.destroyTile(G.fetchedTiles[z]),z in G.tileGraphics&&(G.pMain.removeChild(G.tileGraphics[z]),delete G.tileGraphics[z]),delete G.fetchedTiles[z]}),this.synchronizeTilesAndGraphics(),this.draw())}return N}()},{key:"tileToLocalId",value:function(){function N(X){return X.join(".")}return N}()},{key:"tileToRemoteId",value:function(){function N(X){return X.join(".")}return N}()},{key:"localToRemoteId",value:function(){function N(X){var G=X.split(".");return G.slice(0,G.length-1).join(".")}return N}()},{key:"calculateZoomLevel",value:function(){function N(){var X=H.tileProxy.calculateZoomLevel(this._xScale,this.minX,this.maxX),G=H.tileProxy.calculateZoomLevel(this._xScale,this.minY,this.maxY),V=Math.min(Math.max(X,G),this.maxZoom);return this.options.maxZoom&&(this.options.maxZoom>=0?V=Math.min(this.options.maxZoom,V):console.error("Invalid maxZoom on track:",this)),V}return N}()},{key:"calculateVisibleTiles",value:function(){function N(){this.zoomLevel=this.calculateZoomLevel(),this.xTiles=H.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.minX,this.maxX,this.maxZoom,this.maxWidth),this.yTiles=H.tileProxy.calculateTiles(this.zoomLevel,this._yScale,this.minY,this.maxY,this.maxZoom,this.maxWidth);for(var X=this.xTiles,G=this.yTiles,V=this.zoomLevel,z=[],U=0;U<X.length;U++)for(var Z=0;Z<G.length;Z++){var st=[V,X[U],G[Z]];z.push(st)}this.setVisibleTiles(z)}return N}()},{key:"zoomed",value:function(){function N(X,G,V,z,U){(0,C.default)(F.prototype.__proto__||(0,v.default)(F.prototype),"zoomed",this).call(this,X,G),this.xScale(X),this.yScale(G),this.pMain.position.x=z,this.pMain.position.y=U,this.pMain.scale.x=V,this.pMain.scale.y=V,this.refreshTilesDebounced(),this.draw()}return N}()},{key:"setPosition",value:function(){function N(X){(0,C.default)(F.prototype.__proto__||(0,v.default)(F.prototype),"setPosition",this).call(this,X)}return N}()},{key:"setDimensions",value:function(){function N(X){(0,C.default)(F.prototype.__proto__||(0,v.default)(F.prototype),"setDimensions",this).call(this,X)}return N}()},{key:"areAllVisibleTilesLoaded",value:function(){function N(){for(var X=new p.default((0,s.default)(this.fetchedTiles)),G=[].concat((0,e.default)(this.visibleTileIds)),V=0;V<G.length;V++)if(!X.has(G[V]))return!1;return!0}return N}()},{key:"allTilesLoaded",value:function(){function N(){}return N}()},{key:"minValue",value:function(){function N(X){return X&&(this.scale.minValue=X),this.scale.minValue}return N}()},{key:"maxValue",value:function(){function N(X){return X&&(this.scale.maxValue=X),this.scale.maxValue}return N}()},{key:"minRawValue",value:function(){function N(){return this.scale.minRawValue}return N}()},{key:"maxRawValue",value:function(){function N(){return this.scale.maxRawValue}return N}()},{key:"getTilePosAndDimensions",value:function(){function N(X,G){var V=this.maxWidth/Math.pow(2,X),z=V,U=this.minX+G[0]*V,Z=this.minY+G[1]*z;return{tileX:U,tileY:Z,tileWidth:V,tileHeight:z}}return N}()},{key:"setSpriteProperties",value:function(){function N(X,G,V){var z=this.getTilePosAndDimensions(G,V),U=z.tileX,Z=z.tileY,st=z.tileWidth,Y=z.tileHeight;X.x=this._refXScale(U),X.y=this._refYScale(Z);var rt=U+st,ft=Z+Y;X.width=this._refXScale(rt)-this._refXScale(U),X.height=this._refYScale(ft)-this._refYScale(Z)}return N}()},{key:"initTile",value:function(){function N(X){var G=new D.GLOBALS.PIXI.Texture(new D.GLOBALS.PIXI.BaseTexture(X.tileData.img)),V=new D.GLOBALS.PIXI.Sprite(G),z=X.graphics;X.sprite=V,this.setSpriteProperties(X.sprite,X.tileData.zoomLevel,X.tileData.tilePos),z.removeChildren(),z.addChild(X.sprite)}return N}()},{key:"updateTile",value:function(){function N(X){}return N}()},{key:"destroyTile",value:function(){function N(X){}return N}()},{key:"addMissingGraphics",value:function(){function N(){for(var X=(0,s.default)(this.fetchedTiles),G=0;G<X.length;G++)if(!(X[G]in this.tileGraphics)){var V=new D.GLOBALS.PIXI.Graphics;this.pMain.addChild(V),this.fetchedTiles[X[G]].graphics=V,this.initTile(this.fetchedTiles[X[G]]),this.tileGraphics[X[G]]=V}}return N}()},{key:"updateExistingGraphics",value:function(){function N(){for(var X=(0,s.default)(this.fetchedTiles),G=0;G<X.length;G++)this.updateTile(this.fetchedTiles[X[G]])}return N}()},{key:"synchronizeTilesAndGraphics",value:function(){function N(){this.addMissingGraphics(),this.updateExistingGraphics()}return N}()},{key:"loadTileData",value:function(){function N(X,G){var V=this.lruCache.get(X.tileId);return V||(V=G(X.data,X.type),this.lruCache.put(X.tileId,V)),V}return N}()},{key:"getTileUrl",value:function(){function N(X){var G=["a","b","c"],V=Math.floor(Math.random()*G.length),z="https://"+String(G[V])+".tile.openstreetmap.org/"+String(X[0])+"/"+String(X[1])+"/"+String(X[2])+".png";return z}return N}()},{key:"fetchNewTiles",value:function(){function N(X){var G=this;if(X.length>0){var V=[].concat((0,e.default)(new p.default(X.map(function(tt){return tt.remoteId})))),z=function(){function tt(K){var Q=K.split("."),ct=G.getTileUrl(Q),nt=new Image;nt.crossOrigin="Anonymous",nt.src=ct,nt.onload=function(){var ot={};ot[K]={tileId:K,img:nt,zoomLevel:+Q[0],tilePos:[+Q[1],+Q[2]],tileSrc:ct},G.receivedTiles(ot)}}return tt}(),U=!0,Z=!1,st=void 0;try{for(var Y=(0,a.default)(V),rt;!(U=(rt=Y.next()).done);U=!0){var ft=rt.value;z(ft)}}catch(tt){Z=!0,st=tt}finally{try{!U&&Y.return&&Y.return()}finally{if(Z)throw st}}}}return N}()},{key:"receivedTiles",value:function(){function N(X){for(var G=0;G<this.visibleTiles.length;G++){var V=this.visibleTiles[G].tileId;X[this.visibleTiles[G].remoteId]&&this.visibleTiles[G].remoteId in X&&(V in this.fetchedTiles||(this.fetchedTiles[V]=this.visibleTiles[G]),this.fetchedTiles[V].tileData=X[this.visibleTiles[G].remoteId])}for(var z in X)X[z]&&this.fetching.has(z)&&this.fetching.delete(z);this.synchronizeTilesAndGraphics(),this.refreshTiles(),this.draw(),this.animate()}return N}()},{key:"draw",value:function(){function N(){this.delayDrawing||(0,C.default)(F.prototype.__proto__||(0,v.default)(F.prototype),"draw",this).call(this)}return N}()},{key:"drawTile",value:function(){function N(){}return N}()},{key:"refScalesChanged",value:function(){function N(X,G){(0,C.default)(F.prototype.__proto__||(0,v.default)(F.prototype),"refScalesChanged",this).call(this,X,G);for(var V in this.fetchedTiles){var z=this.fetchedTiles[V];z.sprite&&this.setSpriteProperties(z.sprite,z.tileData.zoomLevel,z.tileData.tilePos)}}return N}()}]),F}(M.default);r.default=W},function(f,r){var t=9007199254740991,n=/^(?:0|[1-9]\d*)$/;function a(l,e){var o=typeof l;return e=e??t,!!e&&(o=="number"||o!="symbol"&&n.test(l))&&l>-1&&l%1==0&&l<e}f.exports=a},function(f,r){function t(n){return n}f.exports=t},function(f,r,t){var n=t(742),a=t(783),l=t(143),e=t(31),o=t(792);function s(u){return typeof u=="function"?u:u==null?l:typeof u=="object"?e(u)?a(u[0],u[1]):n(u):o(u)}f.exports=s},function(f,r,t){var n=t(194),a=1/0;function l(e){if(typeof e=="string"||n(e))return e;var o=e+"";return o=="0"&&1/e==-a?"-0":o}f.exports=l},function(f,r,t){var n=t(407),a=t(796),l=a(n);f.exports=l},function(f,r,t){var n=t(286),a=t(146),l=t(411),e=t(31);function o(s,u){var c=e(s)?n:a;return c(s,l(u))}f.exports=o},function(f,r,t){var n=t(453),a=t(457);function l(e,o){return delete f.exports[e],f.exports[e]=o,o}f.exports={Parser:n,Tokenizer:t(454),ElementType:t(123),DomHandler:a,get FeedHandler(){return l("FeedHandler",t(951))},get Stream(){return l("Stream",t(961))},get WritableStream(){return l("WritableStream",t(459))},get ProxyHandler(){return l("ProxyHandler",t(963))},get DomUtils(){return l("DomUtils",t(101))},get CollectingHandler(){return l("CollectingHandler",t(964))},DefaultHandler:a,get RssHandler(){return l("RssHandler",this.FeedHandler)},parseDOM:function(e,o){var s=new a(o);return new n(s,o).end(e),s.dom},parseFeed:function(e,o){var s=new f.exports.FeedHandler(o);return new n(s,o).end(e),s.dom},createDomStream:function(e,o,s){var u=new a(e,o,s);return new n(u,o)},EVENTS:{attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0}}},function(f,r,t){r.REPLACEMENT_CHARACTER="�",r.CODE_POINTS={EOF:-1,NULL:0,TABULATION:9,CARRIAGE_RETURN:13,LINE_FEED:10,FORM_FEED:12,SPACE:32,EXCLAMATION_MARK:33,QUOTATION_MARK:34,NUMBER_SIGN:35,AMPERSAND:38,APOSTROPHE:39,HYPHEN_MINUS:45,SOLIDUS:47,DIGIT_0:48,DIGIT_9:57,SEMICOLON:59,LESS_THAN_SIGN:60,EQUALS_SIGN:61,GREATER_THAN_SIGN:62,QUESTION_MARK:63,LATIN_CAPITAL_A:65,LATIN_CAPITAL_F:70,LATIN_CAPITAL_X:88,LATIN_CAPITAL_Z:90,GRAVE_ACCENT:96,LATIN_SMALL_A:97,LATIN_SMALL_F:102,LATIN_SMALL_X:120,LATIN_SMALL_Z:122,REPLACEMENT_CHARACTER:65533},r.CODE_POINT_SEQUENCES={DASH_DASH_STRING:[45,45],DOCTYPE_STRING:[68,79,67,84,89,80,69],CDATA_START_STRING:[91,67,68,65,84,65,91],CDATA_END_STRING:[93,93,62],SCRIPT_STRING:[115,99,114,105,112,116],PUBLIC_STRING:[80,85,66,76,73,67],SYSTEM_STRING:[83,89,83,84,69,77]}},function(f,r){var t=f.exports={},n,a;function l(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?n=setTimeout:n=l}catch{n=l}try{typeof clearTimeout=="function"?a=clearTimeout:a=e}catch{a=e}})();function o(k){if(n===setTimeout)return setTimeout(k,0);if((n===l||!n)&&setTimeout)return n=setTimeout,setTimeout(k,0);try{return n(k,0)}catch{try{return n.call(null,k,0)}catch{return n.call(this,k,0)}}}function s(k){if(a===clearTimeout)return clearTimeout(k);if((a===e||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(k);try{return a(k)}catch{try{return a.call(null,k)}catch{return a.call(this,k)}}}var u=[],c=!1,m,p=-1;function h(){!c||!m||(c=!1,m.length?u=m.concat(u):p=-1,u.length&&v())}function v(){if(!c){var k=o(h);c=!0;for(var T=u.length;T;){for(m=u,u=[];++p<T;)m&&m[p].run();p=-1,T=u.length}m=null,c=!1,s(k)}}t.nextTick=function(k){var T=new Array(arguments.length-1);if(arguments.length>1)for(var E=1;E<arguments.length;E++)T[E-1]=arguments[E];u.push(new x(k,T)),u.length===1&&!c&&o(v)};function x(k,T){this.fun=k,this.array=T}x.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function y(){}t.on=y,t.addListener=y,t.once=y,t.off=y,t.removeListener=y,t.removeAllListeners=y,t.emit=y,t.prependListener=y,t.prependOnceListener=y,t.listeners=function(k){return[]},t.binding=function(k){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(k){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},function(f,r,t){(function(n){function a(E){return Array.isArray?Array.isArray(E):T(E)==="[object Array]"}r.isArray=a;function l(E){return typeof E=="boolean"}r.isBoolean=l;function e(E){return E===null}r.isNull=e;function o(E){return E==null}r.isNullOrUndefined=o;function s(E){return typeof E=="number"}r.isNumber=s;function u(E){return typeof E=="string"}r.isString=u;function c(E){return typeof E=="symbol"}r.isSymbol=c;function m(E){return E===void 0}r.isUndefined=m;function p(E){return T(E)==="[object RegExp]"}r.isRegExp=p;function h(E){return typeof E=="object"&&E!==null}r.isObject=h;function v(E){return T(E)==="[object Date]"}r.isDate=v;function x(E){return T(E)==="[object Error]"||E instanceof Error}r.isError=x;function y(E){return typeof E=="function"}r.isFunction=y;function k(E){return E===null||typeof E=="boolean"||typeof E=="number"||typeof E=="string"||typeof E=="symbol"||typeof E>"u"}r.isPrimitive=k,r.isBuffer=n.isBuffer;function T(E){return Object.prototype.toString.call(E)}}).call(this,t(113).Buffer)},function(f,r,t){var n=t(198),a=t(299),l=t(470),e={tag:!0,script:!0,style:!0};r.isTag=function(s){return s.type&&(s=s.type),e[s]||!1},r.camelCase=function(s){return s.replace(/[_.-](\w|$)/g,function(u,c){return c.toUpperCase()})},r.cssCase=function(s){return s.replace(/[A-Z]/g,"-$&").toLowerCase()},r.domEach=function(s,u){for(var c=0,m=s.length;c<m&&u.call(s,c,s[c])!==!1;)++c;return s},r.cloneDom=function(s,u){return u=l({},u,{_useHtmlParser2:!0}),n(a(s,u),u,!1).children};var o=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/;r.isHtml=function(s){if(s.charAt(0)==="<"&&s.charAt(s.length-1)===">"&&s.length>=3)return!0;var u=o.exec(s);return!!(u&&u[1])}},function(f,r){f.exports={trueFunc:function(){return!0},falseFunc:function(){return!1}}},function(f,r,t){var n=t(52),a=t(53),l=t(488),e=t(498),o=e(),s=t(1051),u=a.call(Function.call,o);n(u,{getPolyfill:e,implementation:l,shim:s}),f.exports=u},function(f,r,t){var n=Function.prototype.toString,a=/^\s*class\b/,l=function(m){try{var p=n.call(m);return a.test(p)}catch{return!1}},e=function(m){try{return l(m)?!1:(n.call(m),!0)}catch{return!1}},o=Object.prototype.toString,s="[object Function]",u="[object GeneratorFunction]",c=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol";f.exports=function(m){if(!m||typeof m!="function"&&typeof m!="object")return!1;if(typeof m=="function"&&!m.prototype)return!0;if(c)return e(m);if(l(m))return!1;var p=o.call(m);return p===s||p===u}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function N(X,G){var V=[],z=!0,U=!1,Z=void 0;try{for(var st=X[Symbol.iterator](),Y;!(z=(Y=st.next()).done)&&(V.push(Y.value),!(G&&V.length===G));z=!0);}catch(rt){U=!0,Z=rt}finally{try{!z&&st.return&&st.return()}finally{if(U)throw Z}}return V}return function(X,G){if(Array.isArray(X))return X;if(Symbol.iterator in Object(X))return N(X,G);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();r.propsOfNode=A,r.childrenOfNode=C,r.hasClassName=S,r.treeForEach=P,r.treeFilter=O,r.findParentNode=R,r.pathToNode=M,r.parentsOfNode=H,r.nodeHasId=L,r.nodeMatchesObjectProps=B,r.getTextFromNode=F;var a=t(122),l=T(a),e=t(154),o=T(e),s=t(500),u=T(s),c=t(1056),m=T(c),p=t(314),h=T(p),v=t(497),x=T(v),y=t(103),k=T(y);function T(N){return N&&N.__esModule?N:{default:N}}function E(N,X,G){return X in N?Object.defineProperty(N,X,{value:G,enumerable:!0,configurable:!0,writable:!0}):N[X]=G,N}function _(N){if(Array.isArray(N)){for(var X=0,G=Array(N.length);X<N.length;X++)G[X]=N[X];return G}else return Array.from(N)}function A(N){return N&&N.props||{}}function C(N){if(!N)return[];var X=(0,k.default)(),G=X.isFragment&&typeof X.isFragment=="function",V=Array.isArray(N.rendered)?(0,o.default)(N.rendered,1):[N.rendered];return G?(0,o.default)(V.map(function(z){return X.isFragment(z)?C(z):z}),1):V}function S(N,X){var G=A(N).className||"";return G=String(G).replace(/\s/g," "),(0,x.default)(X)?X.test(G):(" "+String(G)+" ").indexOf(" "+String(X)+" ")>-1}function P(N,X){N&&X(N),C(N).forEach(function(G){return P(G,X)})}function O(N,X){var G=[];return P(N,function(V){X(V)&&G.push(V)}),G}function R(N,X){var G=O(N,function(V){return V.rendered?C(V).indexOf(X)!==-1:!1});return G[0]||null}function I(N,X){return N.filter(function(G){return O(G,X).length!==0})}function M(N,X){for(var G=[X],V=[],z=function(st){return N===st};G.length;){var U=G.pop(),Z=C(U);if(U===N)return I(V,z);V.push(U),Z.length===0&&V.pop(),G.push.apply(G,_(Z))}return null}function H(N,X){return(M(N,X)||[]).reverse()}function L(N,X){return A(N).id===X}var D={};function j(N){return typeof N<"u"?N:D}function W(N){return(0,u.default)(N).reduce(function(X,G){var V=n(G,2),z=V[0],U=V[1];return(0,l.default)({},X,E({},z,j(U)))},{})}function B(N,X){return(0,m.default)(A(N),W(X))}function F(N){return N==null?"":typeof N=="string"||typeof N=="number"?String(N):N.type&&typeof N.type=="function"?"<"+String(N.type.displayName||(0,h.default)(N.type))+" />":C(N).map(F).join("")}},function(f,r,t){t.r(r);var n=t(65),a=t(84),l=t(15),e=t(0),o=t(85),s=function(C){return function(){return C}};function u(C,S,P){this.target=C,this.type=S,this.transform=P}function c(C,S,P){this.k=C,this.x=S,this.y=P}c.prototype={constructor:c,scale:function(C){return C===1?this:new c(this.k*C,this.x,this.y)},translate:function(C,S){return C===0&S===0?this:new c(this.k,this.x+this.k*C,this.y+this.k*S)},apply:function(C){return[C[0]*this.k+this.x,C[1]*this.k+this.y]},applyX:function(C){return C*this.k+this.x},applyY:function(C){return C*this.k+this.y},invert:function(C){return[(C[0]-this.x)/this.k,(C[1]-this.y)/this.k]},invertX:function(C){return(C-this.x)/this.k},invertY:function(C){return(C-this.y)/this.k},rescaleX:function(C){return C.copy().domain(C.range().map(this.invertX,this).map(C.invert,C))},rescaleY:function(C){return C.copy().domain(C.range().map(this.invertY,this).map(C.invert,C))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var m=new c(1,0,0);p.prototype=c.prototype;function p(C){return C.__zoom||m}function h(){e.event.stopImmediatePropagation()}var v=function(){e.event.preventDefault(),e.event.stopImmediatePropagation()};function x(){return!e.event.button}function y(){var C=this,S,P;return C instanceof SVGElement?(C=C.ownerSVGElement||C,S=C.width.baseVal.value,P=C.height.baseVal.value):(S=C.clientWidth,P=C.clientHeight),[[0,0],[S,P]]}function k(){return this.__zoom||m}function T(){return-e.event.deltaY*(e.event.deltaMode?120:1)/500}function E(){return"ontouchstart"in this}function _(C,S,P){var O=C.invertX(S[0][0])-P[0][0],R=C.invertX(S[1][0])-P[1][0],I=C.invertY(S[0][1])-P[0][1],M=C.invertY(S[1][1])-P[1][1];return C.translate(R>O?(O+R)/2:Math.min(0,O)||Math.max(0,R),M>I?(I+M)/2:Math.min(0,I)||Math.max(0,M))}var A=function(){var C=x,S=y,P=_,O=T,R=E,I=[0,1/0],M=[[-1/0,-1/0],[1/0,1/0]],H=250,L=l.i,D=[],j=Object(n.a)("start","zoom","end"),W,B,F=500,N=150,X=0;function G(nt){nt.property("__zoom",k).on("wheel.zoom",rt).on("mousedown.zoom",ft).on("dblclick.zoom",tt).filter(R).on("touchstart.zoom",K).on("touchmove.zoom",Q).on("touchend.zoom touchcancel.zoom",ct).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}G.transform=function(nt,ot){var yt=nt.selection?nt.selection():nt;yt.property("__zoom",k),nt!==yt?Z(nt,ot):yt.interrupt().each(function(){st(this,arguments).start().zoom(null,typeof ot=="function"?ot.apply(this,arguments):ot).end()})},G.scaleBy=function(nt,ot){G.scaleTo(nt,function(){var yt=this.__zoom.k,pt=typeof ot=="function"?ot.apply(this,arguments):ot;return yt*pt})},G.scaleTo=function(nt,ot){G.transform(nt,function(){var yt=S.apply(this,arguments),pt=this.__zoom,dt=U(yt),mt=pt.invert(dt),q=typeof ot=="function"?ot.apply(this,arguments):ot;return P(z(V(pt,q),dt,mt),yt,M)})},G.translateBy=function(nt,ot,yt){G.transform(nt,function(){return P(this.__zoom.translate(typeof ot=="function"?ot.apply(this,arguments):ot,typeof yt=="function"?yt.apply(this,arguments):yt),S.apply(this,arguments),M)})},G.translateTo=function(nt,ot,yt){G.transform(nt,function(){var pt=S.apply(this,arguments),dt=this.__zoom,mt=U(pt);return P(m.translate(mt[0],mt[1]).scale(dt.k).translate(typeof ot=="function"?-ot.apply(this,arguments):-ot,typeof yt=="function"?-yt.apply(this,arguments):-yt),pt,M)})};function V(nt,ot){return ot=Math.max(I[0],Math.min(I[1],ot)),ot===nt.k?nt:new c(ot,nt.x,nt.y)}function z(nt,ot,yt){var pt=ot[0]-yt[0]*nt.k,dt=ot[1]-yt[1]*nt.k;return pt===nt.x&&dt===nt.y?nt:new c(nt.k,pt,dt)}function U(nt){return[(+nt[0][0]+ +nt[1][0])/2,(+nt[0][1]+ +nt[1][1])/2]}function Z(nt,ot,yt){nt.on("start.zoom",function(){st(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){st(this,arguments).end()}).tween("zoom",function(){var pt=this,dt=arguments,mt=st(pt,dt),q=S.apply(pt,dt),$=yt||U(q),J=Math.max(q[1][0]-q[0][0],q[1][1]-q[0][1]),lt=pt.__zoom,ut=typeof ot=="function"?ot.apply(pt,dt):ot,ht=L(lt.invert($).concat(J/lt.k),ut.invert($).concat(J/ut.k));return function(bt){if(bt===1)bt=ut;else{var kt=ht(bt),vt=J/kt[2];bt=new c(vt,$[0]-kt[0]*vt,$[1]-kt[1]*vt)}mt.zoom(null,bt)}})}function st(nt,ot){for(var yt=0,pt=D.length,dt;yt<pt;++yt)if((dt=D[yt]).that===nt)return dt;return new Y(nt,ot)}function Y(nt,ot){this.that=nt,this.args=ot,this.index=-1,this.active=0,this.extent=S.apply(nt,ot)}Y.prototype={start:function(){return++this.active===1&&(this.index=D.push(this)-1,this.emit("start")),this},zoom:function(nt,ot){return this.mouse&&nt!=="mouse"&&(this.mouse[1]=ot.invert(this.mouse[0])),this.touch0&&nt!=="touch"&&(this.touch0[1]=ot.invert(this.touch0[0])),this.touch1&&nt!=="touch"&&(this.touch1[1]=ot.invert(this.touch1[0])),this.that.__zoom=ot,this.emit("zoom"),this},end:function(){return--this.active===0&&(D.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(nt){Object(e.customEvent)(new u(G,nt,this.that.__zoom),j.apply,j,[nt,this.that,this.args])}};function rt(){if(!C.apply(this,arguments))return;var nt=st(this,arguments),ot=this.__zoom,yt=Math.max(I[0],Math.min(I[1],ot.k*Math.pow(2,O.apply(this,arguments)))),pt=Object(e.mouse)(this);if(nt.wheel)(nt.mouse[0][0]!==pt[0]||nt.mouse[0][1]!==pt[1])&&(nt.mouse[1]=ot.invert(nt.mouse[0]=pt)),clearTimeout(nt.wheel);else{if(ot.k===yt)return;nt.mouse=[pt,ot.invert(pt)],Object(o.interrupt)(this),nt.start()}v(),nt.wheel=setTimeout(dt,N),nt.zoom("mouse",P(z(V(ot,yt),nt.mouse[0],nt.mouse[1]),nt.extent,M));function dt(){nt.wheel=null,nt.end()}}function ft(){if(B||!C.apply(this,arguments))return;var nt=st(this,arguments),ot=Object(e.select)(e.event.view).on("mousemove.zoom",mt,!0).on("mouseup.zoom",q,!0),yt=Object(e.mouse)(this),pt=e.event.clientX,dt=e.event.clientY;Object(a.dragDisable)(e.event.view),h(),nt.mouse=[yt,this.__zoom.invert(yt)],Object(o.interrupt)(this),nt.start();function mt(){if(v(),!nt.moved){var $=e.event.clientX-pt,J=e.event.clientY-dt;nt.moved=$*$+J*J>X}nt.zoom("mouse",P(z(nt.that.__zoom,nt.mouse[0]=Object(e.mouse)(nt.that),nt.mouse[1]),nt.extent,M))}function q(){ot.on("mousemove.zoom mouseup.zoom",null),Object(a.dragEnable)(e.event.view,nt.moved),v(),nt.end()}}function tt(){if(C.apply(this,arguments)){var nt=this.__zoom,ot=Object(e.mouse)(this),yt=nt.invert(ot),pt=nt.k*(e.event.shiftKey?.5:2),dt=P(z(V(nt,pt),ot,yt),S.apply(this,arguments),M);v(),H>0?Object(e.select)(this).transition().duration(H).call(Z,dt,ot):Object(e.select)(this).call(G.transform,dt)}}function K(){if(C.apply(this,arguments)){var nt=st(this,arguments),ot=e.event.changedTouches,yt,pt=ot.length,dt,mt,q;for(h(),dt=0;dt<pt;++dt)mt=ot[dt],q=Object(e.touch)(this,ot,mt.identifier),q=[q,this.__zoom.invert(q),mt.identifier],nt.touch0?nt.touch1||(nt.touch1=q):(nt.touch0=q,yt=!0);if(W&&(W=clearTimeout(W),!nt.touch1)){nt.end(),q=Object(e.select)(this).on("dblclick.zoom"),q&&q.apply(this,arguments);return}yt&&(W=setTimeout(function(){W=null},F),Object(o.interrupt)(this),nt.start())}}function Q(){var nt=st(this,arguments),ot=e.event.changedTouches,yt=ot.length,pt,dt,mt,q;for(v(),W&&(W=clearTimeout(W)),pt=0;pt<yt;++pt)dt=ot[pt],mt=Object(e.touch)(this,ot,dt.identifier),nt.touch0&&nt.touch0[2]===dt.identifier?nt.touch0[0]=mt:nt.touch1&&nt.touch1[2]===dt.identifier&&(nt.touch1[0]=mt);if(dt=nt.that.__zoom,nt.touch1){var $=nt.touch0[0],J=nt.touch0[1],lt=nt.touch1[0],ut=nt.touch1[1],ht=(ht=lt[0]-$[0])*ht+(ht=lt[1]-$[1])*ht,bt=(bt=ut[0]-J[0])*bt+(bt=ut[1]-J[1])*bt;dt=V(dt,Math.sqrt(ht/bt)),mt=[($[0]+lt[0])/2,($[1]+lt[1])/2],q=[(J[0]+ut[0])/2,(J[1]+ut[1])/2]}else if(nt.touch0)mt=nt.touch0[0],q=nt.touch0[1];else return;nt.zoom("touch",P(z(dt,mt,q),nt.extent,M))}function ct(){var nt=st(this,arguments),ot=e.event.changedTouches,yt=ot.length,pt,dt;for(h(),B&&clearTimeout(B),B=setTimeout(function(){B=null},F),pt=0;pt<yt;++pt)dt=ot[pt],nt.touch0&&nt.touch0[2]===dt.identifier?delete nt.touch0:nt.touch1&&nt.touch1[2]===dt.identifier&&delete nt.touch1;nt.touch1&&!nt.touch0&&(nt.touch0=nt.touch1,delete nt.touch1),nt.touch0?nt.touch0[1]=this.__zoom.invert(nt.touch0[0]):nt.end()}return G.wheelDelta=function(nt){return arguments.length?(O=typeof nt=="function"?nt:s(+nt),G):O},G.filter=function(nt){return arguments.length?(C=typeof nt=="function"?nt:s(!!nt),G):C},G.touchable=function(nt){return arguments.length?(R=typeof nt=="function"?nt:s(!!nt),G):R},G.extent=function(nt){return arguments.length?(S=typeof nt=="function"?nt:s([[+nt[0][0],+nt[0][1]],[+nt[1][0],+nt[1][1]]]),G):S},G.scaleExtent=function(nt){return arguments.length?(I[0]=+nt[0],I[1]=+nt[1],G):[I[0],I[1]]},G.translateExtent=function(nt){return arguments.length?(M[0][0]=+nt[0][0],M[1][0]=+nt[1][0],M[0][1]=+nt[0][1],M[1][1]=+nt[1][1],G):[[M[0][0],M[0][1]],[M[1][0],M[1][1]]]},G.constrain=function(nt){return arguments.length?(P=nt,G):P},G.duration=function(nt){return arguments.length?(H=+nt,G):H},G.interpolate=function(nt){return arguments.length?(L=nt,G):L},G.on=function(){var nt=j.on.apply(j,arguments);return nt===j?G:nt},G.clickDistance=function(nt){return arguments.length?(X=(nt=+nt)*nt,G):Math.sqrt(X)},G};t.d(r,"zoom",function(){return A}),t.d(r,"zoomTransform",function(){return p}),t.d(r,"zoomIdentity",function(){return m})},function(f,r,t){var n=t(47),a=t(48),l=t(210)(!1),e=t(90)("IE_PROTO");f.exports=function(o,s){var u=a(o),c=0,m=[],p;for(p in u)p!=e&&n(u,p)&&m.push(p);for(;s.length>c;)n(u,p=s[c++])&&(~l(m,p)||m.push(p));return m}},function(f,r,t){f.exports=!t(36)&&!t(50)(function(){return Object.defineProperty(t(108)("div"),"a",{get:function(){return 7}}).a!=7})},function(f,r){f.exports=function(t,n){return{value:n,done:!!t}}},function(f,r,t){f.exports=t(43)},function(f,r,t){var n=t(32),a=t(39),l=t(60);f.exports=t(36)?Object.defineProperties:function(e,o){a(e);for(var s=l(o),u=s.length,c=0,m;u>c;)n.f(e,m=s[c++],o[m]);return e}},function(f,r,t){var n=t(23).document;f.exports=n&&n.documentElement},function(f,r){},function(f,r,t){var n=t(39);f.exports=function(a,l,e,o){try{return o?l(n(e)[0],e[1]):l(e)}catch(u){var s=a.return;throw s!==void 0&&n(s.call(a)),u}}},function(f,r,t){var n=t(51),a=t(21)("iterator"),l=Array.prototype;f.exports=function(e){return e!==void 0&&(n.Array===e||l[a]===e)}},function(f,r,t){var n=t(21)("iterator"),a=!1;try{var l=[7][n]();l.return=function(){a=!0},Array.from(l,function(){throw 2})}catch{}f.exports=function(e,o){if(!o&&!a)return!1;var s=!1;try{var u=[7],c=u[n]();c.next=function(){return{done:s=!0}},u[n]=function(){return c},e(u)}catch{}return s}},function(f,r,t){r.f=t(21)},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(29),a=k(n),l=t(1),e=k(l),o=t(2),s=k(o),u=t(170),c=k(u),m=t(332),p=k(m),h=t(572),v=k(h),x=t(132),y=k(x);t(574);function k(_){return _&&_.__esModule?_:{default:_}}var T={"../styles/Dialog.module.scss":{"dialog-header":"Dialog-module_dialog-header-2mk2M","dialog-main-max-height":"Dialog-module_dialog-main-max-height-1EAb2","dialog-footer":"Dialog-module_dialog-footer-1BnEv","dialog-footer-max-height":"Dialog-module_dialog-footer-max-height-KjDek"}},E=function(_){var A=function(){_.modal.close(),_.onCancel&&_.onCancel()},C=function(){_.modal.close(),_.onOkay&&_.onOkay()};return e.default.createElement(v.default,{closeButton:!1,hide:_.hide,maxHeight:_.maxHeight},e.default.createElement("header",{className:"Dialog-module_dialog-header-2mk2M"},e.default.createElement("h3",null,_.title),e.default.createElement(c.default,{onClick:A},e.default.createElement(p.default,null))),_.maxHeight?e.default.createElement("main",{className:(0,a.default)(_.maxHeight?"dialog-main-max-height":"",T)},_.children):e.default.createElement("main",null,_.children),e.default.createElement("footer",{className:(0,a.default)(_.maxHeight?"dialog-footer-max-height":"dialog-footer",T)},_.okayOnly?e.default.createElement("div",null):e.default.createElement(c.default,{onClick:A,shortcut:_.cancelShortcut},_.cancelTitle),e.default.createElement(c.default,{onClick:C,shortcut:_.okayShortcut},_.okayTitle)))};E.defaultProps={cancelTitle:"Cancel",hide:!1,maxHeight:!1,okayOnly:!1,okayTitle:"Ok"},E.propTypes={cancelShortcut:s.default.string,cancelTitle:s.default.string,children:s.default.func.isRequired,hide:s.default.bool,maxHeight:s.default.bool,modal:s.default.object.isRequired,okayShortcut:s.default.string,okayTitle:s.default.string,okayOnly:s.default.bool,onCancel:s.default.func.isRequired,onOkay:s.default.func.isRequired,title:s.default.string.isRequired},r.default=(0,y.default)(E)},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(1),a=o(n),l=t(2),e=o(l);t(570);function o(u){return u&&u.__esModule?u:{default:u}}var s=a.default.forwardRef(function(u,c){return a.default.createElement("button",{ref:c,disable:u.disable,onBlur:u.onBlur,onClick:u.onClick,onMouseDown:u.onMouseDown,onMouseOut:u.onMouseOut,onMouseUp:u.onMouseUp,className:"Button-module_button-3YXsQ",type:"button"},u.children,u.shortcut&&a.default.createElement("span",{className:"Button-module_button-shortcut-1zMAn"},u.shortcut))});s.defaultProps={onClick:function(){function u(){}return u}(),styleName:"",type:"button"},s.propTypes={children:e.default.func.isRequired,disable:e.default.func.isRequired,onBlur:e.default.func,onClick:e.default.func,onMouseDown:e.default.func,onMouseOut:e.default.func,onMouseUp:e.default.func,shortcut:e.default.string,type:e.default.string},r.default=s},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function(){};r.default=n},function(f,r,t){(function(n,a){var l=200,e="__lodash_hash_undefined__",o=1,s=2,u=9007199254740991,c="[object Arguments]",m="[object Array]",p="[object AsyncFunction]",h="[object Boolean]",v="[object Date]",x="[object Error]",y="[object Function]",k="[object GeneratorFunction]",T="[object Map]",E="[object Number]",_="[object Null]",A="[object Object]",C="[object Promise]",S="[object Proxy]",P="[object RegExp]",O="[object Set]",R="[object String]",I="[object Symbol]",M="[object Undefined]",H="[object WeakMap]",L="[object ArrayBuffer]",D="[object DataView]",j="[object Float32Array]",W="[object Float64Array]",B="[object Int8Array]",F="[object Int16Array]",N="[object Int32Array]",X="[object Uint8Array]",G="[object Uint8ClampedArray]",V="[object Uint16Array]",z="[object Uint32Array]",U=/[\\^$.*+?()[\]{}|]/g,Z=/^\[object .+?Constructor\]$/,st=/^(?:0|[1-9]\d*)$/,Y={};Y[j]=Y[W]=Y[B]=Y[F]=Y[N]=Y[X]=Y[G]=Y[V]=Y[z]=!0,Y[c]=Y[m]=Y[L]=Y[h]=Y[D]=Y[v]=Y[x]=Y[y]=Y[T]=Y[E]=Y[A]=Y[P]=Y[O]=Y[R]=Y[H]=!1;var rt=typeof n=="object"&&n&&n.Object===Object&&n,ft=typeof self=="object"&&self&&self.Object===Object&&self,tt=rt||ft||Function("return this")(),K=r&&!r.nodeType&&r,Q=K&&typeof a=="object"&&a&&!a.nodeType&&a,ct=Q&&Q.exports===K,nt=ct&&rt.process,ot=function(){try{return nt&&nt.binding&&nt.binding("util")}catch{}}(),yt=ot&&ot.isTypedArray;function pt(de,Te){for(var We=-1,fn=de==null?0:de.length,zn=0,On=[];++We<fn;){var qn=de[We];Te(qn,We,de)&&(On[zn++]=qn)}return On}function dt(de,Te){for(var We=-1,fn=Te.length,zn=de.length;++We<fn;)de[zn+We]=Te[We];return de}function mt(de,Te){for(var We=-1,fn=de==null?0:de.length;++We<fn;)if(Te(de[We],We,de))return!0;return!1}function q(de,Te){for(var We=-1,fn=Array(de);++We<de;)fn[We]=Te(We);return fn}function $(de){return function(Te){return de(Te)}}function J(de,Te){return de.has(Te)}function lt(de,Te){return de==null?void 0:de[Te]}function ut(de){var Te=-1,We=Array(de.size);return de.forEach(function(fn,zn){We[++Te]=[zn,fn]}),We}function ht(de,Te){return function(We){return de(Te(We))}}function bt(de){var Te=-1,We=Array(de.size);return de.forEach(function(fn){We[++Te]=fn}),We}var kt=Array.prototype,vt=Function.prototype,Et=Object.prototype,Rt=tt["__core-js_shared__"],Vt=vt.toString,ee=Et.hasOwnProperty,Tt=function(){var de=/[^.]+$/.exec(Rt&&Rt.keys&&Rt.keys.IE_PROTO||"");return de?"Symbol(src)_1."+de:""}(),_t=Et.toString,zt=RegExp("^"+Vt.call(ee).replace(U,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),oe=ct?tt.Buffer:void 0,$t=tt.Symbol,pe=tt.Uint8Array,Nt=Et.propertyIsEnumerable,se=kt.splice,Gt=$t?$t.toStringTag:void 0,gt=Object.getOwnPropertySymbols,fe=oe?oe.isBuffer:void 0,Ct=ht(Object.keys,Object),at=sn(tt,"DataView"),St=sn(tt,"Map"),jt=sn(tt,"Promise"),Zt=sn(tt,"Set"),ue=sn(tt,"WeakMap"),ce=sn(Object,"create"),It=Bn(at),Mt=Bn(St),Ut=Bn(jt),Kt=Bn(Zt),wt=Bn(ue),ye=$t?$t.prototype:void 0,we=ye?ye.valueOf:void 0;function Oe(de){var Te=-1,We=de==null?0:de.length;for(this.clear();++Te<We;){var fn=de[Te];this.set(fn[0],fn[1])}}function Ne(){this.__data__=ce?ce(null):{},this.size=0}function ze(de){var Te=this.has(de)&&delete this.__data__[de];return this.size-=Te?1:0,Te}function Ue(de){var Te=this.__data__;if(ce){var We=Te[de];return We===e?void 0:We}return ee.call(Te,de)?Te[de]:void 0}function Be(de){var Te=this.__data__;return ce?Te[de]!==void 0:ee.call(Te,de)}function Je(de,Te){var We=this.__data__;return this.size+=this.has(de)?0:1,We[de]=ce&&Te===void 0?e:Te,this}Oe.prototype.clear=Ne,Oe.prototype.delete=ze,Oe.prototype.get=Ue,Oe.prototype.has=Be,Oe.prototype.set=Je;function Xe(de){var Te=-1,We=de==null?0:de.length;for(this.clear();++Te<We;){var fn=de[Te];this.set(fn[0],fn[1])}}function pn(){this.__data__=[],this.size=0}function qt(de){var Te=this.__data__,We=$e(Te,de);if(We<0)return!1;var fn=Te.length-1;return We==fn?Te.pop():se.call(Te,We,1),--this.size,!0}function it(de){var Te=this.__data__,We=$e(Te,de);return We<0?void 0:Te[We][1]}function Xt(de){return $e(this.__data__,de)>-1}function te(de,Te){var We=this.__data__,fn=$e(We,de);return fn<0?(++this.size,We.push([de,Te])):We[fn][1]=Te,this}Xe.prototype.clear=pn,Xe.prototype.delete=qt,Xe.prototype.get=it,Xe.prototype.has=Xt,Xe.prototype.set=te;function ne(de){var Te=-1,We=de==null?0:de.length;for(this.clear();++Te<We;){var fn=de[Te];this.set(fn[0],fn[1])}}function Wt(){this.size=0,this.__data__={hash:new Oe,map:new(St||Xe),string:new Oe}}function he(de){var Te=tn(this,de).delete(de);return this.size-=Te?1:0,Te}function Dt(de){return tn(this,de).get(de)}function Ft(de){return tn(this,de).has(de)}function Yt(de,Te){var We=tn(this,de),fn=We.size;return We.set(de,Te),this.size+=We.size==fn?0:1,this}ne.prototype.clear=Wt,ne.prototype.delete=he,ne.prototype.get=Dt,ne.prototype.has=Ft,ne.prototype.set=Yt;function xt(de){var Te=-1,We=de==null?0:de.length;for(this.__data__=new ne;++Te<We;)this.add(de[Te])}function Bt(de){return this.__data__.set(de,e),this}function Qt(de){return this.__data__.has(de)}xt.prototype.add=xt.prototype.push=Bt,xt.prototype.has=Qt;function le(de){var Te=this.__data__=new Xe(de);this.size=Te.size}function ve(){this.__data__=new Xe,this.size=0}function _e(de){var Te=this.__data__,We=Te.delete(de);return this.size=Te.size,We}function Ae(de){return this.__data__.get(de)}function ge(de){return this.__data__.has(de)}function ke(de,Te){var We=this.__data__;if(We instanceof Xe){var fn=We.__data__;if(!St||fn.length<l-1)return fn.push([de,Te]),this.size=++We.size,this;We=this.__data__=new ne(fn)}return We.set(de,Te),this.size=We.size,this}le.prototype.clear=ve,le.prototype.delete=_e,le.prototype.get=Ae,le.prototype.has=ge,le.prototype.set=ke;function Ke(de,Te){var We=Qn(de),fn=!We&&tr(de),zn=!We&&!fn&&cr(de),On=!We&&!fn&&!zn&&Zn(de),qn=We||fn||zn||On,ar=qn?q(de.length,String):[],gr=ar.length;for(var nr in de)ee.call(de,nr)&&!(qn&&(nr=="length"||zn&&(nr=="offset"||nr=="parent")||On&&(nr=="buffer"||nr=="byteLength"||nr=="byteOffset")||yn(nr,gr)))&&ar.push(nr);return ar}function $e(de,Te){for(var We=de.length;We--;)if(Vn(de[We][0],Te))return We;return-1}function jn(de,Te,We){var fn=Te(de);return Qn(de)?fn:dt(fn,We(de))}function In(de){return de==null?de===void 0?M:_:Gt&&Gt in Object(de)?on(de):Hn(de)}function xn(de){return an(de)&&In(de)==c}function Un(de,Te,We,fn,zn){return de===Te?!0:de==null||Te==null||!an(de)&&!an(Te)?de!==de&&Te!==Te:cn(de,Te,We,fn,Un,zn)}function cn(de,Te,We,fn,zn,On){var qn=Qn(de),ar=Qn(Te),gr=qn?m:Ve(de),nr=ar?m:Ve(Te);gr=gr==c?A:gr,nr=nr==c?A:nr;var et=gr==A,Pt=nr==A,Ot=gr==nr;if(Ot&&cr(de)){if(!cr(Te))return!1;qn=!0,et=!1}if(Ot&&!et)return On||(On=new le),qn||Zn(de)?pr(de,Te,We,fn,zn,On):qe(de,Te,gr,We,fn,zn,On);if(!(We&o)){var nn=et&&ee.call(de,"__wrapped__"),kn=Pt&&ee.call(Te,"__wrapped__");if(nn||kn){var rr=nn?de.value():de,Yn=kn?Te.value():Te;return On||(On=new le),zn(rr,Yn,We,fn,On)}}return Ot?(On||(On=new le),ae(de,Te,We,fn,zn,On)):!1}function xr(de){if(!dr(de)||_n(de))return!1;var Te=br(de)?zt:Z;return Te.test(Bn(de))}function wr(de){return an(de)&&mr(de.length)&&!!Y[In(de)]}function fr(de){if(!gn(de))return Ct(de);var Te=[];for(var We in Object(de))ee.call(de,We)&&We!="constructor"&&Te.push(We);return Te}function pr(de,Te,We,fn,zn,On){var qn=We&o,ar=de.length,gr=Te.length;if(ar!=gr&&!(qn&&gr>ar))return!1;var nr=On.get(de);if(nr&&On.get(Te))return nr==Te;var et=-1,Pt=!0,Ot=We&s?new xt:void 0;for(On.set(de,Te),On.set(Te,de);++et<ar;){var nn=de[et],kn=Te[et];if(fn)var rr=qn?fn(kn,nn,et,Te,de,On):fn(nn,kn,et,de,Te,On);if(rr!==void 0){if(rr)continue;Pt=!1;break}if(Ot){if(!mt(Te,function(Yn,jr){if(!J(Ot,jr)&&(nn===Yn||zn(nn,Yn,We,fn,On)))return Ot.push(jr)})){Pt=!1;break}}else if(!(nn===kn||zn(nn,kn,We,fn,On))){Pt=!1;break}}return On.delete(de),On.delete(Te),Pt}function qe(de,Te,We,fn,zn,On,qn){switch(We){case D:if(de.byteLength!=Te.byteLength||de.byteOffset!=Te.byteOffset)return!1;de=de.buffer,Te=Te.buffer;case L:return!(de.byteLength!=Te.byteLength||!On(new pe(de),new pe(Te)));case h:case v:case E:return Vn(+de,+Te);case x:return de.name==Te.name&&de.message==Te.message;case P:case R:return de==Te+"";case T:var ar=ut;case O:var gr=fn&o;if(ar||(ar=bt),de.size!=Te.size&&!gr)return!1;var nr=qn.get(de);if(nr)return nr==Te;fn|=s,qn.set(de,Te);var et=pr(ar(de),ar(Te),fn,zn,On,qn);return qn.delete(de),et;case I:if(we)return we.call(de)==we.call(Te)}return!1}function ae(de,Te,We,fn,zn,On){var qn=We&o,ar=Ee(de),gr=ar.length,nr=Ee(Te),et=nr.length;if(gr!=et&&!qn)return!1;for(var Pt=gr;Pt--;){var Ot=ar[Pt];if(!(qn?Ot in Te:ee.call(Te,Ot)))return!1}var nn=On.get(de);if(nn&&On.get(Te))return nn==Te;var kn=!0;On.set(de,Te),On.set(Te,de);for(var rr=qn;++Pt<gr;){Ot=ar[Pt];var Yn=de[Ot],jr=Te[Ot];if(fn)var bi=qn?fn(jr,Yn,Ot,Te,de,On):fn(Yn,jr,Ot,de,Te,On);if(!(bi===void 0?Yn===jr||zn(Yn,jr,We,fn,On):bi)){kn=!1;break}rr||(rr=Ot=="constructor")}if(kn&&!rr){var Zr=de.constructor,pi=Te.constructor;Zr!=pi&&"constructor"in de&&"constructor"in Te&&!(typeof Zr=="function"&&Zr instanceof Zr&&typeof pi=="function"&&pi instanceof pi)&&(kn=!1)}return On.delete(de),On.delete(Te),kn}function Ee(de){return jn(de,Jr,He)}function tn(de,Te){var We=de.__data__;return dn(Te)?We[typeof Te=="string"?"string":"hash"]:We.map}function sn(de,Te){var We=lt(de,Te);return xr(We)?We:void 0}function on(de){var Te=ee.call(de,Gt),We=de[Gt];try{de[Gt]=void 0;var fn=!0}catch{}var zn=_t.call(de);return fn&&(Te?de[Gt]=We:delete de[Gt]),zn}var He=gt?function(de){return de==null?[]:(de=Object(de),pt(gt(de),function(Te){return Nt.call(de,Te)}))}:Cr,Ve=In;(at&&Ve(new at(new ArrayBuffer(1)))!=D||St&&Ve(new St)!=T||jt&&Ve(jt.resolve())!=C||Zt&&Ve(new Zt)!=O||ue&&Ve(new ue)!=H)&&(Ve=function(de){var Te=In(de),We=Te==A?de.constructor:void 0,fn=We?Bn(We):"";if(fn)switch(fn){case It:return D;case Mt:return T;case Ut:return C;case Kt:return O;case wt:return H}return Te});function yn(de,Te){return Te=Te??u,!!Te&&(typeof de=="number"||st.test(de))&&de>-1&&de%1==0&&de<Te}function dn(de){var Te=typeof de;return Te=="string"||Te=="number"||Te=="symbol"||Te=="boolean"?de!=="__proto__":de===null}function _n(de){return!!Tt&&Tt in de}function gn(de){var Te=de&&de.constructor,We=typeof Te=="function"&&Te.prototype||Et;return de===We}function Hn(de){return _t.call(de)}function Bn(de){if(de!=null){try{return Vt.call(de)}catch{}try{return de+""}catch{}}return""}function Vn(de,Te){return de===Te||de!==de&&Te!==Te}var tr=xn(function(){return arguments}())?xn:function(de){return an(de)&&ee.call(de,"callee")&&!Nt.call(de,"callee")},Qn=Array.isArray;function er(de){return de!=null&&mr(de.length)&&!br(de)}var cr=fe||di;function Kn(de,Te){return Un(de,Te)}function br(de){if(!dr(de))return!1;var Te=In(de);return Te==y||Te==k||Te==p||Te==S}function mr(de){return typeof de=="number"&&de>-1&&de%1==0&&de<=u}function dr(de){var Te=typeof de;return de!=null&&(Te=="object"||Te=="function")}function an(de){return de!=null&&typeof de=="object"}var Zn=yt?$(yt):wr;function Jr(de){return er(de)?Ke(de):fr(de)}function Cr(){return[]}function di(){return!1}a.exports=Kn}).call(this,t(27),t(173)(f))},function(f,r){f.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(44),a=k(n),l=t(18),e=k(l),o=t(29),s=k(o),u=t(2),c=k(u),m=t(1),p=k(m),h=t(125),v=t(78),x=k(v),y=t(11);t(606);function k(P){return P&&P.__esModule?P:{default:P}}var T={"../styles/TrackControl.module.scss":{"track-control":"TrackControl-module_track-control-2zDf3","track-control-vertical":"TrackControl-module_track-control-vertical-2McB_","track-control-dark":"TrackControl-module_track-control-dark-fP2uZ","track-control-active":"TrackControl-module_track-control-active-2JD9i TrackControl-module_track-control-2zDf3","track-control-left":"TrackControl-module_track-control-left-zHd9W","track-control-vertical-active":"TrackControl-module_track-control-vertical-active-1QCKn","track-control-padding-right":"TrackControl-module_track-control-padding-right-2p6Lp","track-control-button":"TrackControl-module_track-control-button-2fdIb","track-control-button-vertical":"TrackControl-module_track-control-button-vertical-1s22z"}},E=function(P){var O=P.isVisible?"track-control-active":"track-control";return O+=P.isAlignLeft?" track-control-left":"",O+=P.isVertical?" track-control-vertical":"",O+=P.paddingRight?" track-control-padding-right":"",P.theme===y.THEME_DARK&&(O+=" track-control-dark"),O},_=function(P){var O="track-control-button";return O+=P.isVertical?" track-control-button-vertical":"",O},A=null,C=null,S=function(P){(!P||!A||(0,e.default)(P).some(function(I){return A[I]!==P[I]}))&&(A=P,C=(0,h.SortableHandle)(function(){return p.default.createElement("svg",{style:(0,a.default)({height:"20px",width:"20px"},P.imgStyleMove),className:"no-zoom "+(0,s.default)(_(P),T)},p.default.createElement("title",null,"Move track"),p.default.createElement("use",{xlinkHref:"#move"}))}));var O=void 0,R=void 0;return p.default.createElement("div",{className:(0,s.default)(E(P),T)},P.isMoveable&&p.default.createElement(C,null),p.default.createElement("svg",{ref:function(){function I(M){O=M}return I}(),onClick:function(){function I(){P.onConfigTrackMenuOpened(P.uid,O.getBoundingClientRect())}return I}(),style:(0,a.default)({height:"20px",width:"20px"},P.imgStyleSettings),className:"no-zoom "+(0,s.default)(_(P),T)},p.default.createElement("title",null,"Configure track"),p.default.createElement("use",{xlinkHref:"#cog"})),P.onAddSeries&&p.default.createElement("svg",{onClick:function(){function I(){return P.onAddSeries(P.uid)}return I}(),style:(0,a.default)({height:"20px",width:"20px"},P.imgStyleAdd),className:"no-zoom "+(0,s.default)(_(P),T)},p.default.createElement("title",null,"Add series"),p.default.createElement("use",{xlinkHref:"#plus"})),p.default.createElement("svg",{ref:function(){function I(M){R=M}return I}(),onClick:function(){function I(){P.onCloseTrackMenuOpened(P.uid,R.getBoundingClientRect())}return I}(),style:(0,a.default)({height:"20px",width:"20px"},P.imgStyleClose),className:"no-zoom "+(0,s.default)(_(P),T)},p.default.createElement("title",null,"Close track"),p.default.createElement("use",{xlinkHref:"#cross"})))};S.propTypes={imgStyleAdd:c.default.object,imgStyleClose:c.default.object,imgStyleMove:c.default.object,imgStyleSettings:c.default.object,isAlignLeft:c.default.bool,isMoveable:c.default.bool,isVertical:c.default.bool,isVisible:c.default.bool,onConfigTrackMenuOpened:c.default.func,onCloseTrackMenuOpened:c.default.func,onAddSeries:c.default.func,paddingRight:c.default.bool,theme:c.default.symbol.isRequired,uid:c.default.string},r.default=(0,x.default)(S)},function(f,r,t){f.exports={"track-range-selection":"Track-module_track-range-selection-1yrDf","track-range-selection-active":"Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-primary":"Track-module_track-range-selection-active-primary-29M73 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-secondary":"Track-module_track-range-selection-active-secondary-1s0t5 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-group-inactive":"Track-module_track-range-selection-group-inactive-YNRM4","track-range-selection-group-brush-selection":"Track-module_track-range-selection-group-brush-selection-2VYDl"}},function(f,r,t){f.exports={"tiled-plot":"TiledPlot-module_tiled-plot-uFHiB",horizontalList:"TiledPlot-module_horizontalList-1c1P8",list:"TiledPlot-module_list-24zgV",stylizedList:"TiledPlot-module_stylizedList-Mt4JL",stylizedItem:"TiledPlot-module_stylizedItem-2bQBK",stylizedHelper:"TiledPlot-module_stylizedHelper-3IVEu",horizontalItem:"TiledPlot-module_horizontalItem-2-ZjU","resizable-track":"TiledPlot-module_resizable-track-2oLT9",domain:"TiledPlot-module_domain-qYw6K"}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(3),a=c(n),l=t(4),e=c(l),o=t(28),s=t(69),u=t(10);function c(p){return p&&p.__esModule?p:{default:p}}var m=function(){function p(h){var v=h.id,x=h.pubSub,y=h.getTheme;(0,a.default)(this,p),x?this.pubSub=x:this.pubSub=s.fake,this.id=v,this._xScale=(0,o.scaleLinear)(),this._yScale=(0,o.scaleLinear)(),this._refXScale=(0,o.scaleLinear)(),this._refYScale=(0,o.scaleLinear)(),this.position=[0,0],this.dimensions=[1,1],this.options={},this.pubSubs=[],y?this.getTheme=y:this.getTheme=function(){},this.pubSubs.push(this.pubSub.subscribe("app.mouseMove",this.defaultMouseMoveHandler.bind(this)))}return(0,e.default)(p,[{key:"isWithin",value:function(){function h(v,x){var y=v,k=x,T=this.position[0],E=this.position[1];return this.isLeftModified&&(y=x,k=v,T=this.position[1],E=this.position[0]),(0,u.isWithin)(y,k,T,this.dimensions[0]+T,E,this.dimensions[1]+E)}return h}()},{key:"getProp",value:function(){function h(v){var x=this;return function(){return x[v]}}return h}()},{key:"getData",value:function(){function h(){}return h}()},{key:"getDimensions",value:function(){function h(){return this.dimensions}return h}()},{key:"setDimensions",value:function(){function h(v){this.dimensions=v,this._xScale.range([0,this.dimensions[0]]),this._yScale.range([0,this.dimensions[1]])}return h}()},{key:"refXScale",value:function(){function h(v){return arguments.length?(this._refXScale=v,this):this._refXScale}return h}()},{key:"refYScale",value:function(){function h(v){return arguments.length?(this._refYScale=v,this):this._refYScale}return h}()},{key:"xScale",value:function(){function h(v){return arguments.length?(this._xScale=v,this):this._xScale}return h}()},{key:"yScale",value:function(){function h(v){return arguments.length?(this._yScale=v,this):this._yScale}return h}()},{key:"zoomed",value:function(){function h(v,x){this.xScale(v),this.yScale(x)}return h}()},{key:"refScalesChanged",value:function(){function h(v,x){this._refXScale=v,this._refYScale=x}return h}()},{key:"draw",value:function(){function h(){}return h}()},{key:"getPosition",value:function(){function h(){return this.position}return h}()},{key:"setPosition",value:function(){function h(v){this.position=v}return h}()},{key:"defaultMouseMoveHandler",value:function(){function h(v){}return h}()},{key:"remove",value:function(){function h(){var v=this;this.pubSubs.forEach(function(x){return v.pubSub.unsubscribe(x)}),this.pubSubs=[]}return h}()},{key:"rerender",value:function(){function h(){}return h}()},{key:"respondsToPosition",value:function(){function h(v,x){return this.isWithin(v,x)}return h}()},{key:"zoomedY",value:function(){function h(v,x){}return h}()},{key:"movedY",value:function(){function h(v){}return h}()}]),p}();r.default=m},function(f,r,t){var n=t(33),a=Math.floor;f.exports=function(l){return!n(l)&&isFinite(l)&&a(l)===l}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(3),a=c(n),l=t(4),e=c(l),o=t(20),s=t(11),u=t(10);function c(y){return y&&y.__esModule?y:{default:y}}var m=40,p=0,h=5,v=4,x=function(){function y(k){(0,a.default)(this,y),this.pAxis=new s.GLOBALS.PIXI.Graphics,this.track=k,this.axisTexts=[],this.axisTextFontFamily="Arial",this.axisTextFontSize=10}return(0,e.default)(y,[{key:"startAxis",value:function(){function k(T){var E=this.pAxis;E.clear(),E.lineStyle(1,this.track.getTheme()===s.THEME_DARK?(0,u.colorToHex)("#ffffff"):0,1),E.moveTo(0,0),E.lineTo(0,T)}return k}()},{key:"createAxisTexts",value:function(){function k(T,E){this.tickValues=this.calculateAxisTickValues(T,E);var _=0,A=this.track.getTheme()===s.THEME_DARK?"white":"black";for(!this.track.options||!this.track.options.axisLabelFormatting||this.track.options.axisLabelFormatting==="scientific"?this.tickFormat=(0,o.format)(".2"):this.tickFormat=function(O){return O};_<this.tickValues.length;){for(var C=this.tickValues[_];this.axisTexts.length<=_;){var S=new s.GLOBALS.PIXI.Text(C,{fontSize:String(this.axisTextFontSize)+"px",fontFamily:this.axisTextFontFamily,fill:A});this.axisTexts.push(S),this.pAxis.addChild(S)}this.axisTexts[_].text=this.tickFormat(C),this.axisTexts[_].anchor.y=.5,this.axisTexts[_].anchor.x=.5,_++}for(;this.axisTexts.length>this.tickValues.length;){var P=this.axisTexts.pop();this.pAxis.removeChild(P),P.destroy(!0)}}return k}()},{key:"calculateAxisTickValues",value:function(){function k(T,E){var _=Math.max(Math.ceil(E/m),1),A=T.ticks(_);return A.length<1&&(A=T.ticks(_+1),A.length>1&&(A=[A[0]])),A}return k}()},{key:"drawAxisLeft",value:function(){function k(T,E){this.startAxis(E),this.createAxisTexts(T,E);var _=this.pAxis;this.track.getTheme()===s.THEME_DARK&&_.lineStyle(_.lineWidth||_._lineStyle.width,(0,u.colorToHex)("#ffffff")),_.moveTo(0,0),_.lineTo(-(p+h),0),_.moveTo(0,E),_.lineTo(-(p+h),E);for(var A=0;A<this.axisTexts.length;A++){var C=this.tickValues[A];this.axisTexts[A].x=-(p+h+v+this.axisTexts[A].width/2),this.axisTexts[A].y=T(C),_.moveTo(-p,T(C)),_.lineTo(-(p+h),T(C)),this.track&&this.track.flipText&&(this.axisTexts[A].scale.x=-1)}this.hideOverlappingAxisLabels()}return k}()},{key:"drawAxisRight",value:function(){function k(T,E){this.startAxis(E),this.createAxisTexts(T,E);var _=this.pAxis;this.track.getTheme()===s.THEME_DARK&&_.lineStyle(_.lineWidth||_._lineStyle.width,(0,u.colorToHex)("#ffffff")),_.moveTo(0,0),_.lineTo(p+h,0),_.moveTo(0,E),_.lineTo(p+h,E);for(var A=0;A<this.axisTexts.length;A++){var C=this.tickValues[A];this.axisTexts[A].x=p+h+v+this.axisTexts[A].width/2,this.axisTexts[A].y=T(C),_.moveTo(p,T(C)),_.lineTo(p+h,T(C)),this.track&&this.track.flipText&&(this.axisTexts[A].scale.x=-1)}this.hideOverlappingAxisLabels()}return k}()},{key:"hideOverlappingAxisLabels",value:function(){function k(){for(var T=this.axisTexts.length-1;T>=0;T--)this.axisTexts[T].visible=!0;for(var E=this.axisTexts.length-1;E>=0;E--)if(this.axisTexts[E].visible)for(var _=E-1;_>=0&&this.axisTexts[E].y+this.axisTexts[E].height/2>this.axisTexts[_].y-this.axisTexts[_].height/2;)this.axisTexts[_].visible=!1,_-=1}return k}()},{key:"exportVerticalAxis",value:function(){function k(T){var E=document.createElement("g");E.setAttribute("class","axis-vertical");var _="black";this.track&&this.track.options.lineStrokeColor&&(_=this.track.options.lineStrokeColor),this.track.getTheme()===s.THEME_DARK&&(_="#cccccc");var A=document.createElement("path");return A.setAttribute("fill","transparent"),A.setAttribute("stroke",_),A.setAttribute("id","axis-line"),A.setAttribute("d","M0,0 L0,"+String(T)),E.appendChild(A),E}return k}()},{key:"createAxisSVGLine",value:function(){function k(){var T="black";this.track&&this.track.options.lineStrokeColor&&(T=this.track.options.lineStrokeColor),this.track.getTheme()===s.THEME_DARK&&(T="#cccccc");var E=document.createElement("path");return E.setAttribute("id","tick-mark"),E.setAttribute("fill","transparent"),E.setAttribute("stroke",T),E}return k}()},{key:"createAxisSVGText",value:function(){function k(T){var E=document.createElement("text");return E.innerHTML=T,E.setAttribute("id","axis-text"),E.setAttribute("text-anchor","middle"),E.setAttribute("font-family",this.axisTextFontFamily),E.setAttribute("font-size",this.axisTextFontSize),E.setAttribute("dy",this.axisTextFontSize/2-2),E}return k}()},{key:"exportAxisLeftSVG",value:function(){function k(T,E){var _=this.exportVerticalAxis(E),A=this.createAxisSVGLine();_.appendChild(A),A.setAttribute("d","M0,0 L"+ +(p+h)+",0");var C=this.createAxisSVGLine();_.appendChild(C),C.setAttribute("d","M0,"+String(E)+" L"+ +(p+h)+","+String(E));for(var S=0;S<this.axisTexts.length;S++){var P=this.tickValues[S],O=this.axisTexts[S],R=this.createAxisSVGLine();_.appendChild(R),R.setAttribute("d","M"+ +p+","+String(T(P))+" L"+ +(p+h)+","+String(T(P)));var I=document.createElement("g");if(_.appendChild(I),O.visible){var M=this.createAxisSVGText(O.text);I.appendChild(M)}I.setAttribute("transform","translate("+String(O.position.x)+","+String(O.position.y)+`)
             scale(`+String(O.scale.x)+","+String(O.scale.y)+")")}return _}return k}()},{key:"exportAxisRightSVG",value:function(){function k(T,E){var _=this.exportVerticalAxis(E),A=this.createAxisSVGLine();_.appendChild(A),A.setAttribute("d","M0,0 L"+-(p+h)+",0");var C=this.createAxisSVGLine();_.appendChild(C),C.setAttribute("d","M0,"+String(E)+" L"+-(p+h)+","+String(E));for(var S=0;S<this.axisTexts.length;S++){var P=this.tickValues[S],O=this.axisTexts[S],R=this.createAxisSVGLine();_.appendChild(R),R.setAttribute("d","M"+-p+","+String(T(P))+" L"+-(p+h)+","+String(T(P)));var I=document.createElement("g");if(_.appendChild(I),O.visible){var M=this.createAxisSVGText(O.text);I.appendChild(M)}I.setAttribute("transform","translate("+String(O.position.x)+","+String(O.position.y)+`)
             scale(`+String(O.scale.x)+","+String(O.scale.y)+")")}return _}return k}()},{key:"clearAxis",value:function(){function k(){for(var T=this.pAxis;this.axisTexts.length;){var E=this.axisTexts.pop();T.removeChild(E)}T.clear()}return k}()}]),y}();r.default=x},function(f,r,t){f.exports=h;var n=t(257),a=t(353),l=t(620);function e(v,x){for(var y=0;y<v;++y)if(!(x[y]<=x[y+v]))return!0;return!1}function o(v,x,y,k){for(var T=0,E=0,_=0,A=v.length;_<A;++_){var C=v[_];if(!e(x,C)){for(var S=0;S<2*x;++S)y[T++]=C[S];k[E++]=_}}return E}function s(v,x,y,k){var T=v.length,E=x.length;if(!(T<=0||E<=0)){var _=v[0].length>>>1;if(!(_<=0)){var A,C=n.mallocDouble(2*_*T),S=n.mallocInt32(T);if(T=o(v,_,C,S),T>0){if(_===1&&k)a.init(T),A=a.sweepComplete(_,y,0,T,C,S,0,T,C,S);else{var P=n.mallocDouble(2*_*E),O=n.mallocInt32(E);E=o(x,_,P,O),E>0&&(a.init(T+E),_===1?A=a.sweepBipartite(_,y,0,T,C,S,0,E,P,O):A=l(_,y,k,T,C,S,E,P,O),n.free(P),n.free(O))}n.free(C),n.free(S)}return A}}}var u;function c(v,x){u.push([v,x])}function m(v){return u=[],s(v,v,c,!0),u}function p(v,x){return u=[],s(v,x,c,!1),u}function h(v,x,y){switch(arguments.length){case 1:return m(v);case 2:return typeof x=="function"?s(v,v,x,!0):p(v,x);case 3:return s(v,x,y,!1);default:throw new Error("box-intersect: Invalid arguments")}}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(8),a=function(l){var e=void 0,o=l&&l.toLowerCase();switch(o){case"mean":e=n.mean;break;case"sum":e=n.sum;break;case"variance":e=n.variance;break;case"deviation":e=n.deviation;break;default:e=n.mean,console.warn("Encountered an unsupported selectedRowsAggregationMode option.")}return e};r.default=a},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(35),a=C(n),l=t(18),e=C(l),o=t(34),s=C(o),u=t(17),c=C(u),m=t(30),p=C(m);r.workerSetPix=P,r.tileResponseToData=M,r.workerGetTiles=H;var h=t(28),v=t(181),x=C(v),y=t(139),k=C(y),T=t(137),E=C(T),_=t(138),A=C(_);function C(L){return L&&L.__esModule?L:{default:L}}function S(L,D,j,W,B,F,N){var X=void 0,G=void 0;B&&(X=(0,x.default)(B),G=function(Y,rt){return X(rt.map(function(ft){return L[ft*D[1]+Y]}))});var V=void 0,z=void 0,U=void 0,Z=void 0,st=void 0;for(U=0;U<D[1];U++)for(z=0,Z=0;Z<W.length;Z++)if(X&&N==="server"?V=L[Z*D[1]+U]:Array.isArray(W[Z])&&X?V=G(U,W[Z]):V=L[W[Z]*D[1]+U],F&&Array.isArray(W[Z]))for(st=0;st<W[Z].length;st++)j(z*D[1]+U,V),z++;else j(z*D[1]+U,V),z++}function P(L,D,j,W,B,F){var N=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1,X=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1,G=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,V=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,z=arguments.length>10&&arguments[10]!==void 0?arguments[10]:null,U=null;j==="log"?U=(0,h.scaleLog)().range([254,0]).domain(W):(j!=="linear"&&console.warn("Unknown value scale type:",j," Defaulting to linear"),U=(0,h.scaleLinear)().range([254,0]).domain(W));var Z=z||{},st=Z.selectedRows,Y=st===void 0?null:st,rt=Z.selectedRowsAggregationMode,ft=rt===void 0?null:rt,tt=Z.selectedRowsAggregationWithRelativeHeight,K=tt===void 0?null:tt,Q=Z.selectedRowsAggregationMethod,ct=Q===void 0?null:Q,nt=L;G&&Y&&(nt=(0,k.default)(Y,K)*G[1]);var ot=void 0,yt=0,pt=G?G[1]:Math.sqrt(L),dt=new Uint8ClampedArray(nt*4),mt=function(J,lt){yt=255,!(N&&Math.floor(J/pt)<J%pt)&&!(X&&Math.floor(J/pt)>J%pt)&&!(0,p.default)(+lt)&&(yt=Math.max(0,Math.min(254,Math.floor(U(lt+B))))),(yt<0||yt>255)&&console.warn("out of bounds rgbIdx:",yt," (should be 0 <= rgbIdx <= 255)"),V&&!(0,p.default)(+lt)&&+lt==0?ot=V:ot=F[yt],dt[J*4]=ot[0],dt[J*4+1]=ot[1],dt[J*4+2]=ot[2],dt[J*4+3]=ot[3]},q=void 0;try{if(Y)S(D,G,mt,Y,ft,K,ct);else for(var $=0;$<D.length;$++)q=D[$],mt($,q)}catch(J){return console.warn("Odd datapoint"),console.warn("valueScale.domain():",U.domain()),console.warn("valueScale.range():",U.range()),console.warn("value:",U(q+B)),console.warn("pseudocount:",B),console.warn("rgbIdx:",yt,"d:",q,"ct:",U(q)),console.error("ERROR:",J),dt}return dt}function O(L){var D=L&31744,j=void 0,W=void 0,B=void 0,F=(L&32768)<<16;switch(D){case 0:if(j=L&1023,j===0)return F;for(j<<=1;!(j&1024);)j<<=1,D++;return W=112-D<<23,B=(j&1023)<<13,F+W+B;case 31744:return F+2139095040+((L&1023)<<13);default:return F+((L&32767)+114688<<13)}}function R(L){for(var D=atob(L),j=D.length,W=new Uint8Array(j),B=0;B<j;B++)W[B]=D.charCodeAt(B);return W.buffer}function I(L){for(var D=new Uint32Array(L.length),j=0;j<L.length;j++)D[j]=O(L[j]);var W=new Float32Array(D.buffer);return W}function M(L,D,j){L||(L={});var W=!0,B=!1,F=void 0;try{for(var N=(0,c.default)(j),X;!(W=(X=N.next()).done);W=!0){var G=X.value;G in L||(L[G]={});var V=G,z=V.split(".");if(L[V].server=D,L[V].tileId=V,L[V].zoomLevel=+z[1],L[V].tilePos=z.slice(2,z.length).map(function(ft){return+ft}).filter(function(ft){return!(0,p.default)(ft)}),L[V].tilesetUid=z[0],"dense"in L[V]){var U=R(L[V].dense),Z=void 0;if(L[V].dtype==="float16"){var st=new Uint16Array(U),Y=I(st);Z=Y}else Z=new Float32Array(U);var rt=L[V].tilePos.length===2?new A.default(Z):new E.default(Z);L[V].dense=Z,L[V].denseDataExtrema=rt,L[V].minNonZero=rt.minNonZeroInTile,L[V].maxNonZero=rt.maxNonZeroInTile}}}catch(ft){B=!0,F=ft}finally{try{!W&&N.return&&N.return()}finally{if(B)throw F}}return L}function H(L,D,j,W,B,F){var N={"content-type":"application/json"};W&&(N.Authorization=W),fetch(L,(0,s.default)({credentials:"same-origin",headers:N},F&&(0,e.default)(F).length>0?{method:"POST",body:(0,a.default)(F)}:{})).then(function(X){return X.json()}).then(function(X){B(M(X,D,j))}).catch(function(X){return console.warn("err:",X)})}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.getSeriesItems=r.getAllTracksAndSubtracks=void 0;var n=t(18),a=p(n),l=t(17),e=p(l),o=t(1),s=p(o),u=t(67),c=p(u),m=t(11);t(68);function p(v){return v&&v.__esModule?v:{default:v}}var h=r.getAllTracksAndSubtracks=function(v){var x=[],y=!0,k=!1,T=void 0;try{for(var E=(0,e.default)(v),_;!(y=(_=E.next()).done);y=!0){var A=_.value;A.contents?x=x.concat(A.contents):x.push(A)}}catch(C){k=!0,T=C}finally{try{!y&&E.return&&E.return()}finally{if(k)throw T}}return x};r.getSeriesItems=function(v,x,y,k){return v?(window.higlassTracksByType&&(0,a.default)(window.higlassTracksByType).forEach(function(T){m.TRACKS_INFO_BY_TYPE[T]=window.higlassTracksByType[T].config}),h(v).map(function(T){var E=m.TRACKS_INFO_BY_TYPE[T.type]?m.TRACKS_INFO_BY_TYPE[T.type].thumbnail:null,_=E?s.default.createElement("div",{dangerouslySetInnerHTML:{__html:E.outerHTML},className:"ContextMenu-module_context-menu-icon-I4kiw"}):s.default.createElement("div",{className:"ContextMenu-module_context-menu-icon-I4kiw"},s.default.createElement("svg",null));return s.default.createElement(c.default,{key:T.uid,onClick:function(){function A(){k&&k(T.uid)}return A}(),onMouseEnter:function(){function A(C){x&&x(C,T)}return A}(),onMouseLeave:function(){function A(C){y&&y(C)}return A}(),className:"ContextMenu-module_context-menu-item-1HeVv"},_,s.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},T.options&&T.options.name&&T.options.name.length?T.options.name:T.type,x&&y?s.default.createElement("svg",{className:"ContextMenu-module_play-icon-R4pIO"},s.default.createElement("use",{xlinkHref:"#play"})):null))})):null}},function(f,r,t){var n=t(737),a=t(56),l=Object.prototype,e=l.hasOwnProperty,o=l.propertyIsEnumerable,s=n(function(){return arguments}())?n:function(u){return a(u)&&e.call(u,"callee")&&!o.call(u,"callee")};f.exports=s},function(f,r,t){(function(n){var a=t(41),l=t(738),e=r&&!r.nodeType&&r,o=e&&typeof n=="object"&&n&&!n.nodeType&&n,s=o&&o.exports===e,u=s?a.Buffer:void 0,c=u?u.isBuffer:void 0,m=c||l;n.exports=m}).call(this,t(173)(f))},function(f,r){var t=Object.prototype;function n(a){var l=a&&a.constructor,e=typeof l=="function"&&l.prototype||t;return a===e}f.exports=n},function(f,r,t){var n=t(188),a=t(749),l=t(750),e=t(751),o=t(752),s=t(753);function u(c){var m=this.__data__=new n(c);this.size=m.size}u.prototype.clear=a,u.prototype.delete=l,u.prototype.get=e,u.prototype.has=o,u.prototype.set=s,f.exports=u},function(f,r,t){var n=t(744),a=t(745),l=t(746),e=t(747),o=t(748);function s(u){var c=-1,m=u==null?0:u.length;for(this.clear();++c<m;){var p=u[c];this.set(p[0],p[1])}}s.prototype.clear=n,s.prototype.delete=a,s.prototype.get=l,s.prototype.has=e,s.prototype.set=o,f.exports=s},function(f,r,t){var n=t(120);function a(l,e){for(var o=l.length;o--;)if(n(l[o][0],e))return o;return-1}f.exports=a},function(f,r,t){var n=t(99),a=n(Object,"create");f.exports=a},function(f,r,t){var n=t(766);function a(l,e){var o=l.__data__;return n(e)?o[typeof e=="string"?"string":"hash"]:o.map}f.exports=a},function(f,r,t){var n=t(779),a=t(279),l=t(780),e=t(781),o=t(422),s=t(97),u=t(414),c="[object Map]",m="[object Object]",p="[object Promise]",h="[object Set]",v="[object WeakMap]",x="[object DataView]",y=u(n),k=u(a),T=u(l),E=u(e),_=u(o),A=s;(n&&A(new n(new ArrayBuffer(1)))!=x||a&&A(new a)!=c||l&&A(l.resolve())!=p||e&&A(new e)!=h||o&&A(new o)!=v)&&(A=function(C){var S=s(C),P=S==m?C.constructor:void 0,O=P?u(P):"";if(O)switch(O){case y:return x;case k:return c;case T:return p;case E:return h;case _:return v}return S}),f.exports=A},function(f,r,t){var n=t(31),a=t(285),l=t(785),e=t(788);function o(s,u){return n(s)?s:a(s,u)?[s]:l(e(s))}f.exports=o},function(f,r,t){var n=t(97),a=t(56),l="[object Symbol]";function e(o){return typeof o=="symbol"||a(o)&&n(o)==l}f.exports=e},function(f,r,t){var n=t(287),a=t(120),l=Object.prototype,e=l.hasOwnProperty;function o(s,u,c){var m=s[u];(!(e.call(s,u)&&a(m,c))||c===void 0&&!(u in s))&&n(s,u,c)}f.exports=o},function(f,r){function t(n,a){var l=-1,e=n.length;for(a||(a=Array(e));++l<e;)a[l]=n[l];return a}f.exports=t},function(f,r,t){var n=t(45),a=Object.create,l=function(){function e(){}return function(o){if(!n(o))return{};if(a)return a(o);e.prototype=o;var s=new e;return e.prototype=void 0,s}}();f.exports=l},function(f,r,t){(function(n){var a=t(148),l=t(965);r=f.exports=function(o,s,u){var c=r.evaluate(o,s,u),m=r.evaluate("<root></root>",s,!1)[0];return m.type="root",m.parent=null,r.update(c,m),m};function e(o,s){var u=s?l.parse:l.parseFragment,c=u(o,{treeAdapter:l.treeAdapters.htmlparser2});return c.children}r.evaluate=function(o,s,u){var c;if(n.isBuffer(o)&&(o=o.toString()),typeof o=="string"){var m=s.xmlMode||s._useHtmlParser2;c=m?a.parseDOM(o,s):e(o,u)}else c=o;return c},r.update=function(o,s){Array.isArray(o)||(o=[o]),s?s.children=o:s=null;for(var u=0;u<o.length;u++){var c=o[u],m=c.parent||c.root,p=m&&m.children;p&&p!==o&&(p.splice(p.indexOf(c),1),c.prev&&(c.prev.next=c.next),c.next&&(c.next.prev=c.prev)),s?(c.prev=o[u-1]||null,c.next=o[u+1]||null):c.prev=c.next=null,s&&s.type==="root"?(c.root=s,c.parent=null):(c.root=null,c.parent=s)}return s}}).call(this,t(113).Buffer)},function(f,r,t){var n=typeof Reflect=="object"?Reflect:null,a=n&&typeof n.apply=="function"?n.apply:function(E,_,A){return Function.prototype.apply.call(E,_,A)},l;n&&typeof n.ownKeys=="function"?l=n.ownKeys:Object.getOwnPropertySymbols?l=function(E){return Object.getOwnPropertyNames(E).concat(Object.getOwnPropertySymbols(E))}:l=function(E){return Object.getOwnPropertyNames(E)};function e(E){console&&console.warn&&console.warn(E)}var o=Number.isNaN||function(E){return E!==E};function s(){s.init.call(this)}f.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(E){if(typeof E!="number"||E<0||o(E))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+E+".");u=E}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(E){if(typeof E!="number"||E<0||o(E))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+E+".");return this._maxListeners=E,this};function c(E){return E._maxListeners===void 0?s.defaultMaxListeners:E._maxListeners}s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(E){for(var _=[],A=1;A<arguments.length;A++)_.push(arguments[A]);var C=E==="error",S=this._events;if(S!==void 0)C=C&&S.error===void 0;else if(!C)return!1;if(C){var P;if(_.length>0&&(P=_[0]),P instanceof Error)throw P;var O=new Error("Unhandled error."+(P?" ("+P.message+")":""));throw O.context=P,O}var R=S[E];if(R===void 0)return!1;if(typeof R=="function")a(R,this,_);else for(var I=R.length,M=y(R,I),A=0;A<I;++A)a(M[A],this,_);return!0};function m(E,_,A,C){var S,P,O;if(typeof A!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof A);if(P=E._events,P===void 0?(P=E._events=Object.create(null),E._eventsCount=0):(P.newListener!==void 0&&(E.emit("newListener",_,A.listener?A.listener:A),P=E._events),O=P[_]),O===void 0)O=P[_]=A,++E._eventsCount;else if(typeof O=="function"?O=P[_]=C?[A,O]:[O,A]:C?O.unshift(A):O.push(A),S=c(E),S>0&&O.length>S&&!O.warned){O.warned=!0;var R=new Error("Possible EventEmitter memory leak detected. "+O.length+" "+String(_)+" listeners added. Use emitter.setMaxListeners() to increase limit");R.name="MaxListenersExceededWarning",R.emitter=E,R.type=_,R.count=O.length,e(R)}return E}s.prototype.addListener=function(E,_){return m(this,E,_,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(E,_){return m(this,E,_,!0)};function p(){for(var E=[],_=0;_<arguments.length;_++)E.push(arguments[_]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,a(this.listener,this.target,E))}function h(E,_,A){var C={fired:!1,wrapFn:void 0,target:E,type:_,listener:A},S=p.bind(C);return S.listener=A,C.wrapFn=S,S}s.prototype.once=function(E,_){if(typeof _!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof _);return this.on(E,h(this,E,_)),this},s.prototype.prependOnceListener=function(E,_){if(typeof _!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof _);return this.prependListener(E,h(this,E,_)),this},s.prototype.removeListener=function(E,_){var A,C,S,P,O;if(typeof _!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof _);if(C=this._events,C===void 0)return this;if(A=C[E],A===void 0)return this;if(A===_||A.listener===_)--this._eventsCount===0?this._events=Object.create(null):(delete C[E],C.removeListener&&this.emit("removeListener",E,A.listener||_));else if(typeof A!="function"){for(S=-1,P=A.length-1;P>=0;P--)if(A[P]===_||A[P].listener===_){O=A[P].listener,S=P;break}if(S<0)return this;S===0?A.shift():k(A,S),A.length===1&&(C[E]=A[0]),C.removeListener!==void 0&&this.emit("removeListener",E,O||_)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(E){var _,A,C;if(A=this._events,A===void 0)return this;if(A.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):A[E]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete A[E]),this;if(arguments.length===0){var S=Object.keys(A),P;for(C=0;C<S.length;++C)P=S[C],P!=="removeListener"&&this.removeAllListeners(P);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(_=A[E],typeof _=="function")this.removeListener(E,_);else if(_!==void 0)for(C=_.length-1;C>=0;C--)this.removeListener(E,_[C]);return this};function v(E,_,A){var C=E._events;if(C===void 0)return[];var S=C[_];return S===void 0?[]:typeof S=="function"?A?[S.listener||S]:[S]:A?T(S):y(S,S.length)}s.prototype.listeners=function(E){return v(this,E,!0)},s.prototype.rawListeners=function(E){return v(this,E,!1)},s.listenerCount=function(E,_){return typeof E.listenerCount=="function"?E.listenerCount(_):x.call(E,_)},s.prototype.listenerCount=x;function x(E){var _=this._events;if(_!==void 0){var A=_[E];if(typeof A=="function")return 1;if(A!==void 0)return A.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?l(this._events):[]};function y(E,_){for(var A=new Array(_),C=0;C<_;++C)A[C]=E[C];return A}function k(E,_){for(;_+1<E.length;_++)E[_]=E[_+1];E.pop()}function T(E){for(var _=new Array(E.length),A=0;A<_.length;++A)_[A]=E[A].listener||E[A];return _}},function(f,r,t){var n=t(113),a=n.Buffer;function l(o,s){for(var u in o)s[u]=o[u]}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?f.exports=n:(l(n,r),r.Buffer=e);function e(o,s,u){return a(o,s,u)}l(a,e),e.from=function(o,s,u){if(typeof o=="number")throw new TypeError("Argument must not be a number");return a(o,s,u)},e.alloc=function(o,s,u){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=a(o);return s!==void 0?typeof u=="string"?c.fill(s,u):c.fill(s):c.fill(0),c},e.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return a(o)},e.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}},function(f,r,t){var n=f.exports=function(a){var l={},e=this._getOverriddenMethods(this,l);Object.keys(e).forEach(function(o){typeof e[o]=="function"&&(l[o]=a[o],a[o]=e[o])})};n.prototype._getOverriddenMethods=function(){throw new Error("Not implemented")}},function(f,r,t){f.exports=l;var n=t(199).EventEmitter,a=t(58);a(l,n),l.Readable=t(304),l.Writable=t(981),l.Duplex=t(982),l.Transform=t(983),l.PassThrough=t(984),l.Stream=l;function l(){n.call(this)}l.prototype.pipe=function(e,o){var s=this;function u(y){e.writable&&e.write(y)===!1&&s.pause&&s.pause()}s.on("data",u);function c(){s.readable&&s.resume&&s.resume()}e.on("drain",c),!e._isStdio&&(!o||o.end!==!1)&&(s.on("end",p),s.on("close",h));var m=!1;function p(){m||(m=!0,e.end())}function h(){m||(m=!0,typeof e.destroy=="function"&&e.destroy())}function v(y){if(x(),n.listenerCount(this,"error")===0)throw y}s.on("error",v),e.on("error",v);function x(){s.removeListener("data",u),e.removeListener("drain",c),s.removeListener("end",p),s.removeListener("close",h),s.removeListener("error",v),e.removeListener("error",v),s.removeListener("end",x),s.removeListener("close",x),e.removeListener("close",x)}return s.on("end",x),s.on("close",x),e.on("close",x),e.emit("pipe",s),e}},function(f,r,t){(function(n){!n.version||n.version.indexOf("v0.")===0||n.version.indexOf("v1.")===0&&n.version.indexOf("v1.8.")!==0?f.exports={nextTick:a}:f.exports=n;function a(l,e,o,s){if(typeof l!="function")throw new TypeError('"callback" argument must be a function');var u=arguments.length,c,m;switch(u){case 0:case 1:return n.nextTick(l);case 2:return n.nextTick(function(){l.call(null,e)});case 3:return n.nextTick(function(){l.call(null,e,o)});case 4:return n.nextTick(function(){l.call(null,e,o,s)});default:for(c=new Array(u-1),m=0;m<c.length;)c[m++]=arguments[m];return n.nextTick(function(){l.apply(null,c)})}}}).call(this,t(150))},function(f,r,t){var n=t(470);r.default={withDomLvl1:!0,normalizeWhitespace:!1,xml:!1,decodeEntities:!0},r.flatten=function(a){return a&&a.xml?n({xmlMode:!0},a.xml):a}},function(f,r,t){var n=t(197),a=t(45);function l(e){return function(){var o=arguments;switch(o.length){case 0:return new e;case 1:return new e(o[0]);case 2:return new e(o[0],o[1]);case 3:return new e(o[0],o[1],o[2]);case 4:return new e(o[0],o[1],o[2],o[3]);case 5:return new e(o[0],o[1],o[2],o[3],o[4]);case 6:return new e(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new e(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var s=n(e.prototype),u=e.apply(s,o);return a(u)?u:s}}f.exports=l},function(f,r){var t="__lodash_placeholder__";function n(a,l){for(var e=-1,o=a.length,s=0,u=[];++e<o;){var c=a[e];(c===l||c===t)&&(a[e]=t,u[s++]=e)}return u}f.exports=n},function(f,r,t){var n,a=Object.getOwnPropertyDescriptor?function(){return Object.getOwnPropertyDescriptor(arguments,"callee").get}():function(){throw new TypeError},l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol",e=Object.getPrototypeOf||function(p){return p.__proto__},o=n,s=n,u=n,c=typeof Uint8Array>"u"?n:e(Uint8Array),m={"$ %Array%":Array,"$ %ArrayBuffer%":typeof ArrayBuffer>"u"?n:ArrayBuffer,"$ %ArrayBufferPrototype%":typeof ArrayBuffer>"u"?n:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":l?e([][Symbol.iterator]()):n,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":n,"$ %AsyncFunction%":s,"$ %AsyncFunctionPrototype%":n,"$ %AsyncGenerator%":n,"$ %AsyncGeneratorFunction%":u,"$ %AsyncGeneratorPrototype%":n,"$ %AsyncIteratorPrototype%":n,"$ %Atomics%":typeof Atomics>"u"?n:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":typeof DataView>"u"?n:DataView,"$ %DataViewPrototype%":typeof DataView>"u"?n:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":Error,"$ %ErrorPrototype%":Error.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":typeof Float32Array>"u"?n:Float32Array,"$ %Float32ArrayPrototype%":typeof Float32Array>"u"?n:Float32Array.prototype,"$ %Float64Array%":typeof Float64Array>"u"?n:Float64Array,"$ %Float64ArrayPrototype%":typeof Float64Array>"u"?n:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":n,"$ %GeneratorFunction%":o,"$ %GeneratorPrototype%":n,"$ %Int8Array%":typeof Int8Array>"u"?n:Int8Array,"$ %Int8ArrayPrototype%":typeof Int8Array>"u"?n:Int8Array.prototype,"$ %Int16Array%":typeof Int16Array>"u"?n:Int16Array,"$ %Int16ArrayPrototype%":typeof Int16Array>"u"?n:Int8Array.prototype,"$ %Int32Array%":typeof Int32Array>"u"?n:Int32Array,"$ %Int32ArrayPrototype%":typeof Int32Array>"u"?n:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":isNaN,"$ %IteratorPrototype%":l?e(e([][Symbol.iterator]())):n,"$ %JSON%":JSON,"$ %JSONParse%":JSON.parse,"$ %Map%":typeof Map>"u"?n:Map,"$ %MapIteratorPrototype%":typeof Map>"u"||!l?n:e(new Map()[Symbol.iterator]()),"$ %MapPrototype%":typeof Map>"u"?n:Map.prototype,"$ %Math%":Math,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":Object,"$ %ObjectPrototype%":Object.prototype,"$ %ObjProto_toString%":Object.prototype.toString,"$ %ObjProto_valueOf%":Object.prototype.valueOf,"$ %parseFloat%":parseFloat,"$ %parseInt%":parseInt,"$ %Promise%":typeof Promise>"u"?n:Promise,"$ %PromisePrototype%":typeof Promise>"u"?n:Promise.prototype,"$ %PromiseProto_then%":typeof Promise>"u"?n:Promise.prototype.then,"$ %Promise_all%":typeof Promise>"u"?n:Promise.all,"$ %Promise_reject%":typeof Promise>"u"?n:Promise.reject,"$ %Promise_resolve%":typeof Promise>"u"?n:Promise.resolve,"$ %Proxy%":typeof Proxy>"u"?n:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":typeof Reflect>"u"?n:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":typeof Set>"u"?n:Set,"$ %SetIteratorPrototype%":typeof Set>"u"||!l?n:e(new Set()[Symbol.iterator]()),"$ %SetPrototype%":typeof Set>"u"?n:Set.prototype,"$ %SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?n:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":typeof SharedArrayBuffer>"u"?n:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":l?e(""[Symbol.iterator]()):n,"$ %StringPrototype%":String.prototype,"$ %Symbol%":l?Symbol:n,"$ %SymbolPrototype%":l?Symbol.prototype:n,"$ %SyntaxError%":SyntaxError,"$ %SyntaxErrorPrototype%":SyntaxError.prototype,"$ %ThrowTypeError%":a,"$ %TypedArray%":c,"$ %TypedArrayPrototype%":c?c.prototype:n,"$ %TypeError%":TypeError,"$ %TypeErrorPrototype%":TypeError.prototype,"$ %Uint8Array%":typeof Uint8Array>"u"?n:Uint8Array,"$ %Uint8ArrayPrototype%":typeof Uint8Array>"u"?n:Uint8Array.prototype,"$ %Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?n:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":typeof Uint8ClampedArray>"u"?n:Uint8ClampedArray.prototype,"$ %Uint16Array%":typeof Uint16Array>"u"?n:Uint16Array,"$ %Uint16ArrayPrototype%":typeof Uint16Array>"u"?n:Uint16Array.prototype,"$ %Uint32Array%":typeof Uint32Array>"u"?n:Uint32Array,"$ %Uint32ArrayPrototype%":typeof Uint32Array>"u"?n:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":typeof WeakMap>"u"?n:WeakMap,"$ %WeakMapPrototype%":typeof WeakMap>"u"?n:WeakMap.prototype,"$ %WeakSet%":typeof WeakSet>"u"?n:WeakSet,"$ %WeakSetPrototype%":typeof WeakSet>"u"?n:WeakSet.prototype};f.exports=function(p,h){if(arguments.length>1&&typeof h!="boolean")throw new TypeError('"allowMissing" argument must be a boolean');var v="$ "+p;if(!(v in m))throw new SyntaxError("intrinsic "+p+" does not exist!");if(typeof m[v]>"u"&&!h)throw new TypeError("intrinsic "+p+" exists, but is not available. Please file an issue!");return m[v]}},function(f,r,t){t(209),f.exports=t(12).Object.keys},function(f,r,t){var n=t(54),a=t(60);t(126)("keys",function(){return function(l){return a(n(l))}})},function(f,r,t){var n=t(48),a=t(88),l=t(211);f.exports=function(e){return function(o,s,u){var c=n(o),m=a(c.length),p=l(u,m),h;if(e&&s!=s){for(;m>p;)if(h=c[p++],h!=h)return!0}else for(;m>p;p++)if((e||p in c)&&c[p]===s)return e||p||0;return!e&&-1}}},function(f,r,t){var n=t(89),a=Math.max,l=Math.min;f.exports=function(e,o){return e=n(e),e<0?a(e+o,0):l(e,o)}},function(f,r,t){var n=t(213),a=t(160),l=t(51),e=t(48);f.exports=t(109)(Array,"Array",function(o,s){this._t=e(o),this._i=0,this._k=s},function(){var o=this._t,s=this._k,u=this._i++;return!o||u>=o.length?(this._t=void 0,a(1)):s=="keys"?a(0,u):s=="values"?a(0,o[u]):a(0,[u,o[u]])},"values"),l.Arguments=l.Array,n("keys"),n("values"),n("entries")},function(f,r){f.exports=function(){}},function(f,r,t){var n=t(110),a=t(66),l=t(77),e={};t(43)(e,t(21)("iterator"),function(){return this}),f.exports=function(o,s,u){o.prototype=n(e,{next:a(1,u)}),l(o,s+" Iterator")}},function(f,r,t){var n=t(89),a=t(87);f.exports=function(l){return function(e,o){var s=String(a(e)),u=n(o),c=s.length,m,p;return u<0||u>=c?l?"":void 0:(m=s.charCodeAt(u),m<55296||m>56319||u+1===c||(p=s.charCodeAt(u+1))<56320||p>57343?l?s.charAt(u):m:l?s.slice(u,u+2):(m-55296<<10)+(p-56320)+65536)}}},function(f,r,t){t(76),t(61),f.exports=t(217)},function(f,r,t){var n=t(39),a=t(112);f.exports=t(12).getIterator=function(l){var e=a(l);if(typeof e!="function")throw TypeError(l+" is not iterable!");return n(e.call(l))}},function(f,r){f.exports=function(t,n,a,l){if(!(t instanceof n)||l!==void 0&&l in t)throw TypeError(a+": incorrect invocation!");return t}},function(f,r,t){var n=t(92);function a(l){var e,o;this.promise=new l(function(s,u){if(e!==void 0||o!==void 0)throw TypeError("Bad Promise constructor");e=s,o=u}),this.resolve=n(e),this.reject=n(o)}f.exports.f=function(l){return new a(l)}},function(f,r,t){var n=t(43);f.exports=function(a,l,e){for(var o in l)e&&a[o]?a[o]=l[o]:n(a,o,l[o]);return a}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n="http://www.w3.org/2000/svg",a=function(l,e){if(l.namespaceURI===n){var o=l.getAttribute("class");return o&&!!o.match(new RegExp("(\\s|^)"+String(e)+"(\\s|$)"))}return l.classList?l.classList.contains(e):!!l.className.match(new RegExp("(\\s|^)"+String(e)+"(\\s|$)"))};r.default=a},function(f,r,t){t(223),f.exports=t(12).Object.assign},function(f,r,t){var n=t(16);n(n.S+n.F,"Object",{assign:t(224)})},function(f,r,t){var n=t(60),a=t(130),l=t(93),e=t(54),o=t(105),s=Object.assign;f.exports=!s||t(50)(function(){var u={},c={},m=Symbol(),p="abcdefghijklmnopqrst";return u[m]=7,p.split("").forEach(function(h){c[h]=h}),s({},u)[m]!=7||Object.keys(s({},c)).join("")!=p})?function(u,c){for(var m=e(u),p=arguments.length,h=1,v=a.f,x=l.f;p>h;)for(var y=o(arguments[h++]),k=v?n(y).concat(v(y)):n(y),T=k.length,E=0,_;T>E;)x.call(y,_=k[E++])&&(m[_]=y[_]);return m}:s},function(f,r,t){f.exports={default:t(545),__esModule:!0}},function(f,r,t){var n=t(91)("meta"),a=t(33),l=t(47),e=t(32).f,o=0,s=Object.isExtensible||function(){return!0},u=!t(50)(function(){return s(Object.preventExtensions({}))}),c=function(x){e(x,n,{value:{i:"O"+ ++o,w:{}}})},m=function(x,y){if(!a(x))return typeof x=="symbol"?x:(typeof x=="string"?"S":"P")+x;if(!l(x,n)){if(!s(x))return"F";if(!y)return"E";c(x)}return x[n].i},p=function(x,y){if(!l(x,n)){if(!s(x))return!0;if(!y)return!1;c(x)}return x[n].w},h=function(x){return u&&v.NEED&&s(x)&&!l(x,n)&&c(x),x},v=f.exports={KEY:n,NEED:!1,fastKey:m,getWeak:p,onFreeze:h}},function(f,r,t){var n=t(23),a=t(12),l=t(75),e=t(168),o=t(32).f;f.exports=function(s){var u=a.Symbol||(a.Symbol=l?{}:n.Symbol||{});s.charAt(0)!="_"&&!(s in u)&&o(u,s,{value:e.f(s)})}},function(f,r,t){var n=t(93),a=t(66),l=t(48),e=t(127),o=t(47),s=t(159),u=Object.getOwnPropertyDescriptor;r.f=t(36)?u:function(c,m){if(c=l(c),m=e(m,!0),s)try{return u(c,m)}catch{}if(o(c,m))return a(!n.f.call(c,m),c[m])}},function(f,r,t){var n=t(12),a=n.JSON||(n.JSON={stringify:JSON.stringify});f.exports=function(l){return a.stringify.apply(a,arguments)}},function(f,r,t){t(231);var n=t(12).Object;f.exports=function(a,l,e){return n.defineProperty(a,l,e)}},function(f,r,t){var n=t(16);n(n.S+n.F*!t(36),"Object",{defineProperty:t(32).f})},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(34),a=Kt(n),l=t(30),e=Kt(l),o=t(94),s=Kt(o),u=t(62),c=Kt(u),m=t(25),p=Kt(m),h=t(18),v=Kt(h),x=t(17),y=Kt(x),k=t(35),T=Kt(k),E=t(37),_=Kt(E),A=t(19),C=Kt(A),S=t(575),P=Kt(S),O=t(44),R=Kt(O),I=t(38),M=Kt(I),H=t(5),L=Kt(H),D=t(3),j=Kt(D),W=t(4),B=Kt(W),F=t(6),N=Kt(F),X=t(7),G=Kt(X),V=t(29),z=Kt(V),U=t(1),Z=Kt(U),st=t(2),Y=Kt(st),rt=t(0),ft=t(28),tt=t(26),K=Kt(tt),Q=t(325),ct=Ut(Q),nt=t(42),ot=Kt(nt),yt=t(592),pt=Kt(yt),dt=t(344),mt=t(600),q=Kt(mt),$=t(601),J=Kt($),lt=t(134),ut=Kt(lt),ht=t(604),bt=Kt(ht),kt=t(674),vt=Kt(kt),Et=t(680),Rt=Kt(Et),Vt=t(682),ee=Kt(Vt),Tt=t(73),_t=Kt(Tt),zt=t(686),oe=Kt(zt),$t=t(723),pe=Kt($t),Nt=t(266),se=t(724),Gt=Kt(se),gt=t(69),fe=t(132),Ct=t(78),at=t(24),St=t(10),jt=t(11),Zt=t(728),ue=Kt(Zt),ce=t(267),It=Kt(ce),Mt=t(729);Kt(Mt);function Ut(Xe){if(Xe&&Xe.__esModule)return Xe;var pn={};if(Xe!=null)for(var qt in Xe)Object.prototype.hasOwnProperty.call(Xe,qt)&&(pn[qt]=Xe[qt]);return pn.default=Xe,pn}function Kt(Xe){return Xe&&Xe.__esModule?Xe:{default:Xe}}var wt={styles:{higlass:"HiGlass-module_higlass-1NHR2","higlass-dark-theme":"HiGlass-module_higlass-dark-theme-2visd","higlass-container-overflow":"HiGlass-module_higlass-container-overflow-zNXnY","higlass-scroll-container-overflow":"HiGlass-module_higlass-scroll-container-overflow-2FS0w","higlass-scroll-container-scroll":"HiGlass-module_higlass-scroll-container-scroll-2lAU4","higlass-canvas":"HiGlass-module_higlass-canvas-_mP9r","higlass-drawing-surface":"HiGlass-module_higlass-drawing-surface-3aQQo","higlass-svg":"HiGlass-module_higlass-svg-JJZbf","tiled-area":"HiGlass-module_tiled-area-22H1L","track-mouseover-menu":"HiGlass-module_track-mouseover-menu-1AoaP"},stylesMTHeader:{"multitrack-header":"ViewHeader-module_multitrack-header-3XnZx","multitrack-header-focus":"ViewHeader-module_multitrack-header-focus-3akkN","multitrack-header-squeazed":"ViewHeader-module_multitrack-header-squeazed-GHIVd","multitrack-header-dark":"ViewHeader-module_multitrack-header-dark-97tZt","multitrack-header-id":"ViewHeader-module_multitrack-header-id-3YURk","multitrack-header-left":"ViewHeader-module_multitrack-header-left-Qj9Sm","multitrack-header-grabber":"ViewHeader-module_multitrack-header-grabber-3jrIz","multitrack-header-grabber-squeazed":"ViewHeader-module_multitrack-header-grabber-squeazed-dU45Z","multitrack-header-search":"ViewHeader-module_multitrack-header-search-1X_3_","multitrack-header-nav-list":"ViewHeader-module_multitrack-header-nav-list-2nvcu","multitrack-header-icon":"ViewHeader-module_multitrack-header-icon-16QKZ","multitrack-header-icon-squeazed":"ViewHeader-module_multitrack-header-icon-squeazed-25lkF","mouse-tool-selection":"ViewHeader-module_mouse-tool-selection-1pg2m"},stylesGlobal:{higlass:"HiGlass_higlass-3aU-_","react-resizable-handle":"HiGlass_react-resizable-handle-3kCAE"}},ye=12,we=12,Oe=20,Ne="default",ze="bounded",Ue="overflow",Be="scroll",Je=function(Xe){(0,G.default)(pn,Xe);function pn(qt){(0,j.default)(this,pn);var it=(0,N.default)(this,(pn.__proto__||(0,L.default)(pn)).call(this,qt));(0,St.numericifyVersion)(Z.default.version)<15.6&&console.warn("HiGlass requires React v15.6 or higher. Current version: ",Z.default.version),it.pubSub=(0,ut.default)(),it.domEvent=(0,at.createDomEvent)(it.pubSub),it.pubSubs=[],it.minHorizontalHeight=20,it.minVerticalWidth=20,it.resizeSensor=null,it.uid=K.default.nice(),it.tiledPlots={},it.genomePositionSearchBoxes={},it.xScales={},it.yScales={},it.projectionXDomains={},it.projectionYDomains={},it.topDiv=null,it.zoomToDataExtentOnInit=new M.default,it.viewTrackUidsToCombinedUid={},it.combinedUidToViewTrack={},it.scalesChangedListeners={},it.draggingChangedListeners={},it.valueScalesChangedListeners={},it.zoomLocks={},it.locationLocks={},it.locationLocksAxisWise={x:{},y:{}},it.valueScaleLocks={},it.prevAuthToken=qt.options.authToken,it.setCenters={},it.plusImg={},it.configImg={},jt.GLOBALS.PIXI=qt.options&&qt.options.PIXI||ct,it.viewMarginTop=+qt.options.viewMarginTop>=0?+qt.options.viewMarginTop:jt.DEFAULT_VIEW_MARGIN,it.viewMarginBottom=+qt.options.viewMarginBottom>=0?+qt.options.viewMarginBottom:jt.DEFAULT_VIEW_MARGIN,it.viewMarginLeft=+qt.options.viewMarginLeft>=0?+qt.options.viewMarginLeft:jt.DEFAULT_VIEW_MARGIN,it.viewMarginRight=+qt.options.viewMarginRight>=0?+qt.options.viewMarginRight:jt.DEFAULT_VIEW_MARGIN,it.viewPaddingTop=+qt.options.viewPaddingTop>=0?+qt.options.viewPaddingTop:jt.DEFAULT_VIEW_PADDING,it.viewPaddingBottom=+qt.options.viewPaddingBottom>=0?+qt.options.viewPaddingBottom:jt.DEFAULT_VIEW_PADDING,it.viewPaddingLeft=+qt.options.viewPaddingLeft>=0?+qt.options.viewPaddingLeft:jt.DEFAULT_VIEW_PADDING,it.viewPaddingRight=+qt.options.viewPaddingRight>=0?+qt.options.viewPaddingRight:jt.DEFAULT_VIEW_PADDING,it.genomePositionSearchBox=null,it.viewHeaders={},it.boundRefreshView=function(){it.refreshView(jt.LONG_DRAG_TIMEOUT)},it.unsetOnLocationChange=[],it.setTheme(qt.options.theme,qt.options.isDarkTheme),it.viewconfLoaded=!1;var Xt=it.props.viewConfig,te=it.loadIfRemoteViewConfig(it.props.viewConfig);qt.options.authToken&&(0,at.setTileProxyAuthHeader)(qt.options.authToken),it.pixiRoot=new jt.GLOBALS.PIXI.Container,it.pixiRoot.interactive=!0,it.pixiStage=new jt.GLOBALS.PIXI.Container,it.pixiStage.interactive=!0,it.pixiRoot.addChild(it.pixiStage),it.pixiMask=new jt.GLOBALS.PIXI.Graphics,it.pixiRoot.addChild(it.pixiMask),it.pixiStage.mask=it.pixiMask,it.element=null,it.scrollTop=0;var ne=jt.MOUSE_TOOL_MOVE;if(it.props.options)switch(it.props.options.mouseTool){case jt.MOUSE_TOOL_SELECT:ne=jt.MOUSE_TOOL_SELECT;break}it.props.options.pluginTracks&&(window.higlassTracksByType=(0,R.default)(window.higlassTracksByType||{},it.props.options.pluginTracks));var Wt={};try{window.higlassTracksByType&&(0,P.default)(window.higlassTracksByType).forEach(function(le){var ve=(0,C.default)(le,2),_e=ve[0],Ae=ve[1];Wt[_e]=Ae})}catch{console.warn("Broken config of a plugin track")}it.props.options.pluginDataFetchers&&(window.higlassDataFetchersByType=(0,R.default)(window.higlassDataFetchersByType||{},it.props.options.pluginDataFetchers));var he=window.higlassDataFetchersByType,Dt=it.props.options.pixelPreciseMarginPadding?1:30;it.mounted=!1,it.pluginTracks=Wt,it.pluginDataFetchers=he,it.state={currentBreakpoint:"lg",width:0,height:0,rowHeight:Dt,svgElement:null,canvasElement:null,views:te,viewConfig:Xt,addTrackPositionMenuPosition:null,typedEditable:void 0,mouseOverOverlayUid:null,mouseTool:ne,isDarkTheme:!1,rangeSelection1dSize:[0,1/0],rangeSelectionToInt:!1,modal:null},it.attachedToDOM=!1;var Ft=(0,Gt.default)(it,it.pubSub),Yt=Ft.public,xt=Ft.destroy,Bt=Ft.publish,Qt=Ft.stack;return it.api=Yt,it.apiDestroy=xt,it.apiPublish=Bt,it.apiStack=Qt,it.viewChangeListener=[],it.triggerViewChangeDb=(0,St.debounce)(it.triggerViewChange.bind(it),250),it.pubSubs=[],it.rangeSelection=[null,null],it.prevMouseHoverTrack=null,it.zooming=!1,it.appClickHandlerBound=it.appClickHandler.bind(it),it.keyDownHandlerBound=it.keyDownHandler.bind(it),it.keyUpHandlerBound=it.keyUpHandler.bind(it),it.resizeHandlerBound=it.resizeHandler.bind(it),it.resizeHandlerBound=it.resizeHandler.bind(it),it.dispatchEventBound=it.dispatchEvent.bind(it),it.animateOnMouseMoveHandlerBound=it.animateOnMouseMoveHandler.bind(it),it.zoomStartHandlerBound=it.zoomStartHandler.bind(it),it.zoomEndHandlerBound=it.zoomEndHandler.bind(it),it.zoomHandlerBound=it.zoomHandler.bind(it),it.trackDroppedHandlerBound=it.trackDroppedHandler.bind(it),it.trackDimensionsModifiedHandlerBound=it.trackDimensionsModifiedHandler.bind(it),it.animateBound=it.animate.bind(it),it.animateOnGlobalEventBound=it.animateOnGlobalEvent.bind(it),it.requestReceivedHandlerBound=it.requestReceivedHandler.bind(it),it.wheelHandlerBound=it.wheelHandler.bind(it),it.mouseMoveHandlerBound=it.mouseMoveHandler.bind(it),it.onMouseLeaveHandlerBound=it.onMouseLeaveHandler.bind(it),it.onBlurHandlerBound=it.onBlurHandler.bind(it),it.openModalBound=it.openModal.bind(it),it.closeModalBound=it.closeModal.bind(it),it.handleEditViewConfigBound=it.handleEditViewConfig.bind(it),it.onScrollHandlerBound=it.onScrollHandler.bind(it),it.typedText="",it.typedTextTimeout=null,it.modal={open:it.openModalBound,close:it.closeModalBound},it.setBroadcastMousePositionGlobally(it.props.options.broadcastMousePositionGlobally||it.props.options.globalMousePosition),it.setShowGlobalMousePosition(it.props.options.showGlobalMousePosition||it.props.options.globalMousePosition),it}return(0,B.default)(pn,[{key:"UNSAFE_componentWillMount",value:function(){function qt(){this.domEvent.register("keydown",document),this.domEvent.register("keyup",document),this.domEvent.register("scroll",document),this.domEvent.register("resize",window),this.domEvent.register("orientationchange",window),this.domEvent.register("wheel",window),this.domEvent.register("mousedown",window,!0),this.domEvent.register("mouseup",window,!0),this.domEvent.register("click",window,!0),this.domEvent.register("mousemove",window),this.domEvent.register("touchmove",window),this.domEvent.register("touchstart",window),this.domEvent.register("touchend",window),this.domEvent.register("touchcancel",window),this.domEvent.register("blur",window),this.pubSubs.push(this.pubSub.subscribe("app.click",this.appClickHandlerBound),this.pubSub.subscribe("blur",this.onBlurHandlerBound),this.pubSub.subscribe("keydown",this.keyDownHandlerBound),this.pubSub.subscribe("keyup",this.keyUpHandlerBound),this.pubSub.subscribe("resize",this.resizeHandlerBound),this.pubSub.subscribe("wheel",this.wheelHandlerBound),this.pubSub.subscribe("orientationchange",this.resizeHandlerBound),this.pubSub.subscribe("app.event",this.dispatchEventBound),this.pubSub.subscribe("app.animateOnMouseMove",this.animateOnMouseMoveHandlerBound),this.pubSub.subscribe("trackDropped",this.trackDroppedHandlerBound),this.pubSub.subscribe("trackDimensionsModified",this.trackDimensionsModifiedHandlerBound),this.pubSub.subscribe("app.zoomStart",this.zoomStartHandlerBound),this.pubSub.subscribe("app.zoomEnd",this.zoomEndHandlerBound),this.pubSub.subscribe("app.zoom",this.zoomHandlerBound),this.pubSub.subscribe("requestReceived",this.requestReceivedHandlerBound)),this.props.getApi&&this.props.getApi(this.api)}return qt}()},{key:"setBroadcastMousePositionGlobally",value:function(){function qt(){var it=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.isBroadcastMousePositionGlobally=it}return qt}()},{key:"setShowGlobalMousePosition",value:function(){function qt(){var it=this,Xt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.isShowGlobalMousePosition=Xt,this.isShowGlobalMousePosition&&!this.globalMousePositionListener&&(this.globalMousePositionListener=lt.globalPubSub.subscribe("higlass.mouseMove",this.animateOnGlobalEventBound),this.pubSubs.push(this.globalMousePositionListener)),this.isShowGlobalMousePosition&&!this.globalMousePositionListener){var te=this.pubSubs.findIndex(function(ne){return ne===it.globalMousePositionListener});lt.globalPubSub.unsubscribe(this.globalMousePositionListener),te>=0&&this.pubSubs.splice(te,1),this.globalMousePositionListener=void 0}}return qt}()},{key:"zoomStartHandler",value:function(){function qt(){this.hideHoverMenu(),this.zooming=!0}return qt}()},{key:"zoomEndHandler",value:function(){function qt(){this.zooming=!1}return qt}()},{key:"zoomHandler",value:function(){function qt(it){it.sourceEvent&&this.mouseMoveHandler(it.sourceEvent)}return qt}()},{key:"waitForDOMAttachment",value:function(){function qt(it){var Xt=this;if(this.mounted){var te=ot.default.findDOMNode(this);document.body.contains(te)?it():requestAnimationFrame(function(){return Xt.waitForDOMAttachment(it)})}}return qt}()},{key:"componentDidMount",value:function(){function qt(){var it=this;this.mounted=!0,this.element=ot.default.findDOMNode(this),window.addEventListener("focus",this.boundRefreshView),(0,_.default)(this.state.views).forEach(function(ne){it.adjustLayoutToTrackSizes(ne),ne.layout?ne.layout.i=ne.uid:ne.layout=it.generateViewLayout(ne)});var Xt={width:this.state.width,height:this.state.height,view:this.canvasElement,antialias:!0,transparent:!0,resolution:2,autoResize:!0};switch(ct.VERSION[0]){case"4":console.warn("Deprecation warning: please update Pixi.js to version 5!"),this.props.options.renderer==="canvas"?this.pixiRenderer=new jt.GLOBALS.PIXI.CanvasRenderer(Xt):this.pixiRenderer=new jt.GLOBALS.PIXI.WebGLRenderer(Xt);break;default:console.warn("Deprecation warning: please update Pixi.js to version 5! This version of Pixi.js is unsupported. Good luck 🤞");case"5":this.props.options.renderer==="canvas"?this.pixiRenderer=new jt.GLOBALS.PIXI.CanvasRenderer(Xt):this.pixiRenderer=new jt.GLOBALS.PIXI.Renderer(Xt);break}this.fitPixiToParentContainer(),this.setState({svgElement:this.svgElement,canvasElement:this.canvasElement}),this.waitForDOMAttachment(function(){dt.ElementQueries.listen(),it.resizeSensor=new dt.ResizeSensor(it.element.parentNode,it.updateAfterResize.bind(it)),it.updateAfterResize()}),this.handleDragStart(),this.handleDragStop(),this.animate();var te=(0,rt.select)(this.element).append("svg").style("display","none");Nt.all.forEach(function(ne){return(0,pe.default)(te,ne.id,ne.paths,ne.viewBox)})}return qt}()},{key:"getTrackObject",value:function(){function qt(it,Xt){return this.tiledPlots[it].trackRenderer.getTrackObject(Xt)}return qt}()},{key:"getTrackRenderer",value:function(){function qt(it){return this.tiledPlots[it].trackRenderer}return qt}()},{key:"loadIfRemoteViewConfig",value:function(){function qt(it){var Xt=this,te={};return typeof it=="string"?at.tileProxy.json(it,function(ne,Wt){it=Wt,Xt.setState({views:Xt.processViewConfig(JSON.parse((0,T.default)(Wt))),viewConfig:Wt}),Xt.unsetOnLocationChange.forEach(function(he){var Dt=he.viewId,Ft=he.callback,Yt=he.callbackId;Xt.onLocationChange(Dt,Ft,Yt)})},this.pubSub):(te=this.processViewConfig(JSON.parse((0,T.default)(it))),this.mounted&&this.setState({viewConfig:it})),te}return qt}()},{key:"UNSAFE_componentWillReceiveProps",value:function(){function qt(it){var Xt=this.loadIfRemoteViewConfig(it.viewConfig);if(it.options.authToken!==this.prevAuthToken){(0,at.setTileProxyAuthHeader)(it.options.authToken);var te=!0,ne=!1,Wt=void 0;try{for(var he=(0,y.default)(this.iterateOverViews()),Dt;!(te=(Dt=he.next()).done);te=!0){var Ft=Dt.value,Yt=this.getTrackRenderer(Ft),xt=JSON.parse(Yt.prevTrackDefinitions);Yt.syncTrackObjects([]),Yt.syncTrackObjects(xt)}}catch(ge){ne=!0,Wt=ge}finally{try{!te&&he.return&&he.return()}finally{if(ne)throw Wt}}this.prevAuthToken=it.options.authToken}var Bt=!0,Qt=!1,le=void 0;try{for(var ve=(0,y.default)((0,St.dictValues)(Xt)),_e;!(Bt=(_e=ve.next()).done);Bt=!0){var Ae=_e.value;this.adjustLayoutToTrackSizes(Ae)}}catch(ge){Qt=!0,le=ge}finally{try{!Bt&&ve.return&&ve.return()}finally{if(Qt)throw le}}this.setState({views:Xt})}return qt}()},{key:"UNSAFE_componentWillUpdate",value:function(){function qt(){this.pixiRenderer.render(this.pixiRoot)}return qt}()},{key:"componentDidUpdate",value:function(){function qt(){this.setTheme(this.props.options.theme,this.props.options.isDarkTheme),this.animate(),this.triggerViewChangeDb()}return qt}()},{key:"componentWillUnmount",value:function(){function qt(){var it=this;this.mounted=!1,this.pixiStage.destroy(!1),this.pixiStage=null,this.pixiRenderer.destroy(!0),this.pixiRenderer=null,window.removeEventListener("focus",this.boundRefreshView),this.resizeSensor&&this.resizeSensor.detach(),this.domEvent.unregister("keydown",document),this.domEvent.unregister("keyup",document),this.domEvent.unregister("scroll",document),this.domEvent.unregister("wheel",window),this.domEvent.unregister("mousedown",window),this.domEvent.unregister("mouseup",window),this.domEvent.unregister("click",window),this.domEvent.unregister("mousemove",window),this.domEvent.unregister("touchmove",window),this.domEvent.unregister("touchstart",window),this.domEvent.unregister("touchend",window),this.domEvent.unregister("touchcancel",window),this.pubSubs.forEach(function(Xt){return it.pubSub.unsubscribe(Xt)}),this.pubSubs=[],this.apiDestroy()}return qt}()},{key:"setTheme",value:function(){function qt(){var it=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.options.theme,Xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.props.options.isDarkTheme;if(typeof Xt<"u")console.warn("The option `isDarkTheme` is deprecated. Please use `theme` instead."),this.theme=Xt?"dark":"light";else switch(it){case"dark":this.theme=jt.THEME_DARK;break;case"light":case void 0:this.theme=jt.THEME_LIGHT;break;default:console.warn('Unknown theme "'+String(it)+'". Using light theme.'),this.theme=jt.THEME_LIGHT;break}}return qt}()},{key:"dispatchEvent",value:function(){function qt(it){this.canvasElement&&(0,St.forwardEvent)(it,this.canvasElement)}return qt}()},{key:"trackDroppedHandler",value:function(){function qt(){this.setState({draggingHappening:null})}return qt}()},{key:"requestReceivedHandler",value:function(){function qt(){!this.viewconfLoaded&&at.requestsInFlight===0&&(this.viewconfLoaded=!0,this.props.options.onViewConfLoaded&&this.props.options.onViewConfLoaded())}return qt}()},{key:"animateOnMouseMoveHandler",value:function(){function qt(it){it&&!this.animateOnMouseMove&&this.pubSubs.push(this.pubSub.subscribe("app.mouseMove",this.animateBound)),this.animateOnMouseMove=it}return qt}()},{key:"fitPixiToParentContainer",value:function(){function qt(){if(!this.element||!this.element.parentNode){console.warn("No parentNode:",this.element);return}var it=this.element.parentNode.clientWidth,Xt=this.element.parentNode.clientHeight;this.pixiMask.beginFill(16777215).drawRect(0,0,it,Xt).endFill(),this.pixiRenderer.resize(it,Xt),this.pixiRenderer.view.style.width=String(it)+"px",this.pixiRenderer.view.style.height=String(Xt)+"px",this.pixiRenderer.render(this.pixiRoot)}return qt}()},{key:"addDefaultTrackOptions",value:function(){function qt(it){var Xt=this.getTrackInfo(it.type);if(Xt){typeof it.options>"u"&&(it.options={});var te=it.options?it.options:{};if(this.props.options.defaultTrackOptions){if(this.props.options.defaultTrackOptions.trackSpecific&&this.props.options.defaultTrackOptions.trackSpecific[it.type]){var ne=this.props.options.defaultTrackOptions.trackSpecific[it.type];for(var Wt in ne)it.options[Wt]=typeof it.options[Wt]<"u"?it.options[Wt]:JSON.parse((0,T.default)(ne[Wt]))}if(this.props.options.defaultTrackOptions.all){var he=this.props.options.defaultTrackOptions.all;for(var Dt in he)it.options[Dt]=typeof it.options[Dt]<"u"?it.options[Dt]:JSON.parse((0,T.default)(he[Dt]))}}if(Xt.defaultOptions){var Ft=Xt.defaultOptionsByTheme&&Xt.defaultOptionsByTheme[this.theme]?Xt.defaultOptionsByTheme[this.theme]:{},Yt=(0,R.default)({},Xt.defaultOptions,Ft);if(!it.options)it.options=JSON.parse((0,T.default)(Yt));else for(var xt in Yt)it.options[xt]=typeof it.options[xt]<"u"?it.options[xt]:JSON.parse((0,T.default)(Yt[xt]))}else it.options=te}}return qt}()},{key:"toggleTypedEditable",value:function(){function qt(){this.setState({typedEditable:!this.isEditable()})}return qt}()},{key:"typedTextHandler",value:function(){function qt(it){var Xt=this;if(this.props.options.cheatCodesEnabled){this.typedText=this.typedText.concat(it.key),this.typedText.endsWith("hgedit")&&(this.toggleTypedEditable(),this.typedText="");var te=750;this.typedTextTimeout&&clearTimeout(this.typedTextTimeout),this.typedTextTimeout=setTimeout(function(){Xt.typedText=""},te)}}return qt}()},{key:"keyDownHandler",value:function(){function qt(it){this.typedTextHandler(it),this.props.options.rangeSelectionOnAlt&&it.key==="Alt"&&this.setState({mouseTool:jt.MOUSE_TOOL_SELECT})}return qt}()},{key:"keyUpHandler",value:function(){function qt(it){this.props.options.rangeSelectionOnAlt&&it.key==="Alt"&&this.setState({mouseTool:jt.MOUSE_TOOL_MOVE})}return qt}()},{key:"openModal",value:function(){function qt(it){var Xt=this;this.setState({modal:Z.default.cloneElement(it,{ref:function(){function te(ne){Xt.modalRef=ne}return te}()})})}return qt}()},{key:"closeModal",value:function(){function qt(){this.modalRef=null,this.setState({modal:null})}return qt}()},{key:"handleEditViewConfig",value:function(){function qt(){var it=this,Xt=this.state.viewConfig;this.setState({viewConfigTmp:Xt}),this.openModal(Z.default.createElement(oe.default,{onCancel:function(){function te(){var ne=it.state.viewConfigTmp,Wt=it.processViewConfig(ne),he=!0,Dt=!1,Ft=void 0;try{for(var Yt=(0,y.default)((0,St.dictValues)(Wt)),xt;!(he=(xt=Yt.next()).done);he=!0){var Bt=xt.value;it.adjustLayoutToTrackSizes(Bt)}}catch(Qt){Dt=!0,Ft=Qt}finally{try{!he&&Yt.return&&Yt.return()}finally{if(Dt)throw Ft}}it.setState({views:Wt,viewConfig:ne,viewConfigTmp:null})}return te}(),onChange:function(){function te(ne){var Wt=JSON.parse(ne),he=it.processViewConfig(Wt),Dt=!0,Ft=!1,Yt=void 0;try{for(var xt=(0,y.default)((0,St.dictValues)(he)),Bt;!(Dt=(Bt=xt.next()).done);Dt=!0){var Qt=Bt.value;it.adjustLayoutToTrackSizes(Qt)}}catch(le){Ft=!0,Yt=le}finally{try{!Dt&&xt.return&&xt.return()}finally{if(Ft)throw Yt}}it.setState({views:he,viewConfig:Wt})}return te}(),onSave:function(){function te(ne){var Wt=JSON.parse(ne),he=it.processViewConfig(Wt),Dt=!0,Ft=!1,Yt=void 0;try{for(var xt=(0,y.default)((0,St.dictValues)(he)),Bt;!(Dt=(Bt=xt.next()).done);Dt=!0){var Qt=Bt.value;it.adjustLayoutToTrackSizes(Qt)}}catch(le){Ft=!0,Yt=le}finally{try{!Dt&&xt.return&&xt.return()}finally{if(Ft)throw Yt}}it.setState({views:he,viewConfig:Wt,viewConfigTmp:null})}return te}(),viewConfig:this.getViewsAsString()}))}return qt}()},{key:"animate",value:function(){function qt(){var it=this;this.isRequestingAnimationFrame||(this.isRequestingAnimationFrame=!0,requestAnimationFrame(function(){it.pixiRenderer&&(it.pixiRenderer.render(it.pixiRoot),it.isRequestingAnimationFrame=!1)}))}return qt}()},{key:"animateOnGlobalEvent",value:function(){function qt(){var it=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Xt=it.sourceUid;Xt!==this.uid&&this.animateOnMouseMove&&this.animate()}return qt}()},{key:"measureSize",value:function(){function qt(){var it=(0,St.getElementDim)(this.element),Xt=(0,C.default)(it,2),te=Xt[0],ne=Xt[1];te>0&&ne>0&&this.setState({sizeMeasured:!0,width:te,height:ne})}return qt}()},{key:"updateAfterResize",value:function(){function qt(){this.measureSize(),this.updateRowHeight(),this.fitPixiToParentContainer(),this.refreshView(jt.LONG_DRAG_TIMEOUT),this.resizeHandler()}return qt}()},{key:"onBreakpointChange",value:function(){function qt(it){this.setState({currentBreakpoint:it})}return qt}()},{key:"handleOverlayMouseEnter",value:function(){function qt(it){this.setState({mouseOverOverlayUid:it})}return qt}()},{key:"handleOverlayMouseLeave",value:function(){function qt(){this.setState({mouseOverOverlayUid:null})}return qt}()},{key:"handleLockLocation",value:function(){function qt(it){var Xt=this;this.setState({chooseViewHandler:function(){function te(ne){return Xt.handleLocationLockChosen(it,ne)}return te}(),mouseOverOverlayUid:it})}return qt}()},{key:"isEditable",value:function(){function qt(){return this.state.typedEditable!==void 0?this.state.typedEditable:!this.props.options||!("editable"in this.props.options)?this.state.viewConfig.editable:this.props.options.editable&&this.state.viewConfig.editable}return qt}()},{key:"isTrackMenuDisabled",value:function(){function qt(){return this.props.options&&(this.props.options.editable===!1||this.props.options.tracksEditable===!1)?!0:this.state.viewConfig&&(this.state.viewConfig.tracksEditable===!1||this.state.viewConfig.editable===!1)}return qt}()},{key:"isViewHeaderDisabled",value:function(){function qt(){return this.props.options&&(this.props.options.editable===!1||this.props.options.viewEditable===!1)?!0:this.state.viewConfig&&(this.state.viewConfig.viewEditable===!1||this.state.viewConfig.editable===!1)}return qt}()},{key:"iterateOverViews",value:function(){function qt(){var it=[];for(var Xt in(0,v.default)(this.state.views))it.push(Xt);return it}return qt}()},{key:"iterateOverTracksInView",value:function(){function qt(it){var Xt=[],te=this.state.views[it].tracks;for(var ne in te){var Wt=!0,he=!1,Dt=void 0;try{for(var Ft=(0,y.default)(te[ne]),Yt;!(Wt=(Yt=Ft.next()).done);Wt=!0){var xt=Yt.value;if(xt.type==="combined"&&xt.contents){var Bt=!0,Qt=!1,le=void 0;try{for(var ve=(0,y.default)(xt.contents),_e;!(Bt=(_e=ve.next()).done);Bt=!0){var Ae=_e.value;Xt.push({viewId:it,trackId:Ae.uid,track:Ae})}}catch(ge){Qt=!0,le=ge}finally{try{!Bt&&ve.return&&ve.return()}finally{if(Qt)throw le}}}else Xt.push({viewId:it,trackId:xt.uid,track:xt})}}catch(ge){he=!0,Dt=ge}finally{try{!Wt&&Ft.return&&Ft.return()}finally{if(he)throw Dt}}}return Xt}return qt}()},{key:"iterateOverTracks",value:function(){function qt(){var it=[];for(var Xt in this.state.views){var te=this.state.views[Xt].tracks;for(var ne in te){var Wt=!0,he=!1,Dt=void 0;try{for(var Ft=(0,y.default)(te[ne]),Yt;!(Wt=(Yt=Ft.next()).done);Wt=!0){var xt=Yt.value;if(xt.type==="combined"&&xt.contents){var Bt=!0,Qt=!1,le=void 0;try{for(var ve=(0,y.default)(xt.contents),_e;!(Bt=(_e=ve.next()).done);Bt=!0){var Ae=_e.value;it.push({viewId:Xt,trackId:Ae.uid,track:Ae})}}catch(ge){Qt=!0,le=ge}finally{try{!Bt&&ve.return&&ve.return()}finally{if(Qt)throw le}}}else it.push({viewId:Xt,trackId:xt.uid,track:xt})}}catch(ge){he=!0,Dt=ge}finally{try{!Wt&&Ft.return&&Ft.return()}finally{if(he)throw Dt}}}}return it}return qt}()},{key:"setMouseTool",value:function(){function qt(it){this.setState({mouseTool:it})}return qt}()},{key:"isValueScaleLocked",value:function(){function qt(it,Xt){var te=this.combineViewAndTrackUid(it,Xt);return this.state.views[it]?!!this.valueScaleLocks[te]:!1}return qt}()},{key:"getLockGroupExtrema",value:function(){function qt(it,Xt){var te=this,ne=this.combineViewAndTrackUid(it,Xt);if(!this.state.views[it]||!this.valueScaleLocks[ne])return null;var Wt=this.valueScaleLocks[ne],he=(0,_.default)(Wt).filter(function(Bt){return te.tiledPlots[Bt.view]}).map(function(Bt){return te.tiledPlots[Bt.view].trackRenderer.getTrackObject(Bt.track)}).filter(function(Bt){return Bt}).map(function(Bt){return Bt.originalTrack===void 0?Bt:Bt.originalTrack}),Dt=he.filter(function(Bt){return Bt.minRawValue&&Bt.maxRawValue}).map(function(Bt){return Wt.ignoreOffScreenValues?Bt.minVisibleValue(!0):Bt.minVisibleValueInTiles(!0)}),Ft=he.filter(function(Bt){return Bt.minRawValue&&Bt.maxRawValue}).map(function(Bt){return Wt.ignoreOffScreenValues?Bt.maxVisibleValue(!0):Bt.maxVisibleValueInTiles(!0)});if(Dt.length===0||Dt.filter(function(Bt){return Bt===null||Bt===1/0}).length>0||Ft.length===0||Ft.filter(function(Bt){return Bt===null||Bt===-1/0}).length>0)return null;var Yt=Math.min.apply(Math,(0,p.default)(Dt)),xt=Math.max.apply(Math,(0,p.default)(Ft));return[Yt,xt]}return qt}()},{key:"syncValueScales",value:function(){function qt(it,Xt){var te=this,ne=this.combineViewAndTrackUid(it,Xt);if(this.state.views[it]){var Wt=(0,St.getTrackByUid)(this.state.views[it].tracks,Xt);if(this.valueScaleLocks[ne]){var he=this.valueScaleLocks[ne],Dt=(0,_.default)(he).filter(function($e){return te.tiledPlots[$e.view]}).map(function($e){return te.tiledPlots[$e.view].trackRenderer.getTrackObject($e.track)}).filter(function($e){return $e}).map(function($e){return $e.originalTrack===void 0?$e:$e.originalTrack}),Ft=this.getLockGroupExtrema(it,Xt);if(Ft===null)return;var Yt=Ft[0],xt=Ft[1],Bt=1e-6,Qt=!0,le=!1,ve=void 0;try{for(var _e=(0,y.default)(Dt),Ae;!(Qt=(Ae=_e.next()).done);Qt=!0){var ge=Ae.value;if(ge.minValue&&ge.minValue(Yt),ge.maxValue&&ge.maxValue(xt),!!ge.valueScale){var ke=Math.abs(ge.minValue()-ge.valueScale.domain()[0])>Bt||Math.abs(ge.maxValue()-ge.valueScale.domain()[1])>Bt,Ke=Wt.options&&ge.options&&typeof Wt.options.scaleStartPercent<"u"&&typeof Wt.options.scaleEndPercent<"u"&&(Math.abs(ge.options.scaleStartPercent-Wt.options.scaleStartPercent)>Bt||Math.abs(ge.options.scaleEndPercent-Wt.options.scaleEndPercent)>Bt);ge.continuousScaling&&!ke&&!Ke||(ge.valueScale.domain([Yt,xt]),ge.prevValueScale=ge.valueScale.copy(),Ke&&(ge.options.scaleStartPercent=Wt.options.scaleStartPercent,ge.options.scaleEndPercent=Wt.options.scaleEndPercent),ge.rerender(ge.options,!0))}}}catch($e){le=!0,ve=$e}finally{try{!Qt&&_e.return&&_e.return()}finally{if(le)throw ve}}}}}return qt}()},{key:"handleNewTilesLoaded",value:function(){function qt(it,Xt){this.animate()}return qt}()},{key:"notifyDragChangedListeners",value:function(){function qt(it){(0,St.dictValues)(this.draggingChangedListeners).forEach(function(Xt){(0,St.dictValues)(Xt).forEach(function(te){return te(it)})})}return qt}()},{key:"addDraggingChangedListener",value:function(){function qt(it,Xt,te){this.draggingChangedListeners.hasOwnProperty(it)||(this.draggingChangedListeners[it]={}),this.draggingChangedListeners[it][Xt]=te,te(!0),te(!1)}return qt}()},{key:"removeDraggingChangedListener",value:function(){function qt(it,Xt){if(this.draggingChangedListeners.hasOwnProperty(it)){var te=this.draggingChangedListeners[it];te.hasOwnProperty(Xt)&&(te[Xt](!1),delete te[Xt])}}return qt}()},{key:"addScalesChangedListener",value:function(){function qt(it,Xt,te){this.scalesChangedListeners[it]||(this.scalesChangedListeners[it]={}),this.scalesChangedListeners[it][Xt]=te,!(!this.xScales[it]||!this.yScales[it])&&te(this.xScales[it],this.yScales[it])}return qt}()},{key:"removeScalesChangedListener",value:function(){function qt(it,Xt){if(this.scalesChangedListeners[it]){var te=this.scalesChangedListeners[it];te[Xt]&&delete te[Xt]}}return qt}()},{key:"createSVG",value:function(){function qt(){var it=document.createElement("svg");it.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),it.setAttribute("xmlns","http://www.w3.org/2000/svg"),it.setAttribute("version","1.1");var Xt=!0,te=!1,ne=void 0;try{for(var Wt=(0,y.default)((0,St.dictValues)(this.tiledPlots)),he;!(Xt=(he=Wt.next()).done);Xt=!0){var Dt=he.value;if(Dt){var Ft=!0,Yt=!1,xt=void 0;try{for(var Bt=(0,y.default)((0,St.dictValues)(Dt.trackRenderer.trackDefObjects)),Qt;!(Ft=(Qt=Bt.next()).done);Ft=!0){var le=Qt.value;if(le.trackObject.exportSVG){var ve=le.trackObject.exportSVG();ve&&it.appendChild(ve[0])}}}catch(Ae){Yt=!0,xt=Ae}finally{try{!Ft&&Bt.return&&Bt.return()}finally{if(Yt)throw xt}}}}}catch(Ae){te=!0,ne=Ae}finally{try{!Xt&&Wt.return&&Wt.return()}finally{if(te)throw ne}}if(it.setAttribute("width",this.canvasElement.style.width),it.setAttribute("height",this.canvasElement.style.height),this.postCreateSVGCallback){var _e=this.postCreateSVGCallback(it);return _e}return it}return qt}()},{key:"createSVGString",value:function(){function qt(){var it=this.createSVG(),Xt=q.default.xml(new window.XMLSerializer().serializeToString(it));Xt=Xt.replace(/<a0:/g,"<"),Xt=Xt.replace(/<\/a0:/g,"</"),Xt=Xt.replace(/(<svg[\n\r])(\s+xmlns="http:\/\/www\.w3\.org\/1999\/xhtml"[\n\r])/gm,"$1"),Xt=Xt.replace(/(\s+<clipPath[\n\r]\s+)(xmlns="http:\/\/www\.w3\.org\/2000\/svg")/gm,"$1");var te='<?xml version="1.0" encoding="UTF-8" standalone="no"?>',ne='<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">';return te+`
`+ne+`
`+String(Xt)}return qt}()},{key:"handleExportSVG",value:function(){function qt(){(0,St.download)("export.svg",new Blob([this.createSVGString()],{type:"image/svg+xml"}))}return qt}()},{key:"offPostCreateSVG",value:function(){function qt(){this.postCreateSVGCallback=null}return qt}()},{key:"onPostCreateSVG",value:function(){function qt(it){this.postCreateSVGCallback=it}return qt}()},{key:"createPNGBlobPromise",value:function(){function qt(){var it=this;return new c.default(function(Xt){var te=it.createSVGString(),ne=new Image(it.canvasElement.width,it.canvasElement.height);ne.src="data:image/svg+xml;base64,"+String(btoa(te)),ne.onload=function(){var Wt=document.createElement("canvas");Wt.width=it.canvasElement.width/2,Wt.height=it.canvasElement.height/2,Wt.getContext("2d").drawImage(ne,0,0),Wt.toBlob(function(he){Xt(he)})}})}return qt}()},{key:"handleExportPNG",value:function(){function qt(){this.createPNGBlobPromise().then(function(it){(0,St.download)("export.png",it)})}return qt}()},{key:"handleScalesChanged",value:function(){function qt(it,Xt,te){var ne=this,Wt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;if(this.xScales[it]=Xt,this.yScales[it]=te,Wt&&it in this.scalesChangedListeners&&(0,St.dictValues)(this.scalesChangedListeners[it]).forEach(function(yn){yn(Xt,te)}),this.zoomLocks[it]){var he=this.zoomLocks[it],Dt=(0,St.dictItems)(he),Ft=(0,St.scalesCenterAndK)(this.xScales[it],this.yScales[it]),Yt=(0,C.default)(Ft,3);Yt[0],Yt[1];for(var xt=Yt[2],Bt=function(){function yn(dn){var _n=Dt[dn][0],gn=Dt[dn][1];if(!ne.xScales[_n]||!ne.yScales[_n]||_n===it)return"continue";var Hn=(0,St.scalesCenterAndK)(ne.xScales[_n],ne.yScales[_n]),Bn=(0,C.default)(Hn,3),Vn=Bn[0],tr=Bn[1];Bn[2];var Qn=gn[2]/he[it][2],er=xt*Qn;if(!ne.setCenters[_n])return"continue";var cr=ne.setCenters[_n](Vn,tr,er,!1),Kn=(0,C.default)(cr,2),br=Kn[0],mr=Kn[1];ne.xScales[_n]=br,ne.yScales[_n]=mr,ne.scalesChangedListeners.hasOwnProperty(_n)&&(0,St.dictValues)(ne.scalesChangedListeners[_n]).forEach(function(dr){dr(br,mr)})}return yn}(),Qt=0;Qt<Dt.length;Qt++)var le=Bt(Qt)}if(this.locationLocks[it]){var ve=this.locationLocks[it],_e=(0,St.dictItems)(ve),Ae=(0,St.scalesCenterAndK)(this.xScales[it],this.yScales[it]),ge=(0,C.default)(Ae,3),ke=ge[0],Ke=ge[1];ge[2];for(var $e=function(){function dn(_n){var gn=_e[_n][0],Hn=_e[_n][1];if(!ne.xScales[gn]||!ne.yScales[gn])return"continue";var Bn=(0,St.scalesCenterAndK)(ne.xScales[gn],ne.yScales[gn]),Vn=(0,C.default)(Bn,3);Vn[0],Vn[1];var tr=Vn[2];if(gn===it)return"continue";var Qn=Hn[0]-ve[it][0],er=Hn[1]-ve[it][1],cr=ke+Qn,Kn=Ke+er;if(!ne.setCenters[gn])return"continue";var br=ne.setCenters[gn](cr,Kn,tr,!1),mr=(0,C.default)(br,2),dr=mr[0],an=mr[1];ne.xScales[gn]=dr,ne.yScales[gn]=an,ne.scalesChangedListeners.hasOwnProperty(gn)&&(0,St.dictValues)(ne.scalesChangedListeners[gn]).forEach(function(Zn){Zn(dr,an)})}return dn}(),Qt=0;Qt<_e.length;Qt++)var jn=$e(Qt)}if(this.locationLocksAxisWise.x[it]){var In=this.locationLocksAxisWise.x[it].lock,xn=(0,St.dictItems)(In),Un=this.locationLocksAxisWise.x[it].axis!=="x",cn=(0,St.scalesCenterAndK)(this.xScales[it],this.yScales[it]),xr=(0,C.default)(cn,3),wr=xr[0];xr[1],xr[2];for(var fr=function(){function dn(_n){var gn=xn[_n][0],Hn=xn[_n][1];if(!ne.xScales[gn]||!ne.yScales[gn])return"continue";var Bn=(0,St.scalesCenterAndK)(ne.xScales[gn],ne.yScales[gn]),Vn=(0,C.default)(Bn,3),tr=Vn[0],Qn=Vn[1],er=Vn[2];if(gn===it)return"continue";var cr=Hn[0]-In[it][0],Kn=wr+cr;if(!ne.setCenters[gn])return"continue";var br=ne.setCenters[gn](Un?tr:Kn,Un?Kn:Qn,er,!1),mr=(0,C.default)(br,2),dr=mr[0],an=mr[1];ne.xScales[gn]=dr,ne.yScales[gn]=an,ne.scalesChangedListeners.hasOwnProperty(gn)&&(0,St.dictValues)(ne.scalesChangedListeners[gn]).forEach(function(Zn){Zn(dr,an)})}return dn}(),Qt=0;Qt<xn.length;Qt++)var pr=fr(Qt)}if(this.locationLocksAxisWise.y[it]){var qe=this.locationLocksAxisWise.y[it].lock,ae=(0,St.dictItems)(qe),Ee=this.locationLocksAxisWise.y[it].axis!=="y",tn=(0,St.scalesCenterAndK)(this.xScales[it],this.yScales[it]),sn=(0,C.default)(tn,3);sn[0];var on=sn[1];sn[2];for(var He=function(){function dn(_n){var gn=ae[_n][0],Hn=ae[_n][1];if(!ne.xScales[gn]||!ne.yScales[gn])return"continue";var Bn=(0,St.scalesCenterAndK)(ne.xScales[gn],ne.yScales[gn]),Vn=(0,C.default)(Bn,3),tr=Vn[0],Qn=Vn[1],er=Vn[2];if(gn===it)return"continue";var cr=Hn[1]-qe[it][1],Kn=on+cr;if(!ne.setCenters[gn])return"continue";var br=ne.setCenters[gn](Ee?Kn:tr,Ee?Qn:Kn,er,!1),mr=(0,C.default)(br,2),dr=mr[0],an=mr[1];ne.xScales[gn]=dr,ne.yScales[gn]=an,ne.scalesChangedListeners.hasOwnProperty(gn)&&(0,St.dictValues)(ne.scalesChangedListeners[gn]).forEach(function(Zn){Zn(dr,an)})}return dn}(),Qt=0;Qt<ae.length;Qt++)var Ve=He(Qt)}this.animate(),this.triggerViewChangeDb()}return qt}()},{key:"handleProjectViewport",value:function(){function qt(it){var Xt=this;this.setState({chooseTrackHandler:function(){function te(ne,Wt){return Xt.handleViewportProjected(it,ne,Wt)}return te}()})}return qt}()},{key:"handleZoomToData",value:function(){function qt(it){if(it&&!this.tiledPlots[it])throw new Error("View uid "+String(it)+" does not exist in the current viewConfig");it?this.tiledPlots[it].handleZoomToData():(0,_.default)(this.tiledPlots).forEach(function(Xt){return Xt.handleZoomToData()})}return qt}()},{key:"resetViewport",value:function(){function qt(it){if(it&&!this.tiledPlots[it])throw new Error("View uid "+String(it)+" does not exist in the current viewConfig");it?this.tiledPlots[it].resetViewport():(0,_.default)(this.tiledPlots).forEach(function(Xt){return Xt.resetViewport()})}return qt}()},{key:"handleYankFunction",value:function(){function qt(it,Xt){this.setState({chooseViewHandler:function(){function te(ne){return Xt(it,ne)}return te}(),mouseOverOverlayUid:it})}return qt}()},{key:"handleUnlock",value:function(){function qt(it,Xt){var te=Xt[it],ne=(0,St.dictKeys)(te);if(ne.length===2){delete Xt[ne[0]],delete Xt[ne[1]];return}Xt[it]&&Xt[it][it]&&delete Xt[it][it],Xt[it]&&delete Xt[it]}return qt}()},{key:"viewScalesLockData",value:function(){function qt(it){return!this.xScales[it]||!this.yScales[it]?(console.warn("View scale lock doesn't correspond to existing uid: ",it),null):(0,St.scalesCenterAndK)(this.xScales[it],this.yScales[it])}return qt}()},{key:"addLock",value:function(){function qt(it,Xt,te,ne){var Wt=this,he=[],Dt=[];te[it]?he=(0,St.dictItems)(te[it]).filter(function(xt){return ne(xt[0])}).map(function(xt){return[xt[0],ne(xt[0])]}):he=[[it,ne.bind(this)(it)]],te[Xt]?Dt=(0,St.dictItems)(te[Xt]).filter(function(xt){return ne.bind(Wt)(xt[0])}).map(function(xt){return[xt[0],ne.bind(Wt)(xt[0])]}):Dt=[[Xt,ne.bind(this)(Xt)]];var Ft=he.concat(Dt),Yt=(0,St.dictFromTuples)(Ft);Ft.forEach(function(xt){te[xt[0]]=Yt})}return qt}()},{key:"handleLocationLockChosen",value:function(){function qt(it,Xt){if(it===Xt){this.setState({chooseViewHandler:null});return}this.addLock(it,Xt,this.locationLocks,this.viewScalesLockData.bind(this)),this.setState({chooseViewHandler:null})}return qt}()},{key:"handleZoomLockChosen",value:function(){function qt(it,Xt){if(it===Xt){this.setState({chooseViewHandler:null});return}this.addLock(it,Xt,this.zoomLocks,this.viewScalesLockData.bind(this)),this.setState({chooseViewHandler:null})}return qt}()},{key:"handleViewportProjected",value:function(){function qt(it,Xt,te){var ne=null;if(it===Xt)console.warn("A view can not show its own viewport.");else{var Wt=(0,St.getTrackByUid)(this.state.views[Xt].tracks,te),he=(0,St.getTrackPositionByUid)(this.state.views[Xt].tracks,te);ne=K.default.nice();var Dt={top:"horizontal",bottom:"horizontal",center:"center",left:"vertical",right:"vertical"},Ft={uid:ne,type:"viewport-projection-"+String(Dt[he]),fromViewUid:it};this.addCallbacks(Xt,Ft),this.handleTrackAdded(Xt,Ft,he,Wt)}return this.setState({chooseTrackHandler:null}),ne}return qt}()},{key:"handleLocationYanked",value:function(){function qt(it,Xt){var te=this.xScales[Xt],ne=this.yScales[Xt],Wt=this.xScales[it],he=this.yScales[it],Dt=(0,St.scalesCenterAndK)(Wt,he),Ft=(0,C.default)(Dt,3);Ft[0],Ft[1];var Yt=Ft[2],xt=(0,St.scalesCenterAndK)(te,ne),Bt=(0,C.default)(xt,3),Qt=Bt[0],le=Bt[1];Bt[2],this.setCenters[it](Qt,le,Yt,!0),this.setState({chooseViewHandler:null})}return qt}()},{key:"handleZoomYanked",value:function(){function qt(it,Xt){var te=this.xScales[Xt],ne=this.yScales[Xt],Wt=this.xScales[it],he=this.yScales[it],Dt=(0,St.scalesCenterAndK)(Wt,he),Ft=(0,C.default)(Dt,3),Yt=Ft[0],xt=Ft[1];Ft[2];var Bt=(0,St.scalesCenterAndK)(te,ne),Qt=(0,C.default)(Bt,3);Qt[0],Qt[1];var le=Qt[2];this.setCenters[it](Yt,xt,le,!0),this.setState({chooseViewHandler:null})}return qt}()},{key:"handleTrackPositionChosen",value:function(){function qt(it,Xt){this.setState({addTrackPosition:Xt,addTrackPositionView:it})}return qt}()},{key:"updateRowHeight",value:function(){function qt(){if(!(!this.props.options||this.sizeMode!==ze||this.props.options.pixelPreciseMarginPadding)){var it=this.element.parentNode.clientHeight,Xt=0,te=!0,ne=!1,Wt=void 0;try{for(var he=(0,y.default)((0,St.dictValues)(this.state.views)),Dt;!(te=(Dt=he.next()).done);te=!0){var Ft=Dt.value;Xt=Math.max(Xt,Ft.layout.y+Ft.layout.h)}}catch(ve){ne=!0,Wt=ve}finally{try{!te&&he.return&&he.return()}finally{if(ne)throw Wt}}this.handleDragStart(),this.handleDragStop();var Yt=this.isEditable()?10:0,xt=Yt*Xt-1,Bt=it-xt,Qt=Bt/Xt,le=Math.floor(Qt);this.setState({rowHeight:le})}}return qt}()},{key:"handleLayoutChange",value:function(){function qt(it){var Xt=this;this.element&&(it.forEach(function(te){var ne=Xt.state.views[te.i];ne&&(ne.layout.x=te.x,ne.layout.y=te.y,ne.layout.w=te.w,ne.layout.h=te.h,ne.layout.i=te.i)}),this.updateRowHeight(),this.refreshView(jt.LONG_DRAG_TIMEOUT))}return qt}()},{key:"clearDragTimeout",value:function(){function qt(){this.dragTimeout&&(clearTimeout(this.dragTimeout),this.dragTimeout=null)}return qt}()},{key:"getTrackInfo",value:function(){function qt(it){if(jt.TRACKS_INFO_BY_TYPE[it])return jt.TRACKS_INFO_BY_TYPE[it];if(this.pluginTracks&&this.pluginTracks[it])return this.pluginTracks[it].config;if(window.higlassTracksByType&&window.higlassTracksByType[it])return window.higlassTracksByType[it].config;console.warn("Track type not found:",it,"(check app/scripts/config/ for a list of defined track types)")}return qt}()},{key:"forceRefreshView",value:function(){function qt(){this.setState(this.state)}return qt}()},{key:"refreshView",value:function(){function qt(){var it=this,Xt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:jt.SHORT_DRAG_TIMEOUT;this.clearDragTimeout(),this.notifyDragChangedListeners(!0),this.clearDragTimeout(),this.dragTimeout=setTimeout(function(){it.notifyDragChangedListeners(!1)},Xt)}return qt}()},{key:"handleDragStart",value:function(){function qt(){this.clearDragTimeout(),this.notifyDragChangedListeners(!0)}return qt}()},{key:"handleDragStop",value:function(){function qt(){var it=this;this.clearDragTimeout(),this.dragTimeout=setTimeout(function(){it.notifyDragChangedListeners(!1)},jt.LONG_DRAG_TIMEOUT)}return qt}()},{key:"resizeHandler",value:function(){function qt(){(0,St.objVals)(this.viewHeaders).filter(function(it){return it}).forEach(function(it){return it.checkWidth()})}return qt}()},{key:"calculateViewDimensions",value:function(){function qt(it){var Xt=20,te=0,ne=100,Wt=100,he=this.viewMarginTop+this.viewMarginBottom+this.viewPaddingTop+this.viewPaddingBottom,Dt=this.viewMarginLeft+this.viewMarginRight+this.viewPaddingLeft+this.viewPaddingRight,Ft=0;Ft+=10;var Yt=20;if(it.tracks.top)for(var xt=0;xt<it.tracks.top.length;xt++){var Bt=it.tracks.top[xt];he+=Bt.height?Bt.height:Xt,Ft+=Bt.height?Bt.height:Xt}if(it.tracks.bottom)for(var Qt=0;Qt<it.tracks.bottom.length;Qt++){var le=it.tracks.bottom[Qt];he+=le.height?le.height:Xt,Ft+=le.height?le.height:Xt}(it.tracks.left&&it.tracks.left.length>0||it.tracks.right&&it.tracks.right.length>0||it.tracks.center&&it.tracks.center.length>0)&&(Ft+=Yt);var ve=0;if(it.tracks.left)for(var _e=0;_e<it.tracks.left.length;_e++){var Ae=it.tracks.left[_e],ge=Ae.height?Ae.height:ne;Dt+=Ae.width?Ae.width:te,ve=Math.max(ve,ge)}var ke=0;if(it.tracks.right)for(var Ke=0;Ke<it.tracks.right.length;Ke++){var $e=it.tracks.right[Ke],jn=$e.height?$e.height:ne;Dt+=$e.width?$e.width:te,ke=Math.max(ke,jn)}var In=Math.max(ve,ke),xn=0,Un=0;if(it.tracks.center&&(0,St.dictValues)(it.tracks.center).length>0){if(!it.tracks.center[0].contents||it.tracks.center[0].contents.length>0){var cn=null,xr=null;if(it.tracks.center[0].contents){var wr=!0,fr=!1,pr=void 0;try{for(var qe=(0,y.default)(it.tracks.center[0].contents),ae;!(wr=(ae=qe.next()).done);wr=!0){var Ee=ae.value;cn=Math.max(cn,Ee.height?Ee.height:ne),xr=Math.max(xr,Ee.width?Ee.width:Wt)}}catch(Ve){fr=!0,pr=Ve}finally{try{!wr&&qe.return&&qe.return()}finally{if(fr)throw pr}}}else cn=it.tracks.center[0].height?it.tracks.center[0].height:ne,xr=it.tracks.center[0].width?it.tracks.center[0].width:Wt;he+=cn,Dt+=xr}}else(it.tracks.top&&(0,St.dictValues)(it.tracks.top).length>1||it.tracks.bottom&&(0,St.dictValues)(it.tracks.bottom).length>1)&&(it.tracks.left&&(0,St.dictValues)(it.tracks.left).length||it.tracks.right&&(0,St.dictValues)(it.tracks.right).length)&&(Un=Wt,xn=ne);In>xn?he+=In:he+=xn;var tn=0,sn=0,on=0,He=0;return"top"in it.tracks&&(tn=it.tracks.top.map(function(Ve){return Ve.height?Ve.height:Xt}).reduce(function(Ve,yn){return Ve+yn},0)),"bottom"in it.tracks&&(sn=it.tracks.bottom.map(function(Ve){return Ve.height?Ve.height:Xt}).reduce(function(Ve,yn){return Ve+yn},0)),"left"in it.tracks&&(on=it.tracks.left.map(function(Ve){return Ve.width?Ve.width:te}).reduce(function(Ve,yn){return Ve+yn},0)),"right"in it.tracks&&(He=it.tracks.right.map(function(Ve){return Ve.width?Ve.width:te}).reduce(function(Ve,yn){return Ve+yn},0)),{totalWidth:Dt,totalHeight:he,topHeight:tn,bottomHeight:sn,leftWidth:on,rightWidth:He,centerWidth:Un,centerHeight:xn,minNecessaryHeight:Ft}}return qt}()},{key:"calculateZoomLimits",value:function(){function qt(it,Xt){var te=[0,1/0],ne=it.zoomLimits||[1,null],Wt=Xt[1]-Xt[0];if(ne.length!==2)return te;if(ne[0]!==null&&ne[0]>0){var he=Wt/ne[0];te[1]=Math.max(he,1),he<1&&console.warn("Invalid zoom limits. Lower limit set to "+Wt)}if(ne[1]!==null&&ne[1]>ne[0]){var Dt=Wt/ne[1];te[0]=Math.min(Dt,1),Dt>1&&console.warn("Invalid zoom limits. Upper limit set to "+Wt)}return te}return qt}()},{key:"generateViewLayout",value:function(){function qt(it){var Xt=null;return"layout"in it?Xt=it.layout.layout:Xt={x:0,y:0,w:ye,h:we},Xt}return qt}()},{key:"handleClearView",value:function(){function qt(it){var Xt=this.state.views;Xt[it].tracks.top=[],Xt[it].tracks.bottom=[],Xt[it].tracks.center=[],Xt[it].tracks.left=[],Xt[it].tracks.right=[],Xt[it].tracks.whole=[],this.setState({views:Xt})}return qt}()},{key:"handleCloseView",value:function(){function qt(it){var Xt=this;(0,St.dictValues)(this.state.views).length!==1&&(this.handleUnlock(it,this.zoomLocks),this.setState(function(te){delete te.views[it];var ne=Xt.removeInvalidTracks(te.views);return{views:ne}}))}return qt}()},{key:"handleSeriesAdded",value:function(){function qt(it,Xt,te,ne){var Wt=this.state.views[it].tracks;if(ne.type==="combined")ne.contents.push(Xt),Xt.type==="heatmap"&&this.compatibilityfyStackedHeatmaps(Xt,ne);else for(var he={type:"combined",uid:K.default.nice(),height:ne.height,width:ne.width,contents:[ne,Xt]},Dt=Wt[te],Ft=0;Ft<Dt.length;Ft++)Dt[Ft].uid===ne.uid&&(Dt[Ft]=he);this.setState(function(Yt){return{views:Yt.views}})}return qt}()},{key:"handleNoTrackAdded",value:function(){function qt(){this.state.addTrackPosition&&this.setState({addTrackPosition:null})}return qt}()},{key:"handleTracksAdded",value:function(){function qt(it,Xt,te,ne){this.storeTrackSizes(it);var Wt=!0,he=!1,Dt=void 0;try{for(var Ft=(0,y.default)(Xt),Yt;!(Wt=(Yt=Ft.next()).done);Wt=!0){var xt=Yt.value;this.handleTrackAdded(it,xt,te,ne)}}catch(Bt){he=!0,Dt=Bt}finally{try{!Wt&&Ft.return&&Ft.return()}finally{if(he)throw Dt}}}return qt}()},{key:"handleChangeTrackType",value:function(){function qt(it,Xt,te){var ne=this.state.views[it],Wt=(0,St.getTrackByUid)(ne.tracks,Xt),he=Wt.uid;Wt.uid=K.default.nice(),Wt.type=te;var Dt=Wt.uid;this.updateTrackLocks(it,he,Dt),this.setState(function(Ft){return{views:Ft.views}})}return qt}()},{key:"handleChangeTrackData",value:function(){function qt(it,Xt,te){var ne=this.state.views[it],Wt=(0,St.getTrackByUid)(ne.tracks,Xt);Wt.uid=K.default.nice(),Wt.data=te,this.setState(function(he){return{views:he.views}})}return qt}()},{key:"handleTrackAdded",value:function(){function qt(it,Xt,te){var ne=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(this.addDefaultTrackOptions(Xt),Xt.uid||(Xt.uid=K.default.nice()),Xt.contents){var Wt=!0,he=!1,Dt=void 0;try{for(var Ft=(0,y.default)(Xt.contents),Yt;!(Wt=(Yt=Ft.next()).done);Wt=!0){var xt=Yt.value;this.addDefaultTrackOptions(xt)}}catch(Ae){he=!0,Dt=Ae}finally{try{!Wt&&Ft.return&&Ft.return()}finally{if(he)throw Dt}}}if(this.state.addTrackPosition&&this.setState({addTrackPosition:null}),ne)return this.handleSeriesAdded(it,Xt,te,ne),null;Xt.position=te;var Bt=this.getTrackInfo(Xt.type);Xt.width=Bt.defaultWidth||Bt.defaultOptions&&Bt.defaultOptions.minWidth||this.minVerticalWidth,Xt.height=Bt.defaultHeight||Bt.defaultOptions&&Bt.defaultOptions.minHeight||this.minHorizontalHeight;var Qt=this.state.views[it].tracks,le=0;if((0,St.visitPositionedTracks)(Qt,function(){return le++}),te==="left"||te==="top")Qt[te].unshift(Xt);else if(te==="center")if(Qt.center.length===0){var ve={uid:K.default.nice(),type:"combined",contents:[Xt]};Qt.center=[ve]}else if(Qt.center[0].type==="combined")Qt.center[0].contents.push(Xt),Xt.type==="heatmap"&&this.compatibilityfyStackedHeatmaps(Xt,Qt.center[0]);else{var _e={uid:K.default.nice(),type:"combined",contents:[Qt.center[0],Xt]};Qt.center=[_e],Xt.type==="heatmap"&&this.compatibilityfyStackedHeatmaps(Xt,_e)}else Qt[te]||(Qt[te]=[]),Qt[te].push(Xt);return this.adjustLayoutToTrackSizes(this.state.views[it]),(0,v.default)(this.state.views).length===1&&le===0&&(this.handleZoomToData(it),this.zoomToDataExtentOnInit.add(it)),Xt}return qt}()},{key:"compatibilityfyStackedHeatmaps",value:function(){function qt(it,Xt){var te=void 0,ne=Xt.contents.some(function(Wt){return te=Wt,Wt.type==="heatmap"});ne&&(it.options.backgroundColor="transparent",it.options.showTooltip=te.options.showTooltip,it.options.showMousePosition=te.options.showMousePosition,it.options.mousePositionColor=te.options.mousePositionColor)}return qt}()},{key:"storeTrackSizes",value:function(){function qt(it){var Xt=this;(0,St.visitPositionedTracks)(this.state.views[it].tracks,function(te){var ne=Xt.tiledPlots[it].trackRenderer.getTrackObject(te.uid);if(ne){var Wt=(0,C.default)(ne.dimensions,2);te.width=Wt[0],te.height=Wt[1]}})}return qt}()},{key:"adjustLayoutToTrackSizes",value:function(){function qt(it){if(it.layout){var Xt=this.isEditable(),te=0;Xt&&(te+=Oe);var ne=this.calculateViewDimensions(it),Wt=ne.totalHeight;te+=Wt;var he=this.isEditable()?10:0;te+=he;var Dt=this.state.rowHeight+he;this.sizeMode!==ze&&(it.layout.h=Math.ceil(te/Dt))}}return qt}()},{key:"handleCloseTrack",value:function(){function qt(it,Xt){var te=this.state.views[it].tracks;this.handleUnlockValueScale(it,Xt);for(var ne in te){var Wt=te[ne],he=Wt.filter(function(Ft){return Ft.uid!==Xt});if(he.length===Wt.length){var Dt=he.filter(function(Ft){return Ft.type==="combined"});Dt.forEach(function(Ft){Ft.contents=Ft.contents.filter(function(Yt){return Yt.uid!==Xt})})}else te[ne]=he}return this.storeTrackSizes(it),this.adjustLayoutToTrackSizes(this.state.views[it]),this.setState(function(Ft){return{views:Ft.views}}),this.state.views}return qt}()},{key:"handleLockValueScale",value:function(){function qt(it,Xt){var te=this;this.setState({chooseTrackHandler:function(){function ne(Wt,he){return te.handleValueScaleLocked(it,Xt,Wt,he)}return ne}()})}return qt}()},{key:"combineViewAndTrackUid",value:function(){function qt(it,Xt){var te=String(it)+"."+String(Xt);if(this.combinedUidToViewTrack[te]={view:it,track:Xt},this.viewTrackUidsToCombinedUid[it]){if(this.viewTrackUidsToCombinedUid[Xt])return this.viewTrackUidsToCombinedUid[it][Xt];this.viewTrackUidsToCombinedUid[it][Xt]=te}else this.viewTrackUidsToCombinedUid[it]={},this.viewTrackUidsToCombinedUid[it][Xt]=te;return te}return qt}()},{key:"updateTrackLocks",value:function(){function qt(it,Xt,te){var ne=this.combineViewAndTrackUid(it,Xt),Wt=this.combineViewAndTrackUid(it,te);if(this.valueScaleLocks[ne]){var he=this.valueScaleLocks[ne];this.valueScaleLocks[Wt]=he,delete this.valueScaleLocks[ne]}for(var Dt in this.valueScaleLocks)if(this.valueScaleLocks[Dt][ne]){var Ft=this.valueScaleLocks[Dt][ne];this.valueScaleLocks[Dt][Wt]=Ft,Ft.track=te,delete this.valueScaleLocks[Dt][ne]}}return qt}()},{key:"handleUnlockValueScale",value:function(){function qt(it,Xt){if(this.tiledPlots[it].trackRenderer.getTrackObject(Xt).createdTracks){var te=(0,St.dictKeys)(this.tiledPlots[it].trackRenderer.getTrackObject(Xt).createdTracks),ne=!0,Wt=!1,he=void 0;try{for(var Dt=(0,y.default)(te),Ft;!(ne=(Ft=Dt.next()).done);ne=!0){var Yt=Ft.value;this.handleUnlock(this.combineViewAndTrackUid(it,Yt),this.valueScaleLocks)}}catch(xt){Wt=!0,he=xt}finally{try{!ne&&Dt.return&&Dt.return()}finally{if(Wt)throw he}}}else this.handleUnlock(this.combineViewAndTrackUid(it,Xt),this.valueScaleLocks)}return qt}()},{key:"handleValueScaleLocked",value:function(){function qt(it,Xt,te,ne){var Wt=this;if(this.tiledPlots[it].trackRenderer.getTrackObject(Xt).createdTracks){var he=(0,St.dictKeys)(this.tiledPlots[it].trackRenderer.getTrackObject(Xt).createdTracks),Dt=!0,Ft=!1,Yt=void 0;try{for(var xt=(0,y.default)(he),Bt;!(Dt=(Bt=xt.next()).done);Dt=!0){var Qt=Bt.value;this.handleValueScaleLocked(it,Qt,te,ne)}}catch(In){Ft=!0,Yt=In}finally{try{!Dt&&xt.return&&xt.return()}finally{if(Ft)throw Yt}}return}if(this.tiledPlots[te].trackRenderer.getTrackObject(ne).createdTracks){var le=(0,St.dictKeys)(this.tiledPlots[te].trackRenderer.getTrackObject(ne).createdTracks),ve=!0,_e=!1,Ae=void 0;try{for(var ge=(0,y.default)(le),ke;!(ve=(ke=ge.next()).done);ve=!0){var Ke=ke.value;this.handleValueScaleLocked(it,Xt,te,Ke)}}catch(In){_e=!0,Ae=In}finally{try{!ve&&ge.return&&ge.return()}finally{if(_e)throw Ae}}return}var $e=this.combineViewAndTrackUid(it,Xt),jn=this.combineViewAndTrackUid(te,ne);this.addLock($e,jn,this.valueScaleLocks,function(In){return Wt.combinedUidToViewTrack[In]}),this.syncValueScales(it,Xt),this.setState({chooseTrackHandler:null})}return qt}()},{key:"addCallbacks",value:function(){function qt(it,Xt){var te=this,ne=this.getTrackInfo(Xt.type);if(Xt.type==="viewport-projection-center"||Xt.type==="viewport-projection-horizontal"||Xt.type==="viewport-projection-vertical"||ne&&ne.projection){var Wt=Xt.fromViewUid;Xt.registerViewportChanged=function(he,Dt){return te.addScalesChangedListener(Wt,he,Dt)},Xt.removeViewportChanged=function(he){return te.removeScalesChangedListener(Wt,he)},Xt.setDomainsCallback=function(he,Dt){if(!Wt){te.projectionXDomains[it]||(te.projectionXDomains[it]={}),te.projectionYDomains[it]||(te.projectionYDomains[it]={}),(Xt.type==="viewport-projection-horizontal"||Xt.type==="viewport-projection-center")&&(te.projectionXDomains[it][Xt.uid]=he),(Xt.type==="viewport-projection-vertical"||Xt.type==="viewport-projection-center")&&(te.projectionYDomains[it][Xt.uid]=Dt),te.triggerViewChangeDb();return}var Ft=(0,ft.scaleLinear)().domain(he).range(te.xScales[Wt].range()),Yt=(0,ft.scaleLinear)().domain(Dt).range(te.yScales[Wt].range()),xt=(0,St.scalesCenterAndK)(Ft,Yt),Bt=(0,C.default)(xt,3),Qt=Bt[0],le=Bt[1],ve=Bt[2];te.setCenters[Wt](Qt,le,ve,!1);var _e=!1,Ae=!1;it in te.zoomLocks&&(_e=Wt in te.zoomLocks[it]),_e&&te.handleUnlock(it,te.zoomLocks),it in te.locationLocks&&(Ae=Wt in te.locationLocks[it]),Ae&&te.handleUnlock(it,te.locationLocks),te.handleScalesChanged(Wt,Ft,Yt,!0),_e&&te.addLock(it,Wt,te.zoomLocks,te.viewScalesLockData),Ae&&te.addLock(it,Wt,te.locationLocks,te.viewScalesLockData)}}}return qt}()},{key:"validateLocks",value:function(){function qt(it){var Xt=[],te=!0,ne=!1,Wt=void 0;try{for(var he=(0,y.default)((0,St.dictKeys)(it)),Dt;!(te=(Dt=he.next()).done);te=!0){var Ft=Dt.value;(!it[Ft]||!it[Ft][Ft])&&Xt.push(Ft)}}catch(_e){ne=!0,Wt=_e}finally{try{!te&&he.return&&he.return()}finally{if(ne)throw Wt}}var Yt=!0,xt=!1,Bt=void 0;try{for(var Qt=(0,y.default)(Xt),le;!(Yt=(le=Qt.next()).done);Yt=!0){var ve=le.value;it[ve]&&(console.warn("View "+String(ve)+" not present in lock group. Removing..."),this.handleUnlock(ve,it),delete it[ve])}}catch(_e){xt=!0,Bt=_e}finally{try{!Yt&&Qt.return&&Qt.return()}finally{if(xt)throw Bt}}}return qt}()},{key:"deserializeLocationLocks",value:function(){function qt(it){if(this.locationLocks={},it.locationLocks){var Xt=!0,te=!1,ne=void 0;try{for(var Wt=(0,y.default)((0,St.dictKeys)(it.locationLocks.locksByViewUid)),he;!(Xt=(he=Wt.next()).done);Xt=!0){var Dt=he.value;if((0,s.default)(it.locationLocks.locksByViewUid[Dt])!=="object")this.locationLocks[Dt]=it.locationLocks.locksDict[it.locationLocks.locksByViewUid[Dt]];else{if("x"in it.locationLocks.locksByViewUid[Dt]){var Ft=it.locationLocks.locksDict[it.locationLocks.locksByViewUid[Dt].x.lock];this.locationLocksAxisWise.x[Dt]={lock:Ft,axis:it.locationLocks.locksByViewUid[Dt].x.axis}}if("y"in it.locationLocks.locksByViewUid[Dt]){var Yt=it.locationLocks.locksDict[it.locationLocks.locksByViewUid[Dt].y.lock];this.locationLocksAxisWise.y[Dt]={lock:Yt,axis:it.locationLocks.locksByViewUid[Dt].y.axis}}}}}catch(xt){te=!0,ne=xt}finally{try{!Xt&&Wt.return&&Wt.return()}finally{if(te)throw ne}}}this.validateLocks(this.locationLocks)}return qt}()},{key:"deserializeZoomLocks",value:function(){function qt(it){if(this.zoomLocks={},it.zoomLocks){var Xt=!0,te=!1,ne=void 0;try{for(var Wt=(0,y.default)((0,St.dictKeys)(it.zoomLocks.locksByViewUid)),he;!(Xt=(he=Wt.next()).done);Xt=!0){var Dt=he.value;this.zoomLocks[Dt]=it.zoomLocks.locksDict[it.zoomLocks.locksByViewUid[Dt]]}}catch(Ft){te=!0,ne=Ft}finally{try{!Xt&&Wt.return&&Wt.return()}finally{if(te)throw ne}}}this.validateLocks(this.zoomLocks)}return qt}()},{key:"deserializeValueScaleLocks",value:function(){function qt(it){if(this.valueScaleLocks={},it.valueScaleLocks){var Xt=!0,te=!1,ne=void 0;try{for(var Wt=(0,y.default)((0,St.dictKeys)(it.valueScaleLocks.locksByViewUid)),he;!(Xt=(he=Wt.next()).done);Xt=!0){var Dt=he.value;this.valueScaleLocks[Dt]=it.valueScaleLocks.locksDict[it.valueScaleLocks.locksByViewUid[Dt]]}}catch(Ft){te=!0,ne=Ft}finally{try{!Xt&&Wt.return&&Wt.return()}finally{if(te)throw ne}}}}return qt}()},{key:"serializeLocks",value:function(){function qt(it){var Xt={},te={},ne=!0,Wt=!1,he=void 0;try{for(var Dt=(0,y.default)((0,St.dictKeys)(it)),Ft;!(ne=(Ft=Dt.next()).done);ne=!0){var Yt=Ft.value,xt=it[Yt]&&it[Yt].uid;xt||(xt=K.default.nice()),it[Yt].uid=xt,Xt[xt]=it[Yt],te[Yt]=it[Yt].uid}}catch(Bt){Wt=!0,he=Bt}finally{try{!ne&&Dt.return&&Dt.return()}finally{if(Wt)throw he}}return{locksByViewUid:te,locksDict:Xt}}return qt}()},{key:"getViewsAsJson",value:function(){function qt(){var it=this,Xt=JSON.parse((0,T.default)(this.state.viewConfig));return Xt.views=(0,_.default)(this.state.views).map(function(te){var ne=JSON.parse((0,T.default)(te));return(0,St.visitPositionedTracks)(ne.tracks,function(Wt){if(Wt.server){var he=(0,J.default)(Wt.server,{});if(!he.hostname.length){var Dt=window.location.host,Ft=window.location.protocol,Yt=String(Ft)+"//"+String(Dt)+String(he.pathname);Wt.server=Yt}}(Wt.type==="viewport-projection-center"||Wt.type==="viewport-projection-horizontal")&&it.projectionXDomains[te.uid]&&it.projectionXDomains[te.uid][Wt.uid]&&(Wt.projectionXDomain=it.projectionXDomains[te.uid][Wt.uid]),(Wt.type==="viewport-projection-center"||Wt.type==="viewport-projection-vertical")&&it.projectionYDomains[te.uid]&&it.projectionYDomains[te.uid][Wt.uid]&&(Wt.projectionYDomain=it.projectionYDomains[te.uid][Wt.uid]),delete Wt.name,delete Wt.position,delete Wt.header,delete Wt.description,delete Wt.created,delete Wt.project,delete Wt.project_name,delete Wt.serverUidKey,delete Wt.uuid,delete Wt.private,delete Wt.maxZoom,delete Wt.coordSystem,delete Wt.coordSystem2,delete Wt.datatype,delete Wt.maxWidth,delete Wt.datafile,delete Wt.binsPerDimension,delete Wt.resolutions,delete Wt.aggregationModes}),ne.uid=te.uid,ne.initialXDomain=it.xScales[te.uid].domain(),ne.initialYDomain=it.yScales[te.uid].domain(),delete ne.layout.i,ne}),Xt.zoomLocks=this.serializeLocks(this.zoomLocks),Xt.locationLocks=this.serializeLocks(this.locationLocks),Xt.valueScaleLocks=this.serializeLocks(this.valueScaleLocks),Xt}return qt}()},{key:"getViewsAsString",value:function(){function qt(){return(0,T.default)(this.getViewsAsJson(),null,2)}return qt}()},{key:"handleExportViewAsJSON",value:function(){function qt(){var it=this.getViewsAsString();(0,St.download)("viewconf.json",it)}return qt}()},{key:"handleExportViewsAsLink",value:function(){function qt(){var it=this,Xt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.state.viewConfig.exportViewUrl,te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ne=new URL(Xt,window.location.origin),Wt=fetch(Xt,{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:'{"viewconf":'+String(this.getViewsAsString())+"}",credentials:"same-origin"}).then(function(he){if(!he.ok)throw he;return he.json()}).catch(function(he){console.warn("err:",he)}).then(function(he){return{id:he.uid,url:String(ne.origin)+"/l/?d="+String(he.uid)}});return te||Wt.then(function(he){it.openModal(Z.default.createElement(Rt.default,{onDone:function(){function Dt(){it.closeModalBound()}return Dt}(),url:he.url}))}).catch(function(he){return console.error("Exporting view config as link failed:",he)}),Wt}return qt}()},{key:"handleDataDomainChanged",value:function(){function qt(it,Xt,te){var ne=this.state.views;if(ne[it].initialXDomain=Xt,ne[it].initialYDomain=te,this.xScales[it]=(0,ft.scaleLinear)().domain(Xt),this.yScales[it]=(0,ft.scaleLinear)().domain(te),this.zoomLocks[it])for(var Wt=this.zoomLocks[it],he=(0,St.dictItems)(Wt),Dt=0;Dt<he.length;Dt++){var Ft=he[Dt][0];Ft in this.locationLocks&&(ne[Ft].initialXDomain=Xt,ne[Ft].initialYDomain=te,this.xScales[Ft]=(0,ft.scaleLinear)().domain(Xt),this.yScales[Ft]=(0,ft.scaleLinear)().domain(te))}this.setState({views:ne})}return qt}()},{key:"viewPositionAvailable",value:function(){function qt(it,Xt,te,ne){var Wt=it+te,he=Xt+ne;if(it+te>ye)return!1;for(var Dt=(0,St.dictValues)(this.state.views),Ft=0;Ft<Dt.length;Ft++){var Yt=Dt[Ft].layout.x,xt=Dt[Ft].layout.y,Bt=Yt+Dt[Ft].layout.w,Qt=xt+Dt[Ft].layout.h;if(it<Bt&&Wt>Yt&&Xt<Qt&&he>xt)return!1}return!0}return qt}()},{key:"handleAddView",value:function(){function qt(it){var Xt=this,te=(0,St.dictValues)(this.state.views),ne=it,Wt=[];it.layout.w===12&&(it.layout.w=6);for(var he=0;he<te.length;he++){var Dt=te[he].layout.x+te[he].layout.w,Ft=te[he].layout.y;this.viewPositionAvailable(Dt,Ft,it.layout.w,it.layout.h)&&Wt.push([Dt,Ft]),Dt=te[he].layout.x,Ft=te[he].layout.y+te[he].layout.h,this.viewPositionAvailable(Dt,Ft,it.layout.w,it.layout.h)&&Wt.push([Dt,Ft])}Wt.sort(function(Qt,le){var ve=Qt[1]-le[1];return ve===0?Qt[0]-le[0]:ve});var Yt=(0,T.default)(ne),xt=JSON.parse(Yt);xt.initialXDomain=this.xScales[xt.uid].domain(),xt.initialYDomain=this.yScales[xt.uid].domain();var Bt=(0,C.default)(Wt[0],2);xt.layout.x=Bt[0],xt.layout.y=Bt[1],xt.uid=K.default.nice(),xt.layout.i=xt.uid,(0,St.visitPositionedTracks)(xt.tracks,function(Qt){Xt.addCallbacks(xt.uid,Qt)}),this.setState(function(Qt){var le=JSON.parse((0,T.default)(Qt.views));return le[xt.uid]=xt,{views:le}})}return qt}()},{key:"handleSelectedAssemblyChanged",value:function(){function qt(it,Xt,te,ne){var Wt=this.state.views;Wt[it].genomePositionSearchBox.chromInfoId=Xt,Wt[it].genomePositionSearchBox.autocompleteId=te,Wt[it].genomePositionSearchBox.autocompleteServer=ne}return qt}()},{key:"createGenomePostionSearchBoxEntry",value:function(){function qt(it,Xt){var te=it,ne={autocompleteServer:jt.DEFAULT_SERVER,chromInfoServer:jt.DEFAULT_SERVER,visible:!1};return te||(te=JSON.parse((0,T.default)(ne))),te.autocompleteServer||(te.autocompleteServer=ne.autocompleteServer),te.chromInfoId||(te.chromInfoId=Xt),te.chromInfoServer||(te.chromInfoServer=ne.chromInfoServer),te.visible||(te.visible=!1),te}return qt}()},{key:"handleTogglePositionSearchBox",value:function(){function qt(it){var Xt=this.state.views[it];Xt.genomePositionSearchBoxVisible=!Xt.genomePositionSearchBoxVisible;var te={};(0,St.visitPositionedTracks)(Xt.tracks,function(he){he.coordSystem&&(te[he.coordSystem]||(te[he.coordSystem]=0),te[he.coordSystem]+=1)});var ne=(0,St.dictItems)(te).sort(function(he,Dt){return Dt[1]-he[1]}),Wt="hg19";ne.length&&(Wt=ne[0][0]),Xt.genomePositionSearchBox=this.createGenomePostionSearchBoxEntry(Xt.genomePositionSearchBox,Wt),Xt.genomePositionSearchBox.visible=!Xt.genomePositionSearchBox.visible,this.refreshView(),this.setState({configMenuUid:null})}return qt}()},{key:"handleTrackOptionsChanged",value:function(){function qt(it,Xt,te){var ne=this.state.views[it],Wt=(0,St.getTrackByUid)(ne.tracks,Xt);Wt&&(Wt.options=(0,R.default)(Wt.options,te),this.mounted&&(this.setState(function(he){return{views:he.views}}),this.adjustSplitHeatmapTrackOptions(Wt,te,ne.tracks,it)))}return qt}()},{key:"adjustSplitHeatmapTrackOptions",value:function(){function qt(it,Xt,te,ne){var Wt=this;it.type==="heatmap"&&(Xt.extent==="upper-right"&&te.center[0].type==="combined"&&te.center[0].contents.length>1&&te.center[0].contents.some(function(he){if(he.type==="heatmap"&&he.uid!==it.uid&&he.options.extent!=="lower-left"){var Dt=(0,R.default)({},he.options,{extent:"lower-left",labelPosition:"bottomLeft",colorbarPosition:"bottomLeft"}),Ft=(0,R.default)({},Xt,{labelPosition:"topRight",colorbarPosition:"topRight"});return Wt.handleTrackOptionsChanged(ne,he.uid,Dt),Wt.handleTrackOptionsChanged(ne,it.uid,Ft),!0}return!1}),Xt.extent==="lower-left"&&Xt.extent==="lower-left"&&te.center[0].type==="combined"&&te.center[0].contents.length>1&&te.center[0].contents.some(function(he){if(he.type==="heatmap"&&he.uid!==it.uid&&he.options.extent!=="upper-right"){var Dt=(0,R.default)({},he.options,{extent:"upper-right",labelPosition:"topRight",colorbarPosition:"topRight"}),Ft=(0,R.default)({},Xt,{labelPosition:"bottomLeft",colorbarPosition:"bottomLeft"});return Wt.handleTrackOptionsChanged(ne,he.uid,Dt),Wt.handleTrackOptionsChanged(ne,it.uid,Ft),!0}return!1}))}return qt}()},{key:"handleViewOptionsChanged",value:function(){function qt(it,Xt){var te=this.state.views[it];te&&(te.options=(0,R.default)(te.options||{},Xt),this.mounted&&this.setState(function(ne){return{views:ne.views}}))}return qt}()},{key:"isTrackValid",value:function(){function qt(it,Xt){return!(it.type==="viewport-projection-center"&&!Xt.has(it.fromViewUid))}return qt}()},{key:"removeInvalidTracks",value:function(){function qt(it){var Xt=this,te=new M.default((0,St.dictKeys)(it)),ne=!0,Wt=!1,he=void 0;try{for(var Dt=(0,y.default)((0,St.dictValues)(it)),Ft;!(ne=(Ft=Dt.next()).done);ne=!0)for(var Yt=Ft.value,xt=["left","top","center","right","bottom"],Bt=0;Bt<xt.length;Bt++){var Qt=xt[Bt];Yt.tracks&&Yt.tracks.hasOwnProperty(Qt)&&(Yt.tracks[Qt]=Yt.tracks[Qt].filter(function(le){return Xt.isTrackValid(le,te)}),Yt.tracks[Qt].forEach(function(le){le.type==="combined"&&(le.contents=le.contents.filter(function(ve){return Xt.isTrackValid(ve,te)}))}))}}catch(le){Wt=!0,he=le}finally{try{!ne&&Dt.return&&Dt.return()}finally{if(Wt)throw he}}return it}return qt}()},{key:"processViewConfig",value:function(){function qt(it){var Xt=this,te=it.views,ne={};return(!it.views||it.views.length===0)&&(console.warn("No views provided in viewConfig"),te=[{editable:!0,tracks:{}}]),te.forEach(function(Wt){Wt.tracks&&(0,St.fillInMinWidths)(Wt.tracks),Wt.uid||(Wt.uid=K.default.nice()),ne[Wt.uid]=Wt,Xt.zoomToDataExtentOnInit.has(Wt.uid)&&Xt.zoomToDataExtentOnInit.delete(Wt.uid),Wt.initialXDomain?(Wt.initialXDomain[0]=+Wt.initialXDomain[0],Wt.initialXDomain[1]=+Wt.initialXDomain[1]):(Wt.initialXDomain=[0,100],Xt.zoomToDataExtentOnInit.add(Wt.uid)),Wt.initialYDomain?(Wt.initialXDomain[0]=+Wt.initialXDomain[0],Wt.initialXDomain[1]=+Wt.initialXDomain[1]):Wt.initialYDomain=[Wt.initialXDomain[0],Wt.initialXDomain[1]],Xt.xScales[Wt.uid]||(Xt.xScales[Wt.uid]=(0,ft.scaleLinear)().domain(Wt.initialXDomain)),Xt.yScales[Wt.uid]||(Xt.yScales[Wt.uid]=(0,ft.scaleLinear)().domain(Wt.initialYDomain)),(0,St.visitPositionedTracks)(Wt.tracks,function(he){if(he.uid||(he.uid=K.default.nice()),Xt.addCallbacks(Wt.uid,he),Xt.addDefaultTrackOptions(he),he.contents){var Dt=!0,Ft=!1,Yt=void 0;try{for(var xt=(0,y.default)(he.contents),Bt;!(Dt=(Bt=xt.next()).done);Dt=!0){var Qt=Bt.value;Xt.addDefaultTrackOptions(Qt)}}catch(le){Ft=!0,Yt=le}finally{try{!Dt&&xt.return&&xt.return()}finally{if(Ft)throw Yt}}}}),Wt.layout?Wt.layout.i=Wt.uid:Wt.layout=Xt.generateViewLayout(Wt)}),this.deserializeZoomLocks(it),this.deserializeLocationLocks(it),this.deserializeValueScaleLocks(it),ne=this.removeInvalidTracks(ne),ne}return qt}()},{key:"handleWindowFocused",value:function(){function qt(){}return qt}()},{key:"rangeSelectionHandler",value:function(){function qt(it){this.rangeSelection=it,this.apiPublish("rangeSelection",it)}return qt}()},{key:"offViewChange",value:function(){function qt(it){this.viewChangeListener.splice(it,1)}return qt}()},{key:"onViewChange",value:function(){function qt(it){return this.viewChangeListener.push(it)-1}return qt}()},{key:"triggerViewChange",value:function(){function qt(){var it=this;this.viewChangeListener.forEach(function(Xt){return Xt(it.getViewsAsString())})}return qt}()},{key:"getGenomeLocation",value:function(){function qt(it){var Xt=this;return at.chromInfo.get(this.state.views[it].chromInfoPath).then(function(te){return(0,St.scalesToGenomeLoci)(Xt.xScales[it],Xt.yScales[it],te)})}return qt}()},{key:"offLocationChange",value:function(){function qt(it,Xt){this.removeScalesChangedListener(it,Xt)}return qt}()},{key:"zoomTo",value:function(){function qt(it,Xt,te,ne,Wt,he){if(!(it in this.setCenters))throw Error("Invalid viewUid. Current uuids: "+String((0,v.default)(this.setCenters).join(",")));if((0,e.default)(+Xt)||(0,e.default)(+te)){var Dt=[Xt,te].join(", ");console.warn(["Invalid coordinates ("+String(Dt)+`). All coordinates need to be numbers
        and should represent absolute coordinates (not chromosome
        coordinates).`].join(" "));return}((0,e.default)(+ne)||(0,e.default)(+Wt)||ne===null||Wt===null)&&(ne=Xt,Wt=te);var Ft=(0,St.scalesCenterAndK)(this.xScales[it].copy().domain([Xt,te]),this.yScales[it].copy().domain([ne,Wt])),Yt=(0,C.default)(Ft,3),xt=Yt[0],Bt=Yt[1],Qt=Yt[2];this.setCenters[it](xt,Bt,Qt,!1,he)}return qt}()},{key:"zoomToGene",value:function(){function qt(it,Xt,te,ne){var Wt=this;if(!(it in this.setCenters))throw Error("Invalid viewUid. Current uuids: "+String((0,v.default)(this.setCenters).join(",")));if(!this.state.views[it].genomePositionSearchBox||!this.state.views[it].genomePositionSearchBox.autocompleteServer||!this.state.views[it].genomePositionSearchBox.autocompleteId||!this.state.views[it].chromInfoPath){console.warn("Please set chromInfoPath, autocompleteServer, and autocompleteId to use the zoomToGene API");return}this.suggestGene(it,Xt,function(he){if(he){var Dt=he.find(function(Bt){return Bt.geneName.toLowerCase()===Xt.toLowerCase()});if(Dt){var Ft=Dt.chr,Yt=Dt.txStart,xt=Dt.txEnd;(0,_t.default)(Wt.state.views[it].chromInfoPath,function(Bt){var Qt=Bt.chrToAbs([Ft,Yt])-te,le=Bt.chrToAbs([Ft,xt])+te,ve=(0,St.scalesCenterAndK)(Wt.xScales[it].copy().domain([Qt,le]),Wt.yScales[it].copy().domain([Qt,le])),_e=(0,C.default)(ve,3),Ae=_e[0],ge=_e[1],ke=_e[2];Wt.setCenters[it](Ae,ge,ke,!1,ne)},Wt.pubSub)}else console.warn("Couldn't find the gene symbol: "+String(Xt))}})}return qt}()},{key:"suggestGene",value:function(){function qt(it,Xt,te){if(!(it in this.setCenters))throw Error("Invalid viewUid. Current uuids: "+String((0,v.default)(this.setCenters).join(",")));if(!this.state.views[it].genomePositionSearchBox||!this.state.views[it].genomePositionSearchBox.autocompleteServer||!this.state.views[it].genomePositionSearchBox.autocompleteId){console.warn("Please set autocompleteServer and autocompleteId to use the suggestGene API");return}var ne=this.state.views[it].genomePositionSearchBox.autocompleteServer,Wt=this.state.views[it].genomePositionSearchBox.autocompleteId,he=String(ne)+"/suggest/?d="+String(Wt)+"&ac="+String(Xt.toLowerCase());at.tileProxy.json(he,St.toVoid,this.pubSub).then(function(Dt){te(Dt)}).catch(function(Dt){return console.error(Dt)})}return qt}()},{key:"onLocationChange",value:function(){function qt(it,Xt,te){var ne=(0,v.default)(this.state.views);if(!ne.length)return this.unsetOnLocationChange.push({viewId:it,callback:Xt,callbackId:te}),null;if(it=typeof it>"u"&&ne.length===1?ne[0]:it,typeof it>"u"||ne.indexOf(it)===-1)return console.error("onLocationChange either missing a viewId or passed an invalid viewId: ",it),null;var Wt=this.state.views[it],he=function(){function Ft(Yt,xt){Xt({xDomain:Yt.domain(),yDomain:xt.domain(),xRange:Yt.range(),yRange:xt.range()})}return Ft}(),Dt=1;return this.scalesChangedListeners[Wt.uid]&&(Dt=(0,v.default)(this.scalesChangedListeners[Wt.uid]).filter(function(Ft){return Ft.indexOf(jt.LOCATION_LISTENER_PREFIX)===0}).map(function(Ft){return parseInt(Ft.slice(jt.LOCATION_LISTENER_PREFIX.length+1),10)}).reduce(function(Ft,Yt){return Math.max(Ft,Yt)},0)+1),this.addScalesChangedListener(Wt.uid,String(jt.LOCATION_LISTENER_PREFIX)+"."+String(Dt),he),te&&te(String(jt.LOCATION_LISTENER_PREFIX)+"."+String(Dt)),Dt}return qt}()},{key:"getTiledPlotAtPosition",value:function(){function qt(it,Xt){for(var te=void 0,ne=(0,St.dictValues)(this.state.views),Wt=0;Wt<ne.length;Wt++){var he=this.tiledPlots[ne[Wt].uid],Dt=this.tiledAreasDivs[ne[Wt].uid].getBoundingClientRect(),Ft=Dt.top,Yt=Dt.left,xt=Ft+Dt.height,Bt=Yt+Dt.width,Qt=it>=Yt&&it<=Bt,le=Xt>=Ft&&Xt<=xt;if(Qt&&le){te=he;break}}return te}return qt}()},{key:"mouseMoveHandler",value:function(){function qt(it){if(!(!this.topDiv||this.state.modal)){var Xt=it.clientX,te=it.clientY,ne=(0,rt.clientPoint)(this.topDiv,it);ne[1]+=this.scrollTop;var Wt=this.getTiledPlotAtPosition(Xt,te),he=Wt?Wt.listTracksAtPosition(ne[0],ne[1],!0).map(function(le){return le.originalTrack||le}):[],Dt=he.find(function(le){return!le.isAugmentationTrack}),Ft=Dt?[ne[0]-Dt.position[0],ne[1]-Dt.position[1]]:ne,Yt=-1,xt=-1;Dt&&(Yt=Dt.flipText?Dt._xScale.invert(Ft[1]):Dt._xScale.invert(Ft[0]),xt=Dt.is2d?Dt._yScale.invert(Ft[1]):Yt);var Bt={x:ne[0],y:ne[1],relTrackX:Dt&&Dt.flipText?Ft[1]:Ft[0],relTrackY:Dt&&Dt.flipText?Ft[0]:Ft[1],dataX:Yt,dataY:xt,isFrom2dTrack:!!(Dt&&Dt.is2d),isFromVerticalTrack:!!(Dt&&Dt.flipText),track:Dt,origEvt:it,sourceUid:this.uid,hoveredTracks:he,noHoveredTracks:he.length===0};if(this.pubSub.publish("app.mouseMove",Bt),this.isBroadcastMousePositionGlobally){var Qt=(0,a.default)({},Bt);Qt.origEvt=void 0,Qt.track=void 0,Qt.hoveredTracks=void 0,delete Qt.origEvt,delete Qt.track,delete Qt.hoveredTracks,lt.globalPubSub.publish("higlass.mouseMove",Qt)}this.apiPublish("cursorLocation",{absX:Xt,absY:te,relX:Bt.x,relY:Bt.y,relTrackX:Bt.relTrackX,relTrackY:Bt.relTrackY,dataX:Bt.dataX,dataY:Bt.dataY,isFrom2dTrack:Bt.isFrom2dTrack,isFromVerticalTrack:Bt.isFromVerticalTrack}),this.showHoverMenu(Bt)}}return qt}()},{key:"getMinMaxValue",value:function(){function qt(it,Xt,te,ne){var Wt=(0,St.getTrackObjById)(this.tiledPlots,it,Xt);if(!Wt){console.warn("Track with ID: "+String(Xt)+" not found!");return}if(!Wt.minVisibleValueInTiles||!Wt.maxVisibleValueInTiles){console.warn("Track "+String(Xt)+" doesn't support the retrieval of min or max values.");return}return te&&Wt.getAggregatedVisibleValue?[Wt.getAggregatedVisibleValue("min"),Wt.getAggregatedVisibleValue("max")]:[Wt.minVisibleValueInTiles(ne),Wt.maxVisibleValueInTiles(ne)]}return qt}()},{key:"showHoverMenu",value:function(){function qt(it){var Xt=it.track&&it.track.getMouseOverHtml?it.track.getMouseOverHtml(it.relTrackX,it.relTrackY):"";if(it.track!==this.prevMouseHoverTrack&&this.prevMouseHoverTrack&&this.prevMouseHoverTrack.stopHover&&this.prevMouseHoverTrack.stopHover(),this.prevMouseHoverTrack=it.track,!this.zooming){var te=Xt&&Xt.length?[1]:[],ne=(0,rt.select)("body").selectAll(".track-mouseover-menu").data(te);ne.exit().remove(),ne.enter().append("div").classed("track-mouseover-menu",!0).classed(ue.default["track-mouseover-menu"],!0),ne=(0,rt.select)("body").selectAll(".track-mouseover-menu");var Wt=(0,rt.clientPoint)((0,rt.select)("body").node(),it.origEvt),he=[Wt[0]-window.scrollX,Wt[1]-window.scrollY];if(ne.style("left",String(he[0])+"px").style("top",String(he[1])+"px"),!!ne.node()){var Dt=ne.node().getBoundingClientRect();Dt.x+Dt.width>window.innerWidth&&ne.style("left",he[0]-Dt.width+"px"),Dt.y+Dt.height>window.innerHeight&&ne.style("top",he[1]-Dt.height+"px"),ne.html(Xt)}}}return qt}()},{key:"hideHoverMenu",value:function(){function qt(){(0,rt.select)("body").selectAll(".track-mouseover-menu").remove()}return qt}()},{key:"appClickHandler",value:function(){function qt(it){this.apiPublish("click",it)}return qt}()},{key:"mouseMoveZoomHandler",value:function(){function qt(it){this.apiPublish("mouseMoveZoom",it)}return qt}()},{key:"geneSearchHandler",value:function(){function qt(it){this.apiPublish("geneSearch",it)}return qt}()},{key:"mouseDownHandler",value:function(){function qt(it){}return qt}()},{key:"onScrollHandler",value:function(){function qt(){this.props.options.sizeMode===Be&&(this.scrollTop=this.scrollContainer.scrollTop,this.pixiStage.y=-this.scrollTop,this.pubSub.publish("app.scroll",this.scrollTop),this.animate())}return qt}()},{key:"setTrackValueScaleLimits",value:function(){function qt(it,Xt,te,ne){var Wt=(0,St.getTrackObjById)(this.tiledPlots,it,Xt);if(!Wt){console.warn("Could't find track: "+String(Xt));return}Wt.setFixedValueScaleMin&&Wt.setFixedValueScaleMax?(Wt.setFixedValueScaleMin(te),Wt.setFixedValueScaleMax(ne),Wt.rerender(Wt.options,!0),Wt.animate()):console.warn("Track doesn't support fixed value scales.")}return qt}()},{key:"setChromInfo",value:function(){function qt(it,Xt){var te=this;(0,_t.default)(it,function(ne){te.chromInfo=ne,Xt()},this.pubSub)}return qt}()},{key:"onMouseLeaveHandler",value:function(){function qt(){this.pubSub.publish("app.mouseLeave"),this.hideHoverMenu(),this.animate()}return qt}()},{key:"onBlurHandler",value:function(){function qt(){this.animate()}return qt}()},{key:"isZoomFixed",value:function(){function qt(it){return this.props.zoomFixed||this.props.options.zoomFixed||this.state.viewConfig.zoomFixed||this.props.options.sizeMode===Be||it&&it.zoomFixed}return qt}()},{key:"trackDimensionsModifiedHandler",value:function(){function qt(it){var Xt=this.state.views[it.viewId];if(Xt){var te=(0,St.getTrackByUid)(Xt.tracks,it.trackId);te&&(it.height!==void 0&&(te.height=it.height),it.width!==void 0&&(te.width=it.width),this.adjustLayoutToTrackSizes(Xt),this.setState(function(ne){return{views:ne.views}}))}}return qt}()},{key:"wheelHandler",value:function(){function qt(it){if(!(this.state.modal||this.props.options.sizeMode===Be)){var Xt=it.nativeEvent||it,te=it.target===this.canvasElement;if((0,St.hasParent)(Xt.target,this.topDiv)&&!this.isZoomFixed()){var ne=Xt.clientX,Wt=Xt.clientY,he=this.getTiledPlotAtPosition(ne,Wt);if(this.apiStack.wheel&&this.apiStack.wheel.length>0){var Dt=(0,rt.clientPoint)(this.topDiv,Xt);Dt[1]+=this.scrollTop;var Ft=he?he.listTracksAtPosition(Dt[0],Dt[1],!0).map(function(le){return le.originalTrack||le}):[],Yt=Ft.find(function(le){return!le.isAugmentationTrack}),xt=Yt?[Dt[0]-Yt.position[0],Dt[1]-Yt.position[1]]:Dt,Bt={x:Dt[0],y:Dt[1],relTrackX:Yt&&Yt.flipText?xt[1]:xt[0],relTrackY:Yt&&Yt.flipText?xt[0]:xt[1],track:Yt,origEvt:Xt,sourceUid:this.uid,hoveredTracks:Ft,noHoveredTracks:Ft.length===0};this.apiPublish("wheel",Bt)}if(Xt.forwarded||te){it.stopPropagation(),it.preventDefault();return}if(it.preventDefault(),he){var Qt=he.trackRenderer;Xt.forwarded=!0,Xt&&((0,St.forwardEvent)(Xt,Qt.eventTracker),Xt.preventDefault())}}}}return qt}()},{key:"render",value:function(){function qt(){var it=this;this.tiledAreasDivs={},this.tiledAreas=Z.default.createElement("div",{className:"HiGlass-module_tiled-area-22H1L"}),this.mounted&&(this.tiledAreas=(0,St.dictValues)(this.state.views).map(function(xt){var Bt=xt.uid===it.state.addTrackPositionMenuUid?it.state.addTrackPositionMenuPosition:null,Qt=null;if(it.state.chooseViewHandler){var le="transparent";it.state.mouseOverOverlayUid===xt.uid&&(le="green"),Qt=Z.default.createElement("div",{className:"tiled-plot-overlay",onClick:function(){function ge(){return it.state.chooseViewHandler(xt.uid)}return ge}(),onMouseEnter:function(){function ge(){return it.handleOverlayMouseEnter(xt.uid)}return ge}(),onMouseLeave:function(){function ge(){return it.handleOverlayMouseLeave(xt.uid)}return ge}(),onMouseMove:function(){function ge(){return it.handleOverlayMouseEnter(xt.uid)}return ge}(),style:{position:"absolute",width:"100%",height:"100%",background:le,opacity:.3,zIndex:1}})}var ve=Z.default.createElement(bt.default,{key:"tp"+String(xt.uid),ref:function(){function ge(ke){it.tiledPlots[xt.uid]=ke}return ge}(),addTrackPosition:it.state.addTrackPositionView===xt.uid?it.state.addTrackPosition:null,addTrackPositionMenuPosition:Bt,canvasElement:it.state.canvasElement,chooseTrackHandler:it.state.chooseTrackHandler?function(ge){return it.state.chooseTrackHandler(xt.uid,ge)}:null,chromInfoPath:xt.chromInfoPath,disableTrackMenu:it.isTrackMenuDisabled(),draggingHappening:it.state.draggingHappening,editable:it.isEditable(),getLockGroupExtrema:function(){function ge(ke){return it.getLockGroupExtrema(xt.uid,ke)}return ge}(),initialXDomain:xt.initialXDomain,initialYDomain:xt.initialYDomain,isShowGlobalMousePosition:it.isShowGlobalMousePosition,isValueScaleLocked:function(){function ge(ke){return it.isValueScaleLocked(xt.uid,ke)}return ge}(),marginBottom:it.viewMarginBottom,marginLeft:it.viewMarginLeft,marginRight:it.viewMarginRight,marginTop:it.viewMarginTop,metaTracks:xt.metaTracks,mouseTool:it.state.mouseTool,onChangeTrackData:function(){function ge(ke,Ke){return it.handleChangeTrackData(xt.uid,ke,Ke)}return ge}(),onChangeTrackType:function(){function ge(ke,Ke){return it.handleChangeTrackType(xt.uid,ke,Ke)}return ge}(),onCloseTrack:function(){function ge(ke){return it.handleCloseTrack(xt.uid,ke)}return ge}(),onDataDomainChanged:function(){function ge(ke,Ke){return it.handleDataDomainChanged(xt.uid,ke,Ke)}return ge}(),onLockValueScale:function(){function ge(ke){return it.handleLockValueScale(xt.uid,ke)}return ge}(),onMouseMoveZoom:it.mouseMoveZoomHandler.bind(it),onNewTilesLoaded:function(){function ge(ke){return it.handleNewTilesLoaded(xt.uid,ke)}return ge}(),onNoTrackAdded:it.handleNoTrackAdded.bind(it),onRangeSelection:it.rangeSelectionHandler.bind(it),onResizeTrack:it.triggerViewChangeDb,onScalesChanged:function(){function ge(ke,Ke){return it.handleScalesChanged(xt.uid,ke,Ke)}return ge}(),onTrackOptionsChanged:function(){function ge(ke,Ke){return it.handleTrackOptionsChanged(xt.uid,ke,Ke)}return ge}(),onTrackPositionChosen:it.handleTrackPositionChosen.bind(it),onTracksAdded:function(){function ge(ke,Ke,$e){return it.handleTracksAdded(xt.uid,ke,Ke,$e)}return ge}(),onUnlockValueScale:function(){function ge(ke){return it.handleUnlockValueScale(xt.uid,ke)}return ge}(),onValueScaleChanged:function(){function ge(ke){return it.syncValueScales(xt.uid,ke)}return ge}(),overlays:xt.overlays,paddingBottom:it.viewPaddingBottom,paddingLeft:it.viewPaddingLeft,paddingRight:it.viewPaddingRight,paddingTop:it.viewPaddingTop,pixiRenderer:it.pixiRenderer,pixiStage:it.pixiStage,pluginDataFetchers:it.pluginDataFetchers,pluginTracks:it.pluginTracks,rangeSelection1dSize:it.state.rangeSelection1dSize,rangeSelectionToInt:it.state.rangeSelectionToInt,registerDraggingChangedListener:function(){function ge(ke){return it.addDraggingChangedListener(xt.uid,xt.uid,ke)}return ge}(),removeDraggingChangedListener:function(){function ge(ke){return it.removeDraggingChangedListener(xt.uid,xt.uid,ke)}return ge}(),setCentersFunction:function(){function ge(ke){it.setCenters[xt.uid]=ke}return ge}(),svgElement:it.state.svgElement,tracks:xt.tracks,trackSourceServers:it.state.viewConfig.trackSourceServers,uid:xt.uid,verticalMargin:it.verticalMargin,viewOptions:xt.options,xDomainLimits:xt.xDomainLimits,yDomainLimits:xt.yDomainLimits,zoomable:!it.isZoomFixed(xt),zoomLimits:it.calculateZoomLimits(xt,xt.initialXDomain),zoomToDataExtentOnInit:function(){function ge(){return it.zoomToDataExtentOnInit.has(xt.uid)}return ge}()}),_e=function(){function ge(ke,Ke){return xt.genomePositionSearchBox?Z.default.createElement(vt.default,{key:"gpsb"+String(xt.uid),ref:function(){function $e(jn){it.genomePositionSearchBoxes[xt.uid]=jn}return $e}(),autocompleteId:xt.genomePositionSearchBox.autocompleteId,autocompleteServer:xt.genomePositionSearchBox.autocompleteServer,chromInfoId:xt.genomePositionSearchBox.chromInfoId,chromInfoPath:xt.genomePositionSearchBox.chromInfoPath,chromInfoServer:xt.genomePositionSearchBox.chromInfoServer,hideAvailableAssemblies:xt.genomePositionSearchBox.hideAvailableAssemblies,isFocused:ke,onFocus:Ke,onGeneSearch:it.geneSearchHandler.bind(it),onSelectedAssemblyChanged:function(){function $e(jn,In,xn){return it.handleSelectedAssemblyChanged(xt.uid,jn,In,xn)}return $e}(),registerViewportChangedListener:function(){function $e(jn){return it.addScalesChangedListener(xt.uid,xt.uid,jn)}return $e}(),removeViewportChangedListener:function(){function $e(){return it.removeScalesChangedListener(xt.uid,xt.uid)}return $e}(),setCenters:function(){function $e(jn,In,xn,Un){return it.setCenters[xt.uid](jn,In,xn,!1,Un)}return $e}(),trackSourceServers:it.state.viewConfig.trackSourceServers,twoD:!0}):null}return ge}(),Ae=it.isEditable()&&!it.isViewHeaderDisabled()&&!it.state.viewConfig.hideHeader?Z.default.createElement(ee.default,{ref:function(){function ge(ke){it.viewHeaders[xt.uid]=ke}return ge}(),getGenomePositionSearchBox:_e,isGenomePositionSearchBoxVisible:xt.genomePositionSearchBox&&xt.genomePositionSearchBox.visible,mouseTool:it.state.mouseTool,onAddView:function(){function ge(){return it.handleAddView(xt)}return ge}(),onClearView:function(){function ge(){return it.handleClearView(xt.uid)}return ge}(),onCloseView:function(){function ge(){return it.handleCloseView(xt.uid)}return ge}(),onEditViewConfig:it.handleEditViewConfigBound,onExportPNG:it.handleExportPNG.bind(it),onExportSVG:it.handleExportSVG.bind(it),onExportViewsAsJSON:it.handleExportViewAsJSON.bind(it),onExportViewsAsLink:it.handleExportViewsAsLink.bind(it),onLockLocation:function(){function ge(ke){return it.handleYankFunction(ke,it.handleLocationLockChosen.bind(it))}return ge}(),onLockZoom:function(){function ge(ke){return it.handleYankFunction(ke,it.handleZoomLockChosen.bind(it))}return ge}(),onLockZoomAndLocation:function(){function ge(ke){return it.handleYankFunction(ke,function(Ke,$e){it.handleZoomLockChosen(Ke,$e),it.handleLocationLockChosen(Ke,$e)})}return ge}(),onProjectViewport:it.handleProjectViewport.bind(it),onTakeAndLockZoomAndLocation:function(){function ge(ke){it.handleYankFunction(ke,function(Ke,$e){it.handleZoomYanked(Ke,$e),it.handleLocationYanked(Ke,$e),it.handleZoomLockChosen(Ke,$e),it.handleLocationLockChosen(Ke,$e)})}return ge}(),onTogglePositionSearchBox:it.handleTogglePositionSearchBox.bind(it),onTrackPositionChosen:function(){function ge(ke){return it.handleTrackPositionChosen(xt.uid,ke)}return ge}(),onUnlockLocation:function(){function ge(ke){return it.handleUnlock(ke,it.locationLocks)}return ge}(),onUnlockZoom:function(){function ge(ke){return it.handleUnlock(ke,it.zoomLocks)}return ge}(),onUnlockZoomAndLocation:function(){function ge(ke){it.handleUnlock(ke,it.zoomLocks),it.handleUnlock(ke,it.locationLocks)}return ge}(),onViewOptionsChanged:function(){function ge(ke){return it.handleViewOptionsChanged(xt.uid,ke)}return ge}(),onYankLocation:function(){function ge(ke){return it.handleYankFunction(ke,it.handleLocationYanked.bind(it))}return ge}(),onYankZoom:function(){function ge(ke){return it.handleYankFunction(ke,it.handleZoomYanked.bind(it))}return ge}(),onYankZoomAndLocation:function(){function ge(ke){return it.handleYankFunction(ke,function(Ke,$e){it.handleZoomYanked(Ke,$e),it.handleLocationYanked(Ke,$e)})}return ge}(),onZoomToData:function(){function ge(ke){return it.handleZoomToData(ke)}return ge}(),viewUid:xt.uid}):null;return Z.default.createElement("div",{key:xt.uid,ref:function(){function ge(ke){it.tiledAreasDivs[xt.uid]=ke}return ge}(),className:"HiGlass-module_tiled-area-22H1L"},Ae,ve,Qt)}));var Xt=this.mounted?(0,_.default)(this.state.views).filter(function(xt){return xt.layout}).map(function(xt){return xt.layout}):[];Xt=JSON.parse((0,T.default)(Xt));var te=this.isEditable()?jt.DEFAULT_CONTAINER_PADDING_X:0,ne=this.isEditable()?jt.DEFAULT_CONTAINER_PADDING_Y:0,Wt=+this.props.options.containerPaddingX>=0?+this.props.options.containerPaddingX:te,he=+this.props.options.containerPaddingY>=0?+this.props.options.containerPaddingY:ne,Dt=Z.default.createElement(pt.default,{ref:function(){function xt(Bt){it.gridLayout=Bt}return xt}(),cols:12,containerPadding:[Wt,he],draggableHandle:"."+String(It.default["multitrack-header-grabber"]),isDraggable:this.isEditable(),isResizable:this.isEditable(),layout:Xt,margin:this.isEditable()?[10,10]:[0,0],measureBeforeMount:!1,onBreakpointChange:this.onBreakpointChange.bind(this),onDragStart:this.handleDragStart.bind(this),onDragStop:this.handleDragStop.bind(this),onLayoutChange:this.handleLayoutChange.bind(this),onResize:this.resizeHandler.bind(this),rowHeight:this.state.rowHeight,useCSSTransforms:this.mounted,verticalCompact:this.state.viewConfig.compactLayout,width:this.state.width},this.tiledAreas),Ft="styles.higlass";this.theme===jt.THEME_DARK&&(Ft+=" styles.higlass-dark-theme"),(this.props.options.sizeMode===Ue||this.props.options.sizeMode===Be)&&(Ft+=" styles.higlass-container-overflow");var Yt="";return this.props.options.sizeMode===Ue?Yt="styles.higlass-scroll-container-overflow":this.props.options.sizeMode===Be&&(Yt="styles.higlass-scroll-container-scroll"),Z.default.createElement("div",{key:this.uid,ref:function(){function xt(Bt){it.topDiv=Bt}return xt}(),onMouseLeave:this.onMouseLeaveHandlerBound,onMouseMove:this.mouseMoveHandlerBound,className:"higlass "+(0,z.default)(Ft,wt)},Z.default.createElement(gt.Provider,{value:this.pubSub},Z.default.createElement(fe.Provider,{value:this.modal},Z.default.createElement(Ct.Provider,{value:this.theme},this.state.modal,Z.default.createElement("canvas",{key:this.uid,ref:function(){function xt(Bt){it.canvasElement=Bt}return xt}(),className:"HiGlass-module_higlass-canvas-_mP9r"}),Z.default.createElement("div",{ref:function(){function xt(Bt){it.scrollContainer=Bt}return xt}(),onScroll:this.onScrollHandlerBound,className:"higlass-scroll-container "+(0,z.default)(Yt,wt)},Z.default.createElement("div",{ref:function(){function xt(Bt){it.divDrawingSurface=Bt}return xt}(),className:"higlass-drawing-surface HiGlass-module_higlass-drawing-surface-3aQQo"},Dt),Z.default.createElement("svg",{ref:function(){function xt(Bt){it.svgElement=Bt}return xt}(),style:{position:"absolute",width:"100%",height:"100%",left:0,top:0,pointerEvents:"none"},className:"HiGlass-module_higlass-svg-JJZbf"}))))))}return qt}()},{key:"sizeMode",get:function(){function qt(){return typeof this.props.options.sizeMode>"u"?this.props.options.bounded?"bounded":Ne:this.props.options.sizeMode}return qt}()}]),pn}(Z.default.Component);Je.defaultProps={options:{},zoomFixed:!1,compactLayout:!0},Je.propTypes={getApi:Y.default.func,options:Y.default.object,viewConfig:Y.default.oneOfType([Y.default.string,Y.default.object]).isRequired,zoomFixed:Y.default.bool,compactLayout:Y.default.bool},r.default=Je},function(f,r,t){t(234),f.exports=t(12).Number.isNaN},function(f,r,t){var n=t(16);n(n.S,"Number",{isNaN:function(a){return a!=a}})},function(f,r,t){t(61),t(236),f.exports=t(12).Array.from},function(f,r,t){var n=t(49),a=t(16),l=t(54),e=t(165),o=t(166),s=t(88),u=t(237),c=t(112);a(a.S+a.F*!t(167)(function(m){Array.from(m)}),"Array",{from:function(m){var p=l(m),h=typeof this=="function"?this:Array,v=arguments.length,x=v>1?arguments[1]:void 0,y=x!==void 0,k=0,T=c(p),E,_,A,C;if(y&&(x=n(x,v>2?arguments[2]:void 0,2)),T!=null&&!(h==Array&&o(T)))for(C=T.call(p),_=new h;!(A=C.next()).done;k++)u(_,k,y?e(C,x,[A.value,k],!0):A.value);else for(E=s(p.length),_=new h(E);E>k;k++)u(_,k,y?x(p[k],k):p[k]);return _.length=k,_}})},function(f,r,t){var n=t(32),a=t(66);f.exports=function(l,e,o){e in l?n.f(l,e,a(0,o)):l[e]=o}},function(f,r,t){var n=t(33);f.exports=function(a,l){if(!n(a)||a._t!==l)throw TypeError("Incompatible receiver, "+l+" required!");return a}},function(f,r,t){t(240),f.exports=-9007199254740991},function(f,r,t){var n=t(16);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(f,r,t){t(242),f.exports=9007199254740991},function(f,r,t){var n=t(16);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(f,r,t){function n(a){for(var l=new Array(a),e=0;e<a;++e)l[e]=e;return l}f.exports=n},function(f,r){/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */f.exports=function(a){return a!=null&&(t(a)||n(a)||!!a._isBuffer)};function t(a){return!!a.constructor&&typeof a.constructor.isBuffer=="function"&&a.constructor.isBuffer(a)}function n(a){return typeof a.readFloatLE=="function"&&typeof a.slice=="function"&&t(a.slice(0,0))}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(17),a=R(n),l=t(62),e=R(l),o=t(246),s=R(o),u=t(247),c=R(u),m=t(35),p=R(m),h=t(3),v=R(h),x=t(4),y=R(x),k=t(26),T=R(k),E=t(28),_=t(10),A=t(137),C=R(A),S=t(138),P=R(S),O=t(24);function R(M){return M&&M.__esModule?M:{default:M}}var I=function(){function M(H,L){if((0,v.default)(this,M),this.tilesetInfoLoading=!0,!H){console.error("No dataconfig provided");return}this.dataConfig=JSON.parse((0,p.default)(H)),this.uuid=T.default.nice(),this.pubSub=L,this.dataConfig.children&&(this.dataConfig.children=H.children.map(function(D){return new M(D,L)}))}return(0,y.default)(M,[{key:"registerFileUrl",value:function(){var H=(0,c.default)(s.default.mark(function(){function D(j){var W=j.server,B=j.url,F=j.filetype,N=j.coordSystem,X,G;return s.default.wrap(function(){function V(z){for(;;)switch(z.prev=z.next){case 0:return X=String((0,_.trimTrailingSlash)(W))+"/register_url/",G={fileurl:B,filetype:F,coordSystem:N},z.abrupt("return",fetch(X,{method:"POST",body:(0,p.default)(G),headers:{"Content-Type":"application/json; charset=utf-8"}}));case 3:case"end":return z.stop()}}return V}(),D,this)}return D}()));function L(D){return H.apply(this,arguments)}return L}()},{key:"tilesetInfo",value:function(){function H(L){var D=this;return this.dataConfig.server&&this.dataConfig.url&&this.dataConfig.filetype?this.registerFileUrl(this.dataConfig).then(function(j){return j.json()}).then(function(j){D.dataConfig.tilesetUid=j.uid,D.tilesetInfoAfterRegister(L)}).catch(function(j){console.error("Error registering url",j)}):new e.default(function(){D.tilesetInfoAfterRegister(L)})}return H}()},{key:"tilesetInfoAfterRegister",value:function(){function H(L){var D=this;if(!this.dataConfig.children)!this.dataConfig.server||!this.dataConfig.tilesetUid?(console.warn("No dataConfig children, server or tilesetUid:",this.dataConfig),L(null)):O.tileProxy.trackInfo(this.dataConfig.server,this.dataConfig.tilesetUid,function(W){D.dataConfig.tilesetInfo=W[D.dataConfig.tilesetUid],L(W[D.dataConfig.tilesetUid],D.dataConfig.tilesetUid)},function(W){D.tilesetInfoLoading=!1,L({error:W})},this.pubSub);else{var j=this.dataConfig.children.map(function(W){return new e.default(function(B){W.tilesetInfo(B)})});e.default.all(j).then(function(W){L(W[0])})}}return H}()},{key:"fullTileId",value:function(){function H(L,D){return String(L)+"."+String(D)}return H}()},{key:"fetchTilesDebounced",value:function(){function H(L,D){var j=this;if(this.dataConfig.type==="horizontal-section")this.fetchHorizontalSection(L,D);else if(this.dataConfig.type==="vertical-section")this.fetchHorizontalSection(L,D,!0);else if(!this.dataConfig.children&&this.dataConfig.tilesetUid){var W=new e.default(function(F){return O.tileProxy.fetchTilesDebounced({id:T.default.nice(),server:j.dataConfig.server,done:F,ids:D.map(function(N){return String(j.dataConfig.tilesetUid)+"."+String(N)}),options:j.dataConfig.options},j.pubSub,!0)});W.then(function(F){for(var N=(0,_.dictValues)(F)[0].tilesetUid,X={},G=0;G<D.length;G++){var V=j.fullTileId(N,D[G]);F[V].tilePositionId=D[G],X[D[G]]=F[V]}L(X)})}else{var B=this.dataConfig.children.map(function(F){return new e.default(function(N){F.fetchTilesDebounced(N,D)},j.pubSub,!0)});e.default.all(B).then(function(F){if(j.dataConfig.type==="divided"){var N=j.makeDivided(F,D);L(N)}else console.warn("Unimplemented dataConfig type. Returning first data source.",j.dataConfig),L(F[0])})}}return H}()},{key:"divideData",value:function(){function H(L,D){for(var j=new Float32Array(L.length),W=0;W<j.length;W++)D[W]===0?j[W]=NaN:j[W]=L[W]/D[W];return j}return H}()},{key:"horizontalSlice",value:function(){function H(){return null}return H}()},{key:"extractDataSlice",value:function(){function H(L,D,j,W){if(!W)return L.slice(D[1]*j,D[1]*(j+1));for(var B=new Array(D[1]),F=j;F<L.length;F+=D[0])B[Math.floor(F/D[0])]=L[F];return B}return H}()},{key:"fetchHorizontalSection",value:function(){function H(L,D){var j=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,B=[],F=[],N=!0,X=!1,G=void 0;try{for(var V=(0,a.default)(D),z;!(N=(z=V.next()).done);N=!0){var U=z.value,Z=U.split("."),st=+Z[0],Y=+Z[1],rt=(0,E.scaleLinear)().domain([this.dataConfig.slicePos,this.dataConfig.slicePos]),ft=[];if(this.dataConfig.tilesetInfo&&this.dataConfig.tilesetInfo.resolutions){var tt=this.dataConfig.tilesetInfo.resolutions.map(function(nt){return+nt}).sort(function(nt,ot){return ot-nt});ft=O.tileProxy.calculateTilesFromResolution(tt[st],rt,this.dataConfig.tilesetInfo.min_pos[W?1:0],this.dataConfig.tilesetInfo.max_pos[W?1:0])}else ft=O.tileProxy.calculateTiles(st,rt,this.dataConfig.tilesetInfo.min_pos[W?1:0],this.dataConfig.tilesetInfo.max_pos[W?1:0],this.dataConfig.tilesetInfo.max_zoom,this.dataConfig.tilesetInfo.max_width);var K=[Y,ft[0]].sort(function(nt,ot){return nt-ot});K[0]===Y?F.push(!1):F.push(!0);var Q=st+"."+String(K[0])+"."+String(K[1]);B.push(Q)}}catch(nt){X=!0,G=nt}finally{try{!N&&V.return&&V.return()}finally{if(X)throw G}}var ct=new e.default(function(nt){return O.tileProxy.fetchTilesDebounced({id:T.default.nice(),server:j.dataConfig.server,done:nt,ids:B.map(function(ot){return String(j.dataConfig.tilesetUid)+"."+String(ot)})},j.pubSub,!0)});ct.then(function(nt){for(var ot=(0,_.dictValues)(nt)[0].tilesetUid,yt={},pt=0;pt<B.length;pt++){var dt=B[pt].split("."),mt=+dt[0],q=+dt[1],$=+dt[2],J=O.tileProxy.calculateTileAndPosInTile(j.dataConfig.tilesetInfo,j.dataConfig.tilesetInfo.max_width,j.dataConfig.tilesetInfo.min_pos[1],mt,+j.dataConfig.slicePos)[1],lt=j.fullTileId(ot,B[pt]),ut=nt[lt],ht=null;if(q===$){ht=j.extractDataSlice(ut.dense,[256,256],J);for(var bt=j.extractDataSlice(ut.dense,[256,256],J,1),kt=0;kt<ht.length;kt++)ht[kt]+=bt[kt]}else F[pt]?ht=j.extractDataSlice(ut.dense,[256,256],J,1):ht=j.extractDataSlice(ut.dense,[256,256],J);var vt={min_value:Math.min.apply(null,ht),max_value:Math.max.apply(null,ht),denseDataExtrema:new C.default(ht),minNonZero:(0,_.minNonZero)(ht),maxNonZero:(0,_.maxNonZero)(ht),dense:ht,dtype:ut.dtype,server:ut.server,tilePos:F[pt]?[$]:[q],tilePositionId:D[pt],tilesetUid:ot,zoomLevel:ut.zoomLevel};yt[D[pt]]=vt}L(yt)})}return H}()},{key:"makeDivided",value:function(){function H(L,D){L.length<2&&console.warn("Only one tileset specified for a divided datafetcher:",this.dataConfig);for(var j={},W=0;W<D.length;W++){var B=L[0][D[W]].zoomLevel,F=L[0][D[W]].tilePos,N={zoomLevel:B,tilePos:F,tilePositionId:D[W]};if(L[0][D[W]].dense&&L[1][D[W]].dense){var X=this.divideData(L[0][D[W]].dense,L[1][D[W]].dense),G=F.length===2?new P.default(X):new C.default(X);N={dense:X,denseDataExtrema:G,minNonZero:(0,_.minNonZero)(X),maxNonZero:(0,_.maxNonZero)(X),zoomLevel:B,tilePos:F,tilePositionId:D[W]}}j[D[W]]=N}return j}return H}()}]),M}();r.default=I},function(f,r,t){f.exports=t(615)},function(f,r,t){r.__esModule=!0;var n=t(62),a=l(n);function l(e){return e&&e.__esModule?e:{default:e}}r.default=function(e){return function(){var o=e.apply(this,arguments);return new a.default(function(s,u){function c(m,p){try{var h=o[m](p),v=h.value}catch(x){u(x);return}if(h.done)s(v);else return a.default.resolve(v).then(function(x){c("next",x)},function(x){c("throw",x)})}return c("next")})}}},function(f,r,t){f.exports={default:t(249),__esModule:!0}},function(f,r,t){t(250),f.exports=t(12).Math.log2},function(f,r,t){var n=t(16);n(n.S,"Math",{log2:function(a){return Math.log(a)/Math.LN2}})},function(f,r,t){f.exports={default:t(252),__esModule:!0}},function(f,r,t){t(253),f.exports=t(12).Number.isSafeInteger},function(f,r,t){var n=t(16),a=t(178),l=Math.abs;n(n.S,"Number",{isSafeInteger:function(e){return a(e)&&l(e)<=9007199254740991}})},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.initTile=r.drawTile=void 0;var n=t(5),a=y(n),l=t(3),e=y(l),o=t(4),s=y(o),u=t(6),c=y(u),m=t(7),p=y(m),h=t(135),v=y(h),x=t(11);function y(_){return _&&_.__esModule?_:{default:_}}function k(_){if(_.graphics){var A=_.graphics,C=this.getTilePosAndDimensions(_.tileData.zoomLevel,_.tileData.tilePos),S=C.tileX,P=C.tileY,O=C.tileWidth;_.drawnAtScale=this._xScale.copy();var R=1/((this._xScale(1)-this._xScale(0))/(this._refXScale(1)-this._refXScale(0))),I=1/((this._yScale(1)-this._yScale(0))/(this._refYScale(1)-this._refYScale(0)));_.text.scale.x=R,_.text.scale.y=I;var M=this._xScale(O)-this._xScale(0);if(_.textGraphics.scale.x=M/256,_.textGraphics.scale.y=M/256,A.clear(),A.lineStyle(4*R,255,1),A.beginFill(16740363,.4),A.alpha=.5,_.mirrored){var H=this._refXScale(P+O)-this._refXScale(P),L=this._refYScale(S+O)-this._refYScale(S);_.textGraphics.position.x=this._refXScale(P)+H/2,_.textGraphics.position.y=this._refYScale(S)+L/2,A.drawRect(this._refXScale(P),this._refYScale(S),H,L)}else{var D=this._refXScale(S+O)-this._refXScale(S),j=this._refYScale(P+O)-this._refYScale(P);_.textGraphics.position.x=this._refXScale(S)+D/2,_.textGraphics.position.y=this._refYScale(P)+j/2,A.drawRect(this._refXScale(S),this._refYScale(P),D,j)}}}r.drawTile=k;function T(_){var A=_.graphics;_.textGraphics=new x.GLOBALS.PIXI.Graphics,_.mirrored?_.text=new x.GLOBALS.PIXI.Text(String(_.tileData.zoomLevel)+"/"+String([_.tileData.tilePos[1],_.tileData.tilePos[0]].join("/")),{fontFamily:"Arial",fontSize:24,fill:16715792,align:"center"}):_.text=new x.GLOBALS.PIXI.Text(String(_.tileData.zoomLevel)+"/"+String(_.tileData.tilePos.join("/")),{fontFamily:"Arial",fontSize:24,fill:16715792,align:"center"}),_.textGraphics.addChild(_.text),_.text.anchor.x=.5,_.text.anchor.y=.5,A.addChild(_.textGraphics)}r.initTile=T;var E=function(_){(0,p.default)(A,_);function A(){return(0,e.default)(this,A),(0,c.default)(this,(A.__proto__||(0,a.default)(A)).apply(this,arguments))}return(0,s.default)(A,[{key:"areAllVisibleTilesLoaded",value:function(){function C(){return!0}return C}()},{key:"initTile",value:function(){function C(S){T.bind(this)(S),this.drawTile(S)}return C}()},{key:"destroyTile",value:function(){function C(S,P){}return C}()},{key:"drawTile",value:function(){function C(S){k.bind(this)(S)}return C}()},{key:"fetchNewTiles",value:function(){function C(S){var P=this;S.forEach(function(O){var R=O.remoteId,I=R.split("."),M={zoomLevel:I[0],tilePos:I.slice(1,I.length).map(function(H){return+H})};P.fetchedTiles[O.tileId]=O,P.fetchedTiles[O.tileId].tileData=M,P.fetching.has(O.remoteId)&&P.fetching.delete(O.remoteId)}),this.synchronizeTilesAndGraphics()}return C}()}]),A}(v.default);r.default=E},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(25),a=O(n),l=t(18),e=O(l),o=t(38),s=O(o),u=t(5),c=O(u),m=t(3),p=O(m),h=t(4),v=O(h),x=t(6),y=O(x),k=t(14),T=O(k),E=t(7),_=O(E),A=t(28),C=t(79),S=O(C),P=t(24);function O(M){return M&&M.__esModule?M:{default:M}}var R=1024,I=function(M){(0,_.default)(H,M);function H(L,D){(0,p.default)(this,H);var j=(0,y.default)(this,(H.__proto__||(0,c.default)(H)).call(this,L,D)),W=L.onMouseMoveZoom,B=L.isValueScaleLocked,F=L.getLockGroupExtrema;return j.onMouseMoveZoom=W,j.isValueScaleLocked=B,j.getLockGroupExtrema=F,j.onMouseMoveZoom&&j.pubSubs.push(j.pubSub.subscribe("app.mouseMove",j.mouseMoveHandler.bind(j))),j}return(0,v.default)(H,[{key:"initTile",value:function(){function L(D){(0,T.default)(H.prototype.__proto__||(0,c.default)(H.prototype),"initTile",this).call(this,D)}return L}()},{key:"tileToLocalId",value:function(){function L(D){return""+String(D.join("."))}return L}()},{key:"tileToRemoteId",value:function(){function L(D){return""+String(D.join("."))}return L}()},{key:"relevantScale",value:function(){function L(){return null}return L}()},{key:"setVisibleTiles",value:function(){function L(D){var j=this;this.visibleTiles=D.map(function(W){return{tileId:j.tileToLocalId(W),remoteId:j.tileToRemoteId(W)}}),this.visibleTileIds=new s.default(this.visibleTiles.map(function(W){return W.tileId}))}return L}()},{key:"calculateVisibleTiles",value:function(){function L(){var D=this;if(this.tilesetInfo){if(this.zoomLevel=this.calculateZoomLevel(),this.tilesetInfo.resolutions){var j=this.tilesetInfo.resolutions.map(function(X){return+X}).sort(function(X,G){return G-X}),W=P.tileProxy.calculateTilesFromResolution(j[this.zoomLevel],this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),B=W.map(function(X){return[D.zoomLevel,X]});this.setVisibleTiles(B);return}var F=P.tileProxy.calculateTiles(this.zoomLevel,this.relevantScale(),this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),N=F.map(function(X){return[D.zoomLevel,X]});this.setVisibleTiles(N)}}return L}()},{key:"getTilePosAndDimensions",value:function(){function L(D,j,W){var B=j[0],F=j[0];if(this.tilesetInfo.resolutions){var N=W||R,X=this.tilesetInfo.resolutions.map(function(nt){return+nt}).sort(function(nt,ot){return ot-nt}),G=X[D],V=G*N,z=V,U=G*N*j[0],Z=G*N*j[1];return{tileX:U,tileY:Z,tileWidth:V,tileHeight:z}}var st=this.tilesetInfo.max_width,Y=this.tilesetInfo.max_width,rt=this.tilesetInfo.min_pos[0],ft=this.tilesetInfo.min_pos[1],tt=st/Math.pow(2,D),K=Y/Math.pow(2,D),Q=rt+B*tt,ct=ft+F*K;return{tileX:Q,tileY:ct,tileWidth:tt,tileHeight:K}}return L}()},{key:"updateTile",value:function(){function L(D){}return L}()},{key:"scheduleRerender",value:function(){function L(){this.backgroundTaskScheduler.enqueueTask(this.handleRerender.bind(this),null,this.uuid)}return L}()},{key:"handleRerender",value:function(){function L(){this.rerender(this.options,!1)}return L}()},{key:"getIndicesOfVisibleDataInTile",value:function(){function L(D){var j=this._xScale.range();if(!this.tilesetInfo)return[null,null];var W=this.getTilePosAndDimensions(D.tileData.zoomLevel,D.tileData.tilePos,this.tilesetInfo.bins_per_dimension||this.tilesetInfo.tile_size),B=W.tileX,F=W.tileWidth,N=(0,A.scaleLinear)().domain([0,this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension]).range([B,B+F]),X=Math.max(0,Math.round(N.invert(this._xScale.invert(j[0])))),G=Math.min(D.tileData.dense.length,Math.round(N.invert(this._xScale.invert(j[1]))));return[X,G]}return L}()},{key:"minVisibleValue",value:function(){function L(){var D=this,j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,W=this.visibleAndFetchedIds();W.length===0&&(W=(0,e.default)(this.fetchedTiles));var B=W.map(function(N){return D.fetchedTiles[N]}).map(function(N){var X=D.getIndicesOfVisibleDataInTile(N);return N.tileData.denseDataExtrema.getMinNonZeroInSubset(X)}),F=Math.min.apply(Math,(0,a.default)(B));return j?F:this.valueScaleMin!==null?this.valueScaleMin:F}return L}()},{key:"maxVisibleValue",value:function(){function L(){var D=this,j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,W=this.visibleAndFetchedIds();W.length===0&&(W=(0,e.default)(this.fetchedTiles));var B=W.map(function(N){return D.fetchedTiles[N]}).map(function(N){var X=D.getIndicesOfVisibleDataInTile(N);return N.tileData.denseDataExtrema.getMaxNonZeroInSubset(X)}),F=Math.max.apply(Math,(0,a.default)(B));return j?F:this.valueScaleMax!==null?this.valueScaleMax:F}return L}()},{key:"getAggregatedVisibleValue",value:function(){function L(){var D=this,j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"max",W=j==="min"?Math.min:Math.max,B=j==="min"?1/0:-1/0,F=this.visibleAndFetchedIds();F.length===0&&(F=(0,e.default)(this.fetchedTiles));var N=this._xScale.range();return F.map(function(X){return D.fetchedTiles[X]}).map(function(X){if(!X.tileData.tilePos)return j==="min"?D.minVisibleValue():D.maxVisibleValue();var G=D.getTilePosAndDimensions(X.tileData.zoomLevel,X.tileData.tilePos,D.tilesetInfo.bins_per_dimension||D.tilesetInfo.tile_size),V=G.tileX,z=G.tileWidth,U=(0,A.scaleLinear)().domain([0,D.tilesetInfo.tile_size||D.tilesetInfo.bins_per_dimension]).range([V,V+z]),Z=Math.max(0,Math.round(U.invert(D._xScale.invert(N[0])))),st=Math.min(X.tileData.dense.length,Math.round(U.invert(D._xScale.invert(N[1]))));return X.tileData.dense.slice(Z,st)}).reduce(function(X,G){return W.apply(void 0,[X].concat((0,a.default)(G)))},B)}return L}()},{key:"getDataAtPos",value:function(){function L(D){var j=void 0;if(!this.tilesetInfo)return j;var W=this.calculateZoomLevel(),B=P.tileProxy.calculateTileWidth(this.tilesetInfo,W,this.tilesetInfo.tile_size),F=this._xScale.invert(D)/B,N=this.tileToLocalId([W,Math.floor(F)]),X=this.fetchedTiles[N];if(!X)return j;var G=this.tilesetInfo.tile_size*(F-Math.floor(F));return X.tileData.dense?X.tileData.dense[Math.floor(G)]:null}return L}()},{key:"mouseMoveHandler",value:function(){function L(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},j=D.x,W=D.y;this.isWithin(j,W)&&(this.mouseX=j,this.mouseY=W,this.mouseMoveZoomHandler())}return L}()},{key:"mouseMoveZoomHandler",value:function(){function L(){}return L}()},{key:"zoomed",value:function(){function L(){for(var D,j=arguments.length,W=Array(j),B=0;B<j;B++)W[B]=arguments[B];(D=(0,T.default)(H.prototype.__proto__||(0,c.default)(H.prototype),"zoomed",this)).call.apply(D,[this].concat(W)),this.mouseMoveZoomHandler()}return L}()}]),H}(S.default);r.default=I},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(17),a=k(n),l=t(25),e=k(l),o=t(18),s=k(o),u=t(38),c=k(u),m=t(3),p=k(m),h=t(4),v=k(h),x=t(26),y=k(x);function k(E){return E&&E.__esModule?E:{default:E}}var T=function(){function E(_){var A=this,C=_.tracks,S=_.createTrackObject;(0,p.default)(this,E),this.childTracks=C.map(S),this.createdTracks={},this.uid=y.default.nice(),this.childTracks.forEach(function(O,R){A.createdTracks[C[R].uid]=O});for(var P=0;P<this.childTracks.length;P++)this.childTracks[P]||console.error("Empty child track in CombinedTrack:",this)}return(0,v.default)(E,[{key:"updateContents",value:function(){function _(A,C){var S=this,P=[],O=new c.default;A.forEach(function(M){if(O.add(M.uid),M.uid in S.createdTracks)P.push(S.createdTracks[M.uid]);else{var H=C(M);H.setPosition(S.position),H.setDimensions(S.dimensions),P.push(H),H.zoomed(S._xScale,S._yScale),S.createdTracks[M.uid]=H}}),this.childTracks=P;var R=new c.default((0,s.default)(this.createdTracks)),I=new c.default([].concat((0,e.default)(R)).filter(function(M){return!O.has(M)}));return[].concat((0,e.default)(I)).forEach(function(M){S.createdTracks[M].remove(),delete S.createdTracks[M]}),this}return _}()},{key:"setPosition",value:function(){function _(A){this.position=A;for(var C=0;C<this.childTracks.length;C++)this.childTracks[C].setPosition(A)}return _}()},{key:"setDimensions",value:function(){function _(A){this.dimensions=A;for(var C=0;C<this.childTracks.length;C++)this.childTracks[C].setDimensions(A)}return _}()},{key:"zoomed",value:function(){function _(A,C,S,P,O,R,I){this._xScale=A,this._yScale=C;for(var M=0;M<this.childTracks.length;M++)this.childTracks[M].zoomed(A,C,S,P,O,R,I)}return _}()},{key:"draw",value:function(){function _(){}return _}()},{key:"refScalesChanged",value:function(){function _(A,C){for(var S=0;S<this.childTracks.length;S++)this.childTracks[S].refScalesChanged(A,C)}return _}()},{key:"remove",value:function(){function _(){for(var A=0;A<this.childTracks.length;A++)this.childTracks[A].remove()}return _}()},{key:"exportSVG",value:function(){function _(){var A=document.createElement("g"),C=!0,S=!1,P=void 0;try{for(var O=(0,a.default)(this.childTracks),R;!(C=(R=O.next()).done);C=!0){var I=R.value;I.exportSVG&&A.appendChild(I.exportSVG()[0])}}catch(M){S=!0,P=M}finally{try{!C&&O.return&&O.return()}finally{if(S)throw P}}return[A,A]}return _}()},{key:"rerender",value:function(){function _(A){}return _}()},{key:"minValue",value:function(){function _(A){if(arguments.length===0){var C=this.childTracks.filter(function(H){return H.minValue}).map(function(H){return H.minValue()}).filter(function(H){return H});return Math.min.apply(Math,(0,e.default)(C))}var S=!0,P=!1,O=void 0;try{for(var R=(0,a.default)(this.childTracks),I;!(S=(I=R.next()).done);S=!0){var M=I.value;M.minValue&&M.minValue(A)}}catch(H){P=!0,O=H}finally{try{!S&&R.return&&R.return()}finally{if(P)throw O}}}return _}()},{key:"maxValue",value:function(){function _(A){if(arguments.length===0){var C=this.childTracks.filter(function(H){return H.maxValue}).map(function(H){return H.maxValue()}).filter(function(H){return H});return Math.max.apply(Math,(0,e.default)(C))}var S=!0,P=!1,O=void 0;try{for(var R=(0,a.default)(this.childTracks),I;!(S=(I=R.next()).done);S=!0){var M=I.value;M.maxValue&&M.maxValue(A)}}catch(H){P=!0,O=H}finally{try{!S&&R.return&&R.return()}finally{if(P)throw O}}}return _}()},{key:"respondsToPosition",value:function(){function _(A,C){return A>=this.position[0]&&A<=this.dimensions[0]+this.position[0]&&C>=this.position[1]&&C<=this.dimensions[1]+this.position[1]}return _}()},{key:"stopHover",value:function(){function _(){var A=!0,C=!1,S=void 0;try{for(var P=(0,a.default)(this.childTracks),O;!(A=(O=P.next()).done);A=!0){var R=O.value;R.stopHover&&R.stopHover()}}catch(I){C=!0,S=I}finally{try{!A&&P.return&&P.return()}finally{if(C)throw S}}}return _}()},{key:"getMouseOverHtml",value:function(){function _(A,C){var S="",P=!0,O=!1,R=void 0;try{for(var I=(0,a.default)(this.childTracks),M;!(P=(M=I.next()).done);P=!0){var H=M.value;if(H.getMouseOverHtml){var L=H.getMouseOverHtml(A,C);L&&L.length&&(S+=L,S+="<br/>")}}}catch(D){O=!0,R=D}finally{try{!P&&I.return&&I.return()}finally{if(O)throw R}}return S}return _}()}]),E}();r.default=T},function(f,r,t){(function(n,a){var l=t(258),e=t(618);n.__TYPEDARRAY_POOL||(n.__TYPEDARRAY_POOL={UINT8:e([32,0]),UINT16:e([32,0]),UINT32:e([32,0]),INT8:e([32,0]),INT16:e([32,0]),INT32:e([32,0]),FLOAT:e([32,0]),DOUBLE:e([32,0]),DATA:e([32,0]),UINT8C:e([32,0]),BUFFER:e([32,0])});var o=typeof Uint8ClampedArray<"u",s=n.__TYPEDARRAY_POOL;s.UINT8C||(s.UINT8C=e([32,0])),s.BUFFER||(s.BUFFER=e([32,0]));var u=s.DATA,c=s.BUFFER;r.free=function(O){if(a.isBuffer(O))c[l.log2(O.length)].push(O);else{if(Object.prototype.toString.call(O)!=="[object ArrayBuffer]"&&(O=O.buffer),!O)return;var R=O.length||O.byteLength,I=l.log2(R)|0;u[I].push(O)}};function m(O){if(O){var R=O.length||O.byteLength,I=l.log2(R);u[I].push(O)}}function p(O){m(O.buffer)}r.freeUint8=r.freeUint16=r.freeUint32=r.freeInt8=r.freeInt16=r.freeInt32=r.freeFloat32=r.freeFloat=r.freeFloat64=r.freeDouble=r.freeUint8Clamped=r.freeDataView=p,r.freeArrayBuffer=m,r.freeBuffer=function(O){c[l.log2(O.length)].push(O)},r.malloc=function(O,R){if(R===void 0||R==="arraybuffer")return h(O);switch(R){case"uint8":return v(O);case"uint16":return x(O);case"uint32":return y(O);case"int8":return k(O);case"int16":return T(O);case"int32":return E(O);case"float":case"float32":return _(O);case"double":case"float64":return A(O);case"uint8_clamped":return C(O);case"buffer":return P(O);case"data":case"dataview":return S(O);default:return null}return null};function h(R){var R=l.nextPow2(R),I=l.log2(R),M=u[I];return M.length>0?M.pop():new ArrayBuffer(R)}r.mallocArrayBuffer=h;function v(O){return new Uint8Array(h(O),0,O)}r.mallocUint8=v;function x(O){return new Uint16Array(h(2*O),0,O)}r.mallocUint16=x;function y(O){return new Uint32Array(h(4*O),0,O)}r.mallocUint32=y;function k(O){return new Int8Array(h(O),0,O)}r.mallocInt8=k;function T(O){return new Int16Array(h(2*O),0,O)}r.mallocInt16=T;function E(O){return new Int32Array(h(4*O),0,O)}r.mallocInt32=E;function _(O){return new Float32Array(h(4*O),0,O)}r.mallocFloat32=r.mallocFloat=_;function A(O){return new Float64Array(h(8*O),0,O)}r.mallocFloat64=r.mallocDouble=A;function C(O){return o?new Uint8ClampedArray(h(O),0,O):v(O)}r.mallocUint8Clamped=C;function S(O){return new DataView(h(O),0,O)}r.mallocDataView=S;function P(O){O=l.nextPow2(O);var R=l.log2(O),I=c[R];return I.length>0?I.pop():new a(O)}r.mallocBuffer=P,r.clearCache=function(){for(var O=0;O<32;++O)s.UINT8[O].length=0,s.UINT16[O].length=0,s.UINT32[O].length=0,s.INT8[O].length=0,s.INT16[O].length=0,s.INT32[O].length=0,s.FLOAT[O].length=0,s.DOUBLE[O].length=0,s.UINT8C[O].length=0,u[O].length=0,c[O].length=0}}).call(this,t(27),t(113).Buffer)},function(f,r,t){"use restrict";var n=32;r.INT_BITS=n,r.INT_MAX=2147483647,r.INT_MIN=-1<<n-1,r.sign=function(e){return(e>0)-(e<0)},r.abs=function(e){var o=e>>n-1;return(e^o)-o},r.min=function(e,o){return o^(e^o)&-(e<o)},r.max=function(e,o){return e^(e^o)&-(e<o)},r.isPow2=function(e){return!(e&e-1)&&!!e},r.log2=function(e){var o,s;return o=(e>65535)<<4,e>>>=o,s=(e>255)<<3,e>>>=s,o|=s,s=(e>15)<<2,e>>>=s,o|=s,s=(e>3)<<1,e>>>=s,o|=s,o|e>>1},r.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},r.popCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24};function a(e){var o=32;return e&=-e,e&&o--,e&65535&&(o-=16),e&16711935&&(o-=8),e&252645135&&(o-=4),e&858993459&&(o-=2),e&1431655765&&(o-=1),o}r.countTrailingZeros=a,r.nextPow2=function(e){return e+=e===0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1},r.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e-(e>>>1)},r.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,e&=15,27030>>>e&1};var l=new Array(256);(function(e){for(var o=0;o<256;++o){var s=o,u=o,c=7;for(s>>>=1;s;s>>>=1)u<<=1,u|=s&1,--c;e[o]=u<<c&255}})(l),r.reverse=function(e){return l[e&255]<<24|l[e>>>8&255]<<16|l[e>>>16&255]<<8|l[e>>>24&255]},r.interleave2=function(e,o){return e&=65535,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,o&=65535,o=(o|o<<8)&16711935,o=(o|o<<4)&252645135,o=(o|o<<2)&858993459,o=(o|o<<1)&1431655765,e|o<<1},r.deinterleave2=function(e,o){return e=e>>>o&1431655765,e=(e|e>>>1)&858993459,e=(e|e>>>2)&252645135,e=(e|e>>>4)&16711935,e=(e|e>>>16)&65535,e<<16>>16},r.interleave3=function(e,o,s){return e&=1023,e=(e|e<<16)&4278190335,e=(e|e<<8)&251719695,e=(e|e<<4)&3272356035,e=(e|e<<2)&1227133513,o&=1023,o=(o|o<<16)&4278190335,o=(o|o<<8)&251719695,o=(o|o<<4)&3272356035,o=(o|o<<2)&1227133513,e|=o<<1,s&=1023,s=(s|s<<16)&4278190335,s=(s|s<<8)&251719695,s=(s|s<<4)&3272356035,s=(s|s<<2)&1227133513,e|s<<2},r.deinterleave3=function(e,o){return e=e>>>o&1227133513,e=(e|e>>>2)&3272356035,e=(e|e>>>4)&251719695,e=(e|e>>>8)&4278190335,e=(e|e>>>16)&1023,e<<22>>22},r.nextCombination=function(e){var o=e|e-1;return o+1|(~o&-~o)-1>>>a(e)+1}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(37),a=I(n),l=t(30),e=I(l),o=t(19),s=I(o),u=t(5),c=I(u),m=t(3),p=I(m),h=t(4),v=I(h),x=t(6),y=I(x),k=t(14),T=I(k),E=t(7),_=I(E),A=t(28),C=t(157),S=t(116),P=I(S),O=t(11),R=t(10);function I(L){return L&&L.__esModule?L:{default:L}}var M=(0,R.colorToHex)("#FFFFFF"),H=function(L){(0,_.default)(D,L);function D(){var j;(0,p.default)(this,D);for(var W=arguments.length,B=Array(W),F=0;F<W;F++)B[F]=arguments[F];var N=(0,y.default)(this,(j=D.__proto__||(0,c.default)(D)).call.apply(j,[this].concat(B)));return N.zeroLine=new O.GLOBALS.PIXI.Graphics,N.pMain.addChild(N.zeroLine),N.valueScaleTransform=C.zoomIdentity,N.options&&N.options.colorRange&&(N.options.colorRangeGradient?N.setColorGradient(N.options.colorRange):N.setColorScale(N.options.colorRange)),N.initialized=!0,N}return(0,v.default)(D,[{key:"setColorScale",value:function(){function j(W){W&&(this.colorScale=(0,R.colorDomainToRgbaArray)(W),this.colorScale=this.colorScale.map(function(B){return B.map(function(F){return F/255})}))}return j}()},{key:"setColorGradient",value:function(){function j(W){if(W){var B=W.length-1;this.colorGradientColors=this.options.align==="bottom"?W.slice().reverse().map(function(F,N){return{from:N/B,color:F}}):W.map(function(F,N){return{from:N/B,color:F}})}}return j}()},{key:"initTile",value:function(){function j(W){this.initialized&&(0,T.default)(D.prototype.__proto__||(0,c.default)(D.prototype),"initTile",this).call(this,W)}return j}()},{key:"updateTile",value:function(){function j(W){(!W.valueScale||!this.scale||this.scale.minValue!==W.scale.minValue||this.scale.maxValue!==W.scale.maxValue)&&this.renderTile(W)}return j}()},{key:"renderTile",value:function(){function j(W){this.initialized&&(0,T.default)(D.prototype.__proto__||(0,c.default)(D.prototype),"renderTile",this).call(this,W)}return j}()},{key:"drawTile",value:function(){function j(W){if(W.graphics&&!(!W.tileData||!W.tileData.dense)){var B=W.graphics;W.svgData=void 0;var F=this.getTilePosAndDimensions(W.tileData.zoomLevel,W.tileData.tilePos,this.tilesetInfo.bins_per_dimension||this.tilesetInfo.tile_size),N=F.tileX,X=F.tileWidth,G=W.tileData.dense;if(G.length!==0){var V=this.makeValueScale(this.minValue(),this.medianVisibleValue,this.maxValue(),0),z=(0,s.default)(V,2),U=z[0],Z=z[1];U.clamp(!0),this.valueScale=U;var st=U.copy();if(st.range([254,0]).clamp(!0),B.clear(),this.drawAxis(this.valueScale),this.options.valueScaling==="log"&&this.valueScale.domain()[1]<0){console.warn("Negative values present when using a log scale",this.valueScale.domain());return}var Y=(0,R.colorToHex)(this.options.lineStrokeColor||"blue"),rt=(0,A.scaleLinear)().domain([0,this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension]).range([N,N+X]),ft=0;B.lineStyle(ft,Y,1);var tt=this.options.barFillColor||"grey",K=(0,R.colorToHex)(tt),Q="barOpacity"in this.options?this.options.barOpacity:1;B.beginFill(K,Q),W.drawnAtScale=this._xScale.copy();var ct=this.options.align==="top",nt=void 0,ot=void 0,yt=void 0,pt=void 0,dt=void 0,mt=void 0;if(this.colorGradientColors){dt=new O.GLOBALS.PIXI.Graphics,dt.beginFill(M,1);var q=(0,R.gradient)(this.colorGradientColors,1,this.dimensions[1],0,0,0,this.dimensions[1]);mt=new O.GLOBALS.PIXI.Sprite(O.GLOBALS.PIXI.Texture.fromCanvas(q,O.GLOBALS.PIXI.SCALE_MODES.NEAREST)),mt.x=this._xScale(N),mt.width=this._xScale(N+X)-mt.x}for(var $=0;$<G.length;$++)if(nt=this._xScale(rt($)),yt=this.valueScale(G[$]+Z),ot=this._xScale(rt($+1))-nt,pt=this.dimensions[1]-yt,ct&&(yt=0),!((0,e.default)(pt)||pt<0||yt<0)){if(this.addSVGInfo(W,nt,yt,ot,pt,tt),rt($)>this.tilesetInfo.max_pos[0])break;if(this.colorScale&&!this.options.colorRangeGradient){var J=Math.round(st(G[$]+Z)),lt=this.colorScale[J],ut=O.GLOBALS.PIXI.utils.rgb2hex(lt);B.beginFill(ut,Q)}(dt||B).drawRect(nt,yt,ot,pt)}this.colorGradientColors&&(mt.mask=dt,B.removeChildren(),B.addChild(mt,dt))}}}return j}()},{key:"rerender",value:function(){function j(W,B){W&&W.colorRange&&(W.colorRangeGradient?this.setColorGradient(W.colorRange):this.setColorScale(W.colorRange)),(0,T.default)(D.prototype.__proto__||(0,c.default)(D.prototype),"rerender",this).call(this,W,B)}return j}()},{key:"drawZeroLine",value:function(){function j(){this.zeroLine.clear();var W=(0,R.colorToHex)(this.options.barFillColor||"grey"),B=+this.options.barOpacity||1,F=this.options.zeroLineColor?(0,R.colorToHex)(this.options.zeroLineColor):W,N=(0,e.default)(+this.options.zeroLineOpacity)?B:+this.options.zeroLineOpacity;this.zeroLine.beginFill(F,N),this.zeroLine.drawRect(0,this.dimensions[1]-1,this.dimensions[0],1)}return j}()},{key:"drawZeroLineSvg",value:function(){function j(W){var B=document.createElement("rect");B.setAttribute("id","zero-line"),B.setAttribute("x",0),B.setAttribute("y",this.dimensions[1]-1),B.setAttribute("height",1),B.setAttribute("width",this.dimensions[0]),B.setAttribute("fill",this.options.zeroLineColor||this.options.barFillColor),B.setAttribute("fill-opacity",this.options.zeroLineOpacity||this.options.barOpacity),W.appendChild(B)}return j}()},{key:"getXScaleAndOffset",value:function(){function j(W){var B=W.domain(),F=this._xScale.domain(),N=(B[1]-B[0])/(F[1]-F[0]),X=this._xScale.domain().map(W),G=X[0];return[N,-G*N]}return j}()},{key:"draw",value:function(){function j(){var W=this;this.initialized&&((0,T.default)(D.prototype.__proto__||(0,c.default)(D.prototype),"draw",this).call(this),this.options.zeroLineVisible?this.drawZeroLine():this.zeroLine.clear(),(0,a.default)(this.fetchedTiles).forEach(function(B){var F=W.getXScaleAndOffset(B.drawnAtScale),N=(0,s.default)(F,2),X=N[0],G=N[1];B.graphics.scale.x=X,B.graphics.position.x=G}))}return j}()},{key:"zoomed",value:function(){function j(W,B){(0,T.default)(D.prototype.__proto__||(0,c.default)(D.prototype),"zoomed",this).call(this,W,B)}return j}()},{key:"movedY",value:function(){function j(W){}return j}()},{key:"zoomedY",value:function(){function j(W,B){}return j}()},{key:"addSVGInfo",value:function(){function j(W,B,F,N,X,G){W.svgData?(W.svgData.barXValues.push(B),W.svgData.barYValues.push(F),W.svgData.barWidths.push(N),W.svgData.barHeights.push(X),W.svgData.barColors.push(G)):W.svgData={barXValues:[B],barYValues:[F],barWidths:[N],barHeights:[X],barColors:[G]}}return j}()},{key:"exportSVG",value:function(){function j(){var W=null,B=null,F=(0,T.default)(D.prototype.__proto__||(0,c.default)(D.prototype),"superSVG",this).call(this),N=(0,s.default)(F,2);B=N[0],W=N[1],B.setAttribute("class","exported-line-track");var X=document.createElement("g");W.appendChild(X),X.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),this.options.zeroLine&&this.drawZeroLineSvg(X),this.visibleAndFetchedTiles().filter(function(U){return U.svgData&&U.svgData.barXValues}).forEach(function(U){for(var Z=U.svgData,st=0;st<Z.barXValues.length;st++){var Y=document.createElement("rect");Y.setAttribute("fill",Z.barColors[st]),Y.setAttribute("stroke",Z.barColors[st]),Y.setAttribute("x",Z.barXValues[st]),Y.setAttribute("y",Z.barYValues[st]),Y.setAttribute("height",Z.barHeights[st]),Y.setAttribute("width",Z.barWidths[st]),U.barBorders&&(Y.setAttribute("stroke-width","0.1"),Y.setAttribute("stroke","black")),X.appendChild(Y)}});var G=document.createElement("g");if(G.setAttribute("id","axis"),B.appendChild(G),G.setAttribute("transform","translate("+String(this.axis.pAxis.position.x)+", "+String(this.axis.pAxis.position.y)+")"),this.options.axisPositionHorizontal==="left"||this.options.axisPositionVertical==="top"){var V=this.axis.exportAxisLeftSVG(this.valueScale,this.dimensions[1]);G.appendChild(V)}else if(this.options.axisPositionHorizontal==="right"||this.options.axisPositionVertical==="bottom"){var z=this.axis.exportAxisRightSVG(this.valueScale,this.dimensions[1]);G.appendChild(z)}return[B,W]}return j}()}]),D}(P.default);r.default=H},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(19),a=j(n),l=t(37),e=j(l),o=t(17),s=j(o),u=t(35),c=j(u),m=t(5),p=j(m),h=t(3),v=j(h),x=t(4),y=j(x),k=t(6),T=j(k),E=t(14),_=j(E),A=t(7),C=j(A),S=t(180),P=j(S),O=t(355),R=j(O),I=t(11),M=t(115),H=j(M),L=t(24),D=t(10);function j(q){return q&&q.__esModule?q:{default:q}}var W=11,B="Arial",F="outside",N=10,X=4,G=20,V=(0,D.colorToHex)("#ffffff"),z=2,U=2*N/3,Z=2*U/3,st=50,Y=5e3,rt="blue",ft="red",tt=function(q,$,J){J.type!=="filler"&&$.pubSub.publish("app.click",{type:"gene-annotation",event:q,payload:J})},K=function(q,$){var J=q.concat($),lt=J.map(function(ut){return[ut.xStart,1,ut.xEnd,1]});(0,P.default)(lt,function(ut,ht){var bt=null,kt=null;if(J[ut].type==="filler"?bt=J[ut]:kt=J[ut],J[ht].type==="filler"){if(bt)return;bt=J[ht]}else{if(!bt)return;kt=J[ht]}bt.xStart>=kt.xStart&&bt.xEnd<=kt.xEnd&&(bt.hide=!0)})};function Q(q,$,J){var lt=J.flipText,ut=J.fontSize,ht=J.fontFamily,bt=J.plusStrandColor,kt=J.minusStrandColor,vt=J.maxGeneEntries,Et=J.maxFillerEntries,Rt=J.maxTexts;if($.texts={},$.rectGraphics=new I.GLOBALS.PIXI.Graphics,$.textBgGraphics=new I.GLOBALS.PIXI.Graphics,$.textGraphics=new I.GLOBALS.PIXI.Graphics,$.rectMaskGraphics=new I.GLOBALS.PIXI.Graphics,$.graphics.addChild($.rectGraphics),$.graphics.addChild($.textBgGraphics),$.graphics.addChild($.textGraphics),$.graphics.addChild($.rectMaskGraphics),$.rectGraphics.mask=$.rectMaskGraphics,!!$.tileData.sort){$.tileData.sort(function(Tt,_t){return _t.importance-Tt.importance});var Vt=$.tileData.filter(function(Tt){return Tt.type!=="filler"}).slice(0,vt),ee=$.tileData.filter(function(Tt){return Tt.type==="filler"}).slice(0,Et);$.tileData=Vt.concat(ee),$.tileData.forEach(function(Tt,_t){if(Tt.type!=="filler"){var zt=Tt.fields,oe=zt[3],$t=q.geneId(zt,Tt.type),pe=Tt.strand||zt[5];Tt.strand=Tt.strand||pe;var Nt=bt||rt;if(pe==="-"&&(Nt=kt||ft),$.textWidths={},$.textHeights={},!(_t>=Rt)){var se=new I.GLOBALS.PIXI.Text(oe,{fontSize:String(ut)+"px",fontFamily:ht,fill:(0,D.colorToHex)(Nt)});se.interactive=!0,lt&&(se.scale.x=-1),se.anchor.x=.5,se.anchor.y=1,$.texts[$t]=se,$.texts[$t].strand=pe,$.textGraphics.addChild(se)}}}),$.initialized=!0}}function ct(q,$,J,lt,ut,ht,bt,kt,vt){var Et=kt-vt/2,Rt=0;q.forEach(function(Vt){var ee=new I.GLOBALS.PIXI.Graphics;J.rectGraphics.addChild(ee),ee.beginFill(ht,.1),ee.lineStyle(0,ht);var Tt=[ut(Vt.xStart)-Rt,Et,ut(Vt.xEnd)+Rt,Et,ut(Vt.xEnd)+Rt,Et+vt,ut(Vt.xStart)-Rt,Et+vt,ut(Vt.xStart)-Rt,Et];ee.interactive=!0,ee.buttonMode=!0,ee.mouseup=function(_t){return tt(_t,$,Vt)},ee.drawPolygon(Tt),J.allRects.push([Tt,Vt.strand,Vt])})}function nt(q,$,J,lt,ut,ht,bt,kt,vt,Et){var Rt=kt-vt/2,Vt=ut.split(",").map(function(ce){return+ce+bt}),ee=ht.split(",").map(function(ce){return+ce+bt}),Tt=q._xScale(J),_t=q._xScale(lt),zt=_t-Tt,oe=kt,$t=[],pe=[Tt,oe-z/2,Tt+zt,oe-z/2,Tt+zt,oe+z/2,Tt,oe+z/2];$.drawPolygon(pe),$t.push(pe);for(var Nt=2*vt,se=Math.max(q.position[0],Tt)+Nt;se<Math.min(q.position[0]+q.dimensions[0],Tt+zt);se+=Nt)Et==="+"?pe=[se,oe-Z/2,se+Z/2,oe,se,oe+Z/2]:pe=[se,oe-Z/2,se-Z/2,oe,se,oe+Z/2],$t.push(pe),$.drawPolygon(pe);for(var Gt=0;Gt<Vt.length;Gt++){var gt=Vt[Gt],fe=ee[Gt],Ct=q._xScale(gt),at=Math.max(1,q._xScale(fe)-q._xScale(gt)),St=Tt,jt=_t,Zt=q.geneRectHeight/2,ue=null;Et==="+"?(jt=_t-Zt,ue=[Math.min(Ct,jt),Rt,Math.min(Ct+at,jt),Rt,Math.min(Ct+at,jt),Rt+vt,Math.min(Ct,jt),Rt+vt,Math.min(Ct,jt),Rt]):(St=Tt+Zt,ue=[Math.max(Ct,St),Rt,Math.max(Ct+at,St),Rt,Math.max(Ct+at,St),Rt+vt,Math.max(Ct,St),Rt+vt,Math.max(Ct,St),Rt]),$t.push(ue),$.drawPolygon(ue)}return $t}function ot(q,$,J,lt,ut,ht,bt,kt,vt){var Et=kt-vt/2;q.forEach(function(Rt){var Vt=$._xScale(Rt.xStart),ee=$._xScale(Rt.xEnd),Tt=new I.GLOBALS.PIXI.Graphics;J.rectGraphics.addChild(Tt),Tt.beginFill(ht,bt),Tt.interactive=!0,Tt.buttonMode=!0,Tt.mouseup=function(se){return tt(se,$,Rt)};var _t=$.geneRectHeight/2,zt=[];if(Rt.strand==="+"||Rt.fields[5]==="+"){var oe=Math.max(Vt,ee-_t),$t=oe+_t;zt=[oe,Et,$t,Et+$.geneRectHeight/2,oe,Et+$.geneRectHeight]}else{var pe=Math.min(ee,Vt+_t),Nt=pe-_t;zt=[pe,Et,Nt,Et+$.geneRectHeight/2,pe,Et+$.geneRectHeight]}Tt.drawPolygon(zt),J.allRects.push([zt,Rt.strand,Rt])})}function yt(q,$,J,lt,ut,ht,bt,kt,vt){q.forEach(function(Et){var Rt=Et.fields,Vt=+Et.chrOffset,ee=Rt[12],Tt=Rt[13],_t=new I.GLOBALS.PIXI.Graphics;J.rectGraphics.addChild(_t),_t.beginFill(ht,bt),_t.interactive=!0,_t.buttonMode=!0,_t.mouseup=function(zt){return tt(zt,$,Et)},J.allRects=J.allRects.concat(nt($,_t,Et.xStart,Et.xEnd,ee,Tt,Vt,kt,vt,Et.strand||Et.fields[5]).map(function(zt){return[zt,Et.strand,Et]}))})}function pt(q,$,J,lt,ut,ht,bt,kt,vt){ot(q,$,J,lt,ut,ht,bt,kt,vt),yt(q,$,J,lt,ut,ht,bt,kt,vt)}function dt(q,$){var J=D.trackUtils.getTilePosAndDimensions(q.tilesetInfo,$.tileId),lt=J.tileX,ut=J.tileWidth;$.rectMaskGraphics.clear();var ht=Math.floor(Math.random()*Math.pow(16,6));$.rectMaskGraphics.beginFill(ht,.3);var bt=q._xScale(lt),kt=0,vt=q._xScale(lt+ut)-q._xScale(lt),Et=q.dimensions[1];$.rectMaskGraphics.drawRect(bt,kt,vt,Et)}var mt=function(q){(0,C.default)($,q);function $(J,lt){(0,v.default)(this,$);var ut=(0,T.default)(this,($.__proto__||(0,p.default)($)).call(this,J,lt)),ht=J.animate;return ut.animate=ht,ut.options=lt,ut.fontSize=+ut.options.fontSize||W,ut.geneLabelPos=ut.options.geneLabelPosition||F,ut.geneRectHeight=+ut.options.geneAnnotationHeight||N,ut.geneRectHeight-=2,ut.geneStrandSpacing=+ut.options.geneStrandSpacing||X,ut.geneStrandHSpacing=ut.geneStrandSpacing/2,ut.geneRectHHeight=ut.geneRectHeight/2,ut}return(0,y.default)($,[{key:"initTile",value:function(){function J(lt){Q(this,lt,{flipText:this.flipText,fontSize:this.fontSize,fontFamily:B,plusStrandColor:this.options.plusStrandColor,minusStrandColor:this.options.minusStrandColor,maxGeneEntries:st,maxFillerEntries:Y,maxTexts:G}),this.renderTile(lt)}return J}()},{key:"destroyTile",value:function(){function J(lt){lt.rectGraphics.destroy(),lt.rectMaskGraphics.destroy(),lt.textGraphics.destroy(),lt.textBgGraphics.destroy(),lt.graphics.destroy()}return J}()},{key:"rerender",value:function(){function J(lt,ut){var ht=this,bt=(0,c.default)(lt);!ut&&bt===this.prevOptions||((0,_.default)($.prototype.__proto__||(0,p.default)($.prototype),"rerender",this).call(this,lt,ut),this.fontSize=+this.options.fontSize||W,this.geneLabelPos=this.options.geneLabelPosition||F,this.geneRectHeight=+this.options.geneAnnotationHeight||N,this.geneStrandHSpacing=this.geneStrandSpacing/2,this.geneRectHHeight=this.geneRectHeight/2,this.prevOptions=bt,this.visibleAndFetchedTiles().forEach(function(kt){ht.renderTile(kt)}))}return J}()},{key:"drawTile",value:function(){function J(){}return J}()},{key:"geneId",value:function(){function J(lt,ut){return String(ut)+"_"+String(lt[0])+"_"+String(lt[1])+"_"+String(lt[2])+"_"+String(lt[3])}return J}()},{key:"renderTile",value:function(){function J(lt){if(lt.initialized){lt.allRects=[],lt.drawnAtScale=this._xScale.copy(),lt.rectGraphics.removeChildren(),lt.rectGraphics.clear(),lt.textBgGraphics.clear();var ut={},ht=.3,bt=.3;ut["+"]=(0,D.colorToHex)(this.options.plusStrandColor||rt),ut["-"]=(0,D.colorToHex)(this.options.minusStrandColor||ft);var kt=lt.tileData.filter(function(gt){return gt.type==="filler"&&gt.strand==="+"}),vt=lt.tileData.filter(function(gt){return gt.type==="filler"&&gt.strand==="-"}),Et=lt.tileData.filter(function(gt){return gt.type!=="filler"&&(gt.strand==="+"||gt.fields[5]==="+")}),Rt=lt.tileData.filter(function(gt){return gt.type!=="filler"&&(gt.strand==="-"||gt.fields[5]==="-")});K(Et,kt),K(Rt,vt),kt=kt.filter(function(gt){return!gt.hide}),vt=vt.filter(function(gt){return!gt.hide});var Vt=this.dimensions[1]/2,ee=Vt-this.geneRectHeight/2-this.geneStrandSpacing/2,Tt=Vt+this.geneRectHeight/2+this.geneStrandSpacing/2,_t=[this,lt,lt.rectGraphics,this._xScale,ut["+"],ht,ee,this.geneRectHeight],zt=[this,lt,lt.rectGraphics,this._xScale,ut["-"],ht,Tt,this.geneRectHeight];ct.apply(void 0,[kt].concat(_t)),ct.apply(void 0,[vt].concat(zt)),_t[5]=bt,zt[5]=bt,pt.apply(void 0,[Et].concat(_t)),pt.apply(void 0,[Rt].concat(zt)),dt(this,lt),D.trackUtils.stretchRects(this,[function(gt){return gt.rectGraphics},function(gt){return gt.rectMaskGraphics}]);var oe=!0,$t=!1,pe=void 0;try{for(var Nt=(0,s.default)((0,e.default)(lt.texts)),se;!(oe=(se=Nt.next()).done);oe=!0){var Gt=se.value;Gt.style={fontSize:String(this.fontSize)+"px",FONT_FAMILY:B,fill:(0,D.colorToHex)(Gt.strand==="-"?this.options.minusStrandColor||ft:this.options.plusStrandColor||rt)}}}catch(gt){$t=!0,pe=gt}finally{try{!oe&&Nt.return&&Nt.return()}finally{if($t)throw pe}}}}return J}()},{key:"calculateZoomLevel",value:function(){function J(){var lt=L.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),ut=Math.min(lt,this.maxZoom);return ut=Math.max(ut,0),ut}return J}()},{key:"draw",value:function(){function J(){var lt=this;(0,_.default)($.prototype.__proto__||(0,p.default)($.prototype),"draw",this).call(this),this.allTexts=[],this.allBoxes=[];var ut=[];this.geneAreaHeight=this.geneRectHeight;var ht=this.fontSize/2;D.trackUtils.stretchRects(this,[function(bt){return bt.rectGraphics},function(bt){return bt.rectMaskGraphics}]),(0,e.default)(this.fetchedTiles).filter(function(bt){return bt.drawnAtScale}).forEach(function(bt){bt.textBgGraphics.clear(),bt.textBgGraphics.beginFill(typeof lt.options.labelBackgroundColor<"u"?(0,D.colorToHex)(lt.options.labelBackgroundColor):V);var kt=lt.parentInFetched(bt);bt.initialized&&bt.tileData.forEach(function(vt){if(bt.texts&&vt.type!=="filler"){var Et=vt.fields,Rt=Et[3],Vt=lt.geneId(Et,vt.type),ee=bt.texts[Vt];if(ee){var Tt=+vt.chrOffset,_t=+Et[1]+Tt,zt=+Et[2]+Tt,oe=(_t+zt)/2,$t=lt.dimensions[1]/2,pe=(lt.geneAreaHeight-lt.fontSize)/2;if(Et[5]==="+"?$t-=lt.geneLabelPos==="inside"?pe+lt.geneStrandSpacing-2:lt.fontSize/2+lt.geneAreaHeight-2:$t+=lt.geneLabelPos==="inside"?lt.fontSize+lt.geneStrandSpacing/2+pe+1:1.5*lt.fontSize+lt.geneAreaHeight+2,ee.position.x=lt._xScale(oe),ee.position.y=$t,!bt.textWidths[Vt]){var Nt=ee.getBounds().width,se=ee.getBounds().height;bt.textHeights[Vt]=se,bt.textWidths[Vt]=Nt}if(kt)ee.visible=!1;else{ee.visible=!0;var Gt=2;lt.flipText?lt.allBoxes.push([ee.position.x-bt.textHeights[Vt]/2-Gt,$t-ht-1,ee.position.x+bt.textHeights[Vt]/2+Gt,$t+ht-1,Rt]):lt.allBoxes.push([ee.position.x-bt.textWidths[Vt]/2-Gt,$t-ht-1,ee.position.x+bt.textWidths[Vt]/2+Gt,$t+ht-1,Rt]),lt.allTexts.push({importance:+Et[4],text:ee,caption:Rt,strand:Et[5]}),ut.push(bt.textBgGraphics)}}}})}),this.hideOverlaps(this.allBoxes,this.allTexts),this.renderTextBg(this.allBoxes,this.allTexts,ut)}return J}()},{key:"renderTextBg",value:function(){function J(lt,ut,ht){ut.forEach(function(bt,kt){if(bt.text.visible&&lt[kt]&&ht[kt]){var vt=(0,a.default)(lt[kt],4),Et=vt[0],Rt=vt[1],Vt=vt[2],ee=vt[3],Tt=Vt-Et,_t=ee-Rt;ht[kt].drawRect(Et-Tt/2,Rt-_t/2,Tt,_t)}})}return J}()},{key:"hideOverlaps",value:function(){function J(lt,ut){(0,P.default)(lt,function(ht,bt){ut[ht].importance>ut[bt].importance?ut[bt].text.visible=!1:ut[ht].text.visible=!1})}return J}()},{key:"setPosition",value:function(){function J(lt){(0,_.default)($.prototype.__proto__||(0,p.default)($.prototype),"setPosition",this).call(this,lt);var ut=(0,a.default)(this.position,2);this.pMain.position.x=ut[0],this.pMain.position.y=ut[1]}return J}()},{key:"setDimensions",value:function(){function J(lt){var ut=this;(0,_.default)($.prototype.__proto__||(0,p.default)($.prototype),"setDimensions",this).call(this,lt),this.halfRectHHeight=this.dimensions[1]/2,this.visibleAndFetchedTiles().forEach(function(ht){ut.renderTile(ht)})}return J}()},{key:"zoomed",value:function(){function J(lt,ut){this.xScale(lt),this.yScale(ut),this.refreshTiles(),this.draw()}return J}()},{key:"getMouseOverHtml",value:function(){function J(lt,ut){if(!this.tilesetInfo)return"";var ht=[lt,ut],bt=!0,kt=!1,vt=void 0;try{for(var Et=(0,s.default)(this.visibleAndFetchedTiles()),Rt;!(bt=(Rt=Et.next()).done);bt=!0)for(var Vt=Rt.value,ee=0;ee<Vt.allRects.length;ee++)if(Vt.allRects[ee][2].type!=="filler"){for(var Tt=Vt.allRects[ee][0].slice(0),_t=[];Tt.length;){var zt=Tt.splice(0,2);zt[0]=zt[0]*Vt.rectGraphics.scale.x+Vt.rectGraphics.position.x,zt[1]=zt[1]*Vt.rectGraphics.scale.y+Vt.rectGraphics.position.y,_t.push(zt)}var oe=(0,R.default)(_t,ht);if(oe===-1){var $t=Vt.allRects[ee][2];return`
            <div>
              <b>`+String($t.fields[3])+`</b><br>
              <b>Position:</b> `+String($t.fields[0])+":"+String($t.fields[1])+"-"+String($t.fields[2])+`<br>
              <b>Strand:</b> `+String($t.fields[5])+`
            </div>
          `}}}catch(pe){kt=!0,vt=pe}finally{try{!bt&&Et.return&&Et.return()}finally{if(kt)throw vt}}return""}return J}()},{key:"exportSVG",value:function(){function J(){var lt=this,ut=null,ht=null;if((0,_.default)($.prototype.__proto__||(0,p.default)($.prototype),"exportSVG",this)){var bt=(0,_.default)($.prototype.__proto__||(0,p.default)($.prototype),"exportSVG",this).call(this),kt=(0,a.default)(bt,2);ht=kt[0],ut=kt[1]}else ht=document.createElement("g"),ut=ht;var vt=document.createElement("g");return vt.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),ut.appendChild(vt),this.visibleAndFetchedTiles().filter(function(Et){return Et.allRects}).forEach(function(Et){var Rt=document.createElement("g");Rt.setAttribute("transform","translate("+String(Et.rectGraphics.position.x)+`,
          `+String(Et.rectGraphics.position.y)+`)
          scale(`+String(Et.rectGraphics.scale.x)+`,
          `+String(Et.rectGraphics.scale.y)+")"),Et.allRects.forEach(function(Vt){for(var ee=document.createElement("path"),Tt=Vt[0],_t="M "+String(Tt[0])+" "+String(Tt[1]),zt=2;zt<Tt.length;zt+=2)_t+=" L "+String(Tt[zt])+" "+String(Tt[zt+1]);ee.setAttribute("d",_t),Vt[1]==="+"?ee.setAttribute("fill",lt.options.plusStrandColor):ee.setAttribute("fill",lt.options.minusStrandColor),ee.setAttribute("opacity","0.3"),Rt.appendChild(ee)}),vt.appendChild(Rt)}),this.allTexts.filter(function(Et){return Et.text.visible}).forEach(function(Et){var Rt=document.createElement("g"),Vt=document.createElement("text");Vt.setAttribute("text-anchor","middle"),Vt.setAttribute("font-family",B),Vt.setAttribute("font-size",String(lt.fontSize)+"px"),Vt.setAttribute("dy","-.2em"),Rt.setAttribute("transform","scale("+String(Et.text.scale.x)+",1)"),Et.strand==="+"?Vt.setAttribute("fill",lt.options.plusStrandColor):Vt.setAttribute("fill",lt.options.minusStrandColor),Vt.innerHTML=Et.text.text,Rt.appendChild(Vt),Rt.setAttribute("transform","translate("+String(Et.text.x)+","+String(Et.text.y)+")scale("+String(Et.text.scale.x)+",1)"),vt.appendChild(Rt)}),[ht,ht]}return J}()}]),$}(H.default);r.default=mt},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(5),a=y(n),l=t(3),e=y(l),o=t(4),s=y(o),u=t(6),c=y(u),m=t(14),p=y(m),h=t(7),v=y(h),x=t(81);function y(T){return T&&T.__esModule?T:{default:T}}var k=(0,x.Mixin)(function(T){return function(E){(0,v.default)(_,E);function _(A,C){(0,e.default)(this,_);var S=(0,c.default)(this,(_.__proto__||(0,a.default)(_)).call(this,A,C)),P=A.animate;return S.highlighted=!1,S.animate=P,S.MOUSEOVER_RADIUS=4,S.pubSub=A.pubSub,S.pubSubs.push(S.pubSub.subscribe("app.mouseMove",S.mouseMoveHandler.bind(S))),S}return(0,s.default)(_,[{key:"setPosition",value:function(){function A(C){(0,p.default)(_.prototype.__proto__||(0,a.default)(_.prototype),"setPosition",this).call(this,C),this.pMain.position.x=this.position[0],this.pMain.position.y=this.position[1]}return A}()},{key:"zoomed",value:function(){function A(C,S){(0,p.default)(_.prototype.__proto__||(0,a.default)(_.prototype),"zoomed",this).call(this,C,S),this.draw()}return A}()},{key:"respondsToPosition",value:function(){function A(){return this.highlighted}return A}()}]),_}(T)});r.default=k},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.VerticalRuleMixin=void 0;var n=t(19),a=S(n),l=t(14),e=S(l),o=t(5),s=S(o),u=t(3),c=S(u),m=t(4),p=S(m),h=t(6),v=S(h),x=t(7),y=S(x),k=t(81),T=t(40),E=S(T),_=t(261),A=S(_),C=t(10);function S(R){return R&&R.__esModule?R:{default:R}}var P=r.VerticalRuleMixin=(0,k.Mixin)(function(R){return function(I){(0,y.default)(M,I);function M(){return(0,c.default)(this,M),(0,v.default)(this,(M.__proto__||(0,s.default)(M)).apply(this,arguments))}return(0,p.default)(M,[{key:"drawVerticalRule",value:function(){function H(L){var D=(0,C.colorToHex)(this.options.color||"black");this.highlighted&&(D=(0,C.colorToHex)("red")),L.lineStyle(this.strokeWidth,D,this.strokeOpacity);for(var j=0;j<this.dimensions[1];)L.moveTo(this._xScale(this.xPosition),j),L.lineTo(this._xScale(this.xPosition),j+this.dashLength),j+=this.dashLength+this.dashGap}return H}()},{key:"isMouseOverVerticalLine",value:function(){function H(L){return Math.abs(L.x-this.position[0]-this._xScale(this.xPosition))<this.MOUSEOVER_RADIUS}return H}()}]),M}(R)}),O=function(R){(0,y.default)(I,R);function I(M,H){(0,c.default)(this,I);var L=(0,v.default)(this,(I.__proto__||(0,s.default)(I)).call(this,M,H));return L.xPosition=M.xPosition,L.strokeWidth=2,L.strokeOpacity=1,L.dashLength=5,L.dashGap=3,L}return(0,p.default)(I,[{key:"draw",value:function(){function M(){var H=this.pMain;H.clear(),this.drawVerticalRule(H),this.animate()}return M}()},{key:"exportSVG",value:function(){function M(){var H=null,L=null;if((0,e.default)(I.prototype.__proto__||(0,s.default)(I.prototype),"exportSVG",this)){var D=(0,e.default)(I.prototype.__proto__||(0,s.default)(I.prototype),"exportSVG",this).call(this),j=(0,a.default)(D,2);L=j[0],H=j[1]}else L=document.createElement("g"),H=L;var W=document.createElement("g");W.setAttribute("class","vertical-rule"),W.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),H.appendChild(W);var B=this.options.color||"black",F=document.createElement("line");return F.setAttribute("stroke",B),F.setAttribute("stroke-width",this.strokeWidth),F.setAttribute("stroke-dasharray",String(this.dashLength)+" "+String(this.dashGap)),F.setAttribute("x1",this._xScale(this.xPosition)),F.setAttribute("y1",0),F.setAttribute("x2",this._xScale(this.xPosition)),F.setAttribute("y2",this.dimensions[1]),W.appendChild(F),[L,H]}return M}()},{key:"mouseMoveHandler",value:function(){function M(H){this.highlighted=this.isWithin(H.x,H.y)&&this.isMouseOverVerticalLine(H),this.draw()}return M}()}]),I}((0,k.mix)(E.default).with(A.default,P));r.default=O},function(f,r,t){f.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(5),a=A(n),l=t(3),e=A(l),o=t(4),s=A(o),u=t(6),c=A(u),m=t(7),p=A(m),h=t(2),v=A(h),x=t(1),y=A(x),k=t(42),T=A(k),E=t(10),_=A(E);function A(S){return S&&S.__esModule?S:{default:S}}var C=function(S){(0,p.default)(P,S);function P(O){(0,e.default)(this,P);var R=(0,c.default)(this,(P.__proto__||(0,a.default)(P)).call(this,O));return R.clickHandlerBound=R.clickHandler.bind(R),R.contextMenuHandlerBound=R.contextMenuHandler.bind(R),R.resizeHandlerBound=R.resizeHandler.bind(R),R}return(0,s.default)(P,[{key:"componentDidMount",value:function(){function O(){this.popup=document.createElement("div"),document.body.appendChild(this.popup),this.popup.style.zIndex=99,this.popup.style.position="absolute",this.popup.className="hg-popup",document.addEventListener("click",this.clickHandlerBound,!0),document.addEventListener("contextmenu",this.contextMenuHandlerBound,!0),window.addEventListener("resize",this.resizeHandlerBound,!0),this._renderLayer()}return O}()},{key:"componentDidUpdate",value:function(){function O(){this._renderLayer()}return O}()},{key:"componentWillUnmount",value:function(){function O(){document.removeEventListener("click",this.clickHandlerBound,!0),document.removeEventListener("contextmenu",this.contextMenuHandlerBound,!0),window.removeEventListener("resize",this.resizeHandlerBound,!0),T.default.unmountComponentAtNode(this.popup),document.body.removeChild(this.popup)}return O}()},{key:"_renderLayer",value:function(){function O(){T.default.render(this.props.children,this.popup)}return O}()},{key:"clickHandler",value:function(){function O(R){this.popup.contains(R.target)||this.props.onMenuClosed&&this.props.onMenuClosed(R)}return O}()},{key:"contextMenuHandler",value:function(){function O(R){R.altKey||(R.preventDefault(),this.clickHandler(R))}return O}()},{key:"resizeHandler",value:function(){function O(){this.props.onMenuClosed(null)}return O}()},{key:"render",value:function(){function O(){return y.default.createElement("div",null)}return O}()}]),P}(y.default.Component);C.defaultProps={onMenuClosed:_.default},C.propTypes={children:v.default.node.isRequired,onMenuClosed:v.default.func},r.default=C},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(38),a=S(n),l=t(5),e=S(l),o=t(3),s=S(o),u=t(4),c=S(u),m=t(6),p=S(m),h=t(7),v=S(h),x=t(2),y=S(x),k=t(1),T=S(k),E=t(666),_=S(E),A=t(668),C=S(A);function S(O){return O&&O.__esModule?O:{default:O}}var P=function(O){(0,v.default)(R,O);function R(I){(0,s.default)(this,R);var M=(0,p.default)(this,(R.__proto__||(0,e.default)(R)).call(this,I));return M.moveable=!0,M}return(0,c.default)(R,[{key:"render",value:function(){function I(){var M=this;return T.default.createElement("div",{ref:function(){function H(L){M.el=L}return H}(),className:this.props.className,onMouseEnter:this.handleMouseEnter.bind(this),onMouseLeave:function(){function H(){M.handleMouseLeave()}return H}(),style:{height:this.props.height,width:this.props.width}},T.default.createElement(_.default,{key:this.props.uid,height:this.props.height,resizeHandles:this.props.editable?this.props.resizeHandles:new a.default,sizeChanged:function(){function H(L){return M.props.handleResizeTrack(M.props.uid,L.width,L.height)}return H}(),style:{background:"transparent"},uid:this.props.uid,width:this.props.width}),this.props.editable&&this.getControls(this.state.controlsVisible||this.props.item.configMenuVisible))}return I}()}]),R}(C.default);P.propTypes={className:y.default.string,uid:y.default.string,item:y.default.object,height:y.default.number,width:y.default.number},r.default=P},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.svgArrowheadDomainsIcon=r.svgVertical1DTilesIcon=r.svg1DTilesIcon=r.svgGeneAnnotationsIcon=r.svgVertical1DAxisIcon=r.svg1DAxisIcon=r.svg2DHeatmapIcon=r.svg2DTilesIcon=r.svgHorizontalLineIcon=r.svgHorizontal1dHeatmap=r.svgGeoMapIcon=r.all=r.FOLDER_OPEN_O=r.FOLDER_O=r.CHEVRON_DOWN=r.CHEVRON_RIGHT=r.FILE_O=r.SQUARE_O=r.CHECK_SQUARE_O=r.SELECT=r.TRACK_LINE=r.CONTENT_COPY=r.PLUS=r.PLAY=r.MOVE=r.MINUS=r.ENLARGE=r.CROSS=r.COG=void 0,r.SearchIcon=N;var n=t(29),a=s(n),l=t(1),e=s(l),o=t(0);t(267);function s(X){return X&&X.__esModule?X:{default:X}}var u={"../styles/ViewHeader.module.scss":{"multitrack-header":"ViewHeader-module_multitrack-header-3XnZx","multitrack-header-focus":"ViewHeader-module_multitrack-header-focus-3akkN","multitrack-header-squeazed":"ViewHeader-module_multitrack-header-squeazed-GHIVd","multitrack-header-dark":"ViewHeader-module_multitrack-header-dark-97tZt","multitrack-header-id":"ViewHeader-module_multitrack-header-id-3YURk","multitrack-header-left":"ViewHeader-module_multitrack-header-left-Qj9Sm","multitrack-header-grabber":"ViewHeader-module_multitrack-header-grabber-3jrIz","multitrack-header-grabber-squeazed":"ViewHeader-module_multitrack-header-grabber-squeazed-dU45Z","multitrack-header-search":"ViewHeader-module_multitrack-header-search-1X_3_","multitrack-header-nav-list":"ViewHeader-module_multitrack-header-nav-list-2nvcu","multitrack-header-icon":"ViewHeader-module_multitrack-header-icon-16QKZ","multitrack-header-icon-squeazed":"ViewHeader-module_multitrack-header-icon-squeazed-25lkF","mouse-tool-selection":"ViewHeader-module_mouse-tool-selection-1pg2m"}},c=r.COG={id:"cog",paths:["M466.895 305.125c-26.863-46.527-10.708-106.152 36.076-133.244l-50.313-87.146c-14.375 8.427-31.088 13.259-48.923 13.259-53.768 0-97.354-43.873-97.354-97.995h-100.629c0.133 16.705-4.037 33.641-12.979 49.126-26.862 46.528-86.578 62.351-133.431 35.379l-50.312 87.146c14.485 8.236 27.025 20.294 35.943 35.739 26.819 46.454 10.756 105.96-35.854 133.112l50.313 87.146c14.325-8.348 30.958-13.127 48.7-13.127 53.598 0 97.072 43.596 97.35 97.479h100.627c-0.043-16.537 4.136-33.285 12.983-48.609 26.818-46.453 86.388-62.297 133.207-35.506l50.313-87.145c-14.39-8.233-26.846-20.249-35.717-35.614zM256 359.666c-57.254 0-103.668-46.412-103.668-103.667 0-57.254 46.413-103.667 103.668-103.667s103.666 46.413 103.666 103.667c-0.001 57.255-46.412 103.667-103.666 103.667z"],viewBox:"0 0 512 512"},m=r.CROSS={id:"cross",paths:["M507.331 411.33c-0.002-0.002-0.004-0.004-0.006-0.005l-155.322-155.325 155.322-155.325c0.002-0.002 0.004-0.003 0.006-0.005 1.672-1.673 2.881-3.627 3.656-5.708 2.123-5.688 0.912-12.341-3.662-16.915l-73.373-73.373c-4.574-4.573-11.225-5.783-16.914-3.66-2.080 0.775-4.035 1.984-5.709 3.655 0 0.002-0.002 0.003-0.004 0.005l-155.324 155.326-155.324-155.325c-0.002-0.002-0.003-0.003-0.005-0.005-1.673-1.671-3.627-2.88-5.707-3.655-5.69-2.124-12.341-0.913-16.915 3.66l-73.374 73.374c-4.574 4.574-5.784 11.226-3.661 16.914 0.776 2.080 1.985 4.036 3.656 5.708 0.002 0.001 0.003 0.003 0.005 0.005l155.325 155.324-155.325 155.326c-0.001 0.002-0.003 0.003-0.004 0.005-1.671 1.673-2.88 3.627-3.657 5.707-2.124 5.688-0.913 12.341 3.661 16.915l73.374 73.373c4.575 4.574 11.226 5.784 16.915 3.661 2.080-0.776 4.035-1.985 5.708-3.656 0.001-0.002 0.003-0.003 0.005-0.005l155.324-155.325 155.324 155.325c0.002 0.001 0.004 0.003 0.006 0.004 1.674 1.672 3.627 2.881 5.707 3.657 5.689 2.123 12.342 0.913 16.914-3.661l73.373-73.374c4.574-4.574 5.785-11.227 3.662-16.915-0.776-2.080-1.985-4.034-3.657-5.707z"],viewBox:"0 0 512 512"},p=r.ENLARGE={id:"enlarge",paths:["M512 0h-208l80 80-96 96 48 48 96-96 80 80z","M512 512v-208l-80 80-96-96-48 48 96 96-80 80z","M0 512h208l-80-80 96-96-48-48-96 96-80-80z","M0 0v208l80-80 96 96 48-48-96-96 80-80z"],viewBox:"0 0 512 512"},h=r.MINUS={id:"minus",paths:["M0 208v96c0 8.836 7.164 16 16 16h480c8.836 0 16-7.164 16-16v-96c0-8.836-7.164-16-16-16h-480c-8.836 0-16 7.164-16 16z"],viewBox:"0 0 512 512"},v=r.MOVE={id:"move",paths:["M512,260.096L405.5,161.79v49.155H301.061v-104.45h49.149L251.904,0L160.77,106.495h49.15v104.45H106.495V161.79L0,260.096l106.495,91.135v-49.149h104.45v104.45H161.79L251.904,512l98.306-106.5h-49.149V301.061H405.5v49.149L512,260.096z"],viewBox:"0 0 512 512"},x=r.PLAY={id:"play",paths:["M96 64l320 192-320 192z"],viewBox:"0 0 512 512"},y=r.PLUS={id:"plus",paths:["M496 192h-176v-176c0-8.836-7.164-16-16-16h-96c-8.836 0-16 7.164-16 16v176h-176c-8.836 0-16 7.164-16 16v96c0 8.836 7.164 16 16 16h176v176c0 8.836 7.164 16 16 16h96c8.836 0 16-7.164 16-16v-176h176c8.836 0 16-7.164 16-16v-96c0-8.836-7.164-16-16-16z"],viewBox:"0 0 512 512"},k=r.CONTENT_COPY={id:"copy",paths:["M607.5 672v-448.5h-351v448.5h351zM607.5 160.5c34.5 0 64.5 28.5 64.5 63v448.5c0 34.5-30 64.5-64.5 64.5h-351c-34.5 0-64.5-30-64.5-64.5v-448.5c0-34.5 30-63 64.5-63h351zM511.5 31.5v64.5h-384v448.5h-63v-448.5c0-34.5 28.5-64.5 63-64.5h384z"],viewBox:"0 0 712 712"};r.TRACK_LINE={id:"trackLine",paths:["M60 20 L50 52 L40 26 L34 46 L24 30 L14 50 L4 12"],viewBox:"0 0 60 60"};var T=r.SELECT={id:"select",viewBox:"0 0 16 16",paths:["M2 14h2v1H1v-3h1v2zm8 1H6v-1h4v1zm5 0h-3v-1h2v-2h1v3zm0-5h-1V6h1v4zM2 10H1V6h1v4zm13-6h-1V2h-2V1h3v3zM4 2H2v2H1V1h3v1zm6 0H6V1h4.03L10 2z"]},E=r.CHECK_SQUARE_O={id:"check_square_o",viewBox:"0 0 1792 1792",paths:["M1472 930v318q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q63 0 117 25 15 7 18 23 3 17-9 29l-49 49q-10 10-23 10-3 0-9-2-23-6-45-6h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113v-254q0-13 9-22l64-64q10-10 23-10 6 0 12 3 20 8 20 29zm231-489l-814 814q-24 24-57 24t-57-24l-430-430q-24-24-24-57t24-57l110-110q24-24 57-24t57 24l263 263 647-647q24-24 57-24t57 24l110 110q24 24 24 57t-24 57z"]},_=r.SQUARE_O={id:"square_o",viewBox:"0 0 1792 1792",paths:["M1312 256h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113v-832q0-66-47-113t-113-47zm288 160v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"]},A=r.FILE_O={id:"file_o",viewBox:"0 0 1792 1792",paths:["M1596 380q28 28 48 76t20 88v1152q0 40-28 68t-68 28h-1344q-40 0-68-28t-28-68v-1600q0-40 28-68t68-28h896q40 0 88 20t76 48zm-444-244v376h376q-10-29-22-41l-313-313q-12-12-41-22zm384 1528v-1024h-416q-40 0-68-28t-28-68v-416h-768v1536h1280z"]},C=r.CHEVRON_RIGHT={id:"chevron_right",viewBox:"0 0 1792 1792",paths:["M1363 877l-742 742q-19 19-45 19t-45-19l-166-166q-19-19-19-45t19-45l531-531-531-531q-19-19-19-45t19-45l166-166q19-19 45-19t45 19l742 742q19 19 19 45t-19 45z"]},S=r.CHEVRON_DOWN={id:"chevron_down",viewBox:"0 0 1792 1792",paths:["M1683 808l-742 741q-19 19-45 19t-45-19l-742-741q-19-19-19-45.5t19-45.5l166-165q19-19 45-19t45 19l531 531 531-531q19-19 45-19t45 19l166 165q19 19 19 45.5t-19 45.5z"]},P=r.FOLDER_O={id:"folder_o",viewBox:"0 0 1792 1792",paths:["M1600 1312v-704q0-40-28-68t-68-28h-704q-40 0-68-28t-28-68v-64q0-40-28-68t-68-28h-320q-40 0-68 28t-28 68v960q0 40 28 68t68 28h1216q40 0 68-28t28-68zm128-704v704q0 92-66 158t-158 66h-1216q-92 0-158-66t-66-158v-960q0-92 66-158t158-66h320q92 0 158 66t66 158v32h672q92 0 158 66t66 158z"]},O=r.FOLDER_OPEN_O={id:"folder_open_o",viewBox:"0 0 1792 1792",paths:["M1845 931q0-35-53-35h-1088q-40 0-85.5 21.5t-71.5 52.5l-294 363q-18 24-18 40 0 35 53 35h1088q40 0 86-22t71-53l294-363q18-22 18-39zm-1141-163h768v-160q0-40-28-68t-68-28h-576q-40 0-68-28t-28-68v-64q0-40-28-68t-68-28h-320q-40 0-68 28t-28 68v853l256-315q44-53 116-87.5t140-34.5zm1269 163q0 62-46 120l-295 363q-43 53-116 87.5t-140 34.5h-1088q-92 0-158-66t-66-158v-960q0-92 66-158t158-66h320q92 0 158 66t66 158v32h544q92 0 158 66t66 158v160h192q54 0 99 24.5t67 70.5q15 32 15 68z"]};r.all=[c,m,p,h,v,x,y,k,T,E,_,A,P,O,C,S];var R=new DOMParser,I='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="1.5"><path d="M4 2.1L.5 3.5v12l5-2 5 2 5-2v-12l-5 2-3.17-1.268M10.5 3.5v12" fill="none" stroke="currentColor"/><path d="M5.5 13.5v-7" fill="none" stroke="currentColor" stroke-width=".9969299999999999"/><path d="M5.494 0c-1.803 0-3.26 1.496-3.26 3.35 0 .427.124.97.264 1.343L5.5 11l3.003-6.306c.142-.375.263-.916.263-1.342C8.766 1.496 7.3 0 5.494 0zM5.5 4.64c-.76 0-1.375-.616-1.375-1.374 0-.76.616-1.376 1.375-1.376.76 0 1.374.616 1.374 1.376 0 .758-.614 1.375-1.374 1.375z" fill="currentColor"/></svg>';r.svgGeoMapIcon=R.parseFromString(I,"text/xml").documentElement;var M=`
<svg width="20px" height="20px" viewBox="0 0 20 20">
  <rect x="0" y="3" width="4" height="14" fill="#637993"/>
  <rect x="4" y="3" width="2" height="14" fill="#c7d1de"/>
  <rect x="6" y="3" width="5" height="14" fill="#3c5068"/>
  <rect x="11" y="3" width="3" height="14" fill="#92a3ba"/>
  <rect x="14" y="3" width="2" height="14" fill="#000000"/>
  <rect x="16" y="3" width="4" height="14" fill="#637993"/>
</svg>
`;r.svgHorizontal1dHeatmap=R.parseFromString(M,"text/xml").documentElement;var H=`
<svg width="20px" height="20px" viewBox="0 0 135 85" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>line</title>
    <defs></defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <polyline id="Path" stroke="#4990E2" stroke-width="8" points="2 45.5625 20.7460938 6.3359375 36.828125 86.6484375 59.8945312 17.5742188 79.0390625 70.703125 99.9335938 27 112.769531 81.1601562 132.078125 3"></polyline>
    </g>
</svg>
`;r.svgHorizontalLineIcon=R.parseFromString(H,"text/xml").documentElement;var L=`
<svg width="20px" height="20px" viewBox="0 0 60 60" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch -->
    <title>2d-tiles-icon</title>
    <desc>Created with Sketch.</desc>
    <defs>
        <rect id="tiles2DIconStr-path-1" x="0" y="0" width="30" height="30"></rect>
        <mask id="tiles2DIconStr-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">
            <use xlink:href="#tiles2DIconStr-path-1"></use>
        </mask>
        <rect id="tiles2DIconStr-path-3" x="0" y="30" width="30" height="30"></rect>
        <mask id="tiles2DIconStr-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">
            <use xlink:href="#tiles2DIconStr-path-3"></use>
        </mask>
        <rect id="tiles2DIconStr-path-5" x="30" y="0" width="30" height="30"></rect>
        <mask id="tiles2DIconStr-mask-6" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">
            <use xlink:href="#tiles2DIconStr-path-5"></use>
        </mask>
        <rect id="tiles2DIconStr-path-7" x="30" y="30" width="30" height="30"></rect>
        <mask id="tiles2DIconStr-mask-8" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">
            <use xlink:href="#tiles2DIconStr-path-7"></use>
        </mask>
    </defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-2)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-1"></use>
        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-4)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-3"></use>
        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-6)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-5"></use>
        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-8)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-7"></use>
    </g>
</svg>
`;r.svg2DTilesIcon=R.parseFromString(L,"text/xml").documentElement;var D=`
<svg width="20px" height="20px" viewBox="0 0 90 90" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch -->
    <title>2d-heatmap</title>
    <desc>Created with Sketch.</desc>
    <defs>
        <rect id="heatmap2DStr-path-1" x="0" y="0" width="30" height="30"></rect>
        <rect id="heatmap2DStr-path-2" x="30" y="0" width="30" height="30"></rect>
        <rect id="heatmap2DStr-path-3" x="60" y="0" width="30" height="30"></rect>
        <rect id="heatmap2DStr-path-4" x="0" y="30" width="30" height="30"></rect>
        <rect id="heatmap2DStr-path-5" x="30" y="30" width="30" height="30"></rect>
        <rect id="heatmap2DStr-path-6" x="60" y="30" width="30" height="30"></rect>
        <rect id="heatmap2DStr-path-7" x="0" y="60" width="30" height="30"></rect>
        <rect id="heatmap2DStr-path-8" x="30" y="60" width="30" height="30"></rect>
        <rect id="heatmap2DStr-path-9" x="60" y="60" width="30" height="30"></rect>
    </defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <use id="Rectangle" fill="#858372" xlink:href="#heatmap2DStr-path-1"></use>
        <use id="Rectangle" fill="#BBBAA4" xlink:href="#heatmap2DStr-path-2"></use>
        <use id="Rectangle" fill="#ECECD5" xlink:href="#heatmap2DStr-path-3"></use>
        <use id="Rectangle" fill="#BCBD9E" xlink:href="#heatmap2DStr-path-4"></use>
        <use id="Rectangle" fill="#817C7C" xlink:href="#heatmap2DStr-path-5"></use>
        <use id="Rectangle" fill="#BBBAA4" xlink:href="#heatmap2DStr-path-6"></use>
        <use id="Rectangle" fill="#ECECD5" xlink:href="#heatmap2DStr-path-7"></use>
        <use id="Rectangle" fill="#BBBAA4" xlink:href="#heatmap2DStr-path-8"></use>
        <use id="Rectangle" fill="#7B7777" xlink:href="#heatmap2DStr-path-9"></use>
    </g>
</svg>
`;r.svg2DHeatmapIcon=R.parseFromString(D,"text/xml").documentElement;var j=`
<svg width="20px" height="20px" viewBox="0 0 77 33" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch -->
    <title>axis-1d</title>
    <desc>Created with Sketch.</desc>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <polyline id="Path" stroke="#979797" stroke-width="8" transform="translate(38.258485, 27.557860) scale(1, -1) translate(-38.258485, -27.557860) " points="4 27.05786 36.7512307 27.05786 72.5169695 27.05786"></polyline>
        <path d="M38,24.484375 L38,3" id="Path-2" stroke="#979797" stroke-width="4"></path>
    </g>
</svg>
`;r.svg1DAxisIcon=R.parseFromString(j,"text/xml").documentElement,r.svgVertical1DAxisIcon=(0,o.select)(R.parseFromString(j,"text/xml").documentElement).style("transform","rotate(90deg)").node();var W=`
<svg width="20px" height="20px" viewBox="0 0 171 116" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch -->
    <title>gene-annotations</title>
    <desc>Created with Sketch.</desc>
    <defs>
        <rect id="geneAnnotations-path-1" x="34" y="0" width="24" height="116"></rect>
        <mask id="geneAnnotations-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="24" height="116" fill="white">
            <use xlink:href="#geneAnnotations-path-1"></use>
        </mask>
        <rect id="geneAnnotations-path-3" x="80" y="0" width="56" height="116"></rect>
        <mask id="geneAnnotations-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="56" height="116" fill="white">
            <use xlink:href="#geneAnnotations-path-3"></use>
        </mask>
        <rect id="geneAnnotations-path-5" x="147" y="40" width="24" height="35"></rect>
        <mask id="geneAnnotations-mask-6" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="24" height="35" fill="white">
            <use xlink:href="#geneAnnotations-path-5"></use>
        </mask>
    </defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <path d="M12.71875,58 L147.10172,58" id="Path" stroke="#979797" stroke-width="8"></path>
        <use id="Rectangle" stroke="#979797" mask="url(#geneAnnotations-mask-2)" stroke-width="4" fill="#DDDD66" xlink:href="#geneAnnotations-path-1"></use>
        <use id="Rectangle" stroke="#979797" mask="url(#geneAnnotations-mask-4)" stroke-width="4" fill="#DDDD66" xlink:href="#geneAnnotations-path-3"></use>
        <use id="Rectangle" stroke="#979797" mask="url(#geneAnnotations-mask-6)" stroke-width="4" fill="#DDDD66" xlink:href="#geneAnnotations-path-5"></use>
        <polygon id="Triangle" stroke="#979797" fill="#D8D8D8" points="25 57.5 1 75 1 40"></polygon>
    </g>
</svg>
`;r.svgGeneAnnotationsIcon=R.parseFromString(W,"text/xml").documentElement;var B=`
<svg width="20px" height="20px" viewBox="0 0 180 90" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 42 (36781) - http://www.bohemiancoding.com/sketch -->
    <title>1d-tiles-icon</title>
    <desc>Created with Sketch.</desc>
    <defs>
        <rect id="tiles1DIconStr-path-1" x="0" y="0" width="90" height="90"></rect>
        <mask id="tiles1DIconStr-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="90" height="90" fill="white">
            <use xlink:href="#tiles1DIconStr-path-1"></use>
        </mask>
        <rect id="tiles1DIconStr-path-3" x="90" y="0" width="90" height="90"></rect>
        <mask id="tiles1DIconStr-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="90" height="90" fill="white">
            <use xlink:href="#tiles1DIconStr-path-3"></use>
        </mask>
    </defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <use id="Rectangle" stroke="#979797" mask="url(#tiles1DIconStr-mask-2)" stroke-width="12" fill="#E6D5D5" xlink:href="#tiles1DIconStr-path-1"></use>
        <use id="Rectangle" stroke="#979797" mask="url(#tiles1DIconStr-mask-4)" stroke-width="12" fill="#E6D5D5" xlink:href="#tiles1DIconStr-path-3"></use>
    </g>
</svg>
`;r.svg1DTilesIcon=R.parseFromString(B,"text/xml").documentElement,r.svgVertical1DTilesIcon=(0,o.select)(R.parseFromString(B,"text/xml").documentElement).style("transform","rotate(90deg)").node();var F=`
<svg width="20px" height="20px" viewBox="0 0 111 111" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 42 (36781) - http://www.bohemiancoding.com/sketch -->
    <title>arrowhead-domains</title>
    <desc>Created with Sketch.</desc>
    <defs>
        <rect id="arrowHeadDomainsStr-path-1" x="0" y="0" width="90" height="90"></rect>
        <mask id="arrowHeadDomainsStr-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="90" height="90" fill="white">
            <use xlink:href="#arrowHeadDomainsStr-path-1"></use>
        </mask>
        <rect id="arrowHeadDomainsStr-path-3" x="52" y="52" width="59" height="59"></rect>
        <mask id="arrowHeadDomainsStr-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="59" height="59" fill="white">
            <use xlink:href="#arrowHeadDomainsStr-path-3"></use>
        </mask>
    </defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" fill-opacity="0">
        <use id="Rectangle" stroke="#979797" mask="url(#arrowHeadDomainsStr-mask-2)" stroke-width="22" fill="#D8D8D8" xlink:href="#arrowHeadDomainsStr-path-1"></use>
        <use id="Rectangle" stroke="#979797" mask="url(#arrowHeadDomainsStr-mask-4)" stroke-width="22" fill="#D8D8D8" xlink:href="#arrowHeadDomainsStr-path-3"></use>
    </g>
</svg>
`;r.svgArrowheadDomainsIcon=R.parseFromString(F,"text/xml").documentElement;function N(X){var G=X.theStyle;return e.default.createElement("svg",{viewBox:"0 0 12 13",xmlns:"http://www.w3.org/2000/svg",className:(0,a.default)(G,u)},e.default.createElement("g",{fill:"none",stroke:"#6c6c6c",strokeWidth:"2"},e.default.createElement("path",{d:"M11.29 11.71l-4-4"}),e.default.createElement("circle",{cx:"5",cy:"5",r:"4"})))}},function(f,r,t){f.exports={"multitrack-header":"ViewHeader-module_multitrack-header-3XnZx","multitrack-header-focus":"ViewHeader-module_multitrack-header-focus-3akkN","multitrack-header-squeazed":"ViewHeader-module_multitrack-header-squeazed-GHIVd","multitrack-header-dark":"ViewHeader-module_multitrack-header-dark-97tZt","multitrack-header-id":"ViewHeader-module_multitrack-header-id-3YURk","multitrack-header-left":"ViewHeader-module_multitrack-header-left-Qj9Sm","multitrack-header-grabber":"ViewHeader-module_multitrack-header-grabber-3jrIz","multitrack-header-grabber-squeazed":"ViewHeader-module_multitrack-header-grabber-squeazed-dU45Z","multitrack-header-search":"ViewHeader-module_multitrack-header-search-1X_3_","multitrack-header-nav-list":"ViewHeader-module_multitrack-header-nav-list-2nvcu","multitrack-header-icon":"ViewHeader-module_multitrack-header-icon-16QKZ","multitrack-header-icon-squeazed":"ViewHeader-module_multitrack-header-icon-squeazed-25lkF","mouse-tool-selection":"ViewHeader-module_mouse-tool-selection-1pg2m"}},function(f,r,t){var n=t(691),a=t(269),l=t(117),e=t(398),o=t(693);f.exports=s,s.normalizeId=_,s.fullPath=k,s.url=A,s.ids=C,s.inlineRef=v,s.schema=u;function s(S,P,O){var R=this._refs[O];if(typeof R=="string")if(this._refs[R])R=this._refs[R];else return s.call(this,S,P,R);if(R=R||this._schemas[O],R instanceof e)return v(R.schema,this._opts.inlineRefs)?R.schema:R.validate||this._compile(R);var I=u.call(this,P,O),M,H,L;return I&&(M=I.schema,P=I.root,L=I.baseId),M instanceof e?H=M.validate||S.call(this,M.schema,P,void 0,L):M!==void 0&&(H=v(M,this._opts.inlineRefs)?M:S.call(this,M,P,void 0,L)),H}function u(S,P){var O=n.parse(P),R=T(O),I=k(this._getId(S.schema));if(Object.keys(S.schema).length===0||R!==I){var M=_(R),H=this._refs[M];if(typeof H=="string")return c.call(this,S,H,O);if(H instanceof e)H.validate||this._compile(H),S=H;else if(H=this._schemas[M],H instanceof e){if(H.validate||this._compile(H),M==_(P))return{schema:H,root:S,baseId:I};S=H}else return;if(!S.schema)return;I=k(this._getId(S.schema))}return p.call(this,O,I,S.schema,S)}function c(S,P,O){var R=u.call(this,S,P);if(R){var I=R.schema,M=R.baseId;S=R.root;var H=this._getId(I);return H&&(M=A(M,H)),p.call(this,O,M,I,S)}}var m=l.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function p(S,P,O,R){if(S.fragment=S.fragment||"",S.fragment.slice(0,1)=="/"){for(var I=S.fragment.split("/"),M=1;M<I.length;M++){var H=I[M];if(H){if(H=l.unescapeFragment(H),O=O[H],O===void 0)break;var L;if(!m[H]&&(L=this._getId(O),L&&(P=A(P,L)),O.$ref)){var D=A(P,O.$ref),j=u.call(this,R,D);j&&(O=j.schema,R=j.root,P=j.baseId)}}}if(O!==void 0&&O!==R.schema)return{schema:O,root:R,baseId:P}}}var h=l.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function v(S,P){if(P===!1)return!1;if(P===void 0||P===!0)return x(S);if(P)return y(S)<=P}function x(S){var P;if(Array.isArray(S)){for(var O=0;O<S.length;O++)if(P=S[O],typeof P=="object"&&!x(P))return!1}else for(var R in S)if(R=="$ref"||(P=S[R],typeof P=="object"&&!x(P)))return!1;return!0}function y(S){var P=0,O;if(Array.isArray(S)){for(var R=0;R<S.length;R++)if(O=S[R],typeof O=="object"&&(P+=y(O)),P==1/0)return 1/0}else for(var I in S){if(I=="$ref")return 1/0;if(h[I])P++;else if(O=S[I],typeof O=="object"&&(P+=y(O)+1),P==1/0)return 1/0}return P}function k(S,P){P!==!1&&(S=_(S));var O=n.parse(S);return T(O)}function T(S){return n.serialize(S).split("#")[0]+"#"}var E=/#\/?$/;function _(S){return S?S.replace(E,""):""}function A(S,P){return P=_(P),n.resolve(S,P)}function C(S){var P=_(this._getId(S)),O={"":P},R={"":k(P,!1)},I={},M=this;return o(S,{allKeys:!0},function(H,L,D,j,W,B,F){if(L!==""){var N=M._getId(H),X=O[j],G=R[j]+"/"+W;if(F!==void 0&&(G+="/"+(typeof F=="number"?F:l.escapeFragment(F))),typeof N=="string"){N=X=_(X?n.resolve(X,N):N);var V=M._refs[N];if(typeof V=="string"&&(V=M._refs[V]),V&&V.schema){if(!a(H,V.schema))throw new Error('id "'+N+'" resolves to more than one schema')}else if(N!=_(G))if(N[0]=="#"){if(I[N]&&!a(H,I[N]))throw new Error('id "'+N+'" resolves to more than one schema');I[N]=H}else M._refs[N]=G}O[L]=X,R[L]=G}}),I}},function(f,r,t){var n=Array.isArray,a=Object.keys,l=Object.prototype.hasOwnProperty;f.exports=function e(o,s){if(o===s)return!0;if(o&&s&&typeof o=="object"&&typeof s=="object"){var u=n(o),c=n(s),m,p,h;if(u&&c){if(p=o.length,p!=s.length)return!1;for(m=p;m--!==0;)if(!e(o[m],s[m]))return!1;return!0}if(u!=c)return!1;var v=o instanceof Date,x=s instanceof Date;if(v!=x)return!1;if(v&&x)return o.getTime()==s.getTime();var y=o instanceof RegExp,k=s instanceof RegExp;if(y!=k)return!1;if(y&&k)return o.toString()==s.toString();var T=a(o);if(p=T.length,p!==a(s).length)return!1;for(m=p;m--!==0;)if(!l.call(s,T[m]))return!1;for(m=p;m--!==0;)if(h=T[m],!e(o[h],s[h]))return!1;return!0}return o!==o&&s!==s}},function(f,r,t){var n=t(268);f.exports={Validation:e(a),MissingRef:e(l)};function a(o){this.message="validation failed",this.errors=o,this.ajv=this.validation=!0}l.message=function(o,s){return"can't resolve reference "+s+" from id "+o};function l(o,s,u){this.message=u||l.message(o,s),this.missingRef=n.url(o,s),this.missingSchema=n.normalizeId(n.fullPath(this.missingRef))}function e(o){return o.prototype=Object.create(Error.prototype),o.prototype.constructor=o,o}},function(f){f.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://higlass.io/#viewconf",title:"HiGlass viewconf",type:"object",additionalProperties:!1,required:[],properties:{editable:{type:"boolean",default:!0},viewEditable:{type:"boolean",default:!0},tracksEditable:{type:"boolean",default:!0},zoomFixed:{type:"boolean"},compactLayout:{type:"boolean"},exportViewUrl:{type:"string"},trackSourceServers:{type:"array",items:{type:"string"},minLength:1},zoomLocks:{$ref:"#/definitions/locks/zoomLocks"},locationLocks:{$ref:"#/definitions/locks/locationLocks"},valueScaleLocks:{$ref:"#/definitions/locks/valueScaleLocks"},views:{type:"array",items:{$ref:"#/definitions/view"},minLength:1},chromInfoPath:{type:"string"}},definitions:{data:{type:"object",properties:{url:{type:"string"},server:{type:"string"},filetype:{type:"string"},type:{type:"string"},tilesetInfo:{type:"object"},children:{type:"array"},tiles:{type:"object"}}},locks:{slug:{type:"string"},locksByViewUid:{type:"object",additionalProperties:!1,patternProperties:{".":{$ref:"#/definitions/locks/slug"}}},axisSpecificLocks:{additionalProperties:!1,properties:{axis:{enum:["x","y"],type:"string"},lock:{type:"string"}},required:["lock","axis"],type:"object"},locationLocksByViewUid:{type:"object",additionalProperties:!1,patternProperties:{".":{anyOf:[{type:"string"},{additionalProperties:!1,properties:{x:{$ref:"#/definitions/locks/axisSpecificLocks"},y:{$ref:"#/definitions/locks/axisSpecificLocks"}},type:"object"}]}}},zoomLocks:{type:"object",additionalProperties:!1,required:[],properties:{locksByViewUid:{$ref:"#/definitions/locks/locksByViewUid"},locksDict:{type:"object",additionalProperties:!1,patternProperties:{".":{type:"object",additionalProperties:!1,properties:{uid:{$ref:"#/definitions/locks/slug"}},patternProperties:{"^(?!uid).":{type:"array",minLength:3,maxLength:3,items:{type:"number"}}}}}}}},locationLocks:{type:"object",additionalProperties:!1,required:[],properties:{locksByViewUid:{$ref:"#/definitions/locks/locationLocksByViewUid"},locksDict:{type:"object",additionalProperties:!1,patternProperties:{".":{type:"object",additionalProperties:!1,properties:{uid:{$ref:"#/definitions/locks/slug"}},patternProperties:{"^(?!uid).":{type:"array",minLength:3,maxLength:3,items:{type:"number"}}}}}}}},valueScaleLocks:{type:"object",additionalProperties:!1,required:["locksByViewUid","locksDict"],properties:{locksByViewUid:{$ref:"#/definitions/locks/locksByViewUid"},locksDict:{type:"object",additionalProperties:!1,patternProperties:{".":{type:"object",additionalProperties:!1,properties:{uid:{$ref:"#/definitions/locks/slug"},ignoreOffScreenValues:{type:"boolean"}},patternProperties:{"^(?!(uid|ignoreOffScreenValues)).":{type:"object",additionalProperties:!1,required:["view","track"],properties:{view:{type:"string"},track:{$ref:"#/definitions/locks/slug"}}}}}}}}}},view:{type:"object",additionalProperties:!1,required:["tracks","layout"],properties:{autocompleteSource:{type:"string"},chromInfoPath:{type:"string"},genomePositionSearchBox:{$ref:"#/definitions/viewProperties/genomePositionSearchBox"},genomePositionSearchBoxVisible:{type:"boolean"},initialXDomain:{$ref:"#/definitions/viewProperties/domain"},initialYDomain:{$ref:"#/definitions/viewProperties/domain"},layout:{$ref:"#/definitions/viewProperties/layout"},overlays:{type:"array",items:{$ref:"#/definitions/viewProperties/overlay"}},selectionView:{type:"boolean"},tracks:{$ref:"#/definitions/viewProperties/tracks_object"},uid:{type:"string"},zoomFixed:{type:"boolean"},zoomLimits:{type:"array",minLength:2,maxLength:2,default:[1,null]}}},viewProperties:{genomePositionSearchBox:{type:"object",title:"The Genome Position Search Box Schema",required:["chromInfoServer","chromInfoId"],properties:{autocompleteServer:{type:"string",title:"The Autocomplete Server URL",default:"",examples:["//higlass.io/api/v1"],pattern:"^(.*)$"},autocompleteId:{type:"string",title:"The Autocomplete ID",default:"",examples:["OHJakQICQD6gTD7skx4EWA"],pattern:"^(.*)$"},chromInfoServer:{type:"string",title:"The Chrominfo Server URL",default:"",examples:["//higlass.io/api/v1"],pattern:"^(.*)$"},chromInfoId:{type:"string",title:"The Chromosome Info ID",default:"",examples:["hg19"],pattern:"^(.*)$"},visible:{type:"boolean",title:"The Visible Schema",default:!1}}},overlay:{type:"object",additionalProperties:!1,properties:{chromInfoPath:{type:"string"},includes:{type:"array"},options:{type:"object",properties:{extent:{type:"array"},minWidth:{type:"number"},fill:{type:"string"},fillOpacity:{type:"number"},stroke:{type:"string"},strokeOpacity:{type:"number"},strokeWidth:{type:"number"},strokePos:{type:["string","array"]},outline:{type:"string"},outlineOpacity:{type:"number"},outlineWidth:{type:"number"},outlinePos:{type:["string","array"]}}},type:{type:"string"},uid:{type:"string"}}},layout:{type:"object",additionalProperties:!1,required:["w","h","x","y"],properties:{x:{type:"integer",title:"The X Position",default:0},y:{type:"integer",title:"The Y Position",default:0},w:{type:"integer",title:"Width",default:12},h:{type:"integer",title:"Height",default:12},moved:{type:"boolean"},static:{type:"boolean"}}},tracks_object:{type:"object",additionalProperties:!1,properties:{left:{$ref:"#/definitions/viewProperties/tracks_array"},right:{$ref:"#/definitions/viewProperties/tracks_array"},top:{$ref:"#/definitions/viewProperties/tracks_array"},bottom:{$ref:"#/definitions/viewProperties/tracks_array"},center:{$ref:"#/definitions/viewProperties/tracks_array"},whole:{$ref:"#/definitions/viewProperties/tracks_array"},gallery:{$ref:"#/definitions/viewProperties/tracks_array"}}},tracks_array:{type:"array",items:{oneOf:[{$ref:"#/definitions/tracks/enum_track"},{$ref:"#/definitions/tracks/combined_track"},{$ref:"#/definitions/tracks/heatmap_track"},{$ref:"#/definitions/tracks/independent_viewport_projection_track"}]}},domain:{type:"array",items:{type:"number"},maxItems:2,minItems:2}},tracks:{heatmap_track:{type:"object",additionalProperties:!1,required:[],properties:{uid:{type:"string"},type:{const:"heatmap"},data:{$ref:"#/definitions/data"},height:{type:"number"},options:{type:"object"},position:{type:"string"},server:{type:"string"},tilesetUid:{type:"string"},width:{type:"number"},transforms:{type:"array"}}},combined_track:{type:"object",additionalProperties:!1,required:["contents"],properties:{contents:{$ref:"#/definitions/viewProperties/tracks_array"},height:{type:"number"},options:{},position:{type:"string"},type:{const:"combined"},uid:{type:"string"},width:{type:"number"}}},enum_track:{type:"object",additionalProperties:!1,required:["type"],properties:{server:{type:"string"},tilesetUid:{type:"string"},data:{$ref:"#/definitions/data"},uid:{type:"string"},type:{enum:["multivec","1d-heatmap","line","point","bar","divergent-bar","stacked-interval","gene-annotations","linear-2d-rectangle-domains","chromosome-labels","linear-heatmap","1d-value-interval","2d-annotations","2d-chromosome-annotations","2d-chromosome-grid","2d-chromosome-labels","2d-rectangle-domains","2d-tiles","arrowhead-domains","bedlike","cross-rule","dummy","horizontal-1d-annotations","horizontal-1d-heatmap","horizontal-1d-tiles","horizontal-1d-value-interval","horizontal-2d-rectangle-domains","horizontal-bar","horizontal-chromosome-grid","horizontal-chromosome-labels","horizontal-divergent-bar","horizontal-gene-annotations","horizontal-heatmap","horizontal-line","horizontal-multivec","horizontal-point","horizontal-rule","horizontal-vector-heatmap","image-tiles","left-axis","left-stacked-interval","mapbox-tiles","osm-2d-tile-ids","osm-tiles","raster-tiles","simple-svg","square-markers","top-axis","top-stacked-interval","vertical-1d-annotations","vertical-1d-heatmap","vertical-1d-tiles","vertical-1d-value-interval","vertical-2d-rectangle-domains","vertical-bar","vertical-bedlike","vertical-chromosome-grid","vertical-chromosome-labels","vertical-gene-annotations","vertical-heatmap","vertical-line","vertical-multivec","vertical-point","vertical-rule","vertical-vector-heatmap","viewport-projection-center","viewport-projection-horizontal","viewport-projection-vertical"]},chromInfoPath:{type:"string"},fromViewUid:{type:"string"},height:{type:"number"},options:{type:"object"},width:{type:"number"},x:{type:"number"},y:{type:"number"}}},independent_viewport_projection_track:{type:"object",additionalProperties:!1,properties:{uid:{type:"string"},type:{enum:["viewport-projection-horizontal","viewport-projection-vertical","viewport-projection-center"]},fromViewUid:{type:"null"},projectionXDomain:{$ref:"#/definitions/viewProperties/domain"},projectionYDomain:{$ref:"#/definitions/viewProperties/domain"},options:{type:"object"},transforms:{type:"array"},width:{type:"number"},x:{type:"number"},y:{type:"number"}}}}}}},function(f,r,t){var n=t(407),a=t(411);function l(e,o){return e&&n(e,a(o))}f.exports=l},function(f,r,t){var n=t(739),a=t(275),l=t(276),e=l&&l.isTypedArray,o=e?a(e):n;f.exports=o},function(f,r){var t=9007199254740991;function n(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=t}f.exports=n},function(f,r){function t(n){return function(a){return n(a)}}f.exports=t},function(f,r,t){(function(n){var a=t(406),l=r&&!r.nodeType&&r,e=l&&typeof n=="object"&&n&&!n.nodeType&&n,o=e&&e.exports===l,s=o&&a.process,u=function(){try{var c=e&&e.require&&e.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();n.exports=u}).call(this,t(173)(f))},function(f,r,t){var n=t(97),a=t(45),l="[object AsyncFunction]",e="[object Function]",o="[object GeneratorFunction]",s="[object Proxy]";function u(c){if(!a(c))return!1;var m=n(c);return m==e||m==o||m==l||m==s}f.exports=u},function(f,r,t){var n=t(410),a=n(Object.getPrototypeOf,Object);f.exports=a},function(f,r,t){var n=t(99),a=t(41),l=n(a,"Map");f.exports=l},function(f,r,t){var n=t(758),a=t(765),l=t(767),e=t(768),o=t(769);function s(u){var c=-1,m=u==null?0:u.length;for(this.clear();++c<m;){var p=u[c];this.set(p[0],p[1])}}s.prototype.clear=n,s.prototype.delete=a,s.prototype.get=l,s.prototype.has=e,s.prototype.set=o,f.exports=s},function(f,r){function t(n,a){for(var l=-1,e=a.length,o=n.length;++l<e;)n[o+l]=a[l];return n}f.exports=t},function(f,r,t){var n=t(283),a=t(421),l=Object.prototype,e=l.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(u){return u==null?[]:(u=Object(u),n(o(u),function(c){return e.call(u,c)}))}:a;f.exports=s},function(f,r){function t(n,a){for(var l=-1,e=n==null?0:n.length,o=0,s=[];++l<e;){var u=n[l];a(u,l,n)&&(s[o++]=u)}return s}f.exports=t},function(f,r,t){var n=t(193),a=t(145);function l(e,o){o=n(o,e);for(var s=0,u=o.length;e!=null&&s<u;)e=e[a(o[s++])];return s&&s==u?e:void 0}f.exports=l},function(f,r,t){var n=t(31),a=t(194),l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,e=/^\w*$/;function o(s,u){if(n(s))return!1;var c=typeof s;return c=="number"||c=="symbol"||c=="boolean"||s==null||a(s)?!0:e.test(s)||!l.test(s)||u!=null&&s in Object(u)}f.exports=o},function(f,r){function t(n,a){for(var l=-1,e=n==null?0:n.length;++l<e&&a(n[l],l,n)!==!1;);return n}f.exports=t},function(f,r,t){var n=t(426);function a(l,e,o){e=="__proto__"&&n?n(l,e,{configurable:!0,enumerable:!0,value:o,writable:!0}):l[e]=o}f.exports=a},function(f,r,t){var n=t(418);function a(l){var e=new l.constructor(l.byteLength);return new n(e).set(new n(l)),e}f.exports=a},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.Checkboard=void 0;var n=t(1),a=c(n),l=t(13),e=c(l),o=t(824),s=u(o);function u(p){if(p&&p.__esModule)return p;var h={};if(p!=null)for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(h[v]=p[v]);return h.default=p,h}function c(p){return p&&p.__esModule?p:{default:p}}var m=r.Checkboard=function(p){var h=p.white,v=p.grey,x=p.size,y=p.renderers,k=p.borderRadius,T=p.boxShadow,E=(0,e.default)({default:{grid:{borderRadius:k,boxShadow:T,absolute:"0px 0px 0px 0px",background:"url("+s.get(h,v,x,y.canvas)+") center left"}}});return a.default.createElement("div",{style:E.grid})};m.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}},r.default=m},function(f,r,t){var n=t(291),a=t(294);function l(e){return n(function(o,s){var u=-1,c=s.length,m=c>1?s[c-1]:void 0,p=c>2?s[2]:void 0;for(m=e.length>3&&typeof m=="function"?(c--,m):void 0,p&&a(s[0],s[1],p)&&(m=c<3?void 0:m,c=1),o=Object(o);++u<c;){var h=s[u];h&&e(o,h,u,m)}return o})}f.exports=l},function(f,r,t){var n=t(143),a=t(433),l=t(293);function e(o,s){return l(a(o,s,n),o+"")}f.exports=e},function(f,r){function t(n,a,l){switch(l.length){case 0:return n.call(a);case 1:return n.call(a,l[0]);case 2:return n.call(a,l[0],l[1]);case 3:return n.call(a,l[0],l[1],l[2])}return n.apply(a,l)}f.exports=t},function(f,r,t){var n=t(833),a=t(434),l=a(n);f.exports=l},function(f,r,t){var n=t(120),a=t(98),l=t(142),e=t(45);function o(s,u,c){if(!e(c))return!1;var m=typeof u;return(m=="number"?a(c)&&l(u,c.length):m=="string"&&u in c)?n(c[u],s):!1}f.exports=o},function(f,r,t){var n=Array.prototype.slice,a=t(448),l=Object.keys,e=l?function(s){return l(s)}:t(946),o=Object.keys;e.shim=function(){if(Object.keys){var s=function(){var u=Object.keys(arguments);return u&&u.length===arguments.length}(1,2);s||(Object.keys=function(u){return a(u)?o(n.call(u)):o(u)})}else Object.keys=e;return Object.keys||e},f.exports=e},function(f,r,t){r=f.exports=t(452),r.version=t(1040).version},function(f){f.exports={Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",amp:"&",AMP:"&",andand:"⩕",And:"⩓",and:"∧",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angmsd:"∡",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",apacir:"⩯",ap:"≈",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxHd:"╤",boxhD:"╥",boxHD:"╦",boxhu:"┴",boxHu:"╧",boxhU:"╨",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsolb:"⧅",bsol:"\\",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",capand:"⩄",capbrcup:"⩉",capcap:"⩋",cap:"∩",Cap:"⋒",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cir:"○",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cup:"∪",Cup:"⋓",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",Darr:"↡",dArr:"⇓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",ddagger:"‡",ddarr:"⇊",DD:"ⅅ",dd:"ⅆ",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrowBar:"⤓",downarrow:"↓",DownArrow:"↓",Downarrow:"⇓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVectorBar:"⥖",DownLeftVector:"↽",DownRightTeeVector:"⥟",DownRightVectorBar:"⥗",DownRightVector:"⇁",DownTeeArrow:"↧",DownTee:"⊤",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",Ecirc:"Ê",ecirc:"ê",ecir:"≖",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",edot:"ė",eDot:"≑",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp13:" ",emsp14:" ",emsp:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",ge:"≥",gE:"≧",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",gescc:"⪩",ges:"⩾",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gla:"⪥",gl:"≷",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",gtcc:"⪧",gtcir:"⩺",gt:">",GT:">",Gt:"≫",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",harrcir:"⥈",harr:"↔",hArr:"⇔",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",Im:"ℑ",imof:"⊷",imped:"Ƶ",Implies:"⇒",incare:"℅",in:"∈",infin:"∞",infintie:"⧝",inodot:"ı",intcal:"⊺",int:"∫",Int:"∬",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larrb:"⇤",larrbfs:"⤟",larr:"←",Larr:"↞",lArr:"⇐",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",latail:"⤙",lAtail:"⤛",lat:"⪫",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",LeftArrowBar:"⇤",leftarrow:"←",LeftArrow:"←",Leftarrow:"⇐",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVectorBar:"⥙",LeftDownVector:"⇃",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTeeArrow:"↤",LeftTee:"⊣",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangleBar:"⧏",LeftTriangle:"⊲",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVectorBar:"⥘",LeftUpVector:"↿",LeftVectorBar:"⥒",LeftVector:"↼",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",lescc:"⪨",les:"⩽",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",llarr:"⇇",ll:"≪",Ll:"⋘",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoustache:"⎰",lmoust:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftrightarrow:"⟷",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longmapsto:"⟼",longrightarrow:"⟶",LongRightArrow:"⟶",Longrightarrow:"⟹",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",ltcc:"⪦",ltcir:"⩹",lt:"<",LT:"<",Lt:"≪",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",midast:"*",midcir:"⫰",mid:"∣",middot:"·",minusb:"⊟",minus:"−",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natural:"♮",naturals:"ℕ",natur:"♮",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",ne:"≠",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nlE:"≦̸",nle:"≰",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangleBar:"⧏̸",NotLeftTriangle:"⋪",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangleBar:"⧐̸",NotRightTriangle:"⋫",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",nparallel:"∦",npar:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",nprec:"⊀",npreceq:"⪯̸",npre:"⪯̸",nrarrc:"⤳̸",nrarr:"↛",nrArr:"⇏",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",Ocirc:"Ô",ocirc:"ô",ocir:"⊚",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",orarr:"↻",Or:"⩔",or:"∨",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",otimesas:"⨶",Otimes:"⨷",otimes:"⊗",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",para:"¶",parallel:"∥",par:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plus:"+",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",prap:"⪷",Pr:"⪻",pr:"≺",prcue:"≼",precapprox:"⪷",prec:"≺",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",pre:"⪯",prE:"⪳",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportional:"∝",Proportion:"∷",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarr:"→",Rarr:"↠",rArr:"⇒",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",Re:"ℜ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrowBar:"⇥",rightarrow:"→",RightArrow:"→",Rightarrow:"⇒",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVectorBar:"⥕",RightDownVector:"⇂",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTeeArrow:"↦",RightTee:"⊢",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangleBar:"⧐",RightTriangle:"⊳",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVectorBar:"⥔",RightUpVector:"↾",RightVectorBar:"⥓",RightVector:"⇀",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoustache:"⎱",rmoust:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",scap:"⪸",Scaron:"Š",scaron:"š",Sc:"⪼",sc:"≻",sccue:"≽",sce:"⪰",scE:"⪴",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdotb:"⊡",sdot:"⋅",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",solbar:"⌿",solb:"⧄",sol:"/",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squ:"□",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succapprox:"⪸",succ:"≻",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup1:"¹",sup2:"²",sup3:"³",sup:"⊃",Sup:"⋑",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",therefore:"∴",Therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",ThinSpace:" ",thinsp:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",timesbar:"⨱",timesb:"⊠",times:"×",timesd:"⨰",tint:"∭",toea:"⤨",topbot:"⌶",topcir:"⫱",top:"⊤",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",uarr:"↑",Uarr:"↟",uArr:"⇑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrowBar:"⤒",uparrow:"↑",UpArrow:"↑",Uparrow:"⇑",UpArrowDownArrow:"⇅",updownarrow:"↕",UpDownArrow:"↕",Updownarrow:"⇕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTeeArrow:"↥",UpTee:"⊥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",Vcy:"В",vcy:"в",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",veebar:"⊻",vee:"∨",Vee:"⋁",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xharr:"⟷",xhArr:"⟺",Xi:"Ξ",xi:"ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",yuml:"ÿ",Yuml:"Ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",zfr:"𝔷",Zfr:"ℨ",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}},function(f){f.exports={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}},function(f,r,t){var n=t(123),a=t(953),l={__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0};function e(v,x){if(v){var y="",k;for(var T in v)k=v[T],y&&(y+=" "),y+=T,(k!==null&&k!==""||x.xmlMode)&&(y+='="'+(x.decodeEntities?a.encodeXML(k):k)+'"');return y}}var o={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},s=f.exports=function(v,x){!Array.isArray(v)&&!v.cheerio&&(v=[v]),x=x||{};for(var y="",k=0;k<v.length;k++){var T=v[k];T.type==="root"?y+=s(T.children,x):n.isTag(T)?y+=u(T,x):T.type===n.Directive?y+=c(T):T.type===n.Comment?y+=h(T):T.type===n.CDATA?y+=p(T):y+=m(T,x)}return y};function u(v,x){v.name==="svg"&&(x={decodeEntities:x.decodeEntities,xmlMode:!0});var y="<"+v.name,k=e(v.attribs,x);return k&&(y+=" "+k),x.xmlMode&&(!v.children||v.children.length===0)?y+="/>":(y+=">",v.children&&(y+=s(v.children,x)),(!o[v.name]||x.xmlMode)&&(y+="</"+v.name+">")),y}function c(v){return"<"+v.data+">"}function m(v,x){var y=v.data||"";return x.decodeEntities&&!(v.parent&&v.parent.name in l)&&(y=a.encodeXML(y)),y}function p(v){return"<![CDATA["+v.children[0].data+"]]>"}function h(v){return"<!--"+v.data+"-->"}},function(f,r,t){var n=t(200).Buffer,a=n.isEncoding||function(_){switch(_=""+_,_&&_.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function l(_){if(!_)return"utf8";for(var A;;)switch(_){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return _;default:if(A)return;_=(""+_).toLowerCase(),A=!0}}function e(_){var A=l(_);if(typeof A!="string"&&(n.isEncoding===a||!a(_)))throw new Error("Unknown encoding: "+_);return A||_}r.StringDecoder=o;function o(_){this.encoding=e(_);var A;switch(this.encoding){case"utf16le":this.text=v,this.end=x,A=4;break;case"utf8":this.fillLast=m,A=4;break;case"base64":this.text=y,this.end=k,A=3;break;default:this.write=T,this.end=E;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(A)}o.prototype.write=function(_){if(_.length===0)return"";var A,C;if(this.lastNeed){if(A=this.fillLast(_),A===void 0)return"";C=this.lastNeed,this.lastNeed=0}else C=0;return C<_.length?A?A+this.text(_,C):this.text(_,C):A||""},o.prototype.end=h,o.prototype.text=p,o.prototype.fillLast=function(_){if(this.lastNeed<=_.length)return _.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_.copy(this.lastChar,this.lastTotal-this.lastNeed,0,_.length),this.lastNeed-=_.length};function s(_){return _<=127?0:_>>5===6?2:_>>4===14?3:_>>3===30?4:_>>6===2?-1:-2}function u(_,A,C){var S=A.length-1;if(S<C)return 0;var P=s(A[S]);return P>=0?(P>0&&(_.lastNeed=P-1),P):--S<C||P===-2?0:(P=s(A[S]),P>=0?(P>0&&(_.lastNeed=P-2),P):--S<C||P===-2?0:(P=s(A[S]),P>=0?(P>0&&(P===2?P=0:_.lastNeed=P-3),P):0))}function c(_,A,C){if((A[0]&192)!==128)return _.lastNeed=0,"�";if(_.lastNeed>1&&A.length>1){if((A[1]&192)!==128)return _.lastNeed=1,"�";if(_.lastNeed>2&&A.length>2&&(A[2]&192)!==128)return _.lastNeed=2,"�"}}function m(_){var A=this.lastTotal-this.lastNeed,C=c(this,_);if(C!==void 0)return C;if(this.lastNeed<=_.length)return _.copy(this.lastChar,A,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_.copy(this.lastChar,A,0,_.length),this.lastNeed-=_.length}function p(_,A){var C=u(this,_,A);if(!this.lastNeed)return _.toString("utf8",A);this.lastTotal=C;var S=_.length-(C-this.lastNeed);return _.copy(this.lastChar,0,S),_.toString("utf8",A,S)}function h(_){var A=_&&_.length?this.write(_):"";return this.lastNeed?A+"�":A}function v(_,A){if((_.length-A)%2===0){var C=_.toString("utf16le",A);if(C){var S=C.charCodeAt(C.length-1);if(S>=55296&&S<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1],C.slice(0,-1)}return C}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=_[_.length-1],_.toString("utf16le",A,_.length-1)}function x(_){var A=_&&_.length?this.write(_):"";if(this.lastNeed){var C=this.lastTotal-this.lastNeed;return A+this.lastChar.toString("utf16le",0,C)}return A}function y(_,A){var C=(_.length-A)%3;return C===0?_.toString("base64",A):(this.lastNeed=3-C,this.lastTotal=3,C===1?this.lastChar[0]=_[_.length-1]:(this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1]),_.toString("base64",A,_.length-C))}function k(_){var A=_&&_.length?this.write(_):"";return this.lastNeed?A+this.lastChar.toString("base64",0,3-this.lastNeed):A}function T(_){return _.toString(this.encoding)}function E(_){return _&&_.length?this.write(_):""}},function(f,r,t){var n=t(64).DOCUMENT_MODE;r.createDocument=function(){return{nodeName:"#document",mode:n.NO_QUIRKS,childNodes:[]}},r.createDocumentFragment=function(){return{nodeName:"#document-fragment",childNodes:[]}},r.createElement=function(o,s,u){return{nodeName:o,tagName:o,attrs:u,namespaceURI:s,childNodes:[],parentNode:null}},r.createCommentNode=function(o){return{nodeName:"#comment",data:o,parentNode:null}};var a=function(o){return{nodeName:"#text",value:o,parentNode:null}},l=r.appendChild=function(o,s){o.childNodes.push(s),s.parentNode=o},e=r.insertBefore=function(o,s,u){var c=o.childNodes.indexOf(u);o.childNodes.splice(c,0,s),s.parentNode=o};r.setTemplateContent=function(o,s){o.content=s},r.getTemplateContent=function(o){return o.content},r.setDocumentType=function(o,s,u,c){for(var m=null,p=0;p<o.childNodes.length;p++)if(o.childNodes[p].nodeName==="#documentType"){m=o.childNodes[p];break}m?(m.name=s,m.publicId=u,m.systemId=c):l(o,{nodeName:"#documentType",name:s,publicId:u,systemId:c})},r.setDocumentMode=function(o,s){o.mode=s},r.getDocumentMode=function(o){return o.mode},r.detachNode=function(o){if(o.parentNode){var s=o.parentNode.childNodes.indexOf(o);o.parentNode.childNodes.splice(s,1),o.parentNode=null}},r.insertText=function(o,s){if(o.childNodes.length){var u=o.childNodes[o.childNodes.length-1];if(u.nodeName==="#text"){u.value+=s;return}}l(o,a(s))},r.insertTextBefore=function(o,s,u){var c=o.childNodes[o.childNodes.indexOf(u)-1];c&&c.nodeName==="#text"?c.value+=s:e(o,a(s),u)},r.adoptAttributes=function(o,s){for(var u=[],c=0;c<o.attrs.length;c++)u.push(o.attrs[c].name);for(var m=0;m<s.length;m++)u.indexOf(s[m].name)===-1&&o.attrs.push(s[m])},r.getFirstChild=function(o){return o.childNodes[0]},r.getChildNodes=function(o){return o.childNodes},r.getParentNode=function(o){return o.parentNode},r.getAttrList=function(o){return o.attrs},r.getTagName=function(o){return o.tagName},r.getNamespaceURI=function(o){return o.namespaceURI},r.getTextNodeContent=function(o){return o.value},r.getCommentNodeContent=function(o){return o.data},r.getDocumentTypeNodeName=function(o){return o.name},r.getDocumentTypeNodePublicId=function(o){return o.publicId},r.getDocumentTypeNodeSystemId=function(o){return o.systemId},r.isTextNode=function(o){return o.nodeName==="#text"},r.isCommentNode=function(o){return o.nodeName==="#comment"},r.isDocumentTypeNode=function(o){return o.nodeName==="#documentType"},r.isElementNode=function(o){return!!o.tagName}},function(f,r,t){f.exports=function(n,a){return a=a||Object.create(null),[n,a].reduce(function(l,e){return Object.keys(e).forEach(function(o){l[o]=e[o]}),l},Object.create(null))}},function(f,r,t){var n=t(64).DOCUMENT_MODE,a="html",l="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",e=["+//silmaril//dtd html pro v0r11 19970101//en","-//advasoft ltd//dtd html 3.0 aswedit + extensions//en","-//as//dtd html 3.0 aswedit + extensions//en","-//ietf//dtd html 2.0 level 1//en","-//ietf//dtd html 2.0 level 2//en","-//ietf//dtd html 2.0 strict level 1//en","-//ietf//dtd html 2.0 strict level 2//en","-//ietf//dtd html 2.0 strict//en","-//ietf//dtd html 2.0//en","-//ietf//dtd html 2.1e//en","-//ietf//dtd html 3.0//en","-//ietf//dtd html 3.0//en//","-//ietf//dtd html 3.2 final//en","-//ietf//dtd html 3.2//en","-//ietf//dtd html 3//en","-//ietf//dtd html level 0//en","-//ietf//dtd html level 0//en//2.0","-//ietf//dtd html level 1//en","-//ietf//dtd html level 1//en//2.0","-//ietf//dtd html level 2//en","-//ietf//dtd html level 2//en//2.0","-//ietf//dtd html level 3//en","-//ietf//dtd html level 3//en//3.0","-//ietf//dtd html strict level 0//en","-//ietf//dtd html strict level 0//en//2.0","-//ietf//dtd html strict level 1//en","-//ietf//dtd html strict level 1//en//2.0","-//ietf//dtd html strict level 2//en","-//ietf//dtd html strict level 2//en//2.0","-//ietf//dtd html strict level 3//en","-//ietf//dtd html strict level 3//en//3.0","-//ietf//dtd html strict//en","-//ietf//dtd html strict//en//2.0","-//ietf//dtd html strict//en//3.0","-//ietf//dtd html//en","-//ietf//dtd html//en//2.0","-//ietf//dtd html//en//3.0","-//metrius//dtd metrius presentational//en","-//microsoft//dtd internet explorer 2.0 html strict//en","-//microsoft//dtd internet explorer 2.0 html//en","-//microsoft//dtd internet explorer 2.0 tables//en","-//microsoft//dtd internet explorer 3.0 html strict//en","-//microsoft//dtd internet explorer 3.0 html//en","-//microsoft//dtd internet explorer 3.0 tables//en","-//netscape comm. corp.//dtd html//en","-//netscape comm. corp.//dtd strict html//en","-//o'reilly and associates//dtd html 2.0//en","-//o'reilly and associates//dtd html extended 1.0//en","-//spyglass//dtd html 2.0 extended//en","-//sq//dtd html 2.0 hotmetal + extensions//en","-//sun microsystems corp.//dtd hotjava html//en","-//sun microsystems corp.//dtd hotjava strict html//en","-//w3c//dtd html 3 1995-03-24//en","-//w3c//dtd html 3.2 draft//en","-//w3c//dtd html 3.2 final//en","-//w3c//dtd html 3.2//en","-//w3c//dtd html 3.2s draft//en","-//w3c//dtd html 4.0 frameset//en","-//w3c//dtd html 4.0 transitional//en","-//w3c//dtd html experimental 19960712//en","-//w3c//dtd html experimental 970421//en","-//w3c//dtd w3 html//en","-//w3o//dtd w3 html 3.0//en","-//w3o//dtd w3 html 3.0//en//","-//webtechs//dtd mozilla html 2.0//en","-//webtechs//dtd mozilla html//en"],o=e.concat(["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]),s=["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"],u=["-//W3C//DTD XHTML 1.0 Frameset//","-//W3C//DTD XHTML 1.0 Transitional//"],c=u.concat(["-//W3C//DTD HTML 4.01 Frameset//","-//W3C//DTD HTML 4.01 Transitional//"]);function m(h){var v=h.indexOf('"')!==-1?"'":'"';return v+h+v}function p(h,v){for(var x=0;x<v.length;x++)if(h.indexOf(v[x])===0)return!0;return!1}r.getDocumentMode=function(h,v,x){if(h!==a||x&&x.toLowerCase()===l)return n.QUIRKS;if(v!==null){if(v=v.toLowerCase(),s.indexOf(v)>-1)return n.QUIRKS;var y=x===null?o:e;if(p(v,y))return n.QUIRKS;if(y=x===null?u:c,p(v,y))return n.LIMITED_QUIRKS}return n.NO_QUIRKS},r.serializeContent=function(h,v,x){var y="!DOCTYPE ";return h&&(y+=h),v!==null?y+=" PUBLIC "+m(v):x!==null&&(y+=" SYSTEM"),x!==null&&(y+=" "+m(x)),y}},function(f,r,t){r=f.exports=t(466),r.Stream=r,r.Readable=r,r.Writable=t(305),r.Duplex=t(102),r.Transform=t(469),r.PassThrough=t(980)},function(f,r,t){(function(n,a,l){var e=t(203);f.exports=A;function o(V){var z=this;this.next=null,this.entry=null,this.finish=function(){G(z,V)}}var s=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?a:e.nextTick,u;A.WritableState=E;var c=t(151);c.inherits=t(58);var m={deprecate:t(979)},p=t(467),h=t(200).Buffer,v=l.Uint8Array||function(){};function x(V){return h.from(V)}function y(V){return h.isBuffer(V)||V instanceof v}var k=t(468);c.inherits(A,p);function T(){}function E(V,z){u=u||t(102),V=V||{};var U=z instanceof u;this.objectMode=!!V.objectMode,U&&(this.objectMode=this.objectMode||!!V.writableObjectMode);var Z=V.highWaterMark,st=V.writableHighWaterMark,Y=this.objectMode?16:16*1024;Z||Z===0?this.highWaterMark=Z:U&&(st||st===0)?this.highWaterMark=st:this.highWaterMark=Y,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var rt=V.decodeStrings===!1;this.decodeStrings=!rt,this.defaultEncoding=V.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ft){H(z,ft)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}E.prototype.getBuffer=function(){for(var V=this.bufferedRequest,z=[];V;)z.push(V),V=V.next;return z},function(){try{Object.defineProperty(E.prototype,"buffer",{get:m.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var _;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(_=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function(V){return _.call(this,V)?!0:this!==A?!1:V&&V._writableState instanceof E}})):_=function(V){return V instanceof this};function A(V){if(u=u||t(102),!_.call(A,this)&&!(this instanceof u))return new A(V);this._writableState=new E(V,this),this.writable=!0,V&&(typeof V.write=="function"&&(this._write=V.write),typeof V.writev=="function"&&(this._writev=V.writev),typeof V.destroy=="function"&&(this._destroy=V.destroy),typeof V.final=="function"&&(this._final=V.final)),p.call(this)}A.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function C(V,z){var U=new Error("write after end");V.emit("error",U),e.nextTick(z,U)}function S(V,z,U,Z){var st=!0,Y=!1;return U===null?Y=new TypeError("May not write null values to stream"):typeof U!="string"&&U!==void 0&&!z.objectMode&&(Y=new TypeError("Invalid non-string/buffer chunk")),Y&&(V.emit("error",Y),e.nextTick(Z,Y),st=!1),st}A.prototype.write=function(V,z,U){var Z=this._writableState,st=!1,Y=!Z.objectMode&&y(V);return Y&&!h.isBuffer(V)&&(V=x(V)),typeof z=="function"&&(U=z,z=null),Y?z="buffer":z||(z=Z.defaultEncoding),typeof U!="function"&&(U=T),Z.ended?C(this,U):(Y||S(this,Z,V,U))&&(Z.pendingcb++,st=O(this,Z,Y,V,z,U)),st},A.prototype.cork=function(){var V=this._writableState;V.corked++},A.prototype.uncork=function(){var V=this._writableState;V.corked&&(V.corked--,!V.writing&&!V.corked&&!V.finished&&!V.bufferProcessing&&V.bufferedRequest&&j(this,V))},A.prototype.setDefaultEncoding=function(V){if(typeof V=="string"&&(V=V.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((V+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+V);return this._writableState.defaultEncoding=V,this};function P(V,z,U){return!V.objectMode&&V.decodeStrings!==!1&&typeof z=="string"&&(z=h.from(z,U)),z}Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function O(V,z,U,Z,st,Y){if(!U){var rt=P(z,Z,st);Z!==rt&&(U=!0,st="buffer",Z=rt)}var ft=z.objectMode?1:Z.length;z.length+=ft;var tt=z.length<z.highWaterMark;if(tt||(z.needDrain=!0),z.writing||z.corked){var K=z.lastBufferedRequest;z.lastBufferedRequest={chunk:Z,encoding:st,isBuf:U,callback:Y,next:null},K?K.next=z.lastBufferedRequest:z.bufferedRequest=z.lastBufferedRequest,z.bufferedRequestCount+=1}else R(V,z,!1,ft,Z,st,Y);return tt}function R(V,z,U,Z,st,Y,rt){z.writelen=Z,z.writecb=rt,z.writing=!0,z.sync=!0,U?V._writev(st,z.onwrite):V._write(st,Y,z.onwrite),z.sync=!1}function I(V,z,U,Z,st){--z.pendingcb,U?(e.nextTick(st,Z),e.nextTick(N,V,z),V._writableState.errorEmitted=!0,V.emit("error",Z)):(st(Z),V._writableState.errorEmitted=!0,V.emit("error",Z),N(V,z))}function M(V){V.writing=!1,V.writecb=null,V.length-=V.writelen,V.writelen=0}function H(V,z){var U=V._writableState,Z=U.sync,st=U.writecb;if(M(U),z)I(V,U,Z,z,st);else{var Y=W(U);!Y&&!U.corked&&!U.bufferProcessing&&U.bufferedRequest&&j(V,U),Z?s(L,V,U,Y,st):L(V,U,Y,st)}}function L(V,z,U,Z){U||D(V,z),z.pendingcb--,Z(),N(V,z)}function D(V,z){z.length===0&&z.needDrain&&(z.needDrain=!1,V.emit("drain"))}function j(V,z){z.bufferProcessing=!0;var U=z.bufferedRequest;if(V._writev&&U&&U.next){var Z=z.bufferedRequestCount,st=new Array(Z),Y=z.corkedRequestsFree;Y.entry=U;for(var rt=0,ft=!0;U;)st[rt]=U,U.isBuf||(ft=!1),U=U.next,rt+=1;st.allBuffers=ft,R(V,z,!0,z.length,st,"",Y.finish),z.pendingcb++,z.lastBufferedRequest=null,Y.next?(z.corkedRequestsFree=Y.next,Y.next=null):z.corkedRequestsFree=new o(z),z.bufferedRequestCount=0}else{for(;U;){var tt=U.chunk,K=U.encoding,Q=U.callback,ct=z.objectMode?1:tt.length;if(R(V,z,!1,ct,tt,K,Q),U=U.next,z.bufferedRequestCount--,z.writing)break}U===null&&(z.lastBufferedRequest=null)}z.bufferedRequest=U,z.bufferProcessing=!1}A.prototype._write=function(V,z,U){U(new Error("_write() is not implemented"))},A.prototype._writev=null,A.prototype.end=function(V,z,U){var Z=this._writableState;typeof V=="function"?(U=V,V=null,z=null):typeof z=="function"&&(U=z,z=null),V!=null&&this.write(V,z),Z.corked&&(Z.corked=1,this.uncork()),!Z.ending&&!Z.finished&&X(this,Z,U)};function W(V){return V.ending&&V.length===0&&V.bufferedRequest===null&&!V.finished&&!V.writing}function B(V,z){V._final(function(U){z.pendingcb--,U&&V.emit("error",U),z.prefinished=!0,V.emit("prefinish"),N(V,z)})}function F(V,z){!z.prefinished&&!z.finalCalled&&(typeof V._final=="function"?(z.pendingcb++,z.finalCalled=!0,e.nextTick(B,V,z)):(z.prefinished=!0,V.emit("prefinish")))}function N(V,z){var U=W(z);return U&&(F(V,z),z.pendingcb===0&&(z.finished=!0,V.emit("finish"))),U}function X(V,z,U){z.ending=!0,N(V,z),U&&(z.finished?e.nextTick(U):V.once("finish",U)),z.ended=!0,V.writable=!1}function G(V,z,U){var Z=V.entry;for(V.entry=null;Z;){var st=Z.callback;z.pendingcb--,st(U),Z=Z.next}z.corkedRequestsFree?z.corkedRequestsFree.next=V:z.corkedRequestsFree=V}Object.defineProperty(A.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(V){this._writableState&&(this._writableState.destroyed=V)}}),A.prototype.destroy=k.destroy,A.prototype._undestroy=k.undestroy,A.prototype._destroy=function(V,z){this.end(),z(V)}}).call(this,t(150),t(977).setImmediate,t(27))},function(f,r,t){var n=t(291),a=t(990),l=t(309),e=t(206),o=1,s=32,u=n(function(c,m,p){var h=o;if(p.length){var v=e(p,l(u));h|=s}return a(c,h,m,p,v)});u.placeholder={},f.exports=u},function(f,r,t){var n=t(197),a=t(308),l=4294967295;function e(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=l,this.__views__=[]}e.prototype=n(a.prototype),e.prototype.constructor=e,f.exports=e},function(f,r){function t(){}f.exports=t},function(f,r){function t(n){var a=n;return a.placeholder}f.exports=t},function(f,r,t){var n=t(299),a=t(204).default,l=t(204).flatten,e=t(483),o=t(198),s={merge:t(46),defaults:t(482)};r.load=function(m,p,h){var v=t(452);p=s.defaults(l(p||{}),a),h===void 0&&(h=!0);var x=o(m,p,h),y=function(k,T,E,_){return this instanceof y?(_=s.defaults(_||{},p),v.call(this,k,T,E||x,_)):new y(k,T,E,_)};return y.prototype=Object.create(v.prototype),y.prototype.constructor=y,y.fn=y.prototype,y.prototype._originalRoot=x,s.merge(y,r),y._root=x,y._options=p,y};function u(m,p,h){if(p)typeof p=="string"&&(p=e(p,m._root,h));else if(m._root&&m._root.children)p=m._root.children;else return"";return n(p,h)}r.html=function(m,p){return Object.prototype.toString.call(m)==="[object Object]"&&!p&&!("length"in m)&&!("type"in m)&&(p=m,m=void 0),p=s.defaults(l(p||{}),this._options,a),u(this,m,p)},r.xml=function(m){var p=s.defaults({xml:!0},this._options);return u(this,m,p)},r.text=function(m){m||(m=this.root());for(var p="",h=m.length,v,x=0;x<h;x++)v=m[x],v.type==="text"?p+=v.data:v.children&&v.type!=="comment"&&v.tagName!=="script"&&v.tagName!=="style"&&(p+=r.text(v.children));return p},r.parseHTML=function(m,p,h){var v;return!m||typeof m!="string"?null:(typeof p=="boolean"&&(h=p),v=this.load(m,a,!1),h||v("script").remove(),v.root()[0].children.slice())},r.root=function(){return this(this._root)},r.contains=function(m,p){if(p===m)return!1;for(;p&&p!==p.parent;)if(p=p.parent,p===m)return!0;return!1},r.merge=function(m,p){if(c(m)&&c(p)){for(var h=m.length+p.length,v=0;v<p.length;)m[v+m.length]=p[v],v++;return m.length=h,m}};function c(m){if(Array.isArray(m))return!0;if(typeof m!="object"||!m.hasOwnProperty("length")||typeof m.length!="number"||m.length<0)return!1;for(var p=0;p<m.length;){if(!(p in m))return!1;p++}return!0}},function(f,r,t){var n=t(101),a=n.isTag,l=n.getText,e=n.getParent,o=n.getChildren,s=n.getSiblings,u=n.hasAttrib,c=n.getName,m=n.getAttributeValue,p=t(1014),h=t(484).rules.equals,v=t(153),x=v.trueFunc,y=v.falseFunc;function k(P){for(var O=0;P&&O<P.length;O++)if(a(P[O]))return P[O]}function T(P,O){var R={name:P,value:O};return function(I){return h(I,R)}}function E(P){return function(O){return!!e(O)&&P(O)}}var _={contains:function(P,O){return function(R){return P(R)&&l(R).indexOf(O)>=0}},icontains:function(P,O){var R=O.toLowerCase();return function(I){return P(I)&&l(I).toLowerCase().indexOf(R)>=0}},"nth-child":function(P,O){var R=p(O);return R===y?R:R===x?E(P):function(I){for(var M=s(I),H=0,L=0;H<M.length;H++)if(a(M[H])){if(M[H]===I)break;L++}return R(L)&&P(I)}},"nth-last-child":function(P,O){var R=p(O);return R===y?R:R===x?E(P):function(I){for(var M=s(I),H=0,L=M.length-1;L>=0;L--)if(a(M[L])){if(M[L]===I)break;H++}return R(H)&&P(I)}},"nth-of-type":function(P,O){var R=p(O);return R===y?R:R===x?E(P):function(I){for(var M=s(I),H=0,L=0;L<M.length;L++)if(a(M[L])){if(M[L]===I)break;c(M[L])===c(I)&&H++}return R(H)&&P(I)}},"nth-last-of-type":function(P,O){var R=p(O);return R===y?R:R===x?E(P):function(I){for(var M=s(I),H=0,L=M.length-1;L>=0;L--)if(a(M[L])){if(M[L]===I)break;c(M[L])===c(I)&&H++}return R(H)&&P(I)}},root:function(P){return function(O){return!e(O)&&P(O)}},scope:function(P,O,R,I){return!I||I.length===0?_.root(P):I.length===1?function(M){return I[0]===M&&P(M)}:function(M){return I.indexOf(M)>=0&&P(M)}},checkbox:T("type","checkbox"),file:T("type","file"),password:T("type","password"),radio:T("type","radio"),reset:T("type","reset"),image:T("type","image"),submit:T("type","submit")},A={empty:function(P){return!o(P).some(function(O){return a(O)||O.type==="text"})},"first-child":function(P){return k(s(P))===P},"last-child":function(P){for(var O=s(P),R=O.length-1;R>=0;R--){if(O[R]===P)return!0;if(a(O[R]))break}return!1},"first-of-type":function(P){for(var O=s(P),R=0;R<O.length;R++)if(a(O[R])){if(O[R]===P)return!0;if(c(O[R])===c(P))break}return!1},"last-of-type":function(P){for(var O=s(P),R=O.length-1;R>=0;R--)if(a(O[R])){if(O[R]===P)return!0;if(c(O[R])===c(P))break}return!1},"only-of-type":function(P){for(var O=s(P),R=0,I=O.length;R<I;R++)if(a(O[R])){if(O[R]===P)continue;if(c(O[R])===c(P))return!1}return!0},"only-child":function(P){for(var O=s(P),R=0;R<O.length;R++)if(a(O[R])&&O[R]!==P)return!1;return!0},link:function(P){return u(P,"href")},visited:y,selected:function(P){if(u(P,"selected"))return!0;if(c(P)!=="option")return!1;var O=e(P);if(!O||c(O)!=="select"||u(O,"multiple"))return!1;for(var R=o(O),I=!1,M=0;M<R.length;M++)if(a(R[M]))if(R[M]===P)I=!0;else if(I){if(u(R[M],"selected"))return!1}else return!1;return I},disabled:function(P){return u(P,"disabled")},enabled:function(P){return!u(P,"disabled")},checked:function(P){return u(P,"checked")||A.selected(P)},required:function(P){return u(P,"required")},optional:function(P){return!u(P,"required")},parent:function(P){return!A.empty(P)},header:function(P){var O=c(P);return O==="h1"||O==="h2"||O==="h3"||O==="h4"||O==="h5"||O==="h6"},button:function(P){var O=c(P);return O==="button"||O==="input"&&m(P,"type")==="button"},input:function(P){var O=c(P);return O==="input"||O==="textarea"||O==="select"||O==="button"},text:function(P){var O;return c(P)==="input"&&(!(O=m(P,"type"))||O.toLowerCase()==="text")}};function C(P,O,R){if(R===null){if(P.length>1&&O!=="scope")throw new SyntaxError("pseudo-selector :"+O+" requires an argument")}else if(P.length===1)throw new SyntaxError("pseudo-selector :"+O+" doesn't have any arguments")}var S=/^(?:(?:nth|last|first|only)-(?:child|of-type)|root|empty|(?:en|dis)abled|checked|not)$/;f.exports={compile:function(P,O,R,I){var M=O.name,H=O.data;if(R&&R.strict&&!S.test(M))throw SyntaxError(":"+M+" isn't part of CSS3");if(typeof _[M]=="function")return C(_[M],M,H),_[M](P,H,R,I);if(typeof A[M]=="function"){var L=A[M];return C(L,M,H),P===x?L:function(D){return L(D,H)&&P(D)}}else throw new SyntaxError("unmatched pseudo-class :"+M)},filters:_,pseudos:A}},function(f,r,t){var n=t(53),a=n.call(Function.call,Object.prototype.hasOwnProperty),l=Object.assign;f.exports=function(e,o){if(l)return l(e,o);for(var s in o)a(o,s)&&(e[s]=o[s]);return e}},function(f,r,t){(function(n){Object.defineProperty(r,"__esModule",{value:!0}),r.ITERATOR_SYMBOL=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},l=function(){function J(lt,ut){var ht=[],bt=!0,kt=!1,vt=void 0;try{for(var Et=lt[Symbol.iterator](),Rt;!(bt=(Rt=Et.next()).done)&&(ht.push(Rt.value),!(ut&&ht.length===ut));bt=!0);}catch(Vt){kt=!0,vt=Vt}finally{try{!bt&&Et.return&&Et.return()}finally{if(kt)throw vt}}return ht}return function(lt,ut){if(Array.isArray(lt))return lt;if(Symbol.iterator in Object(lt))return J(lt,ut);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();r.getAdapter=H,r.makeOptions=D,r.isCustomComponentElement=j,r.propsOfNode=W,r.typeOfNode=B,r.nodeHasType=F,r.nodeMatches=U,r.nodeEqual=Z,r.containsChildrenSubArray=st,r.childrenToSimplifiedArray=ft,r.isReactElementAlike=K,r.withSetStateAllowed=Q,r.AND=ct,r.displayNameOfNode=nt,r.sym=ot,r.privateSet=yt,r.cloneElement=pt,r.spyMethod=dt,r.shallowEqual=mt,r.isEmptyValue=q,r.renderedDive=$;var e=t(122),o=R(e),s=t(172),u=R(s),c=t(499),m=R(c),p=t(500),h=R(p),v=t(314),x=R(v),y=t(59),k=R(y),T=t(154),E=R(T),_=t(1054),A=R(_),C=t(315),S=t(156),P=t(103),O=R(P);function R(J){return J&&J.__esModule?J:{default:J}}function I(J,lt,ut){return lt in J?Object.defineProperty(J,lt,{value:ut,enumerable:!0,configurable:!0,writable:!0}):J[lt]=ut,J}function M(J,lt){var ut={};for(var ht in J)lt.indexOf(ht)>=0||Object.prototype.hasOwnProperty.call(J,ht)&&(ut[ht]=J[ht]);return ut}r.ITERATOR_SYMBOL=typeof Symbol=="function"&&Symbol.iterator;function H(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return console.warn("getAdapter from Utils is deprecated; please use ./getAdapter instead"),(0,O.default)(J)}function L(J,lt){if(J&&lt&&J!==lt)throw new TypeError("If both the `attachTo` and `hydrateIn` options are provided, they must be === (for backwards compatibility)")}function D(J){var lt=(0,C.get)(),ut=lt.attachTo,ht=lt.hydrateIn,bt=M(lt,["attachTo","hydrateIn"]);L(ut,ht);var kt=J.attachTo,vt=J.hydrateIn;L(kt,vt);var Et=vt||ht||ut||kt||void 0,Rt=vt||ht||void 0,Vt=(0,o.default)({},Et&&{attachTo:Et},Rt&&{hydrateIn:Rt});return(0,o.default)({},bt,J,Vt)}function j(J,lt){return lt.isCustomComponentElement?!!lt.isCustomComponentElement(J):!!J&&lt.isValidElement(J)&&typeof J.type=="function"}function W(J){return(0,h.default)(J&&J.props||{}).filter(function(lt){var ut=l(lt,2),ht=ut[1];return typeof ht<"u"}).reduce(function(lt,ut){var ht=l(ut,2),bt=ht[0],kt=ht[1];return(0,o.default)(lt,I({},bt,kt))},{})}function B(J){return J?J.type:null}function F(J,lt){if(!lt||!J)return!1;var ut=(0,O.default)();if(ut.displayNameOfNode){var ht=ut.displayNameOfNode(J);return ht===lt}return J.type?typeof J.type=="string"?J.type===lt:(typeof J.type=="function"?(0,x.default)(J.type)===lt:J.type.name===lt)||J.type.displayName===lt:!1}function N(J,lt,ut,ht){var bt=ht?U:Z;if(J===lt)return!0;if(!Array.isArray(J)&&!Array.isArray(lt))return bt(J,lt,ut);var kt=(0,E.default)(J,1/0),vt=(0,E.default)(lt,1/0);if(kt.length!==vt.length)return!1;if(kt.length===0&&vt.length===0)return!0;for(var Et=0;Et<kt.length;Et+=1)if(!bt(kt[Et],vt[Et],ut))return!1;return!0}function X(J,lt,ut){return N(J,lt,ut,!0)}function G(J,lt,ut){return N(J,lt,ut,!1)}function V(J,lt){var ut=l(lt,2),ht=ut[0],bt=ut[1],kt=bt==null?{}:I({},ht,bt);return(0,o.default)({},J,kt)}function z(J,lt,ut,ht){if(J===lt)return!0;if(!J||!lt||J.type!==lt.type)return!1;var bt=W(J),kt=W(lt);ht&&(bt=(0,h.default)(bt).reduce(V,{}),kt=(0,h.default)(kt).reduce(V,{}));for(var vt=Object.keys(bt),Et=0;Et<vt.length;Et+=1){var Rt=vt[Et];if(Rt!=="children")if(Rt in kt){if(kt[Rt]!==bt[Rt])if(a(kt[Rt])===a(bt[Rt])&&a(bt[Rt])==="object"){if(!(0,u.default)(bt[Rt],kt[Rt]))return!1}else return!1}else return!1}var Vt="children"in bt,ee="children"in kt,Tt=ht?X:G;if((Vt||ee)&&!Tt(ft(bt.children,ht),ft(kt.children,ht),ut))return!1;if(!tt(J)){var _t=Object.keys(kt);return ut(vt.length-Vt,_t.length-ee)}return!1}function U(J,lt){var ut=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default;return z(J,lt,ut,!0)}function Z(J,lt){var ut=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default;return z(J,lt,ut,!1)}function st(J,lt,ut){var ht=(0,S.childrenOfNode)(lt),bt=function(kt,vt){return Y(J,ht.slice(vt,vt+ut.length),ut)};return ht.some(bt)}function Y(J,lt,ut){return lt.length===ut.length&&lt.every(function(ht,bt){return J(ht,ut[bt])})}function rt(J){var lt=[],ut=function(ht){ht===null||ht===!1||typeof ht>"u"||lt.push(ht)};return Array.isArray(J)?J.forEach(ut):ut(J),lt}function ft(J){for(var lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ut=rt(J),ht=[],bt=0;bt<ut.length;bt+=1){var kt=ut[bt],vt=ht.pop();typeof vt>"u"?ht.push(kt):tt(kt)&&tt(vt)?ht.push(vt+kt):(ht.push(vt),ht.push(kt))}return lt?ht.map(function(Et){return typeof Et=="string"?(0,A.default)(Et):Et}):ht}function tt(J){return typeof J=="string"||typeof J=="number"}function K(J,lt){return lt.isValidElement(J)||tt(J)||Array.isArray(J)}function Q(J){var lt=!1;typeof n.document>"u"&&(lt=!0,n.document={}),J(),lt&&(n.document=void 0,delete n.document)}function ct(J){var lt=J.slice().reverse();return function(ut){return lt.every(function(ht){return ht(ut)})}}function nt(J){if(!J)return null;var lt=J.type;return lt?lt.displayName||(typeof lt=="function"?(0,x.default)(lt):lt.name||lt):null}function ot(J){return typeof Symbol=="function"?Symbol.for("enzyme."+String(J)):J}function yt(J,lt,ut){Object.defineProperty(J,lt,{value:ut,enumerable:!1,writable:!0})}function pt(J,lt,ut){return J.createElement(lt.type,(0,o.default)({},lt.props,ut))}function dt(J,lt){var ut=void 0,ht=J[lt],bt=(0,k.default)(J,lt),kt=void 0;return bt&&(kt=Object.getOwnPropertyDescriptor(J,lt)),Object.defineProperty(J,lt,{configurable:!0,enumerable:!kt||!!kt.enumerable,value:function(){function vt(){for(var Et=arguments.length,Rt=Array(Et),Vt=0;Vt<Et;Vt++)Rt[Vt]=arguments[Vt];var ee=ht.apply(this,Rt);return ut=ee,ee}return vt}()}),{restore:function(){function vt(){bt?kt?Object.defineProperty(J,lt,kt):J[lt]=ht:delete J[lt]}return vt}(),getLastReturnValue:function(){function vt(){return ut}return vt}()}}function mt(J,lt){if((0,m.default)(J,lt))return!0;if(!J||!lt||(typeof J>"u"?"undefined":a(J))!=="object"||(typeof lt>"u"?"undefined":a(lt))!=="object")return!1;var ut=Object.keys(J),ht=Object.keys(lt);if(ut.length!==ht.length)return!1;ut.sort(),ht.sort();for(var bt=0;bt<ut.length;bt+=1)if(!(0,k.default)(lt,ut[bt])||!(0,m.default)(J[ut[bt]],lt[ut[bt]]))return!1;return!0}function q(J){return J===null||J===!1}function $(J){return q(J)?!0:[].concat(J).every(function(lt){if(lt){var ut=lt.rendered;return q(ut)||$(ut)}return q(lt)})}}).call(this,t(27))},function(f,r,t){var n=t(52),a=t(53),l=t(504),e=t(506),o=t(1053),s=a.call(Function.call,l);n(s,{getPolyfill:e,implementation:l,shim:o}),f.exports=s},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.get=u,r.merge=c,r.reset=m;var n=t(122),a=o(n),l=t(509),e=o(l);function o(p){return p&&p.__esModule?p:{default:p}}var s={};function u(){return(0,a.default)({},s)}function c(p){p.adapter&&(0,e.default)(p.adapter),(0,a.default)(s,p)}function m(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};s={},c(p)}},function(f,r,t){t.r(r);var n=Array.prototype.slice,a=function(_){return _},l=1,e=2,o=3,s=4,u=1e-6;function c(_){return"translate("+(_+.5)+",0)"}function m(_){return"translate(0,"+(_+.5)+")"}function p(_){return function(A){return+_(A)}}function h(_){var A=Math.max(0,_.bandwidth()-1)/2;return _.round()&&(A=Math.round(A)),function(C){return+_(C)+A}}function v(){return!this.__axis}function x(_,A){var C=[],S=null,P=null,O=6,R=6,I=3,M=_===l||_===s?-1:1,H=_===s||_===e?"x":"y",L=_===l||_===o?c:m;function D(j){var W=S??(A.ticks?A.ticks.apply(A,C):A.domain()),B=P??(A.tickFormat?A.tickFormat.apply(A,C):a),F=Math.max(O,0)+I,N=A.range(),X=+N[0]+.5,G=+N[N.length-1]+.5,V=(A.bandwidth?h:p)(A.copy()),z=j.selection?j.selection():j,U=z.selectAll(".domain").data([null]),Z=z.selectAll(".tick").data(W,A).order(),st=Z.exit(),Y=Z.enter().append("g").attr("class","tick"),rt=Z.select("line"),ft=Z.select("text");U=U.merge(U.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),Z=Z.merge(Y),rt=rt.merge(Y.append("line").attr("stroke","currentColor").attr(H+"2",M*O)),ft=ft.merge(Y.append("text").attr("fill","currentColor").attr(H,M*F).attr("dy",_===l?"0em":_===o?"0.71em":"0.32em")),j!==z&&(U=U.transition(j),Z=Z.transition(j),rt=rt.transition(j),ft=ft.transition(j),st=st.transition(j).attr("opacity",u).attr("transform",function(tt){return isFinite(tt=V(tt))?L(tt):this.getAttribute("transform")}),Y.attr("opacity",u).attr("transform",function(tt){var K=this.parentNode.__axis;return L(K&&isFinite(K=K(tt))?K:V(tt))})),st.remove(),U.attr("d",_===s||_==e?R?"M"+M*R+","+X+"H0.5V"+G+"H"+M*R:"M0.5,"+X+"V"+G:R?"M"+X+","+M*R+"V0.5H"+G+"V"+M*R:"M"+X+",0.5H"+G),Z.attr("opacity",1).attr("transform",function(tt){return L(V(tt))}),rt.attr(H+"2",M*O),ft.attr(H,M*F).text(B),z.filter(v).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",_===e?"start":_===s?"end":"middle"),z.each(function(){this.__axis=V})}return D.scale=function(j){return arguments.length?(A=j,D):A},D.ticks=function(){return C=n.call(arguments),D},D.tickArguments=function(j){return arguments.length?(C=j==null?[]:n.call(j),D):C.slice()},D.tickValues=function(j){return arguments.length?(S=j==null?null:n.call(j),D):S&&S.slice()},D.tickFormat=function(j){return arguments.length?(P=j,D):P},D.tickSize=function(j){return arguments.length?(O=R=+j,D):O},D.tickSizeInner=function(j){return arguments.length?(O=+j,D):O},D.tickSizeOuter=function(j){return arguments.length?(R=+j,D):R},D.tickPadding=function(j){return arguments.length?(I=+j,D):I},D}function y(_){return x(l,_)}function k(_){return x(e,_)}function T(_){return x(o,_)}function E(_){return x(s,_)}t.d(r,"axisTop",function(){return y}),t.d(r,"axisRight",function(){return k}),t.d(r,"axisBottom",function(){return T}),t.d(r,"axisLeft",function(){return E})},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.viewer=r.version=r.getTrackObjectFromHGC=r.mountHGComponent=r.waitForTransitionsFinished=r.waitForTilesLoaded=r.waitForJsonComplete=r.schema=r.tracks=r.trackViewer=r.HiGlassTrackComponent=r.HiGlassComponent=r.ChromosomeInfo=void 0;var n=t(73);Object.defineProperty(r,"ChromosomeInfo",{enumerable:!0,get:function(){function A(){return E(n).default}return A}()});var a=t(232);Object.defineProperty(r,"HiGlassComponent",{enumerable:!0,get:function(){function A(){return E(a).default}return A}()});var l=t(1079);Object.defineProperty(r,"HiGlassTrackComponent",{enumerable:!0,get:function(){function A(){return E(l).default}return A}()}),Object.defineProperty(r,"trackViewer",{enumerable:!0,get:function(){function A(){return l.trackViewer}return A}()});var e=t(271);Object.defineProperty(r,"schema",{enumerable:!0,get:function(){function A(){return E(e).default}return A}()});var o=t(10);Object.defineProperty(r,"waitForJsonComplete",{enumerable:!0,get:function(){function A(){return o.waitForJsonComplete}return A}()}),Object.defineProperty(r,"waitForTilesLoaded",{enumerable:!0,get:function(){function A(){return o.waitForTilesLoaded}return A}()}),Object.defineProperty(r,"waitForTransitionsFinished",{enumerable:!0,get:function(){function A(){return o.waitForTransitionsFinished}return A}()}),Object.defineProperty(r,"mountHGComponent",{enumerable:!0,get:function(){function A(){return o.mountHGComponent}return A}()}),Object.defineProperty(r,"getTrackObjectFromHGC",{enumerable:!0,get:function(){function A(){return o.getTrackObjectFromHGC}return A}()});var s=t(1),u=E(s),c=t(42),m=E(c),p=E(a),h=t(80),v=E(h),x=t(79),y=E(x),k=t(260),T=E(k);function E(A){return A&&A.__esModule?A:{default:A}}r.tracks={SVGTrack:v.default,TiledPixiTrack:y.default,HorizontalGeneAnnotationsTrack:T.default},r.version="1.11.11";var _=function(A,C,S){var P=u.default.createRef();return m.default.render(u.default.createElement(p.default,{ref:P,options:S||{},viewConfig:C}),A),P.current};r.viewer=function(A,C,S){var P=_(A,C,S);return P.api}},function(f,r,t){var n=t(39),a=t(92),l=t(21)("species");f.exports=function(e,o){var s=n(e).constructor,u;return s===void 0||(u=n(s)[l])==null?o:a(u)}},function(f,r,t){var n=t(49),a=t(522),l=t(163),e=t(108),o=t(23),s=o.process,u=o.setImmediate,c=o.clearImmediate,m=o.MessageChannel,p=o.Dispatch,h=0,v={},x="onreadystatechange",y,k,T,E=function(){var A=+this;if(v.hasOwnProperty(A)){var C=v[A];delete v[A],C()}},_=function(A){E.call(A.data)};(!u||!c)&&(u=function(A){for(var C=[],S=1;arguments.length>S;)C.push(arguments[S++]);return v[++h]=function(){a(typeof A=="function"?A:Function(A),C)},y(h),h},c=function(A){delete v[A]},t(74)(s)=="process"?y=function(A){s.nextTick(n(E,A,1))}:p&&p.now?y=function(A){p.now(n(E,A,1))}:m?(k=new m,T=k.port2,k.port1.onmessage=_,y=n(T.postMessage,T,1)):o.addEventListener&&typeof postMessage=="function"&&!o.importScripts?(y=function(A){o.postMessage(A+"","*")},o.addEventListener("message",_,!1)):x in e("script")?y=function(A){l.appendChild(e("script"))[x]=function(){l.removeChild(this),E.call(A)}}:y=function(A){setTimeout(n(E,A,1),0)}),f.exports={set:u,clear:c}},function(f,r){f.exports=function(t){try{return{e:!1,v:t()}}catch(n){return{e:!0,v:n}}}},function(f,r,t){var n=t(39),a=t(33),l=t(219);f.exports=function(e,o){if(n(e),a(o)&&o.constructor===e)return o;var s=l.f(e),u=s.resolve;return u(o),s.promise}},function(f,r,t){var n=t(23),a=t(12),l=t(32),e=t(36),o=t(21)("species");f.exports=function(s){var u=typeof a[s]=="function"?a[s]:n[s];e&&u&&!u[o]&&l.f(u,o,{configurable:!0,get:function(){return this}})}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function(a){var l=new a.constructor(a.type,a);return l.sourceUid=a.sourceUid,l.forwarded=a.forwarded,l};r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(325),a=l(n);function l(o){if(o&&o.__esModule)return o;var s={};if(o!=null)for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(s[u]=o[u]);return s.default=o,s}var e={PIXI:a};r.default=e},function(f,r){f.exports=w},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(10),a=function(l,e,o){var s=(0,n.absToChr)(l,o),u=(0,n.absToChr)(e,o);return[s[0],Math.round(s[1]),u[0],Math.round(u[1])]};r.default=a},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.THEME_DEFAULT=r.THEME_DARK=r.THEME_LIGHT=void 0;var n=t(225),a=l(n);function l(o){return o&&o.__esModule?o:{default:o}}var e=r.THEME_LIGHT=(0,a.default)("Light theme");r.THEME_DARK=(0,a.default)("Dark theme"),r.THEME_DEFAULT=e},function(f,r,t){var n=t(74);f.exports=Array.isArray||function(a){return n(a)=="Array"}},function(f,r,t){var n=t(158),a=t(107).concat("length","prototype");r.f=Object.getOwnPropertyNames||function(l){return n(l,a)}},function(f,r,t){var n=t(60),a=t(48),l=t(93).f;f.exports=function(e){return function(o){for(var s=a(o),u=n(s),c=u.length,m=0,p=[],h;c>m;)l.call(s,h=u[m++])&&p.push(e?[h,s[h]]:s[h]);return p}}},function(f,r,t){f.exports={default:t(562),__esModule:!0}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(1),a=l(n);t(571);function l(o){return o&&o.__esModule?o:{default:o}}var e=function(){return a.default.createElement("div",{className:"Cross-module_cross-3WYME"})};r.default=e},function(f,r,t){var n=t(32).f,a=t(110),l=t(220),e=t(49),o=t(218),s=t(129),u=t(109),c=t(160),m=t(322),p=t(36),h=t(226).fastKey,v=t(238),x=p?"_s":"size",y=function(k,T){var E=h(T),_;if(E!=="F")return k._i[E];for(_=k._f;_;_=_.n)if(_.k==T)return _};f.exports={getConstructor:function(k,T,E,_){var A=k(function(C,S){o(C,A,T,"_i"),C._t=T,C._i=a(null),C._f=void 0,C._l=void 0,C[x]=0,S!=null&&s(S,E,C[_],C)});return l(A.prototype,{clear:function(){for(var C=v(this,T),S=C._i,P=C._f;P;P=P.n)P.r=!0,P.p&&(P.p=P.p.n=void 0),delete S[P.i];C._f=C._l=void 0,C[x]=0},delete:function(C){var S=v(this,T),P=y(S,C);if(P){var O=P.n,R=P.p;delete S._i[P.i],P.r=!0,R&&(R.n=O),O&&(O.p=R),S._f==P&&(S._f=O),S._l==P&&(S._l=R),S[x]--}return!!P},forEach:function(C){v(this,T);for(var S=e(C,arguments.length>1?arguments[1]:void 0,3),P;P=P?P.n:this._f;)for(S(P.v,P.k,this);P&&P.r;)P=P.p},has:function(C){return!!y(v(this,T),C)}}),p&&n(A.prototype,"size",{get:function(){return v(this,T)[x]}}),A},def:function(k,T,E){var _=y(k,T),A,C;return _?_.v=E:(k._l=_={i:C=h(T,!0),k:T,v:E,p:A=k._l,n:void 0,r:!1},k._f||(k._f=_),A&&(A.n=_),k[x]++,C!=="F"&&(k._i[C]=_)),k},getEntry:y,setStrong:function(k,T,E){u(k,T,function(_,A){this._t=v(_,T),this._k=A,this._l=void 0},function(){for(var _=this,A=_._k,C=_._l;C&&C.r;)C=C.p;return!_._t||!(_._l=C=C?C.n:_._t._f)?(_._t=void 0,c(1)):A=="keys"?c(0,C.k):A=="values"?c(0,C.v):c(0,[C.k,C.v])},E?"entries":"values",!E,!0),m(T)}}},function(f,r,t){var n=t(23),a=t(16),l=t(226),e=t(50),o=t(43),s=t(220),u=t(129),c=t(218),m=t(33),p=t(77),h=t(32).f,v=t(580)(0),x=t(36);f.exports=function(y,k,T,E,_,A){var C=n[y],S=C,P=_?"set":"add",O=S&&S.prototype,R={};return!x||typeof S!="function"||!(A||O.forEach&&!e(function(){new S().entries().next()}))?(S=E.getConstructor(k,y,_,P),s(S.prototype,T),l.NEED=!0):(S=k(function(I,M){c(I,S,y,"_c"),I._c=new C,M!=null&&u(M,_,I[P],I)}),v("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(I){var M=I=="add"||I=="set";I in O&&!(A&&I=="clear")&&o(S.prototype,I,function(H,L){if(c(this,S,I),!M&&A&&!m(H))return I=="get"?void 0:!1;var D=this._c[I](H===0?0:H,L);return M?this:D})}),A||h(S.prototype,"size",{get:function(){return this._c.size}})),p(S,y),R[y]=S,a(a.G+a.W+a.F,R),A||E.setStrong(S,y,_),S}},function(f,r,t){var n=t(111),a=t(584);f.exports=function(l){return function(){if(n(this)!=l)throw TypeError(l+"#toJSON isn't generic");return a(this)}}},function(f,r,t){var n=t(16);f.exports=function(a){n(n.S,a,{of:function(){for(var l=arguments.length,e=new Array(l);l--;)e[l]=arguments[l];return new this(e)}})}},function(f,r,t){var n=t(16),a=t(92),l=t(49),e=t(129);f.exports=function(o){n(n.S,o,{from:function(s){var u=arguments[1],c,m,p,h;return a(this),c=u!==void 0,c&&a(u),s==null?new this:(m=[],c?(p=0,h=l(u,arguments[2],2),e(s,!1,function(v){m.push(h(v,p++))})):e(s,!1,m.push,m),new this(m))}})}},function(f,r){var t={}.toString;f.exports=Array.isArray||function(n){return t.call(n)=="[object Array]"}},function(f,r,t){r.__esModule=!0;var n=Object.assign||function(A){for(var C=1;C<arguments.length;C++){var S=arguments[C];for(var P in S)Object.prototype.hasOwnProperty.call(S,P)&&(A[P]=S[P])}return A},a=t(1),l=x(a),e=t(2),o=x(e),s=t(172),u=x(s),c=t(340),m=x(c),p=t(133),h=t(593),v=x(h);function x(A){return A&&A.__esModule?A:{default:A}}function y(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function")}function k(A,C){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:A}function T(A,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);A.prototype=Object.create(C&&C.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(A,C):A.__proto__=C)}var E=function(A){T(C,A);function C(S,P){y(this,C);var O=k(this,A.call(this,S,P));return _.call(O),(0,p.autoBindHandlers)(O,["onDragStart","onDrag","onDragStop","onResizeStart","onResize","onResizeStop"]),O}return C.prototype.componentDidMount=function(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)},C.prototype.componentWillReceiveProps=function(S){var P=void 0;if(!(0,u.default)(S.layout,this.props.layout)||S.compactType!==this.props.compactType?P=S.layout:(0,p.childrenEqual)(this.props.children,S.children)||(P=this.state.layout),P){var O=(0,p.synchronizeLayoutWithChildren)(P,S.children,S.cols,this.compactType(S)),R=this.state.layout;this.setState({layout:O}),this.onLayoutMaybeChanged(O,R)}},C.prototype.containerHeight=function(){if(this.props.autoSize){var S=(0,p.bottom)(this.state.layout),P=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return S*this.props.rowHeight+(S-1)*this.props.margin[1]+P*2+"px"}},C.prototype.compactType=function(S){return S||(S=this.props),S.verticalCompact===!1?null:S.compactType},C.prototype.onDragStart=function(S,P,O,R){var I=R.e,M=R.node,H=this.state.layout,L=(0,p.getLayoutItem)(H,S);if(L)return this.setState({oldDragItem:(0,p.cloneLayoutItem)(L),oldLayout:this.state.layout}),this.props.onDragStart(H,L,L,null,I,M)},C.prototype.onDrag=function(S,P,O,R){var I=R.e,M=R.node,H=this.state.oldDragItem,L=this.state.layout,D=this.props.cols,j=(0,p.getLayoutItem)(L,S);if(j){var W={w:j.w,h:j.h,x:j.x,y:j.y,placeholder:!0,i:S},B=!0;L=(0,p.moveElement)(L,j,P,O,B,this.props.preventCollision,this.compactType(),D),this.props.onDrag(L,H,j,W,I,M),this.setState({layout:(0,p.compact)(L,this.compactType(),D),activeDrag:W})}},C.prototype.onDragStop=function(S,P,O,R){var I=R.e,M=R.node,H=this.state.oldDragItem,L=this.state.layout,D=this.props,j=D.cols,W=D.preventCollision,B=(0,p.getLayoutItem)(L,S);if(B){var F=!0;L=(0,p.moveElement)(L,B,P,O,F,W,this.compactType(),j),this.props.onDragStop(L,H,B,null,I,M);var N=(0,p.compact)(L,this.compactType(),j),X=this.state.oldLayout;this.setState({activeDrag:null,layout:N,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(N,X)}},C.prototype.onLayoutMaybeChanged=function(S,P){P||(P=this.state.layout),(0,u.default)(P,S)||this.props.onLayoutChange(S)},C.prototype.onResizeStart=function(S,P,O,R){var I=R.e,M=R.node,H=this.state.layout,L=(0,p.getLayoutItem)(H,S);L&&(this.setState({oldResizeItem:(0,p.cloneLayoutItem)(L),oldLayout:this.state.layout}),this.props.onResizeStart(H,L,L,null,I,M))},C.prototype.onResize=function(S,P,O,R){var I=R.e,M=R.node,H=this.state,L=H.layout,D=H.oldResizeItem,j=this.props,W=j.cols,B=j.preventCollision,F=(0,p.getLayoutItem)(L,S);if(F){var N=void 0;if(B){var X=(0,p.getAllCollisions)(L,n({},F,{w:P,h:O})).filter(function(U){return U.i!==F.i});if(N=X.length>0,N){var G=1/0,V=1/0;X.forEach(function(U){U.x>F.x&&(G=Math.min(G,U.x)),U.y>F.y&&(V=Math.min(V,U.y))}),Number.isFinite(G)&&(F.w=G-F.x),Number.isFinite(V)&&(F.h=V-F.y)}}N||(F.w=P,F.h=O);var z={w:F.w,h:F.h,x:F.x,y:F.y,static:!0,i:S};this.props.onResize(L,D,F,z,I,M),this.setState({layout:(0,p.compact)(L,this.compactType(),W),activeDrag:z})}},C.prototype.onResizeStop=function(S,P,O,R){var I=R.e,M=R.node,H=this.state,L=H.layout,D=H.oldResizeItem,j=this.props.cols,W=(0,p.getLayoutItem)(L,S);this.props.onResizeStop(L,D,W,null,I,M);var B=(0,p.compact)(L,this.compactType(),j),F=this.state.oldLayout;this.setState({activeDrag:null,layout:B,oldResizeItem:null,oldLayout:null}),this.onLayoutMaybeChanged(B,F)},C.prototype.placeholder=function(){var S=this.state.activeDrag;if(!S)return null;var P=this.props,O=P.width,R=P.cols,I=P.margin,M=P.containerPadding,H=P.rowHeight,L=P.maxRows,D=P.useCSSTransforms;return l.default.createElement(v.default,{w:S.w,h:S.h,x:S.x,y:S.y,i:S.i,className:"react-grid-placeholder",containerWidth:O,cols:R,margin:I,containerPadding:M||I,maxRows:L,rowHeight:H,isDraggable:!1,isResizable:!1,useCSSTransforms:D},l.default.createElement("div",null))},C.prototype.processGridItem=function(S){if(!(!S||!S.key)){var P=(0,p.getLayoutItem)(this.state.layout,String(S.key));if(!P)return null;var O=this.props,R=O.width,I=O.cols,M=O.margin,H=O.containerPadding,L=O.rowHeight,D=O.maxRows,j=O.isDraggable,W=O.isResizable,B=O.useCSSTransforms,F=O.draggableCancel,N=O.draggableHandle,X=this.state.mounted,G=!!(!P.static&&j&&(P.isDraggable||P.isDraggable==null)),V=!!(!P.static&&W&&(P.isResizable||P.isResizable==null));return l.default.createElement(v.default,{containerWidth:R,cols:I,margin:M,containerPadding:H||M,maxRows:D,rowHeight:L,cancel:F,handle:N,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:G,isResizable:V,useCSSTransforms:B&&X,usePercentages:!X,w:P.w,h:P.h,x:P.x,y:P.y,i:P.i,minH:P.minH,minW:P.minW,maxH:P.maxH,maxW:P.maxW,static:P.static},S)}},C.prototype.render=function(){var S=this,P=this.props,O=P.className,R=P.style,I=(0,m.default)("react-grid-layout",O),M=n({height:this.containerHeight()},R);return l.default.createElement("div",{className:I,style:M},l.default.Children.map(this.props.children,function(H){return S.processGridItem(H)}),this.placeholder())},C}(l.default.Component);E.displayName="ReactGridLayout",E.propTypes={className:o.default.string,style:o.default.object,width:o.default.number,autoSize:o.default.bool,cols:o.default.number,draggableCancel:o.default.string,draggableHandle:o.default.string,verticalCompact:function(A){A.verticalCompact},compactType:o.default.oneOf(["vertical","horizontal"]),layout:function(A){var C=A.layout;C!==void 0&&(0,p.validateLayout)(C,"layout")},margin:o.default.arrayOf(o.default.number),containerPadding:o.default.arrayOf(o.default.number),rowHeight:o.default.number,maxRows:o.default.number,isDraggable:o.default.bool,isResizable:o.default.bool,preventCollision:o.default.bool,useCSSTransforms:o.default.bool,onLayoutChange:o.default.func,onDragStart:o.default.func,onDrag:o.default.func,onDragStop:o.default.func,onResizeStart:o.default.func,onResize:o.default.func,onResizeStop:o.default.func,children:function(A,C){var S=A[C],P={};l.default.Children.forEach(S,function(O){if(P[O.key])throw new Error('Duplicate child key "'+O.key+'" found! This will cause problems in ReactGridLayout.');P[O.key]=!0})}},E.defaultProps={autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isDraggable:!0,isResizable:!0,useCSSTransforms:!0,verticalCompact:!0,compactType:"vertical",preventCollision:!1,onLayoutChange:p.noop,onDragStart:p.noop,onDrag:p.noop,onDragStop:p.noop,onResizeStart:p.noop,onResize:p.noop,onResizeStop:p.noop};var _=function(){this.state={activeDrag:null,layout:(0,p.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,this.compactType()),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null}};r.default=E},function(f,r,t){var n,a;/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var l={}.hasOwnProperty;function e(){for(var o=[],s=0;s<arguments.length;s++){var u=arguments[s];if(u){var c=typeof u;if(c==="string"||c==="number")o.push(u);else if(Array.isArray(u)&&u.length){var m=e.apply(null,u);m&&o.push(m)}else if(c==="object")for(var p in u)l.call(u,p)&&u[p]&&o.push(p)}}return o.join(" ")}f.exports?(e.default=e,f.exports=e):(n=[],a=(function(){return e}).apply(r,n),a!==void 0&&(f.exports=a))})()},function(f,r,t){(function(n,a){f.exports=a(t(42),t(1))})(this,function(n,a){n=n&&n.hasOwnProperty("default")?n.default:n,a=a&&a.hasOwnProperty("default")?a.default:a;function l(Ct,at){return at={exports:{}},Ct(at,at.exports),at.exports}function e(Ct){return function(){return Ct}}var o=function(){};o.thatReturns=e,o.thatReturnsFalse=e(!1),o.thatReturnsTrue=e(!0),o.thatReturnsNull=e(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(Ct){return Ct};var s=o,u=function(Ct){};u=function(Ct){if(Ct===void 0)throw new Error("invariant requires an error message argument")};function c(Ct,at,St,jt,Zt,ue,ce,It){if(u(at),!Ct){var Mt;if(at===void 0)Mt=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var Ut=[St,jt,Zt,ue,ce,It],Kt=0;Mt=new Error(at.replace(/%s/g,function(){return Ut[Kt++]})),Mt.name="Invariant Violation"}throw Mt.framesToPop=1,Mt}}var m=c,p=s;{var h=function(Ct){for(var at=arguments.length,St=Array(at>1?at-1:0),jt=1;jt<at;jt++)St[jt-1]=arguments[jt];var Zt=0,ue="Warning: "+Ct.replace(/%s/g,function(){return St[Zt++]});typeof console<"u"&&console.error(ue);try{throw new Error(ue)}catch{}};p=function(Ct,at){if(at===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(at.indexOf("Failed Composite propType: ")!==0&&!Ct){for(var St=arguments.length,jt=Array(St>2?St-2:0),Zt=2;Zt<St;Zt++)jt[Zt-2]=arguments[Zt];h.apply(void 0,[at].concat(jt))}}}var v=p;/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var x=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;function T(Ct){if(Ct==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(Ct)}function E(){try{if(!Object.assign)return!1;var Ct=new String("abc");if(Ct[5]="de",Object.getOwnPropertyNames(Ct)[0]==="5")return!1;for(var at={},St=0;St<10;St++)at["_"+String.fromCharCode(St)]=St;var jt=Object.getOwnPropertyNames(at).map(function(ue){return at[ue]});if(jt.join("")!=="0123456789")return!1;var Zt={};return"abcdefghijklmnopqrst".split("").forEach(function(ue){Zt[ue]=ue}),Object.keys(Object.assign({},Zt)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var _=E()?Object.assign:function(Ct,at){for(var St,jt=T(Ct),Zt,ue=1;ue<arguments.length;ue++){St=Object(arguments[ue]);for(var ce in St)y.call(St,ce)&&(jt[ce]=St[ce]);if(x){Zt=x(St);for(var It=0;It<Zt.length;It++)k.call(St,Zt[It])&&(jt[Zt[It]]=St[Zt[It]])}}return jt},A="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",C=A,S=m,P=v,O=C,R={};function I(Ct,at,St,jt,Zt){for(var ue in Ct)if(Ct.hasOwnProperty(ue)){var ce;try{S(typeof Ct[ue]=="function","%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",jt||"React class",St,ue,typeof Ct[ue]),ce=Ct[ue](at,ue,jt,St,null,O)}catch(Mt){ce=Mt}if(P(!ce||ce instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",jt||"React class",St,ue,typeof ce),ce instanceof Error&&!(ce.message in R)){R[ce.message]=!0;var It=Zt?Zt():"";P(!1,"Failed %s type: %s%s",St,ce.message,It??"")}}}var M=I,H=function(Ct,at){var St=typeof Symbol=="function"&&Symbol.iterator,jt="@@iterator";function Zt(Wt){var he=Wt&&(St&&Wt[St]||Wt[jt]);if(typeof he=="function")return he}var ue="<<anonymous>>",ce={array:Kt("array"),bool:Kt("boolean"),func:Kt("function"),number:Kt("number"),object:Kt("object"),string:Kt("string"),symbol:Kt("symbol"),any:wt(),arrayOf:ye,element:we(),instanceOf:Oe,node:Be(),objectOf:ze,oneOf:Ne,oneOfType:Ue,shape:Je,exact:Xe};function It(Wt,he){return Wt===he?Wt!==0||1/Wt===1/he:Wt!==Wt&&he!==he}function Mt(Wt){this.message=Wt,this.stack=""}Mt.prototype=Error.prototype;function Ut(Wt){var he={},Dt=0;function Ft(xt,Bt,Qt,le,ve,_e,Ae){if(le=le||ue,_e=_e||Qt,Ae!==C){if(at)m(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if(typeof console<"u"){var ge=le+":"+Qt;!he[ge]&&Dt<3&&(v(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",_e,le),he[ge]=!0,Dt++)}}return Bt[Qt]==null?xt?Bt[Qt]===null?new Mt("The "+ve+" `"+_e+"` is marked as required "+("in `"+le+"`, but its value is `null`.")):new Mt("The "+ve+" `"+_e+"` is marked as required in "+("`"+le+"`, but its value is `undefined`.")):null:Wt(Bt,Qt,le,ve,_e)}var Yt=Ft.bind(null,!1);return Yt.isRequired=Ft.bind(null,!0),Yt}function Kt(Wt){function he(Dt,Ft,Yt,xt,Bt,Qt){var le=Dt[Ft],ve=it(le);if(ve!==Wt){var _e=Xt(le);return new Mt("Invalid "+xt+" `"+Bt+"` of type "+("`"+_e+"` supplied to `"+Yt+"`, expected ")+("`"+Wt+"`."))}return null}return Ut(he)}function wt(){return Ut(s.thatReturnsNull)}function ye(Wt){function he(Dt,Ft,Yt,xt,Bt){if(typeof Wt!="function")return new Mt("Property `"+Bt+"` of component `"+Yt+"` has invalid PropType notation inside arrayOf.");var Qt=Dt[Ft];if(!Array.isArray(Qt)){var le=it(Qt);return new Mt("Invalid "+xt+" `"+Bt+"` of type "+("`"+le+"` supplied to `"+Yt+"`, expected an array."))}for(var ve=0;ve<Qt.length;ve++){var _e=Wt(Qt,ve,Yt,xt,Bt+"["+ve+"]",C);if(_e instanceof Error)return _e}return null}return Ut(he)}function we(){function Wt(he,Dt,Ft,Yt,xt){var Bt=he[Dt];if(!Ct(Bt)){var Qt=it(Bt);return new Mt("Invalid "+Yt+" `"+xt+"` of type "+("`"+Qt+"` supplied to `"+Ft+"`, expected a single ReactElement."))}return null}return Ut(Wt)}function Oe(Wt){function he(Dt,Ft,Yt,xt,Bt){if(!(Dt[Ft]instanceof Wt)){var Qt=Wt.name||ue,le=ne(Dt[Ft]);return new Mt("Invalid "+xt+" `"+Bt+"` of type "+("`"+le+"` supplied to `"+Yt+"`, expected ")+("instance of `"+Qt+"`."))}return null}return Ut(he)}function Ne(Wt){if(!Array.isArray(Wt))return v(!1,"Invalid argument supplied to oneOf, expected an instance of array."),s.thatReturnsNull;function he(Dt,Ft,Yt,xt,Bt){for(var Qt=Dt[Ft],le=0;le<Wt.length;le++)if(It(Qt,Wt[le]))return null;var ve=JSON.stringify(Wt);return new Mt("Invalid "+xt+" `"+Bt+"` of value `"+Qt+"` "+("supplied to `"+Yt+"`, expected one of "+ve+"."))}return Ut(he)}function ze(Wt){function he(Dt,Ft,Yt,xt,Bt){if(typeof Wt!="function")return new Mt("Property `"+Bt+"` of component `"+Yt+"` has invalid PropType notation inside objectOf.");var Qt=Dt[Ft],le=it(Qt);if(le!=="object")return new Mt("Invalid "+xt+" `"+Bt+"` of type "+("`"+le+"` supplied to `"+Yt+"`, expected an object."));for(var ve in Qt)if(Qt.hasOwnProperty(ve)){var _e=Wt(Qt,ve,Yt,xt,Bt+"."+ve,C);if(_e instanceof Error)return _e}return null}return Ut(he)}function Ue(Wt){if(!Array.isArray(Wt))return v(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),s.thatReturnsNull;for(var he=0;he<Wt.length;he++){var Dt=Wt[he];if(typeof Dt!="function")return v(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",te(Dt),he),s.thatReturnsNull}function Ft(Yt,xt,Bt,Qt,le){for(var ve=0;ve<Wt.length;ve++){var _e=Wt[ve];if(_e(Yt,xt,Bt,Qt,le,C)==null)return null}return new Mt("Invalid "+Qt+" `"+le+"` supplied to "+("`"+Bt+"`."))}return Ut(Ft)}function Be(){function Wt(he,Dt,Ft,Yt,xt){return pn(he[Dt])?null:new Mt("Invalid "+Yt+" `"+xt+"` supplied to "+("`"+Ft+"`, expected a ReactNode."))}return Ut(Wt)}function Je(Wt){function he(Dt,Ft,Yt,xt,Bt){var Qt=Dt[Ft],le=it(Qt);if(le!=="object")return new Mt("Invalid "+xt+" `"+Bt+"` of type `"+le+"` "+("supplied to `"+Yt+"`, expected `object`."));for(var ve in Wt){var _e=Wt[ve];if(_e){var Ae=_e(Qt,ve,Yt,xt,Bt+"."+ve,C);if(Ae)return Ae}}return null}return Ut(he)}function Xe(Wt){function he(Dt,Ft,Yt,xt,Bt){var Qt=Dt[Ft],le=it(Qt);if(le!=="object")return new Mt("Invalid "+xt+" `"+Bt+"` of type `"+le+"` "+("supplied to `"+Yt+"`, expected `object`."));var ve=_({},Dt[Ft],Wt);for(var _e in ve){var Ae=Wt[_e];if(!Ae)return new Mt("Invalid "+xt+" `"+Bt+"` key `"+_e+"` supplied to `"+Yt+"`.\nBad object: "+JSON.stringify(Dt[Ft],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(Wt),null,"  "));var ge=Ae(Qt,_e,Yt,xt,Bt+"."+_e,C);if(ge)return ge}return null}return Ut(he)}function pn(Wt){switch(typeof Wt){case"number":case"string":case"undefined":return!0;case"boolean":return!Wt;case"object":if(Array.isArray(Wt))return Wt.every(pn);if(Wt===null||Ct(Wt))return!0;var he=Zt(Wt);if(he){var Dt=he.call(Wt),Ft;if(he!==Wt.entries){for(;!(Ft=Dt.next()).done;)if(!pn(Ft.value))return!1}else for(;!(Ft=Dt.next()).done;){var Yt=Ft.value;if(Yt&&!pn(Yt[1]))return!1}}else return!1;return!0;default:return!1}}function qt(Wt,he){return Wt==="symbol"||he["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&he instanceof Symbol}function it(Wt){var he=typeof Wt;return Array.isArray(Wt)?"array":Wt instanceof RegExp?"object":qt(he,Wt)?"symbol":he}function Xt(Wt){if(typeof Wt>"u"||Wt===null)return""+Wt;var he=it(Wt);if(he==="object"){if(Wt instanceof Date)return"date";if(Wt instanceof RegExp)return"regexp"}return he}function te(Wt){var he=Xt(Wt);switch(he){case"array":case"object":return"an "+he;case"boolean":case"date":case"regexp":return"a "+he;default:return he}}function ne(Wt){return!Wt.constructor||!Wt.constructor.name?ue:Wt.constructor.name}return ce.checkPropTypes=M,ce.PropTypes=ce,ce},L=l(function(Ct){{var at=typeof Symbol=="function"&&Symbol.for&&Symbol.for("react.element")||60103,St=function(Zt){return typeof Zt=="object"&&Zt!==null&&Zt.$$typeof===at},jt=!0;Ct.exports=H(St,jt)}}),D=l(function(Ct){/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var at={}.hasOwnProperty;function St(){for(var jt=[],Zt=0;Zt<arguments.length;Zt++){var ue=arguments[Zt];if(ue){var ce=typeof ue;if(ce==="string"||ce==="number")jt.push(ue);else if(Array.isArray(ue))jt.push(St.apply(null,ue));else if(ce==="object")for(var It in ue)at.call(ue,It)&&ue[It]&&jt.push(It)}}return jt.join(" ")}Ct.exports?Ct.exports=St:window.classNames=St})()});function j(Ct,at){for(var St=0,jt=Ct.length;St<jt;St++)if(at.apply(at,[Ct[St],St,Ct]))return Ct[St]}function W(Ct){return typeof Ct=="function"||Object.prototype.toString.call(Ct)==="[object Function]"}function B(Ct){return typeof Ct=="number"&&!isNaN(Ct)}function F(Ct){return parseInt(Ct,10)}function N(Ct,at,St){if(Ct[at])return new Error("Invalid prop "+at+" passed to "+St+" - do not set this, set it on the child.")}var X=["Moz","Webkit","O","ms"];function G(){var Ct=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u"||typeof window.document>"u")return"";var at=window.document.documentElement.style;if(Ct in at)return"";for(var St=0;St<X.length;St++)if(V(Ct,X[St])in at)return X[St];return""}function V(Ct,at){return at?""+at+z(Ct):Ct}function z(Ct){for(var at="",St=!0,jt=0;jt<Ct.length;jt++)St?(at+=Ct[jt].toUpperCase(),St=!1):Ct[jt]==="-"?St=!0:at+=Ct[jt];return at}var U=G(),Z=function(Ct,at){if(!(Ct instanceof at))throw new TypeError("Cannot call a class as a function")},st=function(){function Ct(at,St){for(var jt=0;jt<St.length;jt++){var Zt=St[jt];Zt.enumerable=Zt.enumerable||!1,Zt.configurable=!0,"value"in Zt&&(Zt.writable=!0),Object.defineProperty(at,Zt.key,Zt)}}return function(at,St,jt){return St&&Ct(at.prototype,St),jt&&Ct(at,jt),at}}(),Y=function(Ct,at,St){return at in Ct?Object.defineProperty(Ct,at,{value:St,enumerable:!0,configurable:!0,writable:!0}):Ct[at]=St,Ct},rt=Object.assign||function(Ct){for(var at=1;at<arguments.length;at++){var St=arguments[at];for(var jt in St)Object.prototype.hasOwnProperty.call(St,jt)&&(Ct[jt]=St[jt])}return Ct},ft=function(Ct,at){if(typeof at!="function"&&at!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof at);Ct.prototype=Object.create(at&&at.prototype,{constructor:{value:Ct,enumerable:!1,writable:!0,configurable:!0}}),at&&(Object.setPrototypeOf?Object.setPrototypeOf(Ct,at):Ct.__proto__=at)},tt=function(Ct,at){if(!Ct)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return at&&(typeof at=="object"||typeof at=="function")?at:Ct},K=function(){function Ct(at,St){var jt=[],Zt=!0,ue=!1,ce=void 0;try{for(var It=at[Symbol.iterator](),Mt;!(Zt=(Mt=It.next()).done)&&(jt.push(Mt.value),!(St&&jt.length===St));Zt=!0);}catch(Ut){ue=!0,ce=Ut}finally{try{!Zt&&It.return&&It.return()}finally{if(ue)throw ce}}return jt}return function(at,St){if(Array.isArray(at))return at;if(Symbol.iterator in Object(at))return Ct(at,St);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Q="";function ct(Ct,at){return Q||(Q=j(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(St){return W(Ct[St])})),W(Ct[Q])?Ct[Q](at):!1}function nt(Ct,at,St){var jt=Ct;do{if(ct(jt,at))return!0;if(jt===St)return!1;jt=jt.parentNode}while(jt);return!1}function ot(Ct,at,St){Ct&&(Ct.attachEvent?Ct.attachEvent("on"+at,St):Ct.addEventListener?Ct.addEventListener(at,St,!0):Ct["on"+at]=St)}function yt(Ct,at,St){Ct&&(Ct.detachEvent?Ct.detachEvent("on"+at,St):Ct.removeEventListener?Ct.removeEventListener(at,St,!0):Ct["on"+at]=null)}function pt(Ct){var at=Ct.clientHeight,St=Ct.ownerDocument.defaultView.getComputedStyle(Ct);return at+=F(St.borderTopWidth),at+=F(St.borderBottomWidth),at}function dt(Ct){var at=Ct.clientWidth,St=Ct.ownerDocument.defaultView.getComputedStyle(Ct);return at+=F(St.borderLeftWidth),at+=F(St.borderRightWidth),at}function mt(Ct){var at=Ct.clientHeight,St=Ct.ownerDocument.defaultView.getComputedStyle(Ct);return at-=F(St.paddingTop),at-=F(St.paddingBottom),at}function q(Ct){var at=Ct.clientWidth,St=Ct.ownerDocument.defaultView.getComputedStyle(Ct);return at-=F(St.paddingLeft),at-=F(St.paddingRight),at}function $(Ct,at){var St=at===at.ownerDocument.body,jt=St?{left:0,top:0}:at.getBoundingClientRect(),Zt=Ct.clientX+at.scrollLeft-jt.left,ue=Ct.clientY+at.scrollTop-jt.top;return{x:Zt,y:ue}}function J(Ct){var at=Ct.x,St=Ct.y;return Y({},V("transform",U),"translate("+at+"px,"+St+"px)")}function lt(Ct){var at=Ct.x,St=Ct.y;return"translate("+at+","+St+")"}function ut(Ct,at){return Ct.targetTouches&&j(Ct.targetTouches,function(St){return at===St.identifier})||Ct.changedTouches&&j(Ct.changedTouches,function(St){return at===St.identifier})}function ht(Ct){if(Ct.targetTouches&&Ct.targetTouches[0])return Ct.targetTouches[0].identifier;if(Ct.changedTouches&&Ct.changedTouches[0])return Ct.changedTouches[0].identifier}function bt(Ct){if(Ct){var at=Ct.getElementById("react-draggable-style-el");at||(at=Ct.createElement("style"),at.type="text/css",at.id="react-draggable-style-el",at.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {background: transparent;}
`,at.innerHTML+=`.react-draggable-transparent-selection *::selection {background: transparent;}
`,Ct.getElementsByTagName("head")[0].appendChild(at)),Ct.body&&Et(Ct.body,"react-draggable-transparent-selection")}}function kt(Ct){try{Ct&&Ct.body&&Rt(Ct.body,"react-draggable-transparent-selection"),Ct.selection?Ct.selection.empty():window.getSelection().removeAllRanges()}catch{}}function vt(){var Ct=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return rt({touchAction:"none"},Ct)}function Et(Ct,at){Ct.classList?Ct.classList.add(at):Ct.className.match(new RegExp("(?:^|\\s)"+at+"(?!\\S)"))||(Ct.className+=" "+at)}function Rt(Ct,at){Ct.classList?Ct.classList.remove(at):Ct.className=Ct.className.replace(new RegExp("(?:^|\\s)"+at+"(?!\\S)","g"),"")}function Vt(Ct,at,St){if(!Ct.props.bounds)return[at,St];var jt=Ct.props.bounds;jt=typeof jt=="string"?jt:pe(jt);var Zt=Nt(Ct);if(typeof jt=="string"){var ue=Zt.ownerDocument,ce=ue.defaultView,It=void 0;if(jt==="parent"?It=Zt.parentNode:It=ue.querySelector(jt),!(It instanceof ce.HTMLElement))throw new Error('Bounds selector "'+jt+'" could not find an element.');var Mt=ce.getComputedStyle(Zt),Ut=ce.getComputedStyle(It);jt={left:-Zt.offsetLeft+F(Ut.paddingLeft)+F(Mt.marginLeft),top:-Zt.offsetTop+F(Ut.paddingTop)+F(Mt.marginTop),right:q(It)-dt(Zt)-Zt.offsetLeft+F(Ut.paddingRight)-F(Mt.marginRight),bottom:mt(It)-pt(Zt)-Zt.offsetTop+F(Ut.paddingBottom)-F(Mt.marginBottom)}}return B(jt.right)&&(at=Math.min(at,jt.right)),B(jt.bottom)&&(St=Math.min(St,jt.bottom)),B(jt.left)&&(at=Math.max(at,jt.left)),B(jt.top)&&(St=Math.max(St,jt.top)),[at,St]}function ee(Ct,at,St){var jt=Math.round(at/Ct[0])*Ct[0],Zt=Math.round(St/Ct[1])*Ct[1];return[jt,Zt]}function Tt(Ct){return Ct.props.axis==="both"||Ct.props.axis==="x"}function _t(Ct){return Ct.props.axis==="both"||Ct.props.axis==="y"}function zt(Ct,at,St){var jt=typeof at=="number"?ut(Ct,at):null;if(typeof at=="number"&&!jt)return null;var Zt=Nt(St),ue=St.props.offsetParent||Zt.offsetParent||Zt.ownerDocument.body;return $(jt||Ct,ue)}function oe(Ct,at,St){var jt=Ct.state,Zt=!B(jt.lastX),ue=Nt(Ct);return Zt?{node:ue,deltaX:0,deltaY:0,lastX:at,lastY:St,x:at,y:St}:{node:ue,deltaX:at-jt.lastX,deltaY:St-jt.lastY,lastX:jt.lastX,lastY:jt.lastY,x:at,y:St}}function $t(Ct,at){var St=Ct.props.scale;return{node:at.node,x:Ct.state.x+at.deltaX/St,y:Ct.state.y+at.deltaY/St,deltaX:at.deltaX/St,deltaY:at.deltaY/St,lastX:Ct.state.x,lastY:Ct.state.y}}function pe(Ct){return{left:Ct.left,top:Ct.top,right:Ct.right,bottom:Ct.bottom}}function Nt(Ct){var at=n.findDOMNode(Ct);if(!at)throw new Error("<DraggableCore>: Unmounted during event!");return at}var se={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},Gt=se.mouse,gt=function(Ct){ft(at,Ct);function at(){var St,jt,Zt,ue;Z(this,at);for(var ce=arguments.length,It=Array(ce),Mt=0;Mt<ce;Mt++)It[Mt]=arguments[Mt];return ue=(jt=(Zt=tt(this,(St=at.__proto__||Object.getPrototypeOf(at)).call.apply(St,[this].concat(It))),Zt),Zt.state={dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null},Zt.handleDragStart=function(Ut){if(Zt.props.onMouseDown(Ut),!Zt.props.allowAnyClick&&typeof Ut.button=="number"&&Ut.button!==0)return!1;var Kt=n.findDOMNode(Zt);if(!Kt||!Kt.ownerDocument||!Kt.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var wt=Kt.ownerDocument;if(!(Zt.props.disabled||!(Ut.target instanceof wt.defaultView.Node)||Zt.props.handle&&!nt(Ut.target,Zt.props.handle,Kt)||Zt.props.cancel&&nt(Ut.target,Zt.props.cancel,Kt))){var ye=ht(Ut);Zt.setState({touchIdentifier:ye});var we=zt(Ut,ye,Zt);if(we!=null){var Oe=we.x,Ne=we.y,ze=oe(Zt,Oe,Ne);Zt.props.onStart;var Ue=Zt.props.onStart(Ut,ze);Ue!==!1&&(Zt.props.enableUserSelectHack&&bt(wt),Zt.setState({dragging:!0,lastX:Oe,lastY:Ne}),ot(wt,Gt.move,Zt.handleDrag),ot(wt,Gt.stop,Zt.handleDragStop))}}},Zt.handleDrag=function(Ut){Ut.type==="touchmove"&&Ut.preventDefault();var Kt=zt(Ut,Zt.state.touchIdentifier,Zt);if(Kt!=null){var wt=Kt.x,ye=Kt.y;if(Array.isArray(Zt.props.grid)){var we=wt-Zt.state.lastX,Oe=ye-Zt.state.lastY,Ne=ee(Zt.props.grid,we,Oe),ze=K(Ne,2);if(we=ze[0],Oe=ze[1],!we&&!Oe)return;wt=Zt.state.lastX+we,ye=Zt.state.lastY+Oe}var Ue=oe(Zt,wt,ye),Be=Zt.props.onDrag(Ut,Ue);if(Be===!1){try{Zt.handleDragStop(new MouseEvent("mouseup"))}catch{var Je=document.createEvent("MouseEvents");Je.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),Zt.handleDragStop(Je)}return}Zt.setState({lastX:wt,lastY:ye})}},Zt.handleDragStop=function(Ut){if(Zt.state.dragging){var Kt=zt(Ut,Zt.state.touchIdentifier,Zt);if(Kt!=null){var wt=Kt.x,ye=Kt.y,we=oe(Zt,wt,ye),Oe=n.findDOMNode(Zt);Oe&&Zt.props.enableUserSelectHack&&kt(Oe.ownerDocument),Zt.setState({dragging:!1,lastX:NaN,lastY:NaN}),Zt.props.onStop(Ut,we),Oe&&(yt(Oe.ownerDocument,Gt.move,Zt.handleDrag),yt(Oe.ownerDocument,Gt.stop,Zt.handleDragStop))}}},Zt.onMouseDown=function(Ut){return Gt=se.mouse,Zt.handleDragStart(Ut)},Zt.onMouseUp=function(Ut){return Gt=se.mouse,Zt.handleDragStop(Ut)},Zt.onTouchStart=function(Ut){return Gt=se.touch,Zt.handleDragStart(Ut)},Zt.onTouchEnd=function(Ut){return Gt=se.touch,Zt.handleDragStop(Ut)},jt),tt(Zt,ue)}return st(at,[{key:"componentWillUnmount",value:function(){var St=n.findDOMNode(this);if(St){var jt=St.ownerDocument;yt(jt,se.mouse.move,this.handleDrag),yt(jt,se.touch.move,this.handleDrag),yt(jt,se.mouse.stop,this.handleDragStop),yt(jt,se.touch.stop,this.handleDragStop),this.props.enableUserSelectHack&&kt(jt)}}},{key:"render",value:function(){return a.cloneElement(a.Children.only(this.props.children),{style:vt(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),at}(a.Component);gt.displayName="DraggableCore",gt.propTypes={allowAnyClick:L.bool,disabled:L.bool,enableUserSelectHack:L.bool,offsetParent:function(Ct,at){if(Ct[at]&&Ct[at].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:L.arrayOf(L.number),scale:L.number,handle:L.string,cancel:L.string,onStart:L.func,onDrag:L.func,onStop:L.func,onMouseDown:L.func,className:N,style:N,transform:N},gt.defaultProps={allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){}};var fe=function(Ct){ft(at,Ct);function at(St){Z(this,at);var jt=tt(this,(at.__proto__||Object.getPrototypeOf(at)).call(this,St));return jt.onDragStart=function(Zt,ue){var ce=jt.props.onStart(Zt,$t(jt,ue));if(ce===!1)return!1;jt.setState({dragging:!0,dragged:!0})},jt.onDrag=function(Zt,ue){if(!jt.state.dragging)return!1;var ce=$t(jt,ue),It={x:ce.x,y:ce.y};if(jt.props.bounds){var Mt=It.x,Ut=It.y;It.x+=jt.state.slackX,It.y+=jt.state.slackY;var Kt=Vt(jt,It.x,It.y),wt=K(Kt,2),ye=wt[0],we=wt[1];It.x=ye,It.y=we,It.slackX=jt.state.slackX+(Mt-It.x),It.slackY=jt.state.slackY+(Ut-It.y),ce.x=It.x,ce.y=It.y,ce.deltaX=It.x-jt.state.x,ce.deltaY=It.y-jt.state.y}var Oe=jt.props.onDrag(Zt,ce);if(Oe===!1)return!1;jt.setState(It)},jt.onDragStop=function(Zt,ue){if(!jt.state.dragging)return!1;var ce=jt.props.onStop(Zt,$t(jt,ue));if(ce===!1)return!1;var It={dragging:!1,slackX:0,slackY:0},Mt=!!jt.props.position;if(Mt){var Ut=jt.props.position,Kt=Ut.x,wt=Ut.y;It.x=Kt,It.y=wt}jt.setState(It)},jt.state={dragging:!1,dragged:!1,x:St.position?St.position.x:St.defaultPosition.x,y:St.position?St.position.y:St.defaultPosition.y,slackX:0,slackY:0,isElementSVG:!1},jt}return st(at,[{key:"componentWillMount",value:function(){this.props.position&&!(this.props.onDrag||this.props.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}},{key:"componentDidMount",value:function(){typeof window.SVGElement<"u"&&n.findDOMNode(this)instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillReceiveProps",value:function(St){St.position&&(!this.props.position||St.position.x!==this.props.position.x||St.position.y!==this.props.position.y)&&this.setState({x:St.position.x,y:St.position.y})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var St,jt={},Zt=null,ue=!!this.props.position,ce=!ue||this.state.dragging,It=this.props.position||this.props.defaultPosition,Mt={x:Tt(this)&&ce?this.state.x:It.x,y:_t(this)&&ce?this.state.y:It.y};this.state.isElementSVG?Zt=lt(Mt):jt=J(Mt);var Ut=this.props,Kt=Ut.defaultClassName,wt=Ut.defaultClassNameDragging,ye=Ut.defaultClassNameDragged,we=a.Children.only(this.props.children),Oe=D(we.props.className||"",Kt,(St={},Y(St,wt,this.state.dragging),Y(St,ye,this.state.dragged),St));return a.createElement(gt,rt({},this.props,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),a.cloneElement(we,{className:Oe,style:rt({},we.props.style,jt),transform:Zt}))}}]),at}(a.Component);return fe.displayName="Draggable",fe.propTypes=rt({},gt.propTypes,{axis:L.oneOf(["both","x","y","none"]),bounds:L.oneOfType([L.shape({left:L.number,right:L.number,top:L.number,bottom:L.number}),L.string,L.oneOf([!1])]),defaultClassName:L.string,defaultClassNameDragging:L.string,defaultClassNameDragged:L.string,defaultPosition:L.shape({x:L.number,y:L.number}),position:L.shape({x:L.number,y:L.number}),className:N,style:N,transform:N}),fe.defaultProps=rt({},gt.defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}),fe.default=fe,fe.DraggableCore=gt,fe})},function(f,r,t){r.__esModule=!0;var n=Object.assign||function(k){for(var T=1;T<arguments.length;T++){var E=arguments[T];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(k[_]=E[_])}return k},a=t(1),l=m(a),e=t(2),o=m(e),s=t(341),u=t(595),c=m(u);function m(k){return k&&k.__esModule?k:{default:k}}function p(k,T){var E={};for(var _ in k)T.indexOf(_)>=0||Object.prototype.hasOwnProperty.call(k,_)&&(E[_]=k[_]);return E}function h(k,T){if(!(k instanceof T))throw new TypeError("Cannot call a class as a function")}function v(k,T){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:k}function x(k,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);k.prototype=Object.create(T&&T.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(k,T):k.__proto__=T)}var y=function(k){x(T,k);function T(){var E,_,A;h(this,T);for(var C=arguments.length,S=Array(C),P=0;P<C;P++)S[P]=arguments[P];return A=(E=(_=v(this,k.call.apply(k,[this].concat(S))),_),_.state={resizing:!1,width:_.props.width,height:_.props.height,slackW:0,slackH:0},E),v(_,A)}return T.prototype.componentWillReceiveProps=function(E){!this.state.resizing&&(E.width!==this.props.width||E.height!==this.props.height)&&this.setState({width:E.width,height:E.height})},T.prototype.lockAspectRatio=function(E,_,A){return _=E/A,E=_*A,[E,_]},T.prototype.runConstraints=function(E,_){var A=[this.props.minConstraints,this.props.maxConstraints],C=A[0],S=A[1];if(this.props.lockAspectRatio){var P=this.state.width/this.state.height;_=E/P,E=_*P}if(!C&&!S)return[E,_];var O=E,R=_,I=this.state,M=I.slackW,H=I.slackH;return E+=M,_+=H,C&&(E=Math.max(C[0],E),_=Math.max(C[1],_)),S&&(E=Math.min(S[0],E),_=Math.min(S[1],_)),M+=O-E,H+=R-_,(M!==this.state.slackW||H!==this.state.slackH)&&this.setState({slackW:M,slackH:H}),[E,_]},T.prototype.resizeHandler=function(E,_){var A=this;return function(C,S){var P=S.node,O=S.deltaX,R=S.deltaY,I=(A.props.axis==="both"||A.props.axis==="x")&&["n","s"].indexOf(_)===-1,M=(A.props.axis==="both"||A.props.axis==="y")&&["e","w"].indexOf(_)===-1;I&&_[_.length-1]==="w"&&(O=-O),M&&_[0]==="n"&&(R=-R);var H=A.state.width+(I?O:0),L=A.state.height+(M?R:0),D=H!==A.state.width,j=L!==A.state.height;if(!(E==="onResize"&&!D&&!j)){var W=A.runConstraints(H,L);H=W[0],L=W[1];var B={};if(E==="onResizeStart")B.resizing=!0;else if(E==="onResizeStop")B.resizing=!1,B.slackW=B.slackH=0;else{if(H===A.state.width&&L===A.state.height)return;B.width=H,B.height=L}var F=typeof A.props[E]=="function";F?(typeof C.persist=="function"&&C.persist(),A.setState(B,function(){return A.props[E](C,{node:P,size:{width:H,height:L},handle:_})})):A.setState(B)}}},T.prototype.renderResizeHandle=function(E){var _=this.props.handle;return _?typeof _=="function"?_(E):_:l.default.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+E})},T.prototype.render=function(){var E=this,_=this.props,A=_.children,C=_.draggableOpts;_.width,_.height,_.handleSize,_.lockAspectRatio,_.axis,_.minConstraints,_.maxConstraints,_.onResize,_.onResizeStop,_.onResizeStart;var S=_.resizeHandles,P=p(_,["children","draggableOpts","width","height","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles"]),O=P.className?P.className+" react-resizable":"react-resizable";return(0,c.default)(A,n({},P,{className:O,children:[A.props.children,S.map(function(R){return l.default.createElement(s.DraggableCore,n({},C,{key:"resizableHandle-"+R,onStop:E.resizeHandler("onResizeStop",R),onStart:E.resizeHandler("onResizeStart",R),onDrag:E.resizeHandler("onResize",R)}),E.renderResizeHandle(R))})]}))},T}(l.default.Component);y.propTypes={children:o.default.element.isRequired,width:o.default.number.isRequired,height:o.default.number.isRequired,handle:o.default.element,handleSize:o.default.array,resizeHandles:o.default.arrayOf(o.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),lockAspectRatio:o.default.bool,axis:o.default.oneOf(["both","x","y","none"]),minConstraints:o.default.arrayOf(o.default.number),maxConstraints:o.default.arrayOf(o.default.number),onResizeStop:o.default.func,onResizeStart:o.default.func,onResize:o.default.func,draggableOpts:o.default.object},y.defaultProps={handleSize:[20,20],lockAspectRatio:!1,axis:"both",minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"]},r.default=y},function(f,r,t){r.__esModule=!0,r.getBreakpointFromWidth=a,r.getColsFromBreakpoint=l,r.findOrGenerateResponsiveLayout=e,r.sortBreakpoints=o;var n=t(133);function a(s,u){for(var c=o(s),m=c[0],p=1,h=c.length;p<h;p++){var v=c[p];u>s[v]&&(m=v)}return m}function l(s,u){if(!u[s])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+s+" is missing!");return u[s]}function e(s,u,c,m,p,h){if(s[c])return(0,n.cloneLayout)(s[c]);for(var v=s[m],x=o(u),y=x.slice(x.indexOf(c)),k=0,T=y.length;k<T;k++){var E=y[k];if(s[E]){v=s[E];break}}return v=(0,n.cloneLayout)(v||[]),(0,n.compact)((0,n.correctBounds)(v,{cols:p}),h,p)}function o(s){var u=Object.keys(s);return u.sort(function(c,m){return s[c]-s[m]})}},function(f,r,t){f.exports={ResizeSensor:t(345),ElementQueries:t(599)}},function(f,r,t){var n,a;(function(l,e){n=e,a=typeof n=="function"?n.call(r,t,r,f):n,a!==void 0&&(f.exports=a)})(typeof window<"u"?window:this,function(){if(typeof window>"u")return null;var l=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(c){return window.setTimeout(c,20)};function e(c,m){var p=Object.prototype.toString.call(c),h=p==="[object Array]"||p==="[object NodeList]"||p==="[object HTMLCollection]"||p==="[object Object]"||typeof jQuery<"u"&&c instanceof jQuery||typeof Elements<"u"&&c instanceof Elements,v=0,x=c.length;if(h)for(;v<x;v++)m(c[v]);else m(c)}function o(c){if(!c.getBoundingClientRect)return{width:c.offsetWidth,height:c.offsetHeight};var m=c.getBoundingClientRect();return{width:Math.round(m.width),height:Math.round(m.height)}}var s=function(c,m){function p(){var v=[];this.add=function(k){v.push(k)};var x,y;this.call=function(k){for(x=0,y=v.length;x<y;x++)v[x].call(this,k)},this.remove=function(k){var T=[];for(x=0,y=v.length;x<y;x++)v[x]!==k&&T.push(v[x]);v=T},this.length=function(){return v.length}}function h(v,x){if(v){if(v.resizedAttached){v.resizedAttached.add(x);return}v.resizedAttached=new p,v.resizedAttached.add(x),v.resizeSensor=document.createElement("div"),v.resizeSensor.dir="ltr",v.resizeSensor.className="resize-sensor";var y="pointer-events: none; position: absolute; left: 0px; top: 0px; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden; max-width: 100%;",k="position: absolute; left: 0; top: 0; transition: 0s;";v.resizeSensor.style.cssText=y,v.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+y+'"><div style="'+k+'"></div></div><div class="resize-sensor-shrink" style="'+y+'"><div style="'+k+' width: 200%; height: 200%"></div></div>',v.appendChild(v.resizeSensor);var T=window.getComputedStyle(v),E=T?T.getPropertyValue("position"):null;E!=="absolute"&&E!=="relative"&&E!=="fixed"&&(v.style.position="relative");var _=v.resizeSensor.childNodes[0],A=_.childNodes[0],C=v.resizeSensor.childNodes[1],S,P,O=o(v),R=O.width,I=O.height,M=!0,H=0,L=function(){var F=v.offsetWidth,N=v.offsetHeight;A.style.width=F+10+"px",A.style.height=N+10+"px",_.scrollLeft=F+10,_.scrollTop=N+10,C.scrollLeft=F+10,C.scrollTop=N+10},D=function(){if(M){var F=v.offsetWidth===0&&v.offsetHeight===0;if(F){H||(H=l(function(){H=0,D()}));return}else M=!1}L()};v.resizeSensor.resetSensor=D;var j=function(){P=0,S&&(R=O.width,I=O.height,v.resizedAttached&&v.resizedAttached.call(O))},W=function(){O=o(v),S=O.width!==R||O.height!==I,S&&!P&&(P=l(j)),D()},B=function(F,N,X){F.attachEvent?F.attachEvent("on"+N,X):F.addEventListener(N,X)};B(_,"scroll",W),B(C,"scroll",W),l(D)}}e(c,function(v){h(v,m)}),this.detach=function(v){s.detach(c,v)},this.reset=function(){c.resizeSensor.resetSensor()}};if(s.reset=function(c){e(c,function(m){m.resizeSensor.resetSensor()})},s.detach=function(c,m){e(c,function(p){p&&(p.resizedAttached&&typeof m=="function"&&(p.resizedAttached.remove(m),p.resizedAttached.length())||p.resizeSensor&&(p.contains(p.resizeSensor)&&p.removeChild(p.resizeSensor),delete p.resizeSensor,delete p.resizedAttached))})},typeof MutationObserver<"u"){var u=new MutationObserver(function(c){for(var m in c)if(c.hasOwnProperty(m))for(var p=c[m].addedNodes,h=0;h<p.length;h++)p[h].resizeSensor&&s.reset(p[h])});document.addEventListener("DOMContentLoaded",function(c){u.observe(document.body,{childList:!0,subtree:!0})})}return s})},function(f,r,t){f.exports={"center-track":"CenterTrack-module_center-track-3ptRW","center-track-container":"CenterTrack-module_center-track-container-2ELhp"}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(5),a=T(n),l=t(3),e=T(l),o=t(4),s=T(o),u=t(6),c=T(u),m=t(14),p=T(m),h=t(7),v=T(h),x=t(115),y=T(x),k=t(11);function T(_){return _&&_.__esModule?_:{default:_}}var E=function(_){(0,v.default)(A,_);function A(C,S){(0,e.default)(this,A);var P=(0,c.default)(this,(A.__proto__||(0,a.default)(A)).call(this,C,S));return P.pMain=P.pMobile,P}return(0,s.default)(A,[{key:"areAllVisibleTilesLoaded",value:function(){function C(){return!0}return C}()},{key:"initTile",value:function(){function C(S){var P=S.graphics;S.textGraphics=new k.GLOBALS.PIXI.Graphics,S.text=new k.GLOBALS.PIXI.Text(String(S.tileData.zoomLevel)+"/"+String(S.tileData.tilePos.join("/")),{fontFamily:"Arial",fontSize:32,fill:16715792,align:"center"}),S.textGraphics.addChild(S.text),S.text.anchor.x=.5,S.text.anchor.y=.5,P.addChild(S.textGraphics),this.drawTile(S)}return C}()},{key:"destroyTile",value:function(){function C(S){}return C}()},{key:"drawTile",value:function(){function C(S){if((0,p.default)(A.prototype.__proto__||(0,a.default)(A.prototype),"drawTile",this).call(this,S),!!S.graphics){var P=S.graphics,O=this.getTilePosAndDimensions(S.tileData.zoomLevel,S.tileData.tilePos),R=O.tileX,I=O.tileWidth,M=1/((this._xScale(1)-this._xScale(0))/(this._refXScale(1)-this._refXScale(0)));S.text.scale.x=M,P.clear();var H=this.dimensions[1],L=this._refXScale(R+I)-this._refXScale(R);S.textGraphics.position.x=this._refXScale(R)+L/2,S.textGraphics.position.y=H/2;var D=this._refXScale(R);P.lineStyle(4*M,255,1),P.beginFill(16740363,.4),P.alpha=.5,P.moveTo(D,0),P.lineTo(D,H),P.moveTo(D+L,0),P.lineTo(D+L,H),P.lineStyle(0,255,1),P.drawRect(D,0,L,H)}}return C}()}]),A}(y.default);r.default=E},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(5),a=T(n),l=t(3),e=T(l),o=t(4),s=T(o),u=t(6),c=T(u),m=t(14),p=T(m),h=t(7),v=T(h),x=t(11),y=t(349),k=T(y);function T(_){return _&&_.__esModule?_:{default:_}}var E=function(_){(0,v.default)(A,_);function A(){return(0,e.default)(this,A),(0,c.default)(this,(A.__proto__||(0,a.default)(A)).apply(this,arguments))}return(0,s.default)(A,[{key:"areAllVisibleTilesLoaded",value:function(){function C(){return!0}return C}()},{key:"initTile",value:function(){function C(S){var P=S.graphics;S.textGraphics=new x.GLOBALS.PIXI.Graphics,S.text=new x.GLOBALS.PIXI.Text(String(S.tileData.zoomLevel)+"/"+String(S.tileData.tilePos.join("/")),{fontFamily:"Arial",fontSize:32,fill:16715792,align:"center"}),S.textGraphics.addChild(S.text),S.text.anchor.x=.5,S.text.anchor.y=.5,S.text.rotation=-Math.PI/2,P.addChild(S.textGraphics),this.drawTile(S,P)}return C}()},{key:"destroyTile",value:function(){function C(S,P){}return C}()},{key:"drawTile",value:function(){function C(S){if((0,p.default)(A.prototype.__proto__||(0,a.default)(A.prototype),"drawTile",this).call(this,S),!!S.graphics){var P=S.graphics,O=this.getTilePosAndDimensions(S.tileData.zoomLevel,S.tileData.tilePos),R=O.tileY,I=O.tileHeight,M=1/((this._yScale(1)-this._yScale(0))/(this._refYScale(1)-this._refYScale(0)));S.text.scale.x=M,P.clear(),P.lineStyle(4*M,255,1),P.beginFill(16740363,.4),P.alpha=.5;var H=this.dimensions[0],L=this._refYScale(R+I)-this._refYScale(R);S.textGraphics.position.x=H/2,S.textGraphics.position.y=this._refYScale(R)+L/2,P.drawRect(0,this._refYScale(R),H,L)}}return C}()},{key:"fetchNewTiles",value:function(){function C(S){var P=this;S.forEach(function(O){var R=O.remoteId,I=R.split("."),M={zoomLevel:I[1],tilePos:I.slice(2,I.length).map(function(H){return+H})};P.fetchedTiles[O.tileId]=O,P.fetchedTiles[O.tileId].tileData=M,P.fetching.has(O.remoteId)&&P.fetching.delete(O.remoteId)}),this.synchronizeTilesAndGraphics()}return C}()}]),A}(k.default);r.default=E},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(5),a=T(n),l=t(3),e=T(l),o=t(4),s=T(o),u=t(6),c=T(u),m=t(14),p=T(m),h=t(7),v=T(h),x=t(255),y=T(x),k=t(24);function T(_){return _&&_.__esModule?_:{default:_}}var E=function(_){(0,v.default)(A,_);function A(){return(0,e.default)(this,A),(0,c.default)(this,(A.__proto__||(0,a.default)(A)).apply(this,arguments))}return(0,s.default)(A,[{key:"calculateZoomLevel",value:function(){function C(){var S=k.tileProxy.calculateZoomLevel(this._yScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),P=Math.min(S,this.maxZoom);return P}return C}()},{key:"relevantScale",value:function(){function C(){return this._yScale}return C}()},{key:"zoomed",value:function(){function C(S,P){(0,p.default)(A.prototype.__proto__||(0,a.default)(A.prototype),"zoomed",this).call(this,S,P);var O=1,R=(P(1)-P(0))/(this._refYScale(1)-this._refYScale(0)),I=this.position[0],M=P(0)+this.position[1]-this._refYScale(1)*R;this.pMain.position.x=I,this.pMain.position.y=M,this.pMain.scale.x=O,this.pMain.scale.y=R}return C}()}]),A}(y.default);r.default=E},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(5),a=T(n),l=t(3),e=T(l),o=t(4),s=T(o),u=t(6),c=T(u),m=t(14),p=T(m),h=t(7),v=T(h),x=t(316),y=t(80),k=T(y);function T(_){return _&&_.__esModule?_:{default:_}}var E=function(_){(0,v.default)(A,_);function A(C,S){(0,e.default)(this,A);var P=(0,c.default)(this,(A.__proto__||(0,a.default)(A)).call(this,C,S));return P.axis=(0,x.axisTop)(P._xScale),P.gAxis=P.gMain.append("g"),P.tilesetInfo=!0,P}return(0,s.default)(A,[{key:"setDimensions",value:function(){function C(S){(0,p.default)(A.prototype.__proto__||(0,a.default)(A.prototype),"setDimensions",this).call(this,S),this.axis.ticks(Math.ceil(this.dimensions[0]/150)),this.gAxis.attr("transform","translate(0,"+String(S[1])+")")}return C}()},{key:"draw",value:function(){function C(){return this.axis.scale(this._xScale),this.gAxis.call(this.axis),this}return C}()},{key:"zoomed",value:function(){function C(S,P){(0,p.default)(A.prototype.__proto__||(0,a.default)(A.prototype),"zoomed",this).call(this,S,P),this.draw()}return C}()}]),A}(k.default);r.default=E},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(5),a=T(n),l=t(3),e=T(l),o=t(4),s=T(o),u=t(6),c=T(u),m=t(14),p=T(m),h=t(7),v=T(h),x=t(316),y=t(80),k=T(y);function T(_){return _&&_.__esModule?_:{default:_}}var E=function(_){(0,v.default)(A,_);function A(C,S){(0,e.default)(this,A);var P=(0,c.default)(this,(A.__proto__||(0,a.default)(A)).call(this,C,S));return P.axis=(0,x.axisLeft)(P._yScale),P.gAxis=P.gMain.append("g"),P.tilesetInfo=!0,P}return(0,s.default)(A,[{key:"setDimensions",value:function(){function C(S){(0,p.default)(A.prototype.__proto__||(0,a.default)(A.prototype),"setDimensions",this).call(this,S),this.axis.ticks(Math.ceil(this.dimensions[1]/150)),this.gAxis.attr("transform","translate("+String(S[0])+",0)")}return C}()},{key:"draw",value:function(){function C(){return this.axis.scale(this._yScale),this.gAxis.call(this.axis),this}return C}()},{key:"zoomed",value:function(){function C(S,P){(0,p.default)(A.prototype.__proto__||(0,a.default)(A.prototype),"zoomed",this).call(this,S,P),this.draw()}return C}()}]),A}(k.default);r.default=E},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(94),a=tt(n),l=t(25),e=tt(l),o=t(55),s=tt(o),u=t(30),c=tt(u),m=t(18),p=tt(m),h=t(63),v=tt(h),x=t(19),y=tt(x),k=t(37),T=tt(k),E=t(17),_=tt(E),A=t(34),C=tt(A),S=t(5),P=tt(S),O=t(3),R=tt(O),I=t(4),M=tt(I),H=t(6),L=tt(H),D=t(14),j=tt(D),W=t(7),B=tt(W),F=t(180),N=tt(F),X=t(8),G=t(28),V=t(355),z=tt(V),U=t(157),Z=t(115),st=tt(Z),Y=t(24),rt=t(10),ft=t(11);function tt(dt){return dt&&dt.__esModule?dt:{default:dt}}var K=16,Q=50,ct=5e3,nt=5,ot=14,yt={fontSize:ot+"px",fontFamily:"Arial",stroke:"white",strokeThickness:2,fontWeight:400,dropShadow:!0,dropShadowColor:"white",dropShadowDistance:0,dropShadowBlur:2},pt=function(dt){(0,B.default)(mt,dt);function mt(q,$){(0,R.default)(this,mt);var J=(0,L.default)(this,(mt.__proto__||(0,P.default)(mt)).call(this,q,$));return J.valueScaleTransform=U.zoomIdentity,J}return(0,M.default)(mt,[{key:"initialize",value:function(){function q(){if(!this.initialized){var $=[1,1,0];this.prevK=$[0],this.vertK=$[1],this.vertY=$[2],this.drawnRects||(this.drawnRects={}),this.colorScale||(this.options.colorRange?this.colorScale=(0,rt.colorDomainToRgbaArray)(this.options.colorRange):this.colorScale=ft.HEATED_OBJECT_MAP),this.initialized=!0}}return q}()},{key:"initTile",value:function(){function q($){var J=this;$.texts={},$.rectGraphics=new ft.GLOBALS.PIXI.Graphics,$.textGraphics=new ft.GLOBALS.PIXI.Graphics,$.graphics.addChild($.rectGraphics),$.graphics.addChild($.textGraphics);var lt=[],ut=[];if($.tileData&&$.tileData.length){if($.tileData.sort(function(bt,kt){return kt.importance-bt.importance}),!this.options||!this.options.valueColumn){var ht=$.tileData.map(function(bt){var kt=+bt.chrOffset;return{from:+bt.fields[1]+kt,to:+bt.fields[2]+kt,value:bt,text:bt.fields[3],strand:bt.fields.length>=6&&bt.fields[5]==="-"?"-":"+"}});lt=(0,rt.segmentsToRows)(ht.filter(function(bt){return bt.strand==="+"})),ut=(0,rt.segmentsToRows)(ht.filter(function(bt){return bt.strand==="-"}))}else lt=[$.tileData.map(function(bt){return{value:bt}})];$.plusStrandRows=lt,$.minusStrandRows=ut,this.options.showTexts&&$.tileData.forEach(function(bt,kt){var vt=bt.fields;if(bt.importance||(bt.importance=Math.random()),$.textWidths={},$.textHeights={},!(kt>=(+J.options.maxTexts||Q))){var Et=new ft.GLOBALS.PIXI.Text(vt[3],(0,C.default)({},yt,{fontSize:+J.options.fontSize||yt.fontSize}));J.flipText&&(Et.scale.x=-1),Et.anchor.x=.5,Et.anchor.y=.5,$.texts[bt.uid]=Et,$.textGraphics.addChild(Et)}})}$.initialized=!0}return q}()},{key:"removeTileRects",value:function(){function q($){var J=this,lt=+$.tileId.split(".")[0];$.rectGraphics.clear(),$.rendered=!1,$.tileData&&$.tileData.length&&$.tileData.forEach(function(ut,ht){J.drawnRects[lt]&&J.drawnRects[lt][ut.uid]&&J.drawnRects[lt][ut.uid][2]===$.tileId&&delete J.drawnRects[lt][ut.uid]})}return q}()},{key:"destroyTile",value:function(){function q($){this.removeTileRects($),$.graphics.removeChild($.textGraphics),$.graphics.removeChild($.rectGraphics)}return q}()},{key:"removeTiles",value:function(){function q($){(0,j.default)(mt.prototype.__proto__||(0,P.default)(mt.prototype),"removeTiles",this).call(this,$)}return q}()},{key:"drawTile",value:function(){function q($){this.options&&this.options.valueColumn&&this.valueScale&&this.drawAxis(this.valueScale)}return q}()},{key:"rerender",value:function(){function q($,J){(0,j.default)(mt.prototype.__proto__||(0,P.default)(mt.prototype),"rerender",this).call(this,$,J),this.valueScale=null,this.drawnRects={},this.options.colorRange?this.colorScale=(0,rt.colorDomainToRgbaArray)(this.options.colorRange):this.colorScale=ft.HEATED_OBJECT_MAP;var lt=!0,ut=!1,ht=void 0;try{for(var bt=(0,_.default)(this.visibleAndFetchedTiles()),kt;!(lt=(kt=bt.next()).done);lt=!0){var vt=kt.value;this.destroyTile(vt),this.initTile(vt),this.renderTile(vt)}}catch(Et){ut=!0,ht=Et}finally{try{!lt&&bt.return&&bt.return()}finally{if(ut)throw ht}}}return q}()},{key:"updateTile",value:function(){function q($){this.areAllVisibleTilesLoaded()&&this.renderTile($)}return q}()},{key:"allVisibleRects",value:function(){function q(){var $={};(0,T.default)(this.fetchedTiles).forEach(function(vt){if(vt.plusStrandRows){var Et=!0,Rt=!1,Vt=void 0;try{for(var ee=(0,_.default)(vt.plusStrandRows[0]),Tt;!(Et=(Tt=ee.next()).done);Et=!0){var _t=Tt.value;$[_t.value.uid]||($[_t.value.uid]=_t)}}catch(zt){Rt=!0,Vt=zt}finally{try{!Et&&ee.return&&ee.return()}finally{if(Rt)throw Vt}}}});for(var J=(0,T.default)($).sort(function(vt,Et){return vt.from-Et.from}),lt=0,ut=0,ht=0;ht<J.length;ht++)if(J[ht].staggeredStartPosition!==void 0){lt=ht,ut=J[ht].staggeredStartPosition;break}for(var bt=lt;bt<J.length;bt++)J[bt].staggeredStartPosition=(ut+bt-lt)%2;for(var kt=lt;kt>=0&&J.length;kt--)J[kt].staggeredStartPosition=(ut+lt-kt)%2;return $}return q}()},{key:"drawSegmentStyle",value:function(){function q($,J,lt,ut,ht,bt){var kt=.1,vt=ut+ht/2,Et=[J,ut,J+2*kt,ut,J+2*kt,vt-kt,lt-2*kt,vt-kt,lt-2*kt,ut,lt,ut,lt,ut+ht,lt-2*kt,ut+ht,lt-2*kt,vt+kt,J+2*kt,vt+kt,J+2*kt,ut+ht,J,ut+ht];return $.rectGraphics.drawPolygon(Et),Et}return q}()},{key:"drawPoly",value:function(){function q($,J,lt,ut,ht,bt){var kt=null;return this.options.annotationStyle==="segment"?this.drawSegmentStyle($,J,lt,ut,ht,bt):((bt==="+"||bt==="-")&&lt-J<K/2?(kt=[J,ut,J+ht/2,ut+ht/2,J,ut+ht],bt==="+"||(kt=[lt,ut,lt-ht/2,ut+ht/2,lt,ut+ht]),$.rectGraphics.drawPolygon(kt)):(bt==="+"?kt=[J,ut,lt-ht/2,ut,lt,ut+ht/2,lt-ht/2,ut+ht,J,ut+ht]:bt==="-"?kt=[J+ht/2,ut,lt,ut,lt,ut+ht,J+ht/2,ut+ht,J,ut+ht/2]:kt=[J,ut,lt,ut,lt,ut+ht,J,ut+ht],$.rectGraphics.drawPolygon(kt)),kt)}return q}()},{key:"setValueScale",value:function(){function q(){if(this.valueScale=null,this.options&&this.options.valueColumn){var $=this.options.colorEncodingRange?+this.options.colorEncodingRange[0]:this.minVisibleValueInTiles(+this.options.valueColumn),J=this.options.colorEncodingRange?+this.options.colorEncodingRange[1]:this.maxVisibleValueInTiles(+this.options.valueColumn);if(this.options.valueColumn){var lt=this.makeValueScale($,this.calculateMedianVisibleValue(+this.options.valueColumn),J),ut=(0,y.default)(lt,1);this.valueScale=ut[0]}}}return q}()},{key:"setColorValueScale",value:function(){function q(){if(this.colorValueScale=null,this.options&&this.options.colorEncoding&&this.options.colorEncoding!=="itemRgb"){var $=this.options.colorEncodingRange?+this.options.colorEncodingRange[0]:this.minVisibleValueInTiles(+this.options.colorEncoding),J=this.options.colorEncodingRange?+this.options.colorEncodingRange[1]:this.maxVisibleValueInTiles(+this.options.colorEncoding);this.colorValueScale=(0,G.scaleLinear)().domain([$,J]).range([0,255])}}return q}()},{key:"renderRows",value:function(){function q($,J,lt,ut,ht,bt){var kt=+$.tileId.split(".")[0];v.default,this.initialize();var vt=(0,G.scaleBand)().domain((0,X.range)(lt)).range([ut,ht]).paddingInner(.3);this.allVisibleRects();var Et=null;this.options.staggered&&(Et=this.allVisibleRects());for(var Rt=0;Rt<J.length;Rt++)for(var Vt=0;Vt<J[Rt].length;Vt++){var ee=J[Rt][Vt].value,Tt=ee.fields,_t=+ee.chrOffset,zt=+Tt[1]+_t,oe=+Tt[2]+_t,$t=(zt+oe)/2,pe=vt(Rt)+vt.step()/2,Nt=this.options.annotationHeight||K;if(Nt==="scaled"&&(Nt=vt.bandwidth(),this.options.maxAnnotationHeight&&(Nt=Math.min(Nt,+this.options.maxAnnotationHeight))),this.options&&this.options.colorEncoding==="itemRgb"&&ee.fields[8]){var se=ee.fields[8].split(",");if(se.length===3){var Gt="rgb("+String(ee.fields[8])+")";bt=Gt}}else if(this.colorValueScale){var gt=(0,rt.valueToColor)(this.colorValueScale,this.colorScale,0,-Number.MIN_VALUE)(+Tt[+this.options.colorEncoding-1]);bt="rgba("+String(gt.join(","))+")"}if(this.valueScale){var fe=+Tt[+this.options.valueColumn-1];pe=this.valueScale(fe)}var Ct=this.options.fillOpacity||.3;$.rectGraphics.lineStyle(1,(0,rt.colorToHex)(bt),Ct),$.rectGraphics.beginFill((0,rt.colorToHex)(bt),Ct);var at=pe-Nt/2,St=this._xScale(zt),jt=this._xScale(oe);if(this.options.staggered){var Zt=Et[ee.uid];Zt.staggeredStartPosition?at-=nt/2:at+=nt/2}var ue=!0;if(!(kt in this.drawnRects&&ee.uid in this.drawnRects[kt])){ue=!1,this.drawnRects[kt]||(this.drawnRects[kt]={});var ce=this.drawPoly($,St,jt,at*this.prevK,Nt*this.prevK,Tt[5]);this.drawnRects[kt][ee.uid]=[ce,{start:zt,end:oe,value:ee,tile:$,fill:bt},$.tileId]}if(this.options.showTexts){if(!$.texts)return;if(!(Vt>=(+this.options.maxTexts||Q))&&$.texts[ee.uid]){var It=$.texts[ee.uid];It.position.x=this._xScale($t),It.position.y=at+Nt/2,It.nominalY=at+Nt/2,ue&&(It.alreadyDrawn=!0);var Mt=this.options.fontColor!==void 0?(0,rt.colorToHex)(this.options.fontColor):bt;if(It.style=(0,C.default)({},yt,{fill:Mt,fontSize:+this.options.fontSize||yt.fontSize}),!(Tt[3]in $.textWidths)){It.updateTransform();var Ut=It.getBounds().width,Kt=It.getBounds().height,wt=5;$.textWidths[Tt[3]]=Ut,$.textHeights[Tt[3]]=Kt-wt}}}}}return q}()},{key:"renderTile",value:function(){function q($){var J=$.plusStrandRows?$.plusStrandRows.length:1,lt=$.minusStrandRows?$.minusStrandRows.length:1,ut=!0,ht=!1,bt=void 0;try{for(var kt=(0,_.default)(this.visibleAndFetchedTiles()),vt;!(ut=(vt=kt.next()).done);ut=!0){var Et=vt.value;if(!Et.initialized)return;!Et.plusStrandRows&&!Et.minusStrandRows||(J=Math.max(Et.plusStrandRows.length,J),lt=Math.max(Et.minusStrandRows.length,lt))}}catch(_t){ht=!0,bt=_t}finally{try{!ut&&kt.return&&kt.return()}finally{if(ht)throw bt}}if($.rendered&&this.removeTileRects($),$.drawnAtScale=this._xScale.copy(),$.rendered=!0,this.setValueScale(),this.setColorValueScale(),$.tileData&&$.tileData.length){var Rt=this.options.plusStrandColor||this.options.fillColor||"blue",Vt=this.options.minusStrandColor||this.options.fillColor||"purple",ee=0,Tt=0;this.options.separatePlusMinusStrands?Tt=J*this.dimensions[1]/(J+lt)-ee/2:Tt=this.dimensions[1],this.renderRows($,$.plusStrandRows,J,0,Tt,Rt),this.renderRows($,$.minusStrandRows,lt,this.options.separatePlusMinusStrands?Tt+ee/2:0,this.dimensions[1],Vt)}rt.trackUtils.stretchRects(this,[function(_t){return _t.rectGraphics}])}return q}()},{key:"calculateZoomLevel",value:function(){function q(){var $=Y.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),J=Math.min($,this.maxZoom);return J=Math.max(J,0),J}return q}()},{key:"minVisibleValueInTiles",value:function(){function q($){var J=this,lt=this.visibleAndFetchedIds();lt.length===0&&(lt=(0,p.default)(this.fetchedTiles));var ut=Math.min.apply(null,lt.map(function(ht){return J.fetchedTiles[ht]}).filter(function(ht){return ht.tileData&&ht.tileData.length}).map(function(ht){return Math.min.apply(null,ht.tileData.sort(function(bt,kt){return kt.importance-bt.importance}).slice(0,ct).map(function(bt){return+bt.fields[$-1]}).filter(function(bt){return!(0,c.default)(bt)}))}));return ut===s.default&&(ut=null),ut}return q}()},{key:"maxVisibleValueInTiles",value:function(){function q($){var J=this,lt=this.visibleAndFetchedIds();lt.length===0&&(lt=(0,p.default)(this.fetchedTiles));var ut=Math.max.apply(null,lt.map(function(ht){return J.fetchedTiles[ht]}).filter(function(ht){return ht.tileData&&ht.tileData.length}).map(function(ht){return Math.max.apply(null,ht.tileData.sort(function(bt,kt){return kt.importance-bt.importance}).slice(0,ct).map(function(bt){return+bt.fields[$-1]}).filter(function(bt){return!(0,c.default)(bt)}))}));return ut===v.default&&(ut=null),ut}return q}()},{key:"calculateMedianVisibleValue",value:function(){function q($){var J,lt=this;this.areAllVisibleTilesLoaded()&&this.allTilesLoaded();var ut=this.visibleAndFetchedIds();ut.length===0&&(ut=(0,p.default)(this.fetchedTiles));var ht=(J=[]).concat.apply(J,(0,e.default)(ut.map(function(bt){return lt.fetchedTiles[bt]}).filter(function(bt){return bt.tileData&&bt.tileData.length}).map(function(bt){return bt.tileData.sort(function(kt,vt){return vt.importance-kt.importance}).slice(0,ct).map(function(kt){return+kt.fields[$-1]})}))).filter(function(bt){return bt>0});this.medianVisibleValue=(0,X.median)(ht)}return q}()},{key:"draw",value:function(){function q(){var $=this;(0,j.default)(mt.prototype.__proto__||(0,P.default)(mt.prototype),"draw",this).call(this),this.allTexts=[],this.allBoxes=[];var J=function(){function ht(bt){var kt=$.fetchedTiles[bt];if(kt.rectGraphics.scale.y=$.vertK,kt.rectGraphics.position.y=$.vertY,!kt.drawnAtScale)return{v:void 0};rt.trackUtils.stretchRects($,[function(Et){return Et.rectGraphics}]);var vt=$.parentInFetched(kt);if(!kt.initialized)return"continue";kt.tileData&&kt.tileData.length&&kt.tileData.forEach(function(Et){if(kt.texts){var Rt=Et.fields,Vt=Rt[3],ee=kt.texts[Et.uid];if(ee){var Tt=+Et.chrOffset,_t=+Rt[1]+Tt,zt=+Rt[2]+Tt,oe=(_t+zt)/2;if(ee.position.x=$._xScale(oe),ee.position.y=ee.nominalY*($.vertK*$.prevK)+$.vertY,!vt&&!ee.alreadyDrawn){ee.visible=!0;var $t=3;$.allBoxes.push([ee.position.x-$t,ee.position.y-kt.textHeights[Rt[3]]/2,ee.position.x+kt.textWidths[Rt[3]]+$t,ee.position.y+kt.textHeights[Rt[3]]/2]),$.allTexts.push({importance:Et.importance,text:ee,caption:Vt,strand:Rt[5]})}else ee.visible=!1}}})}return ht}();for(var lt in this.fetchedTiles){var ut=J(lt);switch(ut){case"continue":continue;default:if((typeof ut>"u"?"undefined":(0,a.default)(ut))==="object")return ut.v}}this.hideOverlaps(this.allBoxes,this.allTexts)}return q}()},{key:"hideOverlaps",value:function(){function q($,J){(0,N.default)($,function(lt,ut){J[lt].importance>J[ut].importance?J[lt].text.visible&&(J[ut].text.visible=!1):J[ut].text.visible&&(J[lt].text.visible=!1)})}return q}()},{key:"setPosition",value:function(){function q($){(0,j.default)(mt.prototype.__proto__||(0,P.default)(mt.prototype),"setPosition",this).call(this,$);var J=(0,y.default)(this.position,2);this.pMain.position.x=J[0],this.pMain.position.y=J[1]}return q}()},{key:"setDimensions",value:function(){function q($){(0,j.default)(mt.prototype.__proto__||(0,P.default)(mt.prototype),"setDimensions",this).call(this,$)}return q}()},{key:"zoomed",value:function(){function q($,J){this.xScale($),this.yScale(J),this.refreshTiles(),this.draw()}return q}()},{key:"exportSVG",value:function(){function q(){var $=this,J=null,lt=null;if((0,j.default)(mt.prototype.__proto__||(0,P.default)(mt.prototype),"exportSVG",this)){var ut=(0,j.default)(mt.prototype.__proto__||(0,P.default)(mt.prototype),"exportSVG",this).call(this),ht=(0,y.default)(ut,2);lt=ht[0],J=ht[1]}else lt=document.createElement("g"),J=lt;var bt=document.createElement("g");bt.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),J.appendChild(bt);var kt=document.createElement("g"),vt=document.createElement("g");bt.appendChild(kt),bt.appendChild(vt);var Et=function(){function $t(pe){if(!pe.tileData.length)return"continue";pe.tileData.forEach(function(Nt){var se=+pe.tileId.split(".")[0],Gt=document.createElement("g");if(Gt.setAttribute("transform","translate("+String(pe.rectGraphics.position.x)+","+String(pe.rectGraphics.position.y)+")scale("+String(pe.rectGraphics.scale.x)+","+String(pe.rectGraphics.scale.y)+")"),kt.appendChild(Gt),$.drawnRects[se]&&Nt.uid in $.drawnRects[se]){for(var gt=$.drawnRects[se][Nt.uid][0],fe=document.createElement("path"),Ct="M "+String(gt[0])+" "+String(gt[1]),at=2;at<gt.length;at+=2)Ct+=" L "+String(gt[at])+" "+String(gt[at+1]);var St=$.drawnRects[se][Nt.uid][1].fill,jt=$.options.fontColor!==void 0?(0,rt.colorToHex)($.options.fontColor):St;if(fe.setAttribute("d",Ct),fe.setAttribute("fill",St),fe.setAttribute("opacity",.3),fe.style.stroke=St,fe.style.strokeWidth="1px",Gt.appendChild(fe),pe.texts[Nt.uid]){var Zt=pe.texts[Nt.uid];if(!Zt.visible)return;var ue=document.createElement("g"),ce=document.createElement("text");vt.appendChild(ue),ue.appendChild(ce),ue.setAttribute("transform","translate("+String(Zt.x)+","+String(Zt.y)+")scale("+String(Zt.scale.x)+",1)"),ce.setAttribute("text-anchor","middle"),ce.setAttribute("font-family",yt.fontFamily),ce.setAttribute("font-size",+$.options.fontSize||yt.fontSize),ce.setAttribute("font-weight","bold"),ce.setAttribute("dy","5px"),ce.setAttribute("fill",jt),ce.setAttribute("stroke",yt.stroke),ce.setAttribute("stroke-width","0.4"),ce.setAttribute("text-shadow","0px 0px 2px grey"),ce.innerHTML=Zt.text}}})}return $t}(),Rt=!0,Vt=!1,ee=void 0;try{for(var Tt=(0,_.default)(this.visibleAndFetchedTiles()),_t;!(Rt=(_t=Tt.next()).done);Rt=!0)var zt=_t.value,oe=Et(zt)}catch($t){Vt=!0,ee=$t}finally{try{!Rt&&Tt.return&&Tt.return()}finally{if(Vt)throw ee}}return[lt,lt]}return q}()},{key:"movedY",value:function(){function q($){var J=this;(0,T.default)(this.fetchedTiles).forEach(function(lt){var ut=J.valueScaleTransform,ht=ut.y,bt=ut.k,kt=J.dimensions[1];ht+$/bt>-(bt-1)*kt&&ht+$/bt<0&&(J.valueScaleTransform=ut.translate(0,$/bt)),lt.rectGraphics.position.y=J.valueScaleTransform.y,J.vertY=J.valueScaleTransform.y}),this.animate()}return q}()},{key:"zoomedY",value:function(){function q($,J){var lt=this,ut=rt.trackUtils.zoomedY($,J,this.valueScaleTransform,this.dimensions[1]);this.valueScaleTransform=ut;var ht=ut.k,bt=ut.y,kt=!1;ht/=this.prevK,(ht>1.5||ht<1/1.5)&&(this.prevK*=ht,ht=1,kt=!0),this.vertK=ht,this.vertY=bt,(0,T.default)(this.fetchedTiles).forEach(function(vt){kt&&lt.renderTile(vt),vt.rectGraphics.scale.y=ht,vt.rectGraphics.position.y=bt}),this.draw(),this.animate()}return q}()},{key:"getMouseOverHtml",value:function(){function q($,J){if(!this.tilesetInfo)return"";var lt=this.calculateZoomLevel(),ut=[$,J];if(this.drawnRects[lt])for(var ht=(0,T.default)(this.drawnRects[lt]),bt=0;bt<ht.length;bt++){for(var kt=ht[bt][0].slice(0),vt=ht[bt][1].tile.rectGraphics.scale.x,Et=ht[bt][1].tile.rectGraphics.position.x,Rt=ht[bt][1].tile.rectGraphics.scale.y,Vt=ht[bt][1].tile.rectGraphics.position.y,ee=[];kt.length;){var Tt=kt.splice(0,2),_t=(0,y.default)(Tt,2),zt=_t[0],oe=_t[1];ee.push([zt*vt+Et,oe*Rt+Vt])}var $t=(0,z.default)(ee,ut);if($t===-1){var pe=ht[bt][1].value.fields;return pe.join(" ")}}return""}return q}()}]),mt}(st.default);r.default=pt},function(f,r,t){f.exports={init:x,sweepBipartite:T,sweepComplete:E,scanBipartite:_,scanComplete:A};var n=t(257),a=t(258),l=t(619),e=1<<28,o=1024,s=n.mallocInt32(o),u=n.mallocInt32(o),c=n.mallocInt32(o),m=n.mallocInt32(o),p=n.mallocInt32(o),h=n.mallocInt32(o),v=n.mallocDouble(o*8);function x(C){var S=a.nextPow2(C);s.length<S&&(n.free(s),s=n.mallocInt32(S)),u.length<S&&(n.free(u),u=n.mallocInt32(S)),c.length<S&&(n.free(c),c=n.mallocInt32(S)),m.length<S&&(n.free(m),m=n.mallocInt32(S)),p.length<S&&(n.free(p),p=n.mallocInt32(S)),h.length<S&&(n.free(h),h=n.mallocInt32(S));var P=8*S;v.length<P&&(n.free(v),v=n.mallocDouble(P))}function y(C,S,P,O){var R=S[O],I=C[P-1];C[R]=I,S[I]=R}function k(C,S,P,O){C[P]=O,S[O]=P}function T(C,S,P,O,R,I,M,H,L,D){for(var j=0,W=2*C,B=C-1,F=W-1,N=P;N<O;++N){var X=I[N],G=W*N;v[j++]=R[G+B],v[j++]=-(X+1),v[j++]=R[G+F],v[j++]=X}for(var N=M;N<H;++N){var X=D[N]+e,V=W*N;v[j++]=L[V+B],v[j++]=-X,v[j++]=L[V+F],v[j++]=X}var z=j>>>1;l(v,z);for(var U=0,Z=0,N=0;N<z;++N){var st=v[2*N+1]|0;if(st>=e)st=st-e|0,y(c,m,Z--,st);else if(st>=0)y(s,u,U--,st);else if(st<=-e){st=-st-e|0;for(var Y=0;Y<U;++Y){var rt=S(s[Y],st);if(rt!==void 0)return rt}k(c,m,Z++,st)}else{st=-st-1|0;for(var Y=0;Y<Z;++Y){var rt=S(st,c[Y]);if(rt!==void 0)return rt}k(s,u,U++,st)}}}function E(C,S,P,O,R,I,M,H,L,D){for(var j=0,W=2*C,B=C-1,F=W-1,N=P;N<O;++N){var X=I[N]+1<<1,G=W*N;v[j++]=R[G+B],v[j++]=-X,v[j++]=R[G+F],v[j++]=X}for(var N=M;N<H;++N){var X=D[N]+1<<1,V=W*N;v[j++]=L[V+B],v[j++]=-X|1,v[j++]=L[V+F],v[j++]=X|1}var z=j>>>1;l(v,z);for(var U=0,Z=0,st=0,N=0;N<z;++N){var Y=v[2*N+1]|0,rt=Y&1;if(N<z-1&&Y>>1===v[2*N+3]>>1&&(rt=2,N+=1),Y<0){for(var ft=-(Y>>1)-1,tt=0;tt<st;++tt){var K=S(p[tt],ft);if(K!==void 0)return K}if(rt!==0)for(var tt=0;tt<U;++tt){var K=S(s[tt],ft);if(K!==void 0)return K}if(rt!==1)for(var tt=0;tt<Z;++tt){var K=S(c[tt],ft);if(K!==void 0)return K}rt===0?k(s,u,U++,ft):rt===1?k(c,m,Z++,ft):rt===2&&k(p,h,st++,ft)}else{var ft=(Y>>1)-1;rt===0?y(s,u,U--,ft):rt===1?y(c,m,Z--,ft):rt===2&&y(p,h,st--,ft)}}}function _(C,S,P,O,R,I,M,H,L,D,j,W){var B=0,F=2*C,N=S,X=S+C,G=1,V=1;O?V=e:G=e;for(var z=R;z<I;++z){var U=z+G,Z=F*z;v[B++]=M[Z+N],v[B++]=-U,v[B++]=M[Z+X],v[B++]=U}for(var z=L;z<D;++z){var U=z+V,st=F*z;v[B++]=j[st+N],v[B++]=-U}var Y=B>>>1;l(v,Y);for(var rt=0,z=0;z<Y;++z){var ft=v[2*z+1]|0;if(ft<0){var U=-ft,tt=!1;if(U>=e?(tt=!O,U-=e):(tt=!!O,U-=1),tt)k(s,u,rt++,U);else{var K=W[U],Q=F*U,ct=j[Q+S+1],nt=j[Q+S+1+C];t:for(var ot=0;ot<rt;++ot){var yt=s[ot],pt=F*yt;if(!(nt<M[pt+S+1]||M[pt+S+1+C]<ct)){for(var dt=S+2;dt<C;++dt)if(j[Q+dt+C]<M[pt+dt]||M[pt+dt+C]<j[Q+dt])continue t;var mt=H[yt],q;if(O?q=P(K,mt):q=P(mt,K),q!==void 0)return q}}}}else y(s,u,rt--,ft-G)}}function A(C,S,P,O,R,I,M,H,L,D,j){for(var W=0,B=2*C,F=S,N=S+C,X=O;X<R;++X){var G=X+e,V=B*X;v[W++]=I[V+F],v[W++]=-G,v[W++]=I[V+N],v[W++]=G}for(var X=H;X<L;++X){var G=X+1,z=B*X;v[W++]=D[z+F],v[W++]=-G}var U=W>>>1;l(v,U);for(var Z=0,X=0;X<U;++X){var st=v[2*X+1]|0;if(st<0){var G=-st;if(G>=e)s[Z++]=G-e;else{G-=1;var Y=j[G],rt=B*G,ft=D[rt+S+1],tt=D[rt+S+1+C];t:for(var K=0;K<Z;++K){var Q=s[K],ct=M[Q];if(ct===Y)break;var nt=B*Q;if(!(tt<I[nt+S+1]||I[nt+S+1+C]<ft)){for(var ot=S+2;ot<C;++ot)if(D[rt+ot+C]<I[nt+ot]||I[nt+ot+C]<D[rt+ot])continue t;var yt=P(ct,Y);if(yt!==void 0)return yt}}}}else{for(var G=st-e,K=Z-1;K>=0;--K)if(s[K]===G){for(var ot=K+1;ot<Z;++ot)s[ot-1]=s[ot];break}--Z}}}},function(f,r,t){f.exports=a;var n="for(var j=2*a,k=j*c,l=k,m=c,n=b,o=a+b,p=c;d>p;++p,k+=j){var _;if($)if(m===p)m+=1,l+=j;else{for(var s=0;j>s;++s){var t=e[k+s];e[k+s]=e[l],e[l++]=t}var u=f[p];f[p]=f[m],f[m++]=u}}return m";function a(l,e){var o="abcdef".split("").concat(e),s=[];return l.indexOf("lo")>=0&&s.push("lo=e[k+n]"),l.indexOf("hi")>=0&&s.push("hi=e[k+o]"),o.push(n.replace("_",s.join()).replace("$",l)),Function.apply(void 0,o)}},function(f,r,t){f.exports=a;var n=t(623);function a(l,e){for(var o=e[0],s=e[1],u=l.length,c=1,m=u,p=0,h=u-1;p<m;h=p++){var v=l[p],x=l[h],y=v[1],k=x[1];if(k<y){if(k<s&&s<y){var T=n(v,x,e);if(T===0)return 0;c^=0<T|0}else if(s===y){var E=l[(p+1)%u],_=E[1];if(y<_){var T=n(v,x,e);if(T===0)return 0;c^=0<T|0}}}else if(y<k){if(y<s&&s<k){var T=n(v,x,e);if(T===0)return 0;c^=T<0|0}else if(s===y){var E=l[(p+1)%u],_=E[1];if(_<y){var T=n(v,x,e);if(T===0)return 0;c^=T<0|0}}}else if(s===y){var A=Math.min(v[0],x[0]),C=Math.max(v[0],x[0]);if(p===0){for(;h>0;){var S=(h+u-1)%u,P=l[S];if(P[1]!==s)break;var O=P[0];A=Math.min(A,O),C=Math.max(C,O),h=S}if(h===0)return A<=o&&o<=C?0:1;m=h+1}for(var R=l[(h+u-1)%u][1];p+1<m;){var P=l[p+1];if(P[1]!==s)break;var O=P[0];A=Math.min(A,O),C=Math.max(C,O),p+=1}if(A<=o&&o<=C)return 0;var I=l[(p+1)%u][1];o<A&&R<s!=I<s&&(c^=1)}}return 2*c-1}},function(f,r,t){f.exports=a;var n=+(Math.pow(2,27)+1);function a(l,e,o){var s=l*e,u=n*l,c=u-l,m=u-c,p=l-m,h=n*e,v=h-e,x=h-v,y=e-x,k=s-m*x,T=k-p*x,E=T-m*y,_=p*y-E;return o?(o[0]=_,o[1]=s,o):[_,s]}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(19),a=C(n),l=t(30),e=C(l),o=t(5),s=C(o),u=t(3),c=C(u),m=t(4),p=C(m),h=t(6),v=C(h),x=t(14),y=C(x),k=t(7),T=C(k),E=t(40),_=C(E),A=t(10);function C(M){return M&&M.__esModule?M:{default:M}}var S=function(M,H,L,D,j){j.drawRect(M,H,L,D)},P=function(M,H,L,D,j){var W=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},B=W.fill,F=B===void 0?0:B,N=W.fillOpacity,X=N===void 0?0:N,G=W.stroke,V=G===void 0?0:G,z=W.strokeWidth,U=z===void 0?0:z,Z=W.strokeOpacity,st=Z===void 0?0:Z,Y=document.createElement("rect");Y.setAttribute("x",M),Y.setAttribute("y",H),Y.setAttribute("width",L),Y.setAttribute("height",D),Y.setAttribute("fill","#"+String((0,A.decToHexStr)(F))),Y.setAttribute("fill-opacity",X),Y.setAttribute("stroke","#"+String((0,A.decToHexStr)(V))),Y.setAttribute("stroke-opacity",st),Y.setAttribute("stroke-width",U),j.appendChild(Y)},O=function(M,H,L,D,j,W){j instanceof HTMLElement?P(M,H,L,D,j,W):S(M,H,L,D,j)},R=function(M,H,L,D,j,W,B,F){var N=arguments.length>8&&arguments[8]!==void 0?arguments[8]:{},X=N.isVertical,G=X===void 0?!1:X,V=N.svg,z=V===void 0?null:V,U=H,Z=L,st=D,Y=j,rt=F.width*2>D?D/2:F.width,ft=F.width*2>j?j/2:F.width,tt=z||M,K={fill:0,fillOpacity:0,stroke:0,strokeOpacity:0,strokeWidth:1};if(F.positions&&F.positions.length?(M.lineStyle(1,0,0),M.beginFill(F.color,F.opacity),K.fill=F.color,K.fillOpacity=F.opacity,K.stroke=0,K.strokeOpacity=0,K.strokeWidth=1,F.positions.forEach(function(nt){nt==="top"&&!G||nt==="left"&&G?O(H-rt,L-ft,D+rt*2,ft,tt,K):nt==="bottom"&&!G||nt==="right"&&G?O(H-rt,L+j,D+rt*2,ft,tt,K):nt==="left"&&!G||nt==="top"&&G?O(H-rt,L-ft,rt,j+ft*2,tt,K):(nt==="right"&&!G||nt==="bottom"&&G)&&O(H+D,L-ft,rt,j+ft*2,tt,K)})):F.width>0&&F.opacity>0&&(M.lineStyle(F.width,F.color,F.opacity),M.beginFill(0,0),K.fill=0,K.fillOpacity=0,K.stroke=F.color,K.strokeOpacity=F.opacity,K.strokeWidth=F.width,O(H-rt,L-ft,D+rt*2,j+ft*2,tt,K)),B.positions&&B.positions.length){M.lineStyle(1,0,0),M.beginFill(B.color,B.opacity);var Q=B.width*2>D?D/2:B.width,ct=B.width*2>j?j/2:B.width;K.fill=B.color,K.fillOpacity=B.opacity,K.stroke=0,K.strokeOpacity=0,K.strokeWidth=1,B.positions.forEach(function(nt){nt==="top"&&!G||nt==="left"&&G?(O(H,L,D,ct,tt,K),Z+=ct,Y-=ct):nt==="bottom"&&!G||nt==="right"&&G?(O(H,L+j-ct,D,ct,tt,K),Y-=ct):nt==="left"&&!G||nt==="top"&&G?(O(H,L,Q,j,tt,K),U+=Q,st-=Q):(nt==="right"&&!G||nt==="bottom"&&G)&&(O(H+D-Q,L,Q,j,tt,K),st-=Q)})}else M.lineStyle(B.width,B.color,B.opacity),K.stroke=B.color,K.strokeOpacity=B.opacity,K.strokeWidth=B.width;M.beginFill(W.color,W.opacity),K.fill=W.color,K.fillOpacity=W.opacity,O(U,Z,st,Y,tt,K)},I=function(M){(0,T.default)(H,M);function H(L,D){(0,c.default)(this,H);var j=(0,v.default)(this,(H.__proto__||(0,s.default)(H)).call(this,L,D));return j.options=D||{},j.drawnRects={},j}return(0,p.default)(H,[{key:"drawHorizontalOverlay",value:function(){function L(D,j,W){var B=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,F=arguments[4],N=arguments[5],X=arguments[6],G=arguments[7];if(!(!W||W.length<2)){var V=this.position[0]+j.left+this._xScale(W[0]),z=this.position[1]+j.top,U=j.height,Z=this._xScale(W[1])-this._xScale(W[0]);Z<B&&(V-=(B-Z)/2,Z=B),R(D,V,z,Z,U,F,N,X,G)}}return L}()},{key:"drawVerticalOverlay",value:function(){function L(D,j,W){var B=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,F=arguments[4],N=arguments[5],X=arguments[6],G=arguments.length>7&&arguments[7]!==void 0?arguments[7]:{};if(!(!W||W.length<2)){var V=this.position[0]+j.left,z=this.position[1]+j.top+this._yScale(W.length>=4?W[2]:W[0]),U=this.position[1]+j.top,Z=this.position[1]+j.top+j.height;if(!(z>Z)){z<U&&(z=U);var st=j.width,Y=this._yScale(W.length>=4?W[3]:W[1])-z+j.top+this.position[1];Y<0||(z+Y>Z&&(Y+=Z-(z+Y)),Y<B&&(z-=(B-Y)/2,Y=B),G.isVertical=!0,R(D,V,z,st,Y,F,N,X,G))}}}return L}()},{key:"draw",value:function(){function L(D){var j=this;(0,y.default)(H.prototype.__proto__||(0,s.default)(H.prototype),"draw",this).call(this);var W=this.pMain,B={color:(0,A.colorToHex)(this.options.fill||this.options.fillColor||"blue"),opacity:(0,e.default)(+this.options.fillOpacity)?.3:+this.options.fillOpacity},F={color:(0,A.colorToHex)(this.options.stroke||"blue"),opacity:+this.options.strokeOpacity||1,width:+this.options.strokeWidth||0,positions:!this.options.strokePos||Array.isArray(this.options.strokePos)?this.options.strokePos:[this.options.strokePos]},N={color:(0,A.colorToHex)(this.options.outline||"white"),opacity:+this.options.outlineOpacity||1,width:+this.options.outlineWidth||0,positions:!this.options.outlinePos||Array.isArray(this.options.outlinePos)?this.options.outlinePos:[this.options.outlinePos]};(!D||!D.svg)&&W.clear(),W.lineStyle(F.width,F,+!F.positions*F.opacity),W.beginFill(B.color,B.opacity);var X=Math.max(0,+this.options.minWidth||0),G=Math.max(0,+this.options.minHeight||0);Array.isArray(this.options.extent)&&this.options.orientationsAndPositions.forEach(function(V){(V.orientation==="1d-horizontal"||V.orientation==="2d")&&j.options.extent.forEach(function(z){return j.drawHorizontalOverlay(W,V.position,z,X,B,F,N,D)}),(V.orientation==="1d-vertical"||V.orientation==="2d")&&j.options.extent.forEach(function(z){return j.drawVerticalOverlay(W,V.position,z,G,B,F,N,D)})})}return L}()},{key:"zoomed",value:function(){function L(D,j){this.xScale(D),this.yScale(j),this.draw()}return L}()},{key:"setPosition",value:function(){function L(D){(0,y.default)(H.prototype.__proto__||(0,s.default)(H.prototype),"setPosition",this).call(this,D),this.draw()}return L}()},{key:"setDimensions",value:function(){function L(D){(0,y.default)(H.prototype.__proto__||(0,s.default)(H.prototype),"setDimensions",this).call(this,D),this.draw()}return L}()},{key:"exportSVG",value:function(){function L(){var D=null,j=null;if((0,y.default)(H.prototype.__proto__||(0,s.default)(H.prototype),"exportSVG",this)){var W=(0,y.default)(H.prototype.__proto__||(0,s.default)(H.prototype),"exportSVG",this).call(this),B=(0,a.default)(W,2);j=B[0],D=B[1]}else j=document.createElement("g"),D=j;var F=document.createElement("g");return D.appendChild(F),this.draw({svg:F}),[j,D]}return L}()}]),H}(_.default);r.default=I},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(19),a=S(n),l=t(17),e=S(l),o=t(5),s=S(o),u=t(3),c=S(u),m=t(4),p=S(m),h=t(6),v=S(h),x=t(14),y=S(x),k=t(7),T=S(k),E=t(28),_=t(116),A=S(_),C=t(10);function S(O){return O&&O.__esModule?O:{default:O}}var P=function(O){(0,T.default)(R,O);function R(){return(0,c.default)(this,R),(0,v.default)(this,(R.__proto__||(0,s.default)(R)).apply(this,arguments))}return(0,p.default)(R,[{key:"initTile",value:function(){function I(M){M.barXValues=new Array(M.tileData.dense.length),M.barYValues=new Array(M.tileData.dense.length),M.barWidths=new Array(M.tileData.dense.length),M.barHeights=new Array(M.tileData.dense.length),(0,y.default)(R.prototype.__proto__||(0,s.default)(R.prototype),"initTile",this).call(this,M)}return I}()},{key:"drawTile",value:function(){function I(M){if(M.graphics&&!(!M.tileData||!M.tileData.dense)){var H=M.graphics,L=this.getTilePosAndDimensions(M.tileData.zoomLevel,M.tileData.tilePos),D=L.tileX,j=L.tileWidth,W=M.tileData.dense;if(W.length!==0){var B=0;if(this.valueScale=null,this.options.valueScaling==="log"){var F=this.medianVisibleValue;this.medianVisibleValue||(F=this.minValue()),this.valueScale=(0,E.scaleLog)().domain([F,this.maxValue()+F]).range([this.dimensions[1],0]),B=F}else this.valueScale=(0,E.scaleLinear)().domain([this.minValue(),this.maxValue()]).range([this.dimensions[1],0]);if(H.clear(),this.drawAxis(this.valueScale),this.options.valueScaling==="log"&&this.valueScale.domain()[1]<0){console.warn("Negative values present when using a log scale",this.valueScale.domain());return}var N=(0,C.colorToHex)(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue"),X=(0,E.scaleLinear)().domain([0,this.tilesetInfo.tile_size]).range([D,D+j]),G=0;H.lineStyle(G,N,1);var V=this.options.pointSize?this.options.pointSize:3,z=(0,C.colorToHex)(this.options.pointColor?this.options.pointColor:"red");H.beginFill(z,1),M.drawnAtScale=this._xScale.copy();for(var U=0;U<W.length;U++){var Z=this._xScale(X(U)),st=this.valueScale(W[U]+B);if(M.barXValues[U]=Z-V/2/this.pMain.scale.x,M.barYValues[U]=st-V/2/this.pMain.scale.y,M.barWidths[U]=V/this.pMain.scale.x,M.barHeights[U]=V/this.pMain.scale.y,X(U)>this.tilesetInfo.max_pos[0])break;H.drawRect(Z-V/2/this.pMain.scale.x,st-V/2/this.pMain.scale.y,V/this.pMain.scale.x,V/this.pMain.scale.y)}}}}return I}()},{key:"draw",value:function(){function I(){(0,y.default)(R.prototype.__proto__||(0,s.default)(R.prototype),"draw",this).call(this);var M=!0,H=!1,L=void 0;try{for(var D=(0,e.default)((0,C.dictValues)(this.fetchedTiles)),j;!(M=(j=D.next()).done);M=!0){var W=j.value,B=(W.drawnAtScale.domain()[1]-W.drawnAtScale.domain()[0])/(this._xScale.domain()[1]-this._xScale.domain()[0]),F=this._xScale.domain().map(W.drawnAtScale),N=F[0];W.graphics.scale.x=B,W.graphics.position.x=-N*B}}catch(X){H=!0,L=X}finally{try{!M&&D.return&&D.return()}finally{if(H)throw L}}}return I}()},{key:"zoomed",value:function(){function I(M,H,L,D,j){(0,y.default)(R.prototype.__proto__||(0,s.default)(R.prototype),"zoomed",this).call(this,M,H)}return I}()},{key:"exportSVG",value:function(){function I(){var M=null,H=null,L=(0,y.default)(R.prototype.__proto__||(0,s.default)(R.prototype),"superSVG",this).call(this),D=(0,a.default)(L,2);H=D[0],M=D[1],H.setAttribute("class","exported-line-track");var j=document.createElement("g");M.appendChild(j),j.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")");var W=!0,B=!1,F=void 0;try{for(var N=(0,e.default)(this.visibleAndFetchedTiles()),X;!(W=(X=N.next()).done);W=!0)for(var G=X.value,V=0;V<G.barXValues.length;V++){var z=document.createElement("rect"),U=this.options.lineStrokeColor||"blue",Z=this.options.pointColor||"red";z.setAttribute("fill",Z),z.setAttribute("stroke",U),z.setAttribute("stroke-width",0),z.setAttribute("x",G.barXValues[V]),z.setAttribute("y",G.barYValues[V]),z.setAttribute("height",G.barHeights[V]),z.setAttribute("width",G.barWidths[V]),j.appendChild(z)}}catch(ft){B=!0,F=ft}finally{try{!W&&N.return&&N.return()}finally{if(B)throw F}}var st=document.createElement("g");if(st.setAttribute("id","axis"),H.appendChild(st),st.setAttribute("transform","translate("+String(this.axis.pAxis.position.x)+", "+String(this.axis.pAxis.position.y)+")"),this.options.axisPositionHorizontal==="left"||this.options.axisPositionVertical==="top"){var Y=this.axis.exportAxisLeftSVG(this.valueScale,this.dimensions[1]);st.appendChild(Y)}else if(this.options.axisPositionHorizontal==="right"||this.options.axisPositionVertical==="bottom"){var rt=this.axis.exportAxisRightSVG(this.valueScale,this.dimensions[1]);st.appendChild(rt)}return[H,M]}return I}()}]),R}(A.default);r.default=P},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(30),a=X(n),l=t(37),e=X(l),o=t(94),s=X(o),u=t(18),c=X(u),m=t(34),p=X(m),h=t(35),v=X(h),x=t(5),y=X(x),k=t(3),T=X(k),E=t(4),_=X(E),A=t(6),C=X(A),S=t(14),P=X(S),O=t(7),R=X(O),I=t(20),M=t(135),H=X(M),L=t(24),D=t(139),j=X(D),W=t(628),B=X(W),F=t(181),N=X(F);function X(V){return V&&V.__esModule?V:{default:V}}var G=function(V){(0,R.default)(z,V);function z(U,Z){(0,T.default)(this,z);var st=(0,C.default)(this,(z.__proto__||(0,y.default)(z)).call(this,U,Z));return st.pMain=st.pMobile,st.continuousScaling=!1,st.updateDataFetcher(Z),st}return(0,_.default)(z,[{key:"updateDataFetcher",value:function(){function U(Z){if(Z&&Z.selectRows&&Z.selectRowsAggregationMethod==="server"){var st=this.pubSub,Y=this.dataFetcher,rt=Y.dataConfig.options,ft={aggGroups:Z.selectRows,aggFunc:Z.selectRowsAggregationMode};if((0,v.default)(rt)!==(0,v.default)(ft)){var tt=(0,p.default)({},Y.dataConfig,{options:ft});this.dataFetcher=new Y.constructor(tt,st),this.dataFetcher.dataConfig.tilesetUid&&this.fetchNewTiles((0,c.default)(this.fetchedTiles).map(function(K){return{tileId:K,remoteId:K}}))}}}return U}()},{key:"rerender",value:function(){function U(Z,st){this.updateDataFetcher(Z),(0,P.default)(z.prototype.__proto__||(0,y.default)(z.prototype),"rerender",this).call(this,Z,st),Z.selectRows&&(this.selectRowsCumWeights=(0,B.default)(Z.selectRows,Z.selectRowsAggregationWithRelativeHeight))}return U}()},{key:"tileDataToCanvas",value:function(){function U(Z){var st=document.createElement("canvas");this.options.selectRows&&this.tilesetInfo.shape?(st.width=this.tilesetInfo.shape[0],st.height=(0,j.default)(this.options.selectRows,this.options.selectRowsAggregationWithRelativeHeight)):this.tilesetInfo.shape?(st.width=this.tilesetInfo.shape[0],st.height=this.tilesetInfo.shape[1]):(st.width=this.tilesetInfo.tile_size,st.height=1);var Y=st.getContext("2d");if(Y.fillStyle="transparent",Y.fillRect(0,0,st.width,st.height),Z.length!==0&&Z.length===4*st.width*st.height){var rt=new ImageData(Z,st.width,st.height);Y.putImageData(rt,0,0)}else console.warn("HorizontalMultivecTrack: pixData has an incorrect length.");return st}return U}()},{key:"setSpriteProperties",value:function(){function U(Z,st,Y){var rt=this.getTilePosAndDimensions(st,Y,this.tilesetInfo.tile_size),ft=rt.tileX,tt=rt.tileWidth,K=ft+tt;Z.width=this._refXScale(K)-this._refXScale(ft),Z.height=this.dimensions[1],Z.x=this._refXScale(ft),Z.y=0}return U}()},{key:"leftTrackZoomed",value:function(){function U(Z,st,Y,rt,ft){var tt=this._xScale(0)-Y*this._refXScale(0);this.pMobile.position.x=tt+this.position[0],this.pMobile.position.y=this.position[1],this.pMobile.scale.x=Y,this.pMobile.scale.y=1}return U}()},{key:"zoomed",value:function(){function U(Z,st,Y,rt){(0,P.default)(z.prototype.__proto__||(0,y.default)(z.prototype),"zoomed",this).call(this,Z,st),this.pMain.position.x=rt,this.pMain.position.y=this.position[1],this.pMain.scale.x=Y,this.pMain.scale.y=1,this.drawColorbar()}return U}()},{key:"calculateVisibleTiles",value:function(){function U(){var Z=this;if(this.tilesetInfo){if(this.zoomLevel=this.calculateZoomLevel(),this.tilesetInfo.resolutions){var st=this.tilesetInfo.resolutions.map(function(rt){return+rt}).sort(function(rt,ft){return ft-rt});this.xTiles=L.tileProxy.calculateTilesFromResolution(st[this.zoomLevel],this._xScale,this.tilesetInfo.min_pos[0],null,this.tilesetInfo.tile_size)}else this.xTiles=L.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);var Y=this.xTiles.map(function(rt){return[Z.zoomLevel,rt]});this.setVisibleTiles(Y)}}return U}()},{key:"calculateZoomLevel",value:function(){function U(){if(this.tilesetInfo){var Z=this.tilesetInfo.min_pos[0],st=null;return this.tilesetInfo.resolutions?st=L.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,Z):st=L.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),st}}return U}()},{key:"tileToLocalId",value:function(){function U(Z){return Z.join(".")}return U}()},{key:"tileToRemoteId",value:function(){function U(Z){return Z.join(".")}return U}()},{key:"getTilePosAtPosition",value:function(){function U(Z,st){if(this.tilesetInfo){var Y=this.calculateZoomLevel(),rt=L.tileProxy.calculateTileWidth(this.tilesetInfo,Y,this.tilesetInfo.tile_size),ft=this._xScale.invert(Z)/rt;return[Y,Math.floor(ft)]}}return U}()},{key:"getVisibleData",value:function(){function U(Z,st){var Y=this,rt=this.calculateZoomLevel(),ft=L.tileProxy.calculateTileWidth(this.tilesetInfo,rt,this.tilesetInfo.tile_size),tt=this._xScale.invert(Z)/ft,K=this.tilesetInfo.shape?this.tilesetInfo.shape[1]:1;this.options.selectRows&&(K=(0,j.default)(this.options.selectRows,this.options.selectRowsAggregationWithRelativeHeight));var Q=this.tilesetInfo.tile_size*(tt-Math.floor(tt)),ct=st/this.dimensions[1],nt=ct*K,ot=Math.floor(nt),yt=void 0;this.options.selectRows&&(this.options.selectRowsAggregationWithRelativeHeight&&(ot=this.selectRowsCumWeights.findIndex(function(ut,ht){return ct<=ut&&(ht===Y.selectRowsCumWeights.length-1||Y.selectRowsCumWeights[ht+1]>=ct)})),yt=this.options.selectRows[ot]);var pt=this.tileToLocalId([rt,Math.floor(tt)]),dt=this.fetchedTiles[pt],mt="";if(dt){this.tilesetInfo.shape||(Q=dt.tileData.dense.length*(tt-Math.floor(tt)));var q=null;if(this.tilesetInfo.shape?Array.isArray(yt)&&this.options.selectRowsAggregationMethod==="client"?q=yt.map(function(ut){return Y.tilesetInfo.shape[0]*ut+Math.floor(Q)}):yt&&this.options.selectRowsAggregationMethod==="client"?q=this.tilesetInfo.shape[0]*yt+Math.floor(Q):q=this.tilesetInfo.shape[0]*ot+Math.floor(Q):q=dt.tileData.dense.length*ot+Math.floor(Q),Array.isArray(q)){var $=(0,N.default)(this.options.selectRowsAggregationMode),J=q.map(function(ut){return dt.tileData.dense[ut]});mt=(0,I.format)(".3f")($(J)),mt+="<br/>",mt+=String(q.length)+"-item "+String(this.options.selectRowsAggregationMode)}else mt=(0,I.format)(".3f")(dt.tileData.dense[q]),Array.isArray(yt)&&(mt+="<br/>",mt+=String(yt.length)+"-item "+String(this.options.selectRowsAggregationMode))}if(this.tilesetInfo.row_infos){mt+="<br/>";var lt="";this.options.selectRows&&!Array.isArray(yt)?lt=this.tilesetInfo.row_infos[yt]:ot>=0&&ot<this.tilesetInfo.row_infos.length&&(lt=this.tilesetInfo.row_infos[ot]),(typeof lt>"u"?"undefined":(0,s.default)(lt))==="object"?mt+=(0,e.default)(lt).join("	"):mt+=lt}return""+String(mt)}return U}()},{key:"getMouseOverHtml",value:function(){function U(Z,st){if(!this.tilesetInfo)return"";var Y=this.getTilePosAtPosition(Z,st),rt="";if(this.options&&this.options.heatmapValueScaling&&this.options.heatmapValueScaling==="categorical"&&this.options.colorRange){var ft=this.getVisibleData(Z,st),tt=ft.split("<br/>"),K=this.options.colorRange[parseInt(tt[0],10)-1],Q=tt[1];if((0,a.default)(K)||K==="NaN"||typeof K>"u"||K==="undefined")return"";rt=`<svg width="10" height="10" style="position:relative;bottom:1px"><rect width="10" height="10" rx="2" ry="2"
                 style="fill:`+String(K)+';stroke:black;stroke-width:2;"></svg> '+String(Q)}else rt+="Data value: "+String(this.getVisibleData(Z,st))+"</br>",rt+="Zoom level: "+String(Y[0])+" tile position: "+String(Y[1]);return rt}return U}()}]),z}(H.default);r.default=G},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(5),a=k(n),l=t(3),e=k(l),o=t(4),s=k(o),u=t(6),c=k(u),m=t(7),p=k(m),h=t(28),v=t(259),x=k(v),y=t(10);function k(E){return E&&E.__esModule?E:{default:E}}var T=function(E){(0,p.default)(_,E);function _(){return(0,e.default)(this,_),(0,c.default)(this,(_.__proto__||(0,a.default)(_)).apply(this,arguments))}return(0,s.default)(_,[{key:"drawTile",value:function(){function A(C){this.renderTile(C)}return A}()},{key:"renderTile",value:function(){function A(C){if(C.graphics){var S=C.graphics,P=this.getTilePosAndDimensions(C.tileData.zoomLevel,C.tileData.tilePos,this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension),O=P.tileX,R=P.tileWidth,I=C.tileData.dense;if(I.length!==0){var M=0;if(this.valueScale=null,this.options.valueScaling==="log"){var H=this.medianVisibleValue;this.medianVisibleValue||(H=this.minValue()),this.valueScale=(0,h.scaleLog)().domain([H,this.maxValue()+H]).range([this.dimensions[1],0]),M=H}else this.valueScale=(0,h.scaleLinear)().domain([this.minValue(),this.maxValue()]).range([this.dimensions[1],0]);if(S.clear(),this.drawAxis(this.valueScale),this.options.valueScaling==="log"&&this.valueScale.domain()[1]<0){console.warn("Negative values present when using a log scale",this.valueScale.domain());return}var L=(0,y.colorToHex)(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue"),D=(0,h.scaleLinear)().domain([0,this.tilesetInfo.tile_size]).range([O,O+R]),j=0;S.lineStyle(j,L,1);var W=this.options.barFillColorTop?this.options.barFillColorTop:"green",B=this.options.barFillColorBottom?this.options.barFillColorBottom:"red",F=(0,y.colorToHex)(W),N=(0,y.colorToHex)(B),X="barOpacity"in this.options?this.options.barOpacity:1;C.drawnAtScale=this._xScale.copy();var G=0;this.options.valueScaling==="log"?G=this.valueScale(1):G=this.valueScale(0),delete C.svgData;for(var V=0;V<I.length;V++){var z=this._xScale(D(V)),U=this.valueScale(I[V]+M),Z=this._xScale(D(V+1))-z;if(U>G?(S.beginFill(N,X),this.addSVGInfo(C,z,G,Z,U-G,B)):(S.beginFill(F,X),this.addSVGInfo(C,z,U,Z,G-U,W)),D(V)>this.tilesetInfo.max_pos[0])break;S.drawRect(z,C.svgData.barYValues[V],Z,C.svgData.barHeights[V])}}}}return A}()}]),_}(x.default);r.default=T},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(30),a=P(n),l=t(19),e=P(l),o=t(5),s=P(o),u=t(3),c=P(u),m=t(4),p=P(m),h=t(6),v=P(h),x=t(14),y=P(x),k=t(7),T=P(k),E=t(28),_=t(116),A=P(_),C=t(10),S=t(11);function P(R){return R&&R.__esModule?R:{default:R}}var O=function(R){(0,T.default)(I,R);function I(M,H){(0,c.default)(this,I);var L=(0,v.default)(this,(I.__proto__||(0,s.default)(I)).call(this,M,H));return L.setColorScale(H.colorRange),L.opacity=H.opacity||1,L}return(0,p.default)(I,[{key:"setColorScale",value:function(){function M(H){this.colorScale=H?(0,C.colorDomainToRgbaArray)(H):S.HEATED_OBJECT_MAP,this.colorScale=this.colorScale.map(function(L){return L.map(function(D){return D/255})})}return M}()},{key:"rerender",value:function(){function M(H){H&&H.colorRange&&this.setColorScale(H.colorRange),this.opacity=H.opacity||1,(0,y.default)(I.prototype.__proto__||(0,s.default)(I.prototype),"rerender",this).call(this,H)}return M}()},{key:"drawAxis",value:function(){function M(){}return M}()},{key:"drawTile",value:function(){function M(H){if(!(!H.graphics||!H.tileData||!H.tileData.dense)){var L=H.graphics,D=this.getTilePosAndDimensions(H.tileData.zoomLevel,H.tileData.tilePos),j=D.tileX,W=D.tileWidth,B=H.tileData.dense;if(B.length!==0){var F=this.makeValueScale(this.minValue(),this.medianVisibleValue,this.maxValue()),N=(0,e.default)(F,2),X=N[0],G=N[1];if(X.range([254,0]).clamp(!0),this.valueScale=X,L.clear(),this.options.valueScaling==="log"&&this.valueScale.domain()[1]<0){console.warn("Negative values present when using a log scale",this.valueScale.domain());return}var V=(0,E.scaleLinear)().domain([0,this.tilesetInfo.tile_size]).range([j,j+W]);L.lineStyle(0,0,0);for(var z=0;z<B.length;z++)if(!(0,a.default)(B[z])){var U=Math.round(this.valueScale(B[z]+G));if(!(0,a.default)(+U)){var Z=this._xScale(V(z)),st=this._xScale(V(z+1))-Z,Y=this.dimensions[1];H.xValues[z]=Z,H.yValues[z]=U;var rt=this.colorScale[U],ft=S.GLOBALS.PIXI.utils.rgb2hex(rt);if(L.beginFill(ft,this.opacity),z!==0){if(V(z)>this.tilesetInfo.max_pos[0])break;B[z]!==0&&L.drawRect(Z,0,st,Y)}}}}}}return M}()}]),I}(A.default);r.default=O},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(25),a=C(n),l=t(38),e=C(l),o=t(5),s=C(o),u=t(3),c=C(u),m=t(4),p=C(m),h=t(6),v=C(h),x=t(7),y=C(x),k=t(28),T=t(8),E=t(10),_=t(115),A=C(_);function C(P){return P&&P.__esModule?P:{default:P}}var S=function(P){(0,y.default)(O,P);function O(R,I){(0,c.default)(this,O);var M=(0,v.default)(this,(O.__proto__||(0,s.default)(O)).call(this,R,I));return M.seen=new e.default,M.pMain=M.pMobile,M.rows=[],M}return(0,p.default)(O,[{key:"uid",value:function(){function R(I){return I[I.length-2]}return R}()},{key:"segmentOverlap",value:function(){function R(I,M){}return R}()},{key:"drawAll",value:function(){function R(I){var M=this;this.pMain.clear();var H=new e.default,L=I.map(function(j){return H.has(M.uid(j))?null:(H.add(M.uid(j)),{from:+j[1],to:+j[2],type:j[4],uid:M.uid(j)})}).filter(function(j){return j}),D=(0,E.segmentsToRows)(L);this.rows=D,this.draw()}return R}()},{key:"draw",value:function(){function R(){var I=this.rows;if(I){var M=(0,k.scaleBand)().range([0,this.dimensions[1]]).padding(.1).domain((0,T.range)(0,this.maxRows())),H=this.pMain;H.clear(),H.lineStyle(1,255,0),H.beginFill(16740363,.8);for(var L=0;L<I.length;L++)for(var D=0;D<I[L].length;D++){var j=I[L][D],W=this._refXScale(j.from),B=this._refXScale(j.to),F=M(L),N=F+M.bandwidth(),X=B-W,G=N-F;H.drawRect(W,F,X,G)}}}return R}()},{key:"allTilesLoaded",value:function(){function R(){var I=this,M,H=this.visibleAndFetchedIds(),L=H.map(function(j){return I.fetchedTiles[j].tileData.discrete}),D=(M=[]).concat.apply(M,(0,a.default)(L));this.drawAll(D)}return R}()},{key:"initTile",value:function(){function R(I){}return R}()},{key:"maxRows",value:function(){function R(){return this.rows.length}return R}()},{key:"updateTile",value:function(){function R(I){}return R}()},{key:"destroyTile",value:function(){function R(I){var M=this;I.tileData.discrete.forEach(function(H){var L=H[H.length-2];M.seen.has(L)&&M.seen.delete(L)})}return R}()},{key:"drawTile",value:function(){function R(I){}return R}()}]),O}(A.default);r.default=S},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(17),a=I(n),l=t(19),e=I(l),o=t(38),s=I(o),u=t(5),c=I(u),m=t(3),p=I(m),h=t(4),v=I(h),x=t(6),y=I(x),k=t(14),T=I(k),E=t(7),_=I(E),A=t(134),C=I(A),S=t(79),P=I(S),O=t(24),R=t(10);function I(L){return L&&L.__esModule?L:{default:L}}function M(L,D,j,W,B,F,N,X,G,V){var z=V?L._xScale(j.yStart):L._xScale(j.xStart),U=V?L._xScale(j.yEnd):L._xScale(j.xEnd),Z=V?L._yScale(j.xStart):L._yScale(j.yStart),st=V?L._yScale(j.xEnd):L._yScale(j.yEnd),Y=j.uid+V,rt=U-z,ft=st-Z,tt={x:z,y:Z,width:rt,height:ft};W&&(rt<W||ft<W)&&(tt={x:z-W/2,y:Z-W/2,width:W,height:W}),L.drawnRects[Y]=tt;var K=tt.x+tt.width,Q=tt.y+tt.height;(tt.x>B&&tt.x<F||K>B&&K<F||tt.y>N&&tt.y<X||Q>N&&Q<X)&&(tt.width>G||tt.height>G)&&(D.drawRect(tt.x,tt.y,tt.width,tt.height),L.publish("annotationDrawn",{trackUuid:L.uuid,annotationUuid:Y,viewPos:[tt.x,tt.y,tt.width,tt.height],dataPos:[j.xStart,j.xEnd,j.yStart,j.yEnd],importance:j.importance,info:{patternType:L.options.patternType}}))}var H=function(L){(0,_.default)(D,L);function D(){var j;(0,p.default)(this,D);for(var W=arguments.length,B=Array(W),F=0;F<W;F++)B[F]=arguments[F];var N=(0,y.default)(this,(j=D.__proto__||(0,c.default)(D)).call.apply(j,[this].concat(B)));N.drawnRects={};var X=(0,C.default)(),G=X.publish,V=X.subscribe,z=X.unsubscribe;return N.publish=G,N.subscribe=V,N.unsubscribe=z,N}return(0,v.default)(D,[{key:"tileToLocalId",value:function(){function j(W){return""+String(W.join("."))}return j}()},{key:"tileToRemoteId",value:function(){function j(W){return""+String(W.join("."))}return j}()},{key:"localToRemoteId",value:function(){function j(W){var B=W.split(".");return B.slice(0,B.length-1).join(".")}return j}()},{key:"calculateZoomLevel",value:function(){function j(){var W=O.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),B=O.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]),F=Math.max(W,B);return F=Math.min(F,this.maxZoom),F}return j}()},{key:"setVisibleTiles",value:function(){function j(W){var B=this;this.visibleTiles=W.map(function(F){return{tileId:B.tileToLocalId(F),remoteId:B.tileToRemoteId(F)}}),this.visibleTileIds=new s.default(this.visibleTiles.map(function(F){return F.remoteId}))}return j}()},{key:"calculateVisibleTiles",value:function(){function j(){if(this.tilesetInfo){this.zoomLevel=this.calculateZoomLevel(),this.xTiles=O.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=O.tileProxy.calculateTiles(this.zoomLevel,this._yScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);for(var W=this.xTiles,B=this.yTiles,F=this.zoomLevel,N=[],X=0;X<W.length;X++)for(var G=0;G<B.length;G++){var V=[F,W[X],B[G]];N.push(V)}this.setVisibleTiles(N)}}return j}()},{key:"initTile",value:function(){function j(){}return j}()},{key:"destroyTile",value:function(){function j(){}return j}()},{key:"draw",value:function(){function j(){this.drawnRects={},(0,T.default)(D.prototype.__proto__||(0,c.default)(D.prototype),"draw",this).call(this)}return j}()},{key:"drawTile",value:function(){function j(W){var B=this,F=W.graphics;if(F){F.clear();var N=(0,R.colorToHex)(this.options.rectangleDomainStrokeColor||"black"),X=(0,R.colorToHex)(this.options.rectangleDomainFillColor||"grey");F.lineStyle(typeof this.options.rectangleDomainStrokeWidth<"u"?this.options.rectangleDomainStrokeWidth:1,N,typeof this.options.rectangleDomainStrokeOpacity<"u"?this.options.rectangleDomainStrokeOpacity:1),F.beginFill(X,typeof this.options.rectangleDomainFillOpacity<"u"?this.options.rectangleDomainFillOpacity:.4),F.alpha=this.options.rectangleDomainOpacity||.5;var G=this.options.minSquareSize&&this.options.minSquareSize!=="none"?+this.options.minSquareSize:0,V=this.options.rectangleMinSize?+this.options.rectangleMinSize:0,z=this._xScale.range()[0],U=this._xScale.range()[1],Z=this._yScale.range()[0],st=this._yScale.range()[1];W.tileData.length&&W.tileData.filter(function(Y){return!(Y.uid in B.drawnRects)}).forEach(function(Y){M(B,F,Y,G,z,U,Z,st,V,B.options.flipDiagonal==="yes"),B.options.flipDiagonal&&B.options.flipDiagonal==="copy"&&M(B,F,Y,G,z,U,Z,st,V,!0)})}}return j}()},{key:"exportSVG",value:function(){function j(){var W=this,B=null,F=null;if((0,T.default)(D.prototype.__proto__||(0,c.default)(D.prototype),"exportSVG",this)){var N=(0,T.default)(D.prototype.__proto__||(0,c.default)(D.prototype),"exportSVG",this).call(this),X=(0,e.default)(N,2);F=X[0],B=X[1]}else F=document.createElement("g"),B=F;var G=document.createElement("g");G.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),B.appendChild(G);for(var V=function(){function st(Y){var rt=function(){function yt(pt){if(!pt.tileData||!pt.tileData.length)return"continue";pt.tileData.forEach(function(dt){var mt=dt.uid+Y,q=document.createElement("g");if(q.setAttribute("transform","translate("+String(pt.graphics.position.x)+","+String(pt.graphics.position.y)+")scale("+String(pt.graphics.scale.x)+","+String(pt.graphics.scale.y)+")"),G.appendChild(q),mt in W.drawnRects){var $=W.drawnRects[mt],J=document.createElement("rect");J.setAttribute("x",$.x),J.setAttribute("y",$.y),J.setAttribute("width",$.width),J.setAttribute("height",$.height),J.setAttribute("fill",W.options.rectangleDomainFillColor?W.options.rectangleDomainFillColor:"grey"),J.setAttribute("opacity",.3),J.style.stroke="black",J.style.strokeWidth="1px",q.appendChild(J)}})}return yt}(),ft=!0,tt=!1,K=void 0;try{for(var Q=(0,a.default)(W.visibleAndFetchedTiles()),ct;!(ft=(ct=Q.next()).done);ft=!0)var nt=ct.value,ot=rt(nt)}catch(yt){tt=!0,K=yt}finally{try{!ft&&Q.return&&Q.return()}finally{if(tt)throw K}}}return st}(),z=[!0,!1],U=0;U<z.length;U++){var Z=z[U];V(Z)}return[F,F]}return j}()},{key:"setPosition",value:function(){function j(W){(0,T.default)(D.prototype.__proto__||(0,c.default)(D.prototype),"setPosition",this).call(this,W),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}return j}()},{key:"zoomed",value:function(){function j(W,B){this.xScale().domain()[0]===W.domain()[0]&&this.xScale().domain()[1]===W.domain()[1]&&this.yScale().domain()[0]===B.domain()[0]&&this.yScale().domain()[1]===B.domain()[1]||(this.xScale(W),this.yScale(B),this.refreshTiles(),this.draw())}return j}()},{key:"leftTrackDraw",value:function(){function j(){this.draw()}return j}()}]),D}(P.default);r.default=H},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(25),a=M(n),l=t(38),e=M(l),o=t(19),s=M(o),u=t(5),c=M(u),m=t(3),p=M(m),h=t(4),v=M(h),x=t(6),y=M(x),k=t(14),T=M(k),E=t(7),_=M(E),A=t(134),C=M(A),S=t(79),P=M(S),O=t(11),R=t(24),I=t(10);function M(D){return D&&D.__esModule?D:{default:D}}var H=250,L=function(D){(0,_.default)(j,D);function j(W,B){(0,p.default)(this,j);var F=(0,y.default)(this,(j.__proto__||(0,c.default)(j)).call(this,W,B)),N=W.pubSub;F.drawnAnnotations={},F.drawnAnnoGfx={},F.selectedAnno=null,F.options.minSquareSize=+F.options.minSquareSize;var X=(0,C.default)(),G=X.publish,V=X.subscribe,z=X.unsubscribe;return F.publish=G,F.subscribe=V,F.unsubscribe=z,F.sT=0,F.annoSelectedBound=F.annoSelected.bind(F),F.pubSubs.push(N.subscribe("annoSelected",F.annoSelectedBound)),F}return(0,v.default)(j,[{key:"projection",value:function(){function W(B){var F=(0,s.default)(B,2),N=F[0],X=F[1];return[this._xScale(N),this._yScale(X)]}return W}()},{key:"tileToLocalId",value:function(){function W(B){return""+String(B.join("."))}return W}()},{key:"tileToRemoteId",value:function(){function W(B){return""+String(B.join("."))}return W}()},{key:"localToRemoteId",value:function(){function W(B){var F=B.split(".");return F.slice(0,F.length-1).join(".")}return W}()},{key:"calculateZoomLevel",value:function(){function W(){var B=R.tileProxy.calculateZoomLevel(this._xScale,this.minX,this.maxX),F=R.tileProxy.calculateZoomLevel(this._yScale,this.minY,this.maxY);return(0,I.min)((0,I.max)(B,F),this.maxZoom)}return W}()},{key:"setVisibleTiles",value:function(){function W(B){var F=this;this.visibleTiles=B.map(function(N){return{tileId:F.tileToLocalId(N),remoteId:F.tileToRemoteId(N)}}),this.visibleTileIds=new e.default(this.visibleTiles.map(function(N){return N.tileId}))}return W}()},{key:"calculateVisibleTiles",value:function(){function W(){if(this.tilesetInfo){this.zoomLevel=this.calculateZoomLevel(),this.xTiles=R.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.minX,this.maxX,this.tilesetInfo.max_zoom,this.maxSize),this.yTiles=R.tileProxy.calculateTiles(this.zoomLevel,this._yScale,this.minY,this.maxY,this.tilesetInfo.max_zoom,this.maxSize);for(var B=this.zoomLevel,F=[],N=0;N<this.xTiles.length;N++)for(var X=0;X<this.yTiles.length;X++)F.push([B,this.xTiles[N],this.yTiles[X]]);this.setVisibleTiles(F)}}return W}()},{key:"draw",value:function(){function W(){this.drawnAnnotations={},(0,T.default)(j.prototype.__proto__||(0,c.default)(j.prototype),"draw",this).call(this)}return W}()},{key:"drawTile",value:function(){function W(B){var F=this,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(B.graphics){B.graphics.__tile__=B;var G=B.graphics;G.clear(),this.setBorderStyle(G),this.setFill(G),G.alpha=+this.options.rectangleDomainOpacity,B.tileData.length&&B.tileData.filter(function(V){return!(V.uid in F.drawnAnnotations)||N}).forEach(function(V){var z=F.projection([V.xStart,V.yStart]),U=(0,s.default)(z,2),Z=U[0],st=U[1],Y=F.projection([V.xEnd,V.yEnd]),rt=(0,s.default)(Y,2),ft=rt[0],tt=rt[1];F.options.exclude&&F.options.exclude.indexOf(V.uid)>=0||F.drawAnnotation(F.prepAnnotation(G,V.uid,Z,st,ft-Z,tt-st,V),X)})}}return W}()},{key:"prepAnnotation",value:function(){function W(B,F,N,X,G,V,z){var U=void 0;try{U=JSON.parse(z.fields)}catch{}return{graphics:B,id:z.id,uid:F,annotation:{x:N,y:X,width:G,height:V},dataPos:[z.xStart,z.xEnd,z.yStart,z.yEnd],importance:z.importance,info:U}}return W}()},{key:"drawAnnotation",value:function(){function W(B,F){var N=this,X=B.graphics,G=B.id,V=B.uid,z=B.annotation,U=B.dataPos,Z=B.importance,st=B.info;this.options.minSquareSize&&(z.width<this.options.minSquareSize||z.height<this.options.minSquareSize)&&(z.x=(z.x+z.width)/2,z.y=(z.y+z.height)/2,z.width=this.options.minSquareSize,z.height=this.options.minSquareSize),this.drawnAnnotations[V]=z;var Y=[z.x,z.y,z.width,z.height],rt=this.drawnAnnoGfx[V];rt||(rt=new O.GLOBALS.PIXI.Graphics,this.drawnAnnoGfx[V]=rt),X.children.indexOf(rt)===-1&&X.addChild(rt),this._drawRect(rt,Y,V),X.interactive=!0,rt.interactive=!0,rt.buttonMode=!0;var ft={id:G,uid:V,dataPos:U,importance:Z,info:st,viewPos:[z.x,z.y,z.x+z.width,z.y+z.height]};rt.mouseover=function(){return N.hover(rt,Y,V)},rt.mouseout=function(){return N.blur(rt,Y,V)},rt.mousedown=function(){return N.mouseDown()},rt.mouseup=function(tt){return N.mouseUp(rt,Y,V,tt,ft)},F||this.publish("annotationDrawn",{trackUuids:this.uuid,annotationUuid:V,annotationId:G,viewPos:Y,dataPos:U,importance:Z,info:st})}return W}()},{key:"_drawRect",value:function(){function W(B,F,N){var X=this.options.rectangleDomainStrokeColor,G=this.options.rectangleDomainStrokeWidth,V=this.options.rectangleDomainStrokeOpacity,z=this.options.rectangleDomainFillColor,U=this.options.rectangleDomainFillOpacity;this.hoveredAnno===N&&(X=this.options.hoverColor,G=this.options.rectangleDomainStrokeWidth+1||2,V=1,z=this.options.hoverColor,U=this.options.rectangleDomainFillOpacity),this.selectedAnno&&this.selectedAnno.uid===N&&(X=this.options.selectColor,G=this.options.rectangleDomainStrokeWidth+1||2,V=1,z=this.options.selectColor,U=(0,I.max)(.33,this.options.rectangleDomainFillOpacity)),B.clear(),this.options.trackBorderBgWidth&&(this.setBorderStyle(B,this.options.trackBorderBgColor,this.options.trackBorderBgWidth,this.options.trackBorderBgAlpha),this.setFill(B,z,0),B.drawRect.apply(B,(0,a.default)(F))),this.setBorderStyle(B,X,G,V),this.setFill(B,z,U),B.drawRect.apply(B,(0,a.default)(F)),B.__viewPos__=F}return W}()},{key:"context",value:function(){function W(B,F,N){return function(X){return X(B,F,N)}}return W}()},{key:"click",value:function(){function W(B,F,N,X,G){this.select(B,F,N),this.pubSub.publish("app.click",{type:"annotation",event:X,payload:G})}return W}()},{key:"mouseDown",value:function(){function W(){this.sT=performance.now()}return W}()},{key:"mouseUp",value:function(){function W(B,F,N,X,G){performance.now()-this.sT<=H&&this.click(B,F,N,X,G)}return W}()},{key:"hover",value:function(){function W(B,F,N){this.hoveredAnno=N,this._drawRect(B,F,N),this.animate()}return W}()},{key:"focus",value:function(){function W(B,F,N){this._drawRect(B,F,N),this.animate()}return W}()},{key:"blur",value:function(){function W(B,F,N){this.hoveredAnno=null,this._drawRect(B,F,N),this.animate()}return W}()},{key:"select",value:function(){function W(B,F,N){var X=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,G=null,V=null;this.selectedAnno&&(G=this.selectedAnno.graphics,V=this.selectedAnno.uid),this.selectedAnno={graphics:B,uid:N},this.focus(B,F,N),this.options.onSelect&&!X&&(window[this.options.onSelect](N),this.pubSub.publish("annoSelected",N)),G&&V&&this.blur(G,G.__viewPos__,V)}return W}()},{key:"unselect",value:function(){function W(){var B=this.selectedAnno.graphics,F=this.selectedAnno.uid;this.selectedAnno=null,this.blur(B,B.__viewPos__,F)}return W}()},{key:"annoSelected",value:function(){function W(B){if(!this.selectedAnno||this.selectedAnno.uid!==B){this.selectedAnno&&this.unselect();var F=this.drawnAnnoGfx[B];F&&this.select(F,F.__viewPos__,B,!0)}}return W}()},{key:"exportSVG",value:function(){function W(){var B=this,F=null,N=null;if((0,T.default)(j.prototype.__proto__||(0,c.default)(j.prototype),"exportSVG",this)){var X=(0,T.default)(j.prototype.__proto__||(0,c.default)(j.prototype),"exportSVG",this).call(this),G=(0,s.default)(X,2);N=G[0],F=G[1]}else N=document.createElement("g"),F=N;var V=document.createElement("g");return V.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),F.appendChild(V),this.visibleAndFetchedTiles().filter(function(z){return z.tileData&&z.tileData.length}).map(function(z){return{graphics:z.graphics,td:z.tileData}}).forEach(function(z){var U=z.td,Z=z.graphics,st=document.createElement("g");if(st.setAttribute("transform","translate("+String(Z.position.x)+","+String(Z.position.y)+")scale("+String(Z.scale.x)+","+String(Z.scale.y)+")"),V.appendChild(st),U.uid in B.drawnAnnotations){var Y=B.drawnAnnotations[U.uid],rt=document.createElement("rect");rt.setAttribute("x",Y.x),rt.setAttribute("y",Y.y),rt.setAttribute("width",Y.width),rt.setAttribute("height",Y.height),rt.setAttribute("fill",B.options.fillColor||"grey"),rt.setAttribute("opacity",.3),rt.style.stroke=B.options.fillColor||"grey",rt.style.strokeWidth="1px",st.appendChild(rt)}}),[N,N]}return W}()},{key:"setBorderStyle",value:function(){function W(B){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.rectangleDomainStrokeColor,N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.options.rectangleDomainStrokeWidth,X=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this.options.rectangleDomainStrokeOpacity;B.lineStyle(typeof N<"u"?N:1,(0,I.colorToHex)(F||"black"),typeof X<"u"?X:1)}return W}()},{key:"setFill",value:function(){function W(B){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.rectangleDomainFillColor,N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.options.rectangleDomainFillOpacity;B.beginFill((0,I.colorToHex)(F||"grey"),typeof N<"u"?N:.4)}return W}()},{key:"setPosition",value:function(){function W(B){(0,T.default)(j.prototype.__proto__||(0,c.default)(j.prototype),"setPosition",this).call(this,B),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}return W}()},{key:"zoomed",value:function(){function W(B,F){this.xScale(B),this.yScale(F),this.refreshTiles(),this.draw()}return W}()},{key:"minX",get:function(){function W(){return this.tilesetInfo&&this.tilesetInfo.min_pos?this.tilesetInfo.min_pos[0]:0}return W}()},{key:"maxX",get:function(){function W(){return this.tilesetInfo&&this.tilesetInfo.max_pos?this.tilesetInfo.max_pos[0]:this.tilesetInfo.max_width||this.tilesetInfo.max_size}return W}()},{key:"minY",get:function(){function W(){return this.minX}return W}()},{key:"maxY",get:function(){function W(){return this.maxX}return W}()},{key:"maxSize",get:function(){function W(){var B=this.tilesetInfo.max_pos&&Math.max(this.tilesetInfo.max_pos[0]-this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[1]-this.tilesetInfo.min_pos[1]);return B||(this.tilesetInfo.max_size?this.tilesetInfo.max_size:0)}return W}()}]),j}(P.default);r.default=L},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(37),a=A(n),l=t(5),e=A(l),o=t(3),s=A(o),u=t(4),c=A(u),m=t(6),p=A(m),h=t(14),v=A(h),x=t(7),y=A(x),k=t(9),T=t(40),E=A(T),_=t(11);function A(S){return S&&S.__esModule?S:{default:S}}var C=function(S){(0,y.default)(P,S);function P(O,R,I){(0,s.default)(this,P);var M=(0,p.default)(this,(P.__proto__||(0,e.default)(P)).call(this,O,R));return M.pubSub=O.pubSub,M.options=R,M.isVertical=I,M.rects={},M.defaultColor=(0,k.color)("red"),M}return(0,c.default)(P,[{key:"draw",value:function(){function O(){var R=this,I=typeof this.options.minRectWidth<"u"?this.options.minRectWidth:10,M=typeof this.options.fill<"u"?(0,k.color)(this.options.fill):this.defaultColor,H=typeof this.options.fillOpacity<"u"?+this.options.fillOpacity:.2,L=typeof this.options.stroke<"u"?(0,k.color)(this.options.stroke):this.defaultColor,D=typeof this.options.strokeWidth<"u"?+this.options.strokeWidth:1,j=typeof this.options.strokeOpacity<"u"?+this.options.strokeOpacity:0,W=void 0;this.options.strokePos&&this.options.strokePos.length&&(W=Array.isArray(this.options.strokePos)?this.options.strokePos:[this.options.strokePos]),(0,v.default)(P.prototype.__proto__||(0,e.default)(P.prototype),"draw",this).call(this);var B=this.pMain;B.clear();var F=performance.now();this.options.regions.forEach(function(N){var X=String(N[0])+"-"+String(N[1]);R.rects[X]||(R.rects[X]={graphics:new _.GLOBALS.PIXI.Graphics},B.addChild(R.rects[X].graphics)),R.rects[X].timeStamp=F;var G=(0,k.color)(N[2])||M,V=(0,k.color)(N[3])||L;V||(V=G);var z=_.GLOBALS.PIXI.utils.rgb2hex([G.r/255,G.g/255,G.b/255]),U=_.GLOBALS.PIXI.utils.rgb2hex([V.r/255,V.g/255,V.b/255]);W?(B.lineStyle(1,U,0),B.beginFill(U,+N[5]||j)):(B.lineStyle(D,U,+N[5]||j),B.beginFill(z,+N[4]||H));var Z=R.isVertical?R._yScale:R._xScale,st=Z(+N[0]),Y=Z(+N[1]),rt=Y-st,ft=typeof N[6]<"u"?N[6]:I;rt<ft&&(st=(st+Y)/2-ft/2,rt=ft),W?(B.lineStyle(1,U,0),B.beginFill(U,+N[5]||j),W.forEach(function(tt){(tt==="top"||tt==="around")&&(R.isVertical?B.drawRect(0,st,D,rt):B.drawRect(st,0,rt,D)),(tt==="right"||tt==="around")&&(R.isVertical?B.drawRect(0,st,R.dimensions[0],D):B.drawRect(st,0,D,R.dimensions[1])),(tt==="bottom"||tt==="around")&&(R.isVertical?B.drawRect(R.dimensions[0]-D,st,D,rt):B.drawRect(st,R.dimensions[1]-D,rt,D)),(tt==="left"||tt==="around")&&(R.isVertical?B.drawRect(0,st+rt-D,R.dimensions[0],D):B.drawRect(st+rt-D,0,D,R.dimensions[1]))})):B.lineStyle(D,U,+N[5]||j),R.rects[X].graphics.clear(),R.rects[X].graphics.interactive=!0,R.rects[X].graphics.buttonMode=!0,B.beginFill(z,+N[4]||H),R.isVertical?(B.drawRect(0,st,R.dimensions[0],rt),R.rects[X].graphics.hitArea=new _.GLOBALS.PIXI.Rectangle(0,st,R.dimensions[0],rt)):(B.drawRect(st,0,rt,R.dimensions[1]),R.rects[X].graphics.hitArea=new _.GLOBALS.PIXI.Rectangle(st,0,rt,R.dimensions[1])),R.rects[X].graphics.mousedown=function(){R.rects[X].mouseDownTime=performance.now()},R.rects[X].graphics.mouseup=function(tt){performance.now()-R.rects[X].mouseDownTime<_.MAX_CLICK_DELAY&&R.pubSub.publish("app.click",{type:"annotation",event:tt,payload:N})}}),(0,a.default)(this.rects).filter(function(N){return N.timeStamp!==F}).forEach(function(N){return B.removeChild(N.graphics)})}return O}()},{key:"setPosition",value:function(){function O(R){(0,v.default)(P.prototype.__proto__||(0,e.default)(P.prototype),"setPosition",this).call(this,R),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}return O}()},{key:"zoomed",value:function(){function O(R,I){this.xScale(R),this.yScale(I),this.draw()}return O}()}]),P}(E.default);r.default=C},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(17),a=S(n),l=t(38),e=S(l),o=t(5),s=S(o),u=t(3),c=S(u),m=t(4),p=S(m),h=t(6),v=S(h),x=t(14),y=S(x),k=t(7),T=S(k),E=t(79),_=S(E),A=t(24),C=t(10);function S(O){return O&&O.__esModule?O:{default:O}}var P=function(O){(0,T.default)(R,O);function R(I,M){(0,c.default)(this,R);var H=(0,v.default)(this,(R.__proto__||(0,s.default)(R)).call(this,I,M));return H.drawnRects=new e.default,H.pMain=H.pMobile,H}return(0,p.default)(R,[{key:"tileToLocalId",value:function(){function I(M){return""+String(M.join("."))}return I}()},{key:"tileToRemoteId",value:function(){function I(M){return""+String(M.join("."))}return I}()},{key:"localToRemoteId",value:function(){function I(M){var H=M.split(".");return H.slice(0,H.length-1).join(".")}return I}()},{key:"calculateZoomLevel",value:function(){function I(){var M=A.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),H=A.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]),L=Math.max(M,H);return L=Math.min(L,this.maxZoom),this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?L=Math.min(this.options.maxZoom,L):console.error("Invalid maxZoom on track:",this)),L}return I}()},{key:"setVisibleTiles",value:function(){function I(M){var H=this;this.visibleTiles=M.map(function(L){return{tileId:H.tileToLocalId(L),remoteId:H.tileToRemoteId(L)}}),this.visibleTileIds=new e.default(this.visibleTiles.map(function(L){return L.tileId}))}return I}()},{key:"calculateVisibleTiles",value:function(){function I(){if(this.tilesetInfo){this.zoomLevel=this.calculateZoomLevel();var M=this._xScale.copy();M.domain([this._xScale.invert(this._xScale.range()[0]-this.dimensions[1]*Math.sqrt(2)),this._xScale.invert(this._xScale.range()[1]+this.dimensions[1]*Math.sqrt(2))]),this.xTiles=A.tileProxy.calculateTiles(this.zoomLevel,M,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=A.tileProxy.calculateTiles(this.zoomLevel,M,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);for(var H=this.xTiles,L=this.yTiles,D=this.zoomLevel,j=this.tilesetInfo.max_width,W=j/Math.pow(2,D),B=[],F=0;F<H.length;F++)for(var N=F;N<L.length;N++){var X=(N-F-2)*(this._xScale(W)-this._xScale(0))*Math.sqrt(2)/2;if(!(X>this.dimensions[1])){var G=[D,H[F],L[N]];G.mirrored=!1,B.push(G)}}this.setVisibleTiles(B)}}return I}()},{key:"initTile",value:function(){function I(M){(0,y.default)(R.prototype.__proto__||(0,s.default)(R.prototype),"initTile",this).call(this,M),this.drawTile(M)}return I}()},{key:"destroyTile",value:function(){function I(M,H){}return I}()},{key:"draw",value:function(){function I(){this.delayDrawing||this.drawnRects.clear(),(0,y.default)(R.prototype.__proto__||(0,s.default)(R.prototype),"draw",this).call(this)}return I}()},{key:"drawTile",value:function(){function I(M){if(M.graphics){var H=M.graphics;H.clear();var L=(0,C.colorToHex)(this.options.rectangleDomainStrokeColor?this.options.rectangleDomainStrokeColor:"black"),D=(0,C.colorToHex)(this.options.rectangleDomainFillColor?this.options.rectangleDomainFillColor:"grey");if(H.lineStyle(1/this.pMain.scale.x,L,1),H.beginFill(D,.4),H.alpha=this.options.rectangleDomainOpacity?this.options.rectangleDomainOpacity:.5,!!M.tileData.sort){var j=!0,W=!1,B=void 0;try{for(var F=(0,a.default)(M.tileData),N;!(j=(N=F.next()).done);j=!0){var X=N.value,G=this._refXScale(X.xStart),V=this._refXScale(X.xEnd),z=this._refYScale(X.yStart),U=this._refYScale(X.yEnd),Z=X.uid;this.drawnRects.has(Z)||(this.drawnRects.add(Z),H.drawRect(G,z,V-G,U-z),H.pivot.x=this._refXScale(0),H.pivot.y=this._refYScale(0),H.scale.x=-1/Math.sqrt(2),H.rotation=-3*Math.PI/4,H.scale.y=1/Math.sqrt(2),H.position.x=this._refXScale(0),H.position.y=0)}}catch(st){W=!0,B=st}finally{try{!j&&F.return&&F.return()}finally{if(W)throw B}}}}}return I}()},{key:"setPosition",value:function(){function I(M){(0,y.default)(R.prototype.__proto__||(0,s.default)(R.prototype),"setPosition",this).call(this,M),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}return I}()},{key:"refScalesChanged",value:function(){function I(M,H){(0,y.default)(R.prototype.__proto__||(0,s.default)(R.prototype),"refScalesChanged",this).call(this,M,H);for(var L in this.fetchedTiles){var D=this.fetchedTiles[L];if(D.sprite){var j=D.graphics;j.pivot.x=this._refXScale(0),j.pivot.y=this._refYScale(0),j.scale.x=-1/Math.sqrt(2),j.rotation=-3*Math.PI/4,j.scale.y=1/Math.sqrt(2),j.position.x=this._refXScale(0),j.position.y=0}}}return I}()},{key:"zoomed",value:function(){function I(M,H,L,D,j){(0,y.default)(R.prototype.__proto__||(0,s.default)(R.prototype),"zoomed",this).call(this,M,H,L,D,j),this.pMain.position.x=D,this.pMain.position.y=this.position[1]+this.dimensions[1],this.pMain.scale.x=L,this.pMain.scale.y=L,this.options.oneDHeatmapFlipped&&(this.pMain.scale.y=-L,this.pMain.position.y=this.position[1]),this.draw()}return I}()},{key:"leftTrackDraw",value:function(){function I(){this.draw()}return I}()}]),R}(_.default);r.default=P},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(17),a=S(n),l=t(38),e=S(l),o=t(5),s=S(o),u=t(3),c=S(u),m=t(4),p=S(m),h=t(6),v=S(h),x=t(14),y=S(x),k=t(7),T=S(k),E=t(79),_=S(E),A=t(24),C=t(10);function S(O){return O&&O.__esModule?O:{default:O}}var P=function(O){(0,T.default)(R,O);function R(I,M){(0,c.default)(this,R);var H=(0,v.default)(this,(R.__proto__||(0,s.default)(R)).call(this,I,M));return H.drawnRects=new e.default,H}return(0,p.default)(R,[{key:"tileToLocalId",value:function(){function I(M){return""+String(M.join("."))}return I}()},{key:"tileToRemoteId",value:function(){function I(M){return""+String(M.join("."))}return I}()},{key:"localToRemoteId",value:function(){function I(M){var H=M.split(".");return H.slice(0,H.length-1).join(".")}return I}()},{key:"calculateZoomLevel",value:function(){function I(){var M=A.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),H=A.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]),L=Math.max(M,H);return L=Math.min(L,this.maxZoom),L}return I}()},{key:"setVisibleTiles",value:function(){function I(M){var H=this;this.visibleTiles=M.map(function(L){return{tileId:H.tileToLocalId(L),remoteId:H.tileToRemoteId(L)}}),this.visibleTileIds=new e.default(this.visibleTiles.map(function(L){return L.tileId}))}return I}()},{key:"calculateVisibleTiles",value:function(){function I(){if(this.tilesetInfo){this.zoomLevel=this.calculateZoomLevel(),this.xTiles=A.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=A.tileProxy.calculateTiles(this.zoomLevel,this._yScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);for(var M=this.xTiles,H=this.yTiles,L=this.zoomLevel,D=[],j=0;j<M.length;j++)for(var W=0;W<H.length;W++){var B=[L,M[j],H[W]];D.push(B)}this.setVisibleTiles(D)}}return I}()},{key:"initTile",value:function(){function I(M){}return I}()},{key:"destroyTile",value:function(){function I(M,H){}return I}()},{key:"draw",value:function(){function I(){this.drawnRects.clear(),(0,y.default)(R.prototype.__proto__||(0,s.default)(R.prototype),"draw",this).call(this)}return I}()},{key:"drawTile",value:function(){function I(M){if(M.graphics){var H=M.graphics;H.clear();var L=(0,C.colorToHex)("green");H.lineStyle(1,255,1),H.beginFill(L,.8),H.alpha=.5;var D=!0,j=!1,W=void 0;try{for(var B=(0,a.default)(M.tileData),F;!(D=(F=B.next()).done);D=!0){var N=F.value,X=this._xScale(N.xStart),G=this._xScale(N.xEnd),V=this._yScale(N.yStart),z=this._yScale(N.yEnd),U=N.uid;if(!this.drawnRects.has(U)){this.drawnRects.add(U);var Z=6,st=6,Y=z-V,rt=G-X,ft=(X+G)/2,tt=(V+z)/2;Y<Z&&(Y=Z),rt<st&&(rt=st),H.drawRect(ft-Y/2,tt-rt/2,Y,rt)}}}catch(K){j=!0,W=K}finally{try{!D&&B.return&&B.return()}finally{if(j)throw W}}}}return I}()},{key:"setPosition",value:function(){function I(M){(0,y.default)(R.prototype.__proto__||(0,s.default)(R.prototype),"setPosition",this).call(this,M),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}return I}()},{key:"zoomed",value:function(){function I(M,H){this.xScale(M),this.yScale(H),this.refreshTiles(),this.draw()}return I}()}]),R}(_.default);r.default=P},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(5),a=O(n),l=t(3),e=O(l),o=t(4),s=O(o),u=t(6),c=O(u),m=t(14),p=O(m),h=t(7),v=O(h),x=t(180),y=O(x),k=t(40),T=O(k),E=t(73),_=O(E),A=t(140),C=O(A),S=t(10),P=t(11);function O(I){return I&&I.__esModule?I:{default:I}}var R=function(I){(0,v.default)(M,I);function M(H,L){(0,e.default)(this,M);var D=(0,c.default)(this,(M.__proto__||(0,a.default)(M)).call(this,H,L)),j=H.dataConfig,W=H.animate,B=H.pubSub;D.searchField=null,D.chromInfo=null,D.animate=W;var F=j.server,N=j.tilesetUid,X=String(F)+"/chrom-sizes/?id="+String(N);return(0,_.default)(X,function(G){D.chromInfo=G,D.searchField=new C.default(D.chromInfo),D.draw(),D.texts=[];for(var V=0;V<D.chromInfo.cumPositions.length;V++){for(var z=[],U=0;U<D.chromInfo.cumPositions.length;U++){var Z=String(D.chromInfo.cumPositions[V].chr)+"/"+String(D.chromInfo.cumPositions[U].chr),st=new P.GLOBALS.PIXI.Text(Z,{fontSize:"14px",fontFamily:"Arial",fill:"red"});st.anchor.x=.5,st.anchor.y=.5,st.visible=!1,st.hashValue=Math.random(),z.push(st),D.pMain.addChild(st)}D.texts.push(z)}D.draw(),D.animate()},B),D}return(0,s.default)(M,[{key:"draw",value:function(){function H(){var L=[];if(this.texts&&this.searchField){for(var D=(0,S.absToChr)(this._xScale.domain()[0],this.chromInfo),j=(0,S.absToChr)(this._xScale.domain()[1],this.chromInfo),W=(0,S.absToChr)(this._yScale.domain()[0],this.chromInfo),B=(0,S.absToChr)(this._yScale.domain()[1],this.chromInfo),F=0;F<this.texts.length;F++)for(var N=0;N<this.texts.length;N++)this.texts[F][N].visible=!1;for(var X=D[3];X<=j[3];X++)for(var G=W[3];G<=B[3];G++){var V=this.chromInfo.cumPositions[X],z=this.chromInfo.cumPositions[G],U=V.pos+this.chromInfo.chromLengths[V.chr]/2,Z=z.pos+this.chromInfo.chromLengths[z.chr]/2,st=this._xScale(U),Y=this._yScale(Z),rt=this.texts[X][G];rt.x=st,rt.y=Y,rt.updateTransform();var ft=rt.getBounds(),tt=ft.width/2,K=ft.height/2;st+tt>this.dimensions[0]?rt.x-=st+tt-this.dimensions[0]:st-tt<0&&(rt.x-=st-tt),Y+K>this.dimensions[1]?rt.y-=Y+K-this.dimensions[1]:Y-K<0&&(rt.y-=Y-K),rt.visible=!0,L.push({importance:this.texts[X][G].hashValue,text:this.texts[X][G],caption:null})}this.hideOverlaps(L)}}return H}()},{key:"hideOverlaps",value:function(){function H(L){var D=[];D=L.map(function(j){var W=j.text;W.updateTransform();var B=W.getBounds(),F=[B.x,B.y,B.x+B.width,B.y+B.height];return F}),(0,y.default)(D,function(j,W){L[j].importance>L[W].importance?L[W].text.visible=0:L[j].text.visible=0})}return H}()},{key:"setPosition",value:function(){function H(L){(0,p.default)(M.prototype.__proto__||(0,a.default)(M.prototype),"setPosition",this).call(this,L),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}return H}()},{key:"zoomed",value:function(){function H(L,D){this.xScale(L),this.yScale(D),this.draw()}return H}()}]),M}(T.default);r.default=R},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(25),a=I(n),l=t(19),e=I(l),o=t(5),s=I(o),u=t(3),c=I(u),m=t(4),p=I(m),h=t(6),v=I(h),x=t(14),y=I(x),k=t(7),T=I(k),E=t(40),_=I(E),A=t(73),C=I(A),S=t(140),P=I(S),O=t(10),R=t(11);function I(H){return H&&H.__esModule?H:{default:H}}var M=function(H){(0,T.default)(L,H);function L(D,j){(0,c.default)(this,L);var W=(0,v.default)(this,(L.__proto__||(0,s.default)(L)).call(this,D,j)),B=D.chromInfoPath,F=D.dataConfig,N=D.animate,X=D.pubSub,G=D.orientation,V=G===void 0?"2d":G,z=D.isOverlay,U=z===void 0?!1:z;W.searchField=null,W.chromInfo=null,W.animate=N,W.orientation=V,W.isOverlay=U;var Z=B;return Z||(Z=String(F.server)+"/chrom-sizes/?id="+String(F.tilesetUid)),(0,C.default)(Z,function(st){W.chromInfo=st,W.searchField=new P.default(W.chromInfo),W.texts=[],W.lineGraphics=new R.GLOBALS.PIXI.Graphics,W.lineGraphics1dH=new R.GLOBALS.PIXI.Graphics,W.lineGraphics1dV=new R.GLOBALS.PIXI.Graphics,W.lineGraphics2d=new R.GLOBALS.PIXI.Graphics,W.mask1dH=new R.GLOBALS.PIXI.Graphics,W.mask1dV=new R.GLOBALS.PIXI.Graphics,W.mask2d=new R.GLOBALS.PIXI.Graphics,W.lineGraphics.addChild(W.lineGraphics1dH),W.lineGraphics1dH.addChild(W.mask1dH),W.lineGraphics.addChild(W.lineGraphics1dV),W.lineGraphics1dV.addChild(W.mask1dV),W.lineGraphics.addChild(W.lineGraphics2d),W.lineGraphics2d.addChild(W.mask2d),W.pMain.addChild(W.lineGraphics),W.draw(),W.animate()},X),W}return(0,p.default)(L,[{key:"drawLines",value:function(){function D(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.orientation,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,F=this.lineGraphics;this.isOverlay&&j==="1d-horizontal"&&(F=this.lineGraphics1dH),this.isOverlay&&j==="1d-vertical"&&(F=this.lineGraphics1dV),this.isOverlay&&j==="2d"&&(F=this.lineGraphics2d);var N=(0,O.colorToHex)(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue"),X=this.options.lineStrokeWidth?this.options.lineStrokeWidth:1;F.lineStyle(X,N,1),(j==="2d"||j==="1d-horizontal")&&(F.moveTo(this._xScale(0)+W,B),F.lineTo(this._xScale(0)+W,this.dimensions[1]+B)),(j==="2d"||j==="1d-vertical")&&(F.moveTo(W,this._yScale(0)+B),F.lineTo(this.dimensions[0]+W,this._yScale(0)+B));for(var G=0;G<this.chromInfo.cumPositions.length;G++){var V=this.chromInfo.cumPositions[G],z=V.pos+ +this.chromInfo.chromLengths[V.chr]+1;(j==="2d"||j==="1d-horizontal")&&(F.moveTo(this._xScale(z)+W,B),F.lineTo(this._xScale(z)+W,this.dimensions[1]+B)),(j==="2d"||j==="1d-vertical")&&(F.moveTo(W,this._yScale(z)+B),F.lineTo(this.dimensions[0]+W,this._yScale(z)+B))}}return D}()},{key:"draw",value:function(){function D(){if(this.texts&&this.searchField)if(this.lineGraphics.clear(),this.isOverlay){this.lineGraphics1dH.clear(),this.lineGraphics1dV.clear(),this.lineGraphics2d.clear(),this.mask1dH.clear(),this.mask1dV.clear(),this.mask2d.clear(),this.mask1dH.beginFill(16777215),this.mask1dV.beginFill(16777215),this.mask2d.beginFill(16711680);for(var j=0;j<this.options.orientationsAndPositions.length;j++){var W=this.options.orientationsAndPositions[j].orientation,B=this.options.orientationsAndPositions[j].position,F=B.left,N=B.top,X=B.width,G=B.height;W==="1d-horizontal"&&this.mask1dH.drawRect(F,N,X,G),W==="1d-vertical"&&this.mask1dV.drawRect(F,N,X,G),W==="2d"&&this.mask2d.drawRect(F,N,X,G),this.drawLines(W,F,N)}this.lineGraphics1dH.mask=this.mask1dH,this.lineGraphics1dV.mask=this.mask1dV,this.lineGraphics2d.mask=this.mask2d}else this.drawLines()}return D}()},{key:"setPosition",value:function(){function D(j){(0,y.default)(L.prototype.__proto__||(0,s.default)(L.prototype),"setPosition",this).call(this,j);var W=(0,e.default)(this.position,2);this.pMain.position.x=W[0],this.pMain.position.y=W[1]}return D}()},{key:"zoomed",value:function(){function D(j,W){this.xScale(j),this.yScale(W),this.draw()}return D}()},{key:"createSvgLine",value:function(){function D(j,W,B,F,N,X){var G=document.createElement("line");return G.setAttribute("x1",j),G.setAttribute("x2",W),G.setAttribute("y1",B),G.setAttribute("y2",F),G.setAttribute("stroke",N),G.setAttribute("stroke-width",X),G}return D}()},{key:"drawLinesSvg",value:function(){function D(j,W,B,F){var N=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,X=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,G=this.options.lineStrokeColor?this.options.lineStrokeColor:"blue",V=this.options.lineStrokeWidth;if(W==="2d"||W==="1d-vertical"){var z=this._yScale(0);z>0&&z<X+F&&j.appendChild(this.createSvgLine(N,B+N,z+X,z+X,G,V))}if(W==="2d"||W==="1d-horizontal"){var U=this._xScale(0);U>0&&U<N+B&&j.appendChild(this.createSvgLine(U+N,U+N,X,F+X,G,V))}for(var Z=0;Z<this.chromInfo.cumPositions.length;Z++){var st=this.chromInfo.cumPositions[Z],Y=st.pos+ +this.chromInfo.chromLengths[st.chr]+1;if(W==="2d"||W==="1d-vertical"){var rt=this._yScale(Y);rt>0&&rt<X+F&&j.appendChild(this.createSvgLine(N,B+N,rt+X,rt+X,G,V))}if(W==="2d"||W==="1d-horizontal"){var ft=this._xScale(Y);ft>0&&ft<N+B&&j.appendChild(this.createSvgLine(ft+N,ft+N,X,F+X,G,V))}}}return D}()},{key:"exportSVG",value:function(){function D(){var j=null,W=null;if((0,y.default)(L.prototype.__proto__||(0,s.default)(L.prototype),"exportSVG",this)){var B=(0,y.default)(L.prototype.__proto__||(0,s.default)(L.prototype),"exportSVG",this).call(this),F=(0,e.default)(B,2);W=F[0],j=F[1]}else W=document.createElement("g"),j=W;var N=document.createElement("g");if(j.appendChild(N),W.setAttribute("id","ChromosomeGrid"),N.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),!this.chromInfo)return[W,j];if(this.isOverlay)for(var X=0;X<this.options.orientationsAndPositions.length;X++){var G=this.options.orientationsAndPositions[X].orientation,V=this.options.orientationsAndPositions[X].position,z=V.left,U=V.top,Z=V.width,st=V.height;this.drawLinesSvg(N,G,Z,st,z,U)}else this.drawLinesSvg.apply(this,[N,this.orientation].concat((0,a.default)(this.dimensions)));return[W,j]}return D}()}]),L}(_.default);r.default=M},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(5),a=A(n),l=t(3),e=A(l),o=t(4),s=A(o),u=t(6),c=A(u),m=t(14),p=A(m),h=t(7),v=A(h),x=t(9),y=t(40),k=A(y),T=t(73),E=A(T),_=t(11);function A(P){return P&&P.__esModule?P:{default:P}}var C=300,S=function(P){(0,v.default)(O,P);function O(R,I){(0,e.default)(this,O);var M=(0,c.default)(this,(O.__proto__||(0,a.default)(O)).call(this,R,I)),H=R.chromInfoPath,L=R.pubSub;return M.pubSub=L,M.rects={},(0,E.default)(H,function(D){M.chromInfo=D,M.draw()},M.pubSub),M}return(0,s.default)(O,[{key:"draw",value:function(){function R(){var I=this;if(this.chromInfo){var M=this.options.minRectWidth?this.options.minRectWidth:10,H=this.options.minRectWidth?this.options.minRectHeight:10;(0,p.default)(O.prototype.__proto__||(0,a.default)(O.prototype),"draw",this).call(this);var L=this.pMain;L.clear();var D=performance.now();this.options.regions.forEach(function(j){var W=j.slice(0,6).join("-");I.rects[W]||(I.rects[W]={graphics:new _.GLOBALS.PIXI.Graphics},L.addChild(I.rects[W].graphics)),I.rects[W].timeStamp=D;var B=(0,x.color)(j[6]),F=(0,x.color)(j[7]);F||(F=B);var N=_.GLOBALS.PIXI.utils.rgb2hex([B.r/255,B.g/255,B.b/255]),X=_.GLOBALS.PIXI.utils.rgb2hex([F.r/255,F.g/255,F.b/255]);L.lineStyle(1,X,F.opacity),L.beginFill(N,B.opacity);var G=I._xScale(I.chromInfo.chrPositions[j[0]].pos+ +j[1]),V=I._xScale(I.chromInfo.chrPositions[j[0]].pos+ +j[2]),z=I._yScale(I.chromInfo.chrPositions[j[3]].pos+ +j[4]),U=I._yScale(I.chromInfo.chrPositions[j[3]].pos+ +j[5]),Z=V-G,st=U-z,Y=typeof j[8]<"u"?j[8]:M,rt=typeof j[9]<"u"?j[9]:H;Z<Y&&(G=(G+V)/2-Y/2,Z=Y),st<rt&&(z=(z+U)/2-rt/2,st=rt),L.drawRect(G,z,Z,st),I.rects[W].graphics.clear(),I.rects[W].graphics.interactive=!0,I.rects[W].graphics.buttonMode=!0,I.rects[W].graphics.hitArea=new _.GLOBALS.PIXI.Rectangle(G,z,Z,st),I.rects[W].graphics.mousedown=function(){I.rects[W].mouseDownTime=performance.now()},I.rects[W].graphics.mouseup=function(ft){performance.now()-I.rects[W].mouseDownTime<C&&I.pubSub.publish("app.click",{type:"annotation",event:ft,payload:j})}})}}return R}()},{key:"setPosition",value:function(){function R(I){(0,p.default)(O.prototype.__proto__||(0,a.default)(O.prototype),"setPosition",this).call(this,I),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}return R}()},{key:"zoomed",value:function(){function R(I,M){this.xScale(I),this.yScale(M),this.draw()}return R}()}]),O}(k.default);r.default=S},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(37),a=X(n),l=t(19),e=X(l),o=t(18),s=X(o),u=t(630),c=X(u),m=t(35),p=X(m),h=t(5),v=X(h),x=t(3),y=X(x),k=t(4),T=X(k),E=t(6),_=X(E),A=t(14),C=X(A),S=t(7),P=X(S),O=t(180),R=X(O),I=t(28),M=t(20),H=t(40),L=X(H),D=t(73),j=X(D),W=t(140),B=X(W),F=t(10),N=t(11);function X(st){return st&&st.__esModule?st:{default:st}}var G=200,V=6,z=2,U=7829367,Z=function(st){(0,P.default)(Y,st);function Y(rt,ft){(0,y.default)(this,Y);var tt=(0,_.default)(this,(Y.__proto__||(0,v.default)(Y)).call(this,rt,ft)),K=rt.dataConfig,Q=rt.animate,ct=rt.chromInfoPath,nt=rt.isShowGlobalMousePosition;tt.searchField=null,tt.chromInfo=null,tt.dataConfig=K,tt.pTicks=new N.GLOBALS.PIXI.Graphics,tt.pMain.addChild(tt.pTicks),tt.gTicks={},tt.tickTexts={},tt.options=ft,tt.isShowGlobalMousePosition=nt,tt.textFontSize=12,tt.textFontFamily="Arial",tt.textFontColor="#808080",tt.textStrokeColor=tt.getTheme()===N.THEME_DARK?"#000000":"#ffffff",tt.pixiTextConfig={fontSize:+tt.options.fontSize?+tt.options.fontSize+"px":String(tt.textFontSize)+"px",fontFamily:tt.textFontFamily,fill:tt.options.color||tt.textFontColor,lineJoin:"round",stroke:tt.options.stroke||tt.textStrokeColor,strokeThickness:2},tt.stroke=(0,F.colorToHex)(tt.pixiTextConfig.stroke),tt.tickWidth=G,tt.tickHeight=V,tt.tickTextSeparation=z,tt.tickColor=tt.options.tickColor?(0,F.colorToHex)(tt.options.tickColor):U,tt.animate=Q,tt.pubSubs=[],tt.options.showMousePosition&&!tt.hideMousePosition&&(tt.hideMousePosition=(0,F.showMousePosition)(tt,tt.is2d,tt.isShowGlobalMousePosition()));var ot=ct;return ot||(ot=String(K.server)+"/chrom-sizes/?id="+String(K.tilesetUid)),(0,j.default)(ot,function(yt){tt.chromInfo=yt,tt.searchField=new B.default(tt.chromInfo),tt.rerender(tt.options,!0),tt.draw(),tt.animate()},tt.pubSub),tt}return(0,T.default)(Y,[{key:"initBoundsTicks",value:function(){function rt(){this.pTicks&&(this.pMain.removeChild(this.pTicks),this.pTicks=null),this.gBoundTicks||(this.gBoundTicks=new N.GLOBALS.PIXI.Graphics,this.leftBoundTick=new N.GLOBALS.PIXI.Text("",this.pixiTextConfig),this.rightBoundTick=new N.GLOBALS.PIXI.Text("",this.pixiTextConfig),this.gBoundTicks.addChild(this.leftBoundTick),this.gBoundTicks.addChild(this.rightBoundTick),this.pMain.addChild(this.gBoundTicks)),this.texts=[]}return rt}()},{key:"initChromLabels",value:function(){function rt(){if(this.chromInfo){this.gBoundTicks&&(this.pMain.removeChild(this.gBoundTicks),this.gBoundTicks=null),this.pTicks||(this.pTicks=new N.GLOBALS.PIXI.Graphics,this.pMain.addChild(this.pTicks)),this.texts=[],this.pTicks.removeChildren();for(var ft=0;ft<this.chromInfo.cumPositions.length;ft++){var tt=this.chromInfo.cumPositions[ft].chr;this.gTicks[tt]=new N.GLOBALS.PIXI.Graphics,this.tickTexts[tt]||(this.tickTexts[tt]=[]);var K=new N.GLOBALS.PIXI.Text(tt,this.pixiTextConfig);K.hashValue=Math.random(),this.pTicks.addChild(K),this.pTicks.addChild(this.gTicks[tt]),this.texts.push(K)}}}return rt}()},{key:"rerender",value:function(){function rt(ft,tt){var K=(0,p.default)(ft);!tt&&K===this.prevOptions||(this.prevOptions=K,this.options=ft,this.pixiTextConfig.fontSize=+this.options.fontSize?+this.options.fontSize+"px":this.pixiTextConfig.fontSize,this.pixiTextConfig.fill=this.options.color||this.pixiTextConfig.fill,this.pixiTextConfig.stroke=this.options.stroke||this.pixiTextConfig.stroke,this.stroke=(0,F.colorToHex)(this.pixiTextConfig.stroke),this.tickColor=this.options.tickColor?(0,F.colorToHex)(this.options.tickColor):U,this.options.tickPositions==="ends"?this.initBoundsTicks():this.initChromLabels(),(0,C.default)(Y.prototype.__proto__||(0,v.default)(Y.prototype),"rerender",this).call(this,ft,tt),this.options.showMousePosition&&!this.hideMousePosition&&(this.hideMousePosition=(0,F.showMousePosition)(this,this.is2d,this.isShowGlobalMousePosition())),!this.options.showMousePosition&&this.hideMousePosition&&(this.hideMousePosition(),this.hideMousePosition=void 0))}return rt}()},{key:"formatTick",value:function(){function rt(ft){var tt=this._xScale.domain(),K=tt[1]-tt[0],Q=(0,M.precisionPrefix)(ft,K),ct=(0,M.format)(","),nt=(0,M.formatPrefix)(",."+String(Q),K),ot=ct;return this.options.tickFormat==="si"?ot=nt:this.options.tickFormat==="plain"?ot=ct:this.options.tickPositions==="ends"&&(ot=nt),ot(ft)}return rt}()},{key:"drawBoundsTicks",value:function(){function rt(ft,tt){var K=this.gBoundTicks;K.clear(),K.lineStyle(1,0);var Q=this.options.reverseOrientation?0:this.dimensions[1],ct=this.options.reverseOrientation?this.tickHeight:this.dimensions[1]-this.tickHeight;K.moveTo(1,Q),K.lineTo(1,ct),K.moveTo(this.dimensions[0]-1,Q),K.lineTo(this.dimensions[0]-1,ct),this.leftBoundTick.x=0,this.leftBoundTick.y=this.options.reverseOrientation?ct+this.tickTextSeparation:ct-this.tickTextSeparation,this.leftBoundTick.text=String(ft[0])+": "+String(this.formatTick(ft[1])),this.leftBoundTick.anchor.y=this.options.reverseOrientation?0:1,this.rightBoundTick.x=this.dimensions[0],this.rightBoundTick.text=String(tt[0])+": "+String(this.formatTick(tt[1])),this.rightBoundTick.y=this.options.reverseOrientation?ct+this.tickTextSeparation:ct-this.tickTextSeparation,this.rightBoundTick.anchor.y=this.options.reverseOrientation?0:1,this.rightBoundTick.anchor.x=1,this.flipText&&(this.leftBoundTick.scale.x=-1,this.leftBoundTick.anchor.x=1,this.rightBoundTick.scale.x=-1,this.rightBoundTick.anchor.x=0),this.leftBoundTick.tickLine=[1,this.dimensions[1],1,this.dimensions[1]-this.tickHeight],this.rightBoundTick.tickLine=[this.dimensions[0]-1,this.dimensions[1],this.dimensions[0]-1,this.dimensions[1]-this.tickHeight],this.tickTexts={},this.tickTexts.all=[this.leftBoundTick,this.rightBoundTick]}return rt}()},{key:"drawTicks",value:function(){function rt(ft){var tt=this.gTicks[ft.chr];tt.visible=!0,tt.clear();var K=+this.chromInfo.chromLengths[ft.chr],Q=Math.max(this._xScale(ft.pos),0),ct=Math.min(this._xScale(ft.pos+K),this.dimensions[0]),nt=(ct-Q)/this.tickWidth,ot=(0,I.scaleLinear)().domain([Math.max(1,this._xScale.invert(0)-ft.pos),Math.min(K,this._xScale.invert(this.dimensions[0])-ft.pos)]).range(Q,ct),yt=ot.ticks(nt).filter(function(vt){return(0,c.default)(vt)}),pt=this.tickTexts[ft.chr],dt=this.options.fontIsLeftAligned?(+this.options.fontSize||this.textFontSize)/2:this.tickHeight,mt=this.flipText?-1:1,q=this.options.fontIsLeftAligned?mt*4:0,$=this.options.fontIsLeftAligned?0:dt+this.tickTextSeparation;for(this.options.reverseOrientation&&($=this.dimensions[1]-$);pt.length<yt.length;){var J=new N.GLOBALS.PIXI.Text("",this.pixiTextConfig);pt.push(J),this.gTicks[ft.chr].addChild(J)}for(;pt.length>yt.length;){var lt=pt.pop();this.gTicks[ft.chr].removeChild(lt)}for(var ut=0;ut<yt.length;){pt[ut].visible=!0,pt[ut].anchor.x=this.options.fontIsLeftAligned?0:.5,pt[ut].anchor.y=this.options.reverseOrientation?0:1,this.flipText&&(pt[ut].scale.x=-1),pt[ut].x=this._xScale(ft.pos+yt[ut])+q,pt[ut].y=this.dimensions[1]-$,pt[ut].text=yt[ut]===0?String(ft.chr)+": 1":String(ft.chr)+": "+String(this.formatTick(yt[ut]));var ht=this._xScale(ft.pos+yt[ut]);pt[ut].tickLine=[ht-1,this.dimensions[1],ht-1,this.dimensions[1]-dt-1];var bt=this.options.reverseOrientation?0:this.dimensions[1],kt=this.options.reverseOrientation?dt:this.dimensions[1]-dt;tt.lineStyle(1,this.stroke),tt.moveTo(ht-1,bt),tt.lineTo(ht-1,kt-1),this.options.fontIsLeftAligned?(tt.lineTo(ht+2*mt+1*mt,kt-1),tt.lineTo(ht+2*mt+1*mt,kt+1),tt.lineTo(ht+1,kt+1)):tt.lineTo(ht+1,kt-1),tt.lineTo(ht+1,bt),tt.lineStyle(1,this.tickColor),tt.moveTo(ht,bt),tt.lineTo(ht,kt),this.options.fontIsLeftAligned&&tt.lineTo(ht+2*mt,kt),ut+=1}for(;ut<pt.length;)pt[ut].visible=!1,ut+=1;return yt.length}return rt}()},{key:"draw",value:function(){function rt(){var ft=this;if(this.allTexts=[],!(!this.texts||!this.searchField)){var tt=(0,F.absToChr)(this._xScale.domain()[0],this.chromInfo),K=(0,F.absToChr)(this._xScale.domain()[1],this.chromInfo);if(!tt||!K){console.warn("Empty chromInfo:",this.dataConfig,this.chromInfo);return}if(this.options.tickPositions==="ends"){if(!this.gBoundTicks)return;this.gBoundTicks.visible=!0,this.drawBoundsTicks(tt,K);return}if(this.pTicks){for(var Q=0;Q<this.texts.length;Q++)this.texts[Q].visible=!1,this.gTicks[this.chromInfo.cumPositions[Q].chr].visible=!1;var ct=this.options.fontIsLeftAligned?0:this.tickHeight+this.tickTextSeparation;this.options.reverseOrientation&&(ct=this.dimensions[1]-ct),(0,s.default)(this.chromInfo.chrPositions).forEach(function(q){if(ft.tickTexts[q])for(var $=0;$<ft.tickTexts[q].length;$++)ft.tickTexts[q][$].visible=!1});for(var nt=tt[3];nt<=K[3];nt++){var ot=this.chromInfo.cumPositions[nt],yt=ot.pos+this.chromInfo.chromLengths[ot.chr]/2,pt=this._xScale(yt),dt=this.texts[nt];dt.anchor.x=this.options.fontIsLeftAligned?0:.5,dt.anchor.y=this.options.reverseOrientation?0:1,dt.x=pt,dt.y=this.dimensions[1]-ct,dt.updateTransform(),this.flipText&&(dt.scale.x=-1);var mt=this.drawTicks(ot);dt.visible=mt<=0,this.allTexts.push({importance:dt.hashValue,text:dt,caption:null})}this.hideOverlaps(this.allTexts)}}}return rt}()},{key:"hideOverlaps",value:function(){function rt(ft){var tt=[];tt=ft.map(function(K,Q){var ct=K.text;ct.updateTransform();var nt=ct.getBounds(),ot=[nt.x,nt.y,nt.x+nt.width,nt.y+nt.height];return ot}),(0,R.default)(tt,function(K,Q){ft[K].importance>ft[Q].importance?ft[Q].text.visible=!1:ft[K].text.visible=!1})}return rt}()},{key:"setPosition",value:function(){function rt(ft){(0,C.default)(Y.prototype.__proto__||(0,v.default)(Y.prototype),"setPosition",this).call(this,ft);var tt=(0,e.default)(this.position,2);this.pMain.position.x=tt[0],this.pMain.position.y=tt[1]}return rt}()},{key:"zoomed",value:function(){function rt(ft,tt){this.xScale(ft),this.yScale(tt),this.draw()}return rt}()},{key:"exportSVG",value:function(){function rt(){var ft=this,tt=null,K=null;if((0,C.default)(Y.prototype.__proto__||(0,v.default)(Y.prototype),"exportSVG",this)){var Q=(0,C.default)(Y.prototype.__proto__||(0,v.default)(Y.prototype),"exportSVG",this).call(this),ct=(0,e.default)(Q,2);K=ct[0],tt=ct[1]}else K=document.createElement("g"),tt=K;K.setAttribute("class","chromosome-labels");var nt=document.createElement("g");return tt.appendChild(nt),nt.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),this.allTexts.filter(function(ot){return ot.text.visible}).forEach(function(ot){var yt=(0,F.pixiTextToSvg)(ot.text);nt.appendChild(yt)}),(0,a.default)(this.tickTexts).forEach(function(ot){ot.filter(function(yt){return yt.visible}).forEach(function(yt){var pt=(0,F.pixiTextToSvg)(yt);nt.appendChild(pt),pt=(0,F.svgLine)(yt.x,ft.options.reverseOrientation?0:ft.dimensions[1],yt.x,ft.options.reverseOrientation?ft.tickHeight:ft.dimensions[1]-ft.tickHeight,1,ft.tickColor);var dt=document.createElement("line");dt.setAttribute("x1",yt.tickLine[0]),dt.setAttribute("y1",yt.tickLine[1]),dt.setAttribute("x2",yt.tickLine[2]),dt.setAttribute("y2",yt.tickLine[3]),dt.setAttribute("style","stroke: grey"),nt.appendChild(pt),nt.appendChild(dt)})}),[K,tt]}return rt}()}]),Y}(L.default);r.default=Z},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(17),a=P(n),l=t(19),e=P(l),o=t(5),s=P(o),u=t(3),c=P(u),m=t(4),p=P(m),h=t(6),v=P(h),x=t(14),y=P(x),k=t(7),T=P(k),E=t(135),_=P(E),A=t(24),C=t(10),S=t(11);function P(R){return R&&R.__esModule?R:{default:R}}var O=function(R){(0,T.default)(I,R);function I(M,H){(0,c.default)(this,I);var L=(0,v.default)(this,(I.__proto__||(0,s.default)(I)).call(this,M,H)),D=M.animate;return L.pMain=L.pMobile,L.colorScale=S.HEATED_OBJECT_MAP,L.continuousScaling=!1,H&&H.colorRange&&(L.colorScale=(0,C.colorDomainToRgbaArray)(H.colorRange)),L.animate=D,L.options=H,L.pubSubs=[],L}return(0,p.default)(I,[{key:"rerender",value:function(){function M(H,L){(0,y.default)(I.prototype.__proto__||(0,s.default)(I.prototype),"rerender",this).call(this,H,L),this.zoomed(this.xScale(),this.yScale(),this.pMain.scale.x,this.pMain.position.x,this.pMain.position.y)}return M}()},{key:"calculateZoomLevel",value:function(){function M(){var H=null;if(this.tilesetInfo.resolutions){var L=A.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),D=A.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]);H=Math.min(L,D)}else{var j=A.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),W=A.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]);H=Math.max(j,W),H=Math.min(H,this.maxZoom)}return this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?H=Math.min(this.options.maxZoom,H):console.error("Invalid maxZoom on track:",this)),H}return M}()},{key:"calculateVisibleTiles",value:function(){function M(){if(this.tilesetInfo){this.zoomLevel=this.calculateZoomLevel();var H=this._xScale.copy();if(H.domain([this._xScale.invert(this._xScale.range()[0]-this.dimensions[1]*Math.sqrt(2)),this._xScale.invert(this._xScale.range()[1]+this.dimensions[1]*Math.sqrt(2))]),this.tilesetInfo.resolutions){var L=this.tilesetInfo.resolutions.map(function(U){return+U}).sort(function(U,Z){return Z-U});this.xTiles=A.tileProxy.calculateTilesFromResolution(L[this.zoomLevel],H,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),this.yTiles=A.tileProxy.calculateTilesFromResolution(L[this.zoomLevel],H,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0])}else this.xTiles=A.tileProxy.calculateTiles(this.zoomLevel,H,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=A.tileProxy.calculateTiles(this.zoomLevel,H,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);for(var D=this.xTiles,j=this.yTiles,W=this.zoomLevel,B=this.tilesetInfo.max_width,F=B/Math.pow(2,W),N=[],X=0;X<D.length;X++)for(var G=X;G<j.length;G++){var V=(G-X-2)*(this._xScale(F)-this._xScale(0))*Math.sqrt(2)/2;if(!(V>this.dimensions[1])){var z=[W,D[X],j[G]];z.mirrored=!1,z.dataTransform=this.options.dataTransform?this.options.dataTransform:"default",N.push(z)}}this.setVisibleTiles(N)}}return M}()},{key:"tileDataToCanvas",value:function(){function M(H){var L=document.createElement("canvas");L.width=256,L.height=256;var D=L.getContext("2d");D.fillStyle="transparent",D.fillRect(0,0,L.width,L.height);var j=new ImageData(H,L.width,L.height);return D.putImageData(j,0,0),L}return M}()},{key:"setSpriteProperties",value:function(){function M(H,L,D,j){var W=this.getTilePosAndDimensions(L,D),B=W.tileX,F=W.tileY,N=W.tileWidth,X=W.tileHeight,G=B+N,V=F+X;H.width=this._refXScale(G)-this._refXScale(B),H.height=this._refYScale(V)-this._refYScale(F),H.x=this._refXScale(B),H.y=this._refYScale(F)}return M}()},{key:"pixDataFunction",value:function(){function M(H,L){if(L){var D=H.graphics,j=this.tileDataToCanvas(L.pixData),W=S.GLOBALS.PIXI.VERSION[0]==="4"?S.GLOBALS.PIXI.Texture.fromCanvas(j,S.GLOBALS.PIXI.SCALE_MODES.NEAREST):S.GLOBALS.PIXI.Texture.from(j,{scaleMode:S.GLOBALS.PIXI.SCALE_MODES.NEAREST});H.sprite=new S.GLOBALS.PIXI.Sprite(W),H.canvas=j,this.setSpriteProperties(H.sprite,H.tileData.zoomLevel,H.tileData.tilePos,H.mirrored),D.pivot.x=this._refXScale(0),D.pivot.y=this._refYScale(0),D.scale.x=-1/Math.sqrt(2),D.rotation=-3*Math.PI/4,D.scale.y=1/Math.sqrt(2),D.position.x=this._refXScale(0),D.position.y=0,D.removeChildren(),D.addChild(H.sprite)}this.renderingTiles.delete(H.tileId)}return M}()},{key:"refScalesChanged",value:function(){function M(H,L){(0,y.default)(I.prototype.__proto__||(0,s.default)(I.prototype),"refScalesChanged",this).call(this,H,L);for(var D in this.fetchedTiles){var j=this.fetchedTiles[D];if(j.sprite){this.setSpriteProperties(j.sprite,j.tileData.zoomLevel,j.tileData.tilePos,j.mirrored);var W=j.graphics;W.pivot.x=this._refXScale(0),W.pivot.y=this._refYScale(0),W.scale.x=-1/Math.sqrt(2),W.rotation=-3*Math.PI/4,W.scale.y=1/Math.sqrt(2),W.position.x=this._refXScale(0),W.position.y=0}}}return M}()},{key:"zoomed",value:function(){function M(H,L,D,j,W){(0,y.default)(I.prototype.__proto__||(0,s.default)(I.prototype),"zoomed",this).call(this,H,L,D,j,W),(0,y.default)(I.prototype.__proto__||(0,s.default)(I.prototype),"draw",this).call(this),this.pMain.position.x=j,this.pMain.position.y=this.position[1]+this.dimensions[1],this.pMain.scale.x=D,this.pMain.scale.y=D,this.options.oneDHeatmapFlipped&&(this.pMain.scale.y=-D,this.pMain.position.y=this.position[1])}return M}()},{key:"leftTrackDraw",value:function(){function M(){this.draw()}return M}()},{key:"exportSVG",value:function(){function M(){var H=null,L=null,D=(0,y.default)(I.prototype.__proto__||(0,s.default)(I.prototype),"superSVG",this).call(this),j=(0,e.default)(D,2);L=j[0],H=j[1];var W=document.createElement("g");H.appendChild(W),W.setAttribute("transform","translate("+String(this.pMain.position.x)+","+String(this.pMain.position.y)+") scale("+String(this.pMain.scale.x)+","+String(this.pMain.scale.y)+")");var B=!0,F=!1,N=void 0;try{for(var X=(0,a.default)(this.visibleAndFetchedTiles()),G;!(B=(G=X.next()).done);B=!0){var V=G.value,z=document.createElement("g"),U=V.graphics,Z=U.rotation*180/Math.PI,st="translate("+String(U.position.x)+","+String(U.position.y)+") rotate("+Z+") scale("+String(U.scale.x)+","+String(U.scale.y)+") translate("+-U.pivot.x+","+-U.pivot.y+")";z.setAttribute("transform",st);var Y=V.sprite.rotation*180/Math.PI,rt=document.createElement("g");rt.setAttribute("transform","translate("+String(V.sprite.x)+","+String(V.sprite.y)+") rotate("+Y+") scale("+String(V.sprite.scale.x)+","+String(V.sprite.scale.y)+")");var ft=document.createElement("image");ft.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",V.canvas.toDataURL()),ft.setAttribute("width",256),ft.setAttribute("height",256),rt.appendChild(ft),z.appendChild(rt),W.appendChild(z)}}catch(K){F=!0,N=K}finally{try{!B&&X.return&&X.return()}finally{if(F)throw N}}var tt=this.exportColorBarSVG();return H.appendChild(tt),[L,L]}return M}()}]),I}(_.default);r.default=O},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(30),a=O(n),l=t(25),e=O(l),o=t(18),s=O(o),u=t(5),c=O(u),m=t(3),p=O(m),h=t(4),v=O(h),x=t(6),y=O(x),k=t(7),T=O(k),E=t(28),_=t(116),A=O(_),C=t(179),S=O(C),P=t(10);function O(I){return I&&I.__esModule?I:{default:I}}var R=function(I){(0,T.default)(M,I);function M(H,L){(0,p.default)(this,M);var D=(0,y.default)(this,(M.__proto__||(0,c.default)(M)).call(this,H,L));return D.axis=new S.default(D),D.pBase.addChild(D.axis.pAxis),D}return(0,v.default)(M,[{key:"initTile",value:function(){function H(L){this.scale.minRawValue=this.minVisibleValueInTiles(),this.scale.maxRawValue=this.minVisibleValueInTiles(),this.scale.minValue=this.scale.minRawValue,this.scale.maxValue=this.scale.maxRawValue,this.drawTile(L)}return H}()},{key:"drawTile",value:function(){function H(L){var D=this;if(L.graphics){var j=L.graphics,W=6,B=4;j.clear(),this.valueScale=(0,E.scaleLog)().domain([this.minValue()+.01,this.maxValue()]).range([this.dimensions[1]-W/2,W/2]);var F=(0,P.colorToHex)("black");j.lineStyle(1,F,.3),j.beginFill(F,.3),this.drawAxis(this.valueScale),L.tileData.forEach(function(N){var X=N.fields,G=+N.chrOffset,V=+X[1]+G,z=+X[2]+G,U=+X[3],Z=D._xScale(V),st=D._xScale(z),Y=Math.max(st-Z,B),rt=D.valueScale(U),ft=(st+Z)/2;j.drawRect(ft-Y/2,rt-W/2,Y,W)})}}return H}()},{key:"minVisibleValueInTiles",value:function(){function H(){var L=this,D=this.visibleAndFetchedIds();D.length===0&&(D=(0,s.default)(this.fetchedTiles));var j=Math.min.apply(null,D.map(function(W){return+Math.min.apply(Math,(0,e.default)(L.fetchedTiles[W].tileData.filter(function(B){return!(0,a.default)(B.fields[3])}).map(function(B){return+B.fields[3]})))}));return j}return H}()},{key:"maxVisibleValueInTiles",value:function(){function H(){var L=this,D=this.visibleAndFetchedIds();D.length===0&&(D=(0,s.default)(this.fetchedTiles));var j=Math.max.apply(null,D.map(function(W){return+Math.max.apply(Math,(0,e.default)(L.fetchedTiles[W].tileData.filter(function(B){return!(0,a.default)(B.fields[3])}).map(function(B){return+B.fields[3]})))}));return j}return H}()}]),M}(A.default);r.default=R},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(5),a=A(n),l=t(3),e=A(l),o=t(4),s=A(o),u=t(6),c=A(u),m=t(14),p=A(m),h=t(7),v=A(h),x=t(26),y=A(x),k=t(83),T=t(0),E=t(80),_=A(E);function A(S){return S&&S.__esModule?S:{default:S}}var C=function(S){(0,v.default)(P,S);function P(O,R){(0,e.default)(this,P);var I=(0,c.default)(this,(P.__proto__||(0,a.default)(P)).call(this,O,R)),M=O.registerViewportChanged,H=O.removeViewportChanged,L=O.setDomainsCallback,D=y.default.nice();return I.uid=D,I.options=R,I.hasFromView=!O.projectionXDomain||!O.projectionYDomain,I.removeViewportChanged=H,I.setDomainsCallback=L,I.viewportXDomain=I.hasFromView?null:O.projectionXDomain,I.viewportYDomain=I.hasFromView?null:O.projectionYDomain,I.brush=(0,k.brush)().on("brush",I.brushed.bind(I)),I.gBrush=I.gMain.append("g").attr("id","brush-"+String(I.uid)).call(I.brush),I.gBrush.selectAll(".overlay").style("pointer-events","none"),I.gBrush.selectAll(".handle--n").style("pointer-events","none"),I.gBrush.selectAll(".handle--s").style("pointer-events","none"),I.gBrush.selectAll(".handle--w").style("pointer-events","none"),I.gBrush.selectAll(".handle--e").style("pointer-events","none"),M(D,I.viewportChanged.bind(I)),I.rerender(),I.draw(),I}return(0,s.default)(P,[{key:"brushed",value:function(){function O(){var R=T.event.selection;if(!(!this._xScale||!this._yScale)){var I=[this._xScale.invert(R[0][0]),this._xScale.invert(R[1][0])],M=[this._yScale.invert(R[0][1]),this._yScale.invert(R[1][1])];this.hasFromView||(this.viewportXDomain=I,this.viewportYDomain=M),this.setDomainsCallback(I,M)}}return O}()},{key:"viewportChanged",value:function(){function O(R,I){var M=R.domain(),H=I.domain();this.viewportXDomain=M,this.viewportYDomain=H,this.draw()}return O}()},{key:"remove",value:function(){function O(){this.removeViewportChanged(this.uid),(0,p.default)(P.prototype.__proto__||(0,a.default)(P.prototype),"remove",this).call(this)}return O}()},{key:"rerender",value:function(){function O(){this.gBrush.selectAll(".selection").attr("fill",this.options.projectionFillColor).attr("stroke",this.options.projectionStrokeColor).attr("fill-opacity",this.options.projectionFillOpacity).attr("stroke-opacity",this.options.projectionStrokeOpacity).attr("stroke-width",this.options.strokeWidth)}return O}()},{key:"draw",value:function(){function O(){if(!(!this._xScale||!this.yScale)&&!(!this.viewportXDomain||!this.viewportYDomain)){var R=this._xScale(this.viewportXDomain[0]),I=this._yScale(this.viewportYDomain[0]),M=this._xScale(this.viewportXDomain[1]),H=this._yScale(this.viewportYDomain[1]),L=[[R,I],[M,H]];this.brush.on("brush",null),this.gBrush.call(this.brush.move,L),this.brush.on("brush",this.brushed.bind(this))}}return O}()},{key:"zoomed",value:function(){function O(R,I){this.xScale(R),this.yScale(I),this.draw()}return O}()},{key:"setPosition",value:function(){function O(R){(0,p.default)(P.prototype.__proto__||(0,a.default)(P.prototype),"setPosition",this).call(this,R),this.draw()}return O}()},{key:"setDimensions",value:function(){function O(R){(0,p.default)(P.prototype.__proto__||(0,a.default)(P.prototype),"setDimensions",this).call(this,R);var I=this._xScale.range(),M=this._yScale.range(),H=I[1]-I[0],L=M[1]-M[0];this.brush.extent([[I[0]-H,M[0]-L],[I[1]+H,M[1]+L]]),this.gBrush.call(this.brush),this.draw()}return O}()}]),P}(_.default);r.default=C},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(5),a=A(n),l=t(3),e=A(l),o=t(4),s=A(o),u=t(6),c=A(u),m=t(14),p=A(m),h=t(7),v=A(h),x=t(83),y=t(0),k=t(26),T=A(k),E=t(80),_=A(E);function A(S){return S&&S.__esModule?S:{default:S}}var C=function(S){(0,v.default)(P,S);function P(O,R){(0,e.default)(this,P);var I=(0,c.default)(this,(P.__proto__||(0,a.default)(P)).call(this,O,R)),M=O.registerViewportChanged,H=O.removeViewportChanged,L=O.setDomainsCallback,D=T.default.nice();return I.uid=D,I.options=R,I.hasFromView=!O.projectionXDomain,I.removeViewportChanged=H,I.setDomainsCallback=L,I.viewportXDomain=I.hasFromView?null:O.projectionXDomain,I.viewportYDomain=I.hasFromView?null:[0,0],I.brush=(0,x.brushX)().on("brush",I.brushed.bind(I)),I.gBrush=I.gMain.append("g").attr("id","brush-"+String(I.uid)).call(I.brush),I.gBrush.selectAll(".overlay").style("pointer-events","none"),I.gBrush.selectAll(".handle--ne").style("pointer-events","none"),I.gBrush.selectAll(".handle--nw").style("pointer-events","none"),I.gBrush.selectAll(".handle--sw").style("pointer-events","none"),I.gBrush.selectAll(".handle--se").style("pointer-events","none"),I.gBrush.selectAll(".handle--n").style("pointer-events","none"),I.gBrush.selectAll(".handle--s").style("pointer-events","none"),M(D,I.viewportChanged.bind(I)),I.rerender(),I.draw(),I}return(0,s.default)(P,[{key:"brushed",value:function(){function O(){var R=y.event.selection;if(!(!this._xScale||!this._yScale)){var I=[this._xScale.invert(R[0]),this._xScale.invert(R[1])],M=this.viewportYDomain;this.hasFromView||(this.viewportXDomain=I),this.setDomainsCallback(I,M)}}return O}()},{key:"viewportChanged",value:function(){function O(R,I){var M=R.domain(),H=I.domain();this.viewportXDomain=M,this.viewportYDomain=H,this.draw()}return O}()},{key:"remove",value:function(){function O(){this.removeViewportChanged(this.uid),(0,p.default)(P.prototype.__proto__||(0,a.default)(P.prototype),"remove",this).call(this)}return O}()},{key:"rerender",value:function(){function O(){this.gBrush.selectAll(".selection").attr("fill",this.options.projectionFillColor).attr("stroke",this.options.projectionStrokeColor).attr("fill-opacity",this.options.projectionFillOpacity).attr("stroke-opacity",this.options.projectionStrokeOpacity).attr("stroke-width",this.options.strokeWidth)}return O}()},{key:"draw",value:function(){function O(){if(!(!this._xScale||!this.yScale)&&!(!this.viewportXDomain||!this.viewportYDomain)){var R=this._xScale(this.viewportXDomain[0]),I=this._xScale(this.viewportXDomain[1]),M=[R,I];this.brush.on("brush",null),this.gBrush.call(this.brush.move,M),this.brush.on("brush",this.brushed.bind(this))}}return O}()},{key:"zoomed",value:function(){function O(R,I){this.xScale(R),this.yScale(I),this.draw()}return O}()},{key:"setPosition",value:function(){function O(R){(0,p.default)(P.prototype.__proto__||(0,a.default)(P.prototype),"setPosition",this).call(this,R),this.draw()}return O}()},{key:"setDimensions",value:function(){function O(R){(0,p.default)(P.prototype.__proto__||(0,a.default)(P.prototype),"setDimensions",this).call(this,R);var I=this._xScale.range(),M=this._yScale.range(),H=I[1]-I[0];this.brush.extent([[I[0]-H,M[0]],[I[1]+H,M[1]]]),this.gBrush.call(this.brush),this.draw()}return O}()}]),P}(_.default);r.default=C},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(5),a=A(n),l=t(3),e=A(l),o=t(4),s=A(o),u=t(6),c=A(u),m=t(14),p=A(m),h=t(7),v=A(h),x=t(83),y=t(0),k=t(26),T=A(k),E=t(80),_=A(E);function A(S){return S&&S.__esModule?S:{default:S}}var C=function(S){(0,v.default)(P,S);function P(O,R){(0,e.default)(this,P);var I=(0,c.default)(this,(P.__proto__||(0,a.default)(P)).call(this,O,R)),M=O.registerViewportChanged,H=O.removeViewportChanged,L=O.setDomainsCallback,D=T.default.nice();return I.uid=D,I.options=R,I.hasFromView=!O.projectionYDomain,I.removeViewportChanged=H,I.setDomainsCallback=L,I.viewportXDomain=I.hasFromView?null:[0,0],I.viewportYDomain=I.hasFromView?null:O.projectionYDomain,I.brush=(0,x.brushY)().on("brush",I.brushed.bind(I)),I.gBrush=I.gMain.append("g").attr("id","brush-"+String(I.uid)).call(I.brush),I.gBrush.selectAll(".overlay").style("pointer-events","none"),I.gBrush.selectAll(".handle--ne").style("pointer-events","none"),I.gBrush.selectAll(".handle--nw").style("pointer-events","none"),I.gBrush.selectAll(".handle--sw").style("pointer-events","none"),I.gBrush.selectAll(".handle--se").style("pointer-events","none"),I.gBrush.selectAll(".handle--e").style("pointer-events","none"),I.gBrush.selectAll(".handle--w").style("pointer-events","none"),M(D,I.viewportChanged.bind(I)),I.rerender(),I.draw(),I}return(0,s.default)(P,[{key:"brushed",value:function(){function O(){var R=y.event.selection;if(!(!this._xScale||!this._yScale)){var I=this.viewportXDomain,M=[this._yScale.invert(R[0]),this._yScale.invert(R[1])];this.hasFromView||(this.viewportYDomain=M),this.setDomainsCallback(I,M)}}return O}()},{key:"viewportChanged",value:function(){function O(R,I){var M=R.domain(),H=I.domain();this.viewportXDomain=M,this.viewportYDomain=H,this.draw()}return O}()},{key:"remove",value:function(){function O(){this.removeViewportChanged(this.uid),(0,p.default)(P.prototype.__proto__||(0,a.default)(P.prototype),"remove",this).call(this)}return O}()},{key:"rerender",value:function(){function O(){this.gBrush.selectAll(".selection").attr("fill",this.options.projectionFillColor).attr("stroke",this.options.projectionStrokeColor).attr("fill-opacity",this.options.projectionFillOpacity).attr("stroke-opacity",this.options.projectionStrokeOpacity).attr("stroke-width",this.options.strokeWidth)}return O}()},{key:"draw",value:function(){function O(){if(!(!this._xScale||!this.yScale)&&!(!this.viewportXDomain||!this.viewportYDomain)){var R=this._yScale(this.viewportYDomain[0]),I=this._yScale(this.viewportYDomain[1]),M=[R,I];this.brush.on("brush",null),this.gBrush.call(this.brush.move,M),this.brush.on("brush",this.brushed.bind(this))}}return O}()},{key:"zoomed",value:function(){function O(R,I){this.xScale(R),this.yScale(I),this.draw()}return O}()},{key:"setPosition",value:function(){function O(R){(0,p.default)(P.prototype.__proto__||(0,a.default)(P.prototype),"setPosition",this).call(this,R),this.draw()}return O}()},{key:"setDimensions",value:function(){function O(R){(0,p.default)(P.prototype.__proto__||(0,a.default)(P.prototype),"setDimensions",this).call(this,R);var I=this._xScale.range(),M=this._yScale.range(),H=M[1]-M[0];this.brush.extent([[I[0],M[0]-H],[I[1],M[1]+H]]),this.gBrush.call(this.brush),this.draw()}return O}()}]),P}(_.default);r.default=C},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.HorizontalRuleMixin=void 0;var n=t(19),a=S(n),l=t(14),e=S(l),o=t(5),s=S(o),u=t(3),c=S(u),m=t(4),p=S(m),h=t(6),v=S(h),x=t(7),y=S(x),k=t(81),T=t(40),E=S(T),_=t(261),A=S(_),C=t(10);function S(R){return R&&R.__esModule?R:{default:R}}var P=r.HorizontalRuleMixin=(0,k.Mixin)(function(R){return function(I){(0,y.default)(M,I);function M(){return(0,c.default)(this,M),(0,v.default)(this,(M.__proto__||(0,s.default)(M)).apply(this,arguments))}return(0,p.default)(M,[{key:"drawHorizontalRule",value:function(){function H(L){var D=(0,C.colorToHex)(this.options.color||"black");this.highlighted&&(D=(0,C.colorToHex)("red")),L.lineStyle(this.strokeWidth,D,this.strokeOpacity);for(var j=0;j<this.dimensions[0];)L.moveTo(j,this._yScale(this.yPosition)),L.lineTo(j+this.dashLength,this._yScale(this.yPosition)),j+=this.dashLength+this.dashGap}return H}()},{key:"isMouseOverHorizontalLine",value:function(){function H(L){return Math.abs(L.y-this.position[1]-this._yScale(this.yPosition))<this.MOUSEOVER_RADIUS}return H}()}]),M}(R)}),O=function(R){(0,y.default)(I,R);function I(M,H){(0,c.default)(this,I);var L=(0,v.default)(this,(I.__proto__||(0,s.default)(I)).call(this,M,H));return L.yPosition=M.yPosition,L.strokeWidth=2,L.strokeOpacity=1,L.dashLength=5,L.dashGap=3,L}return(0,p.default)(I,[{key:"mouseMoveHandler",value:function(){function M(H){if(this.isWithin(H.x,H.y)&&this.isMouseOverHorizontalLine(H)){this.highlighted=!0,this.draw();return}this.highlighted=!1,this.draw()}return M}()},{key:"draw",value:function(){function M(){var H=this.pMain;H.clear(),this.drawHorizontalRule(H),this.animate()}return M}()},{key:"exportSVG",value:function(){function M(){var H=null,L=null;if((0,e.default)(I.prototype.__proto__||(0,s.default)(I.prototype),"exportSVG",this)){var D=(0,e.default)(I.prototype.__proto__||(0,s.default)(I.prototype),"exportSVG",this).call(this),j=(0,a.default)(D,2);L=j[0],H=j[1]}else L=document.createElement("g"),H=L;var W=document.createElement("g");W.setAttribute("class","horizontal-rule"),W.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),H.appendChild(W);var B=this.options.color||"black",F=document.createElement("line");return F.setAttribute("stroke",B),F.setAttribute("stroke-width",this.strokeWidth),F.setAttribute("stroke-dasharray",String(this.dashLength)+" "+String(this.dashGap)),F.setAttribute("x1",0),F.setAttribute("y1",this._yScale(this.yPosition)),F.setAttribute("x2",this.dimensions[0]),F.setAttribute("y2",this._yScale(this.yPosition)),W.appendChild(F),[L,H]}return M}()}]),I}((0,k.mix)(E.default).with(A.default,P));r.default=O},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(19),a=P(n),l=t(5),e=P(l),o=t(3),s=P(o),u=t(4),c=P(u),m=t(6),p=P(m),h=t(14),v=P(h),x=t(7),y=P(x),k=t(10),T=t(81),E=t(40),_=P(E),A=t(261),C=P(A),S=t(262);function P(R){return R&&R.__esModule?R:{default:R}}var O=function(R){(0,y.default)(I,R);function I(M,H){(0,s.default)(this,I);var L=(0,p.default)(this,(I.__proto__||(0,e.default)(I)).call(this,M,H)),D=M.x,j=M.y;return L.xPosition=D,L.yPosition=j,L.strokeWidth=2,L.strokeOpacity=1,L.dashLength=5,L.dashGap=3,L}return(0,c.default)(I,[{key:"draw",value:function(){function M(){var H=this.pMain;H.clear(),this.drawHorizontalRule(H),this.drawVerticalRule(H)}return M}()},{key:"mouseMoveHandler",value:function(){function M(H){this.highlighted=this.isWithin(H.x,H.y)&&(this.isMouseOverHorizontalLine(H)||this.isMouseOverVerticalLine(H)),this.draw()}return M}()},{key:"drawHorizontalRule",value:function(){function M(H){var L=(0,k.colorToHex)(this.options.color||"black");this.highlighted&&(L=(0,k.colorToHex)("red")),H.lineStyle(this.strokeWidth,L,this.strokeOpacity);for(var D=0;D<this.dimensions[0];)H.moveTo(D,this._yScale(this.yPosition)),H.lineTo(D+this.dashLength,this._yScale(this.yPosition)),D+=this.dashLength+this.dashGap}return M}()},{key:"isMouseOverHorizontalLine",value:function(){function M(H){return Math.abs(H.y-this.position[1]-this._yScale(this.yPosition))<this.MOUSEOVER_RADIUS}return M}()},{key:"exportSVG",value:function(){function M(){var H=null,L=null;if((0,v.default)(I.prototype.__proto__||(0,e.default)(I.prototype),"exportSVG",this)){var D=(0,v.default)(I.prototype.__proto__||(0,e.default)(I.prototype),"exportSVG",this).call(this),j=(0,a.default)(D,2);L=j[0],H=j[1]}else L=document.createElement("g"),H=L;var W=document.createElement("g");W.setAttribute("class","cross-rule"),W.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),H.appendChild(W);var B=this.options.color||"black",F=document.createElement("line");F.setAttribute("stroke",B),F.setAttribute("stroke-width",this.strokeWidth),F.setAttribute("stroke-dasharray",String(this.dashLength)+" "+String(this.dashGap)),F.setAttribute("x1",this._xScale(this.xPosition)),F.setAttribute("y1",0),F.setAttribute("x2",this._xScale(this.xPosition)),F.setAttribute("y2",this.dimensions[1]);var N=document.createElement("line");return N.setAttribute("stroke",B),N.setAttribute("stroke-width",this.strokeWidth),N.setAttribute("stroke-dasharray",String(this.dashLength)+" "+String(this.dashGap)),N.setAttribute("x1",0),N.setAttribute("y1",this._yScale(this.yPosition)),N.setAttribute("x2",this.dimensions[0]),N.setAttribute("y2",this._yScale(this.yPosition)),W.appendChild(F),W.appendChild(N),[L,H]}return M}()}]),I}((0,T.mix)(_.default).with(C.default,S.VerticalRuleMixin));r.default=O},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(5),a=T(n),l=t(3),e=T(l),o=t(4),s=T(o),u=t(6),c=T(u),m=t(14),p=T(m),h=t(7),v=T(h),x=t(254),y=t(141),k=T(y);function T(_){return _&&_.__esModule?_:{default:_}}var E=function(_){(0,v.default)(A,_);function A(){return(0,e.default)(this,A),(0,c.default)(this,(A.__proto__||(0,a.default)(A)).apply(this,arguments))}return(0,s.default)(A,[{key:"initTile",value:function(){function C(S){x.initTile.bind(this)(S),this.drawTile(S)}return C}()},{key:"drawTile",value:function(){function C(S){x.drawTile.bind(this)(S)}return C}()},{key:"areAllVisibleTilesLoaded",value:function(){function C(){return!0}return C}()},{key:"fetchNewTiles",value:function(){function C(S){var P=this;S.forEach(function(O){var R=O.remoteId,I=R.split("."),M={zoomLevel:I[0],tilePos:I.slice(1,I.length).map(function(H){return+H})};P.fetchedTiles[O.tileId]=O,P.fetchedTiles[O.tileId].tileData=M,P.fetching.has(O.remoteId)&&P.fetching.delete(O.remoteId)}),this.synchronizeTilesAndGraphics(),this.draw(),this.animate()}return C}()},{key:"draw",value:function(){function C(){(0,p.default)(A.prototype.__proto__||(0,a.default)(A.prototype),"draw",this).call(this)}return C}()}]),A}(k.default);r.default=E},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(5),a=k(n),l=t(3),e=k(l),o=t(4),s=k(o),u=t(6),c=k(u),m=t(14),p=k(m),h=t(7),v=k(h),x=t(141),y=k(x);function k(E){return E&&E.__esModule?E:{default:E}}var T=function(E){(0,v.default)(_,E);function _(A,C){(0,e.default)(this,_);var S=(0,c.default)(this,(_.__proto__||(0,a.default)(_)).call(this,A,C));return S.style=C.style,S.options.accessToken||(S.errorTextText="No access token provided in the viewconf's track options ('accessToken' option).",S.drawError()),S}return(0,s.default)(_,[{key:"rerender",value:function(){function A(C){(0,p.default)(_.prototype.__proto__||(0,a.default)(_.prototype),"rerender",this).call(this,C),C.style!==this.style&&(this.style=C.style,this.removeAllTiles(),this.refreshTiles())}return A}()},{key:"getTileUrl",value:function(){function A(C){var S=this.options&&this.options.style?this.options.style:"streets-v10",P=this.options&&+this.options.tileSize?+this.options.tileSize:256;return"https://api.mapbox.com/styles/v1/mapbox/"+String(S)+"/tiles/"+P+"/"+String(C[0])+"/"+String(C[1])+"/"+String(C[2])+"?access_token="+String(this.options.accessToken)}return A}()}]),_}(y.default);r.default=T},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(5),a=x(n),l=t(3),e=x(l),o=t(4),s=x(o),u=t(6),c=x(u),m=t(7),p=x(m),h=t(141),v=x(h);function x(k){return k&&k.__esModule?k:{default:k}}var y=function(k){(0,p.default)(T,k);function T(E,_){(0,e.default)(this,T);var A=(0,c.default)(this,(T.__proto__||(0,a.default)(T)).call(this,E,_));return A.style=_.style,A.options.tileSource||(A.errorTextText="No tile source string provided in the options. It should be in the form of http://a.com/{z}/{x}/{y}",A.drawError()),A}return(0,s.default)(T,[{key:"getTileUrl",value:function(){function E(_){var A=this.options.tileSource.replace("{z}",_[0]);return A=A.replace("{x}",_[1]),A=A.replace("{y}",_[2]),A}return E}()}]),T}(v.default);r.default=y},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(383),a=c(n),l=t(389),e=c(l),o=t(245),s=c(o),u=t(11);function c(p){return p&&p.__esModule?p:{default:p}}var m=function(p,h,v){var x=v[p.type];return x?new x.dataFetcher(u.AVAILABLE_FOR_PLUGINS,p,h):p.type==="genbank"?new a.default(p,h):p.type==="local-tiles"?new e.default(p,h):new s.default(p,h)};r.default=m},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(25),a=S(n),l=t(30),e=S(l),o=t(17),s=S(o),u=t(62),c=S(u),m=t(19),p=S(m),h=t(3),v=S(h),x=t(4),y=S(x),k=t(26),T=S(k),E=t(643),_=S(E),A=t(652),C=S(A);function S(H){return H&&H.__esModule?H:{default:H}}function P(H,L){var D=[],j=5;if(!H.length)return[];for(var W=H[0].start,B=H[0].end,F=1;F<H.length;F++)H[F].start<B+j*1/L?B=Math.max(B,H[F].end):(D.push({type:"filler",start:W,end:B}),W=H[F].start,B=H[F].end);return D.push({start:W,end:B,type:"filler"}),D}function O(H){for(var L=H.length-1;L>0;L--){var D=Math.floor(Math.random()*(L+1)),j=H[L];H[L]=H[D],H[D]=j}return H}function R(H){var L=H.end-H.start,D=H.strand===1?"+":"-",j=T.default.nice();return H.type==="filler"?{xStart:H.start,xEnd:H.end,strand:H.strand,fields:[],type:"filler",uid:j}:{xStart:H.start,xEnd:H.end,strand:D,chrOffset:0,importance:H.end-H.start,uid:j,type:H.type,fields:["chrom",H.start,H.end,H.name,L,D,"","",H.type,H.name,H.start.toString(),H.end.toString(),H.start.toString(),H.end.toString()]}}var I=function(H){var L=(0,C.default)(H),D=O(L[0].features.filter(function(j){return j.type!=="source"}).sort(function(j,W){return j.start-W.start}));return[L,D]},M=function(){function H(L){var D=this;if((0,v.default)(this,H),this.dataConfig=L,this.trackUid=T.default.nice(),L.url){var j=L.url.slice(L.url.length-3),W=j===".gz";this.errorTxt="",this.dataPromise=fetch(L.url,{mode:"cors",redirect:"follow",method:"GET"}).then(function(B){return W?B.arrayBuffer():B.text()}).then(function(B){var F=W?_.default.inflate(B,{to:"string"}):B,N=I(F),X=(0,p.default)(N,2);D.gbJson=X[0],D.cdss=X[1]})}else L.text&&(this.dataPromise=new c.default(function(B,F){var N=I(L.text),X=(0,p.default)(N,2);D.gbJson=X[0],D.cdss=X[1],B()}))}return(0,y.default)(H,[{key:"tilesetInfo",value:function(){function L(D){var j=this;return this.tilesetInfoLoading=!0,this.dataPromise.then(function(){j.tilesetInfoLoading=!1;var W=1024,B={};return B={tile_size:W,max_zoom:Math.ceil(Math.log(j.gbJson[0].size/W)/Math.log(2)),max_width:j.gbJson[0].size,min_pos:[0],max_pos:[j.gbJson[0].size]},D&&D(B),B}).catch(function(W){j.tilesetInfoLoading=!1,D&&D({error:"Error parsing genbank: "+String(W)})})}return L}()},{key:"fetchTilesDebounced",value:function(){function L(D,j){var W={},B=[],F=[],N=!0,X=!1,G=void 0;try{for(var V=(0,s.default)(j),z;!(N=(z=V.next()).done);N=!0){var U=z.value,Z=U.split("."),st=parseInt(Z[0],10),Y=parseInt(Z[1],10);if((0,e.default)(Y)||(0,e.default)(st)){console.warn("Invalid tile zoom or position:",st,Y);continue}B.push(U),F.push(this.tile(st,Y))}}catch(rt){X=!0,G=rt}finally{try{!N&&V.return&&V.return()}finally{if(X)throw G}}return c.default.all(F).then(function(rt){for(var ft=0;ft<rt.length;ft++){var tt=B[ft];W[tt]=rt[ft],W[tt].tilePositionId=tt}D(W)}),W}return L}()},{key:"tile",value:function(){function L(D,j){var W=this;return this.tilesetInfo().then(function(B){var F=+B.max_width/Math.pow(2,+D),N=B.min_pos[0]+j*F,X=B.min_pos[0]+(j+1)*F,G=W.cdss.filter(function(rt){return rt.end>N&&rt.start<X}),V=1024/Math.pow(2,B.max_zoom-D),z=P(G.filter(function(rt){return rt.strand===1}),V),U=P(G.filter(function(rt){return rt.strand!==1}),V);z.forEach(function(rt){rt.strand="+"}),U.forEach(function(rt){rt.strand="-"});for(var Z=[],st=20,Y=0;Y<W.cdss.length&&!(Z.length>=st);Y++)W.cdss[Y].end>=N&&W.cdss[Y].start<=X&&Z.push(W.cdss[Y]);return Z=[].concat((0,a.default)(Z),(0,a.default)(z),(0,a.default)(U)),Z.map(function(rt){return R(rt)})})}return L}()}]),H}();r.default=M},function(f,r,t){function n(a,l,e,o){for(var s=a&65535|0,u=a>>>16&65535|0,c=0;e!==0;){c=e>2e3?2e3:e,e-=c;do s=s+l[o++]|0,u=u+s|0;while(--c);s%=65521,u%=65521}return s|u<<16|0}f.exports=n},function(f,r,t){function n(){for(var e,o=[],s=0;s<256;s++){e=s;for(var u=0;u<8;u++)e=e&1?3988292384^e>>>1:e>>>1;o[s]=e}return o}var a=n();function l(e,o,s,u){var c=a,m=u+s;e^=-1;for(var p=u;p<m;p++)e=e>>>8^c[(e^o[p])&255];return e^-1}f.exports=l},function(f,r,t){var n=t(82),a=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var e=new n.Buf8(256),o=0;o<256;o++)e[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;e[254]=e[254]=1,r.string2buf=function(u){var c,m,p,h,v,x=u.length,y=0;for(h=0;h<x;h++)m=u.charCodeAt(h),(m&64512)===55296&&h+1<x&&(p=u.charCodeAt(h+1),(p&64512)===56320&&(m=65536+(m-55296<<10)+(p-56320),h++)),y+=m<128?1:m<2048?2:m<65536?3:4;for(c=new n.Buf8(y),v=0,h=0;v<y;h++)m=u.charCodeAt(h),(m&64512)===55296&&h+1<x&&(p=u.charCodeAt(h+1),(p&64512)===56320&&(m=65536+(m-55296<<10)+(p-56320),h++)),m<128?c[v++]=m:m<2048?(c[v++]=192|m>>>6,c[v++]=128|m&63):m<65536?(c[v++]=224|m>>>12,c[v++]=128|m>>>6&63,c[v++]=128|m&63):(c[v++]=240|m>>>18,c[v++]=128|m>>>12&63,c[v++]=128|m>>>6&63,c[v++]=128|m&63);return c};function s(u,c){if(c<65534&&(u.subarray&&l||!u.subarray&&a))return String.fromCharCode.apply(null,n.shrinkBuf(u,c));for(var m="",p=0;p<c;p++)m+=String.fromCharCode(u[p]);return m}r.buf2binstring=function(u){return s(u,u.length)},r.binstring2buf=function(u){for(var c=new n.Buf8(u.length),m=0,p=c.length;m<p;m++)c[m]=u.charCodeAt(m);return c},r.buf2string=function(u,c){var m,p,h,v,x=c||u.length,y=new Array(x*2);for(p=0,m=0;m<x;){if(h=u[m++],h<128){y[p++]=h;continue}if(v=e[h],v>4){y[p++]=65533,m+=v-1;continue}for(h&=v===2?31:v===3?15:7;v>1&&m<x;)h=h<<6|u[m++]&63,v--;if(v>1){y[p++]=65533;continue}h<65536?y[p++]=h:(h-=65536,y[p++]=55296|h>>10&1023,y[p++]=56320|h&1023)}return s(y,p)},r.utf8border=function(u,c){var m;for(c=c||u.length,c>u.length&&(c=u.length),m=c-1;m>=0&&(u[m]&192)===128;)m--;return m<0||m===0?c:m+e[u[m]]>c?m:c}},function(f,r,t){function n(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}f.exports=n},function(f,r,t){f.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(18),a=v(n),l=t(17),e=v(l),o=t(37),s=v(o),u=t(3),c=v(u),m=t(4),p=v(m),h=t(182);function v(y){return y&&y.__esModule?y:{default:y}}var x=function(){function y(k){(0,c.default)(this,y),this.dataConfig=k,this.tilesetInfoData=(0,s.default)(this.dataConfig.tilesetInfo)[0]}return(0,p.default)(y,[{key:"tilesetInfo",value:function(){function k(T){this.tilesetInfoLoading=!1,T(this.tilesetInfoData)}return k}()},{key:"fetchTilesDebounced",value:function(){function k(T,E){this.tilesData={};var _=!0,A=!1,C=void 0;try{for(var S=(0,e.default)((0,a.default)(this.dataConfig.tiles)),P;!(_=(P=S.next()).done);_=!0){var O=P.value,R=O.split("."),I="localtile."+String(R.slice(1).join("."));this.tilesData[I]=this.dataConfig.tiles[O]}}catch(N){A=!0,C=N}finally{try{!_&&S.return&&S.return()}finally{if(A)throw C}}var M={},H=E.map(function(N){return"localtile."+String(N)});(0,h.tileResponseToData)(this.tilesData,"",H);var L=!0,D=!1,j=void 0;try{for(var W=(0,e.default)(E),B;!(L=(B=W.next()).done);L=!0){var F=B.value;M[F]=this.tilesData["localtile."+String(F)]}}catch(N){D=!0,j=N}finally{try{!L&&W.return&&W.return()}finally{if(D)throw j}}T(M)}return k}()},{key:"tile",value:function(){function k(T,E){}return k}()}]),y}();r.default=x},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(5),a=E(n),l=t(3),e=E(l),o=t(4),s=E(o),u=t(6),c=E(u),m=t(7),p=E(m),h=t(1),v=E(h),x=t(81),y=t(663),k=E(y),T=t(183);function E(A){return A&&A.__esModule?A:{default:A}}var _=(0,x.Mixin)(function(A){return function(C){(0,p.default)(S,C);function S(){return(0,e.default)(this,S),(0,c.default)(this,(S.__proto__||(0,a.default)(S)).apply(this,arguments))}return(0,s.default)(S,[{key:"getSubmenu",value:function(){function P(){var O=this;if(this.state.submenuShown){var R=this.state.submenuSourceBbox,I=null;this.state.orientation==="left"?I={left:this.state.left,top:R.top}:I={left:this.state.left+R.width+7,top:R.top};var M=(0,T.getAllTracksAndSubtracks)(this.props.tracks),H=M.filter(function(D){return D.uid===O.state.submenuShown.uid})[0],L=H&&H.position!=="whole";return v.default.createElement(k.default,{key:"series-list-menu-"+String(H.uid),ref:function(){function D(j){O.seriesListMenu=j}return D}(),closeMenu:this.props.closeMenu,hostTrack:this.props.tracks[0],onAddDivisor:this.props.onAddDivisor,onAddSeries:L?this.props.onAddSeries:null,onChangeTrackData:this.props.onChangeTrackData,onChangeTrackType:this.props.onChangeTrackType,onCloseTrack:function(){function D(){return O.props.onCloseTrack(O.state.submenuShown.uid)}return D}(),onConfigureTrack:this.props.onConfigureTrack,onDivideSeries:this.props.onDivideSeries,onExportData:this.props.onExportData,onLockScales:this.props.onLockScales,onTrackOptionsChanged:this.props.onTrackOptionsChanged,orientation:this.state.orientation,parentBbox:R,position:I,series:this.state.submenuShown,theme:this.props.theme,track:H,trackOrientation:this.props.trackOrientation,trackSourceServers:this.props.trackSourceServers})}return v.default.createElement("div",null)}return P}()}]),S}(A)});r.default=_},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(5),a=C(n),l=t(3),e=C(l),o=t(4),s=C(o),u=t(6),c=C(u),m=t(7),p=C(m),h=t(29),v=C(h),x=t(1),y=C(x),k=t(96),T=C(k),E=t(67),_=C(E),A=t(11);t(68);function C(O){return O&&O.__esModule?O:{default:O}}var S={"../styles/ContextMenu.module.scss":{"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-dark":"ContextMenu-module_context-menu-dark-2PO31","context-menu-icon":"ContextMenu-module_context-menu-icon-I4kiw","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},P=function(O){(0,p.default)(R,O);function R(){return(0,e.default)(this,R),(0,c.default)(this,(R.__proto__||(0,a.default)(R)).apply(this,arguments))}return(0,s.default)(R,[{key:"getSubmenu",value:function(){function I(){if(this.state.submenuShown){var M=this.state.submenuSourceBbox,H=this.state.orientation==="left"?{left:this.state.left,top:M.top}:{left:this.state.left+M.width+7,top:M.top},L=this.state.submenuShown;return y.default.createElement(R,{menuItems:L.children,orientation:this.state.orientation,parentBbox:M,position:H,theme:this.props.theme})}return y.default.createElement("div",null)}return I}()},{key:"componentWillUnmount",value:function(){function I(){}return I}()},{key:"render",value:function(){function I(){var M=this,H=[],L=function(){function W(B){var F=M.props.menuItems[B];H.push(y.default.createElement(_.default,{key:B,onClick:F.handler?F.handler:function(){return null},onMouseEnter:F.children?function(N){return M.handleItemMouseEnter(N,F)}:M.handleOtherMouseEnter.bind(M),onMouseLeave:M.handleMouseLeave},F.name,F.children&&y.default.createElement("svg",{className:"ContextMenu-module_play-icon-R4pIO"},y.default.createElement("use",{xlinkHref:"#play"}))))}return W}();for(var D in this.props.menuItems)L(D);var j="context-menu";return this.props.theme===A.THEME_DARK&&(j+=" context-menu-dark"),y.default.createElement("div",{ref:function(){function W(B){M.div=B}return W}(),style:{left:this.state.left,top:this.state.top},className:(0,v.default)(j,S)},H,this.getSubmenu())}return I}()}]),R}(T.default);r.default=P},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(5),a=N(n),l=t(3),e=N(l),o=t(4),s=N(o),u=t(6),c=N(u),m=t(7),p=N(m),h=t(29),v=N(h),x=t(2),y=N(x),k=t(1),T=N(k),E=t(83),_=t(0),A=t(26),C=N(A),S=t(393),P=N(S),O=t(665),R=N(O),I=t(395),M=N(I),H=t(10),L=t(11),D=t(669);N(D);var j=t(176),W=N(j),B=t(175),F=N(B);function N(V){return V&&V.__esModule?V:{default:V}}var X={styles:{"horizontal-tiled-plot":"HorizontalTiledPlot-module_horizontal-tiled-plot-3EK65"},stylesPlot:{"tiled-plot":"TiledPlot-module_tiled-plot-uFHiB",horizontalList:"TiledPlot-module_horizontalList-1c1P8",list:"TiledPlot-module_list-24zgV",stylizedList:"TiledPlot-module_stylizedList-Mt4JL",stylizedItem:"TiledPlot-module_stylizedItem-2bQBK",stylizedHelper:"TiledPlot-module_stylizedHelper-3IVEu",horizontalItem:"TiledPlot-module_horizontalItem-2-ZjU","resizable-track":"TiledPlot-module_resizable-track-2oLT9",domain:"TiledPlot-module_domain-qYw6K"},stylesTrack:{"track-range-selection":"Track-module_track-range-selection-1yrDf","track-range-selection-active":"Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-primary":"Track-module_track-range-selection-active-primary-29M73 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-secondary":"Track-module_track-range-selection-active-secondary-1s0t5 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-group-inactive":"Track-module_track-range-selection-group-inactive-YNRM4","track-range-selection-group-brush-selection":"Track-module_track-range-selection-group-brush-selection-2VYDl"}},G=function(V){(0,p.default)(z,V);function z(U){(0,e.default)(this,z);var Z=(0,c.default)(this,(z.__proto__||(0,a.default)(z)).call(this,U));return Z.brushBehavior=(0,E.brushX)(!0).on("start",Z.brushStarted.bind(Z)).on("brush",Z.brushed.bind(Z)).on("end",Z.brushedEnded.bind(Z)),Z}return(0,s.default)(z,[{key:"componentDidMount",value:function(){function U(){this.props.isRangeSelectionActive&&this.addBrush()}return U}()},{key:"shouldComponentUpdate",value:function(){function U(Z,st){return this.rangeSelectionTriggered?(this.rangeSelectionTriggered=!1,this.rangeSelectionTriggeredEnd&&this.props.rangeSelection!==Z.rangeSelection&&this.moveBrush(Z.rangeSelection[0]?Z.rangeSelection[0]:null,!0),this.rangeSelectionTriggeredEnd=!1,this.state!==st):this.props.rangeSelection!==Z.rangeSelection?(this.moveBrush(Z.rangeSelection[0]?Z.rangeSelection[0]:null,Z.rangeSelectionEnd),this.state!==st):!0}return U}()},{key:"componentDidUpdate",value:function(){function U(){this.props.isRangeSelectionActive?this.addBrush():this.removeBrush()}return U}()},{key:"addBrush",value:function(){function U(){!this.brushEl||this.brushElAddedBefore===this.brushEl||(this.brushElAddedBefore&&this.brushElAddedBefore.on(".brush",null),this.brushEl.call(this.brushBehavior),this.brushElAddedBefore=this.brushEl,(0,H.resetD3BrushStyle)(this.brushEl,F.default["track-range-selection-group-brush-selection"]))}return U}()},{key:"brushed",value:function(){function U(){var Z=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,!(!this.sourceEvent||!this.props.onRangeSelection||Z)&&(this.rangeSelectionTriggered=!0,this.props.onRangeSelection(_.event.selection))}return U}()},{key:"brushStarted",value:function(){function U(){!this.sourceEvent||!_.event.selection||this.props.onRangeSelectionStart()}return U}()},{key:"brushedEnded",value:function(){function U(){if(this.props.is1dRangeSelection){var Z=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,_.event.selection&&_.event.sourceEvent&&this.props.onRangeSelection&&!Z&&(this.rangeSelectionTriggered=!0,this.rangeSelectionTriggeredEnd=!0,this.props.onRangeSelectionEnd(_.event.selection)),_.event.selection||(this.rangeSelectionTriggered=!0,this.props.onRangeSelectionReset())}}return U}()},{key:"moveBrush",value:function(){function U(Z){var st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.brushEl){var Y=Z?[this.props.scale(Z[0]),this.props.scale(Z[1])]:null;this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,st?this.brushEl.transition().call(this.brushBehavior.move,Y):this.brushEl.call(this.brushBehavior.move,Y)}}return U}()},{key:"removeBrush",value:function(){function U(){this.brushElAddedBefore&&(this.brushElAddedBefore.call(this.brushBehavior.move,null),this.brushElAddedBefore.on(".brush",null),this.brushElAddedBefore=void 0,this.props.onRangeSelectionReset())}return U}()},{key:"render",value:function(){function U(){var Z=this,st=this.props.tracks.map(function(ft){return ft.height}).reduce(H.sum,0),Y=this.props.tracks.map(function(ft){return(0,L.IS_TRACK_RANGE_SELECTABLE)(ft)}).reduce(H.or,!1),rt=this.props.isRangeSelectionActive?"stylesTrack.track-range-selection-active":"stylesTrack.track-range-selection";return T.default.createElement("div",{className:"horizontal-tiled-plot HorizontalTiledPlot-module_horizontal-tiled-plot-3EK65"},Y&&T.default.createElement("svg",{ref:function(){function ft(tt){Z.brushEl=(0,_.select)(tt)}return ft}(),style:{height:st,width:this.props.width},xmlns:"http://www.w3.org/2000/svg",className:(0,v.default)(rt,X)}),T.default.createElement(P.default,{className:String(W.default.list)+" "+String(W.default.stylizedList),component:M.default,editable:this.props.editable,handleConfigTrack:this.props.handleConfigTrack,handleResizeTrack:this.props.handleResizeTrack,height:st,helperClass:W.default.stylizedHelper,itemClass:W.default.stylizedItem,itemReactClass:R.default,items:this.props.tracks.map(function(ft){return{configMenuVisible:ft.uid===Z.props.configTrackMenuId,uid:ft.uid||C.default.nice(),width:Z.props.width,height:ft.height,value:ft.value}}),onAddSeries:this.props.onAddSeries,onCloseTrack:this.props.onCloseTrack,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,onSortEnd:this.props.handleSortEnd,referenceAncestor:this.props.referenceAncestor,resizeHandles:this.props.resizeHandles,useDragHandle:!0,width:this.props.width}))}return U}()},{key:"sourceEvent",get:function(){function U(){return _.event&&_.event.sourceEvent}return U}()}]),z}(T.default.Component);G.propTypes={configTrackMenuId:y.default.string,editable:y.default.bool,handleConfigTrack:y.default.func,handleResizeTrack:y.default.func,handleSortEnd:y.default.func,is1dRangeSelection:y.default.bool,isRangeSelectionActive:y.default.bool,onAddSeries:y.default.func,onCloseTrack:y.default.func,onCloseTrackMenuOpened:y.default.func,onConfigTrackMenuOpened:y.default.func,onRangeSelection:y.default.func,onRangeSelectionEnd:y.default.func,onRangeSelectionReset:y.default.func,onRangeSelectionStart:y.default.func,rangeSelection:y.default.array,rangeSelectionEnd:y.default.bool,referenceAncestor:y.default.func,resizeHandles:y.default.object,scale:y.default.func,tracks:y.default.array,width:y.default.number},r.default=G},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(34),a=_(n),l=t(5),e=_(l),o=t(3),s=_(o),u=t(4),c=_(u),m=t(6),p=_(m),h=t(7),v=_(h),x=t(2),y=_(x),k=t(1),T=_(k),E=t(125);function _(C){return C&&C.__esModule?C:{default:C}}var A=function(C){(0,v.default)(S,C);function S(P){var O=P.items;(0,s.default)(this,S);var R=(0,p.default)(this,(S.__proto__||(0,e.default)(S)).call(this));return R.state={items:O,isSorting:!1},R}return(0,c.default)(S,[{key:"UNSAFE_componentWillReceiveProps",value:function(){function P(O){this.setState({items:O.items})}return P}()},{key:"onSortStart",value:function(){function P(O,R){O.node;var I=O.index;O.collection,R.stopImmediatePropagation();var M=this.props.onSortStart;this.setState({isSorting:!0}),M&&M(this.ref),this.sortingIndex=I,this.sortStartTop=R.offsetTop,this.sortStartLeft=R.offsetLeft}return P}()},{key:"onSortMove",value:function(){function P(){}return P}()},{key:"onSortEnd",value:function(){function P(O){var R=O.oldIndex,I=O.newIndex,M=this.props.onSortEnd,H=this.state.items;this.setState({items:(0,E.arrayMove)(H,R,I),isSorting:!1}),M&&M(this.state.items),this.sortingIndex=null}return P}()},{key:"render",value:function(){function P(){var O=this,R=this.props.component,I=this.state,M=I.items,H=I.isSorting,L={isSorting:H,items:M,onSortEnd:this.onSortEnd.bind(this),onSortStart:this.onSortStart.bind(this),onSortMove:this.onSortMove.bind(this)};return T.default.createElement(R,(0,a.default)({},this.props,L,{ref:function(){function D(j){O.ref=j}return D}()}))}return P}()}]),S}(T.default.Component);A.propTypes={axis:y.default.string,className:y.default.string,component:y.default.func,editable:y.default.bool,handleConfigTrack:y.default.func,handleResizeTrack:y.default.func,height:y.default.number,helperClass:y.default.string,itemClass:y.default.string,itemControlAlignLeft:y.default.bool,itemReactClass:y.default.func,items:y.default.array,onAddSeries:y.default.func,onCloseTrack:y.default.func,onCloseTrackMenuOpened:y.default.func,onConfigTrackMenuOpened:y.default.func,onSortEnd:y.default.func,onSortStart:y.default.func,referenceAncestor:y.default.string,resizeHandles:y.default.object,useDragHandle:y.default.bool,width:y.default.number},A.defaultProps={className:"list stylizedList",itemClass:"item stylizedItem",width:400,height:600},r.default=A},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(5),a=E(n),l=t(3),e=E(l),o=t(4),s=E(o),u=t(6),c=E(u),m=t(7),p=E(m),h=t(1),v=E(h),x=t(265),y=E(x),k=t(174),T=E(k);function E(C){return C&&C.__esModule?C:{default:C}}var _={pointerEvents:"all"},A=function(C){(0,p.default)(S,C);function S(){return(0,e.default)(this,S),(0,c.default)(this,(S.__proto__||(0,a.default)(S)).apply(this,arguments))}return(0,s.default)(S,[{key:"getControls",value:function(){function P(O){return v.default.createElement(T.default,{configMenuVisible:this.props.item.configMenuVisible,imgStyleAdd:_,imgStyleClose:_,imgStyleMove:_,imgStyleSettings:_,isMoveable:this.moveable,isVisible:O,onAddSeries:this.props.onAddSeries,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,uid:this.props.uid})}return P}()}]),S}(y.default);r.default=A},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(34),a=s(n),l=t(1),e=s(l),o=t(125);function s(c){return c&&c.__esModule?c:{default:c}}var u=(0,o.SortableContainer)(function(c){var m=c.className,p=c.items,h=c.itemClass,v=c.itemControlAlignLeft,x=c.sortingIndex,y=c.useDragHandle,k=c.sortableHandlers,T=c.height,E=c.width,_=c.onCloseTrack,A=c.onCloseTrackMenuOpened,C=c.onConfigTrackMenuOpened,S=c.onAddSeries,P=c.handleConfigTrack,O=c.editable,R=c.itemReactClass,I=c.handleResizeTrack,M=c.resizeHandles,H=p.map(function(L,D){return e.default.createElement(R,{key:"sci-"+String(L.uid),className:h,controlAlignLeft:v,sortingIndex:x,index:D,uid:L.uid,height:L.height,width:L.width,item:L,useDragHandle:y,onCloseTrack:_,onCloseTrackMenuOpened:A,onConfigTrackMenuOpened:C,onAddSeries:S,handleConfigTrack:P,editable:O,handleResizeTrack:I,resizeHandles:M})});return e.default.createElement("div",(0,a.default)({className:m,style:{height:T,width:E,background:"transparent"}},k),H)});r.default=u},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(5),a=E(n),l=t(3),e=E(l),o=t(4),s=E(o),u=t(6),c=E(u),m=t(7),p=E(m),h=t(1),v=E(h),x=t(265),y=E(x),k=t(174),T=E(k);function E(C){return C&&C.__esModule?C:{default:C}}var _={pointerEvents:"all"},A=function(C){(0,p.default)(S,C);function S(){return(0,e.default)(this,S),(0,c.default)(this,(S.__proto__||(0,a.default)(S)).apply(this,arguments))}return(0,s.default)(S,[{key:"getControls",value:function(){function P(O){return v.default.createElement(T.default,{imgStyleAdd:_,imgStyleClose:_,imgStyleMove:_,imgStyleSettings:_,isAlignLeft:this.props.controlAlignLeft,isMoveable:this.moveable,isVertical:!0,isVisible:O,onAddSeries:this.props.onAddSeries,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,uid:this.props.uid})}return P}()}]),S}(y.default);r.default=A},function(f,r,t){var n=t(690),a=t(268),l=t(694),e=t(398),o=t(399),s=t(695),u=t(696),c=t(717),m=t(117);f.exports=k,k.prototype.validate=T,k.prototype.compile=E,k.prototype.addSchema=_,k.prototype.addMetaSchema=A,k.prototype.validateSchema=C,k.prototype.getSchema=P,k.prototype.removeSchema=I,k.prototype.addFormat=N,k.prototype.errorsText=F,k.prototype._addSchema=H,k.prototype._compile=L,k.prototype.compileAsync=t(718);var p=t(719);k.prototype.addKeyword=p.add,k.prototype.getKeyword=p.get,k.prototype.removeKeyword=p.remove,k.prototype.validateKeyword=p.validate;var h=t(270);k.ValidationError=h.Validation,k.MissingRefError=h.MissingRef,k.$dataMetaSchema=c;var v="http://json-schema.org/draft-07/schema",x=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],y=["/properties"];function k(Y){if(!(this instanceof k))return new k(Y);Y=this._opts=m.copy(Y)||{},Z(this),this._schemas={},this._refs={},this._fragments={},this._formats=s(Y.format),this._cache=Y.cache||new l,this._loadingSchemas={},this._compilations=[],this.RULES=u(),this._getId=D(Y),Y.loopRequired=Y.loopRequired||1/0,Y.errorDataPath=="property"&&(Y._errorDataPathProperty=!0),Y.serialize===void 0&&(Y.serialize=o),this._metaOpts=U(this),Y.formats&&V(this),X(this),typeof Y.meta=="object"&&this.addMetaSchema(Y.meta),Y.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),G(this)}function T(Y,rt){var ft;if(typeof Y=="string"){if(ft=this.getSchema(Y),!ft)throw new Error('no schema with key or ref "'+Y+'"')}else{var tt=this._addSchema(Y);ft=tt.validate||this._compile(tt)}var K=ft(rt);return ft.$async!==!0&&(this.errors=ft.errors),K}function E(Y,rt){var ft=this._addSchema(Y,void 0,rt);return ft.validate||this._compile(ft)}function _(Y,rt,ft,tt){if(Array.isArray(Y)){for(var K=0;K<Y.length;K++)this.addSchema(Y[K],void 0,ft,tt);return this}var Q=this._getId(Y);if(Q!==void 0&&typeof Q!="string")throw new Error("schema id must be string");return rt=a.normalizeId(rt||Q),z(this,rt),this._schemas[rt]=this._addSchema(Y,ft,tt,!0),this}function A(Y,rt,ft){return this.addSchema(Y,rt,ft,!0),this}function C(Y,rt){var ft=Y.$schema;if(ft!==void 0&&typeof ft!="string")throw new Error("$schema must be a string");if(ft=ft||this._opts.defaultMeta||S(this),!ft)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var tt=this.validate(ft,Y);if(!tt&&rt){var K="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(K);else throw new Error(K)}return tt}function S(Y){var rt=Y._opts.meta;return Y._opts.defaultMeta=typeof rt=="object"?Y._getId(rt)||rt:Y.getSchema(v)?v:void 0,Y._opts.defaultMeta}function P(Y){var rt=R(this,Y);switch(typeof rt){case"object":return rt.validate||this._compile(rt);case"string":return this.getSchema(rt);case"undefined":return O(this,Y)}}function O(Y,rt){var ft=a.schema.call(Y,{schema:{}},rt);if(ft){var tt=ft.schema,K=ft.root,Q=ft.baseId,ct=n.call(Y,tt,K,void 0,Q);return Y._fragments[rt]=new e({ref:rt,fragment:!0,schema:tt,root:K,baseId:Q,validate:ct}),ct}}function R(Y,rt){return rt=a.normalizeId(rt),Y._schemas[rt]||Y._refs[rt]||Y._fragments[rt]}function I(Y){if(Y instanceof RegExp)return M(this,this._schemas,Y),M(this,this._refs,Y),this;switch(typeof Y){case"undefined":return M(this,this._schemas),M(this,this._refs),this._cache.clear(),this;case"string":var rt=R(this,Y);return rt&&this._cache.del(rt.cacheKey),delete this._schemas[Y],delete this._refs[Y],this;case"object":var ft=this._opts.serialize,tt=ft?ft(Y):Y;this._cache.del(tt);var K=this._getId(Y);K&&(K=a.normalizeId(K),delete this._schemas[K],delete this._refs[K])}return this}function M(Y,rt,ft){for(var tt in rt){var K=rt[tt];!K.meta&&(!ft||ft.test(tt))&&(Y._cache.del(K.cacheKey),delete rt[tt])}}function H(Y,rt,ft,tt){if(typeof Y!="object"&&typeof Y!="boolean")throw new Error("schema should be object or boolean");var K=this._opts.serialize,Q=K?K(Y):Y,ct=this._cache.get(Q);if(ct)return ct;tt=tt||this._opts.addUsedSchema!==!1;var nt=a.normalizeId(this._getId(Y));nt&&tt&&z(this,nt);var ot=this._opts.validateSchema!==!1&&!rt,yt;ot&&!(yt=nt&&nt==a.normalizeId(Y.$schema))&&this.validateSchema(Y,!0);var pt=a.ids.call(this,Y),dt=new e({id:nt,schema:Y,localRefs:pt,cacheKey:Q,meta:ft});return nt[0]!="#"&&tt&&(this._refs[nt]=dt),this._cache.put(Q,dt),ot&&yt&&this.validateSchema(Y,!0),dt}function L(Y,rt){if(Y.compiling)return Y.validate=K,K.schema=Y.schema,K.errors=null,K.root=rt||K,Y.schema.$async===!0&&(K.$async=!0),K;Y.compiling=!0;var ft;Y.meta&&(ft=this._opts,this._opts=this._metaOpts);var tt;try{tt=n.call(this,Y.schema,rt,Y.localRefs)}catch(Q){throw delete Y.validate,Q}finally{Y.compiling=!1,Y.meta&&(this._opts=ft)}return Y.validate=tt,Y.refs=tt.refs,Y.refVal=tt.refVal,Y.root=tt.root,tt;function K(){var Q=Y.validate,ct=Q.apply(this,arguments);return K.errors=Q.errors,ct}}function D(Y){switch(Y.schemaId){case"auto":return B;case"id":return j;default:return W}}function j(Y){return Y.$id&&this.logger.warn("schema $id ignored",Y.$id),Y.id}function W(Y){return Y.id&&this.logger.warn("schema id ignored",Y.id),Y.$id}function B(Y){if(Y.$id&&Y.id&&Y.$id!=Y.id)throw new Error("schema $id is different from id");return Y.$id||Y.id}function F(Y,rt){if(Y=Y||this.errors,!Y)return"No errors";rt=rt||{};for(var ft=rt.separator===void 0?", ":rt.separator,tt=rt.dataVar===void 0?"data":rt.dataVar,K="",Q=0;Q<Y.length;Q++){var ct=Y[Q];ct&&(K+=tt+ct.dataPath+" "+ct.message+ft)}return K.slice(0,-ft.length)}function N(Y,rt){return typeof rt=="string"&&(rt=new RegExp(rt)),this._formats[Y]=rt,this}function X(Y){var rt;if(Y._opts.$data&&(rt=t(721),Y.addMetaSchema(rt,rt.$id,!0)),Y._opts.meta!==!1){var ft=t(405);Y._opts.$data&&(ft=c(ft,y)),Y.addMetaSchema(ft,v,!0),Y._refs["http://json-schema.org/schema"]=v}}function G(Y){var rt=Y._opts.schemas;if(rt)if(Array.isArray(rt))Y.addSchema(rt);else for(var ft in rt)Y.addSchema(rt[ft],ft)}function V(Y){for(var rt in Y._opts.formats){var ft=Y._opts.formats[rt];Y.addFormat(rt,ft)}}function z(Y,rt){if(Y._schemas[rt]||Y._refs[rt])throw new Error('schema with key or id "'+rt+'" already exists')}function U(Y){for(var rt=m.copy(Y._opts),ft=0;ft<x.length;ft++)delete rt[x[ft]];return rt}function Z(Y){var rt=Y._opts.logger;if(rt===!1)Y.logger={log:st,warn:st,error:st};else{if(rt===void 0&&(rt=console),!(typeof rt=="object"&&rt.log&&rt.warn&&rt.error))throw new Error("logger must implement log, warn and error methods");Y.logger=rt}}function st(){}},function(f,r,t){var n=t(117);f.exports=a;function a(l){n.copy(l,this)}},function(f,r,t){f.exports=function(n,a){a||(a={}),typeof a=="function"&&(a={cmp:a});var l=typeof a.cycles=="boolean"?a.cycles:!1,e=a.cmp&&function(s){return function(u){return function(c,m){var p={key:c,value:u[c]},h={key:m,value:u[m]};return s(p,h)}}}(a.cmp),o=[];return function s(u){if(u&&u.toJSON&&typeof u.toJSON=="function"&&(u=u.toJSON()),u!==void 0){if(typeof u=="number")return isFinite(u)?""+u:"null";if(typeof u!="object")return JSON.stringify(u);var c,m;if(Array.isArray(u)){for(m="[",c=0;c<u.length;c++)c&&(m+=","),m+=s(u[c])||"null";return m+"]"}if(u===null)return"null";if(o.indexOf(u)!==-1){if(l)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var p=o.push(u)-1,h=Object.keys(u).sort(e&&e(u));for(m="",c=0;c<h.length;c++){var v=h[c],x=s(u[v]);x&&(m&&(m+=","),m+=JSON.stringify(v)+":"+x)}return o.splice(p,1),"{"+m+"}"}}(n)}},function(f,r,t){f.exports=function(n,a,l){var e="",o=n.schema.$async===!0,s=n.util.schemaHasRulesExcept(n.schema,n.RULES.all,"$ref"),u=n.self._getId(n.schema);if(n.opts.strictKeywords){var c=n.util.schemaUnknownRules(n.schema,n.RULES.keywords);if(c){var m="unknown keyword: "+c;if(n.opts.strictKeywords==="log")n.logger.warn(m);else throw new Error(m)}}if(n.isTop&&(e+=" var validate = ",o&&(n.async=!0,e+="async "),e+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",u&&(n.opts.sourceCode||n.opts.processCode)&&(e+=" "+("/*# sourceURL="+u+" */")+" ")),typeof n.schema=="boolean"||!(s||n.schema.$ref)){var a="false schema",p=n.level,h=n.dataLevel,v=n.schema[a],x=n.schemaPath+n.util.getProperty(a),y=n.errSchemaPath+"/"+a,S=!n.opts.allErrors,R,k="data"+(h||""),C="valid"+p;if(n.schema===!1){n.isTop?S=!0:e+=" var "+C+" = false; ";var T=T||[];T.push(e),e="",n.createErrors!==!1?(e+=" { keyword: '"+(R||"false schema")+"' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(y)+" , params: {} ",n.opts.messages!==!1&&(e+=" , message: 'boolean schema is false' "),n.opts.verbose&&(e+=" , schema: false , parentSchema: validate.schema"+n.schemaPath+" , data: "+k+" "),e+=" } "):e+=" {} ";var E=e;e=T.pop(),!n.compositeRule&&S?n.async?e+=" throw new ValidationError(["+E+"]); ":e+=" validate.errors = ["+E+"]; return false; ":e+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else n.isTop?o?e+=" return data; ":e+=" validate.errors = null; return true; ":e+=" var "+C+" = true; ";return n.isTop&&(e+=" }; return validate; "),e}if(n.isTop){var _=n.isTop,p=n.level=0,h=n.dataLevel=0,k="data";if(n.rootId=n.resolve.fullPath(n.self._getId(n.root.schema)),n.baseId=n.baseId||n.rootId,delete n.isTop,n.dataPathArr=[void 0],n.schema.default!==void 0&&n.opts.useDefaults&&n.opts.strictDefaults){var A="default is ignored in the schema root";if(n.opts.strictDefaults==="log")n.logger.warn(A);else throw new Error(A)}e+=" var vErrors = null; ",e+=" var errors = 0;     ",e+=" if (rootData === undefined) rootData = data; "}else{var p=n.level,h=n.dataLevel,k="data"+(h||"");if(u&&(n.baseId=n.resolve.url(n.baseId,u)),o&&!n.async)throw new Error("async schema in sync schema");e+=" var errs_"+p+" = errors;"}var C="valid"+p,S=!n.opts.allErrors,P="",O="",R,I=n.schema.type,M=Array.isArray(I);if(I&&n.opts.nullable&&n.schema.nullable===!0&&(M?I.indexOf("null")==-1&&(I=I.concat("null")):I!="null"&&(I=[I,"null"],M=!0)),M&&I.length==1&&(I=I[0],M=!1),n.schema.$ref&&s){if(n.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+n.errSchemaPath+'" (see option extendRefs)');n.opts.extendRefs!==!0&&(s=!1,n.logger.warn('$ref: keywords ignored in schema at path "'+n.errSchemaPath+'"'))}if(n.schema.$comment&&n.opts.$comment&&(e+=" "+n.RULES.all.$comment.code(n,"$comment")),I){if(n.opts.coerceTypes)var H=n.util.coerceToTypes(n.opts.coerceTypes,I);var L=n.RULES.types[I];if(H||M||L===!0||L&&!$(L)){var x=n.schemaPath+".type",y=n.errSchemaPath+"/type",x=n.schemaPath+".type",y=n.errSchemaPath+"/type",D=M?"checkDataTypes":"checkDataType";if(e+=" if ("+n.util[D](I,k,!0)+") { ",H){var j="dataType"+p,W="coerced"+p;e+=" var "+j+" = typeof "+k+"; ",n.opts.coerceTypes=="array"&&(e+=" if ("+j+" == 'object' && Array.isArray("+k+")) "+j+" = 'array'; "),e+=" var "+W+" = undefined; ";var B="",F=H;if(F)for(var N,X=-1,G=F.length-1;X<G;)N=F[X+=1],X&&(e+=" if ("+W+" === undefined) { ",B+="}"),n.opts.coerceTypes=="array"&&N!="array"&&(e+=" if ("+j+" == 'array' && "+k+".length == 1) { "+W+" = "+k+" = "+k+"[0]; "+j+" = typeof "+k+";  } "),N=="string"?e+=" if ("+j+" == 'number' || "+j+" == 'boolean') "+W+" = '' + "+k+"; else if ("+k+" === null) "+W+" = ''; ":N=="number"||N=="integer"?(e+=" if ("+j+" == 'boolean' || "+k+" === null || ("+j+" == 'string' && "+k+" && "+k+" == +"+k+" ",N=="integer"&&(e+=" && !("+k+" % 1)"),e+=")) "+W+" = +"+k+"; "):N=="boolean"?e+=" if ("+k+" === 'false' || "+k+" === 0 || "+k+" === null) "+W+" = false; else if ("+k+" === 'true' || "+k+" === 1) "+W+" = true; ":N=="null"?e+=" if ("+k+" === '' || "+k+" === 0 || "+k+" === false) "+W+" = null; ":n.opts.coerceTypes=="array"&&N=="array"&&(e+=" if ("+j+" == 'string' || "+j+" == 'number' || "+j+" == 'boolean' || "+k+" == null) "+W+" = ["+k+"]; ");e+=" "+B+" if ("+W+" === undefined) {   ";var T=T||[];T.push(e),e="",n.createErrors!==!1?(e+=" { keyword: '"+(R||"type")+"' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(y)+" , params: { type: '",M?e+=""+I.join(","):e+=""+I,e+="' } ",n.opts.messages!==!1&&(e+=" , message: 'should be ",M?e+=""+I.join(","):e+=""+I,e+="' "),n.opts.verbose&&(e+=" , schema: validate.schema"+x+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+k+" "),e+=" } "):e+=" {} ";var E=e;e=T.pop(),!n.compositeRule&&S?n.async?e+=" throw new ValidationError(["+E+"]); ":e+=" validate.errors = ["+E+"]; return false; ":e+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",e+=" } else {  ";var V=h?"data"+(h-1||""):"parentData",z=h?n.dataPathArr[h]:"parentDataProperty";e+=" "+k+" = "+W+"; ",h||(e+="if ("+V+" !== undefined)"),e+=" "+V+"["+z+"] = "+W+"; } "}else{var T=T||[];T.push(e),e="",n.createErrors!==!1?(e+=" { keyword: '"+(R||"type")+"' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(y)+" , params: { type: '",M?e+=""+I.join(","):e+=""+I,e+="' } ",n.opts.messages!==!1&&(e+=" , message: 'should be ",M?e+=""+I.join(","):e+=""+I,e+="' "),n.opts.verbose&&(e+=" , schema: validate.schema"+x+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+k+" "),e+=" } "):e+=" {} ";var E=e;e=T.pop(),!n.compositeRule&&S?n.async?e+=" throw new ValidationError(["+E+"]); ":e+=" validate.errors = ["+E+"]; return false; ":e+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}e+=" } "}}if(n.schema.$ref&&!s)e+=" "+n.RULES.all.$ref.code(n,"$ref")+" ",S&&(e+=" } if (errors === ",_?e+="0":e+="errs_"+p,e+=") { ",O+="}");else{var U=n.RULES;if(U){for(var L,Z=-1,st=U.length-1;Z<st;)if(L=U[Z+=1],$(L)){if(L.type&&(e+=" if ("+n.util.checkDataType(L.type,k)+") { "),n.opts.useDefaults){if(L.type=="object"&&n.schema.properties){var v=n.schema.properties,Y=Object.keys(v),rt=Y;if(rt)for(var ft,tt=-1,K=rt.length-1;tt<K;){ft=rt[tt+=1];var Q=v[ft];if(Q.default!==void 0){var ct=k+n.util.getProperty(ft);if(n.compositeRule){if(n.opts.strictDefaults){var A="default is ignored for: "+ct;if(n.opts.strictDefaults==="log")n.logger.warn(A);else throw new Error(A)}}else e+=" if ("+ct+" === undefined ",n.opts.useDefaults=="empty"&&(e+=" || "+ct+" === null || "+ct+" === '' "),e+=" ) "+ct+" = ",n.opts.useDefaults=="shared"?e+=" "+n.useDefault(Q.default)+" ":e+=" "+JSON.stringify(Q.default)+" ",e+="; "}}}else if(L.type=="array"&&Array.isArray(n.schema.items)){var nt=n.schema.items;if(nt){for(var Q,X=-1,ot=nt.length-1;X<ot;)if(Q=nt[X+=1],Q.default!==void 0){var ct=k+"["+X+"]";if(n.compositeRule){if(n.opts.strictDefaults){var A="default is ignored for: "+ct;if(n.opts.strictDefaults==="log")n.logger.warn(A);else throw new Error(A)}}else e+=" if ("+ct+" === undefined ",n.opts.useDefaults=="empty"&&(e+=" || "+ct+" === null || "+ct+" === '' "),e+=" ) "+ct+" = ",n.opts.useDefaults=="shared"?e+=" "+n.useDefault(Q.default)+" ":e+=" "+JSON.stringify(Q.default)+" ",e+="; "}}}}var yt=L.rules;if(yt){for(var pt,dt=-1,mt=yt.length-1;dt<mt;)if(pt=yt[dt+=1],J(pt)){var q=pt.code(n,pt.keyword,L.type);q&&(e+=" "+q+" ",S&&(P+="}"))}}if(S&&(e+=" "+P+" ",P=""),L.type&&(e+=" } ",I&&I===L.type&&!H)){e+=" else { ";var x=n.schemaPath+".type",y=n.errSchemaPath+"/type",T=T||[];T.push(e),e="",n.createErrors!==!1?(e+=" { keyword: '"+(R||"type")+"' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(y)+" , params: { type: '",M?e+=""+I.join(","):e+=""+I,e+="' } ",n.opts.messages!==!1&&(e+=" , message: 'should be ",M?e+=""+I.join(","):e+=""+I,e+="' "),n.opts.verbose&&(e+=" , schema: validate.schema"+x+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+k+" "),e+=" } "):e+=" {} ";var E=e;e=T.pop(),!n.compositeRule&&S?n.async?e+=" throw new ValidationError(["+E+"]); ":e+=" validate.errors = ["+E+"]; return false; ":e+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",e+=" } "}S&&(e+=" if (errors === ",_?e+="0":e+="errs_"+p,e+=") { ",O+="}")}}}S&&(e+=" "+O+" "),_?(o?(e+=" if (errors === 0) return data;           ",e+=" else throw new ValidationError(vErrors); "):(e+=" validate.errors = vErrors; ",e+=" return errors === 0;       "),e+=" }; return validate;"):e+=" var "+C+" = errors === errs_"+p+";",e=n.util.cleanUpCode(e),_&&(e=n.util.finalCleanUpCode(e,o));function $(ut){for(var ht=ut.rules,bt=0;bt<ht.length;bt++)if(J(ht[bt]))return!0}function J(ut){return n.schema[ut.keyword]!==void 0||ut.implements&&lt(ut)}function lt(ut){for(var ht=ut.implements,bt=0;bt<ht.length;bt++)if(n.schema[ht[bt]]!==void 0)return!0}return e}},function(f,r,t){f.exports=function(n,a,l){var e=" ",o=n.level,s=n.dataLevel,u=n.schema[a],c=n.schemaPath+n.util.getProperty(a),m=n.errSchemaPath+"/"+a,p=!n.opts.allErrors,C,h="data"+(s||""),v=n.opts.$data&&u&&u.$data,x;v?(e+=" var schema"+o+" = "+n.util.getData(u.$data,s,n.dataPathArr)+"; ",x="schema"+o):x=u;var y=a=="maximum",k=y?"exclusiveMaximum":"exclusiveMinimum",T=n.schema[k],E=n.opts.$data&&T&&T.$data,_=y?"<":">",A=y?">":"<",C=void 0;if(E){var S=n.util.getData(T.$data,s,n.dataPathArr),P="exclusive"+o,O="exclType"+o,R="exclIsNumber"+o,I="op"+o,M="' + "+I+" + '";e+=" var schemaExcl"+o+" = "+S+"; ",S="schemaExcl"+o,e+=" var "+P+"; var "+O+" = typeof "+S+"; if ("+O+" != 'boolean' && "+O+" != 'undefined' && "+O+" != 'number') { ";var C=k,H=H||[];H.push(e),e="",n.createErrors!==!1?(e+=" { keyword: '"+(C||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(m)+" , params: {} ",n.opts.messages!==!1&&(e+=" , message: '"+k+" should be boolean' "),n.opts.verbose&&(e+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+h+" "),e+=" } "):e+=" {} ";var L=e;e=H.pop(),!n.compositeRule&&p?n.async?e+=" throw new ValidationError(["+L+"]); ":e+=" validate.errors = ["+L+"]; return false; ":e+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",e+=" } else if ( ",v&&(e+=" ("+x+" !== undefined && typeof "+x+" != 'number') || "),e+=" "+O+" == 'number' ? ( ("+P+" = "+x+" === undefined || "+S+" "+_+"= "+x+") ? "+h+" "+A+"= "+S+" : "+h+" "+A+" "+x+" ) : ( ("+P+" = "+S+" === true) ? "+h+" "+A+"= "+x+" : "+h+" "+A+" "+x+" ) || "+h+" !== "+h+") { var op"+o+" = "+P+" ? '"+_+"' : '"+_+"='; ",u===void 0&&(C=k,m=n.errSchemaPath+"/"+k,x=S,v=E)}else{var R=typeof T=="number",M=_;if(R&&v){var I="'"+M+"'";e+=" if ( ",v&&(e+=" ("+x+" !== undefined && typeof "+x+" != 'number') || "),e+=" ( "+x+" === undefined || "+T+" "+_+"= "+x+" ? "+h+" "+A+"= "+T+" : "+h+" "+A+" "+x+" ) || "+h+" !== "+h+") { "}else{R&&u===void 0?(P=!0,C=k,m=n.errSchemaPath+"/"+k,x=T,A+="="):(R&&(x=Math[y?"min":"max"](T,u)),T===(R?x:!0)?(P=!0,C=k,m=n.errSchemaPath+"/"+k,A+="="):(P=!1,M+="="));var I="'"+M+"'";e+=" if ( ",v&&(e+=" ("+x+" !== undefined && typeof "+x+" != 'number') || "),e+=" "+h+" "+A+" "+x+" || "+h+" !== "+h+") { "}}C=C||a;var H=H||[];H.push(e),e="",n.createErrors!==!1?(e+=" { keyword: '"+(C||"_limit")+"' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(m)+" , params: { comparison: "+I+", limit: "+x+", exclusive: "+P+" } ",n.opts.messages!==!1&&(e+=" , message: 'should be "+M+" ",v?e+="' + "+x:e+=""+x+"'"),n.opts.verbose&&(e+=" , schema:  ",v?e+="validate.schema"+c:e+=""+u,e+="         , parentSchema: validate.schema"+n.schemaPath+" , data: "+h+" "),e+=" } "):e+=" {} ";var L=e;return e=H.pop(),!n.compositeRule&&p?n.async?e+=" throw new ValidationError(["+L+"]); ":e+=" validate.errors = ["+L+"]; return false; ":e+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",e+=" } ",p&&(e+=" else { "),e}},function(f,r,t){f.exports=function(n,a,l){var e=" ",o=n.level,s=n.dataLevel,u=n.schema[a],c=n.schemaPath+n.util.getProperty(a),m=n.errSchemaPath+"/"+a,p=!n.opts.allErrors,k,h="data"+(s||""),v=n.opts.$data&&u&&u.$data,x;v?(e+=" var schema"+o+" = "+n.util.getData(u.$data,s,n.dataPathArr)+"; ",x="schema"+o):x=u;var y=a=="maxItems"?">":"<";e+="if ( ",v&&(e+=" ("+x+" !== undefined && typeof "+x+" != 'number') || "),e+=" "+h+".length "+y+" "+x+") { ";var k=a,T=T||[];T.push(e),e="",n.createErrors!==!1?(e+=" { keyword: '"+(k||"_limitItems")+"' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(m)+" , params: { limit: "+x+" } ",n.opts.messages!==!1&&(e+=" , message: 'should NOT have ",a=="maxItems"?e+="more":e+="fewer",e+=" than ",v?e+="' + "+x+" + '":e+=""+u,e+=" items' "),n.opts.verbose&&(e+=" , schema:  ",v?e+="validate.schema"+c:e+=""+u,e+="         , parentSchema: validate.schema"+n.schemaPath+" , data: "+h+" "),e+=" } "):e+=" {} ";var E=e;return e=T.pop(),!n.compositeRule&&p?n.async?e+=" throw new ValidationError(["+E+"]); ":e+=" validate.errors = ["+E+"]; return false; ":e+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",e+="} ",p&&(e+=" else { "),e}},function(f,r,t){f.exports=function(n,a,l){var e=" ",o=n.level,s=n.dataLevel,u=n.schema[a],c=n.schemaPath+n.util.getProperty(a),m=n.errSchemaPath+"/"+a,p=!n.opts.allErrors,k,h="data"+(s||""),v=n.opts.$data&&u&&u.$data,x;v?(e+=" var schema"+o+" = "+n.util.getData(u.$data,s,n.dataPathArr)+"; ",x="schema"+o):x=u;var y=a=="maxLength"?">":"<";e+="if ( ",v&&(e+=" ("+x+" !== undefined && typeof "+x+" != 'number') || "),n.opts.unicode===!1?e+=" "+h+".length ":e+=" ucs2length("+h+") ",e+=" "+y+" "+x+") { ";var k=a,T=T||[];T.push(e),e="",n.createErrors!==!1?(e+=" { keyword: '"+(k||"_limitLength")+"' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(m)+" , params: { limit: "+x+" } ",n.opts.messages!==!1&&(e+=" , message: 'should NOT be ",a=="maxLength"?e+="longer":e+="shorter",e+=" than ",v?e+="' + "+x+" + '":e+=""+u,e+=" characters' "),n.opts.verbose&&(e+=" , schema:  ",v?e+="validate.schema"+c:e+=""+u,e+="         , parentSchema: validate.schema"+n.schemaPath+" , data: "+h+" "),e+=" } "):e+=" {} ";var E=e;return e=T.pop(),!n.compositeRule&&p?n.async?e+=" throw new ValidationError(["+E+"]); ":e+=" validate.errors = ["+E+"]; return false; ":e+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",e+="} ",p&&(e+=" else { "),e}},function(f,r,t){f.exports=function(n,a,l){var e=" ",o=n.level,s=n.dataLevel,u=n.schema[a],c=n.schemaPath+n.util.getProperty(a),m=n.errSchemaPath+"/"+a,p=!n.opts.allErrors,k,h="data"+(s||""),v=n.opts.$data&&u&&u.$data,x;v?(e+=" var schema"+o+" = "+n.util.getData(u.$data,s,n.dataPathArr)+"; ",x="schema"+o):x=u;var y=a=="maxProperties"?">":"<";e+="if ( ",v&&(e+=" ("+x+" !== undefined && typeof "+x+" != 'number') || "),e+=" Object.keys("+h+").length "+y+" "+x+") { ";var k=a,T=T||[];T.push(e),e="",n.createErrors!==!1?(e+=" { keyword: '"+(k||"_limitProperties")+"' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(m)+" , params: { limit: "+x+" } ",n.opts.messages!==!1&&(e+=" , message: 'should NOT have ",a=="maxProperties"?e+="more":e+="fewer",e+=" than ",v?e+="' + "+x+" + '":e+=""+u,e+=" properties' "),n.opts.verbose&&(e+=" , schema:  ",v?e+="validate.schema"+c:e+=""+u,e+="         , parentSchema: validate.schema"+n.schemaPath+" , data: "+h+" "),e+=" } "):e+=" {} ";var E=e;return e=T.pop(),!n.compositeRule&&p?n.async?e+=" throw new ValidationError(["+E+"]); ":e+=" validate.errors = ["+E+"]; return false; ":e+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",e+="} ",p&&(e+=" else { "),e}},function(f){f.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}},function(f,r,t){(function(n){var a=typeof n=="object"&&n&&n.Object===Object&&n;f.exports=a}).call(this,t(27))},function(f,r,t){var n=t(408),a=t(119);function l(e,o){return e&&n(e,o,a)}f.exports=l},function(f,r,t){var n=t(735),a=n();f.exports=a},function(f,r,t){var n=t(736),a=t(184),l=t(31),e=t(185),o=t(142),s=t(273),u=Object.prototype,c=u.hasOwnProperty;function m(p,h){var v=l(p),x=!v&&a(p),y=!v&&!x&&e(p),k=!v&&!x&&!y&&s(p),T=v||x||y||k,E=T?n(p.length,String):[],_=E.length;for(var A in p)(h||c.call(p,A))&&!(T&&(A=="length"||y&&(A=="offset"||A=="parent")||k&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||o(A,_)))&&E.push(A);return E}f.exports=m},function(f,r){function t(n,a){return function(l){return n(a(l))}}f.exports=t},function(f,r,t){var n=t(143);function a(l){return typeof l=="function"?l:n}f.exports=a},function(f,r,t){var n=t(97),a=t(278),l=t(56),e="[object Object]",o=Function.prototype,s=Object.prototype,u=o.toString,c=s.hasOwnProperty,m=u.call(Object);function p(h){if(!l(h)||n(h)!=e)return!1;var v=a(h);if(v===null)return!0;var x=c.call(v,"constructor")&&v.constructor;return typeof x=="function"&&x instanceof x&&u.call(x)==m}f.exports=p},function(f,r){function t(n,a){for(var l=-1,e=n==null?0:n.length,o=Array(e);++l<e;)o[l]=a(n[l],l,n);return o}f.exports=t},function(f,r){var t=Function.prototype,n=t.toString;function a(l){if(l!=null){try{return n.call(l)}catch{}try{return l+""}catch{}}return""}f.exports=a},function(f,r,t){var n=t(770),a=t(56);function l(e,o,s,u,c){return e===o?!0:e==null||o==null||!a(e)&&!a(o)?e!==e&&o!==o:n(e,o,s,u,l,c)}f.exports=l},function(f,r,t){var n=t(771),a=t(417),l=t(774),e=1,o=2;function s(u,c,m,p,h,v){var x=m&e,y=u.length,k=c.length;if(y!=k&&!(x&&k>y))return!1;var T=v.get(u);if(T&&v.get(c))return T==c;var E=-1,_=!0,A=m&o?new n:void 0;for(v.set(u,c),v.set(c,u);++E<y;){var C=u[E],S=c[E];if(p)var P=x?p(S,C,E,c,u,v):p(C,S,E,u,c,v);if(P!==void 0){if(P)continue;_=!1;break}if(A){if(!a(c,function(O,R){if(!l(A,R)&&(C===O||h(C,O,m,p,v)))return A.push(R)})){_=!1;break}}else if(!(C===S||h(C,S,m,p,v))){_=!1;break}}return v.delete(u),v.delete(c),_}f.exports=s},function(f,r){function t(n,a){for(var l=-1,e=n==null?0:n.length;++l<e;)if(a(n[l],l,n))return!0;return!1}f.exports=t},function(f,r,t){var n=t(41),a=n.Uint8Array;f.exports=a},function(f,r,t){var n=t(420),a=t(282),l=t(119);function e(o){return n(o,l,a)}f.exports=e},function(f,r,t){var n=t(281),a=t(31);function l(e,o,s){var u=o(e);return a(e)?u:n(u,s(e))}f.exports=l},function(f,r){function t(){return[]}f.exports=t},function(f,r,t){var n=t(99),a=t(41),l=n(a,"WeakMap");f.exports=l},function(f,r,t){var n=t(45);function a(l){return l===l&&!n(l)}f.exports=a},function(f,r){function t(n,a){return function(l){return l==null?!1:l[n]===a&&(a!==void 0||n in Object(l))}}f.exports=t},function(f,r,t){var n=t(790),a=t(791);function l(e,o){return e!=null&&a(e,o,n)}f.exports=l},function(f,r,t){var n=t(99),a=function(){try{var l=n(Object,"defineProperty");return l({},"",{}),l}catch{}}();f.exports=a},function(f,r,t){(function(n){var a=t(41),l=r&&!r.nodeType&&r,e=l&&typeof n=="object"&&n&&!n.nodeType&&n,o=e&&e.exports===l,s=o?a.Buffer:void 0,u=s?s.allocUnsafe:void 0;function c(m,p){if(p)return m.slice();var h=m.length,v=u?u(h):new m.constructor(h);return m.copy(v),v}n.exports=c}).call(this,t(173)(f))},function(f,r,t){var n=t(281),a=t(278),l=t(282),e=t(421),o=Object.getOwnPropertySymbols,s=o?function(u){for(var c=[];u;)n(c,l(u)),u=a(u);return c}:e;f.exports=s},function(f,r,t){var n=t(288);function a(l,e){var o=e?n(l.buffer):l.buffer;return new l.constructor(o,l.byteOffset,l.length)}f.exports=a},function(f,r,t){var n=t(197),a=t(278),l=t(186);function e(o){return typeof o.constructor=="function"&&!l(o)?n(a(o)):{}}f.exports=e},function(f,r,t){var n=t(287),a=t(120);function l(e,o,s){(s!==void 0&&!a(e[o],s)||s===void 0&&!(o in e))&&n(e,o,s)}f.exports=l},function(f,r){function t(n,a){if(!(a==="constructor"&&typeof n[a]=="function")&&a!="__proto__")return n[a]}f.exports=t},function(f,r,t){var n=t(292),a=Math.max;function l(e,o,s){return o=a(o===void 0?e.length-1:o,0),function(){for(var u=arguments,c=-1,m=a(u.length-o,0),p=Array(m);++c<m;)p[c]=u[o+c];c=-1;for(var h=Array(o+1);++c<o;)h[c]=u[c];return h[o]=s(p),n(e,this,h)}}f.exports=l},function(f,r){var t=800,n=16,a=Date.now;function l(e){var o=0,s=0;return function(){var u=a(),c=n-(u-s);if(s=u,c>0){if(++o>=t)return arguments[0]}else o=0;return e.apply(void 0,arguments)}}f.exports=l},function(f,r,t){var n=t(45),a=t(837),l=t(436),e="Expected a function",o=Math.max,s=Math.min;function u(c,m,p){var h,v,x,y,k,T,E=0,_=!1,A=!1,C=!0;if(typeof c!="function")throw new TypeError(e);m=l(m)||0,n(p)&&(_=!!p.leading,A="maxWait"in p,x=A?o(l(p.maxWait)||0,m):x,C="trailing"in p?!!p.trailing:C);function S(j){var W=h,B=v;return h=v=void 0,E=j,y=c.apply(B,W),y}function P(j){return E=j,k=setTimeout(I,m),_?S(j):y}function O(j){var W=j-T,B=j-E,F=m-W;return A?s(F,x-B):F}function R(j){var W=j-T,B=j-E;return T===void 0||W>=m||W<0||A&&B>=x}function I(){var j=a();if(R(j))return M(j);k=setTimeout(I,O(j))}function M(j){return k=void 0,C&&h?S(j):(h=v=void 0,y)}function H(){k!==void 0&&clearTimeout(k),E=0,h=T=v=k=void 0}function L(){return k===void 0?y:M(a())}function D(){var j=a(),W=R(j);if(h=arguments,v=this,T=j,W){if(k===void 0)return P(T);if(A)return clearTimeout(k),k=setTimeout(I,m),S(T)}return k===void 0&&(k=setTimeout(I,m)),y}return D.cancel=H,D.flush=L,D}f.exports=u},function(f,r,t){var n=t(45),a=t(194),l=NaN,e=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;function m(p){if(typeof p=="number")return p;if(a(p))return l;if(n(p)){var h=typeof p.valueOf=="function"?p.valueOf():p;p=n(h)?h+"":h}if(typeof p!="string")return p===0?p:+p;p=p.replace(e,"");var v=s.test(p);return v||u.test(p)?c(p.slice(2),v?2:8):o.test(p)?l:+p}f.exports=m},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorWrap=void 0;var n=Object.assign||function(y){for(var k=1;k<arguments.length;k++){var T=arguments[k];for(var E in T)Object.prototype.hasOwnProperty.call(T,E)&&(y[E]=T[E])}return y},a=function(){function y(k,T){for(var E=0;E<T.length;E++){var _=T[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(k,_.key,_)}}return function(k,T,E){return T&&y(k.prototype,T),E&&y(k,E),k}}(),l=t(1),e=m(l),o=t(435),s=m(o),u=t(57),c=m(u);function m(y){return y&&y.__esModule?y:{default:y}}function p(y,k){if(!(y instanceof k))throw new TypeError("Cannot call a class as a function")}function h(y,k){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:y}function v(y,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);y.prototype=Object.create(k&&k.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(y,k):y.__proto__=k)}var x=r.ColorWrap=function(y){var k=function(T){v(E,T);function E(_){p(this,E);var A=h(this,(E.__proto__||Object.getPrototypeOf(E)).call(this));return A.handleChange=function(C,S){var P=c.default.simpleCheckForValidColor(C);if(P){var O=c.default.toState(C,C.h||A.state.oldHue);A.setState(O),A.props.onChangeComplete&&A.debounce(A.props.onChangeComplete,O,S),A.props.onChange&&A.props.onChange(O,S)}},A.handleSwatchHover=function(C,S){var P=c.default.simpleCheckForValidColor(C);if(P){var O=c.default.toState(C,C.h||A.state.oldHue);A.setState(O),A.props.onSwatchHover&&A.props.onSwatchHover(O,S)}},A.state=n({},c.default.toState(_.color,0)),A.debounce=(0,s.default)(function(C,S,P){C(S,P)},100),A}return a(E,[{key:"componentWillReceiveProps",value:function(_){this.setState(n({},c.default.toState(_.color,this.state.oldHue)))}},{key:"render",value:function(){var _={};return this.props.onSwatchHover&&(_.onSwatchHover=this.handleSwatchHover),e.default.createElement(y,n({},this.props,this.state,{onChange:this.handleChange},_))}}]),E}(l.PureComponent||l.Component);return k.propTypes=n({},y.propTypes),k.defaultProps=n({},y.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),k};r.default=x},function(f,r,t){t.r(r),t.d(r,"red",function(){return n}),t.d(r,"pink",function(){return a}),t.d(r,"purple",function(){return l}),t.d(r,"deepPurple",function(){return e}),t.d(r,"indigo",function(){return o}),t.d(r,"blue",function(){return s}),t.d(r,"lightBlue",function(){return u}),t.d(r,"cyan",function(){return c}),t.d(r,"teal",function(){return m}),t.d(r,"green",function(){return p}),t.d(r,"lightGreen",function(){return h}),t.d(r,"lime",function(){return v}),t.d(r,"yellow",function(){return x}),t.d(r,"amber",function(){return y}),t.d(r,"orange",function(){return k}),t.d(r,"deepOrange",function(){return T}),t.d(r,"brown",function(){return E}),t.d(r,"grey",function(){return _}),t.d(r,"blueGrey",function(){return A}),t.d(r,"darkText",function(){return C}),t.d(r,"lightText",function(){return S}),t.d(r,"darkIcons",function(){return P}),t.d(r,"lightIcons",function(){return O}),t.d(r,"white",function(){return R}),t.d(r,"black",function(){return I});var n={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},a={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},l={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},e={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},o={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},s={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},u={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},c={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},m={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},p={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},h={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},v={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},x={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},y={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},k={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},T={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},E={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},_={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121"},A={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},C={primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",dividers:"rgba(0, 0, 0, 0.12)"},S={primary:"rgba(255, 255, 255, 1)",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",dividers:"rgba(255, 255, 255, 0.12)"},P={active:"rgba(0, 0, 0, 0.54)",inactive:"rgba(0, 0, 0, 0.38)"},O={active:"rgba(255, 255, 255, 1)",inactive:"rgba(255, 255, 255, 0.5)"},R="#ffffff",I="#000000";r.default={red:n,pink:a,purple:l,deepPurple:e,indigo:o,blue:s,lightBlue:u,cyan:c,teal:m,green:p,lightGreen:h,lime:v,yellow:x,amber:y,orange:k,deepOrange:T,brown:E,grey:_,blueGrey:A,darkText:C,lightText:S,darkIcons:P,lightIcons:O,white:R,black:I}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function(a){return function(l){return Array.prototype.reduce.call(l,a)}};r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(25),a=u(n),l=t(19),e=u(l),o=t(441),s=u(o);function u(h){return h&&h.__esModule?h:{default:h}}var c=!1,m=function(){if(!c){var h=(0,s.default)(),v=(0,e.default)(h,2),x=v[0],y=v[1],k="102117110099116105111110040041123115101108102046099111110115111108101046108111103040039",T="072",E="105",_="071",A="108097115115",C="032118",S="058032104116116112058047047104105103108097115115046105111039041125",P=[String.fromCharCode.apply(String,(0,a.default)(k.match(/.{1,3}/g).map(function(G){return+G}))).toLowerCase(),String.fromCharCode.apply(String,(0,a.default)(T.match(/.{1,3}/g).map(function(G){return+G}))),String.fromCharCode.apply(String,(0,a.default)(E.match(/.{1,3}/g).map(function(G){return+G}))).toLowerCase(),String.fromCharCode.apply(String,(0,a.default)(_.match(/.{1,3}/g).map(function(G){return+G}))),String.fromCharCode.apply(String,(0,a.default)(A.match(/.{1,3}/g).map(function(G){return+G}))).toLowerCase(),String.fromCharCode.apply(String,(0,a.default)(C.match(/.{1,3}/g).map(function(G){return+G}))).toLowerCase(),String.fromCharCode.apply(String,(0,a.default)(y.match(/.{1,3}/g).map(function(G){return+G}))).toLowerCase(),String.fromCharCode.apply(String,(0,a.default)(S.match(/.{1,3}/g).map(function(G){return+G}))).toLowerCase()].join(""),O="085082076",R="066076079066",I="087111114107101114",M="099114101097116101079098106101099116085082076",H="114101118111107101079098106101099116085082076",L=function(G){return G.charAt(0).toUpperCase()+G.slice(1)},D=function(G){return G.slice(0,6)+G.charAt(6).toUpperCase()+G.slice(7,12)+G.slice(12).toUpperCase()},j=x[String.fromCharCode.apply(String,(0,a.default)(O.match(/.{1,3}/g).map(function(G){return+G})))],W=x[L(String.fromCharCode.apply(String,(0,a.default)(R.match(/.{1,3}/g).map(function(G){return+G}))).toLowerCase())],B=x[L(String.fromCharCode.apply(String,(0,a.default)(I.match(/.{1,3}/g).map(function(G){return+G}))).toLowerCase())],F=D(String.fromCharCode.apply(String,(0,a.default)(M.match(/.{1,3}/g).map(function(G){return+G}))).toLowerCase()),N=D(String.fromCharCode.apply(String,(0,a.default)(H.match(/.{1,3}/g).map(function(G){return+G}))).toLowerCase()),X=j[F](new W(["("+String(P)+")()"],{type:"application/javascript"}));new B(X),j[N](X),c=!0}},p={listen:m};r.default=p},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(442),a=l(n);function l(o){return o&&o.__esModule?o:{default:o}}var e=function(){return[window,(0,a.default)(function(o){return o.charCodeAt(0)})("1.11.11").map(function(o){return o<=999?("00"+o).slice(-3):o}).join("")]};r.default=e},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function(a){return function(l){return Array.prototype.map.call(l,a)}};r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(18),a=o(n),l=t(444),e=o(l);function o(u){return u&&u.__esModule?u:{default:u}}var s=function(u,c){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,p=[];return(0,a.default)(u).forEach(function(h){(0,e.default)(u[h],c,m,h)}),p};r.default=s},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function a(l,e){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return l.forEach(function(u){u.type==="combined"?o&&(a(u.contents,e,o,s),e(u,s)):e(u,s)})};r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function(a){var l=a.shape.reduce(function(p,h){return p*h},1),e=new Array(l);if(a.dimension===1)for(var o=0,s=0;s<a.shape[0];++s)e[o]=a.get(s),o++;else for(var u=0,c=0;c<a.shape[0];++c)for(var m=0;m<a.shape[1];++m)e[u]=a.get(c,m),u++;return e};r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.getTiledPlot=r.getTrackRenderer=r.getTrackObjectFromHGC=void 0;var n=t(37),a=l(n);function l(e){return e&&e.__esModule?e:{default:e}}r.getTrackObjectFromHGC=function(e,o,s){var u=o,c=s;return s||(c=o,u=(0,a.default)(e.state.views)[0].uid),e.tiledPlots[u].trackRenderer.getTrackObject(c)},r.getTrackRenderer=function(e,o){return e.tiledPlots[o].trackRenderer},r.getTiledPlot=function(e,o){return e.tiledPlots[o]}},function(f,r,t){(function(n){Object.defineProperty(r,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},l=function(){function X(G,V){for(var z=0;z<V.length;z++){var U=V[z];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(G,U.key,U)}}return function(G,V,z){return V&&X(G.prototype,V),z&&X(G,z),G}}(),e=t(122),o=_(e),s=t(296),u=_(s),c=t(154),m=_(c),p=t(59),h=_(p),v=t(313),x=t(103),y=_(x),k=t(511),T=t(156),E=t(512);function _(X){return X&&X.__esModule?X:{default:X}}function A(X,G,V){return G in X?Object.defineProperty(X,G,{value:V,enumerable:!0,configurable:!0,writable:!0}):X[G]=V,X}function C(X,G){if(!(X instanceof G))throw new TypeError("Cannot call a class as a function")}var S=(0,v.sym)("__node__"),P=(0,v.sym)("__nodes__"),O=(0,v.sym)("__renderer__"),R=(0,v.sym)("__unrendered__"),I=(0,v.sym)("__root__"),M=(0,v.sym)("__options__"),H=(0,v.sym)("__rootNodes__");function L(X,G){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T.treeFilter;return X.flatMap(function(z){return V(z.getNodeInternal(),G)})}function D(X,G){return X.wrap(X.getNodesInternal().filter(G).filter(Boolean))}function j(X){if(X[I].length!==1)throw new Error("getRootNodeInternal(wrapper) can only be called when wrapper wraps one node");return X[I]!==X?X[H][0]:X[I][S]}function W(X,G){return(0,T.parentsOfNode)(G,j(X))}function B(X,G){G?Array.isArray(G)?((0,v.privateSet)(X,S,G[0]),(0,v.privateSet)(X,P,G)):((0,v.privateSet)(X,S,G),(0,v.privateSet)(X,P,[G])):((0,v.privateSet)(X,S,null),(0,v.privateSet)(X,P,[])),(0,v.privateSet)(X,"length",X[P].length)}var F=function(){function X(G,V){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(C(this,X),!n.window&&!n.document)throw new Error("It looks like you called `mount()` without a global document being loaded.");var U=(0,v.makeOptions)(z);if(V)(0,v.privateSet)(this,R,null),(0,v.privateSet)(this,O,V[O]),(0,v.privateSet)(this,I,V),B(this,G),(0,v.privateSet)(this,H,V[P]);else{var Z=(0,y.default)(U);if(!Z.isValidElement(G))throw new TypeError("ReactWrapper can only wrap valid elements");(0,v.privateSet)(this,R,G);var st=Z.createRenderer((0,o.default)({mode:"mount"},U));(0,v.privateSet)(this,O,st),st.render(G,U.context),(0,v.privateSet)(this,I,this),B(this,this[O].getNode())}(0,v.privateSet)(this,M,V?V[M]:U)}return l(X,[{key:"root",value:function(){function G(){return this[I]}return G}()},{key:"getNodeInternal",value:function(){function G(){if(this.length!==1)throw new Error("ReactWrapper::getNode() can only be called when wrapping one node");return this[P][0]}return G}()},{key:"getNodesInternal",value:function(){function G(){return this[P]}return G}()},{key:"getElement",value:function(){function G(){var V=this;return this.single("getElement",function(){return(0,y.default)(V[M]).nodeToElement(V[S])})}return G}()},{key:"getElements",value:function(){function G(){return this[P].map((0,y.default)(this[M]).nodeToElement)}return G}()},{key:"getNode",value:function(){function G(){throw new Error("ReactWrapper::getNode() is no longer supported. Use ReactWrapper::instance() instead")}return G}()},{key:"getNodes",value:function(){function G(){throw new Error("ReactWrapper::getNodes() is no longer supported.")}return G}()},{key:"getDOMNode",value:function(){function G(){var V=(0,y.default)(this[M]);return this.single("getDOMNode",function(z){return V.nodeToHostNode(z,!0)})}return G}()},{key:"ref",value:function(){function G(V){if(this[I]!==this)throw new Error("ReactWrapper::ref(refname) can only be called on the root");return this.instance().refs[V]}return G}()},{key:"instance",value:function(){function G(){var V=this;return this.single("instance",function(){return V[S].instance})}return G}()},{key:"update",value:function(){function G(){var V=this[I];return this!==V?V.update():(B(this,this[O].getNode()),this)}return G}()},{key:"unmount",value:function(){function G(){var V=this;if(this[I]!==this)throw new Error("ReactWrapper::unmount() can only be called on the root");return this.single("unmount",function(){V[O].unmount(),V.update()}),this}return G}()},{key:"mount",value:function(){function G(){var V=this;if(this[I]!==this)throw new Error("ReactWrapper::mount() can only be called on the root");return this[O].render(this[R],this[M].context,function(){return V.update()}),this}return G}()},{key:"setProps",value:function(){function G(V){var z=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;if(this[I]!==this)throw new Error("ReactWrapper::setProps() can only be called on the root");if(arguments.length>1&&typeof U!="function")throw new TypeError("ReactWrapper::setProps() expects a function as its second argument");var Z=(0,y.default)(this[M]);return this[R]=(0,v.cloneElement)(Z,this[R],V),this[O].render(this[R],null,function(){z.update(),U&&U()}),this}return G}()},{key:"setState",value:function(){function G(V){var z=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;if(this.instance()===null||this.getNodeInternal().nodeType!=="class")throw new Error("ReactWrapper::setState() can only be called on class components");if(arguments.length>1&&typeof U!="function")throw new TypeError("ReactWrapper::setState() expects a function as its second argument");return this.instance().setState(V,function(){if(z.update(),U){var Z=(0,y.default)(z[M]),st=z.instance();Z.invokeSetStateCallback?Z.invokeSetStateCallback(st,U):U.call(st)}}),this}return G}()},{key:"setContext",value:function(){function G(V){var z=this;if(this[I]!==this)throw new Error("ReactWrapper::setContext() can only be called on the root");if(!this[M].context)throw new Error("ShallowWrapper::setContext() can only be called on a wrapper that was originally passed a context option");return this[O].render(this[R],V,function(){return z.update()}),this}return G}()},{key:"contains",value:function(){function G(V){var z=(0,y.default)(this[M]),U=Array.isArray(V)?function(Z){return(0,v.containsChildrenSubArray)(v.nodeEqual,Z,V.map(function(st){return z.elementToNode(st)}))}:function(Z){return(0,v.nodeEqual)(z.elementToNode(V),Z)};return L(this,U).length>0}return G}()},{key:"containsMatchingElement",value:function(){function G(V){var z=(0,y.default)(this[M]).elementToNode(V),U=function(){function Z(st){return(0,v.nodeMatches)(z,st,function(Y,rt){return Y<=rt})}return Z}();return L(this,U).length>0}return G}()},{key:"containsAllMatchingElements",value:function(){function G(V){var z=this;if(!Array.isArray(V))throw new TypeError("nodes should be an Array");return V.every(function(U){return z.containsMatchingElement(U)})}return G}()},{key:"containsAnyMatchingElements",value:function(){function G(V){var z=this;return Array.isArray(V)&&V.some(function(U){return z.containsMatchingElement(U)})}return G}()},{key:"equals",value:function(){function G(V){var z=this;return this.single("equals",function(){return(0,v.nodeEqual)(z.getNodeInternal(),V)})}return G}()},{key:"matchesElement",value:function(){function G(V){var z=this;return this.single("matchesElement",function(){var U=(0,y.default)(z[M]),Z=U.elementToNode(V);return(0,v.nodeMatches)(Z,z.getNodeInternal(),function(st,Y){return st<=Y})})}return G}()},{key:"find",value:function(){function G(V){return this.wrap((0,E.reduceTreesBySelector)(V,this.getNodesInternal()))}return G}()},{key:"is",value:function(){function G(V){var z=(0,E.buildPredicate)(V);return this.single("is",function(U){return z(U)})}return G}()},{key:"isEmptyRender",value:function(){function G(){var V=this.getNodeInternal();return(0,v.renderedDive)(V)}return G}()},{key:"filterWhere",value:function(){function G(V){var z=this;return D(this,function(U){return V(z.wrap(U))})}return G}()},{key:"filter",value:function(){function G(V){var z=(0,E.buildPredicate)(V);return D(this,z)}return G}()},{key:"not",value:function(){function G(V){var z=(0,E.buildPredicate)(V);return D(this,function(U){return!z(U)})}return G}()},{key:"text",value:function(){function G(){var V=(0,y.default)(this[M]);return this.single("text",function(z){var U=V.nodeToHostNode(z,!0);if(!U)return typeof z=="string"?z:U;var Z=Array.isArray(U)?U:[U],st=Z.map(function(Y){return Y&&Y.textContent||""});return st.join("")})}return G}()},{key:"html",value:function(){function G(){var V=this;return this.single("html",function(z){if(z===null)return null;var U=(0,y.default)(V[M]),Z=U.nodeToHostNode(z,!0);if(Z===null)return null;var st=Array.isArray(Z)?Z:[Z],Y=st.map(function(rt){return rt===null?null:rt.outerHTML.replace(/\sdata-(reactid|reactroot)+="([^"]*)+"/g,"")});return Y.join("")})}return G}()},{key:"render",value:function(){function G(){var V=this.html();return V===null?(0,u.default)():u.default.load("")(V)}return G}()},{key:"simulate",value:function(){function G(V){var z=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.single("simulate",function(Z){return z[O].simulateEvent(Z,V,U),z[I].update(),z})}return G}()},{key:"simulateError",value:function(){function G(V){var z=this;if(this[I]===this)throw new Error("ReactWrapper::simulateError() may not be called on the root");return this.single("simulateError",function(U){if(U.nodeType==="host")throw new Error("ReactWrapper::simulateError() can only be called on custom components");var Z=z[O];if(typeof Z.simulateError!="function")throw new TypeError("your adapter does not support `simulateError`. Try upgrading it!");var st=j(z),Y=[U].concat(W(z,U));return Z.simulateError(Y,st,V),z[I].update(),z})}return G}()},{key:"props",value:function(){function G(){return this.single("props",T.propsOfNode)}return G}()},{key:"state",value:function(){function G(V){var z=this;if(this.instance()===null||this[O].getNode().nodeType!=="class")throw new Error("ReactWrapper::state() can only be called on class components");var U=this.single("state",function(){return z.instance().state});if(typeof V<"u"){if(U==null)throw new TypeError('ReactWrapper::state("'+String(V)+'") requires that `state` not be `null` or `undefined`');return U[V]}return U}return G}()},{key:"context",value:function(){function G(V){var z=this;if(this[I]!==this)throw new Error("ReactWrapper::context() can only be called on the root");var U=this.single("context",function(){return z.instance()});if(U===null)throw new Error("ReactWrapper::context() can only be called on components with instances");var Z=U.context;return typeof V<"u"?Z[V]:Z}return G}()},{key:"children",value:function(){function G(V){var z=this.flatMap(function(U){return(0,T.childrenOfNode)(U.getNodeInternal()).filter(function(Z){return(typeof Z>"u"?"undefined":a(Z))==="object"})});return V?z.filter(V):z}return G}()},{key:"childAt",value:function(){function G(V){var z=this;return this.single("childAt",function(){return z.children().at(V)})}return G}()},{key:"parents",value:function(){function G(V){var z=this;return this.single("parents",function(U){var Z=z.wrap(W(z,U));return V?Z.filter(V):Z})}return G}()},{key:"parent",value:function(){function G(){return this.flatMap(function(V){return[V.parents().get(0)]})}return G}()},{key:"closest",value:function(){function G(V){if(this.is(V))return this;var z=this.parents().filter(V);return z.length>0?z.first():this.findWhere(function(){return!1})}return G}()},{key:"prop",value:function(){function G(V){return this.props()[V]}return G}()},{key:"renderProp",value:function(){function G(V){var z=this,U=(0,y.default)(this[M]);if(typeof U.wrap!="function")throw new RangeError("your adapter does not support `wrap`. Try upgrading it!");return this.single("renderProp",function(Z){if(Z.nodeType==="host")throw new TypeError("ReactWrapper::renderProp() can only be called on custom components");if(typeof V!="string")throw new TypeError("`propName` must be a string");var st=z.props();if(!(0,h.default)(st,V))throw new Error("no prop called “"+String(V)+"“ found");var Y=st[V];if(typeof Y!="function")throw new TypeError("expected prop “"+String(V)+"“ to contain a function, but it holds “"+(typeof prop>"u"?"undefined":a(prop))+"“");return function(){var rt=Y.apply(void 0,arguments),ft=U.wrap(rt);return z.wrap(ft,null,z[M])}})}return G}()},{key:"key",value:function(){function G(){return this.single("key",function(V){return V.key===void 0?null:V.key})}return G}()},{key:"type",value:function(){function G(){return this.single("type",function(V){return(0,v.typeOfNode)(V)})}return G}()},{key:"name",value:function(){function G(){var V=(0,y.default)(this[M]);return this.single("name",function(z){return V.displayNameOfNode?V.displayNameOfNode(z):(0,v.displayNameOfNode)(z)})}return G}()},{key:"hasClass",value:function(){function G(V){return V&&V.indexOf(".")!==-1&&console.warn("It looks like you're calling `ReactWrapper::hasClass()` with a CSS selector. hasClass() expects a class name, not a CSS selector."),this.single("hasClass",function(z){return(0,T.hasClassName)(z,V)})}return G}()},{key:"forEach",value:function(){function G(V){var z=this;return this.getNodesInternal().forEach(function(U,Z){return V.call(z,z.wrap(U),Z)}),this}return G}()},{key:"map",value:function(){function G(V){var z=this;return this.getNodesInternal().map(function(U,Z){return V.call(z,z.wrap(U),Z)})}return G}()},{key:"reduce",value:function(){function G(V){var z=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;return arguments.length>1?this.getNodesInternal().reduce(function(Z,st,Y){return V.call(z,Z,z.wrap(st),Y)},U):this.getNodesInternal().reduce(function(Z,st,Y){return V.call(z,Y===1?z.wrap(Z):Z,z.wrap(st),Y)})}return G}()},{key:"reduceRight",value:function(){function G(V){var z=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;return arguments.length>1?this.getNodesInternal().reduceRight(function(Z,st,Y){return V.call(z,Z,z.wrap(st),Y)},U):this.getNodesInternal().reduceRight(function(Z,st,Y){return V.call(z,Y===1?z.wrap(Z):Z,z.wrap(st),Y)})}return G}()},{key:"slice",value:function(){function G(V,z){return this.wrap(this.getNodesInternal().slice(V,z))}return G}()},{key:"some",value:function(){function G(V){if(this[I]===this)throw new Error("ReactWrapper::some() can not be called on the root");var z=(0,E.buildPredicate)(V);return this.getNodesInternal().some(z)}return G}()},{key:"someWhere",value:function(){function G(V){var z=this;return this.getNodesInternal().some(function(U,Z){return V.call(z,z.wrap(U),Z)})}return G}()},{key:"every",value:function(){function G(V){var z=(0,E.buildPredicate)(V);return this.getNodesInternal().every(z)}return G}()},{key:"everyWhere",value:function(){function G(V){var z=this;return this.getNodesInternal().every(function(U,Z){return V.call(z,z.wrap(U),Z)})}return G}()},{key:"flatMap",value:function(){function G(V){var z=this,U=this.getNodesInternal().map(function(st,Y){return V.call(z,z.wrap(st),Y)}),Z=(0,m.default)(U,1);return this.wrap(Z.filter(Boolean))}return G}()},{key:"findWhere",value:function(){function G(V){var z=this;return L(this,function(U){var Z=z.wrap(U);return Z.length>0&&V(Z)})}return G}()},{key:"get",value:function(){function G(V){return this.getElements()[V]}return G}()},{key:"at",value:function(){function G(V){var z=this.getNodesInternal();return V<z.length?this.wrap(z[V]):this.wrap([])}return G}()},{key:"first",value:function(){function G(){return this.at(0)}return G}()},{key:"last",value:function(){function G(){return this.at(this.length-1)}return G}()},{key:"isEmpty",value:function(){function G(){return console.warn("Enzyme::Deprecated method isEmpty() called, use exists() instead."),!this.exists()}return G}()},{key:"exists",value:function(){function G(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return arguments.length>0?this.find(V).exists():this.length>0}return G}()},{key:"single",value:function(){function G(V,z){var U=typeof V=="string"?V:"unknown",Z=typeof z=="function"?z:V;if(this.length!==1)throw new Error("Method “"+U+"” is meant to be run on 1 node. "+String(this.length)+" found instead.");return Z.call(this,this.getNodeInternal())}return G}()},{key:"wrap",value:function(){function G(V){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this[I];if(V instanceof X)return V;for(var U=arguments.length,Z=Array(U>2?U-2:0),st=2;st<U;st++)Z[st-2]=arguments[st];return new(Function.prototype.bind.apply(X,[null].concat([V,z],Z)))}return G}()},{key:"debug",value:function(){function G(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,k.debugNodes)(this.getNodesInternal(),V)}return G}()},{key:"tap",value:function(){function G(V){return V(this),this}return G}()},{key:"detach",value:function(){function G(){if(this[I]!==this)throw new Error("ReactWrapper::detach() can only be called on the root");if(!this[M].attachTo)throw new Error("ReactWrapper::detach() can only be called on when the `attachTo` option was passed into `mount()`.");this[O].unmount()}return G}()},{key:"hostNodes",value:function(){function G(){return this.filterWhere(function(V){return typeof V.type()=="string"})}return G}()}]),X}();v.ITERATOR_SYMBOL&&Object.defineProperty(F.prototype,v.ITERATOR_SYMBOL,{configurable:!0,value:function(){function X(){var G,V=this[P][v.ITERATOR_SYMBOL](),z=(0,y.default)(this[M]);return G={},A(G,v.ITERATOR_SYMBOL,function(){return this}),A(G,"next",function(){function U(){var Z=V.next();return Z.done?{done:!0}:{done:!1,value:z.nodeToElement(Z.value)}}return U}()),G}return X}()});function N(X,G){Object.defineProperty(F.prototype,X,{get:function(){function V(){throw new Error(`
        Attempted to access ReactWrapper::`+String(X)+`, which was previously a private property on
        Enzyme ReactWrapper instances, but is no longer and should not be relied upon.
        `+String(G)+`
      `)}return V}(),enumerable:!1,configurable:!1})}N("node","Consider using the getElement() method instead."),N("nodes","Consider using the getElements() method instead."),N("renderer",""),N("options",""),N("complexSelector",""),r.default=F}).call(this,t(27))},function(f,r,t){var n=Object.prototype.toString;f.exports=function(a){var l=n.call(a),e=l==="[object Arguments]";return e||(e=l!=="[object Array]"&&a!==null&&typeof a=="object"&&typeof a.length=="number"&&a.length>=0&&n.call(a.callee)==="[object Function]"),e}},function(f,r,t){var n=t(295),a=t(53),l=function(m){return typeof m<"u"&&m!==null},e=t(450)(),o=Object,s=a.call(Function.call,Array.prototype.push),u=a.call(Function.call,Object.prototype.propertyIsEnumerable),c=e?Object.getOwnPropertySymbols:null;f.exports=function(m,p){if(!l(m))throw new TypeError("target must be an object");var h=o(m),v,x,y,k,T,E,_;for(v=1;v<arguments.length;++v){x=o(arguments[v]),k=n(x);var A=e&&(Object.getOwnPropertySymbols||c);if(A)for(T=A(x),y=0;y<T.length;++y)_=T[y],u(x,_)&&s(k,_);for(y=0;y<k.length;++y)_=k[y],E=x[_],u(x,_)&&(h[_]=E)}return h}},function(f,r,t){f.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var n={},a=Symbol("test"),l=Object(a);if(typeof a=="string"||Object.prototype.toString.call(a)!=="[object Symbol]"||Object.prototype.toString.call(l)!=="[object Symbol]")return!1;var e=42;n[a]=e;for(a in n)return!1;if(typeof Object.keys=="function"&&Object.keys(n).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(n).length!==0)return!1;var o=Object.getOwnPropertySymbols(n);if(o.length!==1||o[0]!==a||!Object.prototype.propertyIsEnumerable.call(n,a))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(n,a);if(s.value!==e||s.enumerable!==!0)return!1}return!0}},function(f,r,t){var n=t(449),a=function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",o=e.split(""),s={},u=0;u<o.length;++u)s[o[u]]=o[u];var c=Object.assign({},s),m="";for(var p in c)m+=p;return e!==m},l=function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch{return e[1]==="y"}return!1};f.exports=function(){return!Object.assign||a()||l()?n:Object.assign}},function(f,r,t){var n=t(198),a=t(204).default,l=t(204).flatten,e=t(152).isHtml,o={extend:t(471),bind:t(306),forEach:t(147),defaults:t(482)},s=[t(1013),t(1023),t(1030),t(1033),t(1039)],u=f.exports=function(m,p,h,v){return this instanceof u?(this.options=o.defaults(l(v),this.options,a),m?(h&&(typeof h=="string"&&(h=n(h,this.options,!1)),this._root=u.call(this,h)),m.cheerio?m:(c(m)&&(m=[m]),Array.isArray(m)?(o.forEach(m,o.bind(function(x,y){this[y]=x},this)),this.length=m.length,this):typeof m=="string"&&e(m)?u.call(this,n(m,this.options,!1).children):(p?typeof p=="string"?e(p)?(p=n(p,this.options,!1),p=u.call(this,p)):(m=[p,m].join(" "),p=this._root):p.cheerio||(p=u.call(this,p)):p=this._root,p?p.find(m):this))):this):new u(m,p,h,v)};o.extend(u,t(310)),u.prototype.cheerio="[cheerio object]",u.prototype.length=0,u.prototype.splice=Array.prototype.splice,u.prototype._make=function(m,p){var h=new this.constructor(m,p,this._root,this.options);return h.prevObject=this,h},u.prototype.toArray=function(){return this.get()},s.forEach(function(m){o.extend(u.prototype,m)});var c=function(m){return m.name||m.type==="text"||m.type==="comment"}},function(f,r,t){var n=t(454),a={input:!0,option:!0,optgroup:!0,select:!0,button:!0,datalist:!0,textarea:!0},l={tr:{tr:!0,th:!0,td:!0},th:{th:!0},td:{thead:!0,th:!0,td:!0},body:{head:!0,link:!0,script:!0},li:{li:!0},p:{p:!0},h1:{p:!0},h2:{p:!0},h3:{p:!0},h4:{p:!0},h5:{p:!0},h6:{p:!0},select:a,input:a,output:a,button:a,datalist:a,textarea:a,option:{option:!0},optgroup:{optgroup:!0}},e={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},o={__proto__:null,math:!0,svg:!0},s={__proto__:null,mi:!0,mo:!0,mn:!0,ms:!0,mtext:!0,"annotation-xml":!0,foreignObject:!0,desc:!0,title:!0},u=/\s|\//;function c(m,p){this._options=p||{},this._cbs=m||{},this._tagname="",this._attribname="",this._attribvalue="",this._attribs=null,this._stack=[],this._foreignContext=[],this.startIndex=0,this.endIndex=null,this._lowerCaseTagNames="lowerCaseTags"in this._options?!!this._options.lowerCaseTags:!this._options.xmlMode,this._lowerCaseAttributeNames="lowerCaseAttributeNames"in this._options?!!this._options.lowerCaseAttributeNames:!this._options.xmlMode,this._options.Tokenizer&&(n=this._options.Tokenizer),this._tokenizer=new n(this._options,this),this._cbs.onparserinit&&this._cbs.onparserinit(this)}t(58)(c,t(199).EventEmitter),c.prototype._updatePosition=function(m){this.endIndex===null?this._tokenizer._sectionStart<=m?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-m:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},c.prototype.ontext=function(m){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(m)},c.prototype.onopentagname=function(m){if(this._lowerCaseTagNames&&(m=m.toLowerCase()),this._tagname=m,!this._options.xmlMode&&m in l)for(var p;(p=this._stack[this._stack.length-1])in l[m];this.onclosetag(p));(this._options.xmlMode||!(m in e))&&(this._stack.push(m),m in o?this._foreignContext.push(!0):m in s&&this._foreignContext.push(!1)),this._cbs.onopentagname&&this._cbs.onopentagname(m),this._cbs.onopentag&&(this._attribs={})},c.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&this._tagname in e&&this._cbs.onclosetag(this._tagname),this._tagname=""},c.prototype.onclosetag=function(m){if(this._updatePosition(1),this._lowerCaseTagNames&&(m=m.toLowerCase()),(m in o||m in s)&&this._foreignContext.pop(),this._stack.length&&(!(m in e)||this._options.xmlMode)){var p=this._stack.lastIndexOf(m);if(p!==-1)if(this._cbs.onclosetag)for(p=this._stack.length-p;p--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=p;else m==="p"&&!this._options.xmlMode&&(this.onopentagname(m),this._closeCurrentTag())}else!this._options.xmlMode&&(m==="br"||m==="p")&&(this.onopentagname(m),this._closeCurrentTag())},c.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing||this._foreignContext[this._foreignContext.length-1]?this._closeCurrentTag():this.onopentagend()},c.prototype._closeCurrentTag=function(){var m=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===m&&(this._cbs.onclosetag&&this._cbs.onclosetag(m),this._stack.pop())},c.prototype.onattribname=function(m){this._lowerCaseAttributeNames&&(m=m.toLowerCase()),this._attribname=m},c.prototype.onattribdata=function(m){this._attribvalue+=m},c.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},c.prototype._getInstructionName=function(m){var p=m.search(u),h=p<0?m:m.substr(0,p);return this._lowerCaseTagNames&&(h=h.toLowerCase()),h},c.prototype.ondeclaration=function(m){if(this._cbs.onprocessinginstruction){var p=this._getInstructionName(m);this._cbs.onprocessinginstruction("!"+p,"!"+m)}},c.prototype.onprocessinginstruction=function(m){if(this._cbs.onprocessinginstruction){var p=this._getInstructionName(m);this._cbs.onprocessinginstruction("?"+p,"?"+m)}},c.prototype.oncomment=function(m){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(m),this._cbs.oncommentend&&this._cbs.oncommentend()},c.prototype.oncdata=function(m){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(m),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+m+"]]")},c.prototype.onerror=function(m){this._cbs.onerror&&this._cbs.onerror(m)},c.prototype.onend=function(){if(this._cbs.onclosetag)for(var m=this._stack.length;m>0;this._cbs.onclosetag(this._stack[--m]));this._cbs.onend&&this._cbs.onend()},c.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},c.prototype.parseComplete=function(m){this.reset(),this.end(m)},c.prototype.write=function(m){this._tokenizer.write(m)},c.prototype.end=function(m){this._tokenizer.end(m)},c.prototype.pause=function(){this._tokenizer.pause()},c.prototype.resume=function(){this._tokenizer.resume()},c.prototype.parseChunk=c.prototype.write,c.prototype.done=c.prototype.end,f.exports=c},function(f,r,t){f.exports=Tt;var n=t(455),a=t(297),l=t(456),e=t(298),o=0,s=o++,u=o++,c=o++,m=o++,p=o++,h=o++,v=o++,x=o++,y=o++,k=o++,T=o++,E=o++,_=o++,A=o++,C=o++,S=o++,P=o++,O=o++,R=o++,I=o++,M=o++,H=o++,L=o++,D=o++,j=o++,W=o++,B=o++,F=o++,N=o++,X=o++,G=o++,V=o++,z=o++,U=o++,Z=o++,st=o++,Y=o++,rt=o++,ft=o++,tt=o++,K=o++,Q=o++,ct=o++,nt=o++,ot=o++,yt=o++,pt=o++,dt=o++,mt=o++,q=o++,$=o++,J=o++,lt=o++,ut=o++,ht=o++,bt=0,kt=bt++,vt=bt++,Et=bt++;function Rt(_t){return _t===" "||_t===`
`||_t==="	"||_t==="\f"||_t==="\r"}function Vt(_t,zt,oe){var $t=_t.toLowerCase();return _t===$t?function(pe){pe===$t?this._state=zt:(this._state=oe,this._index--)}:function(pe){pe===$t||pe===_t?this._state=zt:(this._state=oe,this._index--)}}function ee(_t,zt){var oe=_t.toLowerCase();return function($t){$t===oe||$t===_t?this._state=zt:(this._state=c,this._index--)}}function Tt(_t,zt){this._state=s,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=s,this._special=kt,this._cbs=zt,this._running=!0,this._ended=!1,this._xmlMode=!!(_t&&_t.xmlMode),this._decodeEntities=!!(_t&&_t.decodeEntities)}Tt.prototype._stateText=function(_t){_t==="<"?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=u,this._sectionStart=this._index):this._decodeEntities&&this._special===kt&&_t==="&"&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=s,this._state=$,this._sectionStart=this._index)},Tt.prototype._stateBeforeTagName=function(_t){_t==="/"?this._state=p:_t==="<"?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):_t===">"||this._special!==kt||Rt(_t)?this._state=s:_t==="!"?(this._state=C,this._sectionStart=this._index+1):_t==="?"?(this._state=P,this._sectionStart=this._index+1):(this._state=!this._xmlMode&&(_t==="s"||_t==="S")?G:c,this._sectionStart=this._index)},Tt.prototype._stateInTagName=function(_t){(_t==="/"||_t===">"||Rt(_t))&&(this._emitToken("onopentagname"),this._state=x,this._index--)},Tt.prototype._stateBeforeCloseingTagName=function(_t){Rt(_t)||(_t===">"?this._state=s:this._special!==kt?_t==="s"||_t==="S"?this._state=V:(this._state=s,this._index--):(this._state=h,this._sectionStart=this._index))},Tt.prototype._stateInCloseingTagName=function(_t){(_t===">"||Rt(_t))&&(this._emitToken("onclosetag"),this._state=v,this._index--)},Tt.prototype._stateAfterCloseingTagName=function(_t){_t===">"&&(this._state=s,this._sectionStart=this._index+1)},Tt.prototype._stateBeforeAttributeName=function(_t){_t===">"?(this._cbs.onopentagend(),this._state=s,this._sectionStart=this._index+1):_t==="/"?this._state=m:Rt(_t)||(this._state=y,this._sectionStart=this._index)},Tt.prototype._stateInSelfClosingTag=function(_t){_t===">"?(this._cbs.onselfclosingtag(),this._state=s,this._sectionStart=this._index+1):Rt(_t)||(this._state=x,this._index--)},Tt.prototype._stateInAttributeName=function(_t){(_t==="="||_t==="/"||_t===">"||Rt(_t))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=k,this._index--)},Tt.prototype._stateAfterAttributeName=function(_t){_t==="="?this._state=T:_t==="/"||_t===">"?(this._cbs.onattribend(),this._state=x,this._index--):Rt(_t)||(this._cbs.onattribend(),this._state=y,this._sectionStart=this._index)},Tt.prototype._stateBeforeAttributeValue=function(_t){_t==='"'?(this._state=E,this._sectionStart=this._index+1):_t==="'"?(this._state=_,this._sectionStart=this._index+1):Rt(_t)||(this._state=A,this._sectionStart=this._index,this._index--)},Tt.prototype._stateInAttributeValueDoubleQuotes=function(_t){_t==='"'?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=x):this._decodeEntities&&_t==="&"&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=$,this._sectionStart=this._index)},Tt.prototype._stateInAttributeValueSingleQuotes=function(_t){_t==="'"?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=x):this._decodeEntities&&_t==="&"&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=$,this._sectionStart=this._index)},Tt.prototype._stateInAttributeValueNoQuotes=function(_t){Rt(_t)||_t===">"?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=x,this._index--):this._decodeEntities&&_t==="&"&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=$,this._sectionStart=this._index)},Tt.prototype._stateBeforeDeclaration=function(_t){this._state=_t==="["?H:_t==="-"?O:S},Tt.prototype._stateInDeclaration=function(_t){_t===">"&&(this._cbs.ondeclaration(this._getSection()),this._state=s,this._sectionStart=this._index+1)},Tt.prototype._stateInProcessingInstruction=function(_t){_t===">"&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=s,this._sectionStart=this._index+1)},Tt.prototype._stateBeforeComment=function(_t){_t==="-"?(this._state=R,this._sectionStart=this._index+1):this._state=S},Tt.prototype._stateInComment=function(_t){_t==="-"&&(this._state=I)},Tt.prototype._stateAfterComment1=function(_t){_t==="-"?this._state=M:this._state=R},Tt.prototype._stateAfterComment2=function(_t){_t===">"?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=s,this._sectionStart=this._index+1):_t!=="-"&&(this._state=R)},Tt.prototype._stateBeforeCdata1=Vt("C",L,S),Tt.prototype._stateBeforeCdata2=Vt("D",D,S),Tt.prototype._stateBeforeCdata3=Vt("A",j,S),Tt.prototype._stateBeforeCdata4=Vt("T",W,S),Tt.prototype._stateBeforeCdata5=Vt("A",B,S),Tt.prototype._stateBeforeCdata6=function(_t){_t==="["?(this._state=F,this._sectionStart=this._index+1):(this._state=S,this._index--)},Tt.prototype._stateInCdata=function(_t){_t==="]"&&(this._state=N)},Tt.prototype._stateAfterCdata1=function(_t){_t==="]"?this._state=X:this._state=F},Tt.prototype._stateAfterCdata2=function(_t){_t===">"?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=s,this._sectionStart=this._index+1):_t!=="]"&&(this._state=F)},Tt.prototype._stateBeforeSpecial=function(_t){_t==="c"||_t==="C"?this._state=z:_t==="t"||_t==="T"?this._state=ct:(this._state=c,this._index--)},Tt.prototype._stateBeforeSpecialEnd=function(_t){this._special===vt&&(_t==="c"||_t==="C")?this._state=rt:this._special===Et&&(_t==="t"||_t==="T")?this._state=pt:this._state=s},Tt.prototype._stateBeforeScript1=ee("R",U),Tt.prototype._stateBeforeScript2=ee("I",Z),Tt.prototype._stateBeforeScript3=ee("P",st),Tt.prototype._stateBeforeScript4=ee("T",Y),Tt.prototype._stateBeforeScript5=function(_t){(_t==="/"||_t===">"||Rt(_t))&&(this._special=vt),this._state=c,this._index--},Tt.prototype._stateAfterScript1=Vt("R",ft,s),Tt.prototype._stateAfterScript2=Vt("I",tt,s),Tt.prototype._stateAfterScript3=Vt("P",K,s),Tt.prototype._stateAfterScript4=Vt("T",Q,s),Tt.prototype._stateAfterScript5=function(_t){_t===">"||Rt(_t)?(this._special=kt,this._state=h,this._sectionStart=this._index-6,this._index--):this._state=s},Tt.prototype._stateBeforeStyle1=ee("Y",nt),Tt.prototype._stateBeforeStyle2=ee("L",ot),Tt.prototype._stateBeforeStyle3=ee("E",yt),Tt.prototype._stateBeforeStyle4=function(_t){(_t==="/"||_t===">"||Rt(_t))&&(this._special=Et),this._state=c,this._index--},Tt.prototype._stateAfterStyle1=Vt("Y",dt,s),Tt.prototype._stateAfterStyle2=Vt("L",mt,s),Tt.prototype._stateAfterStyle3=Vt("E",q,s),Tt.prototype._stateAfterStyle4=function(_t){_t===">"||Rt(_t)?(this._special=kt,this._state=h,this._sectionStart=this._index-5,this._index--):this._state=s},Tt.prototype._stateBeforeEntity=Vt("#",J,lt),Tt.prototype._stateBeforeNumericEntity=Vt("X",ht,ut),Tt.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var _t=this._buffer.substring(this._sectionStart+1,this._index),zt=this._xmlMode?e:a;zt.hasOwnProperty(_t)&&(this._emitPartial(zt[_t]),this._sectionStart=this._index+1)}},Tt.prototype._parseLegacyEntity=function(){var _t=this._sectionStart+1,zt=this._index-_t;for(zt>6&&(zt=6);zt>=2;){var oe=this._buffer.substr(_t,zt);if(l.hasOwnProperty(oe)){this._emitPartial(l[oe]),this._sectionStart+=zt+1;return}else zt--}},Tt.prototype._stateInNamedEntity=function(_t){_t===";"?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(_t<"a"||_t>"z")&&(_t<"A"||_t>"Z")&&(_t<"0"||_t>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==s?_t!=="="&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},Tt.prototype._decodeNumericEntity=function(_t,zt){var oe=this._sectionStart+_t;if(oe!==this._index){var $t=this._buffer.substring(oe,this._index),pe=parseInt($t,zt);this._emitPartial(n(pe)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},Tt.prototype._stateInNumericEntity=function(_t){_t===";"?(this._decodeNumericEntity(2,10),this._sectionStart++):(_t<"0"||_t>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},Tt.prototype._stateInHexEntity=function(_t){_t===";"?(this._decodeNumericEntity(3,16),this._sectionStart++):(_t<"a"||_t>"f")&&(_t<"A"||_t>"F")&&(_t<"0"||_t>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},Tt.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===s?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},Tt.prototype.write=function(_t){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=_t,this._parse()},Tt.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var _t=this._buffer.charAt(this._index);this._state===s?this._stateText(_t):this._state===u?this._stateBeforeTagName(_t):this._state===c?this._stateInTagName(_t):this._state===p?this._stateBeforeCloseingTagName(_t):this._state===h?this._stateInCloseingTagName(_t):this._state===v?this._stateAfterCloseingTagName(_t):this._state===m?this._stateInSelfClosingTag(_t):this._state===x?this._stateBeforeAttributeName(_t):this._state===y?this._stateInAttributeName(_t):this._state===k?this._stateAfterAttributeName(_t):this._state===T?this._stateBeforeAttributeValue(_t):this._state===E?this._stateInAttributeValueDoubleQuotes(_t):this._state===_?this._stateInAttributeValueSingleQuotes(_t):this._state===A?this._stateInAttributeValueNoQuotes(_t):this._state===C?this._stateBeforeDeclaration(_t):this._state===S?this._stateInDeclaration(_t):this._state===P?this._stateInProcessingInstruction(_t):this._state===O?this._stateBeforeComment(_t):this._state===R?this._stateInComment(_t):this._state===I?this._stateAfterComment1(_t):this._state===M?this._stateAfterComment2(_t):this._state===H?this._stateBeforeCdata1(_t):this._state===L?this._stateBeforeCdata2(_t):this._state===D?this._stateBeforeCdata3(_t):this._state===j?this._stateBeforeCdata4(_t):this._state===W?this._stateBeforeCdata5(_t):this._state===B?this._stateBeforeCdata6(_t):this._state===F?this._stateInCdata(_t):this._state===N?this._stateAfterCdata1(_t):this._state===X?this._stateAfterCdata2(_t):this._state===G?this._stateBeforeSpecial(_t):this._state===V?this._stateBeforeSpecialEnd(_t):this._state===z?this._stateBeforeScript1(_t):this._state===U?this._stateBeforeScript2(_t):this._state===Z?this._stateBeforeScript3(_t):this._state===st?this._stateBeforeScript4(_t):this._state===Y?this._stateBeforeScript5(_t):this._state===rt?this._stateAfterScript1(_t):this._state===ft?this._stateAfterScript2(_t):this._state===tt?this._stateAfterScript3(_t):this._state===K?this._stateAfterScript4(_t):this._state===Q?this._stateAfterScript5(_t):this._state===ct?this._stateBeforeStyle1(_t):this._state===nt?this._stateBeforeStyle2(_t):this._state===ot?this._stateBeforeStyle3(_t):this._state===yt?this._stateBeforeStyle4(_t):this._state===pt?this._stateAfterStyle1(_t):this._state===dt?this._stateAfterStyle2(_t):this._state===mt?this._stateAfterStyle3(_t):this._state===q?this._stateAfterStyle4(_t):this._state===$?this._stateBeforeEntity(_t):this._state===J?this._stateBeforeNumericEntity(_t):this._state===lt?this._stateInNamedEntity(_t):this._state===ut?this._stateInNumericEntity(_t):this._state===ht?this._stateInHexEntity(_t):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},Tt.prototype.pause=function(){this._running=!1},Tt.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},Tt.prototype.end=function(_t){this._ended&&this._cbs.onerror(Error(".end() after done!")),_t&&this.write(_t),this._ended=!0,this._running&&this._finish()},Tt.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},Tt.prototype._handleTrailingData=function(){var _t=this._buffer.substr(this._sectionStart);this._state===F||this._state===N||this._state===X?this._cbs.oncdata(_t):this._state===R||this._state===I||this._state===M?this._cbs.oncomment(_t):this._state===lt&&!this._xmlMode?(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):this._state===ut&&!this._xmlMode?(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):this._state===ht&&!this._xmlMode?(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):this._state!==c&&this._state!==x&&this._state!==T&&this._state!==k&&this._state!==y&&this._state!==_&&this._state!==E&&this._state!==A&&this._state!==h&&this._cbs.ontext(_t)},Tt.prototype.reset=function(){Tt.call(this,{xmlMode:this._xmlMode,decodeEntities:this._decodeEntities},this._cbs)},Tt.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},Tt.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},Tt.prototype._emitToken=function(_t){this._cbs[_t](this._getSection()),this._sectionStart=-1},Tt.prototype._emitPartial=function(_t){this._baseState!==s?this._cbs.onattribdata(_t):this._cbs.ontext(_t)}},function(f,r,t){var n=t(949);f.exports=a;function a(l){if(l>=55296&&l<=57343||l>1114111)return"�";l in n&&(l=n[l]);var e="";return l>65535&&(l-=65536,e+=String.fromCharCode(l>>>10&1023|55296),l=56320|l&1023),e+=String.fromCharCode(l),e}},function(f){f.exports={Aacute:"Á",aacute:"á",Acirc:"Â",acirc:"â",acute:"´",AElig:"Æ",aelig:"æ",Agrave:"À",agrave:"à",amp:"&",AMP:"&",Aring:"Å",aring:"å",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",brvbar:"¦",Ccedil:"Ç",ccedil:"ç",cedil:"¸",cent:"¢",copy:"©",COPY:"©",curren:"¤",deg:"°",divide:"÷",Eacute:"É",eacute:"é",Ecirc:"Ê",ecirc:"ê",Egrave:"È",egrave:"è",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",GT:">",Iacute:"Í",iacute:"í",Icirc:"Î",icirc:"î",iexcl:"¡",Igrave:"Ì",igrave:"ì",iquest:"¿",Iuml:"Ï",iuml:"ï",laquo:"«",lt:"<",LT:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",Ntilde:"Ñ",ntilde:"ñ",Oacute:"Ó",oacute:"ó",Ocirc:"Ô",ocirc:"ô",Ograve:"Ò",ograve:"ò",ordf:"ª",ordm:"º",Oslash:"Ø",oslash:"ø",Otilde:"Õ",otilde:"õ",Ouml:"Ö",ouml:"ö",para:"¶",plusmn:"±",pound:"£",quot:'"',QUOT:'"',raquo:"»",reg:"®",REG:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",THORN:"Þ",thorn:"þ",times:"×",Uacute:"Ú",uacute:"ú",Ucirc:"Û",ucirc:"û",Ugrave:"Ù",ugrave:"ù",uml:"¨",Uuml:"Ü",uuml:"ü",Yacute:"Ý",yacute:"ý",yen:"¥",yuml:"ÿ"}},function(f,r,t){var n=t(123),a=/\s+/g,l=t(458),e=t(950);function o(u,c,m){typeof u=="object"?(m=c,c=u,u=null):typeof c=="function"&&(m=c,c=s),this._callback=u,this._options=c||s,this._elementCB=m,this.dom=[],this._done=!1,this._tagStack=[],this._parser=this._parser||null}var s={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1};o.prototype.onparserinit=function(u){this._parser=u},o.prototype.onreset=function(){o.call(this,this._callback,this._options,this._elementCB)},o.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this._handleCallback(null))},o.prototype._handleCallback=o.prototype.onerror=function(u){if(typeof this._callback=="function")this._callback(u,this.dom);else if(u)throw u},o.prototype.onclosetag=function(){var u=this._tagStack.pop();this._options.withEndIndices&&u&&(u.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(u)},o.prototype._createDomElement=function(u){if(!this._options.withDomLvl1)return u;var c;u.type==="tag"?c=Object.create(e):c=Object.create(l);for(var m in u)u.hasOwnProperty(m)&&(c[m]=u[m]);return c},o.prototype._addDomElement=function(u){var c=this._tagStack[this._tagStack.length-1],m=c?c.children:this.dom,p=m[m.length-1];u.next=null,this._options.withStartIndices&&(u.startIndex=this._parser.startIndex),this._options.withEndIndices&&(u.endIndex=this._parser.endIndex),p?(u.prev=p,p.next=u):u.prev=null,m.push(u),u.parent=c||null},o.prototype.onopentag=function(u,c){var m={type:u==="script"?n.Script:u==="style"?n.Style:n.Tag,name:u,attribs:c,children:[]},p=this._createDomElement(m);this._addDomElement(p),this._tagStack.push(p)},o.prototype.ontext=function(u){var c=this._options.normalizeWhitespace||this._options.ignoreWhitespace,m;if(!this._tagStack.length&&this.dom.length&&(m=this.dom[this.dom.length-1]).type===n.Text)c?m.data=(m.data+u).replace(a," "):m.data+=u;else if(this._tagStack.length&&(m=this._tagStack[this._tagStack.length-1])&&(m=m.children[m.children.length-1])&&m.type===n.Text)c?m.data=(m.data+u).replace(a," "):m.data+=u;else{c&&(u=u.replace(a," "));var p=this._createDomElement({data:u,type:n.Text});this._addDomElement(p)}},o.prototype.oncomment=function(u){var c=this._tagStack[this._tagStack.length-1];if(c&&c.type===n.Comment){c.data+=u;return}var m={data:u,type:n.Comment},p=this._createDomElement(m);this._addDomElement(p),this._tagStack.push(p)},o.prototype.oncdatastart=function(){var u={children:[{data:"",type:n.Text}],type:n.CDATA},c=this._createDomElement(u);this._addDomElement(c),this._tagStack.push(c)},o.prototype.oncommentend=o.prototype.oncdataend=function(){this._tagStack.pop()},o.prototype.onprocessinginstruction=function(u,c){var m=this._createDomElement({name:u,data:c,type:n.Directive});this._addDomElement(m)},f.exports=o},function(f,r){f.exports={get firstChild(){var a=this.children;return a&&a[0]||null},get lastChild(){var a=this.children;return a&&a[a.length-1]||null},get nodeType(){return n[this.type]||n.element}};var t={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},n={element:1,text:3,cdata:4,comment:8};Object.keys(t).forEach(function(a){})},function(f,r,t){f.exports=o;var n=t(453),a=t(962).Writable,l=t(300).StringDecoder,e=t(113).Buffer;function o(s,u){var c=this._parser=new n(s,u),m=this._decoder=new l;a.call(this,{decodeStrings:!1}),this.once("finish",function(){c.end(m.end())})}t(58)(o,a),o.prototype._write=function(s,u,c){s instanceof e&&(s=this._decoder.write(s)),this._parser.write(s),c()}},function(f,r,t){var n=t(124),a=t(968),l=t(969),e=t(970),o=t(301),s=t(302),u=t(303),c=t(463),m=t(149),p=t(64),h=p.TAG_NAMES,v=p.NAMESPACES,x=p.ATTRS,y={locationInfo:!1,treeAdapter:o},k="hidden",T=8,E=3,_="INITIAL_MODE",A="BEFORE_HTML_MODE",C="BEFORE_HEAD_MODE",S="IN_HEAD_MODE",P="AFTER_HEAD_MODE",O="IN_BODY_MODE",R="TEXT_MODE",I="IN_TABLE_MODE",M="IN_TABLE_TEXT_MODE",H="IN_CAPTION_MODE",L="IN_COLUMN_GROUP_MODE",D="IN_TABLE_BODY_MODE",j="IN_ROW_MODE",W="IN_CELL_MODE",B="IN_SELECT_MODE",F="IN_SELECT_IN_TABLE_MODE",N="IN_TEMPLATE_MODE",X="AFTER_BODY_MODE",G="IN_FRAMESET_MODE",V="AFTER_FRAMESET_MODE",z="AFTER_AFTER_BODY_MODE",U="AFTER_AFTER_FRAMESET_MODE",Z=Object.create(null);Z[h.TR]=j,Z[h.TBODY]=Z[h.THEAD]=Z[h.TFOOT]=D,Z[h.CAPTION]=H,Z[h.COLGROUP]=L,Z[h.TABLE]=I,Z[h.BODY]=O,Z[h.FRAMESET]=G;var st=Object.create(null);st[h.CAPTION]=st[h.COLGROUP]=st[h.TBODY]=st[h.TFOOT]=st[h.THEAD]=I,st[h.COL]=L,st[h.TR]=D,st[h.TD]=st[h.TH]=j;var Y=Object.create(null);Y[_]=Object.create(null),Y[_][n.CHARACTER_TOKEN]=Y[_][n.NULL_CHARACTER_TOKEN]=lt,Y[_][n.WHITESPACE_CHARACTER_TOKEN]=yt,Y[_][n.COMMENT_TOKEN]=pt,Y[_][n.DOCTYPE_TOKEN]=J,Y[_][n.START_TAG_TOKEN]=Y[_][n.END_TAG_TOKEN]=Y[_][n.EOF_TOKEN]=lt,Y[A]=Object.create(null),Y[A][n.CHARACTER_TOKEN]=Y[A][n.NULL_CHARACTER_TOKEN]=bt,Y[A][n.WHITESPACE_CHARACTER_TOKEN]=yt,Y[A][n.COMMENT_TOKEN]=pt,Y[A][n.DOCTYPE_TOKEN]=yt,Y[A][n.START_TAG_TOKEN]=ut,Y[A][n.END_TAG_TOKEN]=ht,Y[A][n.EOF_TOKEN]=bt,Y[C]=Object.create(null),Y[C][n.CHARACTER_TOKEN]=Y[C][n.NULL_CHARACTER_TOKEN]=Et,Y[C][n.WHITESPACE_CHARACTER_TOKEN]=yt,Y[C][n.COMMENT_TOKEN]=pt,Y[C][n.DOCTYPE_TOKEN]=yt,Y[C][n.START_TAG_TOKEN]=kt,Y[C][n.END_TAG_TOKEN]=vt,Y[C][n.EOF_TOKEN]=Et,Y[S]=Object.create(null),Y[S][n.CHARACTER_TOKEN]=Y[S][n.NULL_CHARACTER_TOKEN]=ee,Y[S][n.WHITESPACE_CHARACTER_TOKEN]=q,Y[S][n.COMMENT_TOKEN]=pt,Y[S][n.DOCTYPE_TOKEN]=yt,Y[S][n.START_TAG_TOKEN]=Rt,Y[S][n.END_TAG_TOKEN]=Vt,Y[S][n.EOF_TOKEN]=ee,Y[P]=Object.create(null),Y[P][n.CHARACTER_TOKEN]=Y[P][n.NULL_CHARACTER_TOKEN]=zt,Y[P][n.WHITESPACE_CHARACTER_TOKEN]=q,Y[P][n.COMMENT_TOKEN]=pt,Y[P][n.DOCTYPE_TOKEN]=yt,Y[P][n.START_TAG_TOKEN]=Tt,Y[P][n.END_TAG_TOKEN]=_t,Y[P][n.EOF_TOKEN]=zt,Y[O]=Object.create(null),Y[O][n.CHARACTER_TOKEN]=$t,Y[O][n.NULL_CHARACTER_TOKEN]=yt,Y[O][n.WHITESPACE_CHARACTER_TOKEN]=oe,Y[O][n.COMMENT_TOKEN]=pt,Y[O][n.DOCTYPE_TOKEN]=yt,Y[O][n.START_TAG_TOKEN]=Wt,Y[O][n.END_TAG_TOKEN]=ge,Y[O][n.EOF_TOKEN]=ke,Y[R]=Object.create(null),Y[R][n.CHARACTER_TOKEN]=Y[R][n.NULL_CHARACTER_TOKEN]=Y[R][n.WHITESPACE_CHARACTER_TOKEN]=q,Y[R][n.COMMENT_TOKEN]=Y[R][n.DOCTYPE_TOKEN]=Y[R][n.START_TAG_TOKEN]=yt,Y[R][n.END_TAG_TOKEN]=Ke,Y[R][n.EOF_TOKEN]=$e,Y[I]=Object.create(null),Y[I][n.CHARACTER_TOKEN]=Y[I][n.NULL_CHARACTER_TOKEN]=Y[I][n.WHITESPACE_CHARACTER_TOKEN]=jn,Y[I][n.COMMENT_TOKEN]=pt,Y[I][n.DOCTYPE_TOKEN]=yt,Y[I][n.START_TAG_TOKEN]=qe,Y[I][n.END_TAG_TOKEN]=ae,Y[I][n.EOF_TOKEN]=ke,Y[M]=Object.create(null),Y[M][n.CHARACTER_TOKEN]=sn,Y[M][n.NULL_CHARACTER_TOKEN]=yt,Y[M][n.WHITESPACE_CHARACTER_TOKEN]=tn,Y[M][n.COMMENT_TOKEN]=Y[M][n.DOCTYPE_TOKEN]=Y[M][n.START_TAG_TOKEN]=Y[M][n.END_TAG_TOKEN]=Y[M][n.EOF_TOKEN]=on,Y[H]=Object.create(null),Y[H][n.CHARACTER_TOKEN]=$t,Y[H][n.NULL_CHARACTER_TOKEN]=yt,Y[H][n.WHITESPACE_CHARACTER_TOKEN]=oe,Y[H][n.COMMENT_TOKEN]=pt,Y[H][n.DOCTYPE_TOKEN]=yt,Y[H][n.START_TAG_TOKEN]=He,Y[H][n.END_TAG_TOKEN]=Ve,Y[H][n.EOF_TOKEN]=ke,Y[L]=Object.create(null),Y[L][n.CHARACTER_TOKEN]=Y[L][n.NULL_CHARACTER_TOKEN]=_n,Y[L][n.WHITESPACE_CHARACTER_TOKEN]=q,Y[L][n.COMMENT_TOKEN]=pt,Y[L][n.DOCTYPE_TOKEN]=yt,Y[L][n.START_TAG_TOKEN]=yn,Y[L][n.END_TAG_TOKEN]=dn,Y[L][n.EOF_TOKEN]=ke,Y[D]=Object.create(null),Y[D][n.CHARACTER_TOKEN]=Y[D][n.NULL_CHARACTER_TOKEN]=Y[D][n.WHITESPACE_CHARACTER_TOKEN]=jn,Y[D][n.COMMENT_TOKEN]=pt,Y[D][n.DOCTYPE_TOKEN]=yt,Y[D][n.START_TAG_TOKEN]=gn,Y[D][n.END_TAG_TOKEN]=Hn,Y[D][n.EOF_TOKEN]=ke,Y[j]=Object.create(null),Y[j][n.CHARACTER_TOKEN]=Y[j][n.NULL_CHARACTER_TOKEN]=Y[j][n.WHITESPACE_CHARACTER_TOKEN]=jn,Y[j][n.COMMENT_TOKEN]=pt,Y[j][n.DOCTYPE_TOKEN]=yt,Y[j][n.START_TAG_TOKEN]=Bn,Y[j][n.END_TAG_TOKEN]=Vn,Y[j][n.EOF_TOKEN]=ke,Y[W]=Object.create(null),Y[W][n.CHARACTER_TOKEN]=$t,Y[W][n.NULL_CHARACTER_TOKEN]=yt,Y[W][n.WHITESPACE_CHARACTER_TOKEN]=oe,Y[W][n.COMMENT_TOKEN]=pt,Y[W][n.DOCTYPE_TOKEN]=yt,Y[W][n.START_TAG_TOKEN]=tr,Y[W][n.END_TAG_TOKEN]=Qn,Y[W][n.EOF_TOKEN]=ke,Y[B]=Object.create(null),Y[B][n.CHARACTER_TOKEN]=q,Y[B][n.NULL_CHARACTER_TOKEN]=yt,Y[B][n.WHITESPACE_CHARACTER_TOKEN]=q,Y[B][n.COMMENT_TOKEN]=pt,Y[B][n.DOCTYPE_TOKEN]=yt,Y[B][n.START_TAG_TOKEN]=er,Y[B][n.END_TAG_TOKEN]=cr,Y[B][n.EOF_TOKEN]=ke,Y[F]=Object.create(null),Y[F][n.CHARACTER_TOKEN]=q,Y[F][n.NULL_CHARACTER_TOKEN]=yt,Y[F][n.WHITESPACE_CHARACTER_TOKEN]=q,Y[F][n.COMMENT_TOKEN]=pt,Y[F][n.DOCTYPE_TOKEN]=yt,Y[F][n.START_TAG_TOKEN]=Kn,Y[F][n.END_TAG_TOKEN]=br,Y[F][n.EOF_TOKEN]=ke,Y[N]=Object.create(null),Y[N][n.CHARACTER_TOKEN]=$t,Y[N][n.NULL_CHARACTER_TOKEN]=yt,Y[N][n.WHITESPACE_CHARACTER_TOKEN]=oe,Y[N][n.COMMENT_TOKEN]=pt,Y[N][n.DOCTYPE_TOKEN]=yt,Y[N][n.START_TAG_TOKEN]=mr,Y[N][n.END_TAG_TOKEN]=dr,Y[N][n.EOF_TOKEN]=an,Y[X]=Object.create(null),Y[X][n.CHARACTER_TOKEN]=Y[X][n.NULL_CHARACTER_TOKEN]=Cr,Y[X][n.WHITESPACE_CHARACTER_TOKEN]=oe,Y[X][n.COMMENT_TOKEN]=dt,Y[X][n.DOCTYPE_TOKEN]=yt,Y[X][n.START_TAG_TOKEN]=Zn,Y[X][n.END_TAG_TOKEN]=Jr,Y[X][n.EOF_TOKEN]=$,Y[G]=Object.create(null),Y[G][n.CHARACTER_TOKEN]=Y[G][n.NULL_CHARACTER_TOKEN]=yt,Y[G][n.WHITESPACE_CHARACTER_TOKEN]=q,Y[G][n.COMMENT_TOKEN]=pt,Y[G][n.DOCTYPE_TOKEN]=yt,Y[G][n.START_TAG_TOKEN]=di,Y[G][n.END_TAG_TOKEN]=de,Y[G][n.EOF_TOKEN]=$,Y[V]=Object.create(null),Y[V][n.CHARACTER_TOKEN]=Y[V][n.NULL_CHARACTER_TOKEN]=yt,Y[V][n.WHITESPACE_CHARACTER_TOKEN]=q,Y[V][n.COMMENT_TOKEN]=pt,Y[V][n.DOCTYPE_TOKEN]=yt,Y[V][n.START_TAG_TOKEN]=Te,Y[V][n.END_TAG_TOKEN]=We,Y[V][n.EOF_TOKEN]=$,Y[z]=Object.create(null),Y[z][n.CHARACTER_TOKEN]=zn,Y[z][n.NULL_CHARACTER_TOKEN]=zn,Y[z][n.WHITESPACE_CHARACTER_TOKEN]=oe,Y[z][n.COMMENT_TOKEN]=mt,Y[z][n.DOCTYPE_TOKEN]=yt,Y[z][n.START_TAG_TOKEN]=fn,Y[z][n.END_TAG_TOKEN]=zn,Y[z][n.EOF_TOKEN]=$,Y[U]=Object.create(null),Y[U][n.CHARACTER_TOKEN]=Y[U][n.NULL_CHARACTER_TOKEN]=yt,Y[U][n.WHITESPACE_CHARACTER_TOKEN]=oe,Y[U][n.COMMENT_TOKEN]=mt,Y[U][n.DOCTYPE_TOKEN]=yt,Y[U][n.START_TAG_TOKEN]=On,Y[U][n.END_TAG_TOKEN]=yt,Y[U][n.EOF_TOKEN]=$;var rt=f.exports=function(et){this.options=s(y,et),this.treeAdapter=this.options.treeAdapter,this.pendingScript=null,this.options.locationInfo&&new e(this)};rt.prototype.parse=function(et){var Pt=this.treeAdapter.createDocument();return this._bootstrap(Pt,null),this.tokenizer.write(et,!0),this._runParsingLoop(null),Pt},rt.prototype.parseFragment=function(et,Pt){Pt||(Pt=this.treeAdapter.createElement(h.TEMPLATE,v.HTML,[]));var Ot=this.treeAdapter.createElement("documentmock",v.HTML,[]);this._bootstrap(Ot,Pt),this.treeAdapter.getTagName(Pt)===h.TEMPLATE&&this._pushTmplInsertionMode(N),this._initTokenizerForFragmentParsing(),this._insertFakeRootElement(),this._resetInsertionMode(),this._findFormInFragmentContext(),this.tokenizer.write(et,!0),this._runParsingLoop(null);var nn=this.treeAdapter.getFirstChild(Ot),kn=this.treeAdapter.createDocumentFragment();return this._adoptNodes(nn,kn),kn},rt.prototype._bootstrap=function(et,Pt){this.tokenizer=new n(this.options),this.stopped=!1,this.insertionMode=_,this.originalInsertionMode="",this.document=et,this.fragmentContext=Pt,this.headElement=null,this.formElement=null,this.openElements=new a(this.document,this.treeAdapter),this.activeFormattingElements=new l(this.treeAdapter),this.tmplInsertionModeStack=[],this.tmplInsertionModeStackTop=-1,this.currentTmplInsertionMode=null,this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1},rt.prototype._runParsingLoop=function(et){for(;!this.stopped;){this._setupTokenizerCDATAMode();var Pt=this.tokenizer.getNextToken();if(Pt.type===n.HIBERNATION_TOKEN)break;if(this.skipNextNewLine&&(this.skipNextNewLine=!1,Pt.type===n.WHITESPACE_CHARACTER_TOKEN&&Pt.chars[0]===`
`)){if(Pt.chars.length===1)continue;Pt.chars=Pt.chars.substr(1)}if(this._processInputToken(Pt),et&&this.pendingScript)break}},rt.prototype.runParsingLoopForCurrentChunk=function(et,Pt){if(this._runParsingLoop(Pt),Pt&&this.pendingScript){var Ot=this.pendingScript;this.pendingScript=null,Pt(Ot);return}et&&et()},rt.prototype._setupTokenizerCDATAMode=function(){var et=this._getAdjustedCurrentElement();this.tokenizer.allowCDATA=et&&et!==this.document&&this.treeAdapter.getNamespaceURI(et)!==v.HTML&&!this._isIntegrationPoint(et)},rt.prototype._switchToTextParsing=function(et,Pt){this._insertElement(et,v.HTML),this.tokenizer.state=Pt,this.originalInsertionMode=this.insertionMode,this.insertionMode=R},rt.prototype.switchToPlaintextParsing=function(){this.insertionMode=R,this.originalInsertionMode=O,this.tokenizer.state=n.MODE.PLAINTEXT},rt.prototype._getAdjustedCurrentElement=function(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current},rt.prototype._findFormInFragmentContext=function(){var et=this.fragmentContext;do{if(this.treeAdapter.getTagName(et)===h.FORM){this.formElement=et;break}et=this.treeAdapter.getParentNode(et)}while(et)},rt.prototype._initTokenizerForFragmentParsing=function(){if(this.treeAdapter.getNamespaceURI(this.fragmentContext)===v.HTML){var et=this.treeAdapter.getTagName(this.fragmentContext);et===h.TITLE||et===h.TEXTAREA?this.tokenizer.state=n.MODE.RCDATA:et===h.STYLE||et===h.XMP||et===h.IFRAME||et===h.NOEMBED||et===h.NOFRAMES||et===h.NOSCRIPT?this.tokenizer.state=n.MODE.RAWTEXT:et===h.SCRIPT?this.tokenizer.state=n.MODE.SCRIPT_DATA:et===h.PLAINTEXT&&(this.tokenizer.state=n.MODE.PLAINTEXT)}},rt.prototype._setDocumentType=function(et){this.treeAdapter.setDocumentType(this.document,et.name,et.publicId,et.systemId)},rt.prototype._attachElementToTree=function(et){if(this._shouldFosterParentOnInsertion())this._fosterParentElement(et);else{var Pt=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.appendChild(Pt,et)}},rt.prototype._appendElement=function(et,Pt){var Ot=this.treeAdapter.createElement(et.tagName,Pt,et.attrs);this._attachElementToTree(Ot)},rt.prototype._insertElement=function(et,Pt){var Ot=this.treeAdapter.createElement(et.tagName,Pt,et.attrs);this._attachElementToTree(Ot),this.openElements.push(Ot)},rt.prototype._insertFakeElement=function(et){var Pt=this.treeAdapter.createElement(et,v.HTML,[]);this._attachElementToTree(Pt),this.openElements.push(Pt)},rt.prototype._insertTemplate=function(et){var Pt=this.treeAdapter.createElement(et.tagName,v.HTML,et.attrs),Ot=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(Pt,Ot),this._attachElementToTree(Pt),this.openElements.push(Pt)},rt.prototype._insertFakeRootElement=function(){var et=this.treeAdapter.createElement(h.HTML,v.HTML,[]);this.treeAdapter.appendChild(this.openElements.current,et),this.openElements.push(et)},rt.prototype._appendCommentNode=function(et,Pt){var Ot=this.treeAdapter.createCommentNode(et.data);this.treeAdapter.appendChild(Pt,Ot)},rt.prototype._insertCharacters=function(et){if(this._shouldFosterParentOnInsertion())this._fosterParentText(et.chars);else{var Pt=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.insertText(Pt,et.chars)}},rt.prototype._adoptNodes=function(et,Pt){for(;;){var Ot=this.treeAdapter.getFirstChild(et);if(!Ot)break;this.treeAdapter.detachNode(Ot),this.treeAdapter.appendChild(Pt,Ot)}},rt.prototype._shouldProcessTokenInForeignContent=function(et){var Pt=this._getAdjustedCurrentElement();if(!Pt||Pt===this.document)return!1;var Ot=this.treeAdapter.getNamespaceURI(Pt);if(Ot===v.HTML||this.treeAdapter.getTagName(Pt)===h.ANNOTATION_XML&&Ot===v.MATHML&&et.type===n.START_TAG_TOKEN&&et.tagName===h.SVG)return!1;var nn=et.type===n.CHARACTER_TOKEN||et.type===n.NULL_CHARACTER_TOKEN||et.type===n.WHITESPACE_CHARACTER_TOKEN,kn=et.type===n.START_TAG_TOKEN&&et.tagName!==h.MGLYPH&&et.tagName!==h.MALIGNMARK;return(kn||nn)&&this._isIntegrationPoint(Pt,v.MATHML)||(et.type===n.START_TAG_TOKEN||nn)&&this._isIntegrationPoint(Pt,v.HTML)?!1:et.type!==n.EOF_TOKEN},rt.prototype._processToken=function(et){Y[this.insertionMode][et.type](this,et)},rt.prototype._processTokenInBodyMode=function(et){Y[O][et.type](this,et)},rt.prototype._processTokenInForeignContent=function(et){et.type===n.CHARACTER_TOKEN?ar(this,et):et.type===n.NULL_CHARACTER_TOKEN?qn(this,et):et.type===n.WHITESPACE_CHARACTER_TOKEN?q(this,et):et.type===n.COMMENT_TOKEN?pt(this,et):et.type===n.START_TAG_TOKEN?gr(this,et):et.type===n.END_TAG_TOKEN&&nr(this,et)},rt.prototype._processInputToken=function(et){this._shouldProcessTokenInForeignContent(et)?this._processTokenInForeignContent(et):this._processToken(et)},rt.prototype._isIntegrationPoint=function(et,Pt){var Ot=this.treeAdapter.getTagName(et),nn=this.treeAdapter.getNamespaceURI(et),kn=this.treeAdapter.getAttrList(et);return c.isIntegrationPoint(Ot,nn,kn,Pt)},rt.prototype._reconstructActiveFormattingElements=function(){var et=this.activeFormattingElements.length;if(et){var Pt=et,Ot=null;do if(Pt--,Ot=this.activeFormattingElements.entries[Pt],Ot.type===l.MARKER_ENTRY||this.openElements.contains(Ot.element)){Pt++;break}while(Pt>0);for(var nn=Pt;nn<et;nn++)Ot=this.activeFormattingElements.entries[nn],this._insertElement(Ot.token,this.treeAdapter.getNamespaceURI(Ot.element)),Ot.element=this.openElements.current}},rt.prototype._closeTableCell=function(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=j},rt.prototype._closePElement=function(){this.openElements.generateImpliedEndTagsWithExclusion(h.P),this.openElements.popUntilTagNamePopped(h.P)},rt.prototype._resetInsertionMode=function(){for(var et=this.openElements.stackTop,Pt=!1;et>=0;et--){var Ot=this.openElements.items[et];et===0&&(Pt=!0,this.fragmentContext&&(Ot=this.fragmentContext));var nn=this.treeAdapter.getTagName(Ot),kn=Z[nn];if(kn){this.insertionMode=kn;break}else if(!Pt&&(nn===h.TD||nn===h.TH)){this.insertionMode=W;break}else if(!Pt&&nn===h.HEAD){this.insertionMode=S;break}else if(nn===h.SELECT){this._resetInsertionModeForSelect(et);break}else if(nn===h.TEMPLATE){this.insertionMode=this.currentTmplInsertionMode;break}else if(nn===h.HTML){this.insertionMode=this.headElement?P:C;break}else if(Pt){this.insertionMode=O;break}}},rt.prototype._resetInsertionModeForSelect=function(et){if(et>0)for(var Pt=et-1;Pt>0;Pt--){var Ot=this.openElements.items[Pt],nn=this.treeAdapter.getTagName(Ot);if(nn===h.TEMPLATE)break;if(nn===h.TABLE){this.insertionMode=F;return}}this.insertionMode=B},rt.prototype._pushTmplInsertionMode=function(et){this.tmplInsertionModeStack.push(et),this.tmplInsertionModeStackTop++,this.currentTmplInsertionMode=et},rt.prototype._popTmplInsertionMode=function(){this.tmplInsertionModeStack.pop(),this.tmplInsertionModeStackTop--,this.currentTmplInsertionMode=this.tmplInsertionModeStack[this.tmplInsertionModeStackTop]},rt.prototype._isElementCausesFosterParenting=function(et){var Pt=this.treeAdapter.getTagName(et);return Pt===h.TABLE||Pt===h.TBODY||Pt===h.TFOOT||Pt===h.THEAD||Pt===h.TR},rt.prototype._shouldFosterParentOnInsertion=function(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.current)},rt.prototype._findFosterParentingLocation=function(){for(var et={parent:null,beforeElement:null},Pt=this.openElements.stackTop;Pt>=0;Pt--){var Ot=this.openElements.items[Pt],nn=this.treeAdapter.getTagName(Ot),kn=this.treeAdapter.getNamespaceURI(Ot);if(nn===h.TEMPLATE&&kn===v.HTML){et.parent=this.treeAdapter.getTemplateContent(Ot);break}else if(nn===h.TABLE){et.parent=this.treeAdapter.getParentNode(Ot),et.parent?et.beforeElement=Ot:et.parent=this.openElements.items[Pt-1];break}}return et.parent||(et.parent=this.openElements.items[0]),et},rt.prototype._fosterParentElement=function(et){var Pt=this._findFosterParentingLocation();Pt.beforeElement?this.treeAdapter.insertBefore(Pt.parent,et,Pt.beforeElement):this.treeAdapter.appendChild(Pt.parent,et)},rt.prototype._fosterParentText=function(et){var Pt=this._findFosterParentingLocation();Pt.beforeElement?this.treeAdapter.insertTextBefore(Pt.parent,et,Pt.beforeElement):this.treeAdapter.insertText(Pt.parent,et)},rt.prototype._isSpecialElement=function(et){var Pt=this.treeAdapter.getTagName(et),Ot=this.treeAdapter.getNamespaceURI(et);return p.SPECIAL_ELEMENTS[Ot][Pt]};function ft(et,Pt){var Ot=et.activeFormattingElements.getElementEntryInScopeWithTagName(Pt.tagName);return Ot?et.openElements.contains(Ot.element)?et.openElements.hasInScope(Pt.tagName)||(Ot=null):(et.activeFormattingElements.removeEntry(Ot),Ot=null):Ae(et,Pt),Ot}function tt(et,Pt){for(var Ot=null,nn=et.openElements.stackTop;nn>=0;nn--){var kn=et.openElements.items[nn];if(kn===Pt.element)break;et._isSpecialElement(kn)&&(Ot=kn)}return Ot||(et.openElements.popUntilElementPopped(Pt.element),et.activeFormattingElements.removeEntry(Pt)),Ot}function K(et,Pt,Ot){for(var nn=Pt,kn=et.openElements.getCommonAncestor(Pt),rr=0,Yn=kn;Yn!==Ot;rr++,Yn=kn){kn=et.openElements.getCommonAncestor(Yn);var jr=et.activeFormattingElements.getElementEntry(Yn),bi=jr&&rr>=E,Zr=!jr||bi;Zr?(bi&&et.activeFormattingElements.removeEntry(jr),et.openElements.remove(Yn)):(Yn=Q(et,jr),nn===Pt&&(et.activeFormattingElements.bookmark=jr),et.treeAdapter.detachNode(nn),et.treeAdapter.appendChild(Yn,nn),nn=Yn)}return nn}function Q(et,Pt){var Ot=et.treeAdapter.getNamespaceURI(Pt.element),nn=et.treeAdapter.createElement(Pt.token.tagName,Ot,Pt.token.attrs);return et.openElements.replace(Pt.element,nn),Pt.element=nn,nn}function ct(et,Pt,Ot){if(et._isElementCausesFosterParenting(Pt))et._fosterParentElement(Ot);else{var nn=et.treeAdapter.getTagName(Pt),kn=et.treeAdapter.getNamespaceURI(Pt);nn===h.TEMPLATE&&kn===v.HTML&&(Pt=et.treeAdapter.getTemplateContent(Pt)),et.treeAdapter.appendChild(Pt,Ot)}}function nt(et,Pt,Ot){var nn=et.treeAdapter.getNamespaceURI(Ot.element),kn=Ot.token,rr=et.treeAdapter.createElement(kn.tagName,nn,kn.attrs);et._adoptNodes(Pt,rr),et.treeAdapter.appendChild(Pt,rr),et.activeFormattingElements.insertElementAfterBookmark(rr,Ot.token),et.activeFormattingElements.removeEntry(Ot),et.openElements.remove(Ot.element),et.openElements.insertAfter(Pt,rr)}function ot(et,Pt){for(var Ot,nn=0;nn<T&&(Ot=ft(et,Pt),!!Ot);nn++){var kn=tt(et,Ot);if(!kn)break;et.activeFormattingElements.bookmark=Ot;var rr=K(et,kn,Ot.element),Yn=et.openElements.getCommonAncestor(Ot.element);et.treeAdapter.detachNode(rr),ct(et,Yn,rr),nt(et,kn,Ot)}}function yt(){}function pt(et,Pt){et._appendCommentNode(Pt,et.openElements.currentTmplContent||et.openElements.current)}function dt(et,Pt){et._appendCommentNode(Pt,et.openElements.items[0])}function mt(et,Pt){et._appendCommentNode(Pt,et.document)}function q(et,Pt){et._insertCharacters(Pt)}function $(et){et.stopped=!0}function J(et,Pt){et._setDocumentType(Pt);var Ot=Pt.forceQuirks?p.DOCUMENT_MODE.QUIRKS:u.getDocumentMode(Pt.name,Pt.publicId,Pt.systemId);et.treeAdapter.setDocumentMode(et.document,Ot),et.insertionMode=A}function lt(et,Pt){et.treeAdapter.setDocumentMode(et.document,p.DOCUMENT_MODE.QUIRKS),et.insertionMode=A,et._processToken(Pt)}function ut(et,Pt){Pt.tagName===h.HTML?(et._insertElement(Pt,v.HTML),et.insertionMode=C):bt(et,Pt)}function ht(et,Pt){var Ot=Pt.tagName;(Ot===h.HTML||Ot===h.HEAD||Ot===h.BODY||Ot===h.BR)&&bt(et,Pt)}function bt(et,Pt){et._insertFakeRootElement(),et.insertionMode=C,et._processToken(Pt)}function kt(et,Pt){var Ot=Pt.tagName;Ot===h.HTML?Wt(et,Pt):Ot===h.HEAD?(et._insertElement(Pt,v.HTML),et.headElement=et.openElements.current,et.insertionMode=S):Et(et,Pt)}function vt(et,Pt){var Ot=Pt.tagName;(Ot===h.HEAD||Ot===h.BODY||Ot===h.HTML||Ot===h.BR)&&Et(et,Pt)}function Et(et,Pt){et._insertFakeElement(h.HEAD),et.headElement=et.openElements.current,et.insertionMode=S,et._processToken(Pt)}function Rt(et,Pt){var Ot=Pt.tagName;Ot===h.HTML?Wt(et,Pt):Ot===h.BASE||Ot===h.BASEFONT||Ot===h.BGSOUND||Ot===h.LINK||Ot===h.META?et._appendElement(Pt,v.HTML):Ot===h.TITLE?et._switchToTextParsing(Pt,n.MODE.RCDATA):Ot===h.NOSCRIPT||Ot===h.NOFRAMES||Ot===h.STYLE?et._switchToTextParsing(Pt,n.MODE.RAWTEXT):Ot===h.SCRIPT?et._switchToTextParsing(Pt,n.MODE.SCRIPT_DATA):Ot===h.TEMPLATE?(et._insertTemplate(Pt,v.HTML),et.activeFormattingElements.insertMarker(),et.framesetOk=!1,et.insertionMode=N,et._pushTmplInsertionMode(N)):Ot!==h.HEAD&&ee(et,Pt)}function Vt(et,Pt){var Ot=Pt.tagName;Ot===h.HEAD?(et.openElements.pop(),et.insertionMode=P):Ot===h.BODY||Ot===h.BR||Ot===h.HTML?ee(et,Pt):Ot===h.TEMPLATE&&et.openElements.tmplCount>0&&(et.openElements.generateImpliedEndTags(),et.openElements.popUntilTagNamePopped(h.TEMPLATE),et.activeFormattingElements.clearToLastMarker(),et._popTmplInsertionMode(),et._resetInsertionMode())}function ee(et,Pt){et.openElements.pop(),et.insertionMode=P,et._processToken(Pt)}function Tt(et,Pt){var Ot=Pt.tagName;Ot===h.HTML?Wt(et,Pt):Ot===h.BODY?(et._insertElement(Pt,v.HTML),et.framesetOk=!1,et.insertionMode=O):Ot===h.FRAMESET?(et._insertElement(Pt,v.HTML),et.insertionMode=G):Ot===h.BASE||Ot===h.BASEFONT||Ot===h.BGSOUND||Ot===h.LINK||Ot===h.META||Ot===h.NOFRAMES||Ot===h.SCRIPT||Ot===h.STYLE||Ot===h.TEMPLATE||Ot===h.TITLE?(et.openElements.push(et.headElement),Rt(et,Pt),et.openElements.remove(et.headElement)):Ot!==h.HEAD&&zt(et,Pt)}function _t(et,Pt){var Ot=Pt.tagName;Ot===h.BODY||Ot===h.HTML||Ot===h.BR?zt(et,Pt):Ot===h.TEMPLATE&&Vt(et,Pt)}function zt(et,Pt){et._insertFakeElement(h.BODY),et.insertionMode=O,et._processToken(Pt)}function oe(et,Pt){et._reconstructActiveFormattingElements(),et._insertCharacters(Pt)}function $t(et,Pt){et._reconstructActiveFormattingElements(),et._insertCharacters(Pt),et.framesetOk=!1}function pe(et,Pt){et.openElements.tmplCount===0&&et.treeAdapter.adoptAttributes(et.openElements.items[0],Pt.attrs)}function Nt(et,Pt){var Ot=et.openElements.tryPeekProperlyNestedBodyElement();Ot&&et.openElements.tmplCount===0&&(et.framesetOk=!1,et.treeAdapter.adoptAttributes(Ot,Pt.attrs))}function se(et,Pt){var Ot=et.openElements.tryPeekProperlyNestedBodyElement();et.framesetOk&&Ot&&(et.treeAdapter.detachNode(Ot),et.openElements.popAllUpToHtmlElement(),et._insertElement(Pt,v.HTML),et.insertionMode=G)}function Gt(et,Pt){et.openElements.hasInButtonScope(h.P)&&et._closePElement(),et._insertElement(Pt,v.HTML)}function gt(et,Pt){et.openElements.hasInButtonScope(h.P)&&et._closePElement();var Ot=et.openElements.currentTagName;(Ot===h.H1||Ot===h.H2||Ot===h.H3||Ot===h.H4||Ot===h.H5||Ot===h.H6)&&et.openElements.pop(),et._insertElement(Pt,v.HTML)}function fe(et,Pt){et.openElements.hasInButtonScope(h.P)&&et._closePElement(),et._insertElement(Pt,v.HTML),et.skipNextNewLine=!0,et.framesetOk=!1}function Ct(et,Pt){var Ot=et.openElements.tmplCount>0;(!et.formElement||Ot)&&(et.openElements.hasInButtonScope(h.P)&&et._closePElement(),et._insertElement(Pt,v.HTML),Ot||(et.formElement=et.openElements.current))}function at(et,Pt){et.framesetOk=!1;for(var Ot=Pt.tagName,nn=et.openElements.stackTop;nn>=0;nn--){var kn=et.openElements.items[nn],rr=et.treeAdapter.getTagName(kn),Yn=null;if(Ot===h.LI&&rr===h.LI?Yn=h.LI:(Ot===h.DD||Ot===h.DT)&&(rr===h.DD||rr===h.DT)&&(Yn=rr),Yn){et.openElements.generateImpliedEndTagsWithExclusion(Yn),et.openElements.popUntilTagNamePopped(Yn);break}if(rr!==h.ADDRESS&&rr!==h.DIV&&rr!==h.P&&et._isSpecialElement(kn))break}et.openElements.hasInButtonScope(h.P)&&et._closePElement(),et._insertElement(Pt,v.HTML)}function St(et,Pt){et.openElements.hasInButtonScope(h.P)&&et._closePElement(),et._insertElement(Pt,v.HTML),et.tokenizer.state=n.MODE.PLAINTEXT}function jt(et,Pt){et.openElements.hasInScope(h.BUTTON)&&(et.openElements.generateImpliedEndTags(),et.openElements.popUntilTagNamePopped(h.BUTTON)),et._reconstructActiveFormattingElements(),et._insertElement(Pt,v.HTML),et.framesetOk=!1}function Zt(et,Pt){var Ot=et.activeFormattingElements.getElementEntryInScopeWithTagName(h.A);Ot&&(ot(et,Pt),et.openElements.remove(Ot.element),et.activeFormattingElements.removeEntry(Ot)),et._reconstructActiveFormattingElements(),et._insertElement(Pt,v.HTML),et.activeFormattingElements.pushElement(et.openElements.current,Pt)}function ue(et,Pt){et._reconstructActiveFormattingElements(),et._insertElement(Pt,v.HTML),et.activeFormattingElements.pushElement(et.openElements.current,Pt)}function ce(et,Pt){et._reconstructActiveFormattingElements(),et.openElements.hasInScope(h.NOBR)&&(ot(et,Pt),et._reconstructActiveFormattingElements()),et._insertElement(Pt,v.HTML),et.activeFormattingElements.pushElement(et.openElements.current,Pt)}function It(et,Pt){et._reconstructActiveFormattingElements(),et._insertElement(Pt,v.HTML),et.activeFormattingElements.insertMarker(),et.framesetOk=!1}function Mt(et,Pt){et.treeAdapter.getDocumentMode(et.document)!==p.DOCUMENT_MODE.QUIRKS&&et.openElements.hasInButtonScope(h.P)&&et._closePElement(),et._insertElement(Pt,v.HTML),et.framesetOk=!1,et.insertionMode=I}function Ut(et,Pt){et._reconstructActiveFormattingElements(),et._appendElement(Pt,v.HTML),et.framesetOk=!1}function Kt(et,Pt){et._reconstructActiveFormattingElements(),et._appendElement(Pt,v.HTML);var Ot=n.getTokenAttr(Pt,x.TYPE);(!Ot||Ot.toLowerCase()!==k)&&(et.framesetOk=!1)}function wt(et,Pt){et._appendElement(Pt,v.HTML)}function ye(et,Pt){et.openElements.hasInButtonScope(h.P)&&et._closePElement(),et.openElements.currentTagName===h.MENUITEM&&et.openElements.pop(),et._appendElement(Pt,v.HTML),et.framesetOk=!1}function we(et,Pt){Pt.tagName=h.IMG,Ut(et,Pt)}function Oe(et,Pt){et._insertElement(Pt,v.HTML),et.skipNextNewLine=!0,et.tokenizer.state=n.MODE.RCDATA,et.originalInsertionMode=et.insertionMode,et.framesetOk=!1,et.insertionMode=R}function Ne(et,Pt){et.openElements.hasInButtonScope(h.P)&&et._closePElement(),et._reconstructActiveFormattingElements(),et.framesetOk=!1,et._switchToTextParsing(Pt,n.MODE.RAWTEXT)}function ze(et,Pt){et.framesetOk=!1,et._switchToTextParsing(Pt,n.MODE.RAWTEXT)}function Ue(et,Pt){et._switchToTextParsing(Pt,n.MODE.RAWTEXT)}function Be(et,Pt){et._reconstructActiveFormattingElements(),et._insertElement(Pt,v.HTML),et.framesetOk=!1,et.insertionMode===I||et.insertionMode===H||et.insertionMode===D||et.insertionMode===j||et.insertionMode===W?et.insertionMode=F:et.insertionMode=B}function Je(et,Pt){et.openElements.currentTagName===h.OPTION&&et.openElements.pop(),et._reconstructActiveFormattingElements(),et._insertElement(Pt,v.HTML)}function Xe(et,Pt){et.openElements.hasInScope(h.RUBY)&&et.openElements.generateImpliedEndTags(),et._insertElement(Pt,v.HTML)}function pn(et,Pt){et.openElements.hasInScope(h.RUBY)&&et.openElements.generateImpliedEndTagsWithExclusion(h.RTC),et._insertElement(Pt,v.HTML)}function qt(et,Pt){et.openElements.currentTagName===h.MENUITEM&&et.openElements.pop(),et._reconstructActiveFormattingElements(),et._insertElement(Pt,v.HTML)}function it(et,Pt){et.openElements.hasInButtonScope(h.P)&&et._closePElement(),et.openElements.currentTagName===h.MENUITEM&&et.openElements.pop(),et._insertElement(Pt,v.HTML)}function Xt(et,Pt){et._reconstructActiveFormattingElements(),c.adjustTokenMathMLAttrs(Pt),c.adjustTokenXMLAttrs(Pt),Pt.selfClosing?et._appendElement(Pt,v.MATHML):et._insertElement(Pt,v.MATHML)}function te(et,Pt){et._reconstructActiveFormattingElements(),c.adjustTokenSVGAttrs(Pt),c.adjustTokenXMLAttrs(Pt),Pt.selfClosing?et._appendElement(Pt,v.SVG):et._insertElement(Pt,v.SVG)}function ne(et,Pt){et._reconstructActiveFormattingElements(),et._insertElement(Pt,v.HTML)}function Wt(et,Pt){var Ot=Pt.tagName;switch(Ot.length){case 1:Ot===h.I||Ot===h.S||Ot===h.B||Ot===h.U?ue(et,Pt):Ot===h.P?Gt(et,Pt):Ot===h.A?Zt(et,Pt):ne(et,Pt);break;case 2:Ot===h.DL||Ot===h.OL||Ot===h.UL?Gt(et,Pt):Ot===h.H1||Ot===h.H2||Ot===h.H3||Ot===h.H4||Ot===h.H5||Ot===h.H6?gt(et,Pt):Ot===h.LI||Ot===h.DD||Ot===h.DT?at(et,Pt):Ot===h.EM||Ot===h.TT?ue(et,Pt):Ot===h.BR?Ut(et,Pt):Ot===h.HR?ye(et,Pt):Ot===h.RB?Xe(et,Pt):Ot===h.RT||Ot===h.RP?pn(et,Pt):Ot!==h.TH&&Ot!==h.TD&&Ot!==h.TR&&ne(et,Pt);break;case 3:Ot===h.DIV||Ot===h.DIR||Ot===h.NAV?Gt(et,Pt):Ot===h.PRE?fe(et,Pt):Ot===h.BIG?ue(et,Pt):Ot===h.IMG||Ot===h.WBR?Ut(et,Pt):Ot===h.XMP?Ne(et,Pt):Ot===h.SVG?te(et,Pt):Ot===h.RTC?Xe(et,Pt):Ot!==h.COL&&ne(et,Pt);break;case 4:Ot===h.HTML?pe(et,Pt):Ot===h.BASE||Ot===h.LINK||Ot===h.META?Rt(et,Pt):Ot===h.BODY?Nt(et,Pt):Ot===h.MAIN?Gt(et,Pt):Ot===h.FORM?Ct(et,Pt):Ot===h.CODE||Ot===h.FONT?ue(et,Pt):Ot===h.NOBR?ce(et,Pt):Ot===h.AREA?Ut(et,Pt):Ot===h.MATH?Xt(et,Pt):Ot===h.MENU?it(et,Pt):Ot!==h.HEAD&&ne(et,Pt);break;case 5:Ot===h.STYLE||Ot===h.TITLE?Rt(et,Pt):Ot===h.ASIDE?Gt(et,Pt):Ot===h.SMALL?ue(et,Pt):Ot===h.TABLE?Mt(et,Pt):Ot===h.EMBED?Ut(et,Pt):Ot===h.INPUT?Kt(et,Pt):Ot===h.PARAM||Ot===h.TRACK?wt(et,Pt):Ot===h.IMAGE?we(et,Pt):Ot!==h.FRAME&&Ot!==h.TBODY&&Ot!==h.TFOOT&&Ot!==h.THEAD&&ne(et,Pt);break;case 6:Ot===h.SCRIPT?Rt(et,Pt):Ot===h.CENTER||Ot===h.FIGURE||Ot===h.FOOTER||Ot===h.HEADER||Ot===h.HGROUP?Gt(et,Pt):Ot===h.BUTTON?jt(et,Pt):Ot===h.STRIKE||Ot===h.STRONG?ue(et,Pt):Ot===h.APPLET||Ot===h.OBJECT?It(et,Pt):Ot===h.KEYGEN?Ut(et,Pt):Ot===h.SOURCE?wt(et,Pt):Ot===h.IFRAME?ze(et,Pt):Ot===h.SELECT?Be(et,Pt):Ot===h.OPTION?Je(et,Pt):ne(et,Pt);break;case 7:Ot===h.BGSOUND?Rt(et,Pt):Ot===h.DETAILS||Ot===h.ADDRESS||Ot===h.ARTICLE||Ot===h.SECTION||Ot===h.SUMMARY?Gt(et,Pt):Ot===h.LISTING?fe(et,Pt):Ot===h.MARQUEE?It(et,Pt):Ot===h.NOEMBED?Ue(et,Pt):Ot!==h.CAPTION&&ne(et,Pt);break;case 8:Ot===h.BASEFONT?Rt(et,Pt):Ot===h.MENUITEM?qt(et,Pt):Ot===h.FRAMESET?se(et,Pt):Ot===h.FIELDSET?Gt(et,Pt):Ot===h.TEXTAREA?Oe(et,Pt):Ot===h.TEMPLATE?Rt(et,Pt):Ot===h.NOSCRIPT?Ue(et,Pt):Ot===h.OPTGROUP?Je(et,Pt):Ot!==h.COLGROUP&&ne(et,Pt);break;case 9:Ot===h.PLAINTEXT?St(et,Pt):ne(et,Pt);break;case 10:Ot===h.BLOCKQUOTE||Ot===h.FIGCAPTION?Gt(et,Pt):ne(et,Pt);break;default:ne(et,Pt)}}function he(et){et.openElements.hasInScope(h.BODY)&&(et.insertionMode=X)}function Dt(et,Pt){et.openElements.hasInScope(h.BODY)&&(et.insertionMode=X,et._processToken(Pt))}function Ft(et,Pt){var Ot=Pt.tagName;et.openElements.hasInScope(Ot)&&(et.openElements.generateImpliedEndTags(),et.openElements.popUntilTagNamePopped(Ot))}function Yt(et){var Pt=et.openElements.tmplCount>0,Ot=et.formElement;Pt||(et.formElement=null),(Ot||Pt)&&et.openElements.hasInScope(h.FORM)&&(et.openElements.generateImpliedEndTags(),Pt?et.openElements.popUntilTagNamePopped(h.FORM):et.openElements.remove(Ot))}function xt(et){et.openElements.hasInButtonScope(h.P)||et._insertFakeElement(h.P),et._closePElement()}function Bt(et){et.openElements.hasInListItemScope(h.LI)&&(et.openElements.generateImpliedEndTagsWithExclusion(h.LI),et.openElements.popUntilTagNamePopped(h.LI))}function Qt(et,Pt){var Ot=Pt.tagName;et.openElements.hasInScope(Ot)&&(et.openElements.generateImpliedEndTagsWithExclusion(Ot),et.openElements.popUntilTagNamePopped(Ot))}function le(et){et.openElements.hasNumberedHeaderInScope()&&(et.openElements.generateImpliedEndTags(),et.openElements.popUntilNumberedHeaderPopped())}function ve(et,Pt){var Ot=Pt.tagName;et.openElements.hasInScope(Ot)&&(et.openElements.generateImpliedEndTags(),et.openElements.popUntilTagNamePopped(Ot),et.activeFormattingElements.clearToLastMarker())}function _e(et){et._reconstructActiveFormattingElements(),et._insertFakeElement(h.BR),et.openElements.pop(),et.framesetOk=!1}function Ae(et,Pt){for(var Ot=Pt.tagName,nn=et.openElements.stackTop;nn>0;nn--){var kn=et.openElements.items[nn];if(et.treeAdapter.getTagName(kn)===Ot){et.openElements.generateImpliedEndTagsWithExclusion(Ot),et.openElements.popUntilElementPopped(kn);break}if(et._isSpecialElement(kn))break}}function ge(et,Pt){var Ot=Pt.tagName;switch(Ot.length){case 1:Ot===h.A||Ot===h.B||Ot===h.I||Ot===h.S||Ot===h.U?ot(et,Pt):Ot===h.P?xt(et):Ae(et,Pt);break;case 2:Ot===h.DL||Ot===h.UL||Ot===h.OL?Ft(et,Pt):Ot===h.LI?Bt(et):Ot===h.DD||Ot===h.DT?Qt(et,Pt):Ot===h.H1||Ot===h.H2||Ot===h.H3||Ot===h.H4||Ot===h.H5||Ot===h.H6?le(et):Ot===h.BR?_e(et):Ot===h.EM||Ot===h.TT?ot(et,Pt):Ae(et,Pt);break;case 3:Ot===h.BIG?ot(et,Pt):Ot===h.DIR||Ot===h.DIV||Ot===h.NAV?Ft(et,Pt):Ae(et,Pt);break;case 4:Ot===h.BODY?he(et):Ot===h.HTML?Dt(et,Pt):Ot===h.FORM?Yt(et):Ot===h.CODE||Ot===h.FONT||Ot===h.NOBR?ot(et,Pt):Ot===h.MAIN||Ot===h.MENU?Ft(et,Pt):Ae(et,Pt);break;case 5:Ot===h.ASIDE?Ft(et,Pt):Ot===h.SMALL?ot(et,Pt):Ae(et,Pt);break;case 6:Ot===h.CENTER||Ot===h.FIGURE||Ot===h.FOOTER||Ot===h.HEADER||Ot===h.HGROUP?Ft(et,Pt):Ot===h.APPLET||Ot===h.OBJECT?ve(et,Pt):Ot===h.STRIKE||Ot===h.STRONG?ot(et,Pt):Ae(et,Pt);break;case 7:Ot===h.ADDRESS||Ot===h.ARTICLE||Ot===h.DETAILS||Ot===h.SECTION||Ot===h.SUMMARY?Ft(et,Pt):Ot===h.MARQUEE?ve(et,Pt):Ae(et,Pt);break;case 8:Ot===h.FIELDSET?Ft(et,Pt):Ot===h.TEMPLATE?Vt(et,Pt):Ae(et,Pt);break;case 10:Ot===h.BLOCKQUOTE||Ot===h.FIGCAPTION?Ft(et,Pt):Ae(et,Pt);break;default:Ae(et,Pt)}}function ke(et,Pt){et.tmplInsertionModeStackTop>-1?an(et,Pt):et.stopped=!0}function Ke(et,Pt){Pt.tagName===h.SCRIPT&&(et.pendingScript=et.openElements.current),et.openElements.pop(),et.insertionMode=et.originalInsertionMode}function $e(et,Pt){et.openElements.pop(),et.insertionMode=et.originalInsertionMode,et._processToken(Pt)}function jn(et,Pt){var Ot=et.openElements.currentTagName;Ot===h.TABLE||Ot===h.TBODY||Ot===h.TFOOT||Ot===h.THEAD||Ot===h.TR?(et.pendingCharacterTokens=[],et.hasNonWhitespacePendingCharacterToken=!1,et.originalInsertionMode=et.insertionMode,et.insertionMode=M,et._processToken(Pt)):Ee(et,Pt)}function In(et,Pt){et.openElements.clearBackToTableContext(),et.activeFormattingElements.insertMarker(),et._insertElement(Pt,v.HTML),et.insertionMode=H}function xn(et,Pt){et.openElements.clearBackToTableContext(),et._insertElement(Pt,v.HTML),et.insertionMode=L}function Un(et,Pt){et.openElements.clearBackToTableContext(),et._insertFakeElement(h.COLGROUP),et.insertionMode=L,et._processToken(Pt)}function cn(et,Pt){et.openElements.clearBackToTableContext(),et._insertElement(Pt,v.HTML),et.insertionMode=D}function xr(et,Pt){et.openElements.clearBackToTableContext(),et._insertFakeElement(h.TBODY),et.insertionMode=D,et._processToken(Pt)}function wr(et,Pt){et.openElements.hasInTableScope(h.TABLE)&&(et.openElements.popUntilTagNamePopped(h.TABLE),et._resetInsertionMode(),et._processToken(Pt))}function fr(et,Pt){var Ot=n.getTokenAttr(Pt,x.TYPE);Ot&&Ot.toLowerCase()===k?et._appendElement(Pt,v.HTML):Ee(et,Pt)}function pr(et,Pt){!et.formElement&&et.openElements.tmplCount===0&&(et._insertElement(Pt,v.HTML),et.formElement=et.openElements.current,et.openElements.pop())}function qe(et,Pt){var Ot=Pt.tagName;switch(Ot.length){case 2:Ot===h.TD||Ot===h.TH||Ot===h.TR?xr(et,Pt):Ee(et,Pt);break;case 3:Ot===h.COL?Un(et,Pt):Ee(et,Pt);break;case 4:Ot===h.FORM?pr(et,Pt):Ee(et,Pt);break;case 5:Ot===h.TABLE?wr(et,Pt):Ot===h.STYLE?Rt(et,Pt):Ot===h.TBODY||Ot===h.TFOOT||Ot===h.THEAD?cn(et,Pt):Ot===h.INPUT?fr(et,Pt):Ee(et,Pt);break;case 6:Ot===h.SCRIPT?Rt(et,Pt):Ee(et,Pt);break;case 7:Ot===h.CAPTION?In(et,Pt):Ee(et,Pt);break;case 8:Ot===h.COLGROUP?xn(et,Pt):Ot===h.TEMPLATE?Rt(et,Pt):Ee(et,Pt);break;default:Ee(et,Pt)}}function ae(et,Pt){var Ot=Pt.tagName;Ot===h.TABLE?et.openElements.hasInTableScope(h.TABLE)&&(et.openElements.popUntilTagNamePopped(h.TABLE),et._resetInsertionMode()):Ot===h.TEMPLATE?Vt(et,Pt):Ot!==h.BODY&&Ot!==h.CAPTION&&Ot!==h.COL&&Ot!==h.COLGROUP&&Ot!==h.HTML&&Ot!==h.TBODY&&Ot!==h.TD&&Ot!==h.TFOOT&&Ot!==h.TH&&Ot!==h.THEAD&&Ot!==h.TR&&Ee(et,Pt)}function Ee(et,Pt){var Ot=et.fosterParentingEnabled;et.fosterParentingEnabled=!0,et._processTokenInBodyMode(Pt),et.fosterParentingEnabled=Ot}function tn(et,Pt){et.pendingCharacterTokens.push(Pt)}function sn(et,Pt){et.pendingCharacterTokens.push(Pt),et.hasNonWhitespacePendingCharacterToken=!0}function on(et,Pt){var Ot=0;if(et.hasNonWhitespacePendingCharacterToken)for(;Ot<et.pendingCharacterTokens.length;Ot++)Ee(et,et.pendingCharacterTokens[Ot]);else for(;Ot<et.pendingCharacterTokens.length;Ot++)et._insertCharacters(et.pendingCharacterTokens[Ot]);et.insertionMode=et.originalInsertionMode,et._processToken(Pt)}function He(et,Pt){var Ot=Pt.tagName;Ot===h.CAPTION||Ot===h.COL||Ot===h.COLGROUP||Ot===h.TBODY||Ot===h.TD||Ot===h.TFOOT||Ot===h.TH||Ot===h.THEAD||Ot===h.TR?et.openElements.hasInTableScope(h.CAPTION)&&(et.openElements.generateImpliedEndTags(),et.openElements.popUntilTagNamePopped(h.CAPTION),et.activeFormattingElements.clearToLastMarker(),et.insertionMode=I,et._processToken(Pt)):Wt(et,Pt)}function Ve(et,Pt){var Ot=Pt.tagName;Ot===h.CAPTION||Ot===h.TABLE?et.openElements.hasInTableScope(h.CAPTION)&&(et.openElements.generateImpliedEndTags(),et.openElements.popUntilTagNamePopped(h.CAPTION),et.activeFormattingElements.clearToLastMarker(),et.insertionMode=I,Ot===h.TABLE&&et._processToken(Pt)):Ot!==h.BODY&&Ot!==h.COL&&Ot!==h.COLGROUP&&Ot!==h.HTML&&Ot!==h.TBODY&&Ot!==h.TD&&Ot!==h.TFOOT&&Ot!==h.TH&&Ot!==h.THEAD&&Ot!==h.TR&&ge(et,Pt)}function yn(et,Pt){var Ot=Pt.tagName;Ot===h.HTML?Wt(et,Pt):Ot===h.COL?et._appendElement(Pt,v.HTML):Ot===h.TEMPLATE?Rt(et,Pt):_n(et,Pt)}function dn(et,Pt){var Ot=Pt.tagName;Ot===h.COLGROUP?et.openElements.currentTagName===h.COLGROUP&&(et.openElements.pop(),et.insertionMode=I):Ot===h.TEMPLATE?Vt(et,Pt):Ot!==h.COL&&_n(et,Pt)}function _n(et,Pt){et.openElements.currentTagName===h.COLGROUP&&(et.openElements.pop(),et.insertionMode=I,et._processToken(Pt))}function gn(et,Pt){var Ot=Pt.tagName;Ot===h.TR?(et.openElements.clearBackToTableBodyContext(),et._insertElement(Pt,v.HTML),et.insertionMode=j):Ot===h.TH||Ot===h.TD?(et.openElements.clearBackToTableBodyContext(),et._insertFakeElement(h.TR),et.insertionMode=j,et._processToken(Pt)):Ot===h.CAPTION||Ot===h.COL||Ot===h.COLGROUP||Ot===h.TBODY||Ot===h.TFOOT||Ot===h.THEAD?et.openElements.hasTableBodyContextInTableScope()&&(et.openElements.clearBackToTableBodyContext(),et.openElements.pop(),et.insertionMode=I,et._processToken(Pt)):qe(et,Pt)}function Hn(et,Pt){var Ot=Pt.tagName;Ot===h.TBODY||Ot===h.TFOOT||Ot===h.THEAD?et.openElements.hasInTableScope(Ot)&&(et.openElements.clearBackToTableBodyContext(),et.openElements.pop(),et.insertionMode=I):Ot===h.TABLE?et.openElements.hasTableBodyContextInTableScope()&&(et.openElements.clearBackToTableBodyContext(),et.openElements.pop(),et.insertionMode=I,et._processToken(Pt)):(Ot!==h.BODY&&Ot!==h.CAPTION&&Ot!==h.COL&&Ot!==h.COLGROUP||Ot!==h.HTML&&Ot!==h.TD&&Ot!==h.TH&&Ot!==h.TR)&&ae(et,Pt)}function Bn(et,Pt){var Ot=Pt.tagName;Ot===h.TH||Ot===h.TD?(et.openElements.clearBackToTableRowContext(),et._insertElement(Pt,v.HTML),et.insertionMode=W,et.activeFormattingElements.insertMarker()):Ot===h.CAPTION||Ot===h.COL||Ot===h.COLGROUP||Ot===h.TBODY||Ot===h.TFOOT||Ot===h.THEAD||Ot===h.TR?et.openElements.hasInTableScope(h.TR)&&(et.openElements.clearBackToTableRowContext(),et.openElements.pop(),et.insertionMode=D,et._processToken(Pt)):qe(et,Pt)}function Vn(et,Pt){var Ot=Pt.tagName;Ot===h.TR?et.openElements.hasInTableScope(h.TR)&&(et.openElements.clearBackToTableRowContext(),et.openElements.pop(),et.insertionMode=D):Ot===h.TABLE?et.openElements.hasInTableScope(h.TR)&&(et.openElements.clearBackToTableRowContext(),et.openElements.pop(),et.insertionMode=D,et._processToken(Pt)):Ot===h.TBODY||Ot===h.TFOOT||Ot===h.THEAD?(et.openElements.hasInTableScope(Ot)||et.openElements.hasInTableScope(h.TR))&&(et.openElements.clearBackToTableRowContext(),et.openElements.pop(),et.insertionMode=D,et._processToken(Pt)):(Ot!==h.BODY&&Ot!==h.CAPTION&&Ot!==h.COL&&Ot!==h.COLGROUP||Ot!==h.HTML&&Ot!==h.TD&&Ot!==h.TH)&&ae(et,Pt)}function tr(et,Pt){var Ot=Pt.tagName;Ot===h.CAPTION||Ot===h.COL||Ot===h.COLGROUP||Ot===h.TBODY||Ot===h.TD||Ot===h.TFOOT||Ot===h.TH||Ot===h.THEAD||Ot===h.TR?(et.openElements.hasInTableScope(h.TD)||et.openElements.hasInTableScope(h.TH))&&(et._closeTableCell(),et._processToken(Pt)):Wt(et,Pt)}function Qn(et,Pt){var Ot=Pt.tagName;Ot===h.TD||Ot===h.TH?et.openElements.hasInTableScope(Ot)&&(et.openElements.generateImpliedEndTags(),et.openElements.popUntilTagNamePopped(Ot),et.activeFormattingElements.clearToLastMarker(),et.insertionMode=j):Ot===h.TABLE||Ot===h.TBODY||Ot===h.TFOOT||Ot===h.THEAD||Ot===h.TR?et.openElements.hasInTableScope(Ot)&&(et._closeTableCell(),et._processToken(Pt)):Ot!==h.BODY&&Ot!==h.CAPTION&&Ot!==h.COL&&Ot!==h.COLGROUP&&Ot!==h.HTML&&ge(et,Pt)}function er(et,Pt){var Ot=Pt.tagName;Ot===h.HTML?Wt(et,Pt):Ot===h.OPTION?(et.openElements.currentTagName===h.OPTION&&et.openElements.pop(),et._insertElement(Pt,v.HTML)):Ot===h.OPTGROUP?(et.openElements.currentTagName===h.OPTION&&et.openElements.pop(),et.openElements.currentTagName===h.OPTGROUP&&et.openElements.pop(),et._insertElement(Pt,v.HTML)):Ot===h.INPUT||Ot===h.KEYGEN||Ot===h.TEXTAREA||Ot===h.SELECT?et.openElements.hasInSelectScope(h.SELECT)&&(et.openElements.popUntilTagNamePopped(h.SELECT),et._resetInsertionMode(),Ot!==h.SELECT&&et._processToken(Pt)):(Ot===h.SCRIPT||Ot===h.TEMPLATE)&&Rt(et,Pt)}function cr(et,Pt){var Ot=Pt.tagName;if(Ot===h.OPTGROUP){var nn=et.openElements.items[et.openElements.stackTop-1],kn=nn&&et.treeAdapter.getTagName(nn);et.openElements.currentTagName===h.OPTION&&kn===h.OPTGROUP&&et.openElements.pop(),et.openElements.currentTagName===h.OPTGROUP&&et.openElements.pop()}else Ot===h.OPTION?et.openElements.currentTagName===h.OPTION&&et.openElements.pop():Ot===h.SELECT&&et.openElements.hasInSelectScope(h.SELECT)?(et.openElements.popUntilTagNamePopped(h.SELECT),et._resetInsertionMode()):Ot===h.TEMPLATE&&Vt(et,Pt)}function Kn(et,Pt){var Ot=Pt.tagName;Ot===h.CAPTION||Ot===h.TABLE||Ot===h.TBODY||Ot===h.TFOOT||Ot===h.THEAD||Ot===h.TR||Ot===h.TD||Ot===h.TH?(et.openElements.popUntilTagNamePopped(h.SELECT),et._resetInsertionMode(),et._processToken(Pt)):er(et,Pt)}function br(et,Pt){var Ot=Pt.tagName;Ot===h.CAPTION||Ot===h.TABLE||Ot===h.TBODY||Ot===h.TFOOT||Ot===h.THEAD||Ot===h.TR||Ot===h.TD||Ot===h.TH?et.openElements.hasInTableScope(Ot)&&(et.openElements.popUntilTagNamePopped(h.SELECT),et._resetInsertionMode(),et._processToken(Pt)):cr(et,Pt)}function mr(et,Pt){var Ot=Pt.tagName;if(Ot===h.BASE||Ot===h.BASEFONT||Ot===h.BGSOUND||Ot===h.LINK||Ot===h.META||Ot===h.NOFRAMES||Ot===h.SCRIPT||Ot===h.STYLE||Ot===h.TEMPLATE||Ot===h.TITLE)Rt(et,Pt);else{var nn=st[Ot]||O;et._popTmplInsertionMode(),et._pushTmplInsertionMode(nn),et.insertionMode=nn,et._processToken(Pt)}}function dr(et,Pt){Pt.tagName===h.TEMPLATE&&Vt(et,Pt)}function an(et,Pt){et.openElements.tmplCount>0?(et.openElements.popUntilTagNamePopped(h.TEMPLATE),et.activeFormattingElements.clearToLastMarker(),et._popTmplInsertionMode(),et._resetInsertionMode(),et._processToken(Pt)):et.stopped=!0}function Zn(et,Pt){Pt.tagName===h.HTML?Wt(et,Pt):Cr(et,Pt)}function Jr(et,Pt){Pt.tagName===h.HTML?et.fragmentContext||(et.insertionMode=z):Cr(et,Pt)}function Cr(et,Pt){et.insertionMode=O,et._processToken(Pt)}function di(et,Pt){var Ot=Pt.tagName;Ot===h.HTML?Wt(et,Pt):Ot===h.FRAMESET?et._insertElement(Pt,v.HTML):Ot===h.FRAME?et._appendElement(Pt,v.HTML):Ot===h.NOFRAMES&&Rt(et,Pt)}function de(et,Pt){Pt.tagName===h.FRAMESET&&!et.openElements.isRootHtmlElementCurrent()&&(et.openElements.pop(),!et.fragmentContext&&et.openElements.currentTagName!==h.FRAMESET&&(et.insertionMode=V))}function Te(et,Pt){var Ot=Pt.tagName;Ot===h.HTML?Wt(et,Pt):Ot===h.NOFRAMES&&Rt(et,Pt)}function We(et,Pt){Pt.tagName===h.HTML&&(et.insertionMode=U)}function fn(et,Pt){Pt.tagName===h.HTML?Wt(et,Pt):zn(et,Pt)}function zn(et,Pt){et.insertionMode=O,et._processToken(Pt)}function On(et,Pt){var Ot=Pt.tagName;Ot===h.HTML?Wt(et,Pt):Ot===h.NOFRAMES&&Rt(et,Pt)}function qn(et,Pt){Pt.chars=m.REPLACEMENT_CHARACTER,et._insertCharacters(Pt)}function ar(et,Pt){et._insertCharacters(Pt),et.framesetOk=!1}function gr(et,Pt){if(c.causesExit(Pt)&&!et.fragmentContext){for(;et.treeAdapter.getNamespaceURI(et.openElements.current)!==v.HTML&&!et._isIntegrationPoint(et.openElements.current);)et.openElements.pop();et._processToken(Pt)}else{var Ot=et._getAdjustedCurrentElement(),nn=et.treeAdapter.getNamespaceURI(Ot);nn===v.MATHML?c.adjustTokenMathMLAttrs(Pt):nn===v.SVG&&(c.adjustTokenSVGTagName(Pt),c.adjustTokenSVGAttrs(Pt)),c.adjustTokenXMLAttrs(Pt),Pt.selfClosing?et._appendElement(Pt,nn):et._insertElement(Pt,nn)}}function nr(et,Pt){for(var Ot=et.openElements.stackTop;Ot>0;Ot--){var nn=et.openElements.items[Ot];if(et.treeAdapter.getNamespaceURI(nn)===v.HTML){et._processToken(Pt);break}if(et.treeAdapter.getTagName(nn).toLowerCase()===Pt.tagName){et.openElements.popUntilElementPopped(nn);break}}}},function(f,r,t){var n=t(201),a=t(124),l=t(462),e=t(71).inherits,o=f.exports=function(s){n.call(this,s),this.tokenizer=s,this.posTracker=new l(s.preprocessor),this.currentAttrLocation=null,this.currentTokenLocation=null};e(o,n),o.prototype._getCurrentLocation=function(){return{line:this.posTracker.line,col:this.posTracker.col,startOffset:this.posTracker.offset,endOffset:-1}},o.prototype._attachCurrentAttrLocationInfo=function(){this.currentAttrLocation.endOffset=this.posTracker.offset;var s=this.tokenizer.currentToken,u=this.tokenizer.currentAttr;s.location.attrs||(s.location.attrs=Object.create(null)),s.location.attrs[u.name]=this.currentAttrLocation},o.prototype._getOverriddenMethods=function(s,u){var c={_createStartTagToken:function(){u._createStartTagToken.call(this),this.currentToken.location=s.currentTokenLocation},_createEndTagToken:function(){u._createEndTagToken.call(this),this.currentToken.location=s.currentTokenLocation},_createCommentToken:function(){u._createCommentToken.call(this),this.currentToken.location=s.currentTokenLocation},_createDoctypeToken:function(m){u._createDoctypeToken.call(this,m),this.currentToken.location=s.currentTokenLocation},_createCharacterToken:function(m,p){u._createCharacterToken.call(this,m,p),this.currentCharacterToken.location=s.currentTokenLocation},_createAttr:function(m){u._createAttr.call(this,m),s.currentAttrLocation=s._getCurrentLocation()},_leaveAttrName:function(m){u._leaveAttrName.call(this,m),s._attachCurrentAttrLocationInfo()},_leaveAttrValue:function(m){u._leaveAttrValue.call(this,m),s._attachCurrentAttrLocationInfo()},_emitCurrentToken:function(){this.currentCharacterToken&&(this.currentCharacterToken.location.endOffset=this.currentToken.location.startOffset),this.currentToken.location.endOffset=s.posTracker.offset+1,u._emitCurrentToken.call(this)},_emitCurrentCharacterToken:function(){this.currentCharacterToken&&this.currentCharacterToken.location.endOffset===-1&&(this.currentCharacterToken.location.endOffset=s.posTracker.offset),u._emitCurrentCharacterToken.call(this)}};return Object.keys(a.MODE).forEach(function(m){var p=a.MODE[m];c[p]=function(h){s.currentTokenLocation=s._getCurrentLocation(),u[p].call(this,h)}}),c}},function(f,r,t){var n=t(201),a=t(71).inherits,l=t(149),e=l.CODE_POINTS,o=f.exports=function(s){return s.__locTracker||(s.__locTracker=this,n.call(this,s),this.preprocessor=s,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.col=-1,this.line=1),s.__locTracker};a(o,n),Object.defineProperty(o.prototype,"offset",{get:function(){return this.droppedBufferSize+this.preprocessor.pos}}),o.prototype._getOverriddenMethods=function(s,u){return{advance:function(){var c=u.advance.call(this);return s.isEol&&(s.isEol=!1,s.line++,s.lineStartPos=s.offset),c===e.LINE_FEED&&(s.isEol=!0),s.col=s.offset-s.lineStartPos+1,c},retreat:function(){u.retreat.call(this),s.isEol=!1,s.col=s.offset-s.lineStartPos+1},dropParsedChunk:function(){var c=this.pos;u.dropParsedChunk.call(this),s.droppedBufferSize+=c-this.pos}}}},function(f,r,t){var n=t(124),a=t(64),l=a.TAG_NAMES,e=a.NAMESPACES,o=a.ATTRS,s={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},u="definitionurl",c="definitionURL",m={attributename:"attributeName",attributetype:"attributeType",basefrequency:"baseFrequency",baseprofile:"baseProfile",calcmode:"calcMode",clippathunits:"clipPathUnits",diffuseconstant:"diffuseConstant",edgemode:"edgeMode",filterunits:"filterUnits",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",limitingconeangle:"limitingConeAngle",markerheight:"markerHeight",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textlength:"textLength",viewbox:"viewBox",viewtarget:"viewTarget",xchannelselector:"xChannelSelector",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan"},p={"xlink:actuate":{prefix:"xlink",name:"actuate",namespace:e.XLINK},"xlink:arcrole":{prefix:"xlink",name:"arcrole",namespace:e.XLINK},"xlink:href":{prefix:"xlink",name:"href",namespace:e.XLINK},"xlink:role":{prefix:"xlink",name:"role",namespace:e.XLINK},"xlink:show":{prefix:"xlink",name:"show",namespace:e.XLINK},"xlink:title":{prefix:"xlink",name:"title",namespace:e.XLINK},"xlink:type":{prefix:"xlink",name:"type",namespace:e.XLINK},"xml:base":{prefix:"xml",name:"base",namespace:e.XML},"xml:lang":{prefix:"xml",name:"lang",namespace:e.XML},"xml:space":{prefix:"xml",name:"space",namespace:e.XML},xmlns:{prefix:"",name:"xmlns",namespace:e.XMLNS},"xmlns:xlink":{prefix:"xmlns",name:"xlink",namespace:e.XMLNS}},h=r.SVG_TAG_NAMES_ADJUSTMENT_MAP={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"},v=Object.create(null);v[l.B]=!0,v[l.BIG]=!0,v[l.BLOCKQUOTE]=!0,v[l.BODY]=!0,v[l.BR]=!0,v[l.CENTER]=!0,v[l.CODE]=!0,v[l.DD]=!0,v[l.DIV]=!0,v[l.DL]=!0,v[l.DT]=!0,v[l.EM]=!0,v[l.EMBED]=!0,v[l.H1]=!0,v[l.H2]=!0,v[l.H3]=!0,v[l.H4]=!0,v[l.H5]=!0,v[l.H6]=!0,v[l.HEAD]=!0,v[l.HR]=!0,v[l.I]=!0,v[l.IMG]=!0,v[l.LI]=!0,v[l.LISTING]=!0,v[l.MENU]=!0,v[l.META]=!0,v[l.NOBR]=!0,v[l.OL]=!0,v[l.P]=!0,v[l.PRE]=!0,v[l.RUBY]=!0,v[l.S]=!0,v[l.SMALL]=!0,v[l.SPAN]=!0,v[l.STRONG]=!0,v[l.STRIKE]=!0,v[l.SUB]=!0,v[l.SUP]=!0,v[l.TABLE]=!0,v[l.TT]=!0,v[l.U]=!0,v[l.UL]=!0,v[l.VAR]=!0,r.causesExit=function(k){var T=k.tagName,E=T===l.FONT&&(n.getTokenAttr(k,o.COLOR)!==null||n.getTokenAttr(k,o.SIZE)!==null||n.getTokenAttr(k,o.FACE)!==null);return E?!0:v[T]},r.adjustTokenMathMLAttrs=function(k){for(var T=0;T<k.attrs.length;T++)if(k.attrs[T].name===u){k.attrs[T].name=c;break}},r.adjustTokenSVGAttrs=function(k){for(var T=0;T<k.attrs.length;T++){var E=m[k.attrs[T].name];E&&(k.attrs[T].name=E)}},r.adjustTokenXMLAttrs=function(k){for(var T=0;T<k.attrs.length;T++){var E=p[k.attrs[T].name];E&&(k.attrs[T].prefix=E.prefix,k.attrs[T].name=E.name,k.attrs[T].namespace=E.namespace)}},r.adjustTokenSVGTagName=function(k){var T=h[k.tagName];T&&(k.tagName=T)};function x(k,T){return T===e.MATHML&&(k===l.MI||k===l.MO||k===l.MN||k===l.MS||k===l.MTEXT)}function y(k,T,E){if(T===e.MATHML&&k===l.ANNOTATION_XML){for(var _=0;_<E.length;_++)if(E[_].name===o.ENCODING){var A=E[_].value.toLowerCase();return A===s.TEXT_HTML||A===s.APPLICATION_XML}}return T===e.SVG&&(k===l.FOREIGN_OBJECT||k===l.DESC||k===l.TITLE)}r.isIntegrationPoint=function(k,T,E,_){return!!((!_||_===e.HTML)&&y(k,T,E)||(!_||_===e.MATHML)&&x(k,T))}},function(f,r,t){var n=t(301),a=t(302),l=t(303),e=t(64),o=e.TAG_NAMES,s=e.NAMESPACES,u={treeAdapter:n},c=/&/g,m=/\u00a0/g,p=/"/g,h=/</g,v=/>/g,x=f.exports=function(y,k){this.options=a(u,k),this.treeAdapter=this.options.treeAdapter,this.html="",this.startNode=y};x.escapeString=function(y,k){return y=y.replace(c,"&amp;").replace(m,"&nbsp;"),k?y=y.replace(p,"&quot;"):y=y.replace(h,"&lt;").replace(v,"&gt;"),y},x.prototype.serialize=function(){return this._serializeChildNodes(this.startNode),this.html},x.prototype._serializeChildNodes=function(y){var k=this.treeAdapter.getChildNodes(y);if(k)for(var T=0,E=k.length;T<E;T++){var _=k[T];this.treeAdapter.isElementNode(_)?this._serializeElement(_):this.treeAdapter.isTextNode(_)?this._serializeTextNode(_):this.treeAdapter.isCommentNode(_)?this._serializeCommentNode(_):this.treeAdapter.isDocumentTypeNode(_)&&this._serializeDocumentTypeNode(_)}},x.prototype._serializeElement=function(y){var k=this.treeAdapter.getTagName(y),T=this.treeAdapter.getNamespaceURI(y);if(this.html+="<"+k,this._serializeAttributes(y),this.html+=">",k!==o.AREA&&k!==o.BASE&&k!==o.BASEFONT&&k!==o.BGSOUND&&k!==o.BR&&k!==o.BR&&k!==o.COL&&k!==o.EMBED&&k!==o.FRAME&&k!==o.HR&&k!==o.IMG&&k!==o.INPUT&&k!==o.KEYGEN&&k!==o.LINK&&k!==o.MENUITEM&&k!==o.META&&k!==o.PARAM&&k!==o.SOURCE&&k!==o.TRACK&&k!==o.WBR){var E=k===o.TEMPLATE&&T===s.HTML?this.treeAdapter.getTemplateContent(y):y;this._serializeChildNodes(E),this.html+="</"+k+">"}},x.prototype._serializeAttributes=function(y){for(var k=this.treeAdapter.getAttrList(y),T=0,E=k.length;T<E;T++){var _=k[T],A=x.escapeString(_.value,!0);this.html+=" ",_.namespace?_.namespace===s.XML?this.html+="xml:"+_.name:_.namespace===s.XMLNS?(_.name!=="xmlns"&&(this.html+="xmlns:"),this.html+=_.name):_.namespace===s.XLINK?this.html+="xlink:"+_.name:this.html+=_.namespace+":"+_.name:this.html+=_.name,this.html+='="'+A+'"'}},x.prototype._serializeTextNode=function(y){var k=this.treeAdapter.getTextNodeContent(y),T=this.treeAdapter.getParentNode(y),E=void 0;T&&this.treeAdapter.isElementNode(T)&&(E=this.treeAdapter.getTagName(T)),E===o.STYLE||E===o.SCRIPT||E===o.XMP||E===o.IFRAME||E===o.NOEMBED||E===o.NOFRAMES||E===o.PLAINTEXT||E===o.NOSCRIPT?this.html+=k:this.html+=x.escapeString(k,!1)},x.prototype._serializeCommentNode=function(y){this.html+="<!--"+this.treeAdapter.getCommentNodeContent(y)+"-->"},x.prototype._serializeDocumentTypeNode=function(y){var k=this.treeAdapter.getDocumentTypeNodeName(y);this.html+="<"+l.serializeContent(k,null,null)+">"}},function(f,r,t){var n=t(202).Writable,a=t(71).inherits,l=t(460),e=f.exports=function(o){n.call(this),this.parser=new l(o),this.lastChunkWritten=!1,this.writeCallback=null,this.pausedByScript=!1,this.document=this.parser.treeAdapter.createDocument(),this.pendingHtmlInsertions=[],this._resume=this._resume.bind(this),this._documentWrite=this._documentWrite.bind(this),this._scriptHandler=this._scriptHandler.bind(this),this.parser._bootstrap(this.document,null)};a(e,n),e.prototype._write=function(o,s,u){this.writeCallback=u,this.parser.tokenizer.write(o.toString("utf8"),this.lastChunkWritten),this._runParsingLoop()},e.prototype.end=function(o,s,u){this.lastChunkWritten=!0,n.prototype.end.call(this,o||"",s,u)},e.prototype._runParsingLoop=function(){this.parser.runParsingLoopForCurrentChunk(this.writeCallback,this._scriptHandler)},e.prototype._resume=function(){if(!this.pausedByScript)throw new Error("Parser was already resumed");for(;this.pendingHtmlInsertions.length;){var o=this.pendingHtmlInsertions.pop();this.parser.tokenizer.insertHtmlAtCurrentPos(o)}this.pausedByScript=!1,this.parser.tokenizer.active&&this._runParsingLoop()},e.prototype._documentWrite=function(o){this.parser.stopped||this.pendingHtmlInsertions.push(o)},e.prototype._scriptHandler=function(o){this.listeners("script").length?(this.pausedByScript=!0,this.emit("script",o,this._documentWrite,this._resume)):this._runParsingLoop()}},function(f,r,t){(function(n,a){var l=t(203);f.exports=S;var e=t(338),o;S.ReadableState=C,t(199).EventEmitter;var s=function(K,Q){return K.listeners(Q).length},u=t(467),c=t(200).Buffer,m=n.Uint8Array||function(){};function p(K){return c.from(K)}function h(K){return c.isBuffer(K)||K instanceof m}var v=t(151);v.inherits=t(58);var x=t(974),y=void 0;x&&x.debuglog?y=x.debuglog("stream"):y=function(){};var k=t(975),T=t(468),E;v.inherits(S,u);var _=["error","close","destroy","pause","resume"];function A(K,Q,ct){if(typeof K.prependListener=="function")return K.prependListener(Q,ct);!K._events||!K._events[Q]?K.on(Q,ct):e(K._events[Q])?K._events[Q].unshift(ct):K._events[Q]=[ct,K._events[Q]]}function C(K,Q){o=o||t(102),K=K||{};var ct=Q instanceof o;this.objectMode=!!K.objectMode,ct&&(this.objectMode=this.objectMode||!!K.readableObjectMode);var nt=K.highWaterMark,ot=K.readableHighWaterMark,yt=this.objectMode?16:16*1024;nt||nt===0?this.highWaterMark=nt:ct&&(ot||ot===0)?this.highWaterMark=ot:this.highWaterMark=yt,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new k,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=K.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,K.encoding&&(E||(E=t(300).StringDecoder),this.decoder=new E(K.encoding),this.encoding=K.encoding)}function S(K){if(o=o||t(102),!(this instanceof S))return new S(K);this._readableState=new C(K,this),this.readable=!0,K&&(typeof K.read=="function"&&(this._read=K.read),typeof K.destroy=="function"&&(this._destroy=K.destroy)),u.call(this)}Object.defineProperty(S.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(K){this._readableState&&(this._readableState.destroyed=K)}}),S.prototype.destroy=T.destroy,S.prototype._undestroy=T.undestroy,S.prototype._destroy=function(K,Q){this.push(null),Q(K)},S.prototype.push=function(K,Q){var ct=this._readableState,nt;return ct.objectMode?nt=!0:typeof K=="string"&&(Q=Q||ct.defaultEncoding,Q!==ct.encoding&&(K=c.from(K,Q),Q=""),nt=!0),P(this,K,Q,!1,nt)},S.prototype.unshift=function(K){return P(this,K,null,!0,!1)};function P(K,Q,ct,nt,ot){var yt=K._readableState;if(Q===null)yt.reading=!1,D(K,yt);else{var pt;ot||(pt=R(yt,Q)),pt?K.emit("error",pt):yt.objectMode||Q&&Q.length>0?(typeof Q!="string"&&!yt.objectMode&&Object.getPrototypeOf(Q)!==c.prototype&&(Q=p(Q)),nt?yt.endEmitted?K.emit("error",new Error("stream.unshift() after end event")):O(K,yt,Q,!0):yt.ended?K.emit("error",new Error("stream.push() after EOF")):(yt.reading=!1,yt.decoder&&!ct?(Q=yt.decoder.write(Q),yt.objectMode||Q.length!==0?O(K,yt,Q,!1):B(K,yt)):O(K,yt,Q,!1))):nt||(yt.reading=!1)}return I(yt)}function O(K,Q,ct,nt){Q.flowing&&Q.length===0&&!Q.sync?(K.emit("data",ct),K.read(0)):(Q.length+=Q.objectMode?1:ct.length,nt?Q.buffer.unshift(ct):Q.buffer.push(ct),Q.needReadable&&j(K)),B(K,Q)}function R(K,Q){var ct;return!h(Q)&&typeof Q!="string"&&Q!==void 0&&!K.objectMode&&(ct=new TypeError("Invalid non-string/buffer chunk")),ct}function I(K){return!K.ended&&(K.needReadable||K.length<K.highWaterMark||K.length===0)}S.prototype.isPaused=function(){return this._readableState.flowing===!1},S.prototype.setEncoding=function(K){return E||(E=t(300).StringDecoder),this._readableState.decoder=new E(K),this._readableState.encoding=K,this};var M=8388608;function H(K){return K>=M?K=M:(K--,K|=K>>>1,K|=K>>>2,K|=K>>>4,K|=K>>>8,K|=K>>>16,K++),K}function L(K,Q){return K<=0||Q.length===0&&Q.ended?0:Q.objectMode?1:K!==K?Q.flowing&&Q.length?Q.buffer.head.data.length:Q.length:(K>Q.highWaterMark&&(Q.highWaterMark=H(K)),K<=Q.length?K:Q.ended?Q.length:(Q.needReadable=!0,0))}S.prototype.read=function(K){y("read",K),K=parseInt(K,10);var Q=this._readableState,ct=K;if(K!==0&&(Q.emittedReadable=!1),K===0&&Q.needReadable&&(Q.length>=Q.highWaterMark||Q.ended))return y("read: emitReadable",Q.length,Q.ended),Q.length===0&&Q.ended?rt(this):j(this),null;if(K=L(K,Q),K===0&&Q.ended)return Q.length===0&&rt(this),null;var nt=Q.needReadable;y("need readable",nt),(Q.length===0||Q.length-K<Q.highWaterMark)&&(nt=!0,y("length less than watermark",nt)),Q.ended||Q.reading?(nt=!1,y("reading or ended",nt)):nt&&(y("do read"),Q.reading=!0,Q.sync=!0,Q.length===0&&(Q.needReadable=!0),this._read(Q.highWaterMark),Q.sync=!1,Q.reading||(K=L(ct,Q)));var ot;return K>0?ot=U(K,Q):ot=null,ot===null?(Q.needReadable=!0,K=0):Q.length-=K,Q.length===0&&(Q.ended||(Q.needReadable=!0),ct!==K&&Q.ended&&rt(this)),ot!==null&&this.emit("data",ot),ot};function D(K,Q){if(!Q.ended){if(Q.decoder){var ct=Q.decoder.end();ct&&ct.length&&(Q.buffer.push(ct),Q.length+=Q.objectMode?1:ct.length)}Q.ended=!0,j(K)}}function j(K){var Q=K._readableState;Q.needReadable=!1,Q.emittedReadable||(y("emitReadable",Q.flowing),Q.emittedReadable=!0,Q.sync?l.nextTick(W,K):W(K))}function W(K){y("emit readable"),K.emit("readable"),z(K)}function B(K,Q){Q.readingMore||(Q.readingMore=!0,l.nextTick(F,K,Q))}function F(K,Q){for(var ct=Q.length;!Q.reading&&!Q.flowing&&!Q.ended&&Q.length<Q.highWaterMark&&(y("maybeReadMore read 0"),K.read(0),ct!==Q.length);)ct=Q.length;Q.readingMore=!1}S.prototype._read=function(K){this.emit("error",new Error("_read() is not implemented"))},S.prototype.pipe=function(K,Q){var ct=this,nt=this._readableState;switch(nt.pipesCount){case 0:nt.pipes=K;break;case 1:nt.pipes=[nt.pipes,K];break;default:nt.pipes.push(K);break}nt.pipesCount+=1,y("pipe count=%d opts=%j",nt.pipesCount,Q);var ot=(!Q||Q.end!==!1)&&K!==a.stdout&&K!==a.stderr,yt=ot?dt:kt;nt.endEmitted?l.nextTick(yt):ct.once("end",yt),K.on("unpipe",pt);function pt(vt,Et){y("onunpipe"),vt===ct&&Et&&Et.hasUnpiped===!1&&(Et.hasUnpiped=!0,$())}function dt(){y("onend"),K.end()}var mt=N(ct);K.on("drain",mt);var q=!1;function $(){y("cleanup"),K.removeListener("close",ht),K.removeListener("finish",bt),K.removeListener("drain",mt),K.removeListener("error",ut),K.removeListener("unpipe",pt),ct.removeListener("end",dt),ct.removeListener("end",kt),ct.removeListener("data",lt),q=!0,nt.awaitDrain&&(!K._writableState||K._writableState.needDrain)&&mt()}var J=!1;ct.on("data",lt);function lt(vt){y("ondata"),J=!1;var Et=K.write(vt);Et===!1&&!J&&((nt.pipesCount===1&&nt.pipes===K||nt.pipesCount>1&&tt(nt.pipes,K)!==-1)&&!q&&(y("false write response, pause",ct._readableState.awaitDrain),ct._readableState.awaitDrain++,J=!0),ct.pause())}function ut(vt){y("onerror",vt),kt(),K.removeListener("error",ut),s(K,"error")===0&&K.emit("error",vt)}A(K,"error",ut);function ht(){K.removeListener("finish",bt),kt()}K.once("close",ht);function bt(){y("onfinish"),K.removeListener("close",ht),kt()}K.once("finish",bt);function kt(){y("unpipe"),ct.unpipe(K)}return K.emit("pipe",ct),nt.flowing||(y("pipe resume"),ct.resume()),K};function N(K){return function(){var Q=K._readableState;y("pipeOnDrain",Q.awaitDrain),Q.awaitDrain&&Q.awaitDrain--,Q.awaitDrain===0&&s(K,"data")&&(Q.flowing=!0,z(K))}}S.prototype.unpipe=function(K){var Q=this._readableState,ct={hasUnpiped:!1};if(Q.pipesCount===0)return this;if(Q.pipesCount===1)return K&&K!==Q.pipes?this:(K||(K=Q.pipes),Q.pipes=null,Q.pipesCount=0,Q.flowing=!1,K&&K.emit("unpipe",this,ct),this);if(!K){var nt=Q.pipes,ot=Q.pipesCount;Q.pipes=null,Q.pipesCount=0,Q.flowing=!1;for(var yt=0;yt<ot;yt++)nt[yt].emit("unpipe",this,ct);return this}var pt=tt(Q.pipes,K);return pt===-1?this:(Q.pipes.splice(pt,1),Q.pipesCount-=1,Q.pipesCount===1&&(Q.pipes=Q.pipes[0]),K.emit("unpipe",this,ct),this)},S.prototype.on=function(K,Q){var ct=u.prototype.on.call(this,K,Q);if(K==="data")this._readableState.flowing!==!1&&this.resume();else if(K==="readable"){var nt=this._readableState;!nt.endEmitted&&!nt.readableListening&&(nt.readableListening=nt.needReadable=!0,nt.emittedReadable=!1,nt.reading?nt.length&&j(this):l.nextTick(X,this))}return ct},S.prototype.addListener=S.prototype.on;function X(K){y("readable nexttick read 0"),K.read(0)}S.prototype.resume=function(){var K=this._readableState;return K.flowing||(y("resume"),K.flowing=!0,G(this,K)),this};function G(K,Q){Q.resumeScheduled||(Q.resumeScheduled=!0,l.nextTick(V,K,Q))}function V(K,Q){Q.reading||(y("resume read 0"),K.read(0)),Q.resumeScheduled=!1,Q.awaitDrain=0,K.emit("resume"),z(K),Q.flowing&&!Q.reading&&K.read(0)}S.prototype.pause=function(){return y("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(y("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function z(K){var Q=K._readableState;for(y("flow",Q.flowing);Q.flowing&&K.read()!==null;);}S.prototype.wrap=function(K){var Q=this,ct=this._readableState,nt=!1;K.on("end",function(){if(y("wrapped end"),ct.decoder&&!ct.ended){var pt=ct.decoder.end();pt&&pt.length&&Q.push(pt)}Q.push(null)}),K.on("data",function(pt){if(y("wrapped data"),ct.decoder&&(pt=ct.decoder.write(pt)),!(ct.objectMode&&pt==null)&&!(!ct.objectMode&&(!pt||!pt.length))){var dt=Q.push(pt);dt||(nt=!0,K.pause())}});for(var ot in K)this[ot]===void 0&&typeof K[ot]=="function"&&(this[ot]=function(pt){return function(){return K[pt].apply(K,arguments)}}(ot));for(var yt=0;yt<_.length;yt++)K.on(_[yt],this.emit.bind(this,_[yt]));return this._read=function(pt){y("wrapped _read",pt),nt&&(nt=!1,K.resume())},this},Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),S._fromList=U;function U(K,Q){if(Q.length===0)return null;var ct;return Q.objectMode?ct=Q.buffer.shift():!K||K>=Q.length?(Q.decoder?ct=Q.buffer.join(""):Q.buffer.length===1?ct=Q.buffer.head.data:ct=Q.buffer.concat(Q.length),Q.buffer.clear()):ct=Z(K,Q.buffer,Q.decoder),ct}function Z(K,Q,ct){var nt;return K<Q.head.data.length?(nt=Q.head.data.slice(0,K),Q.head.data=Q.head.data.slice(K)):K===Q.head.data.length?nt=Q.shift():nt=ct?st(K,Q):Y(K,Q),nt}function st(K,Q){var ct=Q.head,nt=1,ot=ct.data;for(K-=ot.length;ct=ct.next;){var yt=ct.data,pt=K>yt.length?yt.length:K;if(pt===yt.length?ot+=yt:ot+=yt.slice(0,K),K-=pt,K===0){pt===yt.length?(++nt,ct.next?Q.head=ct.next:Q.head=Q.tail=null):(Q.head=ct,ct.data=yt.slice(pt));break}++nt}return Q.length-=nt,ot}function Y(K,Q){var ct=c.allocUnsafe(K),nt=Q.head,ot=1;for(nt.data.copy(ct),K-=nt.data.length;nt=nt.next;){var yt=nt.data,pt=K>yt.length?yt.length:K;if(yt.copy(ct,ct.length-K,0,pt),K-=pt,K===0){pt===yt.length?(++ot,nt.next?Q.head=nt.next:Q.head=Q.tail=null):(Q.head=nt,nt.data=yt.slice(pt));break}++ot}return Q.length-=ot,ct}function rt(K){var Q=K._readableState;if(Q.length>0)throw new Error('"endReadable()" called on non-empty stream');Q.endEmitted||(Q.ended=!0,l.nextTick(ft,Q,K))}function ft(K,Q){!K.endEmitted&&K.length===0&&(K.endEmitted=!0,Q.readable=!1,Q.emit("end"))}function tt(K,Q){for(var ct=0,nt=K.length;ct<nt;ct++)if(K[ct]===Q)return ct;return-1}}).call(this,t(27),t(150))},function(f,r,t){f.exports=t(199).EventEmitter},function(f,r,t){var n=t(203);function a(o,s){var u=this,c=this._readableState&&this._readableState.destroyed,m=this._writableState&&this._writableState.destroyed;return c||m?(s?s(o):o&&(!this._writableState||!this._writableState.errorEmitted)&&n.nextTick(e,this,o),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(p){!s&&p?(n.nextTick(e,u,p),u._writableState&&(u._writableState.errorEmitted=!0)):s&&s(p)}),this)}function l(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function e(o,s){o.emit("error",s)}f.exports={destroy:a,undestroy:l}},function(f,r,t){f.exports=e;var n=t(102),a=t(151);a.inherits=t(58),a.inherits(e,n);function l(u,c){var m=this._transformState;m.transforming=!1;var p=m.writecb;if(!p)return this.emit("error",new Error("write callback called multiple times"));m.writechunk=null,m.writecb=null,c!=null&&this.push(c),p(u);var h=this._readableState;h.reading=!1,(h.needReadable||h.length<h.highWaterMark)&&this._read(h.highWaterMark)}function e(u){if(!(this instanceof e))return new e(u);n.call(this,u),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",o)}function o(){var u=this;typeof this._flush=="function"?this._flush(function(c,m){s(u,c,m)}):s(this,null,null)}e.prototype.push=function(u,c){return this._transformState.needTransform=!1,n.prototype.push.call(this,u,c)},e.prototype._transform=function(u,c,m){throw new Error("_transform() is not implemented")},e.prototype._write=function(u,c,m){var p=this._transformState;if(p.writecb=m,p.writechunk=u,p.writeencoding=c,!p.transforming){var h=this._readableState;(p.needTransform||h.needReadable||h.length<h.highWaterMark)&&this._read(h.highWaterMark)}},e.prototype._read=function(u){var c=this._transformState;c.writechunk!==null&&c.writecb&&!c.transforming?(c.transforming=!0,this._transform(c.writechunk,c.writeencoding,c.afterTransform)):c.needTransform=!0},e.prototype._destroy=function(u,c){var m=this;n.prototype._destroy.call(this,u,function(p){c(p),m.emit("close")})};function s(u,c,m){if(c)return u.emit("error",c);if(m!=null&&u.push(m),u._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(u._transformState.transforming)throw new Error("Calling transform done when still transforming");return u.push(null)}},function(f,r,t){var n=t(195),a=t(100),l=t(290),e=t(98),o=t(186),s=t(119),u=Object.prototype,c=u.hasOwnProperty,m=l(function(p,h){if(o(h)||e(h)){a(h,s(h),p);return}for(var v in h)c.call(h,v)&&n(p,v,h[v])});f.exports=m},function(f,r,t){var n=t(100),a=t(290),l=t(121),e=a(function(o,s){n(s,l(s),o)});f.exports=e},function(f,r,t){var n=t(143),a=t(473),l=a?function(e,o){return a.set(e,o),e}:n;f.exports=l},function(f,r,t){var n=t(422),a=n&&new n;f.exports=a},function(f,r,t){var n=t(475),a=t(476),l=t(993),e=t(205),o=t(477),s=t(309),u=t(1008),c=t(206),m=t(41),p=1,h=2,v=8,x=16,y=128,k=512;function T(E,_,A,C,S,P,O,R,I,M){var H=_&y,L=_&p,D=_&h,j=_&(v|x),W=_&k,B=D?void 0:e(E);function F(){for(var N=arguments.length,X=Array(N),G=N;G--;)X[G]=arguments[G];if(j)var V=s(F),z=l(X,V);if(C&&(X=n(X,C,S,j)),P&&(X=a(X,P,O,j)),N-=z,j&&N<M){var U=c(X,V);return o(E,_,T,F.placeholder,A,X,U,R,I,M-N)}var Z=L?A:this,st=D?Z[E]:E;return N=X.length,R?X=u(X,R):W&&N>1&&X.reverse(),H&&I<N&&(X.length=I),this&&this!==m&&this instanceof F&&(st=B||e(st)),st.apply(Z,X)}return F}f.exports=T},function(f,r){var t=Math.max;function n(a,l,e,o){for(var s=-1,u=a.length,c=e.length,m=-1,p=l.length,h=t(u-c,0),v=Array(p+h),x=!o;++m<p;)v[m]=l[m];for(;++s<c;)(x||s<u)&&(v[e[s]]=a[s]);for(;h--;)v[m++]=a[s++];return v}f.exports=n},function(f,r){var t=Math.max;function n(a,l,e,o){for(var s=-1,u=a.length,c=-1,m=e.length,p=-1,h=l.length,v=t(u-m,0),x=Array(v+h),y=!o;++s<v;)x[s]=a[s];for(var k=s;++p<h;)x[k+p]=l[p];for(;++c<m;)(y||s<u)&&(x[k+e[c]]=a[s++]);return x}f.exports=n},function(f,r,t){var n=t(994),a=t(480),l=t(481),e=1,o=2,s=4,u=8,c=32,m=64;function p(h,v,x,y,k,T,E,_,A,C){var S=v&u,P=S?E:void 0,O=S?void 0:E,R=S?T:void 0,I=S?void 0:T;v|=S?c:m,v&=~(S?m:c),v&s||(v&=~(e|o));var M=[h,v,k,R,P,I,O,_,A,C],H=x.apply(void 0,M);return n(h)&&a(H,M),H.placeholder=y,l(H,h,v)}f.exports=p},function(f,r,t){var n=t(473),a=t(995),l=n?function(e){return n.get(e)}:a;f.exports=l},function(f,r,t){var n=t(197),a=t(308);function l(e,o){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=void 0}l.prototype=n(a.prototype),l.prototype.constructor=l,f.exports=l},function(f,r,t){var n=t(472),a=t(434),l=a(n);f.exports=l},function(f,r,t){var n=t(1e3),a=t(1001),l=t(293),e=t(1002);function o(s,u,c){var m=u+"";return l(s,a(m,e(n(m),c)))}f.exports=o},function(f,r,t){var n=t(291),a=t(120),l=t(294),e=t(121),o=Object.prototype,s=o.hasOwnProperty,u=n(function(c,m){c=Object(c);var p=-1,h=m.length,v=h>2?m[2]:void 0;for(v&&l(m[0],m[1],v)&&(h=1);++p<h;)for(var x=m[p],y=e(x),k=-1,T=y.length;++k<T;){var E=y[k],_=c[E];(_===void 0||a(_,o[E])&&!s.call(c,E))&&(c[E]=x[E])}return c});f.exports=u},function(f,r,t){f.exports=k;var n=t(311),a=t(101),l=a.findOne,e=a.findAll,o=a.getChildren,s=a.removeSubsets,u=t(153).falseFunc,c=t(1017),m=c.compileUnsafe,p=c.compileToken;function h(T){return function(E,_,A){return typeof E!="function"&&(E=m(E,A,_)),Array.isArray(_)?_=s(_):_=o(_),T(E,_)}}var v=h(function(T,E){return T===u||!E||E.length===0?[]:e(T,E)}),x=h(function(T,E){return T===u||!E||E.length===0?null:l(T,E)});function y(T,E,_){return(typeof E=="function"?E:c(E,_))(T)}function k(T,E,_){return v(T,E,_)}k.compile=c,k.filters=n.filters,k.pseudos=n.pseudos,k.selectAll=v,k.selectOne=x,k.is=y,k.parse=c,k.iterate=v,k._compileUnsafe=m,k._compileToken=p},function(f,r,t){var n=t(101),a=n.hasAttrib,l=n.getAttributeValue,e=t(153).falseFunc,o=/[-[\]{}()*+?.,\\^$|#\s]/g,s={__proto__:null,equals:function(u,c){var m=c.name,p=c.value;return c.ignoreCase?(p=p.toLowerCase(),function(h){var v=l(h,m);return v!=null&&v.toLowerCase()===p&&u(h)}):function(h){return l(h,m)===p&&u(h)}},hyphen:function(u,c){var m=c.name,p=c.value,h=p.length;return c.ignoreCase?(p=p.toLowerCase(),function(v){var x=l(v,m);return x!=null&&(x.length===h||x.charAt(h)==="-")&&x.substr(0,h).toLowerCase()===p&&u(v)}):function(v){var x=l(v,m);return x!=null&&x.substr(0,h)===p&&(x.length===h||x.charAt(h)==="-")&&u(v)}},element:function(u,c){var m=c.name,p=c.value;if(/\s/.test(p))return e;p=p.replace(o,"\\$&");var h="(?:^|\\s)"+p+"(?:$|\\s)",v=c.ignoreCase?"i":"",x=new RegExp(h,v);return function(y){var k=l(y,m);return k!=null&&x.test(k)&&u(y)}},exists:function(u,c){var m=c.name;return function(p){return a(p,m)&&u(p)}},start:function(u,c){var m=c.name,p=c.value,h=p.length;return h===0?e:c.ignoreCase?(p=p.toLowerCase(),function(v){var x=l(v,m);return x!=null&&x.substr(0,h).toLowerCase()===p&&u(v)}):function(v){var x=l(v,m);return x!=null&&x.substr(0,h)===p&&u(v)}},end:function(u,c){var m=c.name,p=c.value,h=-p.length;return h===0?e:c.ignoreCase?(p=p.toLowerCase(),function(v){var x=l(v,m);return x!=null&&x.substr(h).toLowerCase()===p&&u(v)}):function(v){var x=l(v,m);return x!=null&&x.substr(h)===p&&u(v)}},any:function(u,c){var m=c.name,p=c.value;if(p==="")return e;if(c.ignoreCase){var h=new RegExp(p.replace(o,"\\$&"),"i");return function(v){var x=l(v,m);return x!=null&&h.test(x)&&u(v)}}return function(v){var x=l(v,m);return x!=null&&x.indexOf(p)>=0&&u(v)}},not:function(u,c){var m=c.name,p=c.value;return p===""?function(h){return!!l(h,m)&&u(h)}:c.ignoreCase?(p=p.toLowerCase(),function(h){var v=l(h,m);return v!=null&&v.toLowerCase()!==p&&u(h)}):function(h){return l(h,m)!==p&&u(h)}}};f.exports={compile:function(u,c,m){if(m&&m.strict&&(c.ignoreCase||c.action==="not"))throw SyntaxError("Unsupported attribute selector");return s[c.action](u,c)},rules:s}},function(f){f.exports={universal:50,tag:30,attribute:1,pseudo:0,descendant:-1,child:-1,parent:-1,sibling:-1,adjacent:-1}},function(f,r,t){var n=t(146);function a(l,e){var o=[];return n(l,function(s,u,c){e(s,u,c)&&o.push(s)}),o}f.exports=a},function(f,r,t){var n=t(1031);function a(l){var e=l==null?0:l.length;return e?n(l,1):[]}f.exports=a},function(f,r,t){var n=t(1041),a=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,l=function e(o,s,u,c,m){for(var p=c,h=0;h<u;){var v=n.ToString(h),x=n.HasProperty(s,v);if(x){var y=n.Get(s,v),k=!1;if(m>0&&(k=n.IsArray(y)),k){var T=n.ToLength(n.Get(y,"length"));p=e(o,y,T,p,m-1)}else{if(p>=a)throw new TypeError("index too large");n.CreateDataPropertyOrThrow(o,n.ToString(p),y),p+=1}}h+=1}return p};f.exports=function(){var e=n.ToObject(this),o=n.ToLength(n.Get(e,"length")),s=1;arguments.length>0&&typeof arguments[0]<"u"&&(s=n.ToInteger(arguments[0]));var u=n.ArraySpeciesCreate(e,0);return l(u,e,o,0,s),u}},function(f,r,t){var n=t(1042),a=t(312),l=a(a({},n),{SameValueNonNumber:function(e,o){if(typeof e=="number"||typeof e!=typeof o)throw new TypeError("SameValueNonNumber requires two non-number values of the same type.");return this.SameValue(e,o)}});f.exports=l},function(f,r){f.exports=function(t){return t===null||typeof t!="function"&&typeof t!="object"}},function(f,r,t){var n=t(207),a=n("%TypeError%"),l=n("%SyntaxError%"),e=t(59),o={"Property Descriptor":function(s,u){if(s.Type(u)!=="Object")return!1;var c={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var m in u)if(e(u,m)&&!c[m])return!1;var p=e(u,"[[Value]]"),h=e(u,"[[Get]]")||e(u,"[[Set]]");if(p&&h)throw new a("Property Descriptors may not be both accessor and data descriptors");return!0}};f.exports=function(s,u,c,m){var p=o[u];if(typeof p!="function")throw new l("unknown record type: "+u);if(!p(s,m))throw new a(c+" must be a "+u);console.log(p(s,m),m)}},function(f,r){f.exports=Number.isNaN||function(t){return t!==t}},function(f,r){var t=Number.isNaN||function(n){return n!==n};f.exports=Number.isFinite||function(n){return typeof n=="number"&&!t(n)&&n!==1/0&&n!==-1/0}},function(f,r){f.exports=function(t){return t>=0?1:-1}},function(f,r){f.exports=function(t,n){var a=t%n;return Math.floor(a>=0?a:a+n)}},function(f,r,t){var n=t(207),a=n("%Object%"),l=n("%TypeError%"),e=n("%String%"),o=t(491),s=t(492),u=t(493),c=t(494),m=t(495),p=t(155),h=t(1049),v=t(59),x={ToPrimitive:h,ToBoolean:function(y){return!!y},ToNumber:function(y){return+y},ToInteger:function(y){var k=this.ToNumber(y);return s(k)?0:k===0||!u(k)?k:c(k)*Math.floor(Math.abs(k))},ToInt32:function(y){return this.ToNumber(y)>>0},ToUint32:function(y){return this.ToNumber(y)>>>0},ToUint16:function(y){var k=this.ToNumber(y);if(s(k)||k===0||!u(k))return 0;var T=c(k)*Math.floor(Math.abs(k));return m(T,65536)},ToString:function(y){return e(y)},ToObject:function(y){return this.CheckObjectCoercible(y),a(y)},CheckObjectCoercible:function(y,k){if(y==null)throw new l(k||"Cannot call method on "+y);return y},IsCallable:p,SameValue:function(y,k){return y===k?y===0?1/y===1/k:!0:s(y)&&s(k)},Type:function(y){if(y===null)return"Null";if(typeof y>"u")return"Undefined";if(typeof y=="function"||typeof y=="object")return"Object";if(typeof y=="number")return"Number";if(typeof y=="boolean")return"Boolean";if(typeof y=="string")return"String"},IsPropertyDescriptor:function(y){if(this.Type(y)!=="Object")return!1;var k={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var T in y)if(v(y,T)&&!k[T])return!1;var E=v(y,"[[Value]]"),_=v(y,"[[Get]]")||v(y,"[[Set]]");if(E&&_)throw new l("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function(y){return!(typeof y>"u"||(o(this,"Property Descriptor","Desc",y),!v(y,"[[Get]]")&&!v(y,"[[Set]]")))},IsDataDescriptor:function(y){return!(typeof y>"u"||(o(this,"Property Descriptor","Desc",y),!v(y,"[[Value]]")&&!v(y,"[[Writable]]")))},IsGenericDescriptor:function(y){return typeof y>"u"?!1:(o(this,"Property Descriptor","Desc",y),!this.IsAccessorDescriptor(y)&&!this.IsDataDescriptor(y))},FromPropertyDescriptor:function(y){if(typeof y>"u")return y;if(o(this,"Property Descriptor","Desc",y),this.IsDataDescriptor(y))return{value:y["[[Value]]"],writable:!!y["[[Writable]]"],enumerable:!!y["[[Enumerable]]"],configurable:!!y["[[Configurable]]"]};if(this.IsAccessorDescriptor(y))return{get:y["[[Get]]"],set:y["[[Set]]"],enumerable:!!y["[[Enumerable]]"],configurable:!!y["[[Configurable]]"]};throw new l("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function(y){if(this.Type(y)!=="Object")throw new l("ToPropertyDescriptor requires an object");var k={};if(v(y,"enumerable")&&(k["[[Enumerable]]"]=this.ToBoolean(y.enumerable)),v(y,"configurable")&&(k["[[Configurable]]"]=this.ToBoolean(y.configurable)),v(y,"value")&&(k["[[Value]]"]=y.value),v(y,"writable")&&(k["[[Writable]]"]=this.ToBoolean(y.writable)),v(y,"get")){var T=y.get;if(typeof T<"u"&&!this.IsCallable(T))throw new TypeError("getter must be a function");k["[[Get]]"]=T}if(v(y,"set")){var E=y.set;if(typeof E<"u"&&!this.IsCallable(E))throw new l("setter must be a function");k["[[Set]]"]=E}if((v(k,"[[Get]]")||v(k,"[[Set]]"))&&(v(k,"[[Value]]")||v(k,"[[Writable]]")))throw new l("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return k}};f.exports=x},function(f,r,t){var n=t(59),a=RegExp.prototype.exec,l=Object.getOwnPropertyDescriptor,e=function(c){try{var m=c.lastIndex;return c.lastIndex=0,a.call(c),!0}catch{return!1}finally{c.lastIndex=m}},o=Object.prototype.toString,s="[object RegExp]",u=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol";f.exports=function(c){if(!c||typeof c!="object")return!1;if(!u)return o.call(c)===s;var m=l(c,"lastIndex"),p=m&&n(m,"value");return p?e(c):!1}},function(f,r,t){var n=t(488);f.exports=function(){return Array.prototype.flat||n}},function(f,r,t){var n=function(a){return a!==a};f.exports=function(a,l){return a===0&&l===0?1/a===1/l:a===l?!0:!!(n(a)&&n(l))}},function(f,r,t){var n=t(52),a=t(501),l=t(503),e=t(1052),o=l();n(o,{getPolyfill:l,implementation:a,shim:e}),f.exports=o},function(f,r,t){var n=t(502),a=t(59),l=t(53),e=l.call(Function.call,Object.prototype.propertyIsEnumerable);f.exports=function(o){var s=n.RequireObjectCoercible(o),u=[];for(var c in s)a(s,c)&&e(s,c)&&u.push([c,s[c]]);return u}},function(f,r,t){f.exports=t(489)},function(f,r,t){var n=t(501);f.exports=function(){return typeof Object.entries=="function"?Object.entries:n}},function(f,r,t){var n=t(155),a=t(505),l=t(53),e=l.call(Function.call,Function.prototype.toString),o=l.call(Function.call,String.prototype.match),s=/^class /,u=function(p){if(n(p)||typeof p!="function")return!1;try{var h=o(e(p),s);return!!h}catch{}return!1},c=/\s*function\s+([^(\s]*)\s*/,m=Function.prototype;f.exports=function(){if(!u(this)&&!n(this))throw new TypeError("Function.prototype.name sham getter called on non-function");if(a)return this.name;if(this===m)return"";var p=e(this),h=o(p,c),v=h&&h[1];return v}},function(f,r){f.exports=typeof(function(){}).name=="string"},function(f,r,t){var n=t(504);f.exports=function(){return n}},function(f,r,t){var n=t(53),a=t(496),l=n.call(Function.call,String.prototype.replace),e=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,o=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;f.exports=function(){var s=a.ToString(a.CheckObjectCoercible(this));return l(l(s,e,""),o,"")}},function(f,r,t){var n=t(507),a="​";f.exports=function(){return String.prototype.trim&&a.trim()===a?String.prototype.trim:n}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.default=e;var n=t(510),a=l(n);function l(o){return o&&o.__esModule?o:{default:o}}function e(o){if(!o)throw new Error(`
      Enzyme Internal Error: Enzyme expects an adapter to be configured, but found none.
      To configure an adapter, you should call \`Enzyme.configure({ adapter: new Adapter() })\`
      before using any of Enzyme's top level APIs, where \`Adapter\` is the adapter
      corresponding to the library currently being tested. For example:

      import Adapter from 'enzyme-adapter-react-15';

      To find out more about this, see http://airbnb.io/enzyme/docs/installation/index.html
    `);if(typeof o=="function")throw Object.getPrototypeOf(o)===a.default?new Error(`
        Enzyme Internal Error: Enzyme expects an adapter instance to be configured -
        you provided an adapter *constructor*.
        To configure an adapter, you should call \`Enzyme.configure({ adapter: new Adapter() })\`
        before using any of Enzyme's top level APIs, where \`Adapter\` is the adapter
        corresponding to the library currently being tested. For example:

        import Adapter from 'enzyme-adapter-react-15';

        To find out more about this, see http://airbnb.io/enzyme/docs/installation/index.html
      `):new Error(`
      Enzyme Internal Error: Enzyme expects an adapter to be configured -
      an enzyme adapter must be an object instance; you provided a function.
      To configure an adapter, you should call \`Enzyme.configure({ adapter: new Adapter() })\`
      before using any of Enzyme's top level APIs, where \`Adapter\` is the adapter
      corresponding to the library currently being tested. For example:

      import Adapter from 'enzyme-adapter-react-15';

      To find out more about this, see http://airbnb.io/enzyme/docs/installation/index.html
    `);if(!(o instanceof a.default))throw new Error("Enzyme Internal Error: configured enzyme adapter did not inherit from the EnzymeAdapter base class")}},function(f,r,t){var n=function(){function o(s,u){for(var c=0;c<u.length;c++){var m=u[c];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(s,m.key,m)}}return function(s,u,c){return u&&o(s.prototype,u),c&&o(s,c),s}}();function a(o,s){if(!(o instanceof s))throw new TypeError("Cannot call a class as a function")}function l(o,s){return new Error(String(o)+" is a required method of "+String(s)+", but was not implemented.")}var e=function(){function o(){a(this,o),this.options={}}return n(o,[{key:"createRenderer",value:function(){function s(u){throw l("createRenderer","EnzymeAdapter")}return s}()},{key:"nodeToElement",value:function(){function s(u){throw l("nodeToElement","EnzymeAdapter")}return s}()},{key:"isValidElement",value:function(){function s(u){throw l("isValidElement","EnzymeAdapter")}return s}()},{key:"createElement",value:function(){function s(u,c){throw l("createElement","EnzymeAdapter")}return s}()},{key:"invokeSetStateCallback",value:function(){function s(u,c){c.call(u)}return s}()}]),o}();e.MODES={STRING:"string",MOUNT:"mount",SHALLOW:"shallow"},f.exports=e},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B};r.typeName=O,r.spaces=R,r.indent=I,r.debugNode=j,r.debugNodes=W;var a=t(1057),l=S(a),e=t(314),o=S(e),s=t(1058),u=S(s),c=t(1059),m=S(c),p=t(155),h=S(p),v=t(1060),x=S(v),y=t(1061),k=S(y),T=t(59),E=S(T),_=t(156),A=t(103),C=S(A);function S(B){return B&&B.__esModule?B:{default:B}}var P=Function.bind.call(Function.call,Boolean.prototype.valueOf);function O(B){var F=(0,C.default)();return F.displayNameOfNode?(0,C.default)().displayNameOfNode(B)||"Component":typeof B.type=="function"?B.type.displayName||(0,o.default)(B.type)||"Component":B.type}function R(B){return Array(B+1).join(" ")}function I(B,F){return F.split(`
`).map(function(N){return""+String(R(B))+String(N)}).join(`
`)}function M(B,F){return(0,u.default)(B)?(0,k.default)(String(B),{quoteStyle:"double"}):(0,m.default)(B)?"{"+String((0,k.default)(Number(B)))+"}":(0,x.default)(B)?"{"+String((0,k.default)(P(B)))+"}":(0,h.default)(B)?"{"+String((0,k.default)(B))+"}":(typeof B>"u"?"undefined":n(B))==="object"?F.verbose?"{"+String((0,k.default)(B))+"}":"{{...}}":"{["+(typeof B>"u"?"undefined":n(B))+"]}"}function H(B,F){var N=(0,_.propsOfNode)(B),X=Object.keys(N).filter(function(G){return G!=="children"});return X.map(function(G){return String(G)+"="+String(M(N[G],F))}).join(" ")}function L(B,F){return B.length?`
`+String(B.map(function(N){return I(F,N)}).join(`
`))+`
`:""}function D(B){return(0,E.default)(B,"nodeType")&&typeof B.nodeType=="string"&&(0,E.default)(B,"type")&&(0,E.default)(B,"key")&&(0,E.default)(B,"ref")&&(0,E.default)(B,"instance")&&(0,E.default)(B,"rendered")}function j(B){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof B=="string"||typeof B=="number")return(0,l.default)(B);if(typeof B=="function"){var X=(0,o.default)(B);return"[function"+(X?" "+String(X):"")+"]"}if(!B)return"";var G=(0,C.default)();if(!G.isValidElement(B)&&!D(B))return"{"+String((0,k.default)(B))+"}";var V=(0,_.childrenOfNode)(B).map(function(ft){return j(ft,F,N)}).filter(Boolean),z=O(B),U=N.ignoreProps?"":H(B,N),Z=U?" ":"",st=V.length?">":" ",Y=L(V,F),rt=V.length?"</"+String(z)+">":"/>";return"<"+String(z)+Z+String(U)+st+String(Y)+rt}function W(B){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return B.map(function(N){return j(N,void 0,F)}).join(`


`)}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},a=function(){function q($,J){var lt=[],ut=!0,ht=!1,bt=void 0;try{for(var kt=$[Symbol.iterator](),vt;!(ut=(vt=kt.next()).done)&&(lt.push(vt.value),!(J&&lt.length===J));ut=!0);}catch(Et){ht=!0,bt=Et}finally{try{!ut&&kt.return&&kt.return()}finally{if(ht)throw bt}}return lt}return function($,J){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return q($,J);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();r.buildPredicate=ct,r.reduceTreeBySelector=dt,r.reduceTreesBySelector=mt;var l=t(1063),e=t(1069),o=_(e),s=t(154),u=_(s),c=t(499),m=_(c),p=t(59),h=_(p),v=t(1071),x=_(v),y=t(156),k=t(313),T=t(103),E=_(T);function _(q){return q&&q.__esModule?q:{default:q}}function A(q){if(Array.isArray(q)){for(var $=0,J=Array(q.length);$<q.length;$++)J[$]=q[$];return J}else return Array.from(q)}var C=(0,l.createParser)(),S="childCombinator",P="adjacentSiblingCombinator",O="generalSiblingCombinator",R="descendantCombinator",I="selector",M="typeSelector",H="classSelector",L="idSelector",D="universalSelector",j="attributePresenceSelector",W="attributeValueSelector",B="pseudoClassSelector",F="pseudoElementSelector",N="=",X="~=",G="|=",V="^=",z="$=",U="*=";function Z(q){return[].concat(A(new Set(q)))}function st(q,$){return Z($.reduce(q,[]))}function Y(q){try{return C.parse(q)}catch{throw new Error("Failed to parse selector: "+String(q))}}function rt(q,$){var J=$.operator,lt=$.value,ut=$.name,ht=(0,k.propsOfNode)(q),bt=Object.getOwnPropertyDescriptor(ht,ut);if(bt&&bt.get)return!1;var kt=ht[ut];if(typeof kt>"u")return!1;if($.type===j)return(0,h.default)(ht,$.name);if((typeof kt!="string"||typeof lt!="string")&&J!==N)return!1;switch(J){case N:return(0,m.default)(kt,lt);case X:return kt.split(" ").indexOf(lt)!==-1;case G:return kt===lt||kt.startsWith(String(lt)+"-");case V:return lt===""?!1:kt.slice(0,lt.length)===lt;case z:return lt===""?!1:kt.slice(-lt.length)===lt;case U:return lt===""?!1:kt.indexOf(lt)!==-1;default:throw new Error('Enzyme::Selector: Unknown attribute selector operator "'+String(J)+'"')}}function ft(q,$,J){var lt=$.name,ut=$.parameters;if(lt==="not")return ut.every(function(ee){return dt(ee,q).length===0});if(lt==="empty")return(0,y.treeFilter)(q,function(ee){return ee!==q}).length===0;if(lt==="first-child"){var ht=(0,y.findParentNode)(J,q),bt=ht.rendered,kt=a(bt,1),vt=kt[0];return vt===q}if(lt==="last-child"){var Et=(0,y.findParentNode)(J,q),Rt=Et.rendered;return Rt[Rt.length-1]===q}if(lt==="focus"){if(typeof document>"u")throw new Error('Enzyme::Selector does not support the ":focus" pseudo-element without a global `document`.');var Vt=(0,E.default)();return document.activeElement&&Vt.nodeToHostNode(q)===document.activeElement}throw new TypeError('Enzyme::Selector does not support the "'+String($.name)+'" pseudo-element or pseudo-class selectors.')}function tt(q,$,J){if(q===null||typeof q=="string")return!1;switch($.type){case D:return!0;case H:return(0,y.hasClassName)(q,$.name);case M:return(0,k.nodeHasType)(q,$.name);case L:return(0,y.nodeHasId)(q,$.name);case j:return rt(q,$);case W:return rt(q,$);case F:case B:return ft(q,$,J);default:throw new Error("Unknown token type: "+String($.type))}}function K(q,$){return function(J){return q.body.every(function(lt){return tt(J,lt,$)})}}function Q(q){return q.some(function($){return $.type!==I})}function ct(q){if(typeof q=="string"){var $=Y(q);if(Q($))throw new TypeError("This method does not support complex CSS selectors");return K($[0])}var J=(0,E.default)(),lt=J.isValidElementType?J.isValidElementType(q):typeof q=="function";if(lt)return function(ht){return ht&&ht.type===q};if((typeof q>"u"?"undefined":n(q))==="object"){if(!Array.isArray(q)&&q!==null&&Object.keys(q).length>0){var ut=(0,o.default)(q).some(function(ht){return typeof ht>"u"});if(ut)throw new TypeError("Enzyme::Props can’t have `undefined` values. Try using ‘findWhere()’ instead.");return function(ht){return(0,y.nodeMatchesObjectProps)(ht,q)}}throw new TypeError("Enzyme::Selector does not support an array, null, or empty object as a selector")}throw new TypeError("Enzyme::Selector expects a string, object, or valid element type (Component Constructor)")}function nt(q,$,J){return q.reduce(function(lt,ut){var ht=(0,y.findParentNode)(J,ut);if(!ht)return lt;var bt=(0,y.childrenOfNode)(ht),kt=bt.indexOf(ut),vt=bt[kt+1];return vt&&$(vt)&&lt.push(vt),lt},[])}function ot(q,$,J){return st(function(lt,ut){var ht=(0,y.findParentNode)(J,ut);if(!ht)return lt;var bt=(0,y.childrenOfNode)(ht),kt=bt.indexOf(ut),vt=bt.slice(kt+1);return lt.concat(vt.filter($))},q)}function yt(q,$){return st(function(J,lt){return J.concat((0,y.childrenOfNode)(lt).filter($))},q)}function pt(q,$){return st(function(J,lt){return J.concat((0,y.treeFilter)(lt,$))},(0,u.default)(q.map(y.childrenOfNode)))}function dt(q,$){if(typeof q!="string"){var J=(0,x.default)(q);if(J.length>0)return(0,u.default)(J.map(function(Rt){return dt(Rt.tag,$)}))}if(typeof q=="function"||(typeof q>"u"?"undefined":n(q))==="object")return(0,y.treeFilter)($,ct(q));var lt=[];if(typeof q=="string")for(var ut=Y(q),ht=0;ht<ut.length;){var bt=ut[ht];if(bt.type===I){var kt=K(bt,$);lt=lt.concat((0,y.treeFilter)($,kt))}else{var vt=bt.type;ht+=1;var Et=K(ut[ht],$);switch(vt){case P:lt=nt(lt,Et,$);break;case O:lt=ot(lt,Et,$);break;case S:lt=yt(lt,Et);break;case R:{lt=pt(lt,Et);break}default:throw new Error("Unknown combinator selector: "+String(vt))}}ht+=1}else throw new TypeError("Enzyme::Selector expects a string, object, or Component Constructor");return lt}function mt(q,$){var J=$.map(function(lt){return dt(q,lt)});return Z((0,u.default)(J,1))}},function(f,r,t){var n=t(502),a=t(59),l=t(53),e=l.call(Function.call,Object.prototype.propertyIsEnumerable);f.exports=function(o){var s=n.RequireObjectCoercible(o),u=[];for(var c in s)a(s,c)&&e(s,c)&&u.push(s[c]);return u}},function(f,r,t){var n=t(513);f.exports=function(){return typeof Object.values=="function"?Object.values:n}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function tt(K,Q){for(var ct=0;ct<Q.length;ct++){var nt=Q[ct];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(K,nt.key,nt)}}return function(K,Q,ct){return Q&&tt(K.prototype,Q),ct&&tt(K,ct),K}}(),a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},l=t(122),e=E(l),o=t(154),s=E(o),u=t(296),c=E(u),m=t(59),p=E(m),h=t(313),v=t(103),x=E(v),y=t(511),k=t(156),T=t(512);function E(tt){return tt&&tt.__esModule?tt:{default:tt}}function _(tt,K,Q){return K in tt?Object.defineProperty(tt,K,{value:Q,enumerable:!0,configurable:!0,writable:!0}):tt[K]=Q,tt}function A(tt){if(Array.isArray(tt)){for(var K=0,Q=Array(tt.length);K<tt.length;K++)Q[K]=tt[K];return Q}else return Array.from(tt)}function C(tt,K){if(!(tt instanceof K))throw new TypeError("Cannot call a class as a function")}var S=(0,h.sym)("__node__"),P=(0,h.sym)("__nodes__"),O=(0,h.sym)("__renderer__"),R=(0,h.sym)("__unrendered__"),I=(0,h.sym)("__root__"),M=(0,h.sym)("__options__"),H=(0,h.sym)("__setState__"),L=(0,h.sym)("__rootNodes__"),D=(0,h.sym)("__childContext__");function j(tt,K){var Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:k.treeFilter;return tt.flatMap(function(ct){return Q(ct.getNodeInternal(),K)})}function W(tt,K){return tt.wrap(tt.getNodesInternal().filter(K).filter(Boolean))}function B(tt){var K=tt.lifecycleExperimental,Q=tt.disableLifecycleMethods,ct=tt.enableComponentDidUpdateOnSetState,nt=tt.supportPrevContextArgumentOfComponentDidUpdate,ot=tt.lifecycles;if(typeof K<"u"&&typeof K!="boolean")throw new Error("lifecycleExperimental must be either true or false if provided");if(typeof Q<"u"&&typeof Q!="boolean")throw new Error("disableLifecycleMethods must be either true or false if provided");if(K!=null&&Q!=null&&K===Q)throw new Error("lifecycleExperimental and disableLifecycleMethods cannot be set to the same value");if(typeof ct<"u"&&ot.componentDidUpdate&&ot.componentDidUpdate.onSetState!==ct)throw new TypeError("the legacy enableComponentDidUpdateOnSetState option should be matched by `lifecycles: { componentDidUpdate: { onSetState: true } }`, for compatibility");if(typeof nt<"u"&&ot.componentDidUpdate&&ot.componentDidUpdate.prevContext!==nt)throw new TypeError("the legacy supportPrevContextArgumentOfComponentDidUpdate option should be matched by `lifecycles: { componentDidUpdate: { prevContext: true } }`, for compatibility")}function F(tt){var K=tt.options,Q=K.lifecycles,ct=Q===void 0?{}:Q,nt=K.enableComponentDidUpdateOnSetState,ot=K.supportPrevContextArgumentOfComponentDidUpdate,yt=typeof nt<"u",pt=typeof ot<"u",dt=yt||pt?(0,e.default)({},yt&&{onSetState:!!nt},pt&&{prevContext:!!ot}):null;return(0,e.default)({},ct,{setState:(0,e.default)({},ct.setState),getChildContext:(0,e.default)({calledByRenderer:!0},ct.getChildContext)},dt&&{componentDidUpdate:dt})}function N(tt){return tt.nodeType==="host"?tt:tt.rendered}function X(tt){if(tt[I].length!==1)throw new Error("getRootNodeInternal(wrapper) can only be called when wrapper wraps one node");return tt[I]!==tt?tt[L][0]:tt[I][S]}function G(tt,K){return(0,k.parentsOfNode)(K,X(tt))}function V(tt,K){Array.isArray(K)?((0,h.privateSet)(tt,S,K[0]),(0,h.privateSet)(tt,P,K)):((0,h.privateSet)(tt,S,K),(0,h.privateSet)(tt,P,[K])),(0,h.privateSet)(tt,"length",tt[P].length)}function z(tt,K,Q,ct){return!(0,h.shallowEqual)(tt,K)||!(0,h.shallowEqual)(Q,ct)}function U(tt){return tt&&tt.isPureReactComponent}function Z(tt,K,Q){var ct=tt.instance,nt=tt.type,ot=(0,h.displayNameOfNode)(tt);if(a(nt.childContextTypes)!=="object")return console.warn(String(ot)+".getChildContext(): childContextTypes must be defined in order to use getChildContext()."),{};var yt=ct.getChildContext();return Object.keys(yt).forEach(function(pt){if(!(pt in nt.childContextTypes))throw new Error(String(ot)+'.getChildContext(): key "'+String(pt)+'" is not defined in childContextTypes.')}),typeof Q.checkPropTypes=="function"&&Q.checkPropTypes(nt.childContextTypes,yt,"child context",K),yt}function st(tt,K){return!(0,h.isCustomComponentElement)(tt,K)||!tt.type.prototype||typeof tt.type.prototype.getChildContext!="function"?null:(0,h.spyMethod)(tt.type.prototype,"getChildContext")}function Y(tt,K,Q,ct,nt){var ot=K[O];if(tt.options.legacyContextMode==="parent")if(nt)(0,h.privateSet)(K,D,nt.getLastReturnValue()),nt.restore();else if(typeof Q.getChildContext=="function"){var yt=[K[S]].concat(G(K,K[S])),pt=Z(ct,yt,ot);(0,h.privateSet)(K,D,pt)}else(0,h.privateSet)(K,D,null)}var rt=function(){function tt(K,Q){var ct=this,nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};C(this,tt),B(nt);var ot=(0,h.makeOptions)(nt),yt=(0,x.default)(ot),pt=F(yt);if(Q)(0,h.privateSet)(this,I,Q),(0,h.privateSet)(this,R,null),(0,h.privateSet)(this,O,Q[O]),V(this,K),(0,h.privateSet)(this,M,Q[M]),(0,h.privateSet)(this,L,Q[P]);else{if(!yt.isValidElement(K))throw new TypeError("ShallowWrapper can only wrap valid elements");var dt=pt.getChildContext.calledByRenderer?st(K,yt):null;(0,h.privateSet)(this,I,this),(0,h.privateSet)(this,R,K);var mt=yt.createRenderer((0,e.default)({mode:"shallow"},ot));(0,h.privateSet)(this,O,mt),this[O].render(K,ot.context);var q=this[O].getNode();V(this,N(q)),(0,h.privateSet)(this,M,ot);var $=q.instance;$&&!ot.disableLifecycleMethods&&(pt.componentDidUpdate.onSetState&&!$[H]&&((0,h.privateSet)($,H,$.setState),$.setState=function(J){var lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;return ct.setState.apply(ct,A(lt==null?[J]:[J,lt]))}),typeof $.componentDidMount=="function"&&this[O].batchedUpdates(function(){$.componentDidMount()}),Y(yt,this,$,q,dt))}}return n(tt,[{key:"root",value:function(){function K(){return this[I]}return K}()},{key:"getNodeInternal",value:function(){function K(){if(this.length!==1)throw new Error("ShallowWrapper::getNode() can only be called when wrapping one node");return this[I]===this&&this.update(),this[S]}return K}()},{key:"getNodesInternal",value:function(){function K(){return this[I]===this&&this.length===1&&this.update(),this[P]}return K}()},{key:"getElement",value:function(){function K(){var Q=this;return this.single("getElement",function(ct){return(0,x.default)(Q[M]).nodeToElement(ct)})}return K}()},{key:"getElements",value:function(){function K(){return this.getNodesInternal().map((0,x.default)(this[M]).nodeToElement)}return K}()},{key:"getNode",value:function(){function K(){throw new Error("ShallowWrapper::getNode() is no longer supported. Use ShallowWrapper::getElement() instead")}return K}()},{key:"getNodes",value:function(){function K(){throw new Error("ShallowWrapper::getNodes() is no longer supported. Use ShallowWrapper::getElements() instead")}return K}()},{key:"instance",value:function(){function K(){if(this[I]!==this)throw new Error("ShallowWrapper::instance() can only be called on the root");return this[O].getNode().instance}return K}()},{key:"update",value:function(){function K(){if(this[I]!==this)throw new Error("ShallowWrapper::update() can only be called on the root");if(this.length!==1)throw new Error("ShallowWrapper::update() can only be called when wrapping one node");return V(this,N(this[O].getNode())),this}return K}()},{key:"unmount",value:function(){function K(){return this[O].unmount(),this}return K}()},{key:"rerender",value:function(){function K(Q,ct){var nt=this,ot=(0,x.default)(this[M]);return this.single("rerender",function(){(0,h.withSetStateAllowed)(function(){var yt=nt[O].getNode(),pt=yt.instance||{},dt=pt.state,mt=pt.props||nt[R].props,q=pt.context||nt[M].context,$=ct||q;ct&&(nt[M]=(0,e.default)({},nt[M],{context:$})),nt[O].batchedUpdates(function(){var J=F(ot),lt=!0,ut=void 0,ht=void 0;if(!nt[M].disableLifecycleMethods&&pt&&(typeof pt.shouldComponentUpdate=="function"&&(ut=(0,h.spyMethod)(pt,"shouldComponentUpdate")),J.getChildContext.calledByRenderer&&typeof pt.getChildContext=="function"&&(ht=(0,h.spyMethod)(pt,"getChildContext"))),!ut&&U(pt)&&(lt=z(mt,Q,dt,pt.state)),Q&&(nt[R]=(0,h.cloneElement)(ot,nt[R],Q)),nt[O].render(nt[R],$),ut&&(lt=ut.getLastReturnValue(),ut.restore()),lt&&!nt[M].disableLifecycleMethods&&pt)if(Y(ot,nt,pt,yt,ht),J.getSnapshotBeforeUpdate){var bt=void 0;typeof pt.getSnapshotBeforeUpdate=="function"&&(bt=pt.getSnapshotBeforeUpdate(mt,dt)),J.componentDidUpdate&&typeof pt.componentDidUpdate=="function"&&(!dt||(0,h.shallowEqual)(dt,nt.instance().state))&&pt.componentDidUpdate(mt,dt,bt)}else J.componentDidUpdate&&typeof pt.componentDidUpdate=="function"&&(J.componentDidUpdate.prevContext?pt.componentDidUpdate(mt,dt,q):(!dt||(0,h.shallowEqual)(nt.instance().state,dt))&&pt.componentDidUpdate(mt,dt));else(0,h.shallowEqual)(Q,pt.props)||(pt.props=(Object.freeze||Object)((0,e.default)({},pt.props,Q)));nt.update()})})}),this}return K}()},{key:"setProps",value:function(){function K(Q){var ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;if(this[I]!==this)throw new Error("ShallowWrapper::setProps() can only be called on the root");if(arguments.length>1&&typeof ct!="function")throw new TypeError("ReactWrapper::setProps() expects a function as its second argument");return this.rerender(Q),ct&&ct(),this}return K}()},{key:"setState",value:function(){function K(Q){var ct=this,nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;if(this[I]!==this)throw new Error("ShallowWrapper::setState() can only be called on the root");if(this.instance()===null||this[O].getNode().nodeType!=="class")throw new Error("ShallowWrapper::setState() can only be called on class components");if(arguments.length>1&&typeof nt!="function")throw new TypeError("ReactWrapper::setState() expects a function as its second argument");return this.single("setState",function(){(0,h.withSetStateAllowed)(function(){var ot=(0,x.default)(ct[M]),yt=F(ot),pt=ct[O].getNode(),dt=pt.instance,mt=dt.props,q=dt.state,$=dt.context,J=typeof Q=="function"?Q.call(dt,q,mt):Q,lt=!yt.setState.skipsComponentDidUpdateOnNullish||J!=null,ut=void 0,ht=void 0,bt=!0;if(!ct[M].disableLifecycleMethods&&dt&&(yt.componentDidUpdate&&yt.componentDidUpdate.onSetState&&typeof dt.shouldComponentUpdate=="function"&&(ut=(0,h.spyMethod)(dt,"shouldComponentUpdate")),yt.getChildContext.calledByRenderer&&typeof dt.getChildContext=="function"&&(ht=(0,h.spyMethod)(dt,"getChildContext"))),!ut&&U(dt)&&(bt=z(mt,dt.props,q,J)),dt[H]?dt[H](J):dt.setState(J),ut&&(bt=ut.getLastReturnValue(),ut.restore()),lt&&bt&&!ct[M].disableLifecycleMethods&&(Y(ot,ct,dt,pt,ht),yt.componentDidUpdate&&yt.componentDidUpdate.onSetState))if(yt.getSnapshotBeforeUpdate&&typeof dt.getSnapshotBeforeUpdate=="function"){var kt=dt.getSnapshotBeforeUpdate(mt,q);typeof dt.componentDidUpdate=="function"&&dt.componentDidUpdate(mt,q,kt)}else typeof dt.componentDidUpdate=="function"&&(yt.componentDidUpdate.prevContext?dt.componentDidUpdate(mt,q,$):dt.componentDidUpdate(mt,q));ct.update(),nt&&(ot.invokeSetStateCallback?ot.invokeSetStateCallback(dt,nt):nt.call(dt))})}),this}return K}()},{key:"setContext",value:function(){function K(Q){if(this[I]!==this)throw new Error("ShallowWrapper::setContext() can only be called on the root");if(!this[M].context)throw new Error("ShallowWrapper::setContext() can only be called on a wrapper that was originally passed a context option");return this.rerender(null,Q)}return K}()},{key:"contains",value:function(){function K(Q){var ct=(0,x.default)(this[M]);if(!(0,h.isReactElementAlike)(Q,ct))throw new Error("ShallowWrapper::contains() can only be called with ReactElement (or array of them), string or number as argument.");var nt=Array.isArray(Q)?function(ot){return(0,h.containsChildrenSubArray)(h.nodeEqual,ot,Q.map(function(yt){return ct.elementToNode(yt)}))}:function(ot){return(0,h.nodeEqual)(ct.elementToNode(Q),ot)};return j(this,nt).length>0}return K}()},{key:"containsMatchingElement",value:function(){function K(Q){var ct=(0,x.default)(this[M]),nt=ct.elementToNode(Q),ot=function(){function yt(pt){return(0,h.nodeMatches)(nt,pt,function(dt,mt){return dt<=mt})}return yt}();return j(this,ot).length>0}return K}()},{key:"containsAllMatchingElements",value:function(){function K(Q){var ct=this;if(!Array.isArray(Q))throw new TypeError("nodes should be an Array");return Q.every(function(nt){return ct.containsMatchingElement(nt)})}return K}()},{key:"containsAnyMatchingElements",value:function(){function K(Q){var ct=this;return Array.isArray(Q)&&Q.some(function(nt){return ct.containsMatchingElement(nt)})}return K}()},{key:"equals",value:function(){function K(Q){var ct=this;return this.single("equals",function(){return(0,h.nodeEqual)(ct.getNodeInternal(),Q)})}return K}()},{key:"matchesElement",value:function(){function K(Q){var ct=this;return this.single("matchesElement",function(){var nt=(0,x.default)(ct[M]),ot=nt.elementToNode(Q);return(0,h.nodeMatches)(ot,ct.getNodeInternal(),function(yt,pt){return yt<=pt})})}return K}()},{key:"find",value:function(){function K(Q){return this.wrap((0,T.reduceTreesBySelector)(Q,this.getNodesInternal()))}return K}()},{key:"is",value:function(){function K(Q){var ct=(0,T.buildPredicate)(Q);return this.single("is",function(nt){return ct(nt)})}return K}()},{key:"isEmptyRender",value:function(){function K(){var Q=this.getNodesInternal();return Q.every(function(ct){return(0,h.isEmptyValue)(ct)})}return K}()},{key:"filterWhere",value:function(){function K(Q){var ct=this;return W(this,function(nt){return Q(ct.wrap(nt))})}return K}()},{key:"filter",value:function(){function K(Q){var ct=(0,T.buildPredicate)(Q);return W(this,ct)}return K}()},{key:"not",value:function(){function K(Q){var ct=(0,T.buildPredicate)(Q);return W(this,function(nt){return!ct(nt)})}return K}()},{key:"text",value:function(){function K(){return this.single("text",k.getTextFromNode)}return K}()},{key:"html",value:function(){function K(){var Q=this;return this.single("html",function(ct){if(Q.type()===null)return null;var nt=(0,x.default)(Q[M]),ot=nt.createRenderer((0,e.default)({},Q[M],{mode:"string"}));return ot.render(nt.nodeToElement(ct))})}return K}()},{key:"render",value:function(){function K(){return this.type()===null?(0,c.default)():c.default.load("")(this.html())}return K}()},{key:"simulate",value:function(){function K(Q){for(var ct=this,nt=arguments.length,ot=Array(nt>1?nt-1:0),yt=1;yt<nt;yt++)ot[yt-1]=arguments[yt];return this.single("simulate",function(pt){var dt;return(dt=ct[O]).simulateEvent.apply(dt,[pt,Q].concat(ot)),ct[I].update(),ct})}return K}()},{key:"simulateError",value:function(){function K(Q){var ct=this;return this.single("simulateError",function(nt){if(nt.nodeType==="host")throw new TypeError("ShallowWrapper::simulateError() can only be called on custom components");var ot=ct[O];if(typeof ot.simulateError!="function")throw new TypeError("your adapter does not support `simulateError`. Try upgrading it!");var yt=X(ct),pt=[nt].concat(G(ct,nt));return ot.simulateError(pt,yt,Q),ct})}return K}()},{key:"props",value:function(){function K(){return this.single("props",k.propsOfNode)}return K}()},{key:"state",value:function(){function K(Q){var ct=this;if(this[I]!==this)throw new Error("ShallowWrapper::state() can only be called on the root");if(this.instance()===null||this[O].getNode().nodeType!=="class")throw new Error("ShallowWrapper::state() can only be called on class components");var nt=this.single("state",function(){return ct.instance().state});if(typeof Q<"u"){if(nt==null)throw new TypeError('ShallowWrapper::state("'+String(Q)+'") requires that `state` not be `null` or `undefined`');return nt[Q]}return nt}return K}()},{key:"context",value:function(){function K(Q){var ct=this;if(this[I]!==this)throw new Error("ShallowWrapper::context() can only be called on the root");if(!this[M].context)throw new Error("ShallowWrapper::context() can only be called on a wrapper that was originally passed a context option");if(this.instance()===null)throw new Error("ShallowWrapper::context() can only be called on wrapped nodes that have a non-null instance");var nt=this.single("context",function(){return ct.instance().context});return Q?nt[Q]:nt}return K}()},{key:"children",value:function(){function K(Q){var ct=this.flatMap(function(nt){return(0,k.childrenOfNode)(nt.getNodeInternal())});return Q?ct.filter(Q):ct}return K}()},{key:"childAt",value:function(){function K(Q){var ct=this;return this.single("childAt",function(){return ct.children().at(Q)})}return K}()},{key:"parents",value:function(){function K(Q){var ct=this;return this.single("parents",function(nt){var ot=ct.wrap(G(ct,nt));return Q?ot.filter(Q):ot})}return K}()},{key:"parent",value:function(){function K(){return this.flatMap(function(Q){return[Q.parents().get(0)]})}return K}()},{key:"closest",value:function(){function K(Q){if(this.is(Q))return this;var ct=this.parents().filter(Q);return ct.length>0?ct.first():this.findWhere(function(){return!1})}return K}()},{key:"shallow",value:function(){function K(Q){var ct=this;return this.single("shallow",function(nt){return ct.wrap((0,x.default)(ct[M]).nodeToElement(nt),null,Q)})}return K}()},{key:"prop",value:function(){function K(Q){return this.props()[Q]}return K}()},{key:"renderProp",value:function(){function K(Q){var ct=this,nt=(0,x.default)(this[M]);if(typeof nt.wrap!="function")throw new RangeError("your adapter does not support `wrap`. Try upgrading it!");return this.single("renderProp",function(ot){if(ot.nodeType==="host")throw new TypeError("ShallowWrapper::renderProp() can only be called on custom components");if(typeof Q!="string")throw new TypeError("`propName` must be a string");var yt=ct.props();if(!(0,p.default)(yt,Q))throw new Error("no prop called “"+String(Q)+"“ found");var pt=yt[Q];if(typeof pt!="function")throw new TypeError("expected prop “"+String(Q)+"“ to contain a function, but it holds “"+(typeof prop>"u"?"undefined":a(prop))+"“");return function(){var dt=pt.apply(void 0,arguments),mt=nt.wrap(dt);return ct.wrap(mt,null,ct[M])}})}return K}()},{key:"key",value:function(){function K(){return this.single("key",function(Q){return Q.key===void 0?null:Q.key})}return K}()},{key:"type",value:function(){function K(){return this.single("type",function(Q){return(0,h.typeOfNode)(Q)})}return K}()},{key:"name",value:function(){function K(){var Q=(0,x.default)(this[M]);return this.single("name",function(ct){return Q.displayNameOfNode?Q.displayNameOfNode(ct):(0,h.displayNameOfNode)(ct)})}return K}()},{key:"hasClass",value:function(){function K(Q){return Q&&Q.indexOf(".")!==-1&&console.warn("It looks like you're calling `ShallowWrapper::hasClass()` with a CSS selector. hasClass() expects a class name, not a CSS selector."),this.single("hasClass",function(ct){return(0,k.hasClassName)(ct,Q)})}return K}()},{key:"forEach",value:function(){function K(Q){var ct=this;return this.getNodesInternal().forEach(function(nt,ot){return Q.call(ct,ct.wrap(nt),ot)}),this}return K}()},{key:"map",value:function(){function K(Q){var ct=this;return this.getNodesInternal().map(function(nt,ot){return Q.call(ct,ct.wrap(nt),ot)})}return K}()},{key:"reduce",value:function(){function K(Q){var ct=this,nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;return arguments.length>1?this.getNodesInternal().reduce(function(ot,yt,pt){return Q.call(ct,ot,ct.wrap(yt),pt)},nt):this.getNodesInternal().reduce(function(ot,yt,pt){return Q.call(ct,pt===1?ct.wrap(ot):ot,ct.wrap(yt),pt)})}return K}()},{key:"reduceRight",value:function(){function K(Q){var ct=this,nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;return arguments.length>1?this.getNodesInternal().reduceRight(function(ot,yt,pt){return Q.call(ct,ot,ct.wrap(yt),pt)},nt):this.getNodesInternal().reduceRight(function(ot,yt,pt){return Q.call(ct,pt===1?ct.wrap(ot):ot,ct.wrap(yt),pt)})}return K}()},{key:"slice",value:function(){function K(Q,ct){return this.wrap(this.getNodesInternal().slice(Q,ct))}return K}()},{key:"some",value:function(){function K(Q){if(this[I]===this)throw new Error("ShallowWrapper::some() can not be called on the root");var ct=(0,T.buildPredicate)(Q);return this.getNodesInternal().some(ct)}return K}()},{key:"someWhere",value:function(){function K(Q){var ct=this;return this.getNodesInternal().some(function(nt,ot){return Q.call(ct,ct.wrap(nt),ot)})}return K}()},{key:"every",value:function(){function K(Q){var ct=(0,T.buildPredicate)(Q);return this.getNodesInternal().every(ct)}return K}()},{key:"everyWhere",value:function(){function K(Q){var ct=this;return this.getNodesInternal().every(function(nt,ot){return Q.call(ct,ct.wrap(nt),ot)})}return K}()},{key:"flatMap",value:function(){function K(Q){var ct=this,nt=this.getNodesInternal().map(function(yt,pt){return Q.call(ct,ct.wrap(yt),pt)}),ot=(0,s.default)(nt,1);return this.wrap(ot.filter(Boolean))}return K}()},{key:"findWhere",value:function(){function K(Q){var ct=this;return j(this,function(nt){var ot=ct.wrap(nt);return ot.length>0&&Q(ot)})}return K}()},{key:"get",value:function(){function K(Q){return this.getElements()[Q]}return K}()},{key:"at",value:function(){function K(Q){var ct=this.getNodesInternal();return Q<ct.length?this.wrap(ct[Q]):this.wrap([])}return K}()},{key:"first",value:function(){function K(){return this.at(0)}return K}()},{key:"last",value:function(){function K(){return this.at(this.length-1)}return K}()},{key:"isEmpty",value:function(){function K(){return console.warn("Enzyme::Deprecated method isEmpty() called, use exists() instead."),!this.exists()}return K}()},{key:"exists",value:function(){function K(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return arguments.length>0?this.find(Q).exists():this.length>0}return K}()},{key:"single",value:function(){function K(Q,ct){var nt=typeof Q=="string"?Q:"unknown",ot=typeof ct=="function"?ct:Q;if(this.length!==1)throw new Error("Method “"+nt+"” is meant to be run on 1 node. "+String(this.length)+" found instead.");return ot.call(this,this.getNodeInternal())}return K}()},{key:"wrap",value:function(){function K(Q){var ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this[I];if(Q instanceof tt)return Q;for(var nt=arguments.length,ot=Array(nt>2?nt-2:0),yt=2;yt<nt;yt++)ot[yt-2]=arguments[yt];return new(Function.prototype.bind.apply(tt,[null].concat([Q,ct],ot)))}return K}()},{key:"debug",value:function(){function K(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,y.debugNodes)(this.getNodesInternal(),Q)}return K}()},{key:"tap",value:function(){function K(Q){return Q(this),this}return K}()},{key:"dive",value:function(){function K(){var Q=this,ct=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},nt=(0,x.default)(this[M]),ot="dive";return this.single(ot,function(yt){if(yt&&yt.nodeType==="host")throw new TypeError("ShallowWrapper::"+ot+"() can not be called on Host Components");var pt=(0,x.default)(Q[M]).nodeToElement(yt);if(!(0,h.isCustomComponentElement)(pt,nt))throw new TypeError("ShallowWrapper::"+ot+"() can only be called on components");return Q.wrap(pt,null,(0,e.default)({},Q[M],ct,{context:ct.context||(0,e.default)({},Q[M].context,Q[I][D])}))})}return K}()},{key:"hostNodes",value:function(){function K(){return this.filterWhere(function(Q){return typeof Q.type()=="string"})}return K}()}]),tt}();h.ITERATOR_SYMBOL&&Object.defineProperty(rt.prototype,h.ITERATOR_SYMBOL,{configurable:!0,value:function(){function tt(){var K,Q=this.getNodesInternal()[h.ITERATOR_SYMBOL](),ct=(0,x.default)(this[M]);return K={},_(K,h.ITERATOR_SYMBOL,function(){return this}),_(K,"next",function(){function nt(){var ot=Q.next();return ot.done?{done:!0}:{done:!1,value:ct.nodeToElement(ot.value)}}return nt}()),K}return tt}()});function ft(tt,K){Object.defineProperty(rt.prototype,tt,{get:function(){function Q(){throw new Error(`
        Attempted to access ShallowWrapper::`+String(tt)+`, which was previously a private property on
        Enzyme ShallowWrapper instances, but is no longer and should not be relied upon.
        `+String(K)+`
      `)}return Q}(),enumerable:!1,configurable:!1})}ft("node","Consider using the getElement() method instead."),ft("nodes","Consider using the getElements() method instead."),ft("renderer",""),ft("options",""),ft("complexSelector",""),r.default=rt},function(f,r,t){f.exports={default:t(517),__esModule:!0}},function(f,r,t){t(76),t(61),f.exports=t(518)},function(f,r,t){var n=t(111),a=t(21)("iterator"),l=t(51);f.exports=t(12).isIterable=function(e){var o=Object(e);return o[a]!==void 0||"@@iterator"in o||l.hasOwnProperty(n(o))}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(62),a=o(n),l=t(104),e=t(10);function o(x){return x&&x.__esModule?x:{default:x}}var s={},u=function(x,y){return s[x]?a.default.resolve(s[x]):y(x)},c=function(x){if(x.length===0)return null;var y=(0,l.tsvParseRows)(x);return(0,e.parseChromsizesRows)(y)},m=function(x){return fetch(x,{credentials:"same-origin"}).then(function(y){return y.text()}).then(function(y){return c(y)}).catch(function(y){console.error("Could not retrieve or parse chrom info.",y)})},p=function(x,y,k){return y(x,k).then(function(T){return s[x]=T,s[x]})},h=function(x){return p(x,u,m)},v={get:h};r.default=v},function(f,r,t){t(164),t(61),t(76),t(521),t(525),t(526),f.exports=t(12).Promise},function(f,r,t){var n=t(75),a=t(23),l=t(49),e=t(111),o=t(16),s=t(33),u=t(92),c=t(218),m=t(129),p=t(318),h=t(319).set,v=t(523)(),x=t(219),y=t(320),k=t(524),T=t(321),E="Promise",_=a.TypeError,A=a.process,C=A&&A.versions,S=C&&C.v8||"",P=a[E],O=e(A)=="process",R=function(){},I,M,H,L,D=M=x.f,j=!!function(){try{var z=P.resolve(1),U=(z.constructor={})[t(21)("species")]=function(Z){Z(R,R)};return(O||typeof PromiseRejectionEvent=="function")&&z.then(R)instanceof U&&S.indexOf("6.6")!==0&&k.indexOf("Chrome/66")===-1}catch{}}(),W=function(z){var U;return s(z)&&typeof(U=z.then)=="function"?U:!1},B=function(z,U){if(!z._n){z._n=!0;var Z=z._c;v(function(){for(var st=z._v,Y=z._s==1,rt=0,ft=function(tt){var K=Y?tt.ok:tt.fail,Q=tt.resolve,ct=tt.reject,nt=tt.domain,ot,yt,pt;try{K?(Y||(z._h==2&&X(z),z._h=1),K===!0?ot=st:(nt&&nt.enter(),ot=K(st),nt&&(nt.exit(),pt=!0)),ot===tt.promise?ct(_("Promise-chain cycle")):(yt=W(ot))?yt.call(ot,Q,ct):Q(ot)):ct(st)}catch(dt){nt&&!pt&&nt.exit(),ct(dt)}};Z.length>rt;)ft(Z[rt++]);z._c=[],z._n=!1,U&&!z._h&&F(z)})}},F=function(z){h.call(a,function(){var U=z._v,Z=N(z),st,Y,rt;if(Z&&(st=y(function(){O?A.emit("unhandledRejection",U,z):(Y=a.onunhandledrejection)?Y({promise:z,reason:U}):(rt=a.console)&&rt.error&&rt.error("Unhandled promise rejection",U)}),z._h=O||N(z)?2:1),z._a=void 0,Z&&st.e)throw st.v})},N=function(z){return z._h!==1&&(z._a||z._c).length===0},X=function(z){h.call(a,function(){var U;O?A.emit("rejectionHandled",z):(U=a.onrejectionhandled)&&U({promise:z,reason:z._v})})},G=function(z){var U=this;U._d||(U._d=!0,U=U._w||U,U._v=z,U._s=2,U._a||(U._a=U._c.slice()),B(U,!0))},V=function(z){var U=this,Z;if(!U._d){U._d=!0,U=U._w||U;try{if(U===z)throw _("Promise can't be resolved itself");(Z=W(z))?v(function(){var st={_w:U,_d:!1};try{Z.call(z,l(V,st,1),l(G,st,1))}catch(Y){G.call(st,Y)}}):(U._v=z,U._s=1,B(U,!1))}catch(st){G.call({_w:U,_d:!1},st)}}};j||(P=function(z){c(this,P,E,"_h"),u(z),I.call(this);try{z(l(V,this,1),l(G,this,1))}catch(U){G.call(this,U)}},I=function(z){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},I.prototype=t(220)(P.prototype,{then:function(z,U){var Z=D(p(this,P));return Z.ok=typeof z=="function"?z:!0,Z.fail=typeof U=="function"&&U,Z.domain=O?A.domain:void 0,this._c.push(Z),this._a&&this._a.push(Z),this._s&&B(this,!1),Z.promise},catch:function(z){return this.then(void 0,z)}}),H=function(){var z=new I;this.promise=z,this.resolve=l(V,z,1),this.reject=l(G,z,1)},x.f=D=function(z){return z===P||z===L?new H(z):M(z)}),o(o.G+o.W+o.F*!j,{Promise:P}),t(77)(P,E),t(322)(E),L=t(12)[E],o(o.S+o.F*!j,E,{reject:function(z){var U=D(this),Z=U.reject;return Z(z),U.promise}}),o(o.S+o.F*(n||!j),E,{resolve:function(z){return T(n&&this===L?P:this,z)}}),o(o.S+o.F*!(j&&t(167)(function(z){P.all(z).catch(R)})),E,{all:function(z){var U=this,Z=D(U),st=Z.resolve,Y=Z.reject,rt=y(function(){var ft=[],tt=0,K=1;m(z,!1,function(Q){var ct=tt++,nt=!1;ft.push(void 0),K++,U.resolve(Q).then(function(ot){nt||(nt=!0,ft[ct]=ot,--K||st(ft))},Y)}),--K||st(ft)});return rt.e&&Y(rt.v),Z.promise},race:function(z){var U=this,Z=D(U),st=Z.reject,Y=y(function(){m(z,!1,function(rt){U.resolve(rt).then(Z.resolve,st)})});return Y.e&&st(Y.v),Z.promise}})},function(f,r){f.exports=function(t,n,a){var l=a===void 0;switch(n.length){case 0:return l?t():t.call(a);case 1:return l?t(n[0]):t.call(a,n[0]);case 2:return l?t(n[0],n[1]):t.call(a,n[0],n[1]);case 3:return l?t(n[0],n[1],n[2]):t.call(a,n[0],n[1],n[2]);case 4:return l?t(n[0],n[1],n[2],n[3]):t.call(a,n[0],n[1],n[2],n[3])}return t.apply(a,n)}},function(f,r,t){var n=t(23),a=t(319).set,l=n.MutationObserver||n.WebKitMutationObserver,e=n.process,o=n.Promise,s=t(74)(e)=="process";f.exports=function(){var u,c,m,p=function(){var y,k;for(s&&(y=e.domain)&&y.exit();u;){k=u.fn,u=u.next;try{k()}catch(T){throw u?m():c=void 0,T}}c=void 0,y&&y.enter()};if(s)m=function(){e.nextTick(p)};else if(l&&!(n.navigator&&n.navigator.standalone)){var h=!0,v=document.createTextNode("");new l(p).observe(v,{characterData:!0}),m=function(){v.data=h=!h}}else if(o&&o.resolve){var x=o.resolve(void 0);m=function(){x.then(p)}}else m=function(){a.call(n,p)};return function(y){var k={fn:y,next:void 0};c&&(c.next=k),u||(u=k,m()),c=k}}},function(f,r,t){var n=t(23),a=n.navigator;f.exports=a&&a.userAgent||""},function(f,r,t){var n=t(16),a=t(12),l=t(23),e=t(318),o=t(321);n(n.P+n.R,"Promise",{finally:function(s){var u=e(this,a.Promise||l.Promise),c=typeof s=="function";return this.then(c?function(m){return o(u,s()).then(function(){return m})}:s,c?function(m){return o(u,s()).then(function(){throw m})}:s)}})},function(f,r,t){var n=t(16),a=t(219),l=t(320);n(n.S,"Promise",{try:function(e){var o=a.f(this),s=l(e);return(s.e?o.reject:o.resolve)(s.v),o.promise}})},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(10),a=function(l,e){if(!e||!e.cumPositions||!e.cumPositions.length)return null;var o=(0,n.chromInfoBisector)(e.cumPositions,l),s=e.cumPositions[e.cumPositions.length-1].chr,u=e.chromLengths[s];o-=o>0&&1;var c=Math.floor(l-e.cumPositions[o].pos),m=0;return c<0&&(m=c-1,c=1),o===e.cumPositions.length-1&&c>u&&(m=c-u,c=u),[e.cumPositions[o].chr,c,m,o]};r.default=a},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function(a,l){return function(e){return e%a*l+Math.floor(e/a)}};r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function(l){return l},a=function(l,e){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:n;return l.map(function(s,u){return s+e[o(u)]})};r.default=a},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(221),a=l(n);function l(s){return s&&s.__esModule?s:{default:s}}var e="http://www.w3.org/2000/svg",o=function(s,u){if(s.namespaceURI===e){if(!(0,a.default)(s,u)){var c=s.getAttribute("class")||"";s.setAttribute("class",String(c)+" "+String(u))}}else s.classList?s.classList.add(u):(0,a.default)(s,u)||(s.className+=" "+String(u))};r.default=o},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(62),a=l(n);function l(o){return o&&o.__esModule?o:{default:o}}var e=function(o,s,u){var c=document.createElement("canvas");return new a.default(function(m,p){var h=new window.Image;h.onload=function(){c.width=s||h.width,c.height=u||h.height,c.getContext("2d").drawImage(h,0,0),m(c)},h.onerror=function(){p(new Error("Could not convert base64 to canvas"))},h.src="data:image/png;base64,"+String(o)})};r.default=e},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(8),a=(0,n.bisector)(function(l){return l.pos}).left;r.default=a},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function(a,l,e){return e.chrPositions[a].pos+l};r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(28),a=t(8),l=t(9),e=function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=o.map(function(h,v){return v*(255/(o.length-1))}),c=(0,n.scaleLinear)().domain(u).range(o),m=s?255:254,p=(0,a.range)(m,-1,-1).map(c).map(function(h){var v=(0,l.rgb)(h);return[v.r,v.g,v.b,v.opacity*255]});return p.length<256&&p.push([255,255,255,0]),p};r.default=e},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(9),a=t(324),l=e(a);function e(s){return s&&s.__esModule?s:{default:s}}var o=function(s){var u=(0,n.color)(s),c=l.default.PIXI.utils.rgb2hex([u.r/255,u.g/255,u.b/255]);return c};r.default=o},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(9),a=function(l){if(l==="transparent")return[255,255,255,0];var e=(0,n.color)(l);return[e.r,e.g,e.b,255]};r.default=a},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=r.debounce=function a(l,e,o){var s=void 0,u=function(){for(var c=arguments.length,m=Array(c),p=0;p<c;p++)m[p]=arguments[p];var h=function(){s=null,o||l.apply(void 0,m)},v=o&&!s;clearTimeout(s),s=setTimeout(h,e),v&&l.apply(void 0,m)};return a.cancel=function(){clearTimeout(s),s=null},u};r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function(a){return(a+Math.pow(16,6)).toString(16).substr(-6)};r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function(a){var l={};return a.forEach(function(e){l[e[0]]=e[1]}),l};r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function(a){var l=[];for(var e in a)a.hasOwnProperty(e)&&l.push([e,a[e]]);return l};r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;function n(a){var l=[];for(var e in a)a.hasOwnProperty(e)&&l.push(e);return l}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;function n(a){var l=[];for(var e in a)a.hasOwnProperty(e)&&l.push(a[e]);return l}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.download=n;function n(a,l){var e=typeof l=="string"?new Blob([l],{type:"application/octet-stream"}):l;if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(e,a);else{var o=window.document.createElement("a");o.href=window.URL.createObjectURL(e),o.download=a,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(o.href)}}r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(34),a=e(n),l=t(11);function e(s){return s&&s.__esModule?s:{default:s}}var o=function(s){var u=["top","bottom","gallery"],c=["left","right","gallery"];return s.center=s.center||[],s.left=s.left||[],s.right=s.right||[],s.top=s.top||[],s.bottom=s.bottom||[],s.whole=s.whole||[],s.gallery=s.gallery||[],u.map(function(m){return s[m]}).forEach(function(m){return m.forEach(function(p){var h=l.TRACKS_INFO_BY_TYPE[p.type],v=h&&h.defaultOptions||{},x=p.options?(0,a.default)({},v,p.options):v;x.minHeight!==void 0&&p.height===void 0&&(p.height=x.minHeight),p.height===void 0&&(p.height=h&&h.defaultHeight||l.MIN_HORIZONTAL_HEIGHT)})}),c.map(function(m){return s[m]}).forEach(function(m){return m.forEach(function(p){var h=l.TRACKS_INFO_BY_TYPE[p.type],v=h&&h.defaultOptions||{},x=p.options?(0,a.default)({},v,p.options):v;x.minWidth!==void 0&&p.width===void 0&&(p.width=x.minWidth),p.width===void 0&&(p.width=h&&h.defaultWidth||l.MIN_VERTICAL_WIDTH)})}),s};r.default=o},function(f,r,t){t(546),t(164),t(549),t(550),f.exports=t(12).Symbol},function(f,r,t){var n=t(23),a=t(47),l=t(36),e=t(16),o=t(161),s=t(226).KEY,u=t(50),c=t(106),m=t(77),p=t(91),h=t(21),v=t(168),x=t(227),y=t(547),k=t(328),T=t(39),E=t(33),_=t(48),A=t(127),C=t(66),S=t(110),P=t(548),O=t(228),R=t(32),I=t(60),M=O.f,H=R.f,L=P.f,D=n.Symbol,j=n.JSON,W=j&&j.stringify,B="prototype",F=h("_hidden"),N=h("toPrimitive"),X={}.propertyIsEnumerable,G=c("symbol-registry"),V=c("symbols"),z=c("op-symbols"),U=Object[B],Z=typeof D=="function",st=n.QObject,Y=!st||!st[B]||!st[B].findChild,rt=l&&u(function(){return S(H({},"a",{get:function(){return H(this,"a",{value:7}).a}})).a!=7})?function(J,lt,ut){var ht=M(U,lt);ht&&delete U[lt],H(J,lt,ut),ht&&J!==U&&H(U,lt,ht)}:H,ft=function(J){var lt=V[J]=S(D[B]);return lt._k=J,lt},tt=Z&&typeof D.iterator=="symbol"?function(J){return typeof J=="symbol"}:function(J){return J instanceof D},K=function(J,lt,ut){return J===U&&K(z,lt,ut),T(J),lt=A(lt,!0),T(ut),a(V,lt)?(ut.enumerable?(a(J,F)&&J[F][lt]&&(J[F][lt]=!1),ut=S(ut,{enumerable:C(0,!1)})):(a(J,F)||H(J,F,C(1,{})),J[F][lt]=!0),rt(J,lt,ut)):H(J,lt,ut)},Q=function(J,lt){T(J);for(var ut=y(lt=_(lt)),ht=0,bt=ut.length,kt;bt>ht;)K(J,kt=ut[ht++],lt[kt]);return J},ct=function(J,lt){return lt===void 0?S(J):Q(S(J),lt)},nt=function(J){var lt=X.call(this,J=A(J,!0));return this===U&&a(V,J)&&!a(z,J)?!1:lt||!a(this,J)||!a(V,J)||a(this,F)&&this[F][J]?lt:!0},ot=function(J,lt){if(J=_(J),lt=A(lt,!0),!(J===U&&a(V,lt)&&!a(z,lt))){var ut=M(J,lt);return ut&&a(V,lt)&&!(a(J,F)&&J[F][lt])&&(ut.enumerable=!0),ut}},yt=function(J){for(var lt=L(_(J)),ut=[],ht=0,bt;lt.length>ht;)!a(V,bt=lt[ht++])&&bt!=F&&bt!=s&&ut.push(bt);return ut},pt=function(J){for(var lt=J===U,ut=L(lt?z:_(J)),ht=[],bt=0,kt;ut.length>bt;)a(V,kt=ut[bt++])&&(!lt||a(U,kt))&&ht.push(V[kt]);return ht};Z||(D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var J=p(arguments.length>0?arguments[0]:void 0),lt=function(ut){this===U&&lt.call(z,ut),a(this,F)&&a(this[F],J)&&(this[F][J]=!1),rt(this,J,C(1,ut))};return l&&Y&&rt(U,J,{configurable:!0,set:lt}),ft(J)},o(D[B],"toString",function(){return this._k}),O.f=ot,R.f=K,t(329).f=P.f=yt,t(93).f=nt,t(130).f=pt,l&&!t(75)&&o(U,"propertyIsEnumerable",nt,!0),v.f=function(J){return ft(h(J))}),e(e.G+e.W+e.F*!Z,{Symbol:D});for(var dt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),mt=0;dt.length>mt;)h(dt[mt++]);for(var q=I(h.store),$=0;q.length>$;)x(q[$++]);e(e.S+e.F*!Z,"Symbol",{for:function(J){return a(G,J+="")?G[J]:G[J]=D(J)},keyFor:function(J){if(!tt(J))throw TypeError(J+" is not a symbol!");for(var lt in G)if(G[lt]===J)return lt},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),e(e.S+e.F*!Z,"Object",{create:ct,defineProperty:K,defineProperties:Q,getOwnPropertyDescriptor:ot,getOwnPropertyNames:yt,getOwnPropertySymbols:pt}),j&&e(e.S+e.F*(!Z||u(function(){var J=D();return W([J])!="[null]"||W({a:J})!="{}"||W(Object(J))!="{}"})),"JSON",{stringify:function(J){for(var lt=[J],ut=1,ht,bt;arguments.length>ut;)lt.push(arguments[ut++]);if(bt=ht=lt[1],!(!E(ht)&&J===void 0||tt(J)))return k(ht)||(ht=function(kt,vt){if(typeof bt=="function"&&(vt=bt.call(this,kt,vt)),!tt(vt))return vt}),lt[1]=ht,W.apply(j,lt)}}),D[B][N]||t(43)(D[B],N,D[B].valueOf),m(D,"Symbol"),m(Math,"Math",!0),m(n.JSON,"JSON",!0)},function(f,r,t){var n=t(60),a=t(130),l=t(93);f.exports=function(e){var o=n(e),s=a.f;if(s)for(var u=s(e),c=l.f,m=0,p;u.length>m;)c.call(e,p=u[m++])&&o.push(p);return o}},function(f,r,t){var n=t(48),a=t(329).f,l={}.toString,e=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(s){try{return a(s)}catch{return e.slice()}};f.exports.f=function(s){return e&&l.call(s)=="[object Window]"?o(s):a(n(s))}},function(f,r,t){t(227)("asyncIterator")},function(f,r,t){t(227)("observable")},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.DATATYPE_TO_TRACK_TYPE=void 0;var n=t(11),a=r.DATATYPE_TO_TRACK_TYPE=function(l){var e={},o=function(s){return!!(s.orientation===l||l==="1d-vertical"&&s.orientation==="1d-horizontal"&&s.rotatable)};return n.TRACKS_INFO.filter(o).forEach(function(s){var u=s.datatype;Array.isArray(s.datatype)||(u=[u]),u.forEach(function(c){c in e||(e[c]=[]),e[c].push(s)})}),e.none=[],e};r.default=a},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=r.HEATED_OBJECT_MAP=[[0,0,0,255],[35,0,0,255],[52,0,0,255],[60,0,0,255],[63,1,0,255],[64,2,0,255],[68,5,0,255],[69,6,0,255],[72,8,0,255],[74,10,0,255],[77,12,0,255],[78,14,0,255],[81,16,0,255],[83,17,0,255],[85,19,0,255],[86,20,0,255],[89,22,0,255],[91,24,0,255],[92,25,0,255],[94,26,0,255],[95,28,0,255],[98,30,0,255],[100,31,0,255],[102,33,0,255],[103,34,0,255],[105,35,0,255],[106,36,0,255],[108,38,0,255],[109,39,0,255],[111,40,0,255],[112,42,0,255],[114,43,0,255],[115,44,0,255],[117,45,0,255],[119,47,0,255],[119,47,0,255],[120,48,0,255],[122,49,0,255],[123,51,0,255],[125,52,0,255],[125,52,0,255],[126,53,0,255],[128,54,0,255],[129,56,0,255],[129,56,0,255],[131,57,0,255],[132,58,0,255],[134,59,0,255],[134,59,0,255],[136,61,0,255],[137,62,0,255],[137,62,0,255],[139,63,0,255],[139,63,0,255],[140,65,0,255],[142,66,0,255],[142,66,0,255],[143,67,0,255],[143,67,0,255],[145,68,0,255],[145,68,0,255],[146,70,0,255],[146,70,0,255],[148,71,0,255],[148,71,0,255],[149,72,0,255],[149,72,0,255],[151,73,0,255],[151,73,0,255],[153,75,0,255],[153,75,0,255],[154,76,0,255],[154,76,0,255],[154,76,0,255],[156,77,0,255],[156,77,0,255],[157,79,0,255],[157,79,0,255],[159,80,0,255],[159,80,0,255],[159,80,0,255],[160,81,0,255],[160,81,0,255],[162,82,0,255],[162,82,0,255],[163,84,0,255],[163,84,0,255],[165,85,0,255],[165,85,0,255],[166,86,0,255],[166,86,0,255],[166,86,0,255],[168,87,0,255],[168,87,0,255],[170,89,0,255],[170,89,0,255],[171,90,0,255],[171,90,0,255],[173,91,0,255],[173,91,0,255],[174,93,0,255],[174,93,0,255],[176,94,0,255],[176,94,0,255],[177,95,0,255],[177,95,0,255],[179,96,0,255],[179,96,0,255],[180,98,0,255],[182,99,0,255],[182,99,0,255],[183,100,0,255],[183,100,0,255],[185,102,0,255],[185,102,0,255],[187,103,0,255],[187,103,0,255],[188,104,0,255],[188,104,0,255],[190,105,0,255],[191,107,0,255],[191,107,0,255],[193,108,0,255],[193,108,0,255],[194,109,0,255],[196,110,0,255],[196,110,0,255],[197,112,0,255],[197,112,0,255],[199,113,0,255],[200,114,0,255],[200,114,0,255],[202,116,0,255],[202,116,0,255],[204,117,0,255],[205,118,0,255],[205,118,0,255],[207,119,0,255],[208,121,0,255],[208,121,0,255],[210,122,0,255],[211,123,0,255],[211,123,0,255],[213,124,0,255],[214,126,0,255],[214,126,0,255],[216,127,0,255],[217,128,0,255],[217,128,0,255],[219,130,0,255],[221,131,0,255],[221,131,0,255],[222,132,0,255],[224,133,0,255],[224,133,0,255],[225,135,0,255],[227,136,0,255],[227,136,0,255],[228,137,0,255],[230,138,0,255],[230,138,0,255],[231,140,0,255],[233,141,0,255],[233,141,0,255],[234,142,0,255],[236,144,0,255],[236,144,0,255],[238,145,0,255],[239,146,0,255],[241,147,0,255],[241,147,0,255],[242,149,0,255],[244,150,0,255],[244,150,0,255],[245,151,0,255],[247,153,0,255],[247,153,0,255],[248,154,0,255],[250,155,0,255],[251,156,0,255],[251,156,0,255],[253,158,0,255],[255,159,0,255],[255,159,0,255],[255,160,0,255],[255,161,0,255],[255,163,0,255],[255,163,0,255],[255,164,0,255],[255,165,0,255],[255,167,0,255],[255,167,0,255],[255,168,0,255],[255,169,0,255],[255,169,0,255],[255,170,0,255],[255,172,0,255],[255,173,0,255],[255,173,0,255],[255,174,0,255],[255,175,0,255],[255,177,0,255],[255,178,0,255],[255,179,0,255],[255,181,0,255],[255,181,0,255],[255,182,0,255],[255,183,0,255],[255,184,0,255],[255,187,7,255],[255,188,10,255],[255,189,14,255],[255,191,18,255],[255,192,21,255],[255,193,25,255],[255,195,29,255],[255,197,36,255],[255,198,40,255],[255,200,43,255],[255,202,51,255],[255,204,54,255],[255,206,61,255],[255,207,65,255],[255,210,72,255],[255,211,76,255],[255,214,83,255],[255,216,91,255],[255,219,98,255],[255,221,105,255],[255,223,109,255],[255,225,116,255],[255,228,123,255],[255,232,134,255],[255,234,142,255],[255,237,149,255],[255,239,156,255],[255,240,160,255],[255,243,167,255],[255,246,174,255],[255,248,182,255],[255,249,185,255],[255,252,193,255],[255,253,196,255],[255,255,204,255],[255,255,207,255],[255,255,211,255],[255,255,218,255],[255,255,222,255],[255,255,225,255],[255,255,229,255],[255,255,233,255],[255,255,236,255],[255,255,240,255],[255,255,244,255],[255,255,247,255],[255,255,255,0]];r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.IS_TRACK_RANGE_SELECTABLE=void 0;var n=t(10),a=r.IS_TRACK_RANGE_SELECTABLE=function l(e){switch(e.type){case"heatmap":case"horizontal-1d-heatmap":case"horizontal-bar":case"horizontal-line":case"horizontal-point":case"vertical-1d-heatmap":case"vertical-bar":case"vertical-line":case"vertical-point":case"horizontal-1d-tiles":case"vertical-1d-tiles":case"2d-tiles":case"horizontal-gene-annotations":case"vertical-gene-annotations":case"horizontal-heatmap":case"vertical-heatmap":case"osm-tiles":case"mapbox-tiles":case"horizontal-multivec":return!0;case"combined":return e.contents.map(function(o){return l(o)}).reduce(n.or,!1);default:return!1}};r.default=a},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.OPTIONS_INFO=void 0;var n=t(19),a=y(n),l=t(37),e=y(l),o=t(17),s=y(o),u=t(34),c=y(u),m=t(44),p=y(m),h=t(20),v=t(557),x=y(v);function y(M){return M&&M.__esModule?M:{default:M}}var k=function(M){if(!M.header)return[];for(var H=M.header.split("	"),L=[],D=0;D<H.length;D++)L.push({name:H[D],value:D+1});return L},T=function(M){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return M.reduce(function(D,j){return D[j]={name:""+j*L+String(H),value:j},D},{})},E={yes:{name:"Yes",value:!0},no:{name:"No",value:!1}},_={black:{name:"Black",value:"black"},blue:{name:"Blue",value:"blue"},brown:{name:"Brown",value:"brown"},cyan:{name:"Cyan",value:"cyan"},green:{name:"Green",value:"green"},grey:{name:"Grey",value:"grey"},orange:{name:"Orange",value:"orange"},purple:{name:"Purple",value:"purple"},turquoise:{name:"Turquoise",value:"turquoise"},red:{name:"Red",value:"red"},white:{name:"White",value:"white"}},A={use_stroke:{name:"Glyph color",value:"[glyph-color]"}},C=T([1,2,3,5,8,13,21]),S=(0,p.default)(C,{none:{name:"none",value:"none"}}),P=T([0,2,4,8,16,32,64,128,256]),O=T([0,.2,.4,.6,.8,1],"%",100),R=T([.2,.4,.6,.8,1],"%",100),I=r.OPTIONS_INFO={axisLabelFormatting:{name:"Axis Label Formatting",inlineOptions:{normal:{name:"normal",value:"normal"},scientific:{name:"scientific",value:"scientific"}}},flipDiagonal:{name:"Flip Across Diagonal",inlineOptions:{none:{name:"No",value:"none"},yes:{name:"Yes",value:"yes"},copy:{name:"Copy",value:"copy"}}},heatmapValueScaling:{name:"Value Scaling",inlineOptions:{linear:{name:"Linear",value:"linear"},log:{name:"Log",value:"log"}}},valueScaling:{name:"Value Scaling",inlineOptions:{linear:{name:"Linear",value:"linear"},log:{name:"Log",value:"log"}}},extent:{name:"Extent",inlineOptions:{full:{name:"Full",value:"full"},upperRight:{name:"Upper Right",value:"upper-right"},lowerLeft:{name:"Lower Left",value:"lower-left"}}},labelLeftMargin:{name:"Label Left Margin",inlineOptions:P},labelRightMargin:{name:"Label Right Margin",inlineOptions:P},labelTopMargin:{name:"Label Top Margin",inlineOptions:P},labelBottomMargin:{name:"Label Bottom Margin",inlineOptions:P},labelShowResolution:{name:"Label Show Resolution",inlineOptions:E},labelShowAssembly:{name:"Label Show Assembly",inlineOptions:E},lineStrokeWidth:{name:"Stroke Width",inlineOptions:C},strokeWidth:{name:"Stroke Width",inlineOptions:C},trackBorderWidth:{name:"Track Border Width",inlineOptions:C},separatePlusMinusStrands:{name:"Separate +/- strands",inlineOptions:E},sortLargestOnTop:{name:"Sort Largest On Top",inlineOptions:E},showTexts:{name:"Show texts",inlineOptions:E},staggered:{name:"Staggered",inlineOptions:E},minSquareSize:{name:"Minimum size",inlineOptions:S},pointSize:{name:"Point Size",inlineOptions:C},pointColor:{name:"Point Color",inlineOptions:_},trackBorderColor:{name:"Track Border Color",inlineOptions:_},backgroundColor:{name:"Background Color",inlineOptions:{white:{name:"White",value:"white"},lightGrey:{name:"Light Grey",value:"#eeeeee"},grey:{name:"Grey",value:"#cccccc"},black:{name:"Black",value:"black"},transparent:{name:"Transparent",value:"transparent"}}},colorScale:{name:"Color Scale",inlineOptions:{epilogos:{name:"Epilogos",values:["#FF0000","#FF4500","#32CD32","#008000","#006400","#C2E105","#FFFF00","#66CDAA","#8A91D0","#CD5C5C","#E9967A","#BDB76B","#808080","#C0C0C0","#FFFFFF"]},category10:{name:"D3 Category10",values:["#1F77B4","#FF7F0E","#2CA02C","#D62728","#9467BD","#8C564B","#E377C2","#7F7F7F","#BCBD22","#17BECF"]}}},minusStrandColor:{name:"- Strand Color",inlineOptions:_},plusStrandColor:{name:"+ Strand Color",inlineOptions:_},lineStrokeColor:{name:"Stroke color",inlineOptions:_},projectionStrokeColor:{name:"Stroke color",inlineOptions:_},projectionFillColor:{name:"Fill color",inlineOptions:_},stroke:{name:"Stroke Color",inlineOptions:_},strokeColor:{name:"Stroke color",inlineOptions:_},fill:{name:"Fill Color",inlineOptions:_},color:{name:"Color",inlineOptions:_},fontColor:{name:"Font color",inlineOptions:_},fillColor:{name:"Fill color",inlineOptions:_},barFillColor:{name:"Fill color",inlineOptions:_},barFillColorTop:{name:"Top Fill color",inlineOptions:_},barFillColorBottom:{name:"Bottom Fill color",inlineOptions:_},barOpacity:{name:"Bar opacity",inlineOptions:O},zeroLineVisible:{name:"Zero line visible",inlineOptions:E},zeroLineColor:{name:"Zero line color",inlineOptions:_},zeroLineOpacity:{name:"Zero line opacity",inlineOptions:R},fillOpacity:{name:"Fill Opacity",inlineOptions:O},strokeOpacity:{name:"Stroke Opacity",inlineOptions:O},strokePos:{name:"Stroke Position",inlineOptions:{aroundInner:{name:"Around Inner",value:"around"},aroundCenter:{name:"Around Center",value:null},hidden:{name:"Hidden",value:"hidden"},top:{name:"Top",value:"top"},right:{name:"Right",value:"right"},bottom:{name:"Bottom",value:"bottom"},left:{name:"Left",value:"left"}}},barBorder:{name:"Bar border",inlineOptions:E},scaledHeight:{name:"Scaled height",inlineOptions:E},rectangleDomainStrokeColor:{name:"Stroke color",inlineOptions:_},rectangleDomainFillColor:{name:"Fill color",inlineOptions:_},rectangleDomainFillOpacity:{name:"Fill opacity",inlineOptions:O},rectangleDomainOpacity:{name:"Opacity",inlineOptions:O},mapboxStyle:{name:"Map style",inlineOptions:{streets:{name:"streets",value:"mapbox.streets"},light:{name:"light",value:"mapbox.light"},dark:{name:"dark",value:"mapbox.dark"},satellite:{name:"satellite",value:"mapbox.satellite"},"streets-satellite":{name:"streets-satellite",value:"mapbox.streets-satellite"},wheatpaste:{name:"wheatpaste",value:"mapbox.wheatpaste"},"streets-basic":{name:"streets-basic",value:"mapbox.streets-basic"},comic:{name:"comic",value:"mapbox.comic"},outdoors:{name:"outdoors",value:"mapbox.outdoors"},"run-bike-hike":{name:"run-bike-hike",value:"mapbox.run-bike-hike"},pencil:{name:"pencil",value:"mapbox.pencil"},pirates:{name:"pirates",value:"mapbox.pirates"},emerald:{name:"emerald",value:"mapbox.emerald"},"high-contrast":{name:"high-contrast",value:"mapbox.high-contrast"}}},oneDHeatmapFlipped:{name:"Flip Heatmap",inlineOptions:{yes:{name:"Yes",value:"yes"},no:{name:"No",value:null}}},showMousePosition:{name:"Show Mouse Position",inlineOptions:E},showTooltip:{name:"Show Tooltip",inlineOptions:E},fontSize:{name:"Font Size",inlineOptions:T([8,9,10,11,12,14,16,18,24],"px")},tickPositions:{name:"Tick Positions",inlineOptions:{even:{name:"Even",value:"even"},ends:{name:"Ends",value:"ends"}}},tickFormat:{name:"Tick Format",inlineOptions:{plain:{name:"Plain",value:"plain"},si:{name:"SI",value:"si"}}},colorEncoding:{name:"Color Encode Annotations",inlineOptions:{none:{name:"None",value:null},itemRgb:{name:"itemRgb",value:"itemRgb"}},generateOptions:k},fontIsAligned:{name:"Left-Align Font",inlineOptions:E},axisPositionHorizontal:{name:"Axis Position",inlineOptions:{left:{name:"Left",value:"left"},outsideLeft:{name:"Outside left",value:"outsideLeft"},right:{name:"Right",value:"right"},outsideRight:{name:"Outside right",value:"outsideRight"},hidden:{name:"Hidden",value:null}}},axisPositionVertical:{name:"Axis Position",inlineOptions:{top:{name:"Top",value:"top"},outsideTop:{name:"Outside top",value:"outsideTop"},bottom:{name:"Bottom",value:"bottom"},outsideBottom:{name:"Outside bottom",value:"outsideBottom"},hidden:{name:"Hidden",value:null}}},axisMargin:{name:"Axis Margin",inlineOptions:T([0,10,20,30,40,50,100,200,400],"px")},colorbarPosition:{name:"Colorbar Position",inlineOptions:{topLeft:{name:"Top Left",value:"topLeft"},topRight:{name:"Top Right",value:"topRight"},bottomLeft:{name:"Bottom Left",value:"bottomLeft"},bottomRight:{name:"Bottom Right",value:"bottomRight"},hidden:{name:"Hidden",value:null}}},colorbarBackgroundColor:{name:"Colorbar Background Color",inlineOptions:_},colorbarBackgroundOpacity:{name:"Colorbar Background Opacity",inlineOptions:O},colorbarLabelsPosition:{name:"Colorbar Labels Position",inlineOptions:{inside:{name:"Inside",value:"inside"},outside:{name:"Outside",value:"outside"}}},labelColor:{name:"Label Color",inlineOptions:(0,c.default)({},_,A)},labelPosition:{name:"Label Position",inlineOptions:{ol:{name:"Outer left",value:"outerLeft"},or:{name:"Outer right",value:"outerRight"},ot:{name:"Outer top",value:"outerTop"},ob:{name:"Outer bottom",value:"outerBottom"},tl:{name:"Top left",value:"topLeft"},tr:{name:"Top right",value:"topRight"},bl:{name:"Bottom left",value:"bottomLeft"},br:{name:"Bottom right",value:"bottomRight"},hidden:{name:"Hidden",value:"hidden"}}},labelTextOpacity:{name:"Label Text Opacity",inlineOptions:O},geneAnnotationHeight:{name:"Gene Annotation Height",inlineOptions:{8:{name:"8px",value:8},10:{name:"10px",value:10},12:{name:"12px",value:12},16:{name:"16px",value:16}}},annotationHeight:{name:"Annotation Height",inlineOptions:{5:{name:"5px",value:5},8:{name:"8px",value:8},10:{name:"10px",value:10},12:{name:"12px",value:12},16:{name:"16px",value:16},20:{name:"20px",value:20},scaled:{name:"scaled",value:"scaled"}}},maxAnnotationHeight:{name:"Max Annotation Height",inlineOptions:{5:{name:"5px",value:5},8:{name:"8px",value:8},10:{name:"10px",value:10},12:{name:"12px",value:12},16:{name:"16px",value:16},20:{name:"20px",value:20},none:{name:"none",value:null}}},annotationStyle:{name:"Annotation Style",inlineOptions:{box:{name:"Box",value:"box"},segment:{name:"Segment",value:"segment"}}},geneLabelPosition:{name:"Gene Label Position",inlineOptions:{inside:{name:"Inside",value:"inside"},outside:{name:"Outside",value:"outside"}}},geneStrandSpacing:{name:"Gene Strand Spacing",inlineOptions:{2:{name:"2px",value:2},4:{name:"4px",value:4},8:{name:"8px",value:8}}},labelBackgroundColor:{name:"Label Background Color",inlineOptions:_},labelBackgroundOpacity:{name:"Label Background Opacity",inlineOptions:O},viewResolution:{name:"View Resolution",inlineOptions:{high:{name:"High",value:384},medium:{name:"Medium",value:1024},low:{name:"Low",value:2048}}},colorRange:{name:"Color map",inlineOptions:{afmhot:{name:"afmhot",value:["rgba(0,0,0,1.0)","rgba(128,0,0,1.0)","rgba(256,129,1,1.0)","rgba(256,256,129,1.0)","rgba(256,256,256,1.0)"]},fall:{name:"fall",value:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"]},hot:{name:"hot",value:["rgba(10,0,0,1.0)","rgba(179,0,0,1.0)","rgba(256,91,0,1.0)","rgba(256,256,6,1.0)","rgba(256,256,256,1.0)"]},jet:{name:"jet",value:["rgba(0,0,128,1.0)","rgba(0,129,256,1.0)","rgba(125,256,122,1.0)","rgba(256,148,0,1.0)","rgba(128,0,0,1.0)"]},bwr:{name:"bwr",value:["rgba(0,0,256,1.0)","rgba(128,128,256,1.0)","rgba(256,254,254,1.0)","rgba(256,126,126,1.0)","rgba(256,0,0,1.0)"]},cubehelix:{name:"cubehelix",value:["rgba(0,0,0,1.0)","rgba(21,83,76,1.0)","rgba(162,121,74,1.0)","rgba(199,180,238,1.0)","rgba(256,256,256,1.0)"]},rainbow:{name:"rainbow",value:["rgba(128,0,256,1.0)","rgba(0,181,236,1.0)","rgba(129,255,180,1.0)","rgba(256,179,96,1.0)","rgba(256,0,0,1.0)"]},gray:{name:"greys",value:["rgba(255,255,255,1)","rgba(0,0,0,1)"]},red:{name:"White to red",value:["rgba(255,255,255,1)","rgba(255,0,0,1)"]},green:{name:"White to green",value:["rgba(255,255,255,1)","rgba(0,255,0,1)"]},blue:{name:"White to blue",value:["rgba(255,255,255,1)","rgba(0,0,255,1)"]},custard:{name:"custard",value:["#FFFFFF","#F8E71C","rgba(245,166,35,1)","rgba(0,0,0,1)"]},magma:{name:"magma",value:["rgba(0,0,3,1)","rgba(0,0,4,1)","rgba(0,0,6,1)","rgba(1,0,7,1)","rgba(1,1,9,1)","rgba(1,1,11,1)","rgba(2,2,13,1)","rgba(2,2,15,1)","rgba(3,3,17,1)","rgba(4,3,19,1)","rgba(4,4,21,1)","rgba(5,4,23,1)","rgba(6,5,25,1)","rgba(7,5,27,1)","rgba(8,6,29,1)","rgba(9,7,32,1)","rgba(10,7,34,1)","rgba(11,8,36,1)","rgba(12,9,38,1)","rgba(13,10,40,1)","rgba(14,10,42,1)","rgba(15,11,45,1)","rgba(16,12,47,1)","rgba(17,12,49,1)","rgba(19,13,51,1)","rgba(20,13,54,1)","rgba(21,14,56,1)","rgba(22,14,58,1)","rgba(23,15,61,1)","rgba(25,15,63,1)","rgba(26,16,66,1)","rgba(27,16,68,1)","rgba(28,16,70,1)","rgba(30,17,73,1)","rgba(31,17,75,1)","rgba(33,17,78,1)","rgba(34,17,80,1)","rgba(36,17,83,1)","rgba(37,17,85,1)","rgba(39,17,87,1)","rgba(40,17,90,1)","rgba(42,17,92,1)","rgba(43,17,94,1)","rgba(45,17,97,1)","rgba(47,16,99,1)","rgba(49,16,101,1)","rgba(50,16,103,1)","rgba(52,16,105,1)","rgba(54,15,107,1)","rgba(55,15,108,1)","rgba(57,15,110,1)","rgba(59,15,112,1)","rgba(61,15,113,1)","rgba(62,15,114,1)","rgba(64,15,116,1)","rgba(66,15,117,1)","rgba(67,15,118,1)","rgba(69,15,119,1)","rgba(71,15,120,1)","rgba(72,16,120,1)","rgba(74,16,121,1)","rgba(76,16,122,1)","rgba(77,17,123,1)","rgba(79,17,123,1)","rgba(81,18,124,1)","rgba(82,18,124,1)","rgba(84,19,125,1)","rgba(85,20,125,1)","rgba(87,20,126,1)","rgba(88,21,126,1)","rgba(90,21,126,1)","rgba(92,22,127,1)","rgba(93,23,127,1)","rgba(95,23,127,1)","rgba(96,24,128,1)","rgba(98,25,128,1)","rgba(99,25,128,1)","rgba(101,26,128,1)","rgba(103,26,128,1)","rgba(104,27,129,1)","rgba(106,28,129,1)","rgba(107,28,129,1)","rgba(109,29,129,1)","rgba(110,30,129,1)","rgba(112,30,129,1)","rgba(113,31,129,1)","rgba(115,32,129,1)","rgba(117,32,129,1)","rgba(118,33,129,1)","rgba(120,33,129,1)","rgba(121,34,130,1)","rgba(123,35,130,1)","rgba(124,35,130,1)","rgba(126,36,130,1)","rgba(128,36,130,1)","rgba(129,37,129,1)","rgba(131,37,129,1)","rgba(132,38,129,1)","rgba(134,39,129,1)","rgba(136,39,129,1)","rgba(137,40,129,1)","rgba(139,40,129,1)","rgba(140,41,129,1)","rgba(142,41,129,1)","rgba(144,42,129,1)","rgba(145,42,129,1)","rgba(147,43,128,1)","rgba(148,43,128,1)","rgba(150,44,128,1)","rgba(152,44,128,1)","rgba(153,45,128,1)","rgba(155,46,127,1)","rgba(157,46,127,1)","rgba(158,47,127,1)","rgba(160,47,127,1)","rgba(161,48,126,1)","rgba(163,48,126,1)","rgba(165,49,126,1)","rgba(166,49,125,1)","rgba(168,50,125,1)","rgba(170,50,125,1)","rgba(171,51,124,1)","rgba(173,51,124,1)","rgba(175,52,123,1)","rgba(176,52,123,1)","rgba(178,53,123,1)","rgba(180,53,122,1)","rgba(181,54,122,1)","rgba(183,55,121,1)","rgba(185,55,121,1)","rgba(186,56,120,1)","rgba(188,56,120,1)","rgba(189,57,119,1)","rgba(191,57,118,1)","rgba(193,58,118,1)","rgba(194,59,117,1)","rgba(196,59,117,1)","rgba(198,60,116,1)","rgba(199,61,115,1)","rgba(201,61,115,1)","rgba(202,62,114,1)","rgba(204,63,113,1)","rgba(206,63,113,1)","rgba(207,64,112,1)","rgba(209,65,111,1)","rgba(210,66,110,1)","rgba(212,67,110,1)","rgba(213,67,109,1)","rgba(215,68,108,1)","rgba(216,69,107,1)","rgba(218,70,107,1)","rgba(219,71,106,1)","rgba(221,72,105,1)","rgba(222,73,104,1)","rgba(223,74,103,1)","rgba(225,75,103,1)","rgba(226,76,102,1)","rgba(227,78,101,1)","rgba(229,79,100,1)","rgba(230,80,100,1)","rgba(231,81,99,1)","rgba(232,83,98,1)","rgba(233,84,97,1)","rgba(234,85,97,1)","rgba(236,87,96,1)","rgba(237,88,95,1)","rgba(238,90,95,1)","rgba(239,91,94,1)","rgba(239,93,94,1)","rgba(240,95,93,1)","rgba(241,96,93,1)","rgba(242,98,93,1)","rgba(243,100,92,1)","rgba(243,101,92,1)","rgba(244,103,92,1)","rgba(245,105,92,1)","rgba(246,107,92,1)","rgba(246,108,92,1)","rgba(247,110,92,1)","rgba(247,112,92,1)","rgba(248,114,92,1)","rgba(248,116,92,1)","rgba(249,118,92,1)","rgba(249,120,92,1)","rgba(250,121,93,1)","rgba(250,123,93,1)","rgba(250,125,94,1)","rgba(251,127,94,1)","rgba(251,129,95,1)","rgba(251,131,95,1)","rgba(252,133,96,1)","rgba(252,135,97,1)","rgba(252,137,97,1)","rgba(252,139,98,1)","rgba(253,140,99,1)","rgba(253,142,100,1)","rgba(253,144,101,1)","rgba(253,146,102,1)","rgba(253,148,103,1)","rgba(254,150,104,1)","rgba(254,152,105,1)","rgba(254,154,106,1)","rgba(254,156,107,1)","rgba(254,157,108,1)","rgba(254,159,109,1)","rgba(254,161,110,1)","rgba(254,163,111,1)","rgba(254,165,112,1)","rgba(255,167,114,1)","rgba(255,169,115,1)","rgba(255,171,116,1)","rgba(255,172,118,1)","rgba(255,174,119,1)","rgba(255,176,120,1)","rgba(255,178,122,1)","rgba(255,180,123,1)","rgba(255,182,124,1)","rgba(255,184,126,1)","rgba(255,185,127,1)","rgba(255,187,129,1)","rgba(255,189,130,1)","rgba(255,191,132,1)","rgba(255,193,133,1)","rgba(255,195,135,1)","rgba(255,197,136,1)","rgba(255,198,138,1)","rgba(255,200,140,1)","rgba(255,202,141,1)","rgba(255,204,143,1)","rgba(254,206,144,1)","rgba(254,208,146,1)","rgba(254,209,148,1)","rgba(254,211,149,1)","rgba(254,213,151,1)","rgba(254,215,153,1)","rgba(254,217,155,1)","rgba(254,219,156,1)","rgba(254,220,158,1)","rgba(254,222,160,1)","rgba(254,224,162,1)","rgba(254,226,163,1)","rgba(253,228,165,1)","rgba(253,230,167,1)","rgba(253,231,169,1)","rgba(253,233,171,1)","rgba(253,235,172,1)","rgba(253,237,174,1)","rgba(253,239,176,1)","rgba(253,241,178,1)","rgba(253,242,180,1)","rgba(253,244,182,1)","rgba(253,246,184,1)","rgba(252,248,186,1)","rgba(252,250,188,1)","rgba(252,251,189,1)","rgba(252,253,191,1)"]},viridis:{name:"viridis",value:["rgba(68,1,84,1)","rgba(68,2,85,1)","rgba(69,3,87,1)","rgba(69,5,88,1)","rgba(69,6,90,1)","rgba(70,8,91,1)","rgba(70,9,93,1)","rgba(70,11,94,1)","rgba(70,12,96,1)","rgba(71,14,97,1)","rgba(71,15,98,1)","rgba(71,17,100,1)","rgba(71,18,101,1)","rgba(71,20,102,1)","rgba(72,21,104,1)","rgba(72,22,105,1)","rgba(72,24,106,1)","rgba(72,25,108,1)","rgba(72,26,109,1)","rgba(72,28,110,1)","rgba(72,29,111,1)","rgba(72,30,112,1)","rgba(72,32,113,1)","rgba(72,33,115,1)","rgba(72,34,116,1)","rgba(72,36,117,1)","rgba(72,37,118,1)","rgba(72,38,119,1)","rgba(72,39,120,1)","rgba(71,41,121,1)","rgba(71,42,121,1)","rgba(71,43,122,1)","rgba(71,44,123,1)","rgba(71,46,124,1)","rgba(70,47,125,1)","rgba(70,48,126,1)","rgba(70,49,126,1)","rgba(70,51,127,1)","rgba(69,52,128,1)","rgba(69,53,129,1)","rgba(69,54,129,1)","rgba(68,56,130,1)","rgba(68,57,131,1)","rgba(68,58,131,1)","rgba(67,59,132,1)","rgba(67,60,132,1)","rgba(67,62,133,1)","rgba(66,63,133,1)","rgba(66,64,134,1)","rgba(65,65,134,1)","rgba(65,66,135,1)","rgba(65,67,135,1)","rgba(64,69,136,1)","rgba(64,70,136,1)","rgba(63,71,136,1)","rgba(63,72,137,1)","rgba(62,73,137,1)","rgba(62,74,137,1)","rgba(61,75,138,1)","rgba(61,77,138,1)","rgba(60,78,138,1)","rgba(60,79,138,1)","rgba(59,80,139,1)","rgba(59,81,139,1)","rgba(58,82,139,1)","rgba(58,83,139,1)","rgba(57,84,140,1)","rgba(57,85,140,1)","rgba(56,86,140,1)","rgba(56,87,140,1)","rgba(55,88,140,1)","rgba(55,89,140,1)","rgba(54,91,141,1)","rgba(54,92,141,1)","rgba(53,93,141,1)","rgba(53,94,141,1)","rgba(52,95,141,1)","rgba(52,96,141,1)","rgba(51,97,141,1)","rgba(51,98,141,1)","rgba(51,99,141,1)","rgba(50,100,142,1)","rgba(50,101,142,1)","rgba(49,102,142,1)","rgba(49,103,142,1)","rgba(48,104,142,1)","rgba(48,105,142,1)","rgba(47,106,142,1)","rgba(47,107,142,1)","rgba(47,108,142,1)","rgba(46,109,142,1)","rgba(46,110,142,1)","rgba(45,111,142,1)","rgba(45,112,142,1)","rgba(45,112,142,1)","rgba(44,113,142,1)","rgba(44,114,142,1)","rgba(43,115,142,1)","rgba(43,116,142,1)","rgba(43,117,142,1)","rgba(42,118,142,1)","rgba(42,119,142,1)","rgba(41,120,142,1)","rgba(41,121,142,1)","rgba(41,122,142,1)","rgba(40,123,142,1)","rgba(40,124,142,1)","rgba(40,125,142,1)","rgba(39,126,142,1)","rgba(39,127,142,1)","rgba(38,128,142,1)","rgba(38,129,142,1)","rgba(38,130,142,1)","rgba(37,131,142,1)","rgba(37,131,142,1)","rgba(37,132,142,1)","rgba(36,133,142,1)","rgba(36,134,142,1)","rgba(35,135,142,1)","rgba(35,136,142,1)","rgba(35,137,142,1)","rgba(34,138,141,1)","rgba(34,139,141,1)","rgba(34,140,141,1)","rgba(33,141,141,1)","rgba(33,142,141,1)","rgba(33,143,141,1)","rgba(32,144,141,1)","rgba(32,145,140,1)","rgba(32,146,140,1)","rgba(32,147,140,1)","rgba(31,147,140,1)","rgba(31,148,140,1)","rgba(31,149,139,1)","rgba(31,150,139,1)","rgba(31,151,139,1)","rgba(30,152,139,1)","rgba(30,153,138,1)","rgba(30,154,138,1)","rgba(30,155,138,1)","rgba(30,156,137,1)","rgba(30,157,137,1)","rgba(30,158,137,1)","rgba(30,159,136,1)","rgba(30,160,136,1)","rgba(31,161,136,1)","rgba(31,162,135,1)","rgba(31,163,135,1)","rgba(31,163,134,1)","rgba(32,164,134,1)","rgba(32,165,134,1)","rgba(33,166,133,1)","rgba(33,167,133,1)","rgba(34,168,132,1)","rgba(35,169,131,1)","rgba(35,170,131,1)","rgba(36,171,130,1)","rgba(37,172,130,1)","rgba(38,173,129,1)","rgba(39,174,129,1)","rgba(40,175,128,1)","rgba(41,175,127,1)","rgba(42,176,127,1)","rgba(43,177,126,1)","rgba(44,178,125,1)","rgba(46,179,124,1)","rgba(47,180,124,1)","rgba(48,181,123,1)","rgba(50,182,122,1)","rgba(51,183,121,1)","rgba(53,183,121,1)","rgba(54,184,120,1)","rgba(56,185,119,1)","rgba(57,186,118,1)","rgba(59,187,117,1)","rgba(61,188,116,1)","rgba(62,189,115,1)","rgba(64,190,114,1)","rgba(66,190,113,1)","rgba(68,191,112,1)","rgba(70,192,111,1)","rgba(72,193,110,1)","rgba(73,194,109,1)","rgba(75,194,108,1)","rgba(77,195,107,1)","rgba(79,196,106,1)","rgba(81,197,105,1)","rgba(83,198,104,1)","rgba(85,198,102,1)","rgba(88,199,101,1)","rgba(90,200,100,1)","rgba(92,201,99,1)","rgba(94,201,98,1)","rgba(96,202,96,1)","rgba(98,203,95,1)","rgba(101,204,94,1)","rgba(103,204,92,1)","rgba(105,205,91,1)","rgba(108,206,90,1)","rgba(110,206,88,1)","rgba(112,207,87,1)","rgba(115,208,85,1)","rgba(117,208,84,1)","rgba(119,209,82,1)","rgba(122,210,81,1)","rgba(124,210,79,1)","rgba(127,211,78,1)","rgba(129,212,76,1)","rgba(132,212,75,1)","rgba(134,213,73,1)","rgba(137,213,72,1)","rgba(139,214,70,1)","rgba(142,215,68,1)","rgba(144,215,67,1)","rgba(147,216,65,1)","rgba(149,216,63,1)","rgba(152,217,62,1)","rgba(155,217,60,1)","rgba(157,218,58,1)","rgba(160,218,57,1)","rgba(163,219,55,1)","rgba(165,219,53,1)","rgba(168,220,51,1)","rgba(171,220,50,1)","rgba(173,221,48,1)","rgba(176,221,46,1)","rgba(179,221,45,1)","rgba(181,222,43,1)","rgba(184,222,41,1)","rgba(187,223,39,1)","rgba(189,223,38,1)","rgba(192,223,36,1)","rgba(195,224,35,1)","rgba(197,224,33,1)","rgba(200,225,32,1)","rgba(203,225,30,1)","rgba(205,225,29,1)","rgba(208,226,28,1)","rgba(211,226,27,1)","rgba(213,226,26,1)","rgba(216,227,25,1)","rgba(219,227,24,1)","rgba(221,227,24,1)","rgba(224,228,24,1)","rgba(226,228,24,1)","rgba(229,228,24,1)","rgba(232,229,25,1)","rgba(234,229,25,1)","rgba(237,229,26,1)","rgba(239,230,27,1)","rgba(242,230,28,1)","rgba(244,230,30,1)","rgba(247,230,31,1)","rgba(249,231,33,1)","rgba(251,231,35,1)","rgba(254,231,36,1)"]},custom:{name:"Custom...",componentPickers:{heatmap:x.default,"horizontal-heatmap":x.default}}}},align:{name:"Align",inlineOptions:{white:{name:"Top",value:"top"},lightGrey:{name:"Bottom",value:"bottom"}}},colorRangeGradient:{name:"Color Gradient",inlineOptions:E},dataTransform:{name:"Transforms",inlineOptions:{default:{name:"Default",value:"default"},None:{name:"None",value:"None"}},generateOptions:function(){function M(H){var L=[];if(H.transforms){var D=!0,j=!1,W=void 0;try{for(var B=(0,s.default)(H.transforms),F;!(D=(F=B.next()).done);D=!0){var N=F.value;L.push({name:N.name,value:N.value})}}catch(X){j=!0,W=X}finally{try{!D&&B.return&&B.return()}finally{if(j)throw W}}}return L}return M}()},aggregationMode:{name:"Aggregation Mode",inlineOptions:{},generateOptions:function(){function M(H){var L=[];return H.aggregationModes?(0,e.default)(H.aggregationModes).forEach(function(D){var j=D.name,W=D.value;L.push({name:j,value:W})}):L.push({name:"Default",value:"default"}),L}return M}()},maxZoom:{name:"Zoom limit",inlineOptions:{none:{name:"None",value:null}},generateOptions:function(){function M(H){if(H.maxZoom){for(var L=[],D=0;D<=H.maxZoom;D++){var j=H.maxWidth,W=H.binsPerDimension,B=H.maxZoom,F=1,N=1;if(H.resolutions){var X=H.resolutions.map(function(Z){return+Z}).sort(function(Z,st){return st-Z}),G=(0,a.default)(X,1);F=G[0],N=X[D]}else N=H.maxWidth/(Math.pow(2,D)*H.binsPerDimension),F=j/(Math.pow(2,B)*W);var V=(0,h.precisionPrefix)(F,N),z=(0,h.formatPrefix)("."+String(V),N),U=z(N);L.push({name:U,value:D.toString()})}return L}return[]}return M}()},valueColumn:{name:"Value column",inlineOptions:{none:{name:"None",value:null}},generateOptions:k},zeroValueColor:{name:"Zero Value Color",inlineOptions:_}};r.default=I},function(f,r,t){t(556),f.exports=t(12).Object.values},function(f,r,t){var n=t(16),a=t(330)(!1);n(n.S,"Object",{values:function(l){return a(l)}})},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(44),a=I(n),l=t(35),e=I(l),o=t(5),s=I(o),u=t(3),c=I(u),m=t(4),p=I(m),h=t(6),v=I(h),x=t(7),y=I(x),k=t(2),T=I(k),E=t(1),_=I(E),A=t(169),C=I(A),S=t(232),P=I(S),O=t(730),R=I(O);t(879);function I(H){return H&&H.__esModule?H:{default:H}}var M=function(H){(0,y.default)(L,H);function L(D){(0,c.default)(this,L);var j=(0,v.default)(this,(L.__proto__||(0,s.default)(L)).call(this,D));return j.state={colors:D.track.options.colorRange.slice()},j}return(0,p.default)(L,[{key:"handleColorsChanged",value:function(){function D(j){this.setState({colors:j})}return D}()},{key:"handleSubmit",value:function(){function D(){var j=this.props.track.options;j.colorRange=this.state.colors,this.props.onSubmit(this.props.track.options)}return D}()},{key:"handleAddColor",value:function(){function D(){this.setState(function(j){return{colors:j.colors.concat(j.colors[j.colors.length-1])}})}return D}()},{key:"handleRemoveColor",value:function(){function D(j){this.setState(function(W){return{colors:W.colors.slice(0,j).concat(W.colors.slice(j+1))}})}return D}()},{key:"render",value:function(){function D(){var j=this,W=JSON.parse((0,e.default)(this.props.track)),B=(0,a.default)(W,{options:{colorRange:this.state.colors}}),F={editable:!1,zoomFixed:!0,views:[{uid:"hmo-"+String(this.props.track.uid),initialXDomain:this.props.xScale?this.props.xScale.domain():[0,1],initialYDomain:this.props.yScale?this.props.yScale.domain():[0,1],tracks:{center:[B]},layout:{x:0,y:0,h:12,w:12,i:"hmo-"+String(this.props.track.id)}}]},N=this.state.colors.map(function(G,V){var z=j.state.colors.length>2&&V===j.state.colors.length-1?_.default.createElement("div",{onClick:function(){function U(){return j.handleRemoveColor(V)}return U}(),style:{background:"white",position:"absolute",top:0,right:0,opacity:1,width:14,height:14,borderRadius:2,cursor:"pointer"}},_.default.createElement("svg",{height:"10px",style:{position:"absolute",top:2,right:2,opacity:.5,width:10,height:10}},_.default.createElement("use",{xlinkHref:"#cross"}))):null;return _.default.createElement("div",{key:"l"+String(V),style:{borderRadius:"1px",boxShadow:"0 0 0 1px #E5E5E5",position:"relative",outline:"none"}},z,_.default.createElement(R.default,{key:V,color:j.state.colors[V],onChange:function(){function U(Z){j.setState(function(st){var Y=st.colors.slice();return Y[V]=Z,{colors:Y}},function(){j.handleColorsChanged(j.state.colors)})}return U}()}))}).reverse(),X=this.state.colors.length<10?_.default.createElement("div",{onClick:this.handleAddColor.bind(this),style:{position:"relative",outline:"none",height:"25px",padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px #E5E5E5",cursor:"pointer"}},_.default.createElement("div",{style:{textAlign:"center",width:"32px",height:"14px"}},_.default.createElement("svg",{height:"100%",style:{opacity:.5,margin:"auto",display:"block"},width:"10px"},_.default.createElement("use",{xlinkHref:"#plus"})))):null;return _.default.createElement(C.default,{okayTitle:"Submit",onCancel:this.props.onCancel,onOkay:this.handleSubmit.bind(this),title:"Custom Color Map"},_.default.createElement("table",{className:"table-track-options"},_.default.createElement("thead",null),_.default.createElement("tbody",{style:{verticalAlign:"top"}},_.default.createElement("tr",null,_.default.createElement("td",{className:"td-track-options"},_.default.createElement("table",null,_.default.createElement("tbody",null,_.default.createElement("tr",null,_.default.createElement("td",{className:"td-track-options"},"Preview")),_.default.createElement("tr",null,_.default.createElement("td",{className:"td-track-options"},_.default.createElement("div",{style:{width:200}},_.default.createElement(P.default,{options:{bounded:!1},viewConfig:F}))))))),_.default.createElement("td",{className:"td-track-options"},_.default.createElement("table",null,_.default.createElement("tbody",null,_.default.createElement("tr",null,_.default.createElement("td",{className:"td-track-options"},"Colors")),_.default.createElement("tr",null,_.default.createElement("td",{className:"td-track-options"},X,_.default.createElement("div",{style:{position:"relative"}},N))))))))))}return D}()}]),L}(_.default.Component);M.propTypes={handleCancel:T.default.func,onCancel:T.default.func,onSubmit:T.default.func,track:T.default.object,xScale:T.default.object,yScale:T.default.object},r.default=M},function(f,r,t){t(559),f.exports=t(12).Object.getPrototypeOf},function(f,r,t){var n=t(54),a=t(128);t(126)("getPrototypeOf",function(){return function(l){return a(n(l))}})},function(f,r,t){f.exports={default:t(561),__esModule:!0}},function(f,r,t){t(61),t(76),f.exports=t(168).f("iterator")},function(f,r,t){t(563),f.exports=t(12).Object.setPrototypeOf},function(f,r,t){var n=t(16);n(n.S,"Object",{setPrototypeOf:t(564).set})},function(f,r,t){var n=t(33),a=t(39),l=function(e,o){if(a(e),!n(o)&&o!==null)throw TypeError(o+": can't set as prototype!")};f.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,o,s){try{s=t(49)(Function.call,t(228).f(Object.prototype,"__proto__").set,2),s(e,[]),o=!(e instanceof Array)}catch{o=!0}return function(u,c){return l(u,c),o?u.__proto__=c:s(u,c),u}}({},!1):void 0),check:l}},function(f,r,t){f.exports={default:t(566),__esModule:!0}},function(f,r,t){t(567);var n=t(12).Object;f.exports=function(a,l){return n.create(a,l)}},function(f,r,t){var n=t(16);n(n.S,"Object",{create:t(110)})},function(f,r,t){var n=t(569);function a(){}function l(){}l.resetWarningCache=a,f.exports=function(){function e(u,c,m,p,h,v){if(v!==n){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}e.isRequired=e;function o(){return e}var s={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:o,element:e,elementType:e,instanceOf:o,node:e,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:l,resetWarningCache:a};return s.PropTypes=s,s}},function(f,r,t){var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";f.exports=n},function(f,r,t){f.exports={button:"Button-module_button-3YXsQ","button-shortcut":"Button-module_button-shortcut-1zMAn"}},function(f,r,t){f.exports={cross:"Cross-module_cross-3WYME"}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(29),a=x(n),l=t(1),e=x(l),o=t(2),s=x(o),u=t(170),c=x(u),m=t(332),p=x(m),h=t(132),v=x(h);t(573);function x(T){return T&&T.__esModule?T:{default:T}}var y={"../styles/Modal.module.scss":{"modal-background":"Modal-module_modal-background-3vDy1","fade-in":"Modal-module_fade-in-3Nm-O","modal-hide":"Modal-module_modal-hide-3huBg","modal-wrap":"Modal-module_modal-wrap-1HWNn","modal-window":"Modal-module_modal-window-1XZAq","fade-scale-in":"Modal-module_fade-scale-in-11Dkx","modal-window-max-height":"Modal-module_modal-window-max-height-CZYCl","modal-content":"Modal-module_modal-content-2xb_x"}},k=function(T){var E=function(){T.modal.close(),T.onClose&&T.onClose()};return e.default.createElement("div",{className:(0,a.default)("modal-background "+(T.hide?"modal-hide":""),y)},e.default.createElement("div",{className:"Modal-module_modal-wrap-1HWNn"},e.default.createElement("div",{className:(0,a.default)("modal-window "+(T.maxHeight?"modal-window-max-height":""),y)},T.closeButton&&e.default.createElement(c.default,{onClick:E},e.default.createElement(p.default,null)),e.default.createElement("div",{className:"Modal-module_modal-content-2xb_x"},T.children))))};k.defaultProps={closeButton:!0,hide:!1,maxHeight:!1},k.propTypes={children:s.default.element.isRequired,closeButton:s.default.bool,hide:s.default.bool,maxHeight:s.default.bool,modal:s.default.object.isRequired,onClose:s.default.func},r.default=(0,v.default)(k)},function(f,r,t){f.exports={"modal-background":"Modal-module_modal-background-3vDy1","fade-in":"Modal-module_fade-in-3Nm-O","modal-hide":"Modal-module_modal-hide-3huBg","modal-wrap":"Modal-module_modal-wrap-1HWNn","modal-window":"Modal-module_modal-window-1XZAq","fade-scale-in":"Modal-module_fade-scale-in-11Dkx","modal-window-max-height":"Modal-module_modal-window-max-height-CZYCl","modal-content":"Modal-module_modal-content-2xb_x"}},function(f,r,t){f.exports={"dialog-header":"Dialog-module_dialog-header-2mk2M","dialog-main-max-height":"Dialog-module_dialog-main-max-height-1EAb2","dialog-footer":"Dialog-module_dialog-footer-1BnEv","dialog-footer-max-height":"Dialog-module_dialog-footer-max-height-KjDek"}},function(f,r,t){f.exports={default:t(576),__esModule:!0}},function(f,r,t){t(577),f.exports=t(12).Object.entries},function(f,r,t){var n=t(16),a=t(330)(!0);n(n.S,"Object",{entries:function(l){return a(l)}})},function(f,r,t){t(164),t(61),t(76),t(579),t(583),t(585),t(586),f.exports=t(12).Set},function(f,r,t){var n=t(333),a=t(238),l="Set";f.exports=t(334)(l,function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return n.def(a(this,l),e=e===0?0:e,e)}},n)},function(f,r,t){var n=t(49),a=t(105),l=t(54),e=t(88),o=t(581);f.exports=function(s,u){var c=s==1,m=s==2,p=s==3,h=s==4,v=s==6,x=s==5||v,y=u||o;return function(k,T,E){for(var _=l(k),A=a(_),C=n(T,E,3),S=e(A.length),P=0,O=c?y(k,S):m?y(k,0):void 0,R,I;S>P;P++)if((x||P in A)&&(R=A[P],I=C(R,P,_),s)){if(c)O[P]=I;else if(I)switch(s){case 3:return!0;case 5:return R;case 6:return P;case 2:O.push(R)}else if(h)return!1}return v?-1:p||h?h:O}}},function(f,r,t){var n=t(582);f.exports=function(a,l){return new(n(a))(l)}},function(f,r,t){var n=t(33),a=t(328),l=t(21)("species");f.exports=function(e){var o;return a(e)&&(o=e.constructor,typeof o=="function"&&(o===Array||a(o.prototype))&&(o=void 0),n(o)&&(o=o[l],o===null&&(o=void 0))),o===void 0?Array:o}},function(f,r,t){var n=t(16);n(n.P+n.R,"Set",{toJSON:t(335)("Set")})},function(f,r,t){var n=t(129);f.exports=function(a,l){var e=[];return n(a,!1,e.push,e,l),e}},function(f,r,t){t(336)("Set")},function(f,r,t){t(337)("Set")},function(f,r,t){(function(n){var a=t(590);r.encode=function(l){var e=a.parse(l),o=new n(e).toString("base64"),s=o.replace(/\+/g,"-").replace(/\//g,"_").substring(0,22);return s},r.decode=function(l){var e=l.replace(/-/g,"+").replace(/_/g,"/")+"==";return a.unparse(new n(e,"base64"))},r.v4=function(){var l=a.v4(null,new n(16)),e=l.toString("base64"),o=e.replace(/\+/g,"-").replace(/\//g,"_").substring(0,22);return o},r.nice=function(){var l=a.v4(null,new n(16));l[0]=l[0]&127;var e=l.toString("base64"),o=e.replace(/\+/g,"-").replace(/\//g,"_").substring(0,22);return o}}).call(this,t(113).Buffer)},function(f,r,t){r.byteLength=c,r.toByteArray=p,r.fromByteArray=x;for(var n=[],a=[],l=typeof Uint8Array<"u"?Uint8Array:Array,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,s=e.length;o<s;++o)n[o]=e[o],a[e.charCodeAt(o)]=o;a[45]=62,a[95]=63;function u(y){var k=y.length;if(k%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var T=y.indexOf("=");T===-1&&(T=k);var E=T===k?0:4-T%4;return[T,E]}function c(y){var k=u(y),T=k[0],E=k[1];return(T+E)*3/4-E}function m(y,k,T){return(k+T)*3/4-T}function p(y){for(var k,T=u(y),E=T[0],_=T[1],A=new l(m(y,E,_)),C=0,S=_>0?E-4:E,P=0;P<S;P+=4)k=a[y.charCodeAt(P)]<<18|a[y.charCodeAt(P+1)]<<12|a[y.charCodeAt(P+2)]<<6|a[y.charCodeAt(P+3)],A[C++]=k>>16&255,A[C++]=k>>8&255,A[C++]=k&255;return _===2&&(k=a[y.charCodeAt(P)]<<2|a[y.charCodeAt(P+1)]>>4,A[C++]=k&255),_===1&&(k=a[y.charCodeAt(P)]<<10|a[y.charCodeAt(P+1)]<<4|a[y.charCodeAt(P+2)]>>2,A[C++]=k>>8&255,A[C++]=k&255),A}function h(y){return n[y>>18&63]+n[y>>12&63]+n[y>>6&63]+n[y&63]}function v(y,k,T){for(var E,_=[],A=k;A<T;A+=3)E=(y[A]<<16&16711680)+(y[A+1]<<8&65280)+(y[A+2]&255),_.push(h(E));return _.join("")}function x(y){for(var k,T=y.length,E=T%3,_=[],A=16383,C=0,S=T-E;C<S;C+=A)_.push(v(y,C,C+A>S?S:C+A));return E===1?(k=y[T-1],_.push(n[k>>2]+n[k<<4&63]+"==")):E===2&&(k=(y[T-2]<<8)+y[T-1],_.push(n[k>>10]+n[k>>4&63]+n[k<<2&63]+"=")),_.join("")}},function(f,r){r.read=function(t,n,a,l,e){var o,s,u=e*8-l-1,c=(1<<u)-1,m=c>>1,p=-7,h=a?e-1:0,v=a?-1:1,x=t[n+h];for(h+=v,o=x&(1<<-p)-1,x>>=-p,p+=u;p>0;o=o*256+t[n+h],h+=v,p-=8);for(s=o&(1<<-p)-1,o>>=-p,p+=l;p>0;s=s*256+t[n+h],h+=v,p-=8);if(o===0)o=1-m;else{if(o===c)return s?NaN:(x?-1:1)*(1/0);s=s+Math.pow(2,l),o=o-m}return(x?-1:1)*s*Math.pow(2,o-l)},r.write=function(t,n,a,l,e,o){var s,u,c,m=o*8-e-1,p=(1<<m)-1,h=p>>1,v=e===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=l?0:o-1,y=l?1:-1,k=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(u=isNaN(n)?1:0,s=p):(s=Math.floor(Math.log(n)/Math.LN2),n*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+h>=1?n+=v/c:n+=v*Math.pow(2,1-h),n*c>=2&&(s++,c/=2),s+h>=p?(u=0,s=p):s+h>=1?(u=(n*c-1)*Math.pow(2,e),s=s+h):(u=n*Math.pow(2,h-1)*Math.pow(2,e),s=0));e>=8;t[a+x]=u&255,x+=y,u/=256,e-=8);for(s=s<<e|u,m+=e;m>0;t[a+x]=s&255,x+=y,s/=256,m-=8);t[a+x-y]|=k*128}},function(f,r,t){for(var n=t(591),a=[],l={},e=0;e<256;e++)a[e]=(e+256).toString(16).substr(1),l[a[e]]=e;function o(k,T,E){var _=T&&E||0,A=0;for(T=T||[],k.toLowerCase().replace(/[0-9a-f]{2}/g,function(C){A<16&&(T[_+A++]=l[C])});A<16;)T[_+A++]=0;return T}function s(k,T){var E=T||0,_=a;return _[k[E++]]+_[k[E++]]+_[k[E++]]+_[k[E++]]+"-"+_[k[E++]]+_[k[E++]]+"-"+_[k[E++]]+_[k[E++]]+"-"+_[k[E++]]+_[k[E++]]+"-"+_[k[E++]]+_[k[E++]]+_[k[E++]]+_[k[E++]]+_[k[E++]]+_[k[E++]]}var u=n(),c=[u[0]|1,u[1],u[2],u[3],u[4],u[5]],m=(u[6]<<8|u[7])&16383,p=0,h=0;function v(k,T,E){var _=T&&E||0,A=T||[];k=k||{};var C=k.clockseq!==void 0?k.clockseq:m,S=k.msecs!==void 0?k.msecs:new Date().getTime(),P=k.nsecs!==void 0?k.nsecs:h+1,O=S-p+(P-h)/1e4;if(O<0&&k.clockseq===void 0&&(C=C+1&16383),(O<0||S>p)&&k.nsecs===void 0&&(P=0),P>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");p=S,h=P,m=C,S+=122192928e5;var R=((S&268435455)*1e4+P)%4294967296;A[_++]=R>>>24&255,A[_++]=R>>>16&255,A[_++]=R>>>8&255,A[_++]=R&255;var I=S/4294967296*1e4&268435455;A[_++]=I>>>8&255,A[_++]=I&255,A[_++]=I>>>24&15|16,A[_++]=I>>>16&255,A[_++]=C>>>8|128,A[_++]=C&255;for(var M=k.node||c,H=0;H<6;H++)A[_+H]=M[H];return T||s(A)}function x(k,T,E){var _=T&&E||0;typeof k=="string"&&(T=k=="binary"?new Array(16):null,k=null),k=k||{};var A=k.random||(k.rng||n)();if(A[6]=A[6]&15|64,A[8]=A[8]&63|128,T)for(var C=0;C<16;C++)T[_+C]=A[C];return T||s(A)}var y=x;y.v1=v,y.v4=x,y.parse=o,y.unparse=s,f.exports=y},function(f,r,t){(function(n){var a,l=n.crypto||n.msCrypto;if(l&&l.getRandomValues){var e=new Uint8Array(16);a=function(){return l.getRandomValues(e),e}}if(!a){var o=new Array(16);a=function(){for(var s=0,u;s<16;s++)s&3||(u=Math.random()*4294967296),o[s]=u>>>((s&3)<<3)&255;return o}}f.exports=a}).call(this,t(27))},function(f,r,t){f.exports=t(339).default,f.exports.utils=t(133),f.exports.Responsive=t(597).default,f.exports.Responsive.utils=t(343),f.exports.WidthProvider=t(598).default},function(f,r,t){r.__esModule=!0;var n=Object.assign||function(T){for(var E=1;E<arguments.length;E++){var _=arguments[E];for(var A in _)Object.prototype.hasOwnProperty.call(_,A)&&(T[A]=_[A])}return T},a=t(1),l=h(a),e=t(2),o=h(e),s=t(341),u=t(594),c=t(133),m=t(340),p=h(m);function h(T){return T&&T.__esModule?T:{default:T}}function v(T,E){if(!(T instanceof E))throw new TypeError("Cannot call a class as a function")}function x(T,E){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:T}function y(T,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(T,E):T.__proto__=E)}var k=function(T){y(E,T);function E(){var _,A,C;v(this,E);for(var S=arguments.length,P=Array(S),O=0;O<S;O++)P[O]=arguments[O];return C=(_=(A=x(this,T.call.apply(T,[this].concat(P))),A),A.state={resizing:null,dragging:null,className:""},_),x(A,C)}return E.prototype.calcColWidth=function(){var _=this.props,A=_.margin,C=_.containerPadding,S=_.containerWidth,P=_.cols;return(S-A[0]*(P-1)-C[0]*2)/P},E.prototype.calcPosition=function(_,A,C,S,P){var O=this.props,R=O.margin,I=O.containerPadding,M=O.rowHeight,H=this.calcColWidth(),L={left:Math.round((H+R[0])*_+I[0]),top:Math.round((M+R[1])*A+I[1]),width:C===1/0?C:Math.round(H*C+Math.max(0,C-1)*R[0]),height:S===1/0?S:Math.round(M*S+Math.max(0,S-1)*R[1])};return P&&P.resizing&&(L.width=Math.round(P.resizing.width),L.height=Math.round(P.resizing.height)),P&&P.dragging&&(L.top=Math.round(P.dragging.top),L.left=Math.round(P.dragging.left)),L},E.prototype.calcXY=function(_,A){var C=this.props,S=C.margin,P=C.cols,O=C.rowHeight,R=C.w,I=C.h,M=C.maxRows,H=this.calcColWidth(),L=Math.round((A-S[0])/(H+S[0])),D=Math.round((_-S[1])/(O+S[1]));return L=Math.max(Math.min(L,P-R),0),D=Math.max(Math.min(D,M-I),0),{x:L,y:D}},E.prototype.calcWH=function(_){var A=_.height,C=_.width,S=this.props,P=S.margin,O=S.maxRows,R=S.cols,I=S.rowHeight,M=S.x,H=S.y,L=this.calcColWidth(),D=Math.round((C+P[0])/(L+P[0])),j=Math.round((A+P[1])/(I+P[1]));return D=Math.max(Math.min(D,R-M),0),j=Math.max(Math.min(j,O-H),0),{w:D,h:j}},E.prototype.createStyle=function(_){var A=this.props,C=A.usePercentages,S=A.containerWidth,P=A.useCSSTransforms,O=void 0;return P?O=(0,c.setTransform)(_):(O=(0,c.setTopLeft)(_),C&&(O.left=(0,c.perc)(_.left/S),O.width=(0,c.perc)(_.width/S))),O},E.prototype.mixinDraggable=function(_){return l.default.createElement(s.DraggableCore,{onStart:this.onDragHandler("onDragStart"),onDrag:this.onDragHandler("onDrag"),onStop:this.onDragHandler("onDragStop"),handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:"")},_)},E.prototype.mixinResizable=function(_,A){var C=this.props,S=C.cols,P=C.x,O=C.minW,R=C.minH,I=C.maxW,M=C.maxH,H=this.calcPosition(0,0,S-P,0).width,L=this.calcPosition(0,0,O,R),D=this.calcPosition(0,0,I,M),j=[L.width,L.height],W=[Math.min(D.width,H),Math.min(D.height,1/0)];return l.default.createElement(u.Resizable,{width:A.width,height:A.height,minConstraints:j,maxConstraints:W,onResizeStop:this.onResizeHandler("onResizeStop"),onResizeStart:this.onResizeHandler("onResizeStart"),onResize:this.onResizeHandler("onResize")},_)},E.prototype.onDragHandler=function(_){var A=this;return function(C,S){var P=S.node,O=S.deltaX,R=S.deltaY,I=A.props[_];if(I){var M={top:0,left:0};switch(_){case"onDragStart":{var H=P.offsetParent;if(!H)return;var L=H.getBoundingClientRect(),D=P.getBoundingClientRect();M.left=D.left-L.left+H.scrollLeft,M.top=D.top-L.top+H.scrollTop,A.setState({dragging:M});break}case"onDrag":if(!A.state.dragging)throw new Error("onDrag called before onDragStart.");M.left=A.state.dragging.left+O,M.top=A.state.dragging.top+R,A.setState({dragging:M});break;case"onDragStop":if(!A.state.dragging)throw new Error("onDragEnd called before onDragStart.");M.left=A.state.dragging.left,M.top=A.state.dragging.top,A.setState({dragging:null});break;default:throw new Error("onDragHandler called with unrecognized handlerName: "+_)}var j=A.calcXY(M.top,M.left),W=j.x,B=j.y;return I.call(A,A.props.i,W,B,{e:C,node:P,newPosition:M})}}},E.prototype.onResizeHandler=function(_){var A=this;return function(C,S){var P=S.node,O=S.size,R=A.props[_];if(R){var I=A.props,M=I.cols,H=I.x,L=I.i,D=I.maxW,j=I.minW,W=I.maxH,B=I.minH,F=A.calcWH(O),N=F.w,X=F.h;N=Math.min(N,M-H),N=Math.max(N,1),N=Math.max(Math.min(N,D),j),X=Math.max(Math.min(X,W),B),A.setState({resizing:_==="onResizeStop"?null:O}),R.call(A,L,N,X,{e:C,node:P,size:O})}}},E.prototype.render=function(){var _=this.props,A=_.x,C=_.y,S=_.w,P=_.h,O=_.isDraggable,R=_.isResizable,I=_.useCSSTransforms,M=this.calcPosition(A,C,S,P,this.state),H=l.default.Children.only(this.props.children),L=l.default.cloneElement(H,{className:(0,p.default)("react-grid-item",H.props.className,this.props.className,{static:this.props.static,resizing:!!this.state.resizing,"react-draggable":O,"react-draggable-dragging":!!this.state.dragging,cssTransforms:I}),style:n({},this.props.style,H.props.style,this.createStyle(M))});return R&&(L=this.mixinResizable(L,M)),O&&(L=this.mixinDraggable(L)),L},E}(l.default.Component);k.propTypes={children:o.default.element,cols:o.default.number.isRequired,containerWidth:o.default.number.isRequired,rowHeight:o.default.number.isRequired,margin:o.default.array.isRequired,maxRows:o.default.number.isRequired,containerPadding:o.default.array.isRequired,x:o.default.number.isRequired,y:o.default.number.isRequired,w:o.default.number.isRequired,h:o.default.number.isRequired,minW:function(T,E){var _=T[E];if(typeof _!="number")return new Error("minWidth not Number");if(_>T.w||_>T.maxW)return new Error("minWidth larger than item width/maxWidth")},maxW:function(T,E){var _=T[E];if(typeof _!="number")return new Error("maxWidth not Number");if(_<T.w||_<T.minW)return new Error("maxWidth smaller than item width/minWidth")},minH:function(T,E){var _=T[E];if(typeof _!="number")return new Error("minHeight not Number");if(_>T.h||_>T.maxH)return new Error("minHeight larger than item height/maxHeight")},maxH:function(T,E){var _=T[E];if(typeof _!="number")return new Error("maxHeight not Number");if(_<T.h||_<T.minH)return new Error("maxHeight smaller than item height/minHeight")},i:o.default.string.isRequired,onDragStop:o.default.func,onDragStart:o.default.func,onDrag:o.default.func,onResizeStop:o.default.func,onResizeStart:o.default.func,onResize:o.default.func,isDraggable:o.default.bool.isRequired,isResizable:o.default.bool.isRequired,static:o.default.bool,useCSSTransforms:o.default.bool.isRequired,className:o.default.string,handle:o.default.string,cancel:o.default.string},k.defaultProps={className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0},r.default=k},function(f,r,t){f.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},f.exports.Resizable=t(342).default,f.exports.ResizableBox=t(596).default},function(f,r,t){var n=Object.assign||function(o){for(var s=1;s<arguments.length;s++){var u=arguments[s];for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(o[c]=u[c])}return o},a=t(1),l=e(a);function e(o){return o&&o.__esModule?o:{default:o}}f.exports=function(o,s){return s.style&&o.props.style&&(s.style=n({},o.props.style,s.style)),s.className&&o.props.className&&(s.className=o.props.className+" "+s.className),l.default.cloneElement(o,s)}},function(f,r,t){r.__esModule=!0;var n=Object.assign||function(y){for(var k=1;k<arguments.length;k++){var T=arguments[k];for(var E in T)Object.prototype.hasOwnProperty.call(T,E)&&(y[E]=T[E])}return y},a=t(1),l=c(a),e=t(2),o=c(e),s=t(342),u=c(s);function c(y){return y&&y.__esModule?y:{default:y}}function m(y,k){var T={};for(var E in y)k.indexOf(E)>=0||Object.prototype.hasOwnProperty.call(y,E)&&(T[E]=y[E]);return T}function p(y,k){if(!(y instanceof k))throw new TypeError("Cannot call a class as a function")}function h(y,k){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:y}function v(y,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);y.prototype=Object.create(k&&k.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(y,k):y.__proto__=k)}var x=function(y){v(k,y);function k(){var T,E,_;p(this,k);for(var A=arguments.length,C=Array(A),S=0;S<A;S++)C[S]=arguments[S];return _=(T=(E=h(this,y.call.apply(y,[this].concat(C))),E),E.state={width:E.props.width,height:E.props.height},E.onResize=function(P,O){var R=O.size;R.width,R.height,E.props.onResize?(P.persist&&P.persist(),E.setState(R,function(){return E.props.onResize&&E.props.onResize(P,O)})):E.setState(R)},T),h(E,_)}return k.prototype.componentWillReceiveProps=function(T){(T.width!==this.props.width||T.height!==this.props.height)&&this.setState({width:T.width,height:T.height})},k.prototype.render=function(){var T=this.props,E=T.handle,_=T.handleSize;T.onResize;var A=T.onResizeStart,C=T.onResizeStop,S=T.draggableOpts,P=T.minConstraints,O=T.maxConstraints,R=T.lockAspectRatio,I=T.axis;T.width,T.height;var M=T.resizeHandles,H=m(T,["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles"]);return l.default.createElement(u.default,{handle:E,handleSize:_,width:this.state.width,height:this.state.height,onResizeStart:A,onResize:this.onResize,onResizeStop:C,draggableOpts:S,minConstraints:P,maxConstraints:O,lockAspectRatio:R,axis:I,resizeHandles:M},l.default.createElement("div",n({style:{width:this.state.width+"px",height:this.state.height+"px"}},H)))},k}(l.default.Component);x.propTypes={height:o.default.number,width:o.default.number},x.defaultProps={handleSize:[20,20]},r.default=x},function(f,r,t){r.__esModule=!0;var n=Object.assign||function(A){for(var C=1;C<arguments.length;C++){var S=arguments[C];for(var P in S)Object.prototype.hasOwnProperty.call(S,P)&&(A[P]=S[P])}return A},a=t(1),l=v(a),e=t(2),o=v(e),s=t(172),u=v(s),c=t(133),m=t(343),p=t(339),h=v(p);function v(A){return A&&A.__esModule?A:{default:A}}function x(A,C){var S={};for(var P in A)C.indexOf(P)>=0||Object.prototype.hasOwnProperty.call(A,P)&&(S[P]=A[P]);return S}function y(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function")}function k(A,C){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:A}function T(A,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);A.prototype=Object.create(C&&C.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(A,C):A.__proto__=C)}var E=function(A){return Object.prototype.toString.call(A)},_=function(A){T(C,A);function C(){var S,P,O;y(this,C);for(var R=arguments.length,I=Array(R),M=0;M<R;M++)I[M]=arguments[M];return O=(S=(P=k(this,A.call.apply(A,[this].concat(I))),P),P.state=P.generateInitialState(),P.onLayoutChange=function(H){var L;P.props.onLayoutChange(H,n({},P.props.layouts,(L={},L[P.state.breakpoint]=H,L)))},S),k(P,O)}return C.prototype.generateInitialState=function(){var S=this.props,P=S.width,O=S.breakpoints,R=S.layouts,I=S.cols,M=(0,m.getBreakpointFromWidth)(O,P),H=(0,m.getColsFromBreakpoint)(M,I),L=this.props.verticalCompact===!1?null:this.props.compactType,D=(0,m.findOrGenerateResponsiveLayout)(R,O,M,M,H,L);return{layout:D,breakpoint:M,cols:H}},C.prototype.componentWillReceiveProps=function(S){if(S.width!=this.props.width||S.breakpoint!==this.props.breakpoint||!(0,u.default)(S.breakpoints,this.props.breakpoints)||!(0,u.default)(S.cols,this.props.cols))this.onWidthChange(S);else if(!(0,u.default)(S.layouts,this.props.layouts)){var P=this.state,O=P.breakpoint,R=P.cols,I=(0,m.findOrGenerateResponsiveLayout)(S.layouts,S.breakpoints,O,O,R,S.compactType);this.setState({layout:I})}},C.prototype.onWidthChange=function(S){var P=S.breakpoints,O=S.cols,R=S.layouts,I=S.compactType,M=S.breakpoint||(0,m.getBreakpointFromWidth)(S.breakpoints,S.width),H=this.state.breakpoint;if(H!==M||this.props.breakpoints!==P||this.props.cols!==O){H in R||(R[H]=(0,c.cloneLayout)(this.state.layout));var L=(0,m.getColsFromBreakpoint)(M,O),D=(0,m.findOrGenerateResponsiveLayout)(R,P,M,H,L,I);D=(0,c.synchronizeLayoutWithChildren)(D,S.children,L,I),R[M]=D,this.props.onLayoutChange(D,R),this.props.onBreakpointChange(M,L),this.props.onWidthChange(S.width,S.margin,L,S.containerPadding),this.setState({breakpoint:M,layout:D,cols:L})}},C.prototype.render=function(){var S=this.props;S.breakpoint,S.breakpoints,S.cols,S.layouts,S.onBreakpointChange,S.onLayoutChange,S.onWidthChange;var P=x(S,["breakpoint","breakpoints","cols","layouts","onBreakpointChange","onLayoutChange","onWidthChange"]);return l.default.createElement(h.default,n({},P,{onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))},C}(l.default.Component);_.propTypes={breakpoint:o.default.string,breakpoints:o.default.object,cols:o.default.object,layouts:function(A,C){if(E(A[C])!=="[object Object]")throw new Error("Layout property must be an object. Received: "+E(A[C]));Object.keys(A[C]).forEach(function(S){if(!(S in A.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,c.validateLayout)(A.layouts[S],"layouts."+S)})},width:o.default.number.isRequired,onBreakpointChange:o.default.func,onLayoutChange:o.default.func,onWidthChange:o.default.func},_.defaultProps={breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},layouts:{},onBreakpointChange:c.noop,onLayoutChange:c.noop,onWidthChange:c.noop},r.default=_},function(f,r,t){r.__esModule=!0;var n=Object.assign||function(y){for(var k=1;k<arguments.length;k++){var T=arguments[k];for(var E in T)Object.prototype.hasOwnProperty.call(T,E)&&(y[E]=T[E])}return y};r.default=x;var a=t(1),l=c(a),e=t(2),o=c(e),s=t(42),u=c(s);function c(y){return y&&y.__esModule?y:{default:y}}function m(y,k){var T={};for(var E in y)k.indexOf(E)>=0||Object.prototype.hasOwnProperty.call(y,E)&&(T[E]=y[E]);return T}function p(y,k){if(!(y instanceof k))throw new TypeError("Cannot call a class as a function")}function h(y,k){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:y}function v(y,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);y.prototype=Object.create(k&&k.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(y,k):y.__proto__=k)}function x(y){var k,T;return T=k=function(E){v(_,E);function _(){var A,C,S;p(this,_);for(var P=arguments.length,O=Array(P),R=0;R<P;R++)O[R]=arguments[R];return S=(A=(C=h(this,E.call.apply(E,[this].concat(O))),C),C.state={width:1280},C.mounted=!1,C.onWindowResize=function(){if(C.mounted){var I=u.default.findDOMNode(C);I instanceof HTMLElement&&C.setState({width:I.offsetWidth})}},A),h(C,S)}return _.prototype.componentDidMount=function(){this.mounted=!0,window.addEventListener("resize",this.onWindowResize),this.onWindowResize()},_.prototype.componentWillUnmount=function(){this.mounted=!1,window.removeEventListener("resize",this.onWindowResize)},_.prototype.render=function(){var A=this.props,C=A.measureBeforeMount,S=m(A,["measureBeforeMount"]);return C&&!this.mounted?l.default.createElement("div",{className:this.props.className,style:this.props.style}):l.default.createElement(y,n({},S,this.state))},_}(l.default.Component),k.defaultProps={measureBeforeMount:!1},k.propTypes={measureBeforeMount:o.default.bool},T}},function(f,r,t){var n,a,l;(function(e,o){a=[t(345)],n=o,l=typeof n=="function"?n.apply(r,a):n,l!==void 0&&(f.exports=l)})(typeof window<"u"?window:this,function(e){var o=function(){var u,c={},m=[];function p(I){I||(I=document.documentElement);var M=window.getComputedStyle(I,null).fontSize;return parseFloat(M)||16}function h(I){if(!I.getBoundingClientRect)return{width:I.offsetWidth,height:I.offsetHeight};var M=I.getBoundingClientRect();return{width:Math.round(M.width),height:Math.round(M.height)}}function v(I,M){var H=M.split(/\d/),L=H[H.length-1];switch(M=parseFloat(M),L){case"px":return M;case"em":return M*p(I);case"rem":return M*p();case"vw":return M*document.documentElement.clientWidth/100;case"vh":return M*document.documentElement.clientHeight/100;case"vmin":case"vmax":var D=document.documentElement.clientWidth/100,j=document.documentElement.clientHeight/100,W=Math[L==="vmin"?"min":"max"];return M*W(D,j);default:return M}}function x(I,M){this.element=I;var H,L,D,j,W,B,F,N,X=["min-width","min-height","max-width","max-height"];this.call=function(){D=h(this.element),B={};for(H in c[M])c[M].hasOwnProperty(H)&&(L=c[M][H],j=v(this.element,L.value),W=L.property==="width"?D.width:D.height,N=L.mode+"-"+L.property,F="",L.mode==="min"&&W>=j&&(F+=L.value),L.mode==="max"&&W<=j&&(F+=L.value),B[N]||(B[N]=""),F&&(" "+B[N]+" ").indexOf(" "+F+" ")===-1&&(B[N]+=" "+F));for(var G in X)X.hasOwnProperty(G)&&(B[X[G]]?this.element.setAttribute(X[G],B[X[G]].substr(1)):this.element.removeAttribute(X[G]))}}function y(I,M){I.elementQueriesSetupInformation||(I.elementQueriesSetupInformation=new x(I,M)),I.elementQueriesSensor||(I.elementQueriesSensor=new e(I,function(){I.elementQueriesSetupInformation.call()})),I.elementQueriesSetupInformation.call()}function k(I,M,H,L){if(typeof c[I]>"u"){c[I]=[];var D=m.length;u.innerHTML+=`
`+I+" {animation: 0.1s element-queries;}",u.innerHTML+=`
`+I+" > .resize-sensor {min-width: "+D+"px;}",m.push(I)}c[I].push({mode:M,property:H,value:L})}function T(I){var M;if(document.querySelectorAll&&(M=I?I.querySelectorAll.bind(I):document.querySelectorAll.bind(document)),!M&&typeof $$<"u"&&(M=$$),!M&&typeof jQuery<"u"&&(M=jQuery),!M)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";return M}function E(I){var M=T(I);for(var H in c)if(c.hasOwnProperty(H))for(var L=M(H,I),D=0,j=L.length;D<j;D++)y(L[D],H)}function _(I){var M=[],H=[],L=[],D=0,j=-1,W=[];for(var B in I.children)if(I.children.hasOwnProperty(B)&&I.children[B].tagName&&I.children[B].tagName.toLowerCase()==="img"){M.push(I.children[B]);var F=I.children[B].getAttribute("min-width")||I.children[B].getAttribute("data-min-width"),N=I.children[B].getAttribute("data-src")||I.children[B].getAttribute("url");L.push(N);var X={minWidth:F};H.push(X),F?I.children[B].style.display="none":(D=M.length-1,I.children[B].style.display="block")}j=D;function G(){var V=!1,z;for(z in M)M.hasOwnProperty(z)&&H[z].minWidth&&I.offsetWidth>H[z].minWidth&&(V=z);if(V||(V=D),j!==V)if(W[V])M[j].style.display="none",M[V].style.display="block",j=V;else{var U=new Image;U.onload=function(){M[V].src=L[V],M[j].style.display="none",M[V].style.display="block",W[V]=!0,j=V},U.src=L[V]}else M[V].src=L[V]}I.resizeSensorInstance=new e(I,G),G()}function A(){for(var I=T(),M=I("[data-responsive-image],[responsive-image]"),H=0,L=M.length;H<L;H++)_(M[H])}var C=/,?[\s\t]*([^,\n]*?)((?:\[[\s\t]*?(?:min|max)-(?:width|height)[\s\t]*?[~$\^]?=[\s\t]*?"[^"]*?"[\s\t]*?])+)([^,\n\s\{]*)/mgi,S=/\[[\s\t]*?(min|max)-(width|height)[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]/mgi;function P(I){var M,H,L,D;for(I=I.replace(/'/g,'"');(M=C.exec(I))!==null;)for(H=M[1]+M[3],L=M[2];(D=S.exec(L))!==null;)k(H,D[1],D[2],D[3])}function O(I){var M="";if(I)if(typeof I=="string")I=I.toLowerCase(),(I.indexOf("min-width")!==-1||I.indexOf("max-width")!==-1)&&P(I);else for(var H=0,L=I.length;H<L;H++)I[H].type===1?(M=I[H].selectorText||I[H].cssText,(M.indexOf("min-height")!==-1||M.indexOf("max-height")!==-1||M.indexOf("min-width")!==-1||M.indexOf("max-width")!==-1)&&P(M)):I[H].type===4?O(I[H].cssRules||I[H].rules):I[H].type===3&&I[H].styleSheet.hasOwnProperty("cssRules")&&O(I[H].styleSheet.cssRules)}var R=!1;this.init=function(){var I="animationstart";typeof document.documentElement.style.webkitAnimationName<"u"?I="webkitAnimationStart":typeof document.documentElement.style.MozAnimationName<"u"?I="mozanimationstart":typeof document.documentElement.style.OAnimationName<"u"&&(I="oanimationstart"),document.body.addEventListener(I,function(L){var D=L.target,j=D&&window.getComputedStyle(D,null),W=j&&j.getPropertyValue("animation-name"),B=W&&W.indexOf("element-queries")!==-1;if(B){D.elementQueriesSensor=new e(D,function(){D.elementQueriesSetupInformation&&D.elementQueriesSetupInformation.call()});var F=window.getComputedStyle(D.resizeSensor,null),N=F.getPropertyValue("min-width");N=parseInt(N.replace("px","")),y(L.target,m[N])}}),R||(u=document.createElement("style"),u.type="text/css",u.innerHTML="[responsive-image] > img, [data-responsive-image] {overflow: hidden; padding: 0; } [responsive-image] > img, [data-responsive-image] > img {width: 100%;}",u.innerHTML+=`
@keyframes element-queries { 0% { visibility: inherit; } }`,document.getElementsByTagName("head")[0].appendChild(u),R=!0);for(var M=0,H=document.styleSheets.length;M<H;M++)try{document.styleSheets[M].href&&document.styleSheets[M].href.indexOf("file://")===0&&console.log("CssElementQueries: unable to parse local css files, "+document.styleSheets[M].href),O(document.styleSheets[M].cssRules||document.styleSheets[M].rules||document.styleSheets[M].cssText)}catch{}A()},this.findElementQueriesElements=function(I){E(I)},this.update=function(){this.init()}};o.update=function(){o.instance.update()},o.detach=function(u){u.elementQueriesSetupInformation?(u.elementQueriesSensor.detach(),delete u.elementQueriesSetupInformation,delete u.elementQueriesSensor):u.resizeSensorInstance&&(u.resizeSensorInstance.detach(),delete u.resizeSensorInstance)},o.init=function(){o.instance||(o.instance=new o),o.instance.init()};var s=function(u){if(document.addEventListener)document.addEventListener("DOMContentLoaded",u,!1);else if(/KHTML|WebKit|iCab/i.test(navigator.userAgent))var c=setInterval(function(){/loaded|complete/i.test(document.readyState)&&(u(),clearInterval(c))},10);else window.onload=u};return o.findElementQueriesElements=function(u){o.instance.findElementQueriesElements(u)},o.listen=function(){s(o.init)},o})},function(f,r){function t(e){var o="    ";if(isNaN(parseInt(e)))o=e;else switch(e){case 1:o=" ";break;case 2:o="  ";break;case 3:o="   ";break;case 4:o="    ";break;case 5:o="     ";break;case 6:o="      ";break;case 7:o="       ";break;case 8:o="        ";break;case 9:o="         ";break;case 10:o="          ";break;case 11:o="           ";break;case 12:o="            ";break}for(var s=[`
`],u=0;u<100;u++)s.push(s[u]+o);return s}function n(){this.step="    ",this.shift=t(this.step)}n.prototype.xml=function(e,o){var s=e.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns\:/g,"~::~xmlns:").replace(/\s*xmlns\=/g,"~::~xmlns=").split("~::~"),u=s.length,c=!1,m=0,p="",h=0,v=o?t(o):this.shift;for(h=0;h<u;h++)s[h].search(/<!/)>-1?(p+=v[m]+s[h],c=!0,(s[h].search(/-->/)>-1||s[h].search(/\]>/)>-1||s[h].search(/!DOCTYPE/)>-1)&&(c=!1)):s[h].search(/-->/)>-1||s[h].search(/\]>/)>-1?(p+=s[h],c=!1):/^<\w/.exec(s[h-1])&&/^<\/\w/.exec(s[h])&&/^<[\w:\-\.\,]+/.exec(s[h-1])==/^<\/[\w:\-\.\,]+/.exec(s[h])[0].replace("/","")?(p+=s[h],c||m--):s[h].search(/<\w/)>-1&&s[h].search(/<\//)==-1&&s[h].search(/\/>/)==-1?p=c?p+=s[h]:p+=v[m++]+s[h]:s[h].search(/<\w/)>-1&&s[h].search(/<\//)>-1?p=c?p+=s[h]:p+=v[m]+s[h]:s[h].search(/<\//)>-1?p=c?p+=s[h]:p+=v[--m]+s[h]:s[h].search(/\/>/)>-1?p=c?p+=s[h]:p+=v[m]+s[h]:s[h].search(/<\?/)>-1||s[h].search(/xmlns\:/)>-1||s[h].search(/xmlns\=/)>-1?p+=v[m]+s[h]:p+=s[h];return p[0]==`
`?p.slice(1):p},n.prototype.json=function(e,s){var s=s||this.step;return typeof JSON>"u"?e:typeof e=="string"?JSON.stringify(JSON.parse(e),null,s):typeof e=="object"?JSON.stringify(e,null,s):e},n.prototype.css=function(e,o){var s=e.replace(/\s{1,}/g," ").replace(/\{/g,"{~::~").replace(/\}/g,"~::~}~::~").replace(/\;/g,";~::~").replace(/\/\*/g,"~::~/*").replace(/\*\//g,"*/~::~").replace(/~::~\s{0,}~::~/g,"~::~").split("~::~"),u=s.length,c=0,m="",p=0,h=o?t(o):this.shift;for(p=0;p<u;p++)/\{/.exec(s[p])?m+=h[c++]+s[p]:/\}/.exec(s[p])?m+=h[--c]+s[p]:(/\*\\/.exec(s[p]),m+=h[c]+s[p]);return m.replace(/^\n{1,}/,"")};function a(e,o){return o-(e.replace(/\(/g,"").length-e.replace(/\)/g,"").length)}function l(e,o){return e.replace(/\s{1,}/g," ").replace(/ AND /ig,"~::~"+o+o+"AND ").replace(/ BETWEEN /ig,"~::~"+o+"BETWEEN ").replace(/ CASE /ig,"~::~"+o+"CASE ").replace(/ ELSE /ig,"~::~"+o+"ELSE ").replace(/ END /ig,"~::~"+o+"END ").replace(/ FROM /ig,"~::~FROM ").replace(/ GROUP\s{1,}BY/ig,"~::~GROUP BY ").replace(/ HAVING /ig,"~::~HAVING ").replace(/ IN /ig," IN ").replace(/ JOIN /ig,"~::~JOIN ").replace(/ CROSS~::~{1,}JOIN /ig,"~::~CROSS JOIN ").replace(/ INNER~::~{1,}JOIN /ig,"~::~INNER JOIN ").replace(/ LEFT~::~{1,}JOIN /ig,"~::~LEFT JOIN ").replace(/ RIGHT~::~{1,}JOIN /ig,"~::~RIGHT JOIN ").replace(/ ON /ig,"~::~"+o+"ON ").replace(/ OR /ig,"~::~"+o+o+"OR ").replace(/ ORDER\s{1,}BY/ig,"~::~ORDER BY ").replace(/ OVER /ig,"~::~"+o+"OVER ").replace(/\(\s{0,}SELECT /ig,"~::~(SELECT ").replace(/\)\s{0,}SELECT /ig,")~::~SELECT ").replace(/ THEN /ig," THEN~::~"+o).replace(/ UNION /ig,"~::~UNION~::~").replace(/ USING /ig,"~::~USING ").replace(/ WHEN /ig,"~::~"+o+"WHEN ").replace(/ WHERE /ig,"~::~WHERE ").replace(/ WITH /ig,"~::~WITH ").replace(/ ALL /ig," ALL ").replace(/ AS /ig," AS ").replace(/ ASC /ig," ASC ").replace(/ DESC /ig," DESC ").replace(/ DISTINCT /ig," DISTINCT ").replace(/ EXISTS /ig," EXISTS ").replace(/ NOT /ig," NOT ").replace(/ NULL /ig," NULL ").replace(/ LIKE /ig," LIKE ").replace(/\s{0,}SELECT /ig,"SELECT ").replace(/\s{0,}UPDATE /ig,"UPDATE ").replace(/ SET /ig," SET ").replace(/~::~{1,}/g,"~::~").split("~::~")}n.prototype.sql=function(e,o){var s=e.replace(/\s{1,}/g," ").replace(/\'/ig,"~::~'").split("~::~"),u=s.length,c=[],m=0,p=this.step,h=0,v="",x=0,y=o?t(o):this.shift;for(x=0;x<u;x++)x%2?c=c.concat(s[x]):c=c.concat(l(s[x],p));for(u=c.length,x=0;x<u;x++)h=a(c[x],h),/\s{0,}\s{0,}SELECT\s{0,}/.exec(c[x])&&(c[x]=c[x].replace(/\,/g,`,
`+p+p)),/\s{0,}\s{0,}SET\s{0,}/.exec(c[x])&&(c[x]=c[x].replace(/\,/g,`,
`+p+p)),/\s{0,}\(\s{0,}SELECT\s{0,}/.exec(c[x])?(m++,v+=y[m]+c[x]):/\'/.exec(c[x])?(h<1&&m&&m--,v+=c[x]):(v+=y[m]+c[x],h<1&&m&&m--);return v=v.replace(/^\n{1,}/,"").replace(/\n{1,}/g,`
`),v},n.prototype.xmlmin=function(e,o){var s=o?e:e.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g,"").replace(/[ \r\n\t]{1,}xmlns/g," xmlns");return s.replace(/>\s{0,}</g,"><")},n.prototype.jsonmin=function(e){return typeof JSON>"u"?e:JSON.stringify(JSON.parse(e),null,0)},n.prototype.cssmin=function(e,o){var s=o?e:e.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\//g,"");return s.replace(/\s{1,}/g," ").replace(/\{\s{1,}/g,"{").replace(/\}\s{1,}/g,"}").replace(/\;\s{1,}/g,";").replace(/\/\*\s{1,}/g,"/*").replace(/\*\/\s{1,}/g,"*/")},n.prototype.sqlmin=function(e){return e.replace(/\s{1,}/g," ").replace(/\s{1,}\(/,"(").replace(/\s{1,}\)/,")")},f.exports=new n},function(f,r,t){(function(n){var a=t(602),l=t(603),e=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,o=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,s="[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]",u=new RegExp("^"+s+"+");function c(E){return(E||"").toString().replace(u,"")}var m=[["#","hash"],["?","query"],function(E){return E.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],p={hash:1,query:1};function h(E){var _;typeof window<"u"?_=window:typeof n<"u"?_=n:typeof self<"u"?_=self:_={};var A=_.location||{};E=E||A;var C={},S=typeof E,P;if(E.protocol==="blob:")C=new y(unescape(E.pathname),{});else if(S==="string"){C=new y(E,{});for(P in p)delete C[P]}else if(S==="object"){for(P in E)P in p||(C[P]=E[P]);C.slashes===void 0&&(C.slashes=e.test(E.href))}return C}function v(E){E=c(E);var _=o.exec(E);return{protocol:_[1]?_[1].toLowerCase():"",slashes:!!_[2],rest:_[3]}}function x(E,_){if(E==="")return _;for(var A=(_||"/").split("/").slice(0,-1).concat(E.split("/")),C=A.length,S=A[C-1],P=!1,O=0;C--;)A[C]==="."?A.splice(C,1):A[C]===".."?(A.splice(C,1),O++):O&&(C===0&&(P=!0),A.splice(C,1),O--);return P&&A.unshift(""),(S==="."||S==="..")&&A.push(""),A.join("/")}function y(E,_,A){if(E=c(E),!(this instanceof y))return new y(E,_,A);var C,S,P,O,R,I,M=m.slice(),H=typeof _,L=this,D=0;for(H!=="object"&&H!=="string"&&(A=_,_=null),A&&typeof A!="function"&&(A=l.parse),_=h(_),S=v(E||""),C=!S.protocol&&!S.slashes,L.slashes=S.slashes||C&&_.slashes,L.protocol=S.protocol||_.protocol||"",E=S.rest,S.slashes||(M[3]=[/(.*)/,"pathname"]);D<M.length;D++){if(O=M[D],typeof O=="function"){E=O(E);continue}P=O[0],I=O[1],P!==P?L[I]=E:typeof P=="string"?~(R=E.indexOf(P))&&(typeof O[2]=="number"?(L[I]=E.slice(0,R),E=E.slice(R+O[2])):(L[I]=E.slice(R),E=E.slice(0,R))):(R=P.exec(E))&&(L[I]=R[1],E=E.slice(0,R.index)),L[I]=L[I]||C&&O[3]&&_[I]||"",O[4]&&(L[I]=L[I].toLowerCase())}A&&(L.query=A(L.query)),C&&_.slashes&&L.pathname.charAt(0)!=="/"&&(L.pathname!==""||_.pathname!=="")&&(L.pathname=x(L.pathname,_.pathname)),a(L.port,L.protocol)||(L.host=L.hostname,L.port=""),L.username=L.password="",L.auth&&(O=L.auth.split(":"),L.username=O[0]||"",L.password=O[1]||""),L.origin=L.protocol&&L.host&&L.protocol!=="file:"?L.protocol+"//"+L.host:"null",L.href=L.toString()}function k(E,_,A){var C=this;switch(E){case"query":typeof _=="string"&&_.length&&(_=(A||l.parse)(_)),C[E]=_;break;case"port":C[E]=_,a(_,C.protocol)?_&&(C.host=C.hostname+":"+_):(C.host=C.hostname,C[E]="");break;case"hostname":C[E]=_,C.port&&(_+=":"+C.port),C.host=_;break;case"host":C[E]=_,/:\d+$/.test(_)?(_=_.split(":"),C.port=_.pop(),C.hostname=_.join(":")):(C.hostname=_,C.port="");break;case"protocol":C.protocol=_.toLowerCase(),C.slashes=!A;break;case"pathname":case"hash":if(_){var S=E==="pathname"?"/":"#";C[E]=_.charAt(0)!==S?S+_:_}else C[E]=_;break;default:C[E]=_}for(var P=0;P<m.length;P++){var O=m[P];O[4]&&(C[O[1]]=C[O[1]].toLowerCase())}return C.origin=C.protocol&&C.host&&C.protocol!=="file:"?C.protocol+"//"+C.host:"null",C.href=C.toString(),C}function T(E){(!E||typeof E!="function")&&(E=l.stringify);var _,A=this,C=A.protocol;C&&C.charAt(C.length-1)!==":"&&(C+=":");var S=C+(A.slashes?"//":"");return A.username&&(S+=A.username,A.password&&(S+=":"+A.password),S+="@"),S+=A.host+A.pathname,_=typeof A.query=="object"?E(A.query):A.query,_&&(S+=_.charAt(0)!=="?"?"?"+_:_),A.hash&&(S+=A.hash),S}y.prototype={set:k,toString:T},y.extractProtocol=v,y.location=h,y.trimLeft=c,y.qs=l,f.exports=y}).call(this,t(27))},function(f,r,t){f.exports=function(n,a){if(a=a.split(":")[0],n=+n,!n)return!1;switch(a){case"http":case"ws":return n!==80;case"https":case"wss":return n!==443;case"ftp":return n!==21;case"gopher":return n!==70;case"file":return!1}return n!==0}},function(f,r,t){var n=Object.prototype.hasOwnProperty,a;function l(s){try{return decodeURIComponent(s.replace(/\+/g," "))}catch{return null}}function e(s){for(var u=/([^=?&]+)=?([^&]*)/g,c={},m;m=u.exec(s);){var p=l(m[1]),h=l(m[2]);p===null||h===null||p in c||(c[p]=h)}return c}function o(s,u){u=u||"";var c=[],m,p;typeof u!="string"&&(u="?");for(p in s)if(n.call(s,p)){if(m=s[p],!m&&(m===null||m===a||isNaN(m))&&(m=""),p=encodeURIComponent(p),m=encodeURIComponent(m),p===null||m===null)continue;c.push(p+"="+m)}return c.length?u+c.join("&"):""}r.stringify=o,r.parse=e},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(38),a=se(n),l=t(17),e=se(l),o=t(63),s=se(o),u=t(55),c=se(u),m=t(44),p=se(m),h=t(37),v=se(h),x=t(35),y=se(x),k=t(18),T=se(k),E=t(25),_=se(E),A=t(5),C=se(A),S=t(3),P=se(S),O=t(4),R=se(O),I=t(6),M=se(I),H=t(7),L=se(H),D=t(0),j=t(26),W=se(j),B=t(1),F=se(B),N=t(42),X=se(N),G=t(2),V=se(G),z=t(344),U=t(67),Z=se(U),st=t(605),Y=se(st),rt=t(607),ft=se(rt),tt=t(609),K=se(tt),Q=t(611),ct=se(Q),nt=t(655),ot=se(nt),yt=t(662),pt=se(yt),dt=t(664),mt=se(dt),q=t(264),$=se(q),J=t(96),lt=se(J),ut=t(392),ht=se(ut),bt=t(670),kt=se(bt),vt=t(673),Et=se(vt),Rt=t(69),Vt=se(Rt),ee=t(132),Tt=se(ee),_t=t(78),zt=se(_t),oe=t(10),$t=t(11),pe=t(176);se(pe);var Nt=t(346);se(Nt);function se(gt){return gt&&gt.__esModule?gt:{default:gt}}var Gt=function(gt){(0,L.default)(fe,gt);function fe(Ct){(0,P.default)(this,fe);var at=(0,M.default)(this,(fe.__proto__||(0,C.default)(fe)).call(this,Ct));at.closing=!1;var St=at.props.tracks;return at.canvasElement=null,at.tracksByUidInit={},[].concat((0,_.default)(at.props.tracks.top||[]),(0,_.default)(at.props.tracks.right||[]),(0,_.default)(at.props.tracks.bottom||[]),(0,_.default)(at.props.tracks.left||[]),(0,_.default)(at.props.tracks.gallery||[]),(0,_.default)(at.props.tracks.center||[])).forEach(function(jt){jt.type==="combined"?jt.contents.forEach(function(Zt){at.tracksByUidInit[Zt.uid]=!1}):at.tracksByUidInit[jt.uid]=!1}),at.xScale=null,at.yScale=null,at.addUidsToTracks(St),at.trackToReplace=null,at.trackRenderer=null,at.configTrackMenu=null,at.state={sizeMeasured:!1,height:10,width:10,tracks:St,init:!1,addTrackPosition:null,mouseOverOverlayUid:null,forceUpdate:0,rangeSelection:[null,null],rangeSelectionEnd:!1,chromInfo:null,defaultChromSizes:null,contextMenuCustomItems:null,contextMenuPosition:null,addDivisorDialog:null},at.reset=!0,window.higlassTracksByType&&(0,T.default)(window.higlassTracksByType).forEach(function(jt){$t.TRACKS_INFO_BY_TYPE[jt]=window.higlassTracksByType[jt].config}),at.topHeight=0,at.bottomHeight=0,at.leftWidth=0,at.rightWidth=0,at.centerHeight=0,at.centerWidth=0,at.dragTimeout=null,at.previousPropsStr="",at.contextMenuHandlerBound=at.contextMenuHandler.bind(at),at.handleNoTrackAddedBound=at.handleNoTrackAdded.bind(at),at.handleTracksAddedBound=at.handleTracksAdded.bind(at),at.closeMenusBound=at.closeMenus.bind(at),at.handleAddDivisorBound=at.handleAddDivisor.bind(at),at.handleAddSeriesBound=at.handleAddSeries.bind(at),at.handleChangeTrackDataBound=at.handleChangeTrackData.bind(at),at.handleChangeTrackTypeBound=at.handleChangeTrackType.bind(at),at.handleCloseTrackBound=at.handleCloseTrack.bind(at),at.handleConfigureTrackBound=at.handleConfigureTrack.bind(at),at.handleExportTrackDataBound=at.handleExportTrackData.bind(at),at.handleLockValueScaleBound=at.handleLockValueScale.bind(at),at.handleReplaceTrackBound=at.handleReplaceTrack.bind(at),at.handleTrackOptionsChangedBound=at.handleTrackOptionsChanged.bind(at),at.handleUnlockValueScaleBound=at.handleUnlockValueScale.bind(at),at.onAddTrack=at.handleAddTrack.bind(at),at}return(0,R.default)(fe,[{key:"waitForDOMAttachment",value:function(){function Ct(at){var St=this;if(this.mounted){var jt=X.default.findDOMNode(this);document.body.contains(jt)?at():requestAnimationFrame(function(){return St.waitForDOMAttachment(at)})}}return Ct}()},{key:"componentDidMount",value:function(){function Ct(){var at=this;this.mounted=!0,this.element=X.default.findDOMNode(this),this.canvasElement=X.default.findDOMNode(this.props.canvasElement),this.waitForDOMAttachment(function(){z.ElementQueries.listen(),at.resizeSensor=new z.ResizeSensor(at.element.parentNode,at.measureSize.bind(at)),at.measureSize()}),this.addEventListeners(),this.pubSubs=[],this.pubSubs.push(this.props.pubSub.subscribe("contextmenu",this.contextMenuHandlerBound))}return Ct}()},{key:"UNSAFE_componentWillReceiveProps",value:function(){function Ct(at){this.addUidsToTracks(at.tracks),this.setState({tracks:at.tracks})}return Ct}()},{key:"shouldComponentUpdate",value:function(){function Ct(at,St){var jt=this,Zt=this.previousPropsStr,ue=this.updatablePropsToString(at),ce=(0,y.default)(this.state),It=(0,y.default)(St),Mt=Zt!==ue||ce!==It||this.props.chooseTrackHandler!==at.chooseTrackHandler;Mt&&(this.previousPropsStr=ue);var Ut=this.numTracks;return this.numTracks=0,(0,oe.visitPositionedTracks)(this.props.tracks,function(){return jt.numTracks++}),this.reset=this.reset||Ut===0&&this.numTracks>0,this.numTracks||(this.tracksByUidInit={}),Mt}return Ct}()},{key:"UNSAFE_componentWillUpdate",value:function(){function Ct(){}return Ct}()},{key:"componentDidUpdate",value:function(){function Ct(at,St){var jt=this;if(St.rangeSelection!==this.state.rangeSelection){var Zt=[null,null];this.state.defaultChromSizes&&this.state.rangeSelection.every(function(ce){return ce&&ce.length})&&(Zt=this.state.rangeSelection.map(function(ce){return oe.dataToGenomicLoci.apply(void 0,(0,_.default)(ce).concat([jt.state.defaultChromSizes]))})),this.props.onRangeSelection({dataRange:this.state.rangeSelection,genomicRange:Zt})}if(at.tracks.center,this.props.tracks.center,(this.state.addTrackPosition||this.props.addTrackPosition)&&this.props.modal.open(F.default.createElement(ot.default,{host:this.state.addTrackHost,onCancel:this.handleNoTrackAddedBound,onTracksChosen:this.handleTracksAddedBound,position:this.state.addTrackPosition||this.props.addTrackPosition,trackSourceServers:this.props.trackSourceServers})),this.state.addDivisorDialog){var ue=this.state.addDivisorDialog;this.props.modal.open(F.default.createElement(ot.default,{datatype:$t.TRACKS_INFO_BY_TYPE[ue.type].datatype[0],host:this.state.addTrackHost,onCancel:function(){function ce(){jt.setState({addDivisorDialog:null})}return ce}(),onTracksChosen:function(){function ce(It){jt.handleDivisorChosen(ue,It)}return ce}(),trackSourceServers:this.props.trackSourceServers}))}}return Ct}()},{key:"componentWillUnmount",value:function(){function Ct(){var at=this;this.closing=!0,this.removeEventListeners(),this.pubSubs.forEach(function(St){return at.props.pubSub.unsubscribe(St)})}return Ct}()},{key:"addUidsToTracks",value:function(){function Ct(at){(0,T.default)(at).forEach(function(St){at[St].forEach(function(jt){jt.uid=jt.uid||W.default.nice()})})}return Ct}()},{key:"contextMenuHandler",value:function(){function Ct(at){if(this.divTiledPlot){var St=this.divTiledPlot.getBoundingClientRect(),jt=(0,oe.isWithin)(at.clientX,at.clientY,St.left,St.left+St.width,St.top,St.top+St.height);if(jt){var Zt=[at.clientX,at.clientY],ue=(0,D.clientPoint)(this.divTiledPlot,at),ce=this.trackRenderer.zoomedXScale.invert(ue[0]),It=this.trackRenderer.zoomedYScale.invert(ue[1]),Mt=null;at.hgCustomItems&&(Mt=at.hgCustomItems.map(function(Ut){return F.default.createElement(Z.default,{key:Ut.key,onClick:Ut.onClick},Ut.text)})),this.setState({contextMenuCustomItems:Mt,contextMenuPosition:{left:Zt[0],top:Zt[1],canvasLeft:ue[0]+this.trackRenderer.xPositionOffset,canvasTop:ue[1]+this.trackRenderer.yPositionOffset},contextMenuDataX:ce,contextMenuDataY:It})}}}return Ct}()},{key:"measureSize",value:function(){function Ct(){this.element.clientWidth>0&&this.element.clientHeight>0&&this.setState({sizeMeasured:!0,width:this.element.clientWidth,height:this.element.clientHeight})}return Ct}()},{key:"handleTrackOptionsChanged",value:function(){function Ct(at,St){return this.props.onTrackOptionsChanged(at,St)}return Ct}()},{key:"handleScalesChanged",value:function(){function Ct(at,St){this.xScale=at,this.yScale=St,this.props.onScalesChanged(at,St)}return Ct}()},{key:"handleTilesetInfoReceived",value:function(){function Ct(at,St){var jt=(0,oe.getTrackByUid)(this.props.tracks,at);if(!jt){console.warn("Strange, track not found:",at);return}this.tracksByUidInit[jt.uid]=!0,this.checkAllTilesetInfoReceived(),jt.options||(jt.options={}),jt.name=St.name,jt.maxWidth=St.max_width,jt.transforms=St.transforms,jt.aggregationModes=St.aggregation_modes,jt.header=St.header,jt.binsPerDimension=St.bins_per_dimension,St.resolutions?(jt.maxZoom=St.resolutions.length-1,jt.resolutions=St.resolutions):jt.maxZoom=St.max_zoom,jt.coordSystem=St.coordSystem,jt.datatype=St.datatype}return Ct}()},{key:"checkAllTilesetInfoReceived",value:function(){function Ct(){var at=this;if(!(this.state.init&&!this.reset||!this.trackRenderer||!this.props.zoomToDataExtentOnInit())){var St=(0,T.default)(this.trackRenderer.trackDefObjects).map(function(Zt){var ue=at.trackRenderer.trackDefObjects[Zt].trackObject;return ue.childTracks?ue.childTracks:ue}).reduce(function(Zt,ue){return Zt.concat(ue)},[]).filter(function(Zt){var ue=Zt.tilesetInfo;return typeof ue<"u"&&ue!==!0}),jt=(0,v.default)(this.tracksByUidInit).filter(function(Zt){return Zt}).length;St.length===jt&&(this.setState({init:!0}),this.reset=!1,this.handleZoomToData())}}return Ct}()},{key:"handleOverlayMouseEnter",value:function(){function Ct(at){this.setState({mouseOverOverlayUid:at})}return Ct}()},{key:"handleOverlayMouseLeave",value:function(){function Ct(at){at===this.state.mouseOverOverlayUid&&this.setState({mouseOverOverlayUid:null})}return Ct}()},{key:"handleTrackPositionChosen",value:function(){function Ct(at){this.setState({mouseOverOverlayUid:null}),this.props.chooseTrackHandler(at.track.uid)}return Ct}()},{key:"handleNoTrackAdded",value:function(){function Ct(){this.trackToReplace=null,this.props.onNoTrackAdded(),this.setState({addTrackPosition:null,addTrackHost:null})}return Ct}()},{key:"handleAddDivisor",value:function(){function Ct(at){this.setState({addDivisorDialog:at})}return Ct}()},{key:"handleDivisorChosen",value:function(){function Ct(at,St){this.setState({addDivisorDialog:null});var jt=at.data?{server:at.data.server,tilesetUid:at.data.tilesetUid}:{server:at.server,tilesetUid:at.tilesetUid},Zt={server:St[0].server,tilesetUid:St[0].uuid};this.handleChangeTrackData(at.uid,{type:"divided",children:[jt,Zt]})}return Ct}()},{key:"handleDivideSeries",value:function(){function Ct(at){}return Ct}()},{key:"handleAddSeries",value:function(){function Ct(at){var St=(0,oe.getTrackPositionByUid)(this.props.tracks,at),jt=(0,oe.getTrackByUid)(this.props.tracks,at);this.setState({addTrackPosition:St,addTrackHost:jt})}return Ct}()},{key:"handleReplaceTrack",value:function(){function Ct(at,St){this.trackToReplace=at,this.handleAddTrack(St)}return Ct}()},{key:"handleAddTrack",value:function(){function Ct(at){this.setState({addTrackPosition:at,addTrackHost:null})}return Ct}()},{key:"handleResizeTrack",value:function(){function Ct(at,St,jt){var Zt=this.state.tracks;for(var ue in Zt){var ce=Zt[ue],It=ce.filter(function(Mt){return Mt.uid===at});It.length>0&&(It[0].width=St,It[0].height=jt)}this.setState({tracks:Zt,forceUpdate:Math.random()}),this.props.onResizeTrack()}return Ct}()},{key:"closeMenus",value:function(){function Ct(){this.setState({closeTrackMenuId:null,configTrackMenuId:null,contextMenuPosition:null,contextMenuCustomItems:null})}return Ct}()},{key:"handleLockValueScale",value:function(){function Ct(at){this.closeMenus(),this.props.onLockValueScale(at)}return Ct}()},{key:"handleUnlockValueScale",value:function(){function Ct(at){this.closeMenus(),this.props.onUnlockValueScale(at)}return Ct}()},{key:"handleCloseTrack",value:function(){function Ct(at){this.closeMenus(),this.props.onCloseTrack(at)}return Ct}()},{key:"handleChangeTrackType",value:function(){function Ct(at,St){this.closeMenus(),this.props.onChangeTrackType(at,St)}return Ct}()},{key:"handleChangeTrackData",value:function(){function Ct(at,St){this.closeMenus(),this.props.onChangeTrackData(at,St)}return Ct}()},{key:"handleTracksAdded",value:function(){function Ct(at,St,jt){return this.trackToReplace&&(this.handleCloseTrack(this.trackToReplace),this.trackToReplace=null),this.props.onTracksAdded(at,St,jt),this.setState({addTrackPosition:null,addTrackHost:null}),at}return Ct}()},{key:"handleCloseTrackMenuOpened",value:function(){function Ct(at,St){this.setState({closeTrackMenuId:at,closeTrackMenuLocation:St})}return Ct}()},{key:"handleCloseContextMenu",value:function(){function Ct(){this.setState({contextMenuCustomItems:null,contextMenuPosition:null,contextMenuDataX:null,contextMenuDataY:null})}return Ct}()},{key:"handleCloseTrackMenuClosed",value:function(){function Ct(){this.setState({closeTrackMenuId:null})}return Ct}()},{key:"handleConfigTrackMenuOpened",value:function(){function Ct(at,St){this.closeMenus(),this.setState({configTrackMenuId:at,configTrackMenuLocation:St})}return Ct}()},{key:"handleConfigureTrack",value:function(){function Ct(at,St){this.setState({configTrackMenuId:null,trackOptions:{track:at,configComponent:St}}),this.closeMenus()}return Ct}()},{key:"handleSortEnd",value:function(){function Ct(at){this.setState(function(St){for(var jt=St.tracks,Zt={},ue=0;ue<at.length;ue++)Zt[at[ue].uid]=ue;for(var ce in jt){var It=jt[ce];if(It.length&&It[0].uid in Zt){for(var Mt=new Array(It.length),Ut=0;Ut<It.length;Ut++)Mt[Zt[It[Ut].uid]]=It[Ut];jt[ce]=Mt}}return{tracks:jt,forceUpdate:Math.random()}})}return Ct}()},{key:"createTracksAndLocations",value:function(){function Ct(){var at=[],St=this.state.tracks;return $t.TRACK_LOCATIONS.forEach(function(jt){St[jt]&&St[jt].forEach(function(Zt){Zt.contents&&Zt.contents.forEach(function(ue){ue.position=jt}),Zt.position=jt,at.push({track:Zt,location:jt})})}),at}return Ct}()},{key:"calculateTrackPosition",value:function(){function Ct(at,St){var jt=this.props.paddingTop,Zt=this.props.paddingBottom,ue=this.props.paddingLeft,ce=this.props.paddingRight,It=this.centerWidth,Mt=at.height,Ut=0,Kt=0;switch(St){case"top":ue+=this.leftWidth;for(var wt=0;wt<this.state.tracks.top.length&&this.state.tracks.top[wt].uid!==at.uid;wt++)jt+=this.state.tracks.top[wt].height;break;case"bottom":ue+=this.leftWidth,jt+=this.topHeight+this.centerHeight+this.galleryDim;for(var ye=0;ye<this.state.tracks.bottom.length&&this.state.tracks.bottom[ye].uid!==at.uid;ye++)jt+=this.state.tracks.bottom[ye].height;break;case"left":jt+=this.topHeight,It=at.width,Mt=this.centerHeight;for(var we=0;we<this.state.tracks.left.length&&this.state.tracks.left[we].uid!==at.uid;we++)ue+=this.state.tracks.left[we].width;break;case"right":ue+=this.leftWidth+this.centerWidth+this.galleryDim,jt+=this.topHeight,It=at.width,Mt=this.centerHeight;for(var Oe=0;Oe<this.state.tracks.right.length&&this.state.tracks.right[Oe].uid!==at.uid;Oe++)ue+=this.state.tracks.right[Oe].width;break;case"center":ue+=this.leftWidth,jt+=this.topHeight,Mt=this.centerHeight;break;case"gallery":ue+=this.leftWidthNoGallery,jt+=this.topHeightNoGallery,It=this.state.width-this.leftWidthNoGallery-this.rightWidthNoGallery-this.props.paddingLeft,Mt=this.state.height-this.topHeightNoGallery-this.bottomHeightNoGallery-this.props.paddingTop,Ut=this.galleryDim,Kt=this.galleryDim;for(var Ne=0;Ne<this.state.tracks.gallery.length&&this.state.tracks.gallery[Ne].uid!==at.uid;Ne++)It-=2*this.state.tracks.gallery[Ne].height,Mt-=2*this.state.tracks.gallery[Ne].height,ue+=this.state.tracks.gallery[Ne].height,jt+=this.state.tracks.gallery[Ne].height,Ut-=this.state.tracks.gallery[Ne].height,Kt-=this.state.tracks.gallery[Ne].height;for(var ze=0;ze<this.state.tracks.right.length;ze++)ce+=this.state.tracks.right[ze].width;for(var Ue=0;Ue<this.state.tracks.bottom.length;Ue++)Zt+=this.state.tracks.bottom[Ue].height;at.offsetX=Ut,at.offsetY=Kt,at.offsetTop=jt,at.offsetRight=ce,at.offsetBottom=Zt,at.offsetLeft=ue;break;case"whole":default:It=this.leftWidth+this.centerWidth+this.rightWidth,Mt=this.topHeight+this.centerHeight+this.bottomHeight}return $t.TRACK_LOCATIONS.indexOf(St)===-1&&console.warn("Track with unknown position present:",St,at),{left:ue,top:jt,width:It,height:Mt,track:at}}return Ct}()},{key:"findCentralHeatmapTrack",value:function(){function Ct(at){for(var St=0;St<at.length;St++){if(at[St].type==="combined")return this.findCentralHeatmapTrack(at[St].contents);if(at[St].type==="heatmap")return at[St]}}return Ct}()},{key:"trackUuidToOrientation",value:function(){function Ct(at){}return Ct}()},{key:"overlayTracks",value:function(){function Ct(at){var St=this;if(this.props.overlays){var jt=this.props.overlays.filter(function(Zt){return Zt.includes&&Zt.includes.length}).map(function(Zt){var ue=Zt.type?"overlay-"+String(Zt.type)+"-track":"overlay-track",ce=(0,p.default)({},Zt,{uid:Zt.uid||W.default.nice(),includes:Zt.includes,type:ue,options:(0,p.default)(Zt.options,{orientationsAndPositions:Zt.includes.map(function(It){var Mt=(0,oe.getTrackByUid)(St.props.tracks,It);if(!Mt)return console.warn("OverlayTrack included uid ("+String(It)+") not found in the track list"),null;var Ut=(0,oe.getTrackPositionByUid)(St.props.tracks,Mt.uid),Kt=void 0;if((Ut==="top"||Ut==="bottom")&&(Kt="1d-horizontal"),(Ut==="left"||Ut==="right")&&(Kt="1d-vertical"),Ut==="center"&&(Kt="2d"),!Kt)return console.warn("Only top, bottom, left, right, or center tracks can be overlaid at the moment"),null;var wt=at.filter(function(we){return we.track.uid===It});if(!wt.length)return null;var ye={left:wt[0].left-St.props.paddingLeft,top:wt[0].top-St.props.paddingTop,width:wt[0].width,height:wt[0].height};return{orientation:Kt,position:ye}}).filter(function(It){return It})})});return{top:St.props.paddingTop,left:St.props.paddingLeft,width:St.leftWidth+St.centerWidth+St.rightWidth,height:St.topHeight+St.centerHeight+St.bottomHeight+St.props.marginTop+St.props.marginBottom,track:ce}});return jt}return[]}return Ct}()},{key:"positionedTracks",value:function(){function Ct(){var at=this,St=this.createTracksAndLocations().map(function(jt){var Zt=jt.track,ue=jt.location;return at.calculateTrackPosition(Zt,ue)});return St}return Ct}()},{key:"createTrackPositionTexts",value:function(){function Ct(){var at=this.positionedTracks();this.createTracksAndLocations();var St=at.map(function(jt){var Zt=jt.track;return F.default.createElement("div",{key:Zt.uid,style:{left:jt.left,top:jt.top,width:jt.width,height:jt.height,position:"absolute"}},Zt.uid.slice(0,2))});return St}return Ct}()},{key:"handleExportTrackData",value:function(){function Ct(at,St){var jt=(0,oe.getTrackByUid)(this.props.tracks,St),Zt=null;at!==St?Zt=this.trackRenderer.trackDefObjects[at].trackObject.createdTracks[jt.uid]:Zt=this.trackRenderer.trackDefObjects[at].trackObject,Zt.exportData(),this.closeMenus()}return Ct}()},{key:"listTracksAtPosition",value:function(){function Ct(at,St){var jt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Zt=[];if(!this.trackRenderer)return[];for(var ue in this.trackRenderer.trackDefObjects){var ce=this.trackRenderer.trackDefObjects[ue].trackObject;if(ce.respondsToPosition(at,St))if(jt){if(this.props.tracks.center)if(this.props.tracks.center.contents)for(var It=0;It<this.props.tracks.center.contents.length;It++)this.props.tracks.center.contents[It].uid===ue&&(ce.is2d=!0);else this.props.tracks.center&&this.props.tracks.center.length&&this.props.tracks.center[0].uid===ue&&(ce.is2d=!0);Zt.push(ce)}else Zt.push(this.trackRenderer.trackDefObjects[ue].trackDef.track)}return Zt}return Ct}()},{key:"listAllTrackObjects",value:function(){function Ct(){var at=[];for(var St in this.trackRenderer.trackDefObjects){var jt=this.trackRenderer.trackDefObjects[St];if(jt.trackObject.createdTracks)for(var Zt in jt.trackObject.createdTracks){var ue=jt.trackObject.createdTracks[Zt];at.push(ue)}else at.push(jt.trackObject)}return at}return Ct}()},{key:"handleZoomToData",value:function(){function Ct(){var at=c.default,St=s.default,jt=[at,at],Zt=[St,St],ue=this.listAllTrackObjects(),ce=!0,It=!1,Mt=void 0;try{for(var Ut=(0,e.default)(ue),Kt;!(ce=(Kt=Ut.next()).done);ce=!0){var wt=Kt.value;if(wt.tilesetInfo&&wt.tilesetInfo.min_pos)for(var ye=0;ye<wt.tilesetInfo.min_pos.length;ye++)wt.tilesetInfo.min_pos[ye]<jt[ye]&&(jt[ye]=wt.tilesetInfo.min_pos[ye]),wt.tilesetInfo.max_pos[ye]>Zt[ye]&&(Zt[ye]=wt.tilesetInfo.max_pos[ye])}}catch(Ue){It=!0,Mt=Ue}finally{try{!ce&&Ut.return&&Ut.return()}finally{if(It)throw Mt}}var we=this.trackRenderer.currentProps.paddingLeft+this.trackRenderer.currentProps.leftWidth,Oe=[we,we+this.trackRenderer.currentProps.centerWidth].map(this.trackRenderer.zoomTransform.rescaleX(this.trackRenderer.xScale).invert),Ne=this.trackRenderer.currentProps.paddingTop+this.trackRenderer.currentProps.topHeight,ze=[Ne,Ne+this.trackRenderer.currentProps.centerHeight].map(this.trackRenderer.zoomTransform.rescaleY(this.trackRenderer.yScale).invert);this.trackRenderer.zoomTransform.k=1,this.trackRenderer.zoomTransform.x=0,this.trackRenderer.zoomTransform.y=0,this.trackRenderer.applyZoomTransform(),jt[0]<c.default&&Zt[0]>s.default&&(Oe=[jt[0],Zt[0]]),jt[1]<c.default&&Zt[1]>s.default&&(ze=[jt[1],Zt[1]]),this.props.onDataDomainChanged(Oe,ze)}return Ct}()},{key:"resetViewport",value:function(){function Ct(){this.trackRenderer.zoomTransform.k=1,this.trackRenderer.zoomTransform.x=0,this.trackRenderer.zoomTransform.y=0,this.trackRenderer.applyZoomTransform(),this.props.onDataDomainChanged(this.props.initialXDomain,this.props.initialYDomain)}return Ct}()},{key:"updatablePropsToString",value:function(){function Ct(at){return(0,y.default)({tracks:at.tracks,overlays:at.overlays,viewOptions:at.viewOptions,uid:at.uid,addTrackPosition:at.addTrackPosition,editable:at.editable,marginTop:at.marginTop,marginBottom:at.marginBottom,marginLeft:at.marginLeft,marginRight:at.marginRight,paddingTop:at.paddingTop,paddingBottom:at.paddingBottom,paddingLeft:at.paddingLeft,paddingRight:at.paddingRight,mouseTool:at.mouseTool,initialXDomain:at.initialXDomain,initialYDomain:at.initialYDomain,trackSourceServers:at.trackSourceServers,zoomable:at.zoomable,draggingHappending:at.draggingHappening})}return Ct}()},{key:"getXYScales",value:function(){function Ct(){this.trackRenderer&&(this.xScale=this.trackRenderer.currentXScale,this.yScale=this.trackRenderer.currentYScale)}return Ct}()},{key:"rangeViewToDataLoci",value:function(){function Ct(at,St){return St?[parseInt(St.invert(at[0]),10),parseInt(St.invert(at[1]),10)]:[null,null]}return Ct}()},{key:"rangeSelectionResetHandler",value:function(){function Ct(){this.state.rangeSelectionMaster&&this.setState({is1dRangeSelection:null,rangeSelection:[null,null],rangeSelectionMaster:null,rangeSelectionEnd:!1})}return Ct}()},{key:"rangeSelection1dEndHandler",value:function(){function Ct(at){var St=this;(!this.xScale||!this.yScale)&&this.getXYScales();var jt=at==="x"?this.xScale:this.yScale;return function(Zt){St.setState(function(ue){var ce=ue.is1dRangeSelection?[null,null]:ue.rangeSelection.slice(),It=!St.state.is1dRangeSelection&&at==="y"?1:0,Mt=St.rangeViewToDataLoci(Zt,jt),Ut=Mt[1]-Mt[0];if(St.props.rangeSelection1dSize[0]>Ut){var Kt=Mt[0]+Ut/2;Mt=[Kt-St.props.rangeSelection1dSize[0]/2,Kt+St.props.rangeSelection1dSize[0]/2]}else if(St.props.rangeSelection1dSize[1]<Ut){var wt=Mt[0]+Ut/2;Mt=[wt-St.props.rangeSelection1dSize[1]/2,wt+St.props.rangeSelection1dSize[1]/2]}return ce[It]=Mt,St.props.rangeSelectionToInt&&(ce[It]=ce[It].map(function(ye){return Math.round(ye)})),{rangeSelection:ce,rangeSelectionEnd:!0}})}}return Ct}()},{key:"rangeSelection1dHandler",value:function(){function Ct(at){var St=this;(!this.xScale||!this.yScale)&&this.getXYScales();var jt=at==="x"?this.xScale:this.yScale;return function(Zt){St.setState(function(ue){var ce=ue.is1dRangeSelection?[null,null]:ue.rangeSelection.slice(),It=!ue.is1dRangeSelection&&at==="y"?1:0;return ce[It]=St.rangeViewToDataLoci(Zt,jt),{rangeSelection:ce,rangeSelectionEnd:!1}})}}return Ct}()},{key:"rangeSelection1dStartHandler",value:function(){function Ct(){this.state.rangeSelectionMaster||this.setState({is1dRangeSelection:!0,rangeSelectionMaster:!0,rangeSelectionEnd:!1})}return Ct}()},{key:"rangeSelection2dHandler",value:function(){function Ct(at){(!this.xScale||!this.yScale)&&this.getXYScales(),this.setState({rangeSelection:[this.rangeViewToDataLoci(at[0],this.xScale),this.rangeViewToDataLoci(at[1],this.yScale)],rangeSelectionEnd:!1})}return Ct}()},{key:"rangeSelection2dStartHandler",value:function(){function Ct(){this.state.rangeSelectionMaster||this.setState({is1dRangeSelection:!1,rangeSelectionMaster:!0,rangeSelectionEnd:!1})}return Ct}()},{key:"rangeSelection2dEndHandler",value:function(){function Ct(at){var St=this;(!this.xScale||!this.yScale)&&this.getXYScales();var jt=this.rangeViewToDataLoci(at[0],this.xScale),Zt=this.rangeViewToDataLoci(at[1],this.yScale),ue=[jt,Zt],ce=jt[1]-jt[0],It=Zt[1]-Zt[0],Mt=[ce,It];ue.forEach(function(Ut,Kt){if(St.props.rangeSelection1dSize[0]>Mt[Kt]){var wt=Ut[0]+Math.round(Mt[Kt]/2);Ut[0]=wt-St.props.rangeSelection1dSize[0]/2,Ut[1]=wt+St.props.rangeSelection1dSize[0]/2}else if(St.props.rangeSelection1dSize[1]<Mt[Kt]){var ye=Ut[0]+Math.round(Mt[Kt]/2);Ut[0]=ye-St.props.rangeSelection1dSize[1]/2,Ut[1]=ye+St.props.rangeSelection1dSize[1]/2}}),this.props.rangeSelectionToInt&&(ue=ue.map(function(Ut){return Ut.map(function(Kt){return Math.round(Kt)})})),this.setState({rangeSelection:ue,rangeSelectionEnd:!0})}return Ct}()},{key:"getContextMenu",value:function(){function Ct(){var at=this;if(this.state.contextMenuPosition){var St=this.listTracksAtPosition(this.state.contextMenuPosition.canvasLeft,this.state.contextMenuPosition.canvasTop);return F.default.createElement($.default,{onMenuClosed:this.closeMenusBound},F.default.createElement(Et.default,{closeMenu:this.closeMenusBound,coords:[this.state.contextMenuDataX,this.state.contextMenuDataY],customItems:this.state.contextMenuCustomItems,onAddDivisor:this.handleAddDivisorBound,onAddSeries:this.handleAddSeriesBound,onAddTrack:function(){function jt(Zt){at.props.onTracksAdded([Zt],Zt.position,null),at.handleCloseContextMenu()}return jt}(),onChangeTrackData:this.handleChangeTrackDataBound,onChangeTrackType:this.handleChangeTrackTypeBound,onCloseTrack:this.handleCloseTrackBound,onConfigureTrack:this.handleConfigureTrackBound,onExportData:this.handleExportTrackDataBound,onLockValueScale:this.handleLockValueScaleBound,onReplaceTrack:this.handleReplaceTrackBound,onTrackOptionsChanged:this.handleTrackOptionsChangedBound,onUnlockValueScale:this.handleUnlockValueScaleBound,orientation:"right",position:this.state.contextMenuPosition,theme:this.props.theme,tracks:St,trackSourceServers:this.props.trackSourceServers}))}return null}return Ct}()},{key:"getIdealizedTrackPositionsOverlay",value:function(){function Ct(){var at=this,St=this.props.draggingHappening,jt=St.datatype;if(!(jt in $t.DEFAULT_TRACKS_FOR_DATATYPE)&&!St.defaultTracks){console.warn("unknown data type:",St.higlassTrack);return}var Zt={"1d-horizontal":["top","bottom","left","right"],"2d":["center"],"1d-vertical":["left","right"]},ue=$t.DEFAULT_TRACKS_FOR_DATATYPE[jt]||{};if(St.defaultTracks){var ce=!0,It=!1,Mt=void 0;try{for(var Ut=(0,e.default)(St.defaultTracks),Kt;!(ce=(Kt=Ut.next()).done);ce=!0){var wt=Kt.value;if(!$t.TRACKS_INFO_BY_TYPE[wt])console.warn("unknown track type",wt);else{var ye=!0,we=!1,Oe=void 0;try{for(var Ne=(0,e.default)(Zt[$t.TRACKS_INFO_BY_TYPE[wt].orientation]),ze;!(ye=(ze=Ne.next()).done);ye=!0){var Ue=ze.value;ue[Ue]=wt}}catch(_e){we=!0,Oe=_e}finally{try{!ye&&Ne.return&&Ne.return()}finally{if(we)throw Oe}}}}}catch(_e){It=!0,Mt=_e}finally{try{!ce&&Ut.return&&Ut.return()}finally{if(It)throw Mt}}}var Be=new a.default(["top","left","right","center","bottom"].filter(function(_e){return _e in at.state.tracks&&at.state.tracks[_e].length})),Je="top"in ue,Xe="left"in ue,pn="right"in ue,qt="bottom"in ue,it="center"in ue,Xt="center"in ue||Be.has("left")||Be.has("right")||Be.has("center"),te="top"in ue,ne="bottom"in ue&&Xt,Wt="left"in ue&&Xt,he="right"in ue&&Xt,Dt=(0,T.default)(ue).length&&("center"in ue||Xt),Ft=F.default.createElement("div",{style:{flexGrow:1}}),Yt=F.default.cloneElement(Ft),xt=F.default.createElement("div",{style:{display:"flex",flexGrow:1}},te&&(Dt||Wt)?Ft:null,F.default.createElement(ft.default,{defaultTrackType:ue.top,draggingHappening:this.props.draggingHappening,enabled:Je,onTrackDropped:function(){function _e(Ae){return at.handleTracksAdded([Ae],"top")}return _e}(),style:{border:"1px solid black",flexGrow:1}}),te&&(Dt||Wt)?Yt:null),Bt=F.default.createElement("div",{style:{display:"flex",flexGrow:1}},te&&(Dt||Wt)?Ft:null,F.default.createElement(ft.default,{defaultTrackType:ue.bottom,draggingHappening:this.props.draggingHappening,enabled:qt,onTrackDropped:function(){function _e(Ae){return at.handleTracksAdded([Ae],"bottom")}return _e}(),style:{border:"1px solid black",flexGrow:1}}),te&&(Dt||Wt)?Yt:null),Qt=F.default.createElement(ft.default,{defaultTrackType:ue.left,draggingHappening:this.props.draggingHappening,enabled:Xe,onTrackDropped:function(){function _e(Ae){return at.handleTracksAdded([Ae],"left")}return _e}(),style:{border:"1px solid black",flexGrow:1}}),le=F.default.createElement(ft.default,{defaultTrackType:ue.center,draggingHappening:this.props.draggingHappening,enabled:it,onTrackDropped:function(){function _e(Ae){return at.handleTracksAdded([Ae],"center")}return _e}(),position:"center",style:{border:"1px solid black",flexGrow:1}}),ve=F.default.cloneElement(Qt,{defaultTrackType:ue.right,enabled:pn,onTrackDropped:function(){function _e(Ae){return at.handleTracksAdded([Ae],"right")}return _e}()});return F.default.createElement("div",{style:{position:"absolute",left:"0px",top:"0px",width:this.state.width,height:this.state.height}},F.default.createElement("div",{style:{position:"absolute",width:this.state.width,height:this.state.height,background:"white",opacity:.4}}),F.default.createElement("div",{style:{width:this.state.width,height:this.state.height,position:"absolute",display:"flex",flexDirection:"column"}},te?xt:null,Xt&&F.default.createElement("div",{style:{display:"flex",height:te||ne?"40%":"100%",width:"100%"}},Wt?Qt:null,Dt?le:null,he?ve:null),ne?Bt:null))}return Ct}()},{key:"render",value:function(){function Ct(){var at=this;this.galleryDim=this.props.tracks.gallery?this.props.tracks.gallery.map(function(Je){return Je.height}).reduce(oe.sum,0):0,this.topHeightNoGallery=this.props.tracks.top.map(function(Je){return Je.height}).reduce(oe.sum,0),this.topHeight=this.topHeightNoGallery+this.galleryDim,this.bottomHeightNoGallery=this.props.tracks.bottom.map(function(Je){return Je.height}).reduce(oe.sum,0),this.bottomHeight=this.bottomHeightNoGallery+this.galleryDim,this.leftWidthNoGallery=this.props.tracks.left.map(function(Je){return Je.width}).reduce(oe.sum,0),this.leftWidth=this.leftWidthNoGallery+this.galleryDim,this.rightWidthNoGallery=this.props.tracks.right.map(function(Je){return Je.width}).reduce(oe.sum,0),this.rightWidth=this.rightWidthNoGallery+this.galleryDim;var St=this.props.paddingTop+this.props.paddingBottom,jt=this.props.paddingLeft+this.props.paddingRight;this.centerHeight=Math.max(0,this.state.height-this.topHeight-this.bottomHeight-St),this.centerWidth=Math.max(0,this.state.width-this.leftWidth-this.rightWidth-jt);var Zt="none",ue=F.default.createElement("div",{className:"top-track-container",style:{left:this.leftWidth+this.props.paddingLeft,top:this.props.paddingTop,width:this.centerWidth,height:this.topHeightNoGallery,outline:Zt,position:"absolute"}},F.default.createElement(ht.default,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===$t.MOUSE_TOOL_SELECT,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("x").bind(this),onRangeSelectionEnd:this.rangeSelection1dEndHandler("x").bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,resizeHandles:new a.default(["bottom"]),scale:this.xScale,tracks:this.props.tracks.top,width:this.centerWidth})),ce=F.default.createElement("div",{className:"left-track-container",style:{left:this.props.paddingLeft,top:this.topHeight+this.props.paddingTop,width:this.leftWidthNoGallery,height:this.centerHeight,outline:Zt,position:"absolute"}},F.default.createElement(kt.default,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),height:this.centerHeight,is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===$t.MOUSE_TOOL_SELECT,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("y").bind(this),onRangeSelectionEnd:this.rangeSelection1dEndHandler("y").bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,resizeHandles:new a.default(["right"]),scale:this.yScale,tracks:this.props.tracks.left})),It=F.default.createElement("div",{className:"right-track-container",style:{right:this.props.paddingRight,top:this.topHeight+this.props.paddingTop,width:this.rightWidthNoGallery,height:this.centerHeight,outline:Zt,position:"absolute"}},F.default.createElement(kt.default,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),height:this.centerHeight,is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===$t.MOUSE_TOOL_SELECT,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("y").bind(this),onRangeSelectionEnd:this.rangeSelection1dEndHandler("y").bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,resizeHandles:new a.default(["left"]),scale:this.yScale,tracks:this.props.tracks.right,tracksControlAlignLeft:!0})),Mt=F.default.createElement("div",{className:"bottom-track-container",style:{left:this.leftWidth+this.props.paddingLeft,bottom:this.props.paddingBottom,width:this.centerWidth,height:this.bottomHeightNoGallery,outline:Zt,position:"absolute"}},F.default.createElement(ht.default,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===$t.MOUSE_TOOL_SELECT,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("x").bind(this),onRangeSelectionEnd:this.rangeSelection1dEndHandler("x").bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,resizeHandles:new a.default(["top"]),scale:this.xScale,tracks:this.props.tracks.bottom,width:this.centerWidth})),Ut=F.default.createElement("div",{key:"galleryTracksDiv",className:"gallery-track-container",style:{left:this.leftWidthNoGallery+this.props.paddingLeft,top:this.topHeightNoGallery+this.props.paddingTop,width:this.centerWidth+2*this.galleryDim,height:this.centerHeight+2*this.galleryDim,outline:Zt,position:"absolute"}},F.default.createElement(K.default,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,height:this.centerHeight+2*this.galleryDim,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),tracks:this.props.tracks.gallery,width:this.centerWidth+2*this.galleryDim})),Kt=F.default.createElement("div",{className:"center-track-container CenterTrack-module_center-track-container-2ELhp",style:{left:this.leftWidth+this.props.paddingLeft,top:this.topHeight+this.props.paddingTop,width:this.centerWidth,height:this.bottomHeight,outline:Zt}});this.props.tracks.center.length&&(Kt=F.default.createElement("div",{className:"center-track-container CenterTrack-module_center-track-container-2ELhp",style:{left:this.leftWidth+this.props.paddingLeft,top:this.topHeight+this.props.paddingTop,width:this.centerWidth,height:this.centerHeight,outline:Zt}},F.default.createElement(Y.default,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,height:this.centerHeight,is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===$t.MOUSE_TOOL_SELECT,onAddSeries:this.handleAddSeries.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection2dStartHandler.bind(this),onRangeSelectionX:this.rangeSelection1dHandler("x").bind(this),onRangeSelectionXEnd:this.rangeSelection1dEndHandler("x").bind(this),onRangeSelectionXY:this.rangeSelection2dHandler.bind(this),onRangeSelectionXYEnd:this.rangeSelection2dEndHandler.bind(this),onRangeSelectionY:this.rangeSelection1dHandler("y").bind(this),onRangeSelectionYEnd:this.rangeSelection1dEndHandler("y").bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,scaleX:this.xScale,scaleY:this.yScale,tracks:this.props.tracks.center,uid:this.props.tracks.center[0].uid,width:this.centerWidth}))),this.createTrackPositionTexts();var wt=this.positionedTracks();wt=wt.concat(this.overlayTracks(wt));var ye=null;this.state.sizeMeasured&&(ye=F.default.createElement(ct.default,{ref:function(){function Je(Xe){at.trackRenderer=Xe,at.checkAllTilesetInfoReceived()}return Je}(),canvasElement:this.canvasElement,centerHeight:this.centerHeight,centerWidth:this.centerWidth,disableTrackMenu:this.props.disableTrackMenu,dragging:this.props.dragging,galleryDim:this.galleryDim,getLockGroupExtrema:this.props.getLockGroupExtrema,height:this.state.height,initialXDomain:this.props.initialXDomain,initialYDomain:this.props.initialYDomain,isRangeSelection:this.props.mouseTool===$t.MOUSE_TOOL_SELECT,isShowGlobalMousePosition:this.props.isShowGlobalMousePosition,isValueScaleLocked:this.props.isValueScaleLocked,leftWidth:this.leftWidth,leftWidthNoGallery:this.leftWidthNoGallery,metaTracks:this.props.metaTracks,onMouseMoveZoom:this.props.onMouseMoveZoom,onNewTilesLoaded:this.props.onNewTilesLoaded,onScalesChanged:this.handleScalesChanged.bind(this),onTilesetInfoReceived:this.handleTilesetInfoReceived.bind(this),onTrackOptionsChanged:this.handleTrackOptionsChanged.bind(this),onValueScaleChanged:this.props.onValueScaleChanged,paddingLeft:this.props.paddingLeft,paddingTop:this.props.paddingTop,pixiRenderer:this.props.pixiRenderer,pixiStage:this.props.pixiStage,pluginDataFetchers:this.props.pluginDataFetchers,pluginTracks:this.props.pluginTracks,positionedTracks:wt,registerDraggingChangedListener:this.props.registerDraggingChangedListener,removeDraggingChangedListener:this.props.removeDraggingChangedListener,setCentersFunction:this.props.setCentersFunction,svgElement:this.props.svgElement,topHeight:this.topHeight,topHeightNoGallery:this.topHeightNoGallery,uid:this.props.uid,viewOptions:this.props.viewOptions,width:this.state.width,xDomainLimits:this.props.xDomainLimits,yDomainLimits:this.props.yDomainLimits,zoomable:this.props.zoomable,zoomLimits:this.props.zoomLimits},ue,ce,It,Mt,Ut,Kt));var we=null,Oe=null;this.state.configTrackMenuId&&(we=F.default.createElement($.default,{onMenuClosed:this.closeMenusBound},F.default.createElement(pt.default,{ref:function(){function Je(Xe){at.configTrackMenu=Xe}return Je}(),closeMenu:this.closeMenusBound,onAddDivisor:this.handleAddDivisorBound,onAddSeries:this.handleAddSeriesBound,onAddTrack:this.handleAddTrackBound,onChangeTrackType:this.handleChangeTrackTypeBound,onCloseTrack:this.handleCloseTrackBound,onConfigureTrack:this.handleConfigureTrackBound,onExportData:this.handleExportTrackDataBound,onLockValueScale:this.handleLockValueScaleBound,onReplaceTrack:this.handleReplaceTrackBound,onTrackOptionsChanged:this.handleTrackOptionsChangedBound,onUnlockValueScale:this.handleUnlockValueScaleBound,position:this.state.configTrackMenuLocation,theme:this.props.theme,trackOrientation:(0,oe.getTrackPositionByUid)(this.props.tracks,this.state.configTrackMenuId),tracks:[(0,oe.getTrackByUid)(this.props.tracks,this.state.configTrackMenuId)]}))),this.state.closeTrackMenuId&&(Oe=F.default.createElement($.default,{onMenuClosed:this.handleCloseTrackMenuClosed.bind(this)},F.default.createElement(lt.default,{position:this.state.closeTrackMenuLocation,theme:this.props.theme},F.default.createElement(mt.default,{onCloseTrack:this.handleCloseTrack.bind(this),tracks:[(0,oe.getTrackByUid)(this.props.tracks,this.state.closeTrackMenuId)]}))));var Ne=null;this.props.chooseTrackHandler&&(Ne=wt.filter(function(Je){return Je.track.position!=="whole"}).map(function(Je){var Xe="transparent",pn="none";return at.state.mouseOverOverlayUid===Je.track.uid&&(Xe="yellow",pn="1px solid black"),F.default.createElement("div",{key:Je.track.uid,className:"tiled-plot-track-overlay",onClick:function(){function qt(){return at.handleTrackPositionChosen(Je)}return qt}(),onDragEnter:function(){function qt(it){at.handleOverlayMouseEnter(Je.track.uid),it.preventDefault()}return qt}(),onDragLeave:function(){function qt(){return at.handleOverlayMouseLeave(Je.track.uid)}return qt}(),onDragOver:function(){function qt(it){return it.preventDefault()}return qt}(),onDrop:function(){function qt(){return at.handleTrackPositionChosen(Je)}return qt}(),onMouseEnter:function(){function qt(){return at.handleOverlayMouseEnter(Je.track.uid)}return qt}(),onMouseLeave:function(){function qt(){return at.handleOverlayMouseLeave(Je.track.uid)}return qt}(),style:{position:"absolute",left:Je.left,top:Je.top,width:Je.width,height:Je.height,background:Xe,opacity:.4,border:pn,zIndex:1}})}));var ze=null;if(this.xScale&&this.yScale&&this.props.editable&&this.state.trackOptions){var Ue=this.state.trackOptions.configComponent,Be=this.state.trackOptions.track;ze=F.default.createElement(Ue,{track:Be,xScale:this.xScale,yScale:this.yScale,onCancel:function(){function Je(){at.setState({trackOptions:null})}return Je}(),onTrackOptionsChanged:function(){function Je(Xe){return Xe}return Je}(),onSubmit:function(){function Je(Xe){at.handleTrackOptionsChanged(at.state.trackOptions.track.uid,Xe),at.setState({trackOptions:null})}return Je}()})}return F.default.createElement("div",{ref:function(){function Je(Xe){at.divTiledPlot=Xe}return Je}(),className:"tiled-plot-div TiledPlot-module_tiled-plot-uFHiB",style:{marginBottom:this.props.marginBottom,marginLeft:this.props.marginLeft,marginRight:this.props.marginRight,marginTop:this.props.marginTop}},ye,Ne,we,Oe,ze,this.getContextMenu(),this.props.draggingHappening&&this.getIdealizedTrackPositionsOverlay())}return Ct}()},{key:"addEventListeners",value:function(){function Ct(){this.eventListeners=[],this.eventListeners.forEach(function(at){return document.addEventListener(at.name,at.callback,!1)})}return Ct}()},{key:"removeEventListeners",value:function(){function Ct(){this.eventListeners.forEach(function(at){return document.removeEventListener(at.name,at.callback)})}return Ct}()}]),fe}(F.default.Component);Gt.defaultProps={isShowGlobalMousePosition:!1,pluginDataFetchers:{},pluginTracks:{},metaTracks:[],zoomable:!0},Gt.propTypes={addTrackPosition:V.default.string,canvasElement:V.default.object,chooseTrackHandler:V.default.func,chromInfoPath:V.default.string,disableTrackMenu:V.default.bool,dragging:V.default.bool,draggingHappening:V.default.bool,editable:V.default.bool,getLockGroupExtrema:V.default.func,initialXDomain:V.default.array,initialYDomain:V.default.array,isShowGlobalMousePosition:V.default.bool,isValueScaleLocked:V.default.func,marginBottom:V.default.number.isRequired,marginLeft:V.default.number.isRequired,marginRight:V.default.number.isRequired,marginTop:V.default.number.isRequired,paddingBottom:V.default.number.isRequired,paddingLeft:V.default.number.isRequired,paddingRight:V.default.number.isRequired,paddingTop:V.default.number.isRequired,metaTracks:V.default.array,modal:V.default.object,mouseTool:V.default.string,onCloseTrack:V.default.func,onChangeTrackData:V.default.func,onChangeTrackType:V.default.func,onDataDomainChanged:V.default.func,onLockValueScale:V.default.func,onMouseMoveZoom:V.default.func,onNewTilesLoaded:V.default.func,onNoTrackAdded:V.default.func,onRangeSelection:V.default.func.isRequired,onScalesChanged:V.default.func,onTrackOptionsChanged:V.default.func,onTrackPositionChosen:V.default.func,onTracksAdded:V.default.func,onUnlockValueScale:V.default.func,onValueScaleChanged:V.default.func,onResizeTrack:V.default.func,overlays:V.default.array,openModal:V.default.func,pixiRenderer:V.default.object,pixiStage:V.default.object,pluginDataFetchers:V.default.object,pluginTracks:V.default.object,pubSub:V.default.object.isRequired,rangeSelection1dSize:V.default.array,rangeSelectionToInt:V.default.bool,registerDraggingChangedListener:V.default.func,removeDraggingChangedListener:V.default.func,setCentersFunction:V.default.func,svgElement:V.default.object,theme:V.default.symbol.isRequired,tracks:V.default.object,trackSourceServers:V.default.array,uid:V.default.string,viewOptions:V.default.object,xDomainLimits:V.default.array,yDomainLimits:V.default.array,zoomable:V.default.bool,zoomLimits:V.default.array,zoomToDataExtentOnInit:V.default.func},r.default=(0,Vt.default)((0,Tt.default)((0,zt.default)(Gt)))},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(5),a=M(n),l=t(3),e=M(l),o=t(4),s=M(o),u=t(6),c=M(u),m=t(7),p=M(m),h=t(29),v=M(h),x=t(2),y=M(x),k=t(1),T=M(k),E=t(83),_=t(0),A=t(174),C=M(A),S=t(10),P=t(11),O=t(346);M(O);var R=t(175),I=M(R);function M(j){return j&&j.__esModule?j:{default:j}}var H={styles:{"center-track":"CenterTrack-module_center-track-3ptRW","center-track-container":"CenterTrack-module_center-track-container-2ELhp"},stylesTrack:{"track-range-selection":"Track-module_track-range-selection-1yrDf","track-range-selection-active":"Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-primary":"Track-module_track-range-selection-active-primary-29M73 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-secondary":"Track-module_track-range-selection-active-secondary-1s0t5 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-group-inactive":"Track-module_track-range-selection-group-inactive-YNRM4","track-range-selection-group-brush-selection":"Track-module_track-range-selection-group-brush-selection-2VYDl"}},L={pointerEvents:"all"},D=function(j){(0,p.default)(W,j);function W(B){(0,e.default)(this,W);var F=(0,c.default)(this,(W.__proto__||(0,a.default)(W)).call(this,B));return F.state={isVisible:!1},F.brushBehaviorX=(0,E.brushX)(!0,!0).on("brush",F.brushedX.bind(F)).on("end",F.brushedXEnded.bind(F)),F.brushBehaviorY=(0,E.brushY)(!0,!0,!0).on("brush",F.brushedY.bind(F)).on("end",F.brushedYEnded.bind(F)),F.brushBehaviorXY=(0,E.brush)(!0).on("start",F.brushStarted.bind(F)).on("brush",F.brushedXY.bind(F)).on("end",F.brushedXYEnded.bind(F)),F}return(0,s.default)(W,[{key:"componentDidMount",value:function(){function B(){this.props.isRangeSelectionActive&&this.addBrush2d()}return B}()},{key:"shouldComponentUpdate",value:function(){function B(F,N){if(this.rangeSelectionTriggeredXY){if(this.rangeSelectionTriggeredXY=!1,this.rangeSelectionTriggeredXYEnd){var X=F.rangeSelection[0]||null;this.moveBrushXY([X,F.rangeSelection[1]],!0),this.rangeSelectionTriggeredXYEnd=!1}return this.state!==N}if(this.props.rangeSelection!==F.rangeSelection){var G=F.rangeSelection[0]||null;this.props.is1dRangeSelection?(this.rangeSelectionTriggeredX||this.moveBrushX(G,F.rangeSelectionEnd),this.rangeSelectionTriggeredXEnd&&this.moveBrushX(G,F.rangeSelectionEnd,!0),this.rangeSelectionTriggeredY||this.moveBrushY(G,F.rangeSelectionEnd),this.rangeSelectionTriggeredYEnd&&this.moveBrushY(G,F.rangeSelectionEnd,!0),this.rangeSelectionTriggeredX=!1,this.rangeSelectionTriggeredXEnd=!1,this.rangeSelectionTriggeredY=!1,this.rangeSelectionTriggeredYEnd=!1):this.moveBrushXY([G,F.rangeSelection[1]],F.rangeSelectionEnd);var V=this.props.is1dRangeSelection&&!F.is1dRangeSelection&&G===null;return this.state!==N||V}return!0}return B}()},{key:"componentDidUpdate",value:function(){function B(){this.props.isRangeSelectionActive?this.addBrush2d():(this.removeBrush1d(),this.removeBrush2d())}return B}()},{key:"addBrush1d",value:function(){function B(){!this.brushElX||!this.brushElY||this.brushElXOld===this.brushElX&&this.brushElYOld===this.brushElY||(this.brushElXOld&&this.brushElXOld.on(".brush",null),this.brushElYOld&&this.brushElYOld.on(".brush",null),this.brushElX.call(this.brushBehaviorX),this.brushElY.call(this.brushBehaviorY),(0,S.resetD3BrushStyle)(this.brushElX,I.default["track-range-selection-group-brush-selection"]),(0,S.resetD3BrushStyle)(this.brushElY,I.default["track-range-selection-group-brush-selection"]),this.brushElXOld=this.brushElX,this.brushElYOld=this.brushElY,this.brushIs1dBound=!0)}return B}()},{key:"addBrush2d",value:function(){function B(){!this.brushElXY||this.brushElXYOld===this.brushElXY||(this.brushElXYOld&&this.brushElXYOld.on(".brush",null),this.brushElXY.call(this.brushBehaviorXY),this.brushElXYOld=this.brushElXY,this.brushIs2dBound=!0,(0,S.resetD3BrushStyle)(this.brushElXY,I.default["track-range-selection-group-brush-selection"]))}return B}()},{key:"brushedX",value:function(){function B(){var F=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,!(!this.sourceEvent||!this.props.onRangeSelectionX||!this.props.is1dRangeSelection||F)&&(this.rangeSelectionTriggeredX=!0,this.props.onRangeSelectionX(_.event.selection))}return B}()},{key:"brushedXEnded",value:function(){function B(){var F=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,!(!this.sourceEvent||!this.props.onRangeSelectionX||!this.props.is1dRangeSelection||F)&&(this.rangeSelectionTriggeredX=!0,this.rangeSelectionTriggeredXEnd=!0,this.props.onRangeSelectionXEnd(_.event.selection))}return B}()},{key:"brushedY",value:function(){function B(){var F=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,!(!this.sourceEvent||!this.props.onRangeSelectionY||!this.props.is1dRangeSelection||F)&&(this.rangeSelectionTriggeredY=!0,this.props.onRangeSelectionY(_.event.selection))}return B}()},{key:"brushedYEnded",value:function(){function B(){var F=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,!(!this.sourceEvent||!this.props.onRangeSelectionY||!this.props.is1dRangeSelection||F)&&(this.rangeSelectionTriggeredY=!0,this.rangeSelectionTriggeredYEnd=!0,this.props.onRangeSelectionYEnd(_.event.selection))}return B}()},{key:"brushedXY",value:function(){function B(){var F=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,!(!this.sourceEvent||!this.props.onRangeSelectionXY||F||this.props.is1dRangeSelection)&&(this.rangeSelectionTriggeredXY=!0,this.props.onRangeSelectionXY([[_.event.selection[0][0],_.event.selection[1][0]],[_.event.selection[0][1],_.event.selection[1][1]]]))}return B}()},{key:"brushedXYEnded",value:function(){function B(){if(!this.props.is1dRangeSelection){var F=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,_.event.selection&&_.event.sourceEvent&&this.props.onRangeSelectionXY&&!F&&(this.rangeSelectionTriggeredXY=!0,this.rangeSelectionTriggeredXYEnd=!0,this.props.onRangeSelectionXYEnd([[_.event.selection[0][0],_.event.selection[1][0]],[_.event.selection[0][1],_.event.selection[1][1]]])),_.event.selection||(this.rangeSelectionTriggeredXY=!0,this.props.onRangeSelectionReset())}}return B}()},{key:"brushStarted",value:function(){function B(){this.sourceEvent&&this.props.onRangeSelectionStart()}return B}()},{key:"moveBrushX",value:function(){function B(F){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!(!this.brushEl&&!this.sourceEvent)){this.brushIs2dBound&&(this.removeBrush2d(),this.addBrush1d());var X=F?[this.props.scaleX(F[0]),this.props.scaleX(F[1])]:null;this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,N?this.brushElX.transition().call(this.brushBehaviorX.move,X):this.brushElX.call(this.brushBehaviorX.move,X)}}return B}()},{key:"moveBrushY",value:function(){function B(F){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!(!this.brushEl&&!this.sourceEvent)){this.brushIs2dBound&&(this.removeBrush2d(),this.addBrush1d());var X=F?[this.props.scaleY(F[0]),this.props.scaleY(F[1])]:null;this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,N?this.brushElY.transition().call(this.brushBehaviorY.move,X):this.brushElY.call(this.brushBehaviorY.move,X)}}return B}()},{key:"moveBrushXY",value:function(){function B(F){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!(!this.brushEl&&!this.sourceEvent)){var X=[[this.props.scaleX(F[0][0]),this.props.scaleY(F[1][0])],[this.props.scaleX(F[0][1]),this.props.scaleY(F[1][1])]];this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,N?this.brushElXY.transition().call(this.brushBehaviorXY.move,X):this.brushElXY.call(this.brushBehaviorXY.move,X)}}return B}()},{key:"mouseEnterHandler",value:function(){function B(){this.props.isRangeSelectionActive||this.setState({isVisible:!0})}return B}()},{key:"mouseLeaveHandler",value:function(){function B(){this.setState({isVisible:!1})}return B}()},{key:"removeBrush1d",value:function(){function B(){this.brushIs1dBound&&(this.brushElX&&(this.brushElX.call(this.brushBehaviorX.move,null),this.brushElX.on(".brush",null)),this.brushElY&&(this.brushElY.call(this.brushBehaviorY.move,null),this.brushElY.on(".brush",null)),this.brushIs1dBound=!1)}return B}()},{key:"removeBrush2d",value:function(){function B(){this.brushIs2dBound&&this.brushElXY&&(this.brushElXY.call(this.brushBehaviorXY.move,null),this.brushElXY.on(".brush",null),this.brushElXYOld=void 0,this.brushIs2dBound=!1,this.props.is1dRangeSelection||this.props.onRangeSelectionReset())}return B}()},{key:"render",value:function(){function B(){var F=this,N=this.props.tracks.map(function(U){return(0,P.IS_TRACK_RANGE_SELECTABLE)(U)}).reduce(S.or,!1),X=this.props.tracks.some(function(U){return U.contents?U.contents.some(function(Z){return Z.type==="heatmap"?Z.options.colorbarPosition==="topRight":!1}):U.type==="heatmap"?U.options.colorbarPosition==="topRight":!1}),G="stylesTrack.track-range-selection";this.props.isRangeSelectionActive&&(G+=this.props.is1dRangeSelection?"-active-secondary":"-active-primary");var V=this.props.is1dRangeSelection?"":"stylesTrack.track-range-selection-group-inactive",z=this.props.is1dRangeSelection?"stylesTrack.track-range-selection-group-inactive":"";return T.default.createElement("div",{className:(this.props.className?this.props.className+" ":"")+"CenterTrack-module_center-track-3ptRW",onMouseEnter:this.mouseEnterHandler.bind(this),onMouseLeave:this.mouseLeaveHandler.bind(this),style:{height:this.props.height,width:this.props.width}},N&&T.default.createElement("svg",{style:{height:this.props.height,width:this.props.width},xmlns:"http://www.w3.org/2000/svg",className:(0,v.default)(G,H)},T.default.createElement("g",{ref:function(){function U(Z){F.brushElX=(0,_.select)(Z)}return U}(),className:(0,v.default)(V,H)}),T.default.createElement("g",{ref:function(){function U(Z){F.brushElY=(0,_.select)(Z)}return U}(),className:(0,v.default)(V,H)}),T.default.createElement("g",{ref:function(){function U(Z){F.brushElXY=(0,_.select)(Z)}return U}(),className:(0,v.default)(z,H)})),this.props.editable&&T.default.createElement(C.default,{imgStyleAdd:L,imgStyleClose:L,imgStyleMove:L,imgStyleSettings:L,isMoveable:!1,isVisible:this.state.isVisible||this.props.uid===this.props.configTrackMenuId,onAddSeries:this.props.onAddSeries,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,paddingRight:X,uid:this.props.uid}))}return B}()},{key:"sourceEvent",get:function(){function B(){return _.event&&_.event.sourceEvent}return B}()}]),W}(T.default.Component);D.defaultProps={className:"center-track",configTrackMenuId:null,is1dRangeSelection:!1,rangeSelectionEnd:y.default.bool,isRangeSelectionActive:!1,scaleX:function(){function j(W){return W}return j}(),scaleY:function(){function j(W){return W}return j}()},D.propTypes={className:y.default.string,configTrackMenuId:y.default.string,editable:y.default.bool.isRequired,height:y.default.number.isRequired,is1dRangeSelection:y.default.bool,isRangeSelectionActive:y.default.bool,onAddSeries:y.default.func.isRequired,onCloseTrackMenuOpened:y.default.func.isRequired,onConfigTrackMenuOpened:y.default.func.isRequired,onRangeSelectionX:y.default.func.isRequired,onRangeSelectionXEnd:y.default.func.isRequired,onRangeSelectionY:y.default.func.isRequired,onRangeSelectionYEnd:y.default.func.isRequired,onRangeSelectionXY:y.default.func.isRequired,onRangeSelectionXYEnd:y.default.func.isRequired,onRangeSelectionReset:y.default.func.isRequired,onRangeSelectionStart:y.default.func.isRequired,rangeSelection:y.default.array.isRequired,rangeSelectionEnd:y.default.bool,scaleX:y.default.func,scaleY:y.default.func,tracks:y.default.array.isRequired,uid:y.default.string.isRequired,width:y.default.number.isRequired},r.default=D},function(f,r,t){f.exports={"track-control":"TrackControl-module_track-control-2zDf3","track-control-vertical":"TrackControl-module_track-control-vertical-2McB_","track-control-dark":"TrackControl-module_track-control-dark-fP2uZ","track-control-active":"TrackControl-module_track-control-active-2JD9i TrackControl-module_track-control-2zDf3","track-control-left":"TrackControl-module_track-control-left-zHd9W","track-control-vertical-active":"TrackControl-module_track-control-vertical-active-1QCKn","track-control-padding-right":"TrackControl-module_track-control-padding-right-2p6Lp","track-control-button":"TrackControl-module_track-control-button-2fdIb","track-control-button-vertical":"TrackControl-module_track-control-button-vertical-1s22z"}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(44),a=O(n),l=t(5),e=O(l),o=t(3),s=O(o),u=t(4),c=O(u),m=t(6),p=O(m),h=t(7),v=O(h),x=t(29),y=O(x),k=t(2),T=O(k),E=t(1),_=O(E),A=t(26),C=O(A),S=t(69),P=O(S);t(608);function O(M){return M&&M.__esModule?M:{default:M}}var R={"../styles/DragListeningDiv.module.scss":{"drag-listening-div-active":"DragListeningDiv-module_drag-listening-div-active-3wpRk"}},I=function(M){(0,v.default)(H,M);function H(L){(0,s.default)(this,H);var D=(0,p.default)(this,(H.__proto__||(0,e.default)(H)).call(this,L));return D.state={dragOnTop:!1},D}return(0,c.default)(H,[{key:"render",value:function(){function L(){var D=this,j="red";this.props.enabled&&this.state.dragOnTop?j="green":this.props.enabled&&(j="blue");var W=this.props.enabled?"drag-listening-div-active":"";return _.default.createElement("div",{onDragEnter:function(){function B(){D.setState({dragOnTop:!0})}return B}(),onDragLeave:function(){function B(){D.setState({dragOnTop:!1})}return B}(),onDragOver:function(){function B(F){F.preventDefault()}return B}(),onDrop:function(){function B(){if(D.props.enabled){var F=D.props.draggingHappening,N={type:D.props.defaultTrackType,uid:C.default.nice(),tilesetUid:F.tilesetUid,server:F.server};D.props.onTrackDropped(N),D.props.pubSub.publish("trackDropped",N)}}return B}(),style:(0,a.default)({background:j,opacity:.6},this.props.style),className:"DragListeningDiv "+(0,y.default)(W,R)})}return L}()}]),H}(_.default.Component);I.defaultProps={enabled:!1,style:{},draggingHappening:{},onTrackDropped:function(){function M(){}return M}()},I.propTypes={enabled:T.default.bool,style:T.default.object,defaultTrackType:T.default.object,draggingHappening:T.default.object,onTrackDropped:T.default.func,position:T.default.string.isRequired,pubSub:T.default.object.isRequired},r.default=(0,P.default)(I)},function(f,r,t){f.exports={"drag-listening-div-active":"DragListeningDiv-module_drag-listening-div-active-3wpRk"}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(5),a=C(n),l=t(3),e=C(l),o=t(4),s=C(o),u=t(6),c=C(u),m=t(7),p=C(m),h=t(2),v=C(h),x=t(1),y=C(x),k=t(174),T=C(k),E=t(610);C(E);var _=t(176);C(_);var A=t(175);C(A);function C(O){return O&&O.__esModule?O:{default:O}}var S={pointerEvents:"all"},P=function(O){(0,p.default)(R,O);function R(I){(0,e.default)(this,R);var M=(0,c.default)(this,(R.__proto__||(0,a.default)(R)).call(this,I));return M.state={hovering:!1},M}return(0,s.default)(R,[{key:"mouseEnterHandler",value:function(){function I(){this.setState({hovering:!0})}return I}()},{key:"mouseLeaveHandler",value:function(){function I(){this.setState({hovering:!1})}return I}()},{key:"render",value:function(){function I(){var M=this;return y.default.createElement("div",{className:"gallery-tracks GalleryTracks-module_gallery-tracks-3tsUO"},this.props.tracks&&this.props.tracks.map(function(H,L){return y.default.createElement("div",{key:H.uid||L,onMouseLeave:M.mouseLeaveHandler.bind(M),style:{top:H.height*L,right:H.height*L,bottom:H.height*L,left:H.height*L},className:"GalleryTracks-module_gallery-track-eGKoq"},y.default.createElement("div",{onMouseEnter:M.mouseEnterHandler.bind(M),style:{top:0,right:0,left:0,height:H.height},className:"GalleryTracks-module_gallery-sub-track-z1HEh"}),y.default.createElement("div",{onMouseEnter:M.mouseEnterHandler.bind(M),style:{top:0,right:0,bottom:0,width:H.height},className:"GalleryTracks-module_gallery-sub-track-z1HEh"}),y.default.createElement("div",{onMouseEnter:M.mouseEnterHandler.bind(M),style:{right:0,bottom:0,left:0,height:H.height},className:"GalleryTracks-module_gallery-sub-track-z1HEh"}),y.default.createElement("div",{onMouseEnter:M.mouseEnterHandler.bind(M),style:{top:0,bottom:0,left:0,width:H.height},className:"GalleryTracks-module_gallery-sub-track-z1HEh"}),y.default.createElement("div",{onMouseLeave:M.mouseLeaveHandler.bind(M),style:{top:H.height,right:H.height,bottom:H.height,left:H.height},className:"GalleryTracks-module_gallery-invisible-track-1hMJp"}),M.props.editable&&y.default.createElement(T.default,{configMenuVisible:!0,imgStyleAdd:S,imgStyleClose:S,imgStyleMove:S,imgStyleSettings:S,isMoveable:!1,isVisible:M.state.hovering,onCloseTrackMenuOpened:M.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:M.props.onConfigTrackMenuOpened,uid:H.uid||L}))}))}return I}()}]),R}(y.default.Component);P.propTypes={editable:v.default.bool.isRequired,onCloseTrackMenuOpened:v.default.func.isRequired,onConfigTrackMenuOpened:v.default.func.isRequired,tracks:v.default.array.isRequired},r.default=P},function(f,r,t){f.exports={"gallery-tracks":"GalleryTracks-module_gallery-tracks-3tsUO","gallery-track":"GalleryTracks-module_gallery-track-eGKoq","gallery-sub-track":"GalleryTracks-module_gallery-sub-track-z1HEh","gallery-invisible-track":"GalleryTracks-module_gallery-invisible-track-1hMJp"}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(38),a=cn(n),l=t(19),e=cn(l),o=t(35),s=cn(o),u=t(25),c=cn(u),m=t(17),p=cn(m),h=t(18),v=cn(h),x=t(5),y=cn(x),k=t(3),T=cn(k),E=t(4),_=cn(E),A=t(6),C=cn(A),S=t(7),P=cn(S),O=t(1),R=cn(O),I=t(2),M=cn(I),H=t(157),L=t(0),D=t(28),j=t(26),W=cn(j),B=t(40),F=cn(B),N=t(135),X=cn(N),G=t(254),V=cn(G),z=t(347),U=cn(z),Z=t(348),st=cn(Z),Y=t(350),rt=cn(Y),ft=t(351),tt=cn(ft),K=t(256),Q=cn(K),ct=t(352),nt=cn(ct),ot=t(357),yt=cn(ot),pt=t(116),dt=cn(pt),mt=t(358),q=cn(mt),$=t(359),J=cn($),lt=t(259),ut=cn(lt),ht=t(360),bt=cn(ht),kt=t(361),vt=cn(kt),Et=t(362),Rt=cn(Et),Vt=t(629),ee=cn(Vt),Tt=t(177),_t=cn(Tt),zt=t(260),oe=cn(zt),$t=t(363),pe=cn($t),Nt=t(364),se=cn(Nt),Gt=t(365),gt=cn(Gt),fe=t(366),Ct=cn(fe),at=t(367),St=cn(at),jt=t(368),Zt=cn(jt),ue=t(369),ce=cn(ue),It=t(370),Mt=cn(It),Ut=t(371),Kt=cn(Ut),wt=t(372),ye=cn(wt),we=t(633),Oe=cn(we),Ne=t(373),ze=cn(Ne),Ue=t(374),Be=cn(Ue),Je=t(375),Xe=cn(Je),pn=t(376),qt=cn(pn),it=t(377),Xt=cn(it),te=t(262),ne=cn(te),Wt=t(378),he=cn(Wt),Dt=t(141),Ft=cn(Dt),Yt=t(379),xt=cn(Yt),Bt=t(380),Qt=cn(Bt),le=t(381),ve=cn(le),_e=t(80),Ae=cn(_e),ge=t(69),ke=cn(ge),Ke=t(382),$e=cn(Ke),jn=t(78),In=cn(jn),xn=t(10),Un=t(11);t(654);function cn(fr){return fr&&fr.__esModule?fr:{default:fr}}var xr=100,wr=function(fr){(0,P.default)(pr,fr);function pr(qe){(0,T.default)(this,pr);var ae=(0,C.default)(this,(pr.__proto__||(0,y.default)(pr)).call(this,qe));return ae.dragging=!1,ae.element=null,ae.closing=!1,ae.yPositionOffset=0,ae.xPositionOffset=0,ae.scrollTop=0,ae.scrollTimeout=null,ae.activeTransitions=0,ae.zoomTransform=H.zoomIdentity,ae.windowScrolledBound=ae.windowScrolled.bind(ae),ae.zoomStartedBound=ae.zoomStarted.bind(ae),ae.zoomedBound=ae.zoomed.bind(ae),ae.zoomEndedBound=ae.zoomEnded.bind(ae),ae.uid=W.default.nice(),ae.viewUid=ae.props.uid,ae.availableForPlugins=Un.AVAILABLE_FOR_PLUGINS,ae.availableForPlugins.services.pubSub=ae.props.pubSub,ae.availableForPlugins.services.pixiRenderer=ae.props.pixiRenderer,ae.mounted=!1,ae.emptyZoomBehavior=(0,H.zoom)(),ae.currentProps=qe,ae.prevPropsStr="",ae.zoomBehavior=(0,H.zoom)().filter(function(){return!(L.event.target.classList.contains("no-zoom")||L.event.target.classList.contains("react-resizable-handle"))}).on("start",ae.zoomStartedBound).on("zoom",ae.zoomedBound).on("end",ae.zoomEndedBound),ae.zoomTransform=H.zoomIdentity,ae.prevZoomTransform=H.zoomIdentity,ae.initialXDomain=[0,1],ae.initialYDomain=[0,1],ae.xDomainLimits=[-1/0,1/0],ae.yDomainLimits=[-1/0,1/0],ae.zoomLimits=[0,1/0],ae.prevCenterX=ae.currentProps.paddingLeft+ae.currentProps.leftWidth+ae.currentProps.centerWidth/2,ae.prevCenterY=ae.currentProps.paddingTop+ae.currentProps.topHeight+ae.currentProps.centerHeight/2,ae.cumCenterXOffset=0,ae.cumCenterYOffset=0,ae.setUpInitialScales(ae.currentProps.initialXDomain,ae.currentProps.initialYDomain,ae.currentProps.xDomainLimits,ae.currentProps.yDomainLimits,ae.currentProps.zoomLimits),ae.setUpScales(),ae.trackDefObjects={},ae.metaTracks={},ae.pubSubs=[],window.higlassTracksByType&&(0,v.default)(window.higlassTracksByType).forEach(function(Ee){Un.TRACKS_INFO_BY_TYPE[Ee]=window.higlassTracksByType[Ee].config}),ae.boundForwardEvent=ae.forwardEvent.bind(ae),ae.boundScrollEvent=ae.scrollEvent.bind(ae),ae.boundForwardContextMenu=ae.forwardContextMenu.bind(ae),ae.dispatchEventBound=ae.dispatchEvent.bind(ae),ae.zoomToDataPosHandlerBound=ae.zoomToDataPosHandler.bind(ae),ae.onScrollHandlerBound=ae.onScrollHandler.bind(ae),ae}return(0,_.default)(pr,[{key:"UNSAFE_componentWillMount",value:function(){function qe(){this.pubSubs=[],this.pubSubs.push(this.props.pubSub.subscribe("scroll",this.windowScrolledBound)),this.pubSubs.push(this.props.pubSub.subscribe("app.event",this.dispatchEventBound)),this.pubSubs.push(this.props.pubSub.subscribe("zoomToDataPos",this.zoomToDataPosHandlerBound)),this.pubSubs.push(this.props.pubSub.subscribe("app.scroll",this.onScrollHandlerBound))}return qe}()},{key:"componentDidMount",value:function(){function qe(){if(this.elementPos=this.element.getBoundingClientRect(),this.elementSelection=(0,L.select)(this.element),this.svgTrackAreaSelection=(0,L.select)(this.svgTrackArea),this.pStage=new Un.GLOBALS.PIXI.Graphics,this.pMask=new Un.GLOBALS.PIXI.Graphics,this.pOutline=new Un.GLOBALS.PIXI.Graphics,this.pBackground=new Un.GLOBALS.PIXI.Graphics,this.pStage.addChild(this.pMask),this.pStage.addChild(this.pOutline),this.currentProps.pixiStage.addChild(this.pStage),this.pStage.mask=this.pMask,this.props.isRangeSelection||this.addZoom(),!(!this.currentProps.svgElement||!this.currentProps.canvasElement)){this.svgElement=this.currentProps.svgElement,this.syncTrackObjects(this.currentProps.positionedTracks),this.syncMetaTracks(this.currentProps.metaTracks),this.currentProps.setCentersFunction(this.setCenter.bind(this)),this.currentProps.registerDraggingChangedListener(this.draggingChanged.bind(this)),this.draggingChanged(!0),this.addEventTracker();var ae=[[this.xScale(this.xDomainLimits[0]),this.yScale(this.yDomainLimits[0])],[this.xScale(this.xDomainLimits[1]),this.yScale(this.yDomainLimits[1])]],Ee=this.svgElement.getBoundingClientRect(),tn=[[Math.max(ae[0][0],0),Math.max(ae[0][1],0)],[Math.min(ae[1][0],Ee.width),Math.min(ae[1][1],Ee.height)]];this.zoomBehavior.extent(tn).translateExtent(ae).scaleExtent(this.zoomLimits)}}return qe}()},{key:"UNSAFE_componentWillReceiveProps",value:function(){function qe(ae){if(!(!ae.svgElement||!ae.canvasElement)){var Ee=this.updatablePropsToString(ae);if(this.currentProps=ae,this.prevPropsStr!==Ee){this.setBackground();for(var tn in this.trackDefObjects){var sn=this.trackDefObjects[tn].trackObject;sn.delayDrawing=!0}this.prevPropsStr=Ee,this.setUpInitialScales(ae.initialXDomain,ae.initialYDomain,ae.xDomainLimits,ae.yDomainLimits,ae.zoomLimits),this.setUpScales(ae.width!==this.props.width||ae.height!==this.props.height),this.svgElement=ae.svgElement;var on=[[this.xScale(this.xDomainLimits[0]),this.yScale(this.yDomainLimits[0])],[this.xScale(this.xDomainLimits[1]),this.yScale(this.yDomainLimits[1])]],He=this.svgElement.getBoundingClientRect(),Ve=[[Math.max(on[0][0],0),Math.max(on[0][1],0)],[Math.min(on[1][0],He.width),Math.min(on[1][1],He.height)]];this.zoomBehavior.extent(Ve).translateExtent(on).scaleExtent(this.zoomLimits),this.syncTrackObjects(ae.positionedTracks),this.syncMetaTracks(ae.metaTracks);var yn=!0,dn=!1,_n=void 0;try{for(var gn=(0,p.default)(ae.positionedTracks),Hn;!(yn=(Hn=gn.next()).done);yn=!0){var Bn=Hn.value,Vn=Bn.track.options,tr=this.trackDefObjects[Bn.track.uid].trackObject;if(tr.rerender(Vn),Bn.track.hasOwnProperty("contents")){var Qn={},er=!0,cr=!1,Kn=void 0;try{for(var br=(0,p.default)(Bn.track.contents),mr;!(er=(mr=br.next()).done);er=!0){var dr=mr.value;Qn[dr.uid]=dr}}catch(Cr){cr=!0,Kn=Cr}finally{try{!er&&br.return&&br.return()}finally{if(cr)throw Kn}}for(var an in tr.createdTracks)tr.createdTracks[an].rerender(Qn[an].options)}}}catch(Cr){dn=!0,_n=Cr}finally{try{!yn&&gn.return&&gn.return()}finally{if(dn)throw _n}}this.props.onNewTilesLoaded();for(var Zn in this.trackDefObjects){var Jr=this.trackDefObjects[Zn].trackObject;Jr.delayDrawing=!1,Jr.draw()}}}}return qe}()},{key:"componentDidUpdate",value:function(){function qe(ae){(this.props.initialXDomain[0]!==ae.initialXDomain[0]||this.props.initialXDomain[1]!==ae.initialXDomain[1]||this.props.initialYDomain[0]!==ae.initialYDomain[0]||this.props.initialYDomain[1]!==ae.initialYDomain[1])&&(this.element.__zoom=H.zoomIdentity),ae.isRangeSelection!==this.props.isRangeSelection&&(this.props.isRangeSelection?this.removeZoom():this.addZoom()),ae.zoomable!==this.props.zoomable&&(this.props.zoomable?this.addZoom():this.removeZoom()),this.addEventTracker()}return qe}()},{key:"componentWillUnmount",value:function(){function qe(){var ae=this;this.mounted=!1,this.removeTracks((0,v.default)(this.trackDefObjects)),this.removeMetaTracks((0,v.default)(this.metaTracks)),this.currentProps.removeDraggingChangedListener(this.draggingChanged),this.currentProps.pixiStage.removeChild(this.pStage),this.pMask.destroy(!0),this.pStage.destroy(!0),this.pubSubs.forEach(function(Ee){return ae.props.pubSub.unsubscribe(Ee)}),this.pubSubs=[],this.removeEventTracker()}return qe}()},{key:"dispatchEvent",value:function(){function qe(ae){ae.sourceUid===this.uid&&ae.type!=="contextmenu"&&(0,xn.forwardEvent)(ae,this.element)}return qe}()},{key:"isWithin",value:function(){function qe(ae,Ee){if(!this.element)return!1;var tn=ae>=this.elementPos.left&&ae<=this.elementPos.width+this.elementPos.left,sn=Ee>=this.elementPos.top&&Ee<=this.elementPos.height+this.elementPos.top;return tn&&sn}return qe}()},{key:"zoomToDataPosHandler",value:function(){function qe(ae){var Ee=ae.pos,tn=ae.animateTime,sn=ae.isMercator;this.zoomToDataPos.apply(this,(0,c.default)(Ee).concat([tn,sn]))}return qe}()},{key:"addZoom",value:function(){function qe(){!this.elementSelection||!this.currentProps.zoomable||(this.elementSelection.call(this.zoomBehavior),this.zoomBehavior.transform(this.elementSelection,this.zoomTransform))}return qe}()},{key:"removeZoom",value:function(){function qe(){this.elementSelection&&(this.zoomEnded(),this.elementSelection.on(".zoom",null))}return qe}()},{key:"setMask",value:function(){function qe(){this.pMask.clear(),this.pMask.beginFill(),this.pMask.drawRect(this.xPositionOffset,this.yPositionOffset,this.currentProps.width,this.currentProps.height),this.pMask.endFill()}return qe}()},{key:"setBackground",value:function(){function qe(){var ae=this.props.theme===Un.THEME_DARK?"black":"white",Ee=(0,xn.colorToHex)(this.currentProps.viewOptions&&this.currentProps.viewOptions.backgroundColor||ae);this.pBackground.clear(),this.pBackground.beginFill(Ee),this.pBackground.drawRect(this.xPositionOffset,this.yPositionOffset,this.currentProps.width,this.currentProps.height),this.pBackground.endFill()}return qe}()},{key:"windowScrolled",value:function(){function qe(){var ae=this;this.removeZoom(),this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(function(){ae.addZoom()},xr)}return qe}()},{key:"setUpInitialScales",value:function(){function qe(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,1],Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,1],tn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[-1/0,1/0],sn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[-1/0,1/0],on=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[0,1/0];on[0]=on[0]===null?0:on[0],on[1]=on[1]===null?1/0:on[1];var He=ae[1]-ae[0],Ve=(Ee[0]+Ee[1])/2;if(Ee[0]=Ve-He/2,Ee[1]=Ve+He/2,!(ae[0]===this.initialXDomain[0]&&ae[1]===this.initialXDomain[1]&&Ee[0]===this.initialYDomain[0]&&Ee[1]===this.initialYDomain[1]&&tn[0]===this.xDomainLimits[0]&&tn[1]===this.xDomainLimits[1]&&sn[0]===this.yDomainLimits[0]&&sn[1]===this.yDomainLimits[1]&&on[0]===this.zoomLimits[0]&&on[1]===this.zoomLimits[1])){this.initialXDomain=ae,this.initialYDomain=Ee,this.xDomainLimits=tn,this.yDomainLimits=sn,this.zoomLimits=on,this.zoomTransform=H.zoomIdentity,this.prevZoomTransform=H.zoomIdentity,this.cumCenterYOffset=0,this.cumCenterXOffset=0,this.drawableToDomainX=(0,D.scaleLinear)().domain([this.currentProps.paddingLeft+this.currentProps.leftWidth,this.currentProps.paddingLeft+this.currentProps.leftWidth+this.currentProps.centerWidth]).range([ae[0],ae[1]]);var yn=void 0,dn=void 0;this.currentProps.centerWidth===0?(yn=this.currentProps.paddingTop+this.currentProps.topHeight,dn=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight):(yn=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2-this.currentProps.centerWidth/2,dn=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2+this.currentProps.centerWidth/2),this.drawableToDomainY=(0,D.scaleLinear)().domain([yn,dn]).range([Ee[0],Ee[1]]),this.prevCenterX=this.currentProps.paddingLeft+this.currentProps.leftWidth+this.currentProps.centerWidth/2,this.prevCenterY=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2}}return qe}()},{key:"updatablePropsToString",value:function(){function qe(ae){return(0,s.default)({positionedTracks:ae.positionedTracks,initialXDomain:ae.initialXDomain,initialYDomain:ae.initialYDomain,width:ae.width,height:ae.height,paddingLeft:ae.paddingLeft,paddingTop:ae.paddingTop,leftWidth:ae.leftWidth,topHeight:ae.topHeight,dragging:ae.dragging,viewOptions:ae.viewOptions})}return qe}()},{key:"draggingChanged",value:function(){function qe(ae){this.dragging=ae,this.timedUpdatePositionAndDimensions()}return qe}()},{key:"setUpScales",value:function(){function qe(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Ee=this.currentProps.paddingLeft+this.currentProps.leftWidth+this.currentProps.centerWidth/2,tn=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2,sn=(this.drawableToDomainX(Ee)-this.drawableToDomainX(this.prevCenterX))/this.zoomTransform.k,on=(this.drawableToDomainY(tn)-this.drawableToDomainY(this.prevCenterY))/this.zoomTransform.k;this.cumCenterYOffset+=on,this.cumCenterXOffset+=sn,this.prevCenterY=tn,this.prevCenterX=Ee;var He=[this.drawableToDomainX(0)-this.cumCenterXOffset,this.drawableToDomainX(this.currentProps.width)-this.cumCenterXOffset],Ve=[this.drawableToDomainY(0)-this.cumCenterYOffset,this.drawableToDomainY(this.currentProps.height)-this.cumCenterYOffset];this.xScale=(0,D.scaleLinear)().domain(He).range([0,this.currentProps.width]),this.yScale=(0,D.scaleLinear)().domain(Ve).range([0,this.currentProps.height]);for(var yn in this.trackDefObjects){var dn=this.trackDefObjects[yn].trackObject;dn.refScalesChanged(this.xScale,this.yScale)}this.applyZoomTransform(ae)}return qe}()},{key:"getTrackDef",value:function(){function qe(ae){var Ee=(0,xn.dictItems)(this.trackDefObjects),tn=!0,sn=!1,on=void 0;try{for(var He=(0,p.default)(Ee),Ve;!(tn=(Ve=He.next()).done);tn=!0){var yn=Ve.value,dn=(0,e.default)(yn,2),_n=dn[1],gn=_n.trackDef,Hn=_n.trackObject;if(Hn===ae)return gn.track;if(gn.track.contents){var Bn=!0,Vn=!1,tr=void 0;try{for(var Qn=(0,p.default)(gn.track.contents),er;!(Bn=(er=Qn.next()).done);Bn=!0){var cr=er.value;if(Hn.createdTracks[cr.uid]===ae)return cr}}catch(Kn){Vn=!0,tr=Kn}finally{try{!Bn&&Qn.return&&Qn.return()}finally{if(Vn)throw tr}}}}}catch(Kn){sn=!0,on=Kn}finally{try{!tn&&He.return&&He.return()}finally{if(sn)throw on}}return null}return qe}()},{key:"getTrackObject",value:function(){function qe(ae){for(var Ee=(0,xn.dictItems)(this.trackDefObjects),tn=0;tn<Ee.length;tn++){var sn=Ee[tn][0],on=Ee[tn][1].trackObject;if(sn===ae)return on;if(on.createdTracks)for(var He=(0,xn.dictItems)(on.createdTracks),Ve=0;Ve<He.length;Ve++){var yn=He[Ve][0],dn=He[Ve][1];if(yn===ae)return dn}}}return qe}()},{key:"timedUpdatePositionAndDimensions",value:function(){function qe(){if(!(this.closing||!this.element)&&(this.elementPos=this.element.getBoundingClientRect(),this.dragging)){this.yPositionOffset=this.element.getBoundingClientRect().top-this.currentProps.canvasElement.getBoundingClientRect().top+this.scrollTop,this.xPositionOffset=this.element.getBoundingClientRect().left-this.currentProps.canvasElement.getBoundingClientRect().left,this.setMask(),this.setBackground();var ae=this.updateTrackPositions();ae&&this.applyZoomTransform(!0),requestAnimationFrame(this.timedUpdatePositionAndDimensions.bind(this))}}return qe}()},{key:"syncMetaTracks",value:function(){function qe(ae){var Ee=this,tn=(0,v.default)(this.metaTracks),sn=new a.default(ae.map(function(on){return on.uid}));this.addMetaTracks(ae.filter(function(on){return!Ee.metaTracks[on.uid]})),this.updateMetaTracks(ae.filter(function(on){return Ee.metaTracks[on.uid]})),this.removeMetaTracks(tn.filter(function(on){return!sn.has(on)}))}return qe}()},{key:"syncTrackObjects",value:function(){function qe(ae){this.prevTrackDefinitions=(0,s.default)(ae);for(var Ee={},tn=0;tn<ae.length;tn++)Ee[ae[tn].track.uid]=ae[tn];var sn=new a.default((0,v.default)(this.trackDefObjects)),on=new a.default((0,v.default)(Ee)),He=new a.default([].concat((0,c.default)(on)).filter(function(dn){return!sn.has(dn)})),Ve=new a.default([].concat((0,c.default)(sn)).filter(function(dn){return!on.has(dn)})),yn=new a.default([].concat((0,c.default)(on)).filter(function(dn){return sn.has(dn)}));this.updateExistingTrackDefs([].concat((0,c.default)(yn)).map(function(dn){return Ee[dn]})),this.addNewTracks([].concat((0,c.default)(He)).map(function(dn){return Ee[dn]})),this.updateExistingTrackDefs([].concat((0,c.default)(He)).map(function(dn){return Ee[dn]})),this.removeTracks([].concat((0,c.default)(Ve)))}return qe}()},{key:"addMetaTracks",value:function(){function qe(ae){var Ee=this;ae.filter(function(tn){return!Ee.metaTracks[tn.uid]}).forEach(function(tn){Ee.metaTracks[tn.uid]={trackDef:tn,trackObject:Ee.createMetaTrack(tn)}})}return qe}()},{key:"addNewTracks",value:function(){function qe(ae){if(this.currentProps.pixiStage){for(var Ee=0;Ee<ae.length;Ee++){var tn=ae[Ee],sn=this.createTrackObject(tn.track);sn.refScalesChanged(this.xScale,this.yScale),this.trackDefObjects[tn.track.uid]={trackDef:tn,trackObject:sn};var on=this.zoomTransform.rescaleX(this.xScale),He=this.zoomTransform.rescaleY(this.yScale);sn.setDimensions([tn.width,tn.height]),sn.zoomed(on,He)}this.applyZoomTransform(!1)}}return qe}()},{key:"updateMetaTracks",value:function(){function qe(){}return qe}()},{key:"updateExistingTrackDefs",value:function(){function qe(ae){for(var Ee=0;Ee<ae.length;Ee++)this.trackDefObjects[ae[Ee].track.uid].trackDef=ae[Ee],ae[Ee].track.type==="combined"&&this.trackDefObjects[ae[Ee].track.uid].trackObject.updateContents(ae[Ee].track.contents,this.createTrackObject.bind(this)).refScalesChanged(this.xScale,this.yScale);var tn=this.updateTrackPositions();tn&&this.applyZoomTransform(!1)}return qe}()},{key:"updateTrackPositions",value:function(){function qe(){var ae=!1;for(var Ee in this.trackDefObjects){var tn=this.trackDefObjects[Ee].trackDef,sn=this.trackDefObjects[Ee].trackObject,on=sn.position,He=sn.dimensions,Ve=[this.xPositionOffset+tn.left,this.yPositionOffset+tn.top],yn=[tn.width,tn.height];(!on||Ve[0]!==on[0]||Ve[1]!==on[1])&&(sn.setPosition(Ve),ae=!0),(!He||yn[0]!==He[0]||yn[1]!==He[1])&&(sn.setDimensions(yn),ae=!0)}return ae}return qe}()},{key:"removeMetaTracks",value:function(){function qe(ae){var Ee=this;ae.forEach(function(tn){Ee.metaTracks[tn].trackObject.remove(),Ee.metaTracks[tn]=void 0,delete Ee.metaTracks[tn]})}return qe}()},{key:"removeTracks",value:function(){function qe(ae){for(var Ee=0;Ee<ae.length;Ee++)this.trackDefObjects[ae[Ee]].trackObject.remove(),delete this.trackDefObjects[ae[Ee]]}return qe}()},{key:"setCenter",value:function(){function qe(ae,Ee,tn){var sn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,on=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,He=this,Ve=arguments.length>5&&arguments[5]!==void 0?arguments[5]:this.xScale,yn=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this.yScale,dn=this.xScale.invert(1)-this.xScale.invert(0),_n=dn/tn,gn=this.currentProps.paddingLeft+this.currentProps.leftWidth+this.currentProps.centerWidth/2,Hn=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2,Bn=gn-Ve(ae)*_n,Vn=Hn-yn(Ee)*_n,tr=void 0,Qn=function(){function cr(){var Kn=H.zoomIdentity.translate(Bn,Vn).scale(_n);He.zoomTransform=Kn,He.emptyZoomBehavior.transform(He.elementSelection,Kn),tr=He.applyZoomTransform(sn)}return cr}();if(on){var er=this.elementSelection;this.activeTransitions+=1,document.hidden||(er=er.transition().duration(on)),er.call(this.zoomBehavior.transform,H.zoomIdentity.translate(Bn,Vn).scale(_n)).on("end",function(){Qn(),He.activeTransitions-=1})}else Qn();return tr}return qe}()},{key:"valueScaleMove",value:function(){function qe(ae){var Ee=!0,tn=!1,sn=void 0;try{for(var on=(0,p.default)(this.getTracksAtPosition.apply(this,(0,c.default)(this.zoomStartPos))),He;!(Ee=(He=on.next()).done);Ee=!0){var Ve=He.value;Ve.movedY(ae)}}catch(yn){tn=!0,sn=yn}finally{try{!Ee&&on.return&&on.return()}finally{if(tn)throw sn}}this.zoomTransform=this.zoomStartTransform}return qe}()},{key:"valueScaleZoom",value:function(){function qe(ae){var Ee=L.event.sourceEvent.deltaY,tn=L.event.sourceEvent.deltaMode,sn=function(){function Vn(tr,Qn){return tr*(Qn?120:1)/500}return Vn}(),on=sn(Ee,tn),He=(0,L.clientPoint)(this.props.canvasElement,L.event.sourceEvent),Ve=!0,yn=!1,dn=void 0;try{for(var _n=(0,p.default)(this.getTracksAtPosition.apply(this,(0,c.default)(He))),gn;!(Ve=(gn=_n.next()).done);Ve=!0){var Hn=gn.value,Bn=ae==="1d-horizontal"?He[1]-Hn.position[1]:He[0]-Hn.position[0];Hn.zoomedY(Bn,Math.pow(2,on))}}catch(Vn){yn=!0,dn=Vn}finally{try{!Ve&&_n.return&&_n.return()}finally{if(yn)throw dn}}this.zoomTransform=this.zoomStartTransform}return qe}()},{key:"zoomed",value:function(){function qe(){var ae=null;if(this.zoomStartPos){var Ee=this.getTracksAtPosition.apply(this,(0,c.default)(this.zoomStartPos));if(Ee.length){var tn=Ee[0],sn=this.getTrackDef(tn);Un.TRACKS_INFO_BY_TYPE[sn.type]&&(ae=Un.TRACKS_INFO_BY_TYPE[sn.type].orientation),tn instanceof ee.default&&(ae="1d-vertical")}}if(ae&&L.event.sourceEvent){if(L.event.shiftKey||this.valueScaleZooming){if(L.event.sourceEvent.deltaY!==void 0){this.valueScaleZoom(ae);return}ae==="1d-horizontal"?this.valueScaleMove(L.event.sourceEvent.movementY):ae==="1d-vertical"&&this.valueScaleMove(L.event.sourceEvent.movementX)}ae==="1d-horizontal"&&L.event.sourceEvent.movementY?this.valueScaleMove(L.event.sourceEvent.movementY):ae==="1d-vertical"&&L.event.sourceEvent.movementX&&this.valueScaleMove(L.event.sourceEvent.movementX)}this.zoomTransform=this.currentProps.zoomable?L.event.transform:H.zoomIdentity;var on=this.prevZoomTransform.k!==this.zoomTransform.k;on||(ae==="1d-horizontal"?this.zoomTransform=H.zoomIdentity.translate(this.zoomTransform.x,this.prevZoomTransform.y).scale(this.zoomTransform.k):ae==="1d-vertical"&&(this.zoomTransform=H.zoomIdentity.translate(this.prevZoomTransform.x,this.zoomTransform.y).scale(this.zoomTransform.k)),this.element.__zoom=this.zoomTransform),this.applyZoomTransform(!0),this.prevZoomTransform=this.zoomTransform,this.props.pubSub.publish("app.zoom",L.event),L.event.sourceEvent&&(L.event.sourceEvent.stopPropagation(),L.event.sourceEvent.preventDefault())}return qe}()},{key:"getTracksAtPosition",value:function(){function qe(ae,Ee){var tn=[],sn=[];for(var on in this.trackDefObjects){var He=this.trackDefObjects[on].trackObject;He.childTracks?sn=sn.concat(He.childTracks):sn.push(He)}var Ve=!0,yn=!1,dn=void 0;try{for(var _n=(0,p.default)(sn),gn;!(Ve=(gn=_n.next()).done);Ve=!0){var Hn=gn.value,Bn=Hn.position[0]<=ae&&ae<=Hn.position[0]+Hn.dimensions[0],Vn=Hn.position[1]<=Ee&&Ee<=Hn.position[1]+Hn.dimensions[1];Bn&&Vn&&tn.push(Hn)}}catch(tr){yn=!0,dn=tr}finally{try{!Ve&&_n.return&&_n.return()}finally{if(yn)throw dn}}return tn}return qe}()},{key:"zoomStarted",value:function(){function qe(){this.zooming=!0,L.event.sourceEvent&&(this.zoomStartPos=(0,L.clientPoint)(this.props.canvasElement,L.event.sourceEvent),L.event.sourceEvent.shiftKey&&(this.valueScaleZooming=!0)),this.zoomStartTransform=this.zoomTransform,this.props.pubSub.publish("app.zoomStart")}return qe}()},{key:"zoomEnded",value:function(){function qe(){this.zooming=!1,this.zoomStartPos=null,this.valueScaleZooming&&(this.valueScaleZooming=!1,this.element.__zoom=this.zoomStartTransform),this.props.pubSub.publish("app.zoomEnd")}return qe}()},{key:"applyZoomTransform",value:function(){function qe(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,Ee=this.currentProps,tn=Ee.paddingLeft+Ee.leftWidth,sn=Ee.paddingTop+Ee.topHeight;this.zoomedXScale=this.zoomTransform.rescaleX(this.xScale),this.zoomedYScale=this.zoomTransform.rescaleY(this.yScale);var on=(0,D.scaleLinear)().domain([tn,tn+Ee.centerWidth].map(this.zoomedXScale.invert)).range([0,Ee.centerWidth]),He=(0,D.scaleLinear)().domain([sn,sn+Ee.centerHeight].map(this.zoomedYScale.invert)).range([0,Ee.centerHeight]);for(var Ve in this.trackDefObjects){var yn=this.trackDefObjects[Ve].trackObject,dn=this.trackDefObjects[Ve].trackDef,_n="unknown";if(Un.TRACKS_INFO_BY_TYPE[dn.track.type]&&(_n=Un.TRACKS_INFO_BY_TYPE[dn.track.type].orientation),_n==="whole"){var gn=(0,D.scaleLinear)().domain([Ee.paddingLeft,Ee.width-Ee.paddingLeft].map(this.zoomedXScale.invert)).range([0,Ee.width-2*Ee.paddingLeft]),Hn=(0,D.scaleLinear)().domain([Ee.paddingTop,Ee.height-Ee.paddingTop].map(this.zoomedYScale.invert)).range([0,Ee.height-2*Ee.paddingTop]);yn.zoomed(gn,Hn);continue}if(this.trackDefObjects[Ve].trackDef.track.position==="gallery"){var Bn=(0,D.scaleLinear)().domain([Ee.paddingLeft+Ee.leftWidthNoGallery,Ee.paddingLeft+Ee.leftWidth+Ee.centerWidth+Ee.galleryDim].map(this.zoomedXScale.invert)).range([0,Ee.centerWidth+2*Ee.galleryDim]),Vn=(0,D.scaleLinear)().domain([Ee.paddingTop+Ee.topHeightNoGallery,Ee.paddingTop+Ee.topHeight+Ee.centerHeight+Ee.galleryDim].map(this.zoomedYScale.invert)).range([0,Ee.centerHeight-2*Ee.galleryDim]);yn.zoomed(Bn.copy(),Vn.copy(),this.zoomTransform.k);continue}yn.zoomed(on.copy(),He.copy(),this.zoomTransform.k,this.zoomTransform.x+this.xPositionOffset,this.zoomTransform.y+this.yPositionOffset,Ee.paddingLeft+Ee.leftWidth,Ee.paddingTop+Ee.topHeight)}return this.currentXScale=on,this.currentYScale=He,ae&&this.currentProps.onScalesChanged(on,He),[on,He]}return qe}()},{key:"createMetaTrack",value:function(){function qe(ae){var Ee=this;switch(ae.type){default:{var tn=this.props.pluginTracks[ae.type];if(tn&&tn.isMetaTrack){var sn={getTrackObject:this.getTrackObject.bind(this),onNewTilesLoaded:function(){function on(){Ee.currentProps.onNewTilesLoaded(ae.uid)}return on}(),definition:ae};try{return new tn.track(Un.AVAILABLE_FOR_PLUGINS,sn,ae.options)}catch(on){console.error("Plugin meta track",ae.type,"failed to instantiate.",on)}}return console.warn("Unknown meta track of type: "+String(ae.type)),new Oe.default(this.pStage,{name:"Unknown Track Type",type:ae.type},function(){return Ee.currentProps.onNewTilesLoaded(ae.uid)})}}}return qe}()},{key:"createTrackObject",value:function(){function qe(ae){var Ee=this.createLocationAgnosticTrackObject(ae);return(ae.position==="left"||ae.position==="right")&&Un.TRACKS_INFO_BY_TYPE[ae.type].orientation==="1d-horizontal"?new ee.default(Ee):Ee}return qe}()},{key:"createLocationAgnosticTrackObject",value:function(){function qe(ae){var Ee=this,tn=function(){function dn(_n){Ee.currentProps.onTilesetInfoReceived(ae.uid,_n)}return dn}(),sn=ae.data;sn||(sn={server:(0,xn.trimTrailingSlash)(ae.server),tilesetUid:ae.tilesetUid}),ae.coordSystem&&(sn.coordSystem=ae.coordSystem);var on=(0,$e.default)(sn,this.props.pubSub,this.props.pluginDataFetchers),He={id:ae.uid,viewUid:this.viewUid,pubSub:this.props.pubSub,scene:this.pStage,dataConfig:sn,dataFetcher:on,getLockGroupExtrema:function(){function dn(){return Ee.currentProps.getLockGroupExtrema(ae.uid)}return dn}(),handleTilesetInfoReceived:tn,animate:function(){function dn(){Ee.currentProps.onNewTilesLoaded(ae.uid)}return dn}(),svgElement:this.svgElement,isValueScaleLocked:function(){function dn(){return Ee.currentProps.isValueScaleLocked(ae.uid)}return dn}(),onValueScaleChanged:function(){function dn(){Ee.currentProps.onValueScaleChanged(ae.uid)}return dn}(),onTrackOptionsChanged:function(){function dn(_n){Ee.currentProps.onTrackOptionsChanged(ae.uid,_n)}return dn}(),onMouseMoveZoom:this.props.onMouseMoveZoom,chromInfoPath:ae.chromInfoPath,isShowGlobalMousePosition:function(){function dn(){return Ee.props.isShowGlobalMousePosition}return dn}(),getTheme:function(){function dn(){return Ee.props.theme}return dn}()};ae.y&&(He.yPosition=ae.y),ae.x&&(He.xPosition=ae.x),ae.projectionXDomain&&(He.projectionXDomain=ae.projectionXDomain),ae.projectionYDomain&&(He.projectionYDomain=ae.projectionYDomain);var Ve=ae.options;switch(ae.type){case"left-axis":return new tt.default(He,Ve);case"top-axis":return new rt.default(He,Ve);case"heatmap":return new X.default(He,Ve);case"multivec":case"vector-heatmap":case"horizontal-multivec":case"horizontal-vector-heatmap":case"vertical-multivec":case"vertical-vector-heatmap":return new J.default(He,Ve);case"1d-heatmap":case"horizontal-1d-heatmap":case"vertical-1d-heatmap":return new vt.default(He,Ve);case"line":case"horizontal-line":case"vertical-line":return new dt.default(He,Ve);case"point":case"horizontal-point":case"vertical-point":return new q.default(He,Ve);case"bar":case"horizontal-bar":case"vertical-bar":return new ut.default(He,Ve);case"divergent-bar":case"horizontal-divergent-bar":case"vertical-divergent-bar":return new bt.default(He,Ve);case"horizontal-1d-tiles":return new U.default(He,Ve);case"vertical-1d-tiles":return new st.default(He,Ve);case"2d-tiles":return new V.default(He,Ve);case"stacked-interval":case"top-stacked-interval":case"left-stacked-interval":return new Rt.default(He,Ve);case"viewport-projection-center":return ae.registerViewportChanged&&ae.removeViewportChanged&&ae.setDomainsCallback?(He.registerViewportChanged=ae.registerViewportChanged,He.removeViewportChanged=ae.removeViewportChanged,He.setDomainsCallback=ae.setDomainsCallback,new Be.default(He,Ve)):new _t.default(He,Ve);case"viewport-projection-horizontal":return ae.registerViewportChanged&&ae.removeViewportChanged&&ae.setDomainsCallback?(He.registerViewportChanged=ae.registerViewportChanged,He.removeViewportChanged=ae.removeViewportChanged,He.setDomainsCallback=ae.setDomainsCallback,new Xe.default(He,Ve)):new _t.default(He,Ve);case"viewport-projection-vertical":return ae.registerViewportChanged&&ae.removeViewportChanged&&ae.setDomainsCallback?(He.registerViewportChanged=ae.registerViewportChanged,He.removeViewportChanged=ae.removeViewportChanged,He.setDomainsCallback=ae.setDomainsCallback,new qt.default(He,Ve)):new _t.default(He,Ve);case"gene-annotations":case"horizontal-gene-annotations":case"vertical-gene-annotations":return new oe.default(He,Ve);case"2d-rectangle-domains":case"arrowhead-domains":return new pe.default(He,Ve);case"horizontal-1d-annotations":return new gt.default(He,Ve);case"vertical-1d-annotations":return new gt.default(He,Ve,!0);case"2d-annotations":return new se.default(He,Ve);case"linear-2d-rectangle-domains":case"horizontal-2d-rectangle-domains":case"vertical-2d-rectangle-domains":return new Ct.default(He,Ve);case"square-markers":return new St.default(He,Ve);case"combined":return He.tracks=ae.contents,He.createTrackObject=this.createTrackObject.bind(this),new Q.default(He,Ve);case"2d-chromosome-labels":return new Zt.default(He,Ve);case"horizontal-chromosome-grid":return He.orientation="1d-horizontal",new ce.default(He,Ve);case"vertical-chromosome-grid":return He.orientation="1d-vertical",new ce.default(He,Ve);case"2d-chromosome-grid":return new ce.default(He,Ve);case"chromosome-labels":case"horizontal-chromosome-labels":case"vertical-chromosome-labels":return new Kt.default(He,Ve);case"linear-heatmap":case"horizontal-heatmap":case"vertical-heatmap":return new ye.default(He,Ve);case"2d-chromosome-annotations":return new Mt.default(He,Ve);case"1d-value-interval":case"horizontal-1d-value-interval":case"vertical-1d-value-interval":return new ze.default(He,Ve);case"osm":case"osm-tiles":return new Ft.default(He,Ve);case"osm-2d-tile-ids":return new xt.default(He,Ve);case"mapbox":case"mapbox-tiles":return new Qt.default(He,Ve);case"raster-tiles":return new ve.default(He,Ve);case"bedlike":case"vertical-bedlike":return new nt.default(He,Ve);case"overlay-track":return new yt.default(He,Ve);case"overlay-chromosome-grid-track":return He.isOverlay=!0,new ce.default(He,Ve);case"horizontal-rule":return new Xt.default(He,Ve);case"vertical-rule":return new ne.default(He,Ve);case"cross-rule":return He.x=ae.x,He.y=ae.y,new he.default(He,Ve);case"simple-svg":return new Ae.default(He,Ve);case"empty":return new F.default(He,Ve);default:{var yn=this.props.pluginTracks[ae.type];if(yn&&!yn.isMetaTrack){He.AVAILABLE_FOR_PLUGINS=Un.AVAILABLE_FOR_PLUGINS,He.baseEl=this.baseEl,He.definition=ae,ae.registerViewportChanged&&ae.removeViewportChanged&&ae.setDomainsCallback&&(He.registerViewportChanged=ae.registerViewportChanged,He.removeViewportChanged=ae.removeViewportChanged,He.setDomainsCallback=ae.setDomainsCallback);try{return new yn.track(Un.AVAILABLE_FOR_PLUGINS,He,Ve)}catch(dn){console.error("Plugin track",ae.type,"failed to instantiate.",dn)}}return console.warn("Unknown track type:",ae.type),new Oe.default(He,{name:"Unknown Track Type",type:ae.type})}}}return qe}()},{key:"zoomToDataPos",value:function(){function qe(ae,Ee,tn,sn){var on=arguments.length>4&&arguments[4]!==void 0?arguments[4]:3e3,He=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,Ve=(0,xn.scalesCenterAndK)(this.xScale.copy().domain([ae,Ee]),this.yScale.copy().domain([tn,sn])),yn=(0,e.default)(Ve,3),dn=yn[0],_n=yn[1],gn=yn[2],Hn=He?He(this.xScale,this.yScale):[this.xScale,this.yScale];this.setCenter(dn,_n,gn,!1,on,Hn[0],Hn[1])}return qe}()},{key:"forwardContextMenu",value:function(){function qe(ae){var Ee=this;this.props.disableTrackMenu||ae.altKey||(ae.preventDefault(),setTimeout(function(){Ee.props.pubSub.publish("contextmenu",ae)},0))}return qe}()},{key:"addEventTracker",value:function(){function qe(){!this.eventTracker||this.eventTracker===this.eventTrackerOld||(this.eventTrackerOld||(this.eventTrackerOld=this.eventTracker),this.eventTracker=this.eventTrackerOld,this.eventTracker.addEventListener("click",this.boundForwardEvent),this.eventTracker.addEventListener("contextmenu",this.boundForwardContextMenu),this.eventTracker.addEventListener("dblclick",this.boundForwardEvent),this.eventTracker.addEventListener("wheel",this.boundForwardEvent),this.eventTracker.addEventListener("dragstart",this.boundForwardEvent),this.eventTracker.addEventListener("selectstart",this.boundForwardEvent),this.eventTracker.addEventListener("mouseover",this.boundForwardEvent),this.eventTracker.addEventListener("mouseenter",this.boundForwardEvent),this.eventTracker.addEventListener("mousedown",this.boundForwardEvent),this.eventTracker.addEventListener("mouseup",this.boundForwardEvent),this.eventTracker.addEventListener("mouseout",this.boundForwardEvent),this.eventTracker.addEventListener("mouseleave",this.boundForwardEvent),this.eventTracker.addEventListener("touchstart",this.boundForwardEvent),this.eventTracker.addEventListener("touchend",this.boundForwardEvent),this.eventTracker.addEventListener("touchmove",this.boundForwardEvent),this.eventTracker.addEventListener("touchcancel",this.boundForwardEvent),this.eventTracker.addEventListener("pointerover",this.boundForwardEvent),this.eventTracker.addEventListener("pointerenter",this.boundForwardEvent),this.eventTracker.addEventListener("pointerdown",this.boundForwardEvent),this.eventTracker.addEventListener("pointerup",this.boundForwardEvent),this.eventTracker.addEventListener("pointercancel",this.boundForwardEvent),this.eventTracker.addEventListener("pointerout",this.boundForwardEvent),this.eventTracker.addEventListener("pointerleave",this.boundForwardEvent),window.addEventListener("scroll",this.boundScrollEvent))}return qe}()},{key:"removeEventTracker",value:function(){function qe(){this.eventTracker&&(this.eventTracker.removeEventListener("click",this.boundForwardEvent),this.eventTracker.removeEventListener("contextmenu",this.boundForwardContextMenu),this.eventTracker.removeEventListener("dblclick",this.boundForwardEvent),this.eventTracker.removeEventListener("wheel",this.boundForwardEvent),this.eventTracker.removeEventListener("dragstart",this.boundForwardEvent),this.eventTracker.removeEventListener("selectstart",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseover",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseenter",this.boundForwardEvent),this.eventTracker.removeEventListener("mousedown",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseup",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseout",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseleave",this.boundForwardEvent),this.eventTracker.removeEventListener("touchstart",this.boundForwardEvent),this.eventTracker.removeEventListener("touchend",this.boundForwardEvent),this.eventTracker.removeEventListener("touchcancel",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerover",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerenter",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerdown",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerup",this.boundForwardEvent),this.eventTracker.removeEventListener("pointercancel",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerout",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerleave",this.boundForwardEvent),window.removeEventListener("scroll",this.boundScrollEvent))}return qe}()},{key:"scrollEvent",value:function(){function qe(){this.elementPos=this.element.getBoundingClientRect()}return qe}()},{key:"forwardEvent",value:function(){function qe(ae){ae.sourceUid=this.uid,ae.forwarded=!0,this.props.pubSub.publish("app.event",ae)}return qe}()},{key:"onScrollHandler",value:function(){function qe(ae){this.scrollTop=ae}return qe}()},{key:"render",value:function(){function qe(){var ae=this;return R.default.createElement("div",{ref:function(){function Ee(tn){ae.baseEl=tn}return Ee}(),className:"track-renderer-div TrackRenderer-module_track-renderer-3TM7n",style:{height:this.currentProps.height,width:this.currentProps.width}},R.default.createElement("div",{ref:function(){function Ee(tn){ae.element=tn}return Ee}(),className:"track-renderer-element TrackRenderer-module_track-renderer-element-2i16D"}),R.default.createElement("div",{ref:function(){function Ee(tn){ae.eventTracker=tn}return Ee}(),className:"track-renderer-events TrackRenderer-module_track-renderer-events-3tVM2"},this.currentProps.children))}return qe}()}]),pr}(R.default.Component);wr.defaultProps={pluginDataFetchers:{},pluginTracks:{},canvasElement:null,centerHeight:0,centerWidth:0,children:[],galleryDim:0,height:0,initialXDomain:[],initialYDomain:[],isShowGlobalMousePosition:!1,isRangeSelection:!1,leftWidth:0,leftWidthNoGallery:0,paddingLeft:0,paddingTop:0,positionedTracks:[],topHeight:0,topHeightNoGallery:0,width:0,metaTracks:[]},wr.propTypes={canvasElement:M.default.object,centerHeight:M.default.number,centerWidth:M.default.number,children:M.default.array,disableTrackMenu:M.default.bool,galleryDim:M.default.number,height:M.default.number,initialXDomain:M.default.array,initialYDomain:M.default.array,isShowGlobalMousePosition:M.default.bool,isRangeSelection:M.default.bool,leftWidth:M.default.number,leftWidthNoGallery:M.default.number,paddingLeft:M.default.number,paddingTop:M.default.number,metaTracks:M.default.array,onMouseMoveZoom:M.default.func,onNewTilesLoaded:M.default.func.isRequired,onScalesChanged:M.default.func.isRequired,pixiRenderer:M.default.object.isRequired,pixiStage:M.default.object.isRequired,pluginDataFetchers:M.default.object,pluginTracks:M.default.object,positionedTracks:M.default.array,pubSub:M.default.object.isRequired,setCentersFunction:M.default.func,svgElement:M.default.object.isRequired,theme:M.default.symbol.isRequired,topHeight:M.default.number,topHeightNoGallery:M.default.number,viewOptions:M.default.object,width:M.default.number,xDomainLimits:M.default.array,yDomainLimits:M.default.array,valueScaleZoom:M.default.bool,zoomable:M.default.bool.isRequired,zoomDomain:M.default.array},r.default=(0,ke.default)((0,In.default)(wr))},function(f,r,t){f.exports={default:t(613),__esModule:!0}},function(f,r,t){t(614);var n=t(12).Object;f.exports=function(a,l){return n.getOwnPropertyDescriptor(a,l)}},function(f,r,t){var n=t(48),a=t(228).f;t(126)("getOwnPropertyDescriptor",function(){return function(l,e){return a(n(l),e)}})},function(f,r,t){var n=function(){return this}()||Function("return this")(),a=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,l=a&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,f.exports=t(616),a)n.regeneratorRuntime=l;else try{delete n.regeneratorRuntime}catch{n.regeneratorRuntime=void 0}},function(f,r){(function(t){var n=Object.prototype,a=n.hasOwnProperty,l,e=typeof Symbol=="function"?Symbol:{},o=e.iterator||"@@iterator",s=e.asyncIterator||"@@asyncIterator",u=e.toStringTag||"@@toStringTag",c=typeof f=="object",m=t.regeneratorRuntime;if(m){c&&(f.exports=m);return}m=t.regeneratorRuntime=c?f.exports:{};function p(F,N,X,G){var V=N&&N.prototype instanceof E?N:E,z=Object.create(V.prototype),U=new j(G||[]);return z._invoke=M(F,X,U),z}m.wrap=p;function h(F,N,X){try{return{type:"normal",arg:F.call(N,X)}}catch(G){return{type:"throw",arg:G}}}var v="suspendedStart",x="suspendedYield",y="executing",k="completed",T={};function E(){}function _(){}function A(){}var C={};C[o]=function(){return this};var S=Object.getPrototypeOf,P=S&&S(S(W([])));P&&P!==n&&a.call(P,o)&&(C=P);var O=A.prototype=E.prototype=Object.create(C);_.prototype=O.constructor=A,A.constructor=_,A[u]=_.displayName="GeneratorFunction";function R(F){["next","throw","return"].forEach(function(N){F[N]=function(X){return this._invoke(N,X)}})}m.isGeneratorFunction=function(F){var N=typeof F=="function"&&F.constructor;return N?N===_||(N.displayName||N.name)==="GeneratorFunction":!1},m.mark=function(F){return Object.setPrototypeOf?Object.setPrototypeOf(F,A):(F.__proto__=A,u in F||(F[u]="GeneratorFunction")),F.prototype=Object.create(O),F},m.awrap=function(F){return{__await:F}};function I(F){function N(V,z,U,Z){var st=h(F[V],F,z);if(st.type==="throw")Z(st.arg);else{var Y=st.arg,rt=Y.value;return rt&&typeof rt=="object"&&a.call(rt,"__await")?Promise.resolve(rt.__await).then(function(ft){N("next",ft,U,Z)},function(ft){N("throw",ft,U,Z)}):Promise.resolve(rt).then(function(ft){Y.value=ft,U(Y)},Z)}}var X;function G(V,z){function U(){return new Promise(function(Z,st){N(V,z,Z,st)})}return X=X?X.then(U,U):U()}this._invoke=G}R(I.prototype),I.prototype[s]=function(){return this},m.AsyncIterator=I,m.async=function(F,N,X,G){var V=new I(p(F,N,X,G));return m.isGeneratorFunction(N)?V:V.next().then(function(z){return z.done?z.value:V.next()})};function M(F,N,X){var G=v;return function(V,z){if(G===y)throw new Error("Generator is already running");if(G===k){if(V==="throw")throw z;return B()}for(X.method=V,X.arg=z;;){var U=X.delegate;if(U){var Z=H(U,X);if(Z){if(Z===T)continue;return Z}}if(X.method==="next")X.sent=X._sent=X.arg;else if(X.method==="throw"){if(G===v)throw G=k,X.arg;X.dispatchException(X.arg)}else X.method==="return"&&X.abrupt("return",X.arg);G=y;var st=h(F,N,X);if(st.type==="normal"){if(G=X.done?k:x,st.arg===T)continue;return{value:st.arg,done:X.done}}else st.type==="throw"&&(G=k,X.method="throw",X.arg=st.arg)}}}function H(F,N){var X=F.iterator[N.method];if(X===l){if(N.delegate=null,N.method==="throw"){if(F.iterator.return&&(N.method="return",N.arg=l,H(F,N),N.method==="throw"))return T;N.method="throw",N.arg=new TypeError("The iterator does not provide a 'throw' method")}return T}var G=h(X,F.iterator,N.arg);if(G.type==="throw")return N.method="throw",N.arg=G.arg,N.delegate=null,T;var V=G.arg;if(!V)return N.method="throw",N.arg=new TypeError("iterator result is not an object"),N.delegate=null,T;if(V.done)N[F.resultName]=V.value,N.next=F.nextLoc,N.method!=="return"&&(N.method="next",N.arg=l);else return V;return N.delegate=null,T}R(O),O[u]="Generator",O[o]=function(){return this},O.toString=function(){return"[object Generator]"};function L(F){var N={tryLoc:F[0]};1 in F&&(N.catchLoc=F[1]),2 in F&&(N.finallyLoc=F[2],N.afterLoc=F[3]),this.tryEntries.push(N)}function D(F){var N=F.completion||{};N.type="normal",delete N.arg,F.completion=N}function j(F){this.tryEntries=[{tryLoc:"root"}],F.forEach(L,this),this.reset(!0)}m.keys=function(F){var N=[];for(var X in F)N.push(X);return N.reverse(),function G(){for(;N.length;){var V=N.pop();if(V in F)return G.value=V,G.done=!1,G}return G.done=!0,G}};function W(F){if(F){var N=F[o];if(N)return N.call(F);if(typeof F.next=="function")return F;if(!isNaN(F.length)){var X=-1,G=function V(){for(;++X<F.length;)if(a.call(F,X))return V.value=F[X],V.done=!1,V;return V.value=l,V.done=!0,V};return G.next=G}}return{next:B}}m.values=W;function B(){return{value:l,done:!0}}j.prototype={constructor:j,reset:function(F){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(D),!F)for(var N in this)N.charAt(0)==="t"&&a.call(this,N)&&!isNaN(+N.slice(1))&&(this[N]=l)},stop:function(){this.done=!0;var F=this.tryEntries[0],N=F.completion;if(N.type==="throw")throw N.arg;return this.rval},dispatchException:function(F){if(this.done)throw F;var N=this;function X(st,Y){return z.type="throw",z.arg=F,N.next=st,Y&&(N.method="next",N.arg=l),!!Y}for(var G=this.tryEntries.length-1;G>=0;--G){var V=this.tryEntries[G],z=V.completion;if(V.tryLoc==="root")return X("end");if(V.tryLoc<=this.prev){var U=a.call(V,"catchLoc"),Z=a.call(V,"finallyLoc");if(U&&Z){if(this.prev<V.catchLoc)return X(V.catchLoc,!0);if(this.prev<V.finallyLoc)return X(V.finallyLoc)}else if(U){if(this.prev<V.catchLoc)return X(V.catchLoc,!0)}else if(Z){if(this.prev<V.finallyLoc)return X(V.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(F,N){for(var X=this.tryEntries.length-1;X>=0;--X){var G=this.tryEntries[X];if(G.tryLoc<=this.prev&&a.call(G,"finallyLoc")&&this.prev<G.finallyLoc){var V=G;break}}V&&(F==="break"||F==="continue")&&V.tryLoc<=N&&N<=V.finallyLoc&&(V=null);var z=V?V.completion:{};return z.type=F,z.arg=N,V?(this.method="next",this.next=V.finallyLoc,T):this.complete(z)},complete:function(F,N){if(F.type==="throw")throw F.arg;return F.type==="break"||F.type==="continue"?this.next=F.arg:F.type==="return"?(this.rval=this.arg=F.arg,this.method="return",this.next="end"):F.type==="normal"&&N&&(this.next=N),T},finish:function(F){for(var N=this.tryEntries.length-1;N>=0;--N){var X=this.tryEntries[N];if(X.finallyLoc===F)return this.complete(X.completion,X.afterLoc),D(X),T}},catch:function(F){for(var N=this.tryEntries.length-1;N>=0;--N){var X=this.tryEntries[N];if(X.tryLoc===F){var G=X.completion;if(G.type==="throw"){var V=G.arg;D(X)}return V}}throw new Error("illegal catch attempt")},delegateYield:function(F,N,X){return this.delegate={iterator:W(F),resultName:N,nextLoc:X},this.method==="next"&&(this.arg=l),T}}})(function(){return this}()||Function("return this")())},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(3),a=o(n),l=t(4),e=o(l);function o(c){return c&&c.__esModule?c:{default:c}}var s=function(){function c(){(0,a.default)(this,c),this.taskList=[],this.taskHandle=null,this.requestIdleCallbackTimeout=300}return(0,e.default)(c,[{key:"enqueueTask",value:function(){function m(p,h){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;v===null?this.taskList.push({handler:p,data:h}):(this.taskList=this.taskList.filter(function(x){return x.trackId!==v}),this.taskList.push({handler:p,data:h,trackId:v})),this.taskHandle||(this.taskHandle=requestIdleCallback(this.runTaskQueue.bind(this),{timeout:this.requestIdleCallbackTimeout}))}return m}()},{key:"runTaskQueue",value:function(){function m(p){for(;(p.timeRemaining()>0||p.didTimeout)&&this.taskList.length;){var h=this.taskList.shift();h.data===null?h.handler():h.handler(h.data)}this.taskList.length?this.taskHandle=requestIdleCallback(this.runTaskQueue.bind(this),{timeout:this.requestIdleCallbackTimeout}):this.taskHandle=0}return m}()}]),c}(),u=new s;r.default=u},function(f,r,t){function n(e,o,s){var u=e[s]|0;if(u<=0)return[];var c=new Array(u),m;if(s===e.length-1)for(m=0;m<u;++m)c[m]=o;else for(m=0;m<u;++m)c[m]=n(e,o,s+1);return c}function a(e,o){var s,u;for(s=new Array(e),u=0;u<e;++u)s[u]=o;return s}function l(e,o){switch(typeof o>"u"&&(o=0),typeof e){case"number":if(e>0)return a(e|0,o);break;case"object":if(typeof e.length=="number")return n(e,o,0);break}return[]}f.exports=l},function(f,r,t){f.exports=a;var n=32;function a(h,v){v<=4*n?l(0,v-1,h):p(0,v-1,h)}function l(h,v,x){for(var y=2*(h+1),k=h+1;k<=v;++k){for(var T=x[y++],E=x[y++],_=k,A=y-2;_-- >h;){var C=x[A-2],S=x[A-1];if(C<T||C===T&&S<E)break;x[A]=C,x[A+1]=S,A-=2}x[A]=T,x[A+1]=E}}function e(h,v,x){h*=2,v*=2;var y=x[h],k=x[h+1];x[h]=x[v],x[h+1]=x[v+1],x[v]=y,x[v+1]=k}function o(h,v,x){h*=2,v*=2,x[h]=x[v],x[h+1]=x[v+1]}function s(h,v,x,y){h*=2,v*=2,x*=2;var k=y[h],T=y[h+1];y[h]=y[v],y[h+1]=y[v+1],y[v]=y[x],y[v+1]=y[x+1],y[x]=k,y[x+1]=T}function u(h,v,x,y,k){h*=2,v*=2,k[h]=k[v],k[v]=x,k[h+1]=k[v+1],k[v+1]=y}function c(h,v,x){h*=2,v*=2;var y=x[h],k=x[v];return y<k?!1:y===k?x[h+1]>x[v+1]:!0}function m(h,v,x,y){h*=2;var k=y[h];return k<v?!0:k===v?y[h+1]<x:!1}function p(h,v,x){var y=(v-h+1)/6|0,k=h+y,T=v-y,E=h+v>>1,_=E-y,A=E+y,C=k,S=_,P=E,O=A,R=T,I=h+1,M=v-1,H=0;c(C,S,x)&&(H=C,C=S,S=H),c(O,R,x)&&(H=O,O=R,R=H),c(C,P,x)&&(H=C,C=P,P=H),c(S,P,x)&&(H=S,S=P,P=H),c(C,O,x)&&(H=C,C=O,O=H),c(P,O,x)&&(H=P,P=O,O=H),c(S,R,x)&&(H=S,S=R,R=H),c(S,P,x)&&(H=S,S=P,P=H),c(O,R,x)&&(H=O,O=R,R=H);for(var L=x[2*S],D=x[2*S+1],j=x[2*O],W=x[2*O+1],B=2*C,F=2*P,N=2*R,X=2*k,G=2*E,V=2*T,z=0;z<2;++z){var U=x[B+z],Z=x[F+z],st=x[N+z];x[X+z]=U,x[G+z]=Z,x[V+z]=st}o(_,h,x),o(A,v,x);for(var Y=I;Y<=M;++Y)if(m(Y,L,D,x))Y!==I&&e(Y,I,x),++I;else if(!m(Y,j,W,x))for(;;)if(m(M,j,W,x)){m(M,L,D,x)?(s(Y,I,M,x),++I,--M):(e(Y,M,x),--M);break}else{if(--M<Y)break;continue}u(h,I-1,L,D,x),u(v,M+1,j,W,x),I-2-h<=n?l(h,I-2,x):p(h,I-2,x),v-(M+2)<=n?l(M+2,v,x):p(M+2,v,x),M-I<=n?l(I,M,x):p(I,M,x)}},function(f,r,t){f.exports=H;var n=t(257),a=t(258),l=t(621),e=l.partial,o=l.full,s=t(353),u=t(622),c=t(354),m=128,p=1<<22,h=1<<22,v=c("!(lo>=p0)&&!(p1>=hi)",["p0","p1"]),x=c("lo===p0",["p0"]),y=c("lo<p0",["p0"]),k=c("hi<=p0",["p0"]),T=c("lo<=p0&&p0<=hi",["p0"]),E=c("lo<p0&&p0<=hi",["p0"]),_=6,A=2,C=1024,S=n.mallocInt32(C),P=n.mallocDouble(C);function O(L,D){var j=8*a.log2(D+1)*(L+1)|0,W=a.nextPow2(_*j);S.length<W&&(n.free(S),S=n.mallocInt32(W));var B=a.nextPow2(A*j);P.length<B&&(n.free(P),P=n.mallocDouble(B))}function R(L,D,j,W,B,F,N,X,G){var V=_*L;S[V]=D,S[V+1]=j,S[V+2]=W,S[V+3]=B,S[V+4]=F,S[V+5]=N;var z=A*L;P[z]=X,P[z+1]=G}function I(L,D,j,W,B,F,N,X,G,V,z){var U=2*L,Z=G*U,st=V[Z+D];t:for(var Y=B,rt=B*U;Y<F;++Y,rt+=U){var ft=N[rt+D],tt=N[rt+D+L];if(!(st<ft||tt<st)&&!(W&&st===ft)){for(var K=X[Y],Q=D+1;Q<L;++Q){var ft=N[rt+Q],tt=N[rt+Q+L],ct=V[Z+Q],nt=V[Z+Q+L];if(tt<ct||nt<ft)continue t}var ot;if(W?ot=j(z,K):ot=j(K,z),ot!==void 0)return ot}}}function M(L,D,j,W,B,F,N,X,G,V){var z=2*L,U=X*z,Z=G[U+D];t:for(var st=W,Y=W*z;st<B;++st,Y+=z){var rt=N[st];if(rt!==V){var ft=F[Y+D],tt=F[Y+D+L];if(!(Z<ft||tt<Z)){for(var K=D+1;K<L;++K){var ft=F[Y+K],tt=F[Y+K+L],Q=G[U+K],ct=G[U+K+L];if(tt<Q||ct<ft)continue t}var nt=j(rt,V);if(nt!==void 0)return nt}}}}function H(L,D,j,W,B,F,N,X,G){O(L,W+N);var V=0,z=2*L,U;for(R(V++,0,0,W,0,N,j?16:0,-1/0,1/0),j||R(V++,0,0,N,0,W,1,-1/0,1/0);V>0;){V-=1;var Z=V*_,st=S[Z],Y=S[Z+1],rt=S[Z+2],ft=S[Z+3],tt=S[Z+4],K=S[Z+5],Q=V*A,ct=P[Q],nt=P[Q+1],ot=K&1,yt=!!(K&16),pt=B,dt=F,mt=X,q=G;if(ot&&(pt=X,dt=G,mt=B,q=F),!(K&2&&(rt=y(L,st,Y,rt,pt,dt,nt),Y>=rt))&&!(K&4&&(Y=k(L,st,Y,rt,pt,dt,ct),Y>=rt))){var $=rt-Y,J=tt-ft;if(yt){if(L*$*($+J)<h){if(U=s.scanComplete(L,st,D,Y,rt,pt,dt,ft,tt,mt,q),U!==void 0)return U;continue}}else if(L*Math.min($,J)<m){if(U=e(L,st,D,ot,Y,rt,pt,dt,ft,tt,mt,q),U!==void 0)return U;continue}else if(L*$*J<p){if(U=s.scanBipartite(L,st,D,ot,Y,rt,pt,dt,ft,tt,mt,q),U!==void 0)return U;continue}var lt=v(L,st,Y,rt,pt,dt,ct,nt);if(Y<lt)if(L*(lt-Y)<m){if(U=o(L,st+1,D,Y,lt,pt,dt,ft,tt,mt,q),U!==void 0)return U}else if(st===L-2){if(ot?U=s.sweepBipartite(L,D,ft,tt,mt,q,Y,lt,pt,dt):U=s.sweepBipartite(L,D,Y,lt,pt,dt,ft,tt,mt,q),U!==void 0)return U}else R(V++,st+1,Y,lt,ft,tt,ot,-1/0,1/0),R(V++,st+1,ft,tt,Y,lt,ot^1,-1/0,1/0);if(lt<rt){var ut=u(L,st,ft,tt,mt,q),ht=mt[z*ut+st],bt=x(L,st,ut,tt,mt,q,ht);if(bt<tt&&R(V++,st,lt,rt,bt,tt,(ot|4)+(yt?16:0),ht,nt),ft<ut&&R(V++,st,lt,rt,ft,ut,(ot|2)+(yt?16:0),ct,ht),ut+1===bt){if(yt?U=M(L,st,D,lt,rt,pt,dt,ut,mt,q[ut]):U=I(L,st,D,ot,lt,rt,pt,dt,ut,mt,q[ut]),U!==void 0)return U}else if(ut<bt){var kt;if(yt){if(kt=T(L,st,lt,rt,pt,dt,ht),lt<kt){var vt=x(L,st,lt,kt,pt,dt,ht);if(st===L-2){if(lt<vt&&(U=s.sweepComplete(L,D,lt,vt,pt,dt,ut,bt,mt,q),U!==void 0)||vt<kt&&(U=s.sweepBipartite(L,D,vt,kt,pt,dt,ut,bt,mt,q),U!==void 0))return U}else lt<vt&&R(V++,st+1,lt,vt,ut,bt,16,-1/0,1/0),vt<kt&&(R(V++,st+1,vt,kt,ut,bt,0,-1/0,1/0),R(V++,st+1,ut,bt,vt,kt,1,-1/0,1/0))}}else ot?kt=E(L,st,lt,rt,pt,dt,ht):kt=T(L,st,lt,rt,pt,dt,ht),lt<kt&&(st===L-2?ot?U=s.sweepBipartite(L,D,ut,bt,mt,q,lt,kt,pt,dt):U=s.sweepBipartite(L,D,lt,kt,pt,dt,ut,bt,mt,q):(R(V++,st+1,lt,kt,ut,bt,ot,-1/0,1/0),R(V++,st+1,ut,bt,lt,kt,ot^1,-1/0,1/0)))}}}}}},function(f,r,t){var n="d",a="ax",l="vv",e="fp",o="es",s="rs",u="re",c="rb",m="ri",p="rp",h="bs",v="be",x="bb",y="bi",k="bp",T="rv",E="Q",_=[n,a,l,s,u,c,m,h,v,x,y];function A(S,P,O){var R="bruteForce"+(S?"Red":"Blue")+(P?"Flip":"")+(O?"Full":""),I=["function ",R,"(",_.join(),"){","var ",o,"=2*",n,";"],M="for(var i="+s+","+p+"="+o+"*"+s+";i<"+u+";++i,"+p+"+="+o+"){var x0="+c+"["+a+"+"+p+"],x1="+c+"["+a+"+"+p+"+"+n+"],xi="+m+"[i];",H="for(var j="+h+","+k+"="+o+"*"+h+";j<"+v+";++j,"+k+"+="+o+"){var y0="+x+"["+a+"+"+k+"],"+(O?"y1="+x+"["+a+"+"+k+"+"+n+"],":"")+"yi="+y+"[j];";return S?I.push(M,E,":",H):I.push(H,E,":",M),O?I.push("if(y1<x0||x1<y0)continue;"):P?I.push("if(y0<=x0||x1<y0)continue;"):I.push("if(y0<x0||x1<y0)continue;"),I.push("for(var k="+a+"+1;k<"+n+";++k){var r0="+c+"[k+"+p+"],r1="+c+"[k+"+n+"+"+p+"],b0="+x+"[k+"+k+"],b1="+x+"[k+"+n+"+"+k+"];if(r1<b0||b1<r0)continue "+E+";}var "+T+"="+l+"("),P?I.push("yi,xi"):I.push("xi,yi"),I.push(");if("+T+"!==void 0)return "+T+";}}}"),{name:R,code:I.join("")}}function C(S){var P="bruteForce"+(S?"Full":"Partial"),O=[],R=_.slice();S||R.splice(3,0,e);var I=["function "+P+"("+R.join()+"){"];function M(D,j){var W=A(D,j,S);O.push(W.code),I.push("return "+W.name+"("+_.join()+");")}I.push("if("+u+"-"+s+">"+v+"-"+h+"){"),S?(M(!0,!1),I.push("}else{"),M(!1,!1)):(I.push("if("+e+"){"),M(!0,!0),I.push("}else{"),M(!0,!1),I.push("}}else{if("+e+"){"),M(!1,!0),I.push("}else{"),M(!1,!1),I.push("}")),I.push("}}return "+P);var H=O.join("")+I.join(""),L=new Function(H);return L()}r.partial=C(!1),r.full=C(!0)},function(f,r,t){f.exports=o;var n=t(354),a=n("lo<p0",["p0"]),l=8;function e(s,u,c,m,p,h){for(var v=2*s,x=v*(c+1)+u,y=c+1;y<m;++y,x+=v)for(var k=p[x],T=y,E=v*(y-1);T>c&&p[E+u]>k;--T,E-=v){for(var _=E,A=E+v,C=0;C<v;++C,++_,++A){var S=p[_];p[_]=p[A],p[A]=S}var P=h[T];h[T]=h[T-1],h[T-1]=P}}function o(s,u,c,m,p,h){if(m<=c+1)return c;for(var v=c,x=m,y=m+c>>>1,k=2*s,T=y,E=p[k*y+u];v<x;){if(x-v<l){e(s,u,v,x,p,h),E=p[k*y+u];break}var _=x-v,A=Math.random()*_+v|0,C=p[k*A+u],S=Math.random()*_+v|0,P=p[k*S+u],O=Math.random()*_+v|0,R=p[k*O+u];C<=P?R>=P?(T=S,E=P):C>=R?(T=A,E=C):(T=O,E=R):P>=R?(T=S,E=P):R>=C?(T=A,E=C):(T=O,E=R);for(var I=k*(x-1),M=k*T,H=0;H<k;++H,++I,++M){var L=p[I];p[I]=p[M],p[M]=L}var D=h[x-1];h[x-1]=h[T],h[T]=D,T=a(s,u,v,x-1,p,h,E);for(var I=k*(x-1),M=k*T,H=0;H<k;++H,++I,++M){var L=p[I];p[I]=p[M],p[M]=L}var D=h[x-1];if(h[x-1]=h[T],h[T]=D,y<T){for(x=T-1;v<x&&p[k*(x-1)+u]===E;)x-=1;x+=1}else if(T<y)for(v=T+1;v<x&&p[k*v+u]===E;)v+=1;else break}return a(s,u,c,y,p,h,p[k*y+u])}},function(f,r,t){var n=t(356),a=t(624),l=t(625),e=t(627),o=5,s=11102230246251565e-32,u=(3+16*s)*s,c=(7+56*s)*s;function m(C,S){for(var P=new Array(C.length-1),O=1;O<C.length;++O)for(var R=P[O-1]=new Array(C.length-1),I=0,M=0;I<C.length;++I)I!==S&&(R[M++]=C[O][I]);return P}function p(C){for(var S=new Array(C),P=0;P<C;++P){S[P]=new Array(C);for(var O=0;O<C;++O)S[P][O]=["m",O,"[",C-P-1,"]"].join("")}return S}function h(C){return C&1?"-":""}function v(C){if(C.length===1)return C[0];if(C.length===2)return["sum(",C[0],",",C[1],")"].join("");var S=C.length>>1;return["sum(",v(C.slice(0,S)),",",v(C.slice(S)),")"].join("")}function x(C){if(C.length===2)return[["sum(prod(",C[0][0],",",C[1][1],"),prod(-",C[0][1],",",C[1][0],"))"].join("")];for(var S=[],P=0;P<C.length;++P)S.push(["scale(",v(x(m(C,P))),",",h(P),C[0][P],")"].join(""));return S}function y(C){for(var S=[],P=[],O=p(C),R=[],I=0;I<C;++I)I&1?P.push.apply(P,x(m(O,I))):S.push.apply(S,x(m(O,I))),R.push("m"+I);var M=v(S),H=v(P),L="orientation"+C+"Exact",D=["function ",L,"(",R.join(),"){var p=",M,",n=",H,",d=sub(p,n);	return d[d.length-1];};return ",L].join(""),j=new Function("sum","prod","scale","sub",D);return j(a,n,l,e)}var k=y(3),T=y(4),E=[function(){return 0},function(){return 0},function(C,S){return S[0]-C[0]},function(C,S,P){var O=(C[1]-P[1])*(S[0]-P[0]),R=(C[0]-P[0])*(S[1]-P[1]),I=O-R,M;if(O>0){if(R<=0)return I;M=O+R}else if(O<0){if(R>=0)return I;M=-(O+R)}else return I;var H=u*M;return I>=H||I<=-H?I:k(C,S,P)},function(C,S,P,O){var R=C[0]-O[0],I=S[0]-O[0],M=P[0]-O[0],H=C[1]-O[1],L=S[1]-O[1],D=P[1]-O[1],j=C[2]-O[2],W=S[2]-O[2],B=P[2]-O[2],F=I*D,N=M*L,X=M*H,G=R*D,V=R*L,z=I*H,U=j*(F-N)+W*(X-G)+B*(V-z),Z=(Math.abs(F)+Math.abs(N))*Math.abs(j)+(Math.abs(X)+Math.abs(G))*Math.abs(W)+(Math.abs(V)+Math.abs(z))*Math.abs(B),st=c*Z;return U>st||-U>st?U:T(C,S,P,O)}];function _(C){var S=E[C.length];return S||(S=E[C.length]=y(C.length)),S.apply(void 0,C)}function A(){for(;E.length<=o;)E.push(y(E.length));for(var C=[],S=["slow"],P=0;P<=o;++P)C.push("a"+P),S.push("o"+P);for(var O=["function getOrientation(",C.join(),"){switch(arguments.length){case 0:case 1:return 0;"],P=2;P<=o;++P)O.push("case ",P,":return o",P,"(",C.slice(0,P).join(),");");O.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),S.push(O.join(""));var R=Function.apply(void 0,S);f.exports=R.apply(void 0,[_].concat(E));for(var P=0;P<=o;++P)f.exports[P]=E[P]}A()},function(f,r,t){f.exports=a;function n(l,e){var o=l+e,s=o-l,u=o-s,c=e-s,m=l-u,p=m+c;return p?[p,o]:[o]}function a(l,e){var o=l.length|0,s=e.length|0;if(o===1&&s===1)return n(l[0],e[0]);var u=o+s,c=new Array(u),m=0,p=0,h=0,v=Math.abs,x=l[p],y=v(x),k=e[h],T=v(k),E,_;y<T?(_=x,p+=1,p<o&&(x=l[p],y=v(x))):(_=k,h+=1,h<s&&(k=e[h],T=v(k))),p<o&&y<T||h>=s?(E=x,p+=1,p<o&&(x=l[p],y=v(x))):(E=k,h+=1,h<s&&(k=e[h],T=v(k)));for(var A=E+_,C=A-E,S=_-C,P=S,O=A,R,I,M,H,L;p<o&&h<s;)y<T?(E=x,p+=1,p<o&&(x=l[p],y=v(x))):(E=k,h+=1,h<s&&(k=e[h],T=v(k))),_=P,A=E+_,C=A-E,S=_-C,S&&(c[m++]=S),R=O+A,I=R-O,M=R-I,H=A-I,L=O-M,P=L+H,O=R;for(;p<o;)E=x,_=P,A=E+_,C=A-E,S=_-C,S&&(c[m++]=S),R=O+A,I=R-O,M=R-I,H=A-I,L=O-M,P=L+H,O=R,p+=1,p<o&&(x=l[p]);for(;h<s;)E=k,_=P,A=E+_,C=A-E,S=_-C,S&&(c[m++]=S),R=O+A,I=R-O,M=R-I,H=A-I,L=O-M,P=L+H,O=R,h+=1,h<s&&(k=e[h]);return P&&(c[m++]=P),O&&(c[m++]=O),m||(c[m++]=0),c.length=m,c}},function(f,r,t){var n=t(356),a=t(626);f.exports=l;function l(e,o){var s=e.length;if(s===1){var u=n(e[0],o);return u[0]?u:[u[1]]}var c=new Array(2*s),m=[.1,.1],p=[.1,.1],h=0;n(e[0],o,m),m[0]&&(c[h++]=m[0]);for(var v=1;v<s;++v){n(e[v],o,p);var x=m[1];a(x,p[0],m),m[0]&&(c[h++]=m[0]);var y=p[1],k=m[1],T=y+k,E=T-y,_=k-E;m[1]=T,_&&(c[h++]=_)}return m[1]&&(c[h++]=m[1]),h===0&&(c[h++]=0),c.length=h,c}},function(f,r,t){f.exports=n;function n(a,l,e){var o=a+l,s=o-a,u=o-s,c=l-s,m=a-u;return e?(e[0]=m+c,e[1]=o,e):[m+c,o]}},function(f,r,t){f.exports=a;function n(l,e){var o=l+e,s=o-l,u=o-s,c=e-s,m=l-u,p=m+c;return p?[p,o]:[o]}function a(l,e){var o=l.length|0,s=e.length|0;if(o===1&&s===1)return n(l[0],-e[0]);var u=o+s,c=new Array(u),m=0,p=0,h=0,v=Math.abs,x=l[p],y=v(x),k=-e[h],T=v(k),E,_;y<T?(_=x,p+=1,p<o&&(x=l[p],y=v(x))):(_=k,h+=1,h<s&&(k=-e[h],T=v(k))),p<o&&y<T||h>=s?(E=x,p+=1,p<o&&(x=l[p],y=v(x))):(E=k,h+=1,h<s&&(k=-e[h],T=v(k)));for(var A=E+_,C=A-E,S=_-C,P=S,O=A,R,I,M,H,L;p<o&&h<s;)y<T?(E=x,p+=1,p<o&&(x=l[p],y=v(x))):(E=k,h+=1,h<s&&(k=-e[h],T=v(k))),_=P,A=E+_,C=A-E,S=_-C,S&&(c[m++]=S),R=O+A,I=R-O,M=R-I,H=A-I,L=O-M,P=L+H,O=R;for(;p<o;)E=x,_=P,A=E+_,C=A-E,S=_-C,S&&(c[m++]=S),R=O+A,I=R-O,M=R-I,H=A-I,L=O-M,P=L+H,O=R,p+=1,p<o&&(x=l[p]);for(;h<s;)E=k,_=P,A=E+_,C=A-E,S=_-C,S&&(c[m++]=S),R=O+A,I=R-O,M=R-I,H=A-I,L=O-M,P=L+H,O=R,h+=1,h<s&&(k=-e[h]);return P&&(c[m++]=P),O&&(c[m++]=O),m||(c[m++]=0),c.length=m,c}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(139),a=l(n);function l(s){return s&&s.__esModule?s:{default:s}}function e(s){var u=0,c=[];return s.forEach(function(m){u+=+m||0,c.push(u)}),Float64Array.from(c)}var o=function(s,u){var c=(0,a.default)(s,u);return e(s.map(function(m){return(Array.isArray(m)&&u?m.length:1)/c}))};r.default=o},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(3),a=s(n),l=t(4),e=s(l),o=t(11);function s(c){return c&&c.__esModule?c:{default:c}}var u=function(){function c(m){(0,a.default)(this,c),this.scene=m.scene,this.originalTrack=m,this.pBase=new o.GLOBALS.PIXI.Graphics,this.scene.removeChild(m.pBase),this.scene.addChild(this.pBase),this.moveToOrigin=new o.GLOBALS.PIXI.Graphics,this.moveToOrigin.addChild(m.pBase),this.pBase.addChild(this.moveToOrigin),this.moveToOrigin.rotation=Math.PI/2,m.isLeftModified=!0,m.flipText=!0,this.svgOutput=null,m.gBase&&m.gMain&&(this.originalTrack.gBase.attr("transform","translate("+String(this.moveToOrigin.position.x)+","+String(this.moveToOrigin.position.y)+`)
                             rotate(90)
                             scale(`+String(this.moveToOrigin.scale.x)+","+String(this.moveToOrigin.scale.y)+")"),this.originalTrack.gMain.attr("transform","translate("+String(this.originalTrack.pBase.position.x)+","+String(this.originalTrack.pBase.position.y)+")"))}return(0,e.default)(c,[{key:"remove",value:function(){function m(){this.originalTrack.remove(),this.pBase.clear(),this.scene.removeChild(this.pBase)}return m}()},{key:"setDimensions",value:function(){function m(p){this.dimensions=p;var h=[p[1],p[0]];this.originalTrack.setDimensions(h)}return m}()},{key:"setPosition",value:function(){function m(p){this.position=p,this.originalTrack.setPosition(p),this.originalTrack.pBase.position.x=-this.originalTrack.position[0],this.originalTrack.pBase.position.y=-this.originalTrack.position[1],this.moveToOrigin.scale.y=-1,this.moveToOrigin.scale.x=1,this.moveToOrigin.position.x=this.originalTrack.position[0],this.moveToOrigin.position.y=this.originalTrack.position[1],this.originalTrack.gMain&&(this.originalTrack.gBase.attr("transform","translate("+String(this.moveToOrigin.position.x)+","+String(this.moveToOrigin.position.y)+`)
                                 rotate(90)
                                 scale(`+String(this.moveToOrigin.scale.x)+","+String(this.moveToOrigin.scale.y)+")"),this.originalTrack.gMain.attr("transform","translate("+String(this.originalTrack.pBase.position.x)+","+String(this.originalTrack.pBase.position.y)+")"))}return m}()},{key:"refXScale",value:function(){function m(p){return arguments.length?(this.originalTrack._refXScale=p,this):this.originalTrack._refYScale}return m}()},{key:"refYScale",value:function(){function m(p){return arguments.length?(this.originalTrack._refYScale=p,this):this.originalTrack._refXScale}return m}()},{key:"xScale",value:function(){function m(p){return arguments.length?(this.originalTrack._yScale=p,this):this.originalTrack._xScale}return m}()},{key:"yScale",value:function(){function m(p){return arguments.length?(this.originalTrack._xScale=p,this):this.originalTrack._yScale}return m}()},{key:"getMouseOverHtml",value:function(){function m(p,h){return this.originalTrack.getMouseOverHtml(h,p)}return m}()},{key:"draw",value:function(){function m(){this.originalTrack.draw()}return m}()},{key:"zoomed",value:function(){function m(p,h){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(this.xScale(p),this.yScale(h),this.originalTrack.leftTrackZoomed){this.originalTrack.refreshTiles&&this.originalTrack.refreshTiles(),this.originalTrack.leftTrackZoomed(p,h,v,x,y),this.originalTrack.draw();return}var k=this.originalTrack._xScale(0)-v*this.originalTrack._refXScale(0);if(this.originalTrack.pMobile.position.x=k+this.originalTrack.position[0],this.originalTrack.pMobile.position.y=this.originalTrack.position[1]+this.originalTrack.dimensions[1],this.originalTrack.pMobile.scale.x=v,this.originalTrack.pMobile.scale.y=v,this.originalTrack.options.oneDHeatmapFlipped&&(this.originalTrack.pMobile.scale.y=-v,this.originalTrack.pMobile.position.y=this.originalTrack.position[1]),this.originalTrack.leftTrackDraw){this.originalTrack.refreshTiles&&this.originalTrack.refreshTiles(),this.originalTrack.leftTrackDraw();return}this.originalTrack.zoomed(this.xScale(),this.yScale())}return m}()},{key:"zoomedY",value:function(){function m(p,h){this.originalTrack.zoomedY(p,h)}return m}()},{key:"movedY",value:function(){function m(p){this.originalTrack.movedY(p)}return m}()},{key:"refScalesChanged",value:function(){function m(p,h){this.originalTrack.refScalesChanged(h,p)}return m}()},{key:"rerender",value:function(){function m(p){this.originalTrack.rerender(p)}return m}()},{key:"exportSVG",value:function(){function m(){var p=document.createElement("g");if(p.setAttribute("transform","translate("+String(this.moveToOrigin.position.x)+","+String(this.moveToOrigin.position.y)+`)
                             rotate(90)
                             scale(`+String(this.moveToOrigin.scale.x)+","+String(this.moveToOrigin.scale.y)+")"),this.originalTrack.exportSVG){var h=document.createElement("g");h.setAttribute("transform","translate("+String(this.originalTrack.pBase.position.x)+", "+String(this.originalTrack.pBase.position.y)+")"),h.appendChild(this.originalTrack.exportSVG()[0]),p.appendChild(h)}return[p,p]}return m}()},{key:"respondsToPosition",value:function(){function m(p,h){return p>=this.position[0]&&p<=this.dimensions[0]+this.position[0]&&h>=this.position[1]&&h<=this.dimensions[1]+this.position[1]}return m}()}]),c}();r.default=u},function(f,r,t){f.exports={default:t(631),__esModule:!0}},function(f,r,t){t(632),f.exports=t(12).Number.isInteger},function(f,r,t){var n=t(16);n(n.S,"Number",{isInteger:t(178)})},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(5),a=x(n),l=t(3),e=x(l),o=t(4),s=x(o),u=t(6),c=x(u),m=t(7),p=x(m),h=t(40),v=x(h);function x(k){return k&&k.__esModule?k:{default:k}}var y=function(k){(0,p.default)(T,k);function T(E,_){(0,e.default)(this,T);var A=(0,c.default)(this,(T.__proto__||(0,a.default)(T)).call(this,E,_));return A.tilesetInfo={},A.errorTextText="Unknown track type: "+String(_.type),A}return(0,s.default)(T,[{key:"zoomed",value:function(){function E(){this.draw()}return E}()}]),T}(v.default);r.default=y},function(f,r,t){f.exports={default:t(635),__esModule:!0}},function(f,r,t){t(636),f.exports=t(168).f("hasInstance")},function(f,r,t){var n=t(33),a=t(128),l=t(21)("hasInstance"),e=Function.prototype;l in e||t(32).f(e,l,{value:function(o){if(typeof this!="function"||!n(o))return!1;if(!n(this.prototype))return o instanceof this;for(;o=a(o);)if(this.prototype===o)return!0;return!1}})},function(f,r,t){f.exports={default:t(638),__esModule:!0}},function(f,r,t){t(164),t(61),t(76),t(639),t(640),t(641),t(642),f.exports=t(12).Map},function(f,r,t){var n=t(333),a=t(238),l="Map";f.exports=t(334)(l,function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var o=n.getEntry(a(this,l),e);return o&&o.v},set:function(e,o){return n.def(a(this,l),e===0?0:e,o)}},n,!0)},function(f,r,t){var n=t(16);n(n.P+n.R,"Map",{toJSON:t(335)("Map")})},function(f,r,t){t(336)("Map")},function(f,r,t){t(337)("Map")},function(f,r,t){var n=t(82).assign,a=t(644),l=t(647),e=t(388),o={};n(o,a,l,e),f.exports=o},function(f,r,t){var n=t(645),a=t(82),l=t(386),e=t(263),o=t(387),s=Object.prototype.toString,u=0,c=4,m=0,p=1,h=2,v=-1,x=0,y=8;function k(A){if(!(this instanceof k))return new k(A);this.options=a.assign({level:v,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:x,to:""},A||{});var C=this.options;C.raw&&C.windowBits>0?C.windowBits=-C.windowBits:C.gzip&&C.windowBits>0&&C.windowBits<16&&(C.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var S=n.deflateInit2(this.strm,C.level,C.method,C.windowBits,C.memLevel,C.strategy);if(S!==m)throw new Error(e[S]);if(C.header&&n.deflateSetHeader(this.strm,C.header),C.dictionary){var P;if(typeof C.dictionary=="string"?P=l.string2buf(C.dictionary):s.call(C.dictionary)==="[object ArrayBuffer]"?P=new Uint8Array(C.dictionary):P=C.dictionary,S=n.deflateSetDictionary(this.strm,P),S!==m)throw new Error(e[S]);this._dict_set=!0}}k.prototype.push=function(A,C){var S=this.strm,P=this.options.chunkSize,O,R;if(this.ended)return!1;R=C===~~C?C:C===!0?c:u,typeof A=="string"?S.input=l.string2buf(A):s.call(A)==="[object ArrayBuffer]"?S.input=new Uint8Array(A):S.input=A,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new a.Buf8(P),S.next_out=0,S.avail_out=P),O=n.deflate(S,R),O!==p&&O!==m)return this.onEnd(O),this.ended=!0,!1;(S.avail_out===0||S.avail_in===0&&(R===c||R===h))&&(this.options.to==="string"?this.onData(l.buf2binstring(a.shrinkBuf(S.output,S.next_out))):this.onData(a.shrinkBuf(S.output,S.next_out)))}while((S.avail_in>0||S.avail_out===0)&&O!==p);return R===c?(O=n.deflateEnd(this.strm),this.onEnd(O),this.ended=!0,O===m):(R===h&&(this.onEnd(m),S.avail_out=0),!0)},k.prototype.onData=function(A){this.chunks.push(A)},k.prototype.onEnd=function(A){A===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg};function T(A,C){var S=new k(C);if(S.push(A,!0),S.err)throw S.msg||e[S.err];return S.result}function E(A,C){return C=C||{},C.raw=!0,T(A,C)}function _(A,C){return C=C||{},C.gzip=!0,T(A,C)}r.Deflate=k,r.deflate=T,r.deflateRaw=E,r.gzip=_},function(f,r,t){var n=t(82),a=t(646),l=t(384),e=t(385),o=t(263),s=0,u=1,c=3,m=4,p=5,h=0,v=1,x=-2,y=-3,k=-5,T=-1,E=1,_=2,A=3,C=4,S=0,P=2,O=8,R=9,I=15,M=8,H=29,L=256,D=L+1+H,j=30,W=19,B=2*D+1,F=15,N=3,X=258,G=X+N+1,V=32,z=42,U=69,Z=73,st=91,Y=103,rt=113,ft=666,tt=1,K=2,Q=3,ct=4,nt=3;function ot(gt,fe){return gt.msg=o[fe],fe}function yt(gt){return(gt<<1)-(gt>4?9:0)}function pt(gt){for(var fe=gt.length;--fe>=0;)gt[fe]=0}function dt(gt){var fe=gt.state,Ct=fe.pending;Ct>gt.avail_out&&(Ct=gt.avail_out),Ct!==0&&(n.arraySet(gt.output,fe.pending_buf,fe.pending_out,Ct,gt.next_out),gt.next_out+=Ct,fe.pending_out+=Ct,gt.total_out+=Ct,gt.avail_out-=Ct,fe.pending-=Ct,fe.pending===0&&(fe.pending_out=0))}function mt(gt,fe){a._tr_flush_block(gt,gt.block_start>=0?gt.block_start:-1,gt.strstart-gt.block_start,fe),gt.block_start=gt.strstart,dt(gt.strm)}function q(gt,fe){gt.pending_buf[gt.pending++]=fe}function $(gt,fe){gt.pending_buf[gt.pending++]=fe>>>8&255,gt.pending_buf[gt.pending++]=fe&255}function J(gt,fe,Ct,at){var St=gt.avail_in;return St>at&&(St=at),St===0?0:(gt.avail_in-=St,n.arraySet(fe,gt.input,gt.next_in,St,Ct),gt.state.wrap===1?gt.adler=l(gt.adler,fe,St,Ct):gt.state.wrap===2&&(gt.adler=e(gt.adler,fe,St,Ct)),gt.next_in+=St,gt.total_in+=St,St)}function lt(gt,fe){var Ct=gt.max_chain_length,at=gt.strstart,St,jt,Zt=gt.prev_length,ue=gt.nice_match,ce=gt.strstart>gt.w_size-G?gt.strstart-(gt.w_size-G):0,It=gt.window,Mt=gt.w_mask,Ut=gt.prev,Kt=gt.strstart+X,wt=It[at+Zt-1],ye=It[at+Zt];gt.prev_length>=gt.good_match&&(Ct>>=2),ue>gt.lookahead&&(ue=gt.lookahead);do if(St=fe,!(It[St+Zt]!==ye||It[St+Zt-1]!==wt||It[St]!==It[at]||It[++St]!==It[at+1])){at+=2,St++;do;while(It[++at]===It[++St]&&It[++at]===It[++St]&&It[++at]===It[++St]&&It[++at]===It[++St]&&It[++at]===It[++St]&&It[++at]===It[++St]&&It[++at]===It[++St]&&It[++at]===It[++St]&&at<Kt);if(jt=X-(Kt-at),at=Kt-X,jt>Zt){if(gt.match_start=fe,Zt=jt,jt>=ue)break;wt=It[at+Zt-1],ye=It[at+Zt]}}while((fe=Ut[fe&Mt])>ce&&--Ct!==0);return Zt<=gt.lookahead?Zt:gt.lookahead}function ut(gt){var fe=gt.w_size,Ct,at,St,jt,Zt;do{if(jt=gt.window_size-gt.lookahead-gt.strstart,gt.strstart>=fe+(fe-G)){n.arraySet(gt.window,gt.window,fe,fe,0),gt.match_start-=fe,gt.strstart-=fe,gt.block_start-=fe,at=gt.hash_size,Ct=at;do St=gt.head[--Ct],gt.head[Ct]=St>=fe?St-fe:0;while(--at);at=fe,Ct=at;do St=gt.prev[--Ct],gt.prev[Ct]=St>=fe?St-fe:0;while(--at);jt+=fe}if(gt.strm.avail_in===0)break;if(at=J(gt.strm,gt.window,gt.strstart+gt.lookahead,jt),gt.lookahead+=at,gt.lookahead+gt.insert>=N)for(Zt=gt.strstart-gt.insert,gt.ins_h=gt.window[Zt],gt.ins_h=(gt.ins_h<<gt.hash_shift^gt.window[Zt+1])&gt.hash_mask;gt.insert&&(gt.ins_h=(gt.ins_h<<gt.hash_shift^gt.window[Zt+N-1])&gt.hash_mask,gt.prev[Zt&gt.w_mask]=gt.head[gt.ins_h],gt.head[gt.ins_h]=Zt,Zt++,gt.insert--,!(gt.lookahead+gt.insert<N)););}while(gt.lookahead<G&&gt.strm.avail_in!==0)}function ht(gt,fe){var Ct=65535;for(Ct>gt.pending_buf_size-5&&(Ct=gt.pending_buf_size-5);;){if(gt.lookahead<=1){if(ut(gt),gt.lookahead===0&&fe===s)return tt;if(gt.lookahead===0)break}gt.strstart+=gt.lookahead,gt.lookahead=0;var at=gt.block_start+Ct;if((gt.strstart===0||gt.strstart>=at)&&(gt.lookahead=gt.strstart-at,gt.strstart=at,mt(gt,!1),gt.strm.avail_out===0)||gt.strstart-gt.block_start>=gt.w_size-G&&(mt(gt,!1),gt.strm.avail_out===0))return tt}return gt.insert=0,fe===m?(mt(gt,!0),gt.strm.avail_out===0?Q:ct):(gt.strstart>gt.block_start&&(mt(gt,!1),gt.strm.avail_out),tt)}function bt(gt,fe){for(var Ct,at;;){if(gt.lookahead<G){if(ut(gt),gt.lookahead<G&&fe===s)return tt;if(gt.lookahead===0)break}if(Ct=0,gt.lookahead>=N&&(gt.ins_h=(gt.ins_h<<gt.hash_shift^gt.window[gt.strstart+N-1])&gt.hash_mask,Ct=gt.prev[gt.strstart&gt.w_mask]=gt.head[gt.ins_h],gt.head[gt.ins_h]=gt.strstart),Ct!==0&&gt.strstart-Ct<=gt.w_size-G&&(gt.match_length=lt(gt,Ct)),gt.match_length>=N)if(at=a._tr_tally(gt,gt.strstart-gt.match_start,gt.match_length-N),gt.lookahead-=gt.match_length,gt.match_length<=gt.max_lazy_match&&gt.lookahead>=N){gt.match_length--;do gt.strstart++,gt.ins_h=(gt.ins_h<<gt.hash_shift^gt.window[gt.strstart+N-1])&gt.hash_mask,Ct=gt.prev[gt.strstart&gt.w_mask]=gt.head[gt.ins_h],gt.head[gt.ins_h]=gt.strstart;while(--gt.match_length!==0);gt.strstart++}else gt.strstart+=gt.match_length,gt.match_length=0,gt.ins_h=gt.window[gt.strstart],gt.ins_h=(gt.ins_h<<gt.hash_shift^gt.window[gt.strstart+1])&gt.hash_mask;else at=a._tr_tally(gt,0,gt.window[gt.strstart]),gt.lookahead--,gt.strstart++;if(at&&(mt(gt,!1),gt.strm.avail_out===0))return tt}return gt.insert=gt.strstart<N-1?gt.strstart:N-1,fe===m?(mt(gt,!0),gt.strm.avail_out===0?Q:ct):gt.last_lit&&(mt(gt,!1),gt.strm.avail_out===0)?tt:K}function kt(gt,fe){for(var Ct,at,St;;){if(gt.lookahead<G){if(ut(gt),gt.lookahead<G&&fe===s)return tt;if(gt.lookahead===0)break}if(Ct=0,gt.lookahead>=N&&(gt.ins_h=(gt.ins_h<<gt.hash_shift^gt.window[gt.strstart+N-1])&gt.hash_mask,Ct=gt.prev[gt.strstart&gt.w_mask]=gt.head[gt.ins_h],gt.head[gt.ins_h]=gt.strstart),gt.prev_length=gt.match_length,gt.prev_match=gt.match_start,gt.match_length=N-1,Ct!==0&&gt.prev_length<gt.max_lazy_match&&gt.strstart-Ct<=gt.w_size-G&&(gt.match_length=lt(gt,Ct),gt.match_length<=5&&(gt.strategy===E||gt.match_length===N&&gt.strstart-gt.match_start>4096)&&(gt.match_length=N-1)),gt.prev_length>=N&&gt.match_length<=gt.prev_length){St=gt.strstart+gt.lookahead-N,at=a._tr_tally(gt,gt.strstart-1-gt.prev_match,gt.prev_length-N),gt.lookahead-=gt.prev_length-1,gt.prev_length-=2;do++gt.strstart<=St&&(gt.ins_h=(gt.ins_h<<gt.hash_shift^gt.window[gt.strstart+N-1])&gt.hash_mask,Ct=gt.prev[gt.strstart&gt.w_mask]=gt.head[gt.ins_h],gt.head[gt.ins_h]=gt.strstart);while(--gt.prev_length!==0);if(gt.match_available=0,gt.match_length=N-1,gt.strstart++,at&&(mt(gt,!1),gt.strm.avail_out===0))return tt}else if(gt.match_available){if(at=a._tr_tally(gt,0,gt.window[gt.strstart-1]),at&&mt(gt,!1),gt.strstart++,gt.lookahead--,gt.strm.avail_out===0)return tt}else gt.match_available=1,gt.strstart++,gt.lookahead--}return gt.match_available&&(at=a._tr_tally(gt,0,gt.window[gt.strstart-1]),gt.match_available=0),gt.insert=gt.strstart<N-1?gt.strstart:N-1,fe===m?(mt(gt,!0),gt.strm.avail_out===0?Q:ct):gt.last_lit&&(mt(gt,!1),gt.strm.avail_out===0)?tt:K}function vt(gt,fe){for(var Ct,at,St,jt,Zt=gt.window;;){if(gt.lookahead<=X){if(ut(gt),gt.lookahead<=X&&fe===s)return tt;if(gt.lookahead===0)break}if(gt.match_length=0,gt.lookahead>=N&&gt.strstart>0&&(St=gt.strstart-1,at=Zt[St],at===Zt[++St]&&at===Zt[++St]&&at===Zt[++St])){jt=gt.strstart+X;do;while(at===Zt[++St]&&at===Zt[++St]&&at===Zt[++St]&&at===Zt[++St]&&at===Zt[++St]&&at===Zt[++St]&&at===Zt[++St]&&at===Zt[++St]&&St<jt);gt.match_length=X-(jt-St),gt.match_length>gt.lookahead&&(gt.match_length=gt.lookahead)}if(gt.match_length>=N?(Ct=a._tr_tally(gt,1,gt.match_length-N),gt.lookahead-=gt.match_length,gt.strstart+=gt.match_length,gt.match_length=0):(Ct=a._tr_tally(gt,0,gt.window[gt.strstart]),gt.lookahead--,gt.strstart++),Ct&&(mt(gt,!1),gt.strm.avail_out===0))return tt}return gt.insert=0,fe===m?(mt(gt,!0),gt.strm.avail_out===0?Q:ct):gt.last_lit&&(mt(gt,!1),gt.strm.avail_out===0)?tt:K}function Et(gt,fe){for(var Ct;;){if(gt.lookahead===0&&(ut(gt),gt.lookahead===0)){if(fe===s)return tt;break}if(gt.match_length=0,Ct=a._tr_tally(gt,0,gt.window[gt.strstart]),gt.lookahead--,gt.strstart++,Ct&&(mt(gt,!1),gt.strm.avail_out===0))return tt}return gt.insert=0,fe===m?(mt(gt,!0),gt.strm.avail_out===0?Q:ct):gt.last_lit&&(mt(gt,!1),gt.strm.avail_out===0)?tt:K}function Rt(gt,fe,Ct,at,St){this.good_length=gt,this.max_lazy=fe,this.nice_length=Ct,this.max_chain=at,this.func=St}var Vt;Vt=[new Rt(0,0,0,0,ht),new Rt(4,4,8,4,bt),new Rt(4,5,16,8,bt),new Rt(4,6,32,32,bt),new Rt(4,4,16,16,kt),new Rt(8,16,32,32,kt),new Rt(8,16,128,128,kt),new Rt(8,32,128,256,kt),new Rt(32,128,258,1024,kt),new Rt(32,258,258,4096,kt)];function ee(gt){gt.window_size=2*gt.w_size,pt(gt.head),gt.max_lazy_match=Vt[gt.level].max_lazy,gt.good_match=Vt[gt.level].good_length,gt.nice_match=Vt[gt.level].nice_length,gt.max_chain_length=Vt[gt.level].max_chain,gt.strstart=0,gt.block_start=0,gt.lookahead=0,gt.insert=0,gt.match_length=gt.prev_length=N-1,gt.match_available=0,gt.ins_h=0}function Tt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=O,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new n.Buf16(B*2),this.dyn_dtree=new n.Buf16((2*j+1)*2),this.bl_tree=new n.Buf16((2*W+1)*2),pt(this.dyn_ltree),pt(this.dyn_dtree),pt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new n.Buf16(F+1),this.heap=new n.Buf16(2*D+1),pt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new n.Buf16(2*D+1),pt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function _t(gt){var fe;return!gt||!gt.state?ot(gt,x):(gt.total_in=gt.total_out=0,gt.data_type=P,fe=gt.state,fe.pending=0,fe.pending_out=0,fe.wrap<0&&(fe.wrap=-fe.wrap),fe.status=fe.wrap?z:rt,gt.adler=fe.wrap===2?0:1,fe.last_flush=s,a._tr_init(fe),h)}function zt(gt){var fe=_t(gt);return fe===h&&ee(gt.state),fe}function oe(gt,fe){return!gt||!gt.state||gt.state.wrap!==2?x:(gt.state.gzhead=fe,h)}function $t(gt,fe,Ct,at,St,jt){if(!gt)return x;var Zt=1;if(fe===T&&(fe=6),at<0?(Zt=0,at=-at):at>15&&(Zt=2,at-=16),St<1||St>R||Ct!==O||at<8||at>15||fe<0||fe>9||jt<0||jt>C)return ot(gt,x);at===8&&(at=9);var ue=new Tt;return gt.state=ue,ue.strm=gt,ue.wrap=Zt,ue.gzhead=null,ue.w_bits=at,ue.w_size=1<<ue.w_bits,ue.w_mask=ue.w_size-1,ue.hash_bits=St+7,ue.hash_size=1<<ue.hash_bits,ue.hash_mask=ue.hash_size-1,ue.hash_shift=~~((ue.hash_bits+N-1)/N),ue.window=new n.Buf8(ue.w_size*2),ue.head=new n.Buf16(ue.hash_size),ue.prev=new n.Buf16(ue.w_size),ue.lit_bufsize=1<<St+6,ue.pending_buf_size=ue.lit_bufsize*4,ue.pending_buf=new n.Buf8(ue.pending_buf_size),ue.d_buf=1*ue.lit_bufsize,ue.l_buf=3*ue.lit_bufsize,ue.level=fe,ue.strategy=jt,ue.method=Ct,zt(gt)}function pe(gt,fe){return $t(gt,fe,O,I,M,S)}function Nt(gt,fe){var Ct,at,St,jt;if(!gt||!gt.state||fe>p||fe<0)return gt?ot(gt,x):x;if(at=gt.state,!gt.output||!gt.input&&gt.avail_in!==0||at.status===ft&&fe!==m)return ot(gt,gt.avail_out===0?k:x);if(at.strm=gt,Ct=at.last_flush,at.last_flush=fe,at.status===z)if(at.wrap===2)gt.adler=0,q(at,31),q(at,139),q(at,8),at.gzhead?(q(at,(at.gzhead.text?1:0)+(at.gzhead.hcrc?2:0)+(at.gzhead.extra?4:0)+(at.gzhead.name?8:0)+(at.gzhead.comment?16:0)),q(at,at.gzhead.time&255),q(at,at.gzhead.time>>8&255),q(at,at.gzhead.time>>16&255),q(at,at.gzhead.time>>24&255),q(at,at.level===9?2:at.strategy>=_||at.level<2?4:0),q(at,at.gzhead.os&255),at.gzhead.extra&&at.gzhead.extra.length&&(q(at,at.gzhead.extra.length&255),q(at,at.gzhead.extra.length>>8&255)),at.gzhead.hcrc&&(gt.adler=e(gt.adler,at.pending_buf,at.pending,0)),at.gzindex=0,at.status=U):(q(at,0),q(at,0),q(at,0),q(at,0),q(at,0),q(at,at.level===9?2:at.strategy>=_||at.level<2?4:0),q(at,nt),at.status=rt);else{var Zt=O+(at.w_bits-8<<4)<<8,ue=-1;at.strategy>=_||at.level<2?ue=0:at.level<6?ue=1:at.level===6?ue=2:ue=3,Zt|=ue<<6,at.strstart!==0&&(Zt|=V),Zt+=31-Zt%31,at.status=rt,$(at,Zt),at.strstart!==0&&($(at,gt.adler>>>16),$(at,gt.adler&65535)),gt.adler=1}if(at.status===U)if(at.gzhead.extra){for(St=at.pending;at.gzindex<(at.gzhead.extra.length&65535)&&!(at.pending===at.pending_buf_size&&(at.gzhead.hcrc&&at.pending>St&&(gt.adler=e(gt.adler,at.pending_buf,at.pending-St,St)),dt(gt),St=at.pending,at.pending===at.pending_buf_size));)q(at,at.gzhead.extra[at.gzindex]&255),at.gzindex++;at.gzhead.hcrc&&at.pending>St&&(gt.adler=e(gt.adler,at.pending_buf,at.pending-St,St)),at.gzindex===at.gzhead.extra.length&&(at.gzindex=0,at.status=Z)}else at.status=Z;if(at.status===Z)if(at.gzhead.name){St=at.pending;do{if(at.pending===at.pending_buf_size&&(at.gzhead.hcrc&&at.pending>St&&(gt.adler=e(gt.adler,at.pending_buf,at.pending-St,St)),dt(gt),St=at.pending,at.pending===at.pending_buf_size)){jt=1;break}at.gzindex<at.gzhead.name.length?jt=at.gzhead.name.charCodeAt(at.gzindex++)&255:jt=0,q(at,jt)}while(jt!==0);at.gzhead.hcrc&&at.pending>St&&(gt.adler=e(gt.adler,at.pending_buf,at.pending-St,St)),jt===0&&(at.gzindex=0,at.status=st)}else at.status=st;if(at.status===st)if(at.gzhead.comment){St=at.pending;do{if(at.pending===at.pending_buf_size&&(at.gzhead.hcrc&&at.pending>St&&(gt.adler=e(gt.adler,at.pending_buf,at.pending-St,St)),dt(gt),St=at.pending,at.pending===at.pending_buf_size)){jt=1;break}at.gzindex<at.gzhead.comment.length?jt=at.gzhead.comment.charCodeAt(at.gzindex++)&255:jt=0,q(at,jt)}while(jt!==0);at.gzhead.hcrc&&at.pending>St&&(gt.adler=e(gt.adler,at.pending_buf,at.pending-St,St)),jt===0&&(at.status=Y)}else at.status=Y;if(at.status===Y&&(at.gzhead.hcrc?(at.pending+2>at.pending_buf_size&&dt(gt),at.pending+2<=at.pending_buf_size&&(q(at,gt.adler&255),q(at,gt.adler>>8&255),gt.adler=0,at.status=rt)):at.status=rt),at.pending!==0){if(dt(gt),gt.avail_out===0)return at.last_flush=-1,h}else if(gt.avail_in===0&&yt(fe)<=yt(Ct)&&fe!==m)return ot(gt,k);if(at.status===ft&&gt.avail_in!==0)return ot(gt,k);if(gt.avail_in!==0||at.lookahead!==0||fe!==s&&at.status!==ft){var ce=at.strategy===_?Et(at,fe):at.strategy===A?vt(at,fe):Vt[at.level].func(at,fe);if((ce===Q||ce===ct)&&(at.status=ft),ce===tt||ce===Q)return gt.avail_out===0&&(at.last_flush=-1),h;if(ce===K&&(fe===u?a._tr_align(at):fe!==p&&(a._tr_stored_block(at,0,0,!1),fe===c&&(pt(at.head),at.lookahead===0&&(at.strstart=0,at.block_start=0,at.insert=0))),dt(gt),gt.avail_out===0))return at.last_flush=-1,h}return fe!==m?h:at.wrap<=0?v:(at.wrap===2?(q(at,gt.adler&255),q(at,gt.adler>>8&255),q(at,gt.adler>>16&255),q(at,gt.adler>>24&255),q(at,gt.total_in&255),q(at,gt.total_in>>8&255),q(at,gt.total_in>>16&255),q(at,gt.total_in>>24&255)):($(at,gt.adler>>>16),$(at,gt.adler&65535)),dt(gt),at.wrap>0&&(at.wrap=-at.wrap),at.pending!==0?h:v)}function se(gt){var fe;return!gt||!gt.state?x:(fe=gt.state.status,fe!==z&&fe!==U&&fe!==Z&&fe!==st&&fe!==Y&&fe!==rt&&fe!==ft?ot(gt,x):(gt.state=null,fe===rt?ot(gt,y):h))}function Gt(gt,fe){var Ct=fe.length,at,St,jt,Zt,ue,ce,It,Mt;if(!gt||!gt.state||(at=gt.state,Zt=at.wrap,Zt===2||Zt===1&&at.status!==z||at.lookahead))return x;for(Zt===1&&(gt.adler=l(gt.adler,fe,Ct,0)),at.wrap=0,Ct>=at.w_size&&(Zt===0&&(pt(at.head),at.strstart=0,at.block_start=0,at.insert=0),Mt=new n.Buf8(at.w_size),n.arraySet(Mt,fe,Ct-at.w_size,at.w_size,0),fe=Mt,Ct=at.w_size),ue=gt.avail_in,ce=gt.next_in,It=gt.input,gt.avail_in=Ct,gt.next_in=0,gt.input=fe,ut(at);at.lookahead>=N;){St=at.strstart,jt=at.lookahead-(N-1);do at.ins_h=(at.ins_h<<at.hash_shift^at.window[St+N-1])&at.hash_mask,at.prev[St&at.w_mask]=at.head[at.ins_h],at.head[at.ins_h]=St,St++;while(--jt);at.strstart=St,at.lookahead=N-1,ut(at)}return at.strstart+=at.lookahead,at.block_start=at.strstart,at.insert=at.lookahead,at.lookahead=0,at.match_length=at.prev_length=N-1,at.match_available=0,gt.next_in=ce,gt.input=It,gt.avail_in=ue,at.wrap=Zt,h}r.deflateInit=pe,r.deflateInit2=$t,r.deflateReset=zt,r.deflateResetKeep=_t,r.deflateSetHeader=oe,r.deflate=Nt,r.deflateEnd=se,r.deflateSetDictionary=Gt,r.deflateInfo="pako deflate (from Nodeca project)"},function(f,r,t){var n=t(82),a=4,l=0,e=1,o=2;function s(Tt){for(var _t=Tt.length;--_t>=0;)Tt[_t]=0}var u=0,c=1,m=2,p=3,h=258,v=29,x=256,y=x+1+v,k=30,T=19,E=2*y+1,_=15,A=16,C=7,S=256,P=16,O=17,R=18,I=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],M=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],H=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],D=512,j=new Array((y+2)*2);s(j);var W=new Array(k*2);s(W);var B=new Array(D);s(B);var F=new Array(h-p+1);s(F);var N=new Array(v);s(N);var X=new Array(k);s(X);function G(Tt,_t,zt,oe,$t){this.static_tree=Tt,this.extra_bits=_t,this.extra_base=zt,this.elems=oe,this.max_length=$t,this.has_stree=Tt&&Tt.length}var V,z,U;function Z(Tt,_t){this.dyn_tree=Tt,this.max_code=0,this.stat_desc=_t}function st(Tt){return Tt<256?B[Tt]:B[256+(Tt>>>7)]}function Y(Tt,_t){Tt.pending_buf[Tt.pending++]=_t&255,Tt.pending_buf[Tt.pending++]=_t>>>8&255}function rt(Tt,_t,zt){Tt.bi_valid>A-zt?(Tt.bi_buf|=_t<<Tt.bi_valid&65535,Y(Tt,Tt.bi_buf),Tt.bi_buf=_t>>A-Tt.bi_valid,Tt.bi_valid+=zt-A):(Tt.bi_buf|=_t<<Tt.bi_valid&65535,Tt.bi_valid+=zt)}function ft(Tt,_t,zt){rt(Tt,zt[_t*2],zt[_t*2+1])}function tt(Tt,_t){var zt=0;do zt|=Tt&1,Tt>>>=1,zt<<=1;while(--_t>0);return zt>>>1}function K(Tt){Tt.bi_valid===16?(Y(Tt,Tt.bi_buf),Tt.bi_buf=0,Tt.bi_valid=0):Tt.bi_valid>=8&&(Tt.pending_buf[Tt.pending++]=Tt.bi_buf&255,Tt.bi_buf>>=8,Tt.bi_valid-=8)}function Q(Tt,_t){var zt=_t.dyn_tree,oe=_t.max_code,$t=_t.stat_desc.static_tree,pe=_t.stat_desc.has_stree,Nt=_t.stat_desc.extra_bits,se=_t.stat_desc.extra_base,Gt=_t.stat_desc.max_length,gt,fe,Ct,at,St,jt,Zt=0;for(at=0;at<=_;at++)Tt.bl_count[at]=0;for(zt[Tt.heap[Tt.heap_max]*2+1]=0,gt=Tt.heap_max+1;gt<E;gt++)fe=Tt.heap[gt],at=zt[zt[fe*2+1]*2+1]+1,at>Gt&&(at=Gt,Zt++),zt[fe*2+1]=at,!(fe>oe)&&(Tt.bl_count[at]++,St=0,fe>=se&&(St=Nt[fe-se]),jt=zt[fe*2],Tt.opt_len+=jt*(at+St),pe&&(Tt.static_len+=jt*($t[fe*2+1]+St)));if(Zt!==0){do{for(at=Gt-1;Tt.bl_count[at]===0;)at--;Tt.bl_count[at]--,Tt.bl_count[at+1]+=2,Tt.bl_count[Gt]--,Zt-=2}while(Zt>0);for(at=Gt;at!==0;at--)for(fe=Tt.bl_count[at];fe!==0;)Ct=Tt.heap[--gt],!(Ct>oe)&&(zt[Ct*2+1]!==at&&(Tt.opt_len+=(at-zt[Ct*2+1])*zt[Ct*2],zt[Ct*2+1]=at),fe--)}}function ct(Tt,_t,zt){var oe=new Array(_+1),$t=0,pe,Nt;for(pe=1;pe<=_;pe++)oe[pe]=$t=$t+zt[pe-1]<<1;for(Nt=0;Nt<=_t;Nt++){var se=Tt[Nt*2+1];se!==0&&(Tt[Nt*2]=tt(oe[se]++,se))}}function nt(){var Tt,_t,zt,oe,$t,pe=new Array(_+1);for(zt=0,oe=0;oe<v-1;oe++)for(N[oe]=zt,Tt=0;Tt<1<<I[oe];Tt++)F[zt++]=oe;for(F[zt-1]=oe,$t=0,oe=0;oe<16;oe++)for(X[oe]=$t,Tt=0;Tt<1<<M[oe];Tt++)B[$t++]=oe;for($t>>=7;oe<k;oe++)for(X[oe]=$t<<7,Tt=0;Tt<1<<M[oe]-7;Tt++)B[256+$t++]=oe;for(_t=0;_t<=_;_t++)pe[_t]=0;for(Tt=0;Tt<=143;)j[Tt*2+1]=8,Tt++,pe[8]++;for(;Tt<=255;)j[Tt*2+1]=9,Tt++,pe[9]++;for(;Tt<=279;)j[Tt*2+1]=7,Tt++,pe[7]++;for(;Tt<=287;)j[Tt*2+1]=8,Tt++,pe[8]++;for(ct(j,y+1,pe),Tt=0;Tt<k;Tt++)W[Tt*2+1]=5,W[Tt*2]=tt(Tt,5);V=new G(j,I,x+1,y,_),z=new G(W,M,0,k,_),U=new G(new Array(0),H,0,T,C)}function ot(Tt){var _t;for(_t=0;_t<y;_t++)Tt.dyn_ltree[_t*2]=0;for(_t=0;_t<k;_t++)Tt.dyn_dtree[_t*2]=0;for(_t=0;_t<T;_t++)Tt.bl_tree[_t*2]=0;Tt.dyn_ltree[S*2]=1,Tt.opt_len=Tt.static_len=0,Tt.last_lit=Tt.matches=0}function yt(Tt){Tt.bi_valid>8?Y(Tt,Tt.bi_buf):Tt.bi_valid>0&&(Tt.pending_buf[Tt.pending++]=Tt.bi_buf),Tt.bi_buf=0,Tt.bi_valid=0}function pt(Tt,_t,zt,oe){yt(Tt),Y(Tt,zt),Y(Tt,~zt),n.arraySet(Tt.pending_buf,Tt.window,_t,zt,Tt.pending),Tt.pending+=zt}function dt(Tt,_t,zt,oe){var $t=_t*2,pe=zt*2;return Tt[$t]<Tt[pe]||Tt[$t]===Tt[pe]&&oe[_t]<=oe[zt]}function mt(Tt,_t,zt){for(var oe=Tt.heap[zt],$t=zt<<1;$t<=Tt.heap_len&&($t<Tt.heap_len&&dt(_t,Tt.heap[$t+1],Tt.heap[$t],Tt.depth)&&$t++,!dt(_t,oe,Tt.heap[$t],Tt.depth));)Tt.heap[zt]=Tt.heap[$t],zt=$t,$t<<=1;Tt.heap[zt]=oe}function q(Tt,_t,zt){var oe,$t,pe=0,Nt,se;if(Tt.last_lit!==0)do oe=Tt.pending_buf[Tt.d_buf+pe*2]<<8|Tt.pending_buf[Tt.d_buf+pe*2+1],$t=Tt.pending_buf[Tt.l_buf+pe],pe++,oe===0?ft(Tt,$t,_t):(Nt=F[$t],ft(Tt,Nt+x+1,_t),se=I[Nt],se!==0&&($t-=N[Nt],rt(Tt,$t,se)),oe--,Nt=st(oe),ft(Tt,Nt,zt),se=M[Nt],se!==0&&(oe-=X[Nt],rt(Tt,oe,se)));while(pe<Tt.last_lit);ft(Tt,S,_t)}function $(Tt,_t){var zt=_t.dyn_tree,oe=_t.stat_desc.static_tree,$t=_t.stat_desc.has_stree,pe=_t.stat_desc.elems,Nt,se,Gt=-1,gt;for(Tt.heap_len=0,Tt.heap_max=E,Nt=0;Nt<pe;Nt++)zt[Nt*2]!==0?(Tt.heap[++Tt.heap_len]=Gt=Nt,Tt.depth[Nt]=0):zt[Nt*2+1]=0;for(;Tt.heap_len<2;)gt=Tt.heap[++Tt.heap_len]=Gt<2?++Gt:0,zt[gt*2]=1,Tt.depth[gt]=0,Tt.opt_len--,$t&&(Tt.static_len-=oe[gt*2+1]);for(_t.max_code=Gt,Nt=Tt.heap_len>>1;Nt>=1;Nt--)mt(Tt,zt,Nt);gt=pe;do Nt=Tt.heap[1],Tt.heap[1]=Tt.heap[Tt.heap_len--],mt(Tt,zt,1),se=Tt.heap[1],Tt.heap[--Tt.heap_max]=Nt,Tt.heap[--Tt.heap_max]=se,zt[gt*2]=zt[Nt*2]+zt[se*2],Tt.depth[gt]=(Tt.depth[Nt]>=Tt.depth[se]?Tt.depth[Nt]:Tt.depth[se])+1,zt[Nt*2+1]=zt[se*2+1]=gt,Tt.heap[1]=gt++,mt(Tt,zt,1);while(Tt.heap_len>=2);Tt.heap[--Tt.heap_max]=Tt.heap[1],Q(Tt,_t),ct(zt,Gt,Tt.bl_count)}function J(Tt,_t,zt){var oe,$t=-1,pe,Nt=_t[0*2+1],se=0,Gt=7,gt=4;for(Nt===0&&(Gt=138,gt=3),_t[(zt+1)*2+1]=65535,oe=0;oe<=zt;oe++)pe=Nt,Nt=_t[(oe+1)*2+1],!(++se<Gt&&pe===Nt)&&(se<gt?Tt.bl_tree[pe*2]+=se:pe!==0?(pe!==$t&&Tt.bl_tree[pe*2]++,Tt.bl_tree[P*2]++):se<=10?Tt.bl_tree[O*2]++:Tt.bl_tree[R*2]++,se=0,$t=pe,Nt===0?(Gt=138,gt=3):pe===Nt?(Gt=6,gt=3):(Gt=7,gt=4))}function lt(Tt,_t,zt){var oe,$t=-1,pe,Nt=_t[0*2+1],se=0,Gt=7,gt=4;for(Nt===0&&(Gt=138,gt=3),oe=0;oe<=zt;oe++)if(pe=Nt,Nt=_t[(oe+1)*2+1],!(++se<Gt&&pe===Nt)){if(se<gt)do ft(Tt,pe,Tt.bl_tree);while(--se!==0);else pe!==0?(pe!==$t&&(ft(Tt,pe,Tt.bl_tree),se--),ft(Tt,P,Tt.bl_tree),rt(Tt,se-3,2)):se<=10?(ft(Tt,O,Tt.bl_tree),rt(Tt,se-3,3)):(ft(Tt,R,Tt.bl_tree),rt(Tt,se-11,7));se=0,$t=pe,Nt===0?(Gt=138,gt=3):pe===Nt?(Gt=6,gt=3):(Gt=7,gt=4)}}function ut(Tt){var _t;for(J(Tt,Tt.dyn_ltree,Tt.l_desc.max_code),J(Tt,Tt.dyn_dtree,Tt.d_desc.max_code),$(Tt,Tt.bl_desc),_t=T-1;_t>=3&&Tt.bl_tree[L[_t]*2+1]===0;_t--);return Tt.opt_len+=3*(_t+1)+5+5+4,_t}function ht(Tt,_t,zt,oe){var $t;for(rt(Tt,_t-257,5),rt(Tt,zt-1,5),rt(Tt,oe-4,4),$t=0;$t<oe;$t++)rt(Tt,Tt.bl_tree[L[$t]*2+1],3);lt(Tt,Tt.dyn_ltree,_t-1),lt(Tt,Tt.dyn_dtree,zt-1)}function bt(Tt){var _t=4093624447,zt;for(zt=0;zt<=31;zt++,_t>>>=1)if(_t&1&&Tt.dyn_ltree[zt*2]!==0)return l;if(Tt.dyn_ltree[9*2]!==0||Tt.dyn_ltree[10*2]!==0||Tt.dyn_ltree[13*2]!==0)return e;for(zt=32;zt<x;zt++)if(Tt.dyn_ltree[zt*2]!==0)return e;return l}var kt=!1;function vt(Tt){kt||(nt(),kt=!0),Tt.l_desc=new Z(Tt.dyn_ltree,V),Tt.d_desc=new Z(Tt.dyn_dtree,z),Tt.bl_desc=new Z(Tt.bl_tree,U),Tt.bi_buf=0,Tt.bi_valid=0,ot(Tt)}function Et(Tt,_t,zt,oe){rt(Tt,(u<<1)+(oe?1:0),3),pt(Tt,_t,zt)}function Rt(Tt){rt(Tt,c<<1,3),ft(Tt,S,j),K(Tt)}function Vt(Tt,_t,zt,oe){var $t,pe,Nt=0;Tt.level>0?(Tt.strm.data_type===o&&(Tt.strm.data_type=bt(Tt)),$(Tt,Tt.l_desc),$(Tt,Tt.d_desc),Nt=ut(Tt),$t=Tt.opt_len+3+7>>>3,pe=Tt.static_len+3+7>>>3,pe<=$t&&($t=pe)):$t=pe=zt+5,zt+4<=$t&&_t!==-1?Et(Tt,_t,zt,oe):Tt.strategy===a||pe===$t?(rt(Tt,(c<<1)+(oe?1:0),3),q(Tt,j,W)):(rt(Tt,(m<<1)+(oe?1:0),3),ht(Tt,Tt.l_desc.max_code+1,Tt.d_desc.max_code+1,Nt+1),q(Tt,Tt.dyn_ltree,Tt.dyn_dtree)),ot(Tt),oe&&yt(Tt)}function ee(Tt,_t,zt){return Tt.pending_buf[Tt.d_buf+Tt.last_lit*2]=_t>>>8&255,Tt.pending_buf[Tt.d_buf+Tt.last_lit*2+1]=_t&255,Tt.pending_buf[Tt.l_buf+Tt.last_lit]=zt&255,Tt.last_lit++,_t===0?Tt.dyn_ltree[zt*2]++:(Tt.matches++,_t--,Tt.dyn_ltree[(F[zt]+x+1)*2]++,Tt.dyn_dtree[st(_t)*2]++),Tt.last_lit===Tt.lit_bufsize-1}r._tr_init=vt,r._tr_stored_block=Et,r._tr_flush_block=Vt,r._tr_tally=ee,r._tr_align=Rt},function(f,r,t){var n=t(648),a=t(82),l=t(386),e=t(388),o=t(263),s=t(387),u=t(651),c=Object.prototype.toString;function m(v){if(!(this instanceof m))return new m(v);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},v||{});var x=this.options;x.raw&&x.windowBits>=0&&x.windowBits<16&&(x.windowBits=-x.windowBits,x.windowBits===0&&(x.windowBits=-15)),x.windowBits>=0&&x.windowBits<16&&!(v&&v.windowBits)&&(x.windowBits+=32),x.windowBits>15&&x.windowBits<48&&(x.windowBits&15||(x.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var y=n.inflateInit2(this.strm,x.windowBits);if(y!==e.Z_OK)throw new Error(o[y]);if(this.header=new u,n.inflateGetHeader(this.strm,this.header),x.dictionary&&(typeof x.dictionary=="string"?x.dictionary=l.string2buf(x.dictionary):c.call(x.dictionary)==="[object ArrayBuffer]"&&(x.dictionary=new Uint8Array(x.dictionary)),x.raw&&(y=n.inflateSetDictionary(this.strm,x.dictionary),y!==e.Z_OK)))throw new Error(o[y])}m.prototype.push=function(v,x){var y=this.strm,k=this.options.chunkSize,T=this.options.dictionary,E,_,A,C,S,P=!1;if(this.ended)return!1;_=x===~~x?x:x===!0?e.Z_FINISH:e.Z_NO_FLUSH,typeof v=="string"?y.input=l.binstring2buf(v):c.call(v)==="[object ArrayBuffer]"?y.input=new Uint8Array(v):y.input=v,y.next_in=0,y.avail_in=y.input.length;do{if(y.avail_out===0&&(y.output=new a.Buf8(k),y.next_out=0,y.avail_out=k),E=n.inflate(y,e.Z_NO_FLUSH),E===e.Z_NEED_DICT&&T&&(E=n.inflateSetDictionary(this.strm,T)),E===e.Z_BUF_ERROR&&P===!0&&(E=e.Z_OK,P=!1),E!==e.Z_STREAM_END&&E!==e.Z_OK)return this.onEnd(E),this.ended=!0,!1;y.next_out&&(y.avail_out===0||E===e.Z_STREAM_END||y.avail_in===0&&(_===e.Z_FINISH||_===e.Z_SYNC_FLUSH))&&(this.options.to==="string"?(A=l.utf8border(y.output,y.next_out),C=y.next_out-A,S=l.buf2string(y.output,A),y.next_out=C,y.avail_out=k-C,C&&a.arraySet(y.output,y.output,A,C,0),this.onData(S)):this.onData(a.shrinkBuf(y.output,y.next_out))),y.avail_in===0&&y.avail_out===0&&(P=!0)}while((y.avail_in>0||y.avail_out===0)&&E!==e.Z_STREAM_END);return E===e.Z_STREAM_END&&(_=e.Z_FINISH),_===e.Z_FINISH?(E=n.inflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===e.Z_OK):(_===e.Z_SYNC_FLUSH&&(this.onEnd(e.Z_OK),y.avail_out=0),!0)},m.prototype.onData=function(v){this.chunks.push(v)},m.prototype.onEnd=function(v){v===e.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg};function p(v,x){var y=new m(x);if(y.push(v,!0),y.err)throw y.msg||o[y.err];return y.result}function h(v,x){return x=x||{},x.raw=!0,p(v,x)}r.Inflate=m,r.inflate=p,r.inflateRaw=h,r.ungzip=p},function(f,r,t){var n=t(82),a=t(384),l=t(385),e=t(649),o=t(650),s=0,u=1,c=2,m=4,p=5,h=6,v=0,x=1,y=2,k=-2,T=-3,E=-4,_=-5,A=8,C=1,S=2,P=3,O=4,R=5,I=6,M=7,H=8,L=9,D=10,j=11,W=12,B=13,F=14,N=15,X=16,G=17,V=18,z=19,U=20,Z=21,st=22,Y=23,rt=24,ft=25,tt=26,K=27,Q=28,ct=29,nt=30,ot=31,yt=32,pt=852,dt=592,mt=15,q=mt;function $($t){return($t>>>24&255)+($t>>>8&65280)+(($t&65280)<<8)+(($t&255)<<24)}function J(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function lt($t){var pe;return!$t||!$t.state?k:(pe=$t.state,$t.total_in=$t.total_out=pe.total=0,$t.msg="",pe.wrap&&($t.adler=pe.wrap&1),pe.mode=C,pe.last=0,pe.havedict=0,pe.dmax=32768,pe.head=null,pe.hold=0,pe.bits=0,pe.lencode=pe.lendyn=new n.Buf32(pt),pe.distcode=pe.distdyn=new n.Buf32(dt),pe.sane=1,pe.back=-1,v)}function ut($t){var pe;return!$t||!$t.state?k:(pe=$t.state,pe.wsize=0,pe.whave=0,pe.wnext=0,lt($t))}function ht($t,pe){var Nt,se;return!$t||!$t.state||(se=$t.state,pe<0?(Nt=0,pe=-pe):(Nt=(pe>>4)+1,pe<48&&(pe&=15)),pe&&(pe<8||pe>15))?k:(se.window!==null&&se.wbits!==pe&&(se.window=null),se.wrap=Nt,se.wbits=pe,ut($t))}function bt($t,pe){var Nt,se;return $t?(se=new J,$t.state=se,se.window=null,Nt=ht($t,pe),Nt!==v&&($t.state=null),Nt):k}function kt($t){return bt($t,q)}var vt=!0,Et,Rt;function Vt($t){if(vt){var pe;for(Et=new n.Buf32(512),Rt=new n.Buf32(32),pe=0;pe<144;)$t.lens[pe++]=8;for(;pe<256;)$t.lens[pe++]=9;for(;pe<280;)$t.lens[pe++]=7;for(;pe<288;)$t.lens[pe++]=8;for(o(u,$t.lens,0,288,Et,0,$t.work,{bits:9}),pe=0;pe<32;)$t.lens[pe++]=5;o(c,$t.lens,0,32,Rt,0,$t.work,{bits:5}),vt=!1}$t.lencode=Et,$t.lenbits=9,$t.distcode=Rt,$t.distbits=5}function ee($t,pe,Nt,se){var Gt,gt=$t.state;return gt.window===null&&(gt.wsize=1<<gt.wbits,gt.wnext=0,gt.whave=0,gt.window=new n.Buf8(gt.wsize)),se>=gt.wsize?(n.arraySet(gt.window,pe,Nt-gt.wsize,gt.wsize,0),gt.wnext=0,gt.whave=gt.wsize):(Gt=gt.wsize-gt.wnext,Gt>se&&(Gt=se),n.arraySet(gt.window,pe,Nt-se,Gt,gt.wnext),se-=Gt,se?(n.arraySet(gt.window,pe,Nt-se,se,0),gt.wnext=se,gt.whave=gt.wsize):(gt.wnext+=Gt,gt.wnext===gt.wsize&&(gt.wnext=0),gt.whave<gt.wsize&&(gt.whave+=Gt))),0}function Tt($t,pe){var Nt,se,Gt,gt,fe,Ct,at,St,jt,Zt,ue,ce,It,Mt,Ut=0,Kt,wt,ye,we,Oe,Ne,ze,Ue,Be=new n.Buf8(4),Je,Xe,pn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!$t||!$t.state||!$t.output||!$t.input&&$t.avail_in!==0)return k;Nt=$t.state,Nt.mode===W&&(Nt.mode=B),fe=$t.next_out,Gt=$t.output,at=$t.avail_out,gt=$t.next_in,se=$t.input,Ct=$t.avail_in,St=Nt.hold,jt=Nt.bits,Zt=Ct,ue=at,Ue=v;t:for(;;)switch(Nt.mode){case C:if(Nt.wrap===0){Nt.mode=B;break}for(;jt<16;){if(Ct===0)break t;Ct--,St+=se[gt++]<<jt,jt+=8}if(Nt.wrap&2&&St===35615){Nt.check=0,Be[0]=St&255,Be[1]=St>>>8&255,Nt.check=l(Nt.check,Be,2,0),St=0,jt=0,Nt.mode=S;break}if(Nt.flags=0,Nt.head&&(Nt.head.done=!1),!(Nt.wrap&1)||(((St&255)<<8)+(St>>8))%31){$t.msg="incorrect header check",Nt.mode=nt;break}if((St&15)!==A){$t.msg="unknown compression method",Nt.mode=nt;break}if(St>>>=4,jt-=4,ze=(St&15)+8,Nt.wbits===0)Nt.wbits=ze;else if(ze>Nt.wbits){$t.msg="invalid window size",Nt.mode=nt;break}Nt.dmax=1<<ze,$t.adler=Nt.check=1,Nt.mode=St&512?D:W,St=0,jt=0;break;case S:for(;jt<16;){if(Ct===0)break t;Ct--,St+=se[gt++]<<jt,jt+=8}if(Nt.flags=St,(Nt.flags&255)!==A){$t.msg="unknown compression method",Nt.mode=nt;break}if(Nt.flags&57344){$t.msg="unknown header flags set",Nt.mode=nt;break}Nt.head&&(Nt.head.text=St>>8&1),Nt.flags&512&&(Be[0]=St&255,Be[1]=St>>>8&255,Nt.check=l(Nt.check,Be,2,0)),St=0,jt=0,Nt.mode=P;case P:for(;jt<32;){if(Ct===0)break t;Ct--,St+=se[gt++]<<jt,jt+=8}Nt.head&&(Nt.head.time=St),Nt.flags&512&&(Be[0]=St&255,Be[1]=St>>>8&255,Be[2]=St>>>16&255,Be[3]=St>>>24&255,Nt.check=l(Nt.check,Be,4,0)),St=0,jt=0,Nt.mode=O;case O:for(;jt<16;){if(Ct===0)break t;Ct--,St+=se[gt++]<<jt,jt+=8}Nt.head&&(Nt.head.xflags=St&255,Nt.head.os=St>>8),Nt.flags&512&&(Be[0]=St&255,Be[1]=St>>>8&255,Nt.check=l(Nt.check,Be,2,0)),St=0,jt=0,Nt.mode=R;case R:if(Nt.flags&1024){for(;jt<16;){if(Ct===0)break t;Ct--,St+=se[gt++]<<jt,jt+=8}Nt.length=St,Nt.head&&(Nt.head.extra_len=St),Nt.flags&512&&(Be[0]=St&255,Be[1]=St>>>8&255,Nt.check=l(Nt.check,Be,2,0)),St=0,jt=0}else Nt.head&&(Nt.head.extra=null);Nt.mode=I;case I:if(Nt.flags&1024&&(ce=Nt.length,ce>Ct&&(ce=Ct),ce&&(Nt.head&&(ze=Nt.head.extra_len-Nt.length,Nt.head.extra||(Nt.head.extra=new Array(Nt.head.extra_len)),n.arraySet(Nt.head.extra,se,gt,ce,ze)),Nt.flags&512&&(Nt.check=l(Nt.check,se,ce,gt)),Ct-=ce,gt+=ce,Nt.length-=ce),Nt.length))break t;Nt.length=0,Nt.mode=M;case M:if(Nt.flags&2048){if(Ct===0)break t;ce=0;do ze=se[gt+ce++],Nt.head&&ze&&Nt.length<65536&&(Nt.head.name+=String.fromCharCode(ze));while(ze&&ce<Ct);if(Nt.flags&512&&(Nt.check=l(Nt.check,se,ce,gt)),Ct-=ce,gt+=ce,ze)break t}else Nt.head&&(Nt.head.name=null);Nt.length=0,Nt.mode=H;case H:if(Nt.flags&4096){if(Ct===0)break t;ce=0;do ze=se[gt+ce++],Nt.head&&ze&&Nt.length<65536&&(Nt.head.comment+=String.fromCharCode(ze));while(ze&&ce<Ct);if(Nt.flags&512&&(Nt.check=l(Nt.check,se,ce,gt)),Ct-=ce,gt+=ce,ze)break t}else Nt.head&&(Nt.head.comment=null);Nt.mode=L;case L:if(Nt.flags&512){for(;jt<16;){if(Ct===0)break t;Ct--,St+=se[gt++]<<jt,jt+=8}if(St!==(Nt.check&65535)){$t.msg="header crc mismatch",Nt.mode=nt;break}St=0,jt=0}Nt.head&&(Nt.head.hcrc=Nt.flags>>9&1,Nt.head.done=!0),$t.adler=Nt.check=0,Nt.mode=W;break;case D:for(;jt<32;){if(Ct===0)break t;Ct--,St+=se[gt++]<<jt,jt+=8}$t.adler=Nt.check=$(St),St=0,jt=0,Nt.mode=j;case j:if(Nt.havedict===0)return $t.next_out=fe,$t.avail_out=at,$t.next_in=gt,$t.avail_in=Ct,Nt.hold=St,Nt.bits=jt,y;$t.adler=Nt.check=1,Nt.mode=W;case W:if(pe===p||pe===h)break t;case B:if(Nt.last){St>>>=jt&7,jt-=jt&7,Nt.mode=K;break}for(;jt<3;){if(Ct===0)break t;Ct--,St+=se[gt++]<<jt,jt+=8}switch(Nt.last=St&1,St>>>=1,jt-=1,St&3){case 0:Nt.mode=F;break;case 1:if(Vt(Nt),Nt.mode=U,pe===h){St>>>=2,jt-=2;break t}break;case 2:Nt.mode=G;break;case 3:$t.msg="invalid block type",Nt.mode=nt}St>>>=2,jt-=2;break;case F:for(St>>>=jt&7,jt-=jt&7;jt<32;){if(Ct===0)break t;Ct--,St+=se[gt++]<<jt,jt+=8}if((St&65535)!==(St>>>16^65535)){$t.msg="invalid stored block lengths",Nt.mode=nt;break}if(Nt.length=St&65535,St=0,jt=0,Nt.mode=N,pe===h)break t;case N:Nt.mode=X;case X:if(ce=Nt.length,ce){if(ce>Ct&&(ce=Ct),ce>at&&(ce=at),ce===0)break t;n.arraySet(Gt,se,gt,ce,fe),Ct-=ce,gt+=ce,at-=ce,fe+=ce,Nt.length-=ce;break}Nt.mode=W;break;case G:for(;jt<14;){if(Ct===0)break t;Ct--,St+=se[gt++]<<jt,jt+=8}if(Nt.nlen=(St&31)+257,St>>>=5,jt-=5,Nt.ndist=(St&31)+1,St>>>=5,jt-=5,Nt.ncode=(St&15)+4,St>>>=4,jt-=4,Nt.nlen>286||Nt.ndist>30){$t.msg="too many length or distance symbols",Nt.mode=nt;break}Nt.have=0,Nt.mode=V;case V:for(;Nt.have<Nt.ncode;){for(;jt<3;){if(Ct===0)break t;Ct--,St+=se[gt++]<<jt,jt+=8}Nt.lens[pn[Nt.have++]]=St&7,St>>>=3,jt-=3}for(;Nt.have<19;)Nt.lens[pn[Nt.have++]]=0;if(Nt.lencode=Nt.lendyn,Nt.lenbits=7,Je={bits:Nt.lenbits},Ue=o(s,Nt.lens,0,19,Nt.lencode,0,Nt.work,Je),Nt.lenbits=Je.bits,Ue){$t.msg="invalid code lengths set",Nt.mode=nt;break}Nt.have=0,Nt.mode=z;case z:for(;Nt.have<Nt.nlen+Nt.ndist;){for(;Ut=Nt.lencode[St&(1<<Nt.lenbits)-1],Kt=Ut>>>24,wt=Ut>>>16&255,ye=Ut&65535,!(Kt<=jt);){if(Ct===0)break t;Ct--,St+=se[gt++]<<jt,jt+=8}if(ye<16)St>>>=Kt,jt-=Kt,Nt.lens[Nt.have++]=ye;else{if(ye===16){for(Xe=Kt+2;jt<Xe;){if(Ct===0)break t;Ct--,St+=se[gt++]<<jt,jt+=8}if(St>>>=Kt,jt-=Kt,Nt.have===0){$t.msg="invalid bit length repeat",Nt.mode=nt;break}ze=Nt.lens[Nt.have-1],ce=3+(St&3),St>>>=2,jt-=2}else if(ye===17){for(Xe=Kt+3;jt<Xe;){if(Ct===0)break t;Ct--,St+=se[gt++]<<jt,jt+=8}St>>>=Kt,jt-=Kt,ze=0,ce=3+(St&7),St>>>=3,jt-=3}else{for(Xe=Kt+7;jt<Xe;){if(Ct===0)break t;Ct--,St+=se[gt++]<<jt,jt+=8}St>>>=Kt,jt-=Kt,ze=0,ce=11+(St&127),St>>>=7,jt-=7}if(Nt.have+ce>Nt.nlen+Nt.ndist){$t.msg="invalid bit length repeat",Nt.mode=nt;break}for(;ce--;)Nt.lens[Nt.have++]=ze}}if(Nt.mode===nt)break;if(Nt.lens[256]===0){$t.msg="invalid code -- missing end-of-block",Nt.mode=nt;break}if(Nt.lenbits=9,Je={bits:Nt.lenbits},Ue=o(u,Nt.lens,0,Nt.nlen,Nt.lencode,0,Nt.work,Je),Nt.lenbits=Je.bits,Ue){$t.msg="invalid literal/lengths set",Nt.mode=nt;break}if(Nt.distbits=6,Nt.distcode=Nt.distdyn,Je={bits:Nt.distbits},Ue=o(c,Nt.lens,Nt.nlen,Nt.ndist,Nt.distcode,0,Nt.work,Je),Nt.distbits=Je.bits,Ue){$t.msg="invalid distances set",Nt.mode=nt;break}if(Nt.mode=U,pe===h)break t;case U:Nt.mode=Z;case Z:if(Ct>=6&&at>=258){$t.next_out=fe,$t.avail_out=at,$t.next_in=gt,$t.avail_in=Ct,Nt.hold=St,Nt.bits=jt,e($t,ue),fe=$t.next_out,Gt=$t.output,at=$t.avail_out,gt=$t.next_in,se=$t.input,Ct=$t.avail_in,St=Nt.hold,jt=Nt.bits,Nt.mode===W&&(Nt.back=-1);break}for(Nt.back=0;Ut=Nt.lencode[St&(1<<Nt.lenbits)-1],Kt=Ut>>>24,wt=Ut>>>16&255,ye=Ut&65535,!(Kt<=jt);){if(Ct===0)break t;Ct--,St+=se[gt++]<<jt,jt+=8}if(wt&&!(wt&240)){for(we=Kt,Oe=wt,Ne=ye;Ut=Nt.lencode[Ne+((St&(1<<we+Oe)-1)>>we)],Kt=Ut>>>24,wt=Ut>>>16&255,ye=Ut&65535,!(we+Kt<=jt);){if(Ct===0)break t;Ct--,St+=se[gt++]<<jt,jt+=8}St>>>=we,jt-=we,Nt.back+=we}if(St>>>=Kt,jt-=Kt,Nt.back+=Kt,Nt.length=ye,wt===0){Nt.mode=tt;break}if(wt&32){Nt.back=-1,Nt.mode=W;break}if(wt&64){$t.msg="invalid literal/length code",Nt.mode=nt;break}Nt.extra=wt&15,Nt.mode=st;case st:if(Nt.extra){for(Xe=Nt.extra;jt<Xe;){if(Ct===0)break t;Ct--,St+=se[gt++]<<jt,jt+=8}Nt.length+=St&(1<<Nt.extra)-1,St>>>=Nt.extra,jt-=Nt.extra,Nt.back+=Nt.extra}Nt.was=Nt.length,Nt.mode=Y;case Y:for(;Ut=Nt.distcode[St&(1<<Nt.distbits)-1],Kt=Ut>>>24,wt=Ut>>>16&255,ye=Ut&65535,!(Kt<=jt);){if(Ct===0)break t;Ct--,St+=se[gt++]<<jt,jt+=8}if(!(wt&240)){for(we=Kt,Oe=wt,Ne=ye;Ut=Nt.distcode[Ne+((St&(1<<we+Oe)-1)>>we)],Kt=Ut>>>24,wt=Ut>>>16&255,ye=Ut&65535,!(we+Kt<=jt);){if(Ct===0)break t;Ct--,St+=se[gt++]<<jt,jt+=8}St>>>=we,jt-=we,Nt.back+=we}if(St>>>=Kt,jt-=Kt,Nt.back+=Kt,wt&64){$t.msg="invalid distance code",Nt.mode=nt;break}Nt.offset=ye,Nt.extra=wt&15,Nt.mode=rt;case rt:if(Nt.extra){for(Xe=Nt.extra;jt<Xe;){if(Ct===0)break t;Ct--,St+=se[gt++]<<jt,jt+=8}Nt.offset+=St&(1<<Nt.extra)-1,St>>>=Nt.extra,jt-=Nt.extra,Nt.back+=Nt.extra}if(Nt.offset>Nt.dmax){$t.msg="invalid distance too far back",Nt.mode=nt;break}Nt.mode=ft;case ft:if(at===0)break t;if(ce=ue-at,Nt.offset>ce){if(ce=Nt.offset-ce,ce>Nt.whave&&Nt.sane){$t.msg="invalid distance too far back",Nt.mode=nt;break}ce>Nt.wnext?(ce-=Nt.wnext,It=Nt.wsize-ce):It=Nt.wnext-ce,ce>Nt.length&&(ce=Nt.length),Mt=Nt.window}else Mt=Gt,It=fe-Nt.offset,ce=Nt.length;ce>at&&(ce=at),at-=ce,Nt.length-=ce;do Gt[fe++]=Mt[It++];while(--ce);Nt.length===0&&(Nt.mode=Z);break;case tt:if(at===0)break t;Gt[fe++]=Nt.length,at--,Nt.mode=Z;break;case K:if(Nt.wrap){for(;jt<32;){if(Ct===0)break t;Ct--,St|=se[gt++]<<jt,jt+=8}if(ue-=at,$t.total_out+=ue,Nt.total+=ue,ue&&($t.adler=Nt.check=Nt.flags?l(Nt.check,Gt,ue,fe-ue):a(Nt.check,Gt,ue,fe-ue)),ue=at,(Nt.flags?St:$(St))!==Nt.check){$t.msg="incorrect data check",Nt.mode=nt;break}St=0,jt=0}Nt.mode=Q;case Q:if(Nt.wrap&&Nt.flags){for(;jt<32;){if(Ct===0)break t;Ct--,St+=se[gt++]<<jt,jt+=8}if(St!==(Nt.total&4294967295)){$t.msg="incorrect length check",Nt.mode=nt;break}St=0,jt=0}Nt.mode=ct;case ct:Ue=x;break t;case nt:Ue=T;break t;case ot:return E;case yt:default:return k}return $t.next_out=fe,$t.avail_out=at,$t.next_in=gt,$t.avail_in=Ct,Nt.hold=St,Nt.bits=jt,(Nt.wsize||ue!==$t.avail_out&&Nt.mode<nt&&(Nt.mode<K||pe!==m))&&ee($t,$t.output,$t.next_out,ue-$t.avail_out),Zt-=$t.avail_in,ue-=$t.avail_out,$t.total_in+=Zt,$t.total_out+=ue,Nt.total+=ue,Nt.wrap&&ue&&($t.adler=Nt.check=Nt.flags?l(Nt.check,Gt,ue,$t.next_out-ue):a(Nt.check,Gt,ue,$t.next_out-ue)),$t.data_type=Nt.bits+(Nt.last?64:0)+(Nt.mode===W?128:0)+(Nt.mode===U||Nt.mode===N?256:0),(Zt===0&&ue===0||pe===m)&&Ue===v&&(Ue=_),Ue}function _t($t){if(!$t||!$t.state)return k;var pe=$t.state;return pe.window&&(pe.window=null),$t.state=null,v}function zt($t,pe){var Nt;return!$t||!$t.state||(Nt=$t.state,!(Nt.wrap&2))?k:(Nt.head=pe,pe.done=!1,v)}function oe($t,pe){var Nt=pe.length,se,Gt,gt;return!$t||!$t.state||(se=$t.state,se.wrap!==0&&se.mode!==j)?k:se.mode===j&&(Gt=1,Gt=a(Gt,pe,Nt,0),Gt!==se.check)?T:(gt=ee($t,pe,Nt,Nt),gt?(se.mode=ot,E):(se.havedict=1,v))}r.inflateReset=ut,r.inflateReset2=ht,r.inflateResetKeep=lt,r.inflateInit=kt,r.inflateInit2=bt,r.inflate=Tt,r.inflateEnd=_t,r.inflateGetHeader=zt,r.inflateSetDictionary=oe,r.inflateInfo="pako inflate (from Nodeca project)"},function(f,r,t){var n=30,a=12;f.exports=function(l,e){var o,s,u,c,m,p,h,v,x,y,k,T,E,_,A,C,S,P,O,R,I,M,H,L,D;o=l.state,s=l.next_in,L=l.input,u=s+(l.avail_in-5),c=l.next_out,D=l.output,m=c-(e-l.avail_out),p=c+(l.avail_out-257),h=o.dmax,v=o.wsize,x=o.whave,y=o.wnext,k=o.window,T=o.hold,E=o.bits,_=o.lencode,A=o.distcode,C=(1<<o.lenbits)-1,S=(1<<o.distbits)-1;t:do{E<15&&(T+=L[s++]<<E,E+=8,T+=L[s++]<<E,E+=8),P=_[T&C];e:for(;;){if(O=P>>>24,T>>>=O,E-=O,O=P>>>16&255,O===0)D[c++]=P&65535;else if(O&16){R=P&65535,O&=15,O&&(E<O&&(T+=L[s++]<<E,E+=8),R+=T&(1<<O)-1,T>>>=O,E-=O),E<15&&(T+=L[s++]<<E,E+=8,T+=L[s++]<<E,E+=8),P=A[T&S];n:for(;;){if(O=P>>>24,T>>>=O,E-=O,O=P>>>16&255,O&16){if(I=P&65535,O&=15,E<O&&(T+=L[s++]<<E,E+=8,E<O&&(T+=L[s++]<<E,E+=8)),I+=T&(1<<O)-1,I>h){l.msg="invalid distance too far back",o.mode=n;break t}if(T>>>=O,E-=O,O=c-m,I>O){if(O=I-O,O>x&&o.sane){l.msg="invalid distance too far back",o.mode=n;break t}if(M=0,H=k,y===0){if(M+=v-O,O<R){R-=O;do D[c++]=k[M++];while(--O);M=c-I,H=D}}else if(y<O){if(M+=v+y-O,O-=y,O<R){R-=O;do D[c++]=k[M++];while(--O);if(M=0,y<R){O=y,R-=O;do D[c++]=k[M++];while(--O);M=c-I,H=D}}}else if(M+=y-O,O<R){R-=O;do D[c++]=k[M++];while(--O);M=c-I,H=D}for(;R>2;)D[c++]=H[M++],D[c++]=H[M++],D[c++]=H[M++],R-=3;R&&(D[c++]=H[M++],R>1&&(D[c++]=H[M++]))}else{M=c-I;do D[c++]=D[M++],D[c++]=D[M++],D[c++]=D[M++],R-=3;while(R>2);R&&(D[c++]=D[M++],R>1&&(D[c++]=D[M++]))}}else if(O&64){l.msg="invalid distance code",o.mode=n;break t}else{P=A[(P&65535)+(T&(1<<O)-1)];continue n}break}}else if(O&64)if(O&32){o.mode=a;break t}else{l.msg="invalid literal/length code",o.mode=n;break t}else{P=_[(P&65535)+(T&(1<<O)-1)];continue e}break}}while(s<u&&c<p);R=E>>3,s-=R,E-=R<<3,T&=(1<<E)-1,l.next_in=s,l.next_out=c,l.avail_in=s<u?5+(u-s):5-(s-u),l.avail_out=c<p?257+(p-c):257-(c-p),o.hold=T,o.bits=E}},function(f,r,t){var n=t(82),a=15,l=852,e=592,o=0,s=1,u=2,c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],m=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];f.exports=function(v,x,y,k,T,E,_,A){var C=A.bits,S=0,P=0,O=0,R=0,I=0,M=0,H=0,L=0,D=0,j=0,W,B,F,N,X,G=null,V=0,z,U=new n.Buf16(a+1),Z=new n.Buf16(a+1),st=null,Y=0,rt,ft,tt;for(S=0;S<=a;S++)U[S]=0;for(P=0;P<k;P++)U[x[y+P]]++;for(I=C,R=a;R>=1&&U[R]===0;R--);if(I>R&&(I=R),R===0)return T[E++]=1<<24|64<<16|0,T[E++]=1<<24|64<<16|0,A.bits=1,0;for(O=1;O<R&&U[O]===0;O++);for(I<O&&(I=O),L=1,S=1;S<=a;S++)if(L<<=1,L-=U[S],L<0)return-1;if(L>0&&(v===o||R!==1))return-1;for(Z[1]=0,S=1;S<a;S++)Z[S+1]=Z[S]+U[S];for(P=0;P<k;P++)x[y+P]!==0&&(_[Z[x[y+P]]++]=P);if(v===o?(G=st=_,z=19):v===s?(G=c,V-=257,st=m,Y-=257,z=256):(G=p,st=h,z=-1),j=0,P=0,S=O,X=E,M=I,H=0,F=-1,D=1<<I,N=D-1,v===s&&D>l||v===u&&D>e)return 1;for(;;){rt=S-H,_[P]<z?(ft=0,tt=_[P]):_[P]>z?(ft=st[Y+_[P]],tt=G[V+_[P]]):(ft=96,tt=0),W=1<<S-H,B=1<<M,O=B;do B-=W,T[X+(j>>H)+B]=rt<<24|ft<<16|tt|0;while(B!==0);for(W=1<<S-1;j&W;)W>>=1;if(W!==0?(j&=W-1,j+=W):j=0,P++,--U[S]===0){if(S===R)break;S=x[y+_[P]]}if(S>I&&(j&N)!==F){for(H===0&&(H=I),X+=O,M=S-H,L=1<<M;M+H<R&&(L-=U[M+H],!(L<=0));)M++,L<<=1;if(D+=1<<M,v===s&&D>l||v===u&&D>e)return 1;F=j&N,T[F]=I<<24|M<<16|X-E|0}}return j!==0&&(T[X+j]=S-H<<24|64<<16|0),A.bits=I,0}},function(f,r,t){function n(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}f.exports=n},function(f,r,t){const n=t(653);function a(o){if(typeof o!="string")throw new TypeError("sequence must be a string");var s=[],u,c,m={LOCUS_TAG:"LOCUS",DEFINITION_TAG:"DEFINITION",ACCESSION_TAG:"ACCESSION",VERSION_TAG:"VERSION",KEYWORDS_TAG:"KEYWORDS",SOURCE_TAG:"SOURCE",ORGANISM_TAG:"ORGANISM",REFERENCE_TAG:"REFERENCE",AUTHORS_TAG:"AUTHORS",CONSORTIUM_TAG:"CONSRTM",TITLE_TAG:"TITLE",JOURNAL_TAG:"JOURNAL",PUBMED_TAG:"PUBMED",REMARK_TAG:"REMARK",FEATURES_TAG:"FEATURES",BASE_COUNT_TAG:"BASE COUNT",ORIGIN_TAG:"ORIGIN",END_SEQUENCE_TAG:"//"},p=o.split(/\r?\n/),h;let v;var x;if(p===null)throw new Error("sequence file is empty");var y=!1;for(let U of p){if(U===null)break;var k=F(U),T=X(U),E=V(U),_=G(U);if(k===m.END_SEQUENCE_TAG||_?(h=k,v=null):E&&(v=k),!(U.trim()===""||k===";")){if(!y&&h!==m.LOCUS_TAG)break;switch(h){case m.LOCUS_TAG:y=!0,O(U);break;case m.FEATURES_TAG:L(U,k,T);break;case m.ORIGIN_TAG:P(U,k);break;case m.DEFINITION_TAG:case m.ACCESSION_TAG:case m.VERSION_TAG:case m.KEYWORDS_TAG:N(h,U,h.toLowerCase());break;case m.SOURCE_TAG:v===m.ORGANISM_TAG?N(v,U,"organism"):N(k,U,"source");break;case m.REFERENCE_TAG:if(k===m.REFERENCE_TAG){const Z=u.references||[];u.references=Z,Z.push({})}I(U,v);break;case m.END_SEQUENCE_TAG:A();break}}}return s[s.length-1]!==u&&A(),s;function A(){S(),s.push(u)}function C(){return u.features[u.features.length-1]}function S(){if(u&&u.features)for(var U=0;U<u.features.length;U++)u.features[U]=z(u.features[U])}function P(U,Z){if(Z!==m.ORIGIN_TAG){var st=U.replace(/[\s]*[0-9]*/g,"");u.sequence+=st}}function O(U){u={features:[],name:"Untitled sequence",sequence:""},U=R(m.LOCUS_TAG,U);const Z=U.match(/^([^\s]+)\s+(\d+)\s+bp\s+([^\s]+)\s+([^\s]+)\s+([^\s]+)\s+([^\s]+)$/);let st=Z[1],Y=+Z[2],rt=Z[3],ft=Z[4]==="circular",tt=Z[5];const K=u;K.circular=ft,K.moleculeType=rt,K.genbankDivision=tt;const Q=Z[6].match(/^(\d{2})-(.{3})-(\d{4})$/),ct=new Date;ct.setFullYear(+Q[3]),ct.setUTCMonth(n.indexOf(Q[2].toUpperCase())),ct.setDate(+Q[1]),ct.setUTCHours(12),ct.setMinutes(0),ct.setSeconds(0),ct.setMilliseconds(0),K.date=ct.toISOString(),K.name=st,K.size=Y}function R(U,Z){return Z=Z.replace(/^\s*/,""),Z.indexOf(U)===0&&(Z=Z.replace(U,"")),Z.trim()}function I(U,Z){const st=u.references;let Y=st[st.length-1];Z?N(Z,U,Z.toLowerCase(),Y):N(m.REFERENCE_TAG,U,"description",Y)}var M,H;function L(U,Z,st){var Y;if(Z===m.FEATURES_TAG){M=!0;return}if(M&&(x=e(U),M=!1),l(U,x))H?(W(U.trim()),H=!0):(c&&(c[c.length-1]+=U.trim().replace(/"/g,"")),H=!1);else if(j(U))C()&&(B(U),H=!1);else{st.match(/complement/g)?Y=-1:Y=1,D();var rt=C();rt.type=Z,rt.strand=Y,W(st),H=!0}}function D(){u.features.push({locations:[],notes:{}})}function j(U){var Z=!1;return(U.trim().charAt(0).match(/\//)||U.match(/^[\s]*\/[\w]+=[\S]+/))&&(Z=!0),Z}function W(U){U=U.trim();var Z=[];U.replace(/(\d+)/g,function(Y,rt){Z.push(rt)});let st=C();st.start=+Z[0],st.end=+Z[1]}function B(U){var Z,st;Z=U.trim(),Z=Z.replace(/^\/|"$/g,""),st=Z.split(/="|=/);var Y=st[1];Y&&(Y=Y.replace(/\\/g," "),U.match(/="/g)?Y=Y.replace(/".*/g,""):Y.match(/^\d+$/g)&&(Y=+Y));var rt=st[0],ft=C().notes;ft[rt]?ft[rt].push(Y):ft[rt]=[Y],c=ft[rt]}function F(U){var Z;return U=U.replace(/^[\s]*/,""),U.indexOf("=")<0?Z=U.split(/[\s]+/):Z=U.split(/=/),Z[0]}function N(U,Z,st,Y){Y=Y||u;let rt=R(U,Z);Y[st]=Y[st]?`${Y[st]} `:"",Y[st]+=rt}function X(U){var Z;return U.indexOf("=")<0?(U=U.replace(/^[\s]*[\S]+[\s]+|[\s]+$/,""),U=U.trim(),U):(Z=U.split(/=/),Z[1])}function G(U){var Z=!1;return U.substr(0,10).match(/^[\S]+/)&&(Z=!0),Z}function V(U){var Z=!1;return U.substr(0,10).match(/^[\s]+[\S]+/)&&(Z=!0),Z}function z(U){return U.notes.label?U.name=U.notes.label[0]:U.notes.gene?U.name=U.notes.gene[0]:U.notes.ApEinfo_label?U.name=U.notes.ApEinfo_label[0]:U.notes.name?U.name=U.notes.name[0]:U.notes.organism?U.name=U.notes.organism[0]:U.notes.locus_tag?U.name=U.notes.locus_tag[0]:U.notes.note?U.name=U.notes.note[0]:U.name="Untitled Feature",U.name=typeof U.name=="string"?U.name:String(U.name),U}}function l(o,s){var u=e(o);if(s===u)return!1;var c=o.trim();return!c.charAt(0).match(/\//)}function e(o){var s=/^\s*/.exec(o);return s!==null?s[0].length:0}f.exports=a},function(f,r,t){f.exports=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"]},function(f,r,t){f.exports={"track-renderer":"TrackRenderer-module_track-renderer-3TM7n","track-renderer-element":"TrackRenderer-module_track-renderer-element-2i16D","track-renderer-events":"TrackRenderer-module_track-renderer-events-3tVM2"}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(17),a=I(n),l=t(5),e=I(l),o=t(3),s=I(o),u=t(4),c=I(u),m=t(6),p=I(m),h=t(7),v=I(h),x=t(1),y=I(x),k=t(2),T=I(k),E=t(169),_=I(E),A=t(656),C=I(A),S=t(659),P=I(S),O=t(11),R=t(10);t(661);function I(H){return H&&H.__esModule?H:{default:H}}var M=function(H){(0,v.default)(L,H);function L(D){(0,s.default)(this,L);var j=(0,p.default)(this,(L.__proto__||(0,e.default)(L)).call(this,D));return j.options={},j.state={selectedTilesets:[{datatype:"none"}],allTracksSameDatatype:!0},j.handleSubmitBound=j.handleSubmit.bind(j),j.handleTilesetPickerDoubleClickBound=j.handleTilesetPickerDoubleClick.bind(j),j.selectedTilesetsChangedBound=j.selectedTilesetsChanged.bind(j),j}return(0,c.default)(L,[{key:"getOrientation",value:function(){function D(j){var W=null;return j==="top"||j==="bottom"?W="1d-horizontal":j==="left"||j==="right"?W="1d-vertical":W="2d",W}return D}()},{key:"handleSubmit",value:function(){function D(j){j&&j.preventDefault(),this.props.onTracksChosen(this.state.selectedTilesets,this.props.position,this.props.host)}return D}()},{key:"handleTilesetPickerDoubleClick",value:function(){function D(j){this.selectedTilesetsChanged([j]),this.props.onTracksChosen(this.state.selectedTilesets,this.props.position,this.props.host)}return D}()},{key:"handleOptionsChanged",value:function(){function D(j){this.options=j}return D}()},{key:"handlePlotTypeSelected",value:function(){function D(j){var W=this.state.selectedTilesets,B=!0,F=!1,N=void 0;try{for(var X=(0,a.default)(W),G;!(B=(G=X.next()).done);B=!0){var V=G.value;V.type=j}}catch(z){F=!0,N=z}finally{try{!B&&X.return&&X.return()}finally{if(F)throw N}}this.selectedPlotType=j,this.setState({selectedTilesets:W})}return D}()},{key:"selectedTilesetsChanged",value:function(){function D(j){var W=null;j.length===0?W=[{datatype:"none"}]:W=j;var B=!0,F=W[0].datatype,N=!0,X=!1,G=void 0;try{for(var V=(0,a.default)(W),z;!(N=(z=V.next()).done);N=!0){var U=z.value;U.datatype!==F&&(B=!1)}}catch($){X=!0,G=$}finally{try{!N&&V.return&&V.return()}finally{if(X)throw G}}if(B){var Z=!0,st=!1,Y=void 0;try{for(var rt=(0,a.default)(W),ft;!(Z=(ft=rt.next()).done);Z=!0){var tt=ft.value;tt.type=this.selectedPlotType}}catch($){st=!0,Y=$}finally{try{!Z&&rt.return&&rt.return()}finally{if(st)throw Y}}}else{var K=!0,Q=!1,ct=void 0;try{for(var nt=(0,a.default)(W),ot;!(K=(ot=nt.next()).done);K=!0){var yt=ot.value,pt=[yt.datatype],dt=this.getOrientation(this.props.position);yt.filetype==="cooler"&&(pt=[yt.datatype,"chromsizes"]);var mt=(0,O.AVAILABLE_TRACK_TYPES)([pt],dt),q=(0,R.getDefaultTrackForDatatype)(pt[0],this.props.position,mt);yt.type=q.type}}catch($){Q=!0,ct=$}finally{try{!K&&nt.return&&nt.return()}finally{if(Q)throw ct}}}this.setState({selectedTilesets:W,allTracksSameDatatype:B})}return D}()},{key:"render",value:function(){function D(){var j=this,W=this.getOrientation(this.props.position),B=y.default.createElement("div",null,y.default.createElement(C.default,{ref:function(){function F(N){j.tilesetFinder=N}return F}(),datatype:this.props.datatype,onDoubleClick:this.handleTilesetPickerDoubleClick.bind(this),onTracksChosen:function(){function F(N){return j.props.onTracksChosen(N,j.props.position)}return F}(),orientation:W,selectedTilesetChanged:this.selectedTilesetsChanged.bind(this),trackSourceServers:this.props.trackSourceServers}));return y.default.createElement(_.default,{maxHeight:!0,okayTitle:"Submit",onCancel:this.props.onCancel,onOkay:this.handleSubmitBound,title:"Add Track"},B,y.default.createElement(P.default,{ref:function(){function F(N){j.plotTypeChooser=N}return F}(),allTracksSameDatatype:this.state.allTracksSameDatatype,datatypes:this.state.selectedTilesets.map(function(F){return F.filetype==="cooler"?[F.datatype,"chromsizes"]:[F.datatype]}),onPlotTypeSelected:this.handlePlotTypeSelected.bind(this),orientation:W,position:this.props.position}))}return D}()}]),L}(y.default.Component);M.defaultProps={position:"top"},M.propTypes={datatype:T.default.string.isRequired,host:T.default.string.isRequired,onCancel:T.default.func.isRequired,onTracksChosen:T.default.func.isRequired,position:T.default.string,trackSourceServers:T.default.array.isRequired},r.default=M},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(35),a=X(n),l=t(17),e=X(l),o=t(25),s=X(o),u=t(38),c=X(u),m=t(18),p=X(m),h=t(44),v=X(h),x=t(5),y=X(x),k=t(3),T=X(k),E=t(4),_=X(E),A=t(6),C=X(A),S=t(7),P=X(S),O=t(1),R=X(O),I=t(2),M=X(I),H=t(26),L=X(H),D=t(657),j=X(D),W=t(24);t(658);var B=t(69),F=X(B),N=t(11);function X(V){return V&&V.__esModule?V:{default:V}}var G=function(V){(0,P.default)(z,V);function z(U){(0,T.default)(this,z);var Z=(0,C.default)(this,(z.__proto__||(0,y.default)(z)).call(this,U));Z.localTracks=N.TRACKS_INFO.filter(function(ft){return ft.local&&!ft.hidden}).map(function(ft){var tt=(0,v.default)({},ft);return tt.datatype=ft.datatype[0],tt}),Z.augmentedTracksInfo=N.TRACKS_INFO,window.higlassTracksByType&&(0,p.default)(window.higlassTracksByType).forEach(function(ft){Z.augmentedTracksInfo.push(window.higlassTracksByType[ft].config)}),U.datatype?Z.localTracks=Z.localTracks.filter(function(ft){return ft.datatype[0]===U.datatype}):Z.localTracks=Z.localTracks.filter(function(ft){return ft.orientation===Z.props.orientation}),Z.localTracks.forEach(function(ft){ft.uuid=L.default.nice()});var st=Z.prepareNewEntries("",Z.localTracks,{}),Y=(0,p.default)(st),rt=Y.length?[Y[0]]:null;return Z.mounted=!1,Z.state={selectedUuid:rt,options:st,filter:"",checked:[],expanded:[]},Z.requestTilesetLists(),Z}return(0,_.default)(z,[{key:"componentDidMount",value:function(){function U(){this.mounted=!0,this.requestTilesetLists(),this.searchBox.focus()}return U}()},{key:"componentWillUnmount",value:function(){function U(){this.mounted=!1}return U}()},{key:"prepareNewEntries",value:function(){function U(Z,st,Y){var rt=this,ft=Y,tt=st.map(function(K){var Q=(0,v.default)({},K,{server:Z,tilesetUid:K.uuid,serverUidKey:rt.serverUidKey(Z,K.uuid),datatype:K.datatype,name:K.name,uid:L.default.nice()});return Q});return tt.forEach(function(K){ft[K.serverUidKey]=K}),ft}return U}()},{key:"serverUidKey",value:function(){function U(Z,st){return String(Z)+"/"+String(st)}return U}()},{key:"requestTilesetLists",value:function(){function U(){var Z=this,st=null;if(this.props.datatype)st="dt="+String(this.props.datatype);else{var Y,rt=new c.default((Y=[]).concat.apply(Y,(0,s.default)(this.augmentedTracksInfo.filter(function(ft){return ft.datatype}).filter(function(ft){return ft.orientation===Z.props.orientation||Z.props.orientation==="1d-vertical"&&ft.orientation==="1d-horizontal"}).map(function(ft){return ft.datatype}))));st=[].concat((0,s.default)(rt)).map(function(ft){return"dt="+String(ft)}).join("&")}if(!this.props.trackSourceServers){console.warn("No track source servers specified in the viewconf");return}this.props.trackSourceServers.forEach(function(ft){W.tileProxy.json(String(ft)+"/tilesets/?limit=10000&"+String(st),function(tt,K){if(tt)console.error("ERROR:",tt);else{var Q=Z.prepareNewEntries(ft,K.results,Z.state.options),ct=(0,p.default)(Q),nt=Z.state.selectedUuid;if(!nt){nt=ct.length?[ct[0]]:null;var ot=Z.state.options[nt[0]];Z.props.selectedTilesetChanged([ot])}Z.mounted&&Z.setState({selectedUuid:nt,options:Q})}},Z.props.pubSub)})}return U}()},{key:"handleOptionDoubleClick",value:function(){function U(Z){var st=this.state.options[Z.target.value];this.props.onDoubleClick(st)}return U}()},{key:"handleSelectedOptions",value:function(){function U(Z){for(var st=[],Y=[],rt=0;rt<Z.length;rt++)st.push(Z[rt]),Y.push(this.state.options[Z[rt]]);this.props.selectedTilesetChanged(Y),this.setState({selectedUuid:st})}return U}()},{key:"handleSelect",value:function(){function U(){for(var Z=this.multiSelect.selectedOptions,st=[],Y=0;Y<Z.length;Y++){var rt=Z[Y];st.push(rt.value)}this.handleSelectedOptions(st)}return U}()},{key:"handleSearchChange",value:function(){function U(){var Z=this.searchBox;this.setState({filter:Z.value})}return U}()},{key:"partitionByGroup",value:function(){function U(Z,st){var Y={"":{name:"",value:"",children:[]}},rt=!0,ft=!1,tt=void 0;try{for(var K=(0,e.default)((0,p.default)(Z)),Q;!(rt=(Q=K.next()).done);rt=!0){var ct=Q.value,nt=Z[ct];if(nt.name.toLowerCase().includes(st))if("project_name"in nt){var ot=nt.project_name;ot in Y||(Y[ot]={value:ot,label:ot,children:[]}),Y[ot].children.push({label:nt.name,value:ct})}else Y[""].children.push({label:nt.name,value:ct})}}catch(lt){ft=!0,tt=lt}finally{try{!rt&&K.return&&K.return()}finally{if(ft)throw tt}}var yt=Y[""].children,pt=!0,dt=!1,mt=void 0;try{for(var q=(0,e.default)((0,p.default)(Y)),$;!(pt=($=q.next()).done);pt=!0){var J=$.value;J!==""&&(Y[J].children.sort(function(lt,ut){return lt.label.toLowerCase().localeCompare(ut.label.toLowerCase(),"en")}),yt.push(Y[J]))}}catch(lt){dt=!0,mt=lt}finally{try{!pt&&q.return&&q.return()}finally{if(dt)throw mt}}return yt.sort(function(lt,ut){return lt.label.toLowerCase().localeCompare(ut.label.toLowerCase(),"en")}),yt}return U}()},{key:"handleChecked",value:function(){function U(Z){this.handleSelectedOptions(Z),this.setState({checked:Z})}return U}()},{key:"handleExpanded",value:function(){function U(Z){this.setState({expanded:Z})}return U}()},{key:"render",value:function(){function U(){var Z=this,st=[];for(var Y in this.state.options)st.push(this.state.options[Y]);var rt=this.partitionByGroup(this.state.options,this.state.filter),ft={width:15,height:15,top:2,right:2,position:"relative"},tt=JSON.parse((0,a.default)(ft));tt.opacity=.5;var K=R.default.createElement("form",{onSubmit:function(){function Q(ct){ct.preventDefault()}return Q}()},R.default.createElement("div",{className:"tileset-finder-search-bar"},R.default.createElement("span",{className:"tileset-finder-label"},"Select tileset:"),R.default.createElement("input",{ref:function(){function Q(ct){Z.searchBox=ct}return Q}(),className:"tileset-finder-search-box",onChange:this.handleSearchChange.bind(this),placeholder:"Search Term",type:"text"})),R.default.createElement("div",{className:"tileset-finder-checkbox-tree TilesetFinder_tileset-finder-checkbox-tree-2MsEs"},R.default.createElement(j.default,{checked:this.state.checked,expanded:this.state.expanded,icons:{uncheck:R.default.createElement("svg",{style:ft},R.default.createElement("use",{xlinkHref:"#square_o"})),check:R.default.createElement("svg",{style:ft},R.default.createElement("use",{xlinkHref:"#check_square_o"})),halfCheck:R.default.createElement("svg",{style:tt},R.default.createElement("use",{xlinkHref:"#check_square_o"})),leaf:R.default.createElement("svg",{style:ft},R.default.createElement("use",{xlinkHref:"#file_o"})),expandClose:R.default.createElement("svg",{style:ft},R.default.createElement("use",{xlinkHref:"#chevron_right"})),expandOpen:R.default.createElement("svg",{style:ft},R.default.createElement("use",{xlinkHref:"#chevron_down"})),parentClose:R.default.createElement("svg",{style:ft},R.default.createElement("use",{xlinkHref:"#folder_o"})),parentOpen:R.default.createElement("svg",{style:ft},R.default.createElement("use",{xlinkHref:"#folder_open_o"}))},nodes:rt,onCheck:this.handleChecked.bind(this),onExpand:this.handleExpanded.bind(this)})));return R.default.createElement("div",null,K)}return U}()}]),z}(R.default.Component);G.propTypes={datatype:M.default.string,orientation:M.default.string,onDoubleClick:M.default.func,pubSub:M.default.object.isRequired,selectedTilesetChanged:M.default.func,trackSourceServers:M.default.array},r.default=(0,F.default)(G)},function(f,r,t){/*! react-checkbox-tree - v1.5.1 | 2019 */(function(n,a){f.exports=a(t(1))})(window,function(n){return function(a){var l={};function e(o){if(l[o])return l[o].exports;var s=l[o]={i:o,l:!1,exports:{}};return a[o].call(s.exports,s,s.exports,e),s.l=!0,s.exports}return e.m=a,e.c=l,e.d=function(o,s,u){e.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:u})},e.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},e.t=function(o,s){if(1&s&&(o=e(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var u=Object.create(null);if(e.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var c in o)e.d(u,c,(function(m){return o[m]}).bind(null,c));return u},e.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return e.d(s,"a",s),s},e.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},e.p="",e(e.s=27)}([function(a,l,e){a.exports=e(96)()},function(a,l){a.exports=n},function(a,l,e){var o=e(16),s=typeof self=="object"&&self&&self.Object===Object&&self,u=o||s||Function("return this")();a.exports=u},function(a,l,e){var o=e(41),s=e(47);a.exports=function(u,c){var m=s(u,c);return o(m)?m:void 0}},function(a,l,e){var o=e(31),s=e(32),u=e(33),c=e(34),m=e(35);function p(h){var v=-1,x=h==null?0:h.length;for(this.clear();++v<x;){var y=h[v];this.set(y[0],y[1])}}p.prototype.clear=o,p.prototype.delete=s,p.prototype.get=u,p.prototype.has=c,p.prototype.set=m,a.exports=p},function(a,l,e){var o=e(14);a.exports=function(s,u){for(var c=s.length;c--;)if(o(s[c][0],u))return c;return-1}},function(a,l,e){var o=e(12),s=e(43),u=e(44),c="[object Null]",m="[object Undefined]",p=o?o.toStringTag:void 0;a.exports=function(h){return h==null?h===void 0?m:c:p&&p in Object(h)?s(h):u(h)}},function(a,l,e){var o=e(3)(Object,"create");a.exports=o},function(a,l,e){var o=e(56);a.exports=function(s,u){var c=s.__data__;return o(u)?c[typeof u=="string"?"string":"hash"]:c.map}},function(a,l){a.exports=function(e){return e!=null&&typeof e=="object"}},function(a,l,e){var o;/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*//*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var s={}.hasOwnProperty;function u(){for(var c=[],m=0;m<arguments.length;m++){var p=arguments[m];if(p){var h=typeof p;if(h==="string"||h==="number")c.push(p);else if(Array.isArray(p)&&p.length){var v=u.apply(null,p);v&&c.push(v)}else if(h==="object")for(var x in p)s.call(p,x)&&p[x]&&c.push(x)}}return c.join(" ")}a.exports?(u.default=u,a.exports=u):(o=(function(){return u}).apply(l,[]))===void 0||(a.exports=o)})()},function(a,l,e){var o=e(3)(e(2),"Map");a.exports=o},function(a,l,e){var o=e(2).Symbol;a.exports=o},function(a,l){var e=Array.isArray;a.exports=e},function(a,l){a.exports=function(e,o){return e===o||e!=e&&o!=o}},function(a,l,e){var o=e(6),s=e(17),u="[object AsyncFunction]",c="[object Function]",m="[object GeneratorFunction]",p="[object Proxy]";a.exports=function(h){if(!s(h))return!1;var v=o(h);return v==c||v==m||v==u||v==p}},function(a,l,e){(function(o){var s=typeof o=="object"&&o&&o.Object===Object&&o;a.exports=s}).call(this,e(42))},function(a,l){a.exports=function(e){var o=typeof e;return e!=null&&(o=="object"||o=="function")}},function(a,l){var e=Function.prototype.toString;a.exports=function(o){if(o!=null){try{return e.call(o)}catch{}try{return o+""}catch{}}return""}},function(a,l,e){var o=e(48),s=e(55),u=e(57),c=e(58),m=e(59);function p(h){var v=-1,x=h==null?0:h.length;for(this.clear();++v<x;){var y=h[v];this.set(y[0],y[1])}}p.prototype.clear=o,p.prototype.delete=s,p.prototype.get=u,p.prototype.has=c,p.prototype.set=m,a.exports=p},function(a,l,e){var o=e(60),s=e(63),u=e(64),c=1,m=2;a.exports=function(p,h,v,x,y,k){var T=v&c,E=p.length,_=h.length;if(E!=_&&!(T&&_>E))return!1;var A=k.get(p);if(A&&k.get(h))return A==h;var C=-1,S=!0,P=v&m?new o:void 0;for(k.set(p,h),k.set(h,p);++C<E;){var O=p[C],R=h[C];if(x)var I=T?x(R,O,C,h,p,k):x(O,R,C,p,h,k);if(I!==void 0){if(I)continue;S=!1;break}if(P){if(!s(h,function(M,H){if(!u(P,H)&&(O===M||y(O,M,v,x,k)))return P.push(H)})){S=!1;break}}else if(O!==R&&!y(O,R,v,x,k)){S=!1;break}}return k.delete(p),k.delete(h),S}},function(a,l,e){(function(o){var s=e(2),u=e(81),c=l&&!l.nodeType&&l,m=c&&typeof o=="object"&&o&&!o.nodeType&&o,p=m&&m.exports===c?s.Buffer:void 0,h=(p?p.isBuffer:void 0)||u;o.exports=h}).call(this,e(22)(a))},function(a,l){a.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(a,l,e){var o=e(83),s=e(84),u=e(85),c=u&&u.isTypedArray,m=c?s(c):o;a.exports=m},function(a,l){var e=9007199254740991;a.exports=function(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=e}},function(a,l,e){var o=e(28);a.exports=function(s,u){return o(s,u)}},function(a,l,e){var o=self.crypto||self.msCrypto;a.exports=function(s){s=s||21;for(var u="",c=o.getRandomValues(new Uint8Array(s));0<s--;)u+="Uint8ArdomValuesObj012345679BCDEFGHIJKLMNPQRSTWXYZ_cfghkpqvwxyz-"[63&c[s]];return u}},function(a,l,e){a.exports=e(98).default},function(a,l,e){var o=e(29),s=e(9);a.exports=function u(c,m,p,h,v){return c===m||(c==null||m==null||!s(c)&&!s(m)?c!=c&&m!=m:o(c,m,p,h,u,v))}},function(a,l,e){var o=e(30),s=e(20),u=e(65),c=e(69),m=e(91),p=e(13),h=e(21),v=e(23),x=1,y="[object Arguments]",k="[object Array]",T="[object Object]",E=Object.prototype.hasOwnProperty;a.exports=function(_,A,C,S,P,O){var R=p(_),I=p(A),M=R?k:m(_),H=I?k:m(A),L=(M=M==y?T:M)==T,D=(H=H==y?T:H)==T,j=M==H;if(j&&h(_)){if(!h(A))return!1;R=!0,L=!1}if(j&&!L)return O||(O=new o),R||v(_)?s(_,A,C,S,P,O):u(_,A,M,C,S,P,O);if(!(C&x)){var W=L&&E.call(_,"__wrapped__"),B=D&&E.call(A,"__wrapped__");if(W||B){var F=W?_.value():_,N=B?A.value():A;return O||(O=new o),P(F,N,C,S,O)}}return!!j&&(O||(O=new o),c(_,A,C,S,P,O))}},function(a,l,e){var o=e(4),s=e(36),u=e(37),c=e(38),m=e(39),p=e(40);function h(v){var x=this.__data__=new o(v);this.size=x.size}h.prototype.clear=s,h.prototype.delete=u,h.prototype.get=c,h.prototype.has=m,h.prototype.set=p,a.exports=h},function(a,l){a.exports=function(){this.__data__=[],this.size=0}},function(a,l,e){var o=e(5),s=Array.prototype.splice;a.exports=function(u){var c=this.__data__,m=o(c,u);return!(m<0||(m==c.length-1?c.pop():s.call(c,m,1),--this.size,0))}},function(a,l,e){var o=e(5);a.exports=function(s){var u=this.__data__,c=o(u,s);return c<0?void 0:u[c][1]}},function(a,l,e){var o=e(5);a.exports=function(s){return o(this.__data__,s)>-1}},function(a,l,e){var o=e(5);a.exports=function(s,u){var c=this.__data__,m=o(c,s);return m<0?(++this.size,c.push([s,u])):c[m][1]=u,this}},function(a,l,e){var o=e(4);a.exports=function(){this.__data__=new o,this.size=0}},function(a,l){a.exports=function(e){var o=this.__data__,s=o.delete(e);return this.size=o.size,s}},function(a,l){a.exports=function(e){return this.__data__.get(e)}},function(a,l){a.exports=function(e){return this.__data__.has(e)}},function(a,l,e){var o=e(4),s=e(11),u=e(19),c=200;a.exports=function(m,p){var h=this.__data__;if(h instanceof o){var v=h.__data__;if(!s||v.length<c-1)return v.push([m,p]),this.size=++h.size,this;h=this.__data__=new u(v)}return h.set(m,p),this.size=h.size,this}},function(a,l,e){var o=e(15),s=e(45),u=e(17),c=e(18),m=/^\[object .+?Constructor\]$/,p=Function.prototype,h=Object.prototype,v=p.toString,x=h.hasOwnProperty,y=RegExp("^"+v.call(x).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");a.exports=function(k){return!(!u(k)||s(k))&&(o(k)?y:m).test(c(k))}},function(a,l){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch{typeof window=="object"&&(e=window)}a.exports=e},function(a,l,e){var o=e(12),s=Object.prototype,u=s.hasOwnProperty,c=s.toString,m=o?o.toStringTag:void 0;a.exports=function(p){var h=u.call(p,m),v=p[m];try{p[m]=void 0;var x=!0}catch{}var y=c.call(p);return x&&(h?p[m]=v:delete p[m]),y}},function(a,l){var e=Object.prototype.toString;a.exports=function(o){return e.call(o)}},function(a,l,e){var o,s=e(46),u=(o=/[^.]+$/.exec(s&&s.keys&&s.keys.IE_PROTO||""))?"Symbol(src)_1."+o:"";a.exports=function(c){return!!u&&u in c}},function(a,l,e){var o=e(2)["__core-js_shared__"];a.exports=o},function(a,l){a.exports=function(e,o){return e==null?void 0:e[o]}},function(a,l,e){var o=e(49),s=e(4),u=e(11);a.exports=function(){this.size=0,this.__data__={hash:new o,map:new(u||s),string:new o}}},function(a,l,e){var o=e(50),s=e(51),u=e(52),c=e(53),m=e(54);function p(h){var v=-1,x=h==null?0:h.length;for(this.clear();++v<x;){var y=h[v];this.set(y[0],y[1])}}p.prototype.clear=o,p.prototype.delete=s,p.prototype.get=u,p.prototype.has=c,p.prototype.set=m,a.exports=p},function(a,l,e){var o=e(7);a.exports=function(){this.__data__=o?o(null):{},this.size=0}},function(a,l){a.exports=function(e){var o=this.has(e)&&delete this.__data__[e];return this.size-=o?1:0,o}},function(a,l,e){var o=e(7),s="__lodash_hash_undefined__",u=Object.prototype.hasOwnProperty;a.exports=function(c){var m=this.__data__;if(o){var p=m[c];return p===s?void 0:p}return u.call(m,c)?m[c]:void 0}},function(a,l,e){var o=e(7),s=Object.prototype.hasOwnProperty;a.exports=function(u){var c=this.__data__;return o?c[u]!==void 0:s.call(c,u)}},function(a,l,e){var o=e(7),s="__lodash_hash_undefined__";a.exports=function(u,c){var m=this.__data__;return this.size+=this.has(u)?0:1,m[u]=o&&c===void 0?s:c,this}},function(a,l,e){var o=e(8);a.exports=function(s){var u=o(this,s).delete(s);return this.size-=u?1:0,u}},function(a,l){a.exports=function(e){var o=typeof e;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?e!=="__proto__":e===null}},function(a,l,e){var o=e(8);a.exports=function(s){return o(this,s).get(s)}},function(a,l,e){var o=e(8);a.exports=function(s){return o(this,s).has(s)}},function(a,l,e){var o=e(8);a.exports=function(s,u){var c=o(this,s),m=c.size;return c.set(s,u),this.size+=c.size==m?0:1,this}},function(a,l,e){var o=e(19),s=e(61),u=e(62);function c(m){var p=-1,h=m==null?0:m.length;for(this.__data__=new o;++p<h;)this.add(m[p])}c.prototype.add=c.prototype.push=s,c.prototype.has=u,a.exports=c},function(a,l){var e="__lodash_hash_undefined__";a.exports=function(o){return this.__data__.set(o,e),this}},function(a,l){a.exports=function(e){return this.__data__.has(e)}},function(a,l){a.exports=function(e,o){for(var s=-1,u=e==null?0:e.length;++s<u;)if(o(e[s],s,e))return!0;return!1}},function(a,l){a.exports=function(e,o){return e.has(o)}},function(a,l,e){var o=e(12),s=e(66),u=e(14),c=e(20),m=e(67),p=e(68),h=1,v=2,x="[object Boolean]",y="[object Date]",k="[object Error]",T="[object Map]",E="[object Number]",_="[object RegExp]",A="[object Set]",C="[object String]",S="[object Symbol]",P="[object ArrayBuffer]",O="[object DataView]",R=o?o.prototype:void 0,I=R?R.valueOf:void 0;a.exports=function(M,H,L,D,j,W,B){switch(L){case O:if(M.byteLength!=H.byteLength||M.byteOffset!=H.byteOffset)return!1;M=M.buffer,H=H.buffer;case P:return!(M.byteLength!=H.byteLength||!W(new s(M),new s(H)));case x:case y:case E:return u(+M,+H);case k:return M.name==H.name&&M.message==H.message;case _:case C:return M==H+"";case T:var F=m;case A:var N=D&h;if(F||(F=p),M.size!=H.size&&!N)return!1;var X=B.get(M);if(X)return X==H;D|=v,B.set(M,H);var G=c(F(M),F(H),D,j,W,B);return B.delete(M),G;case S:if(I)return I.call(M)==I.call(H)}return!1}},function(a,l,e){var o=e(2).Uint8Array;a.exports=o},function(a,l){a.exports=function(e){var o=-1,s=Array(e.size);return e.forEach(function(u,c){s[++o]=[c,u]}),s}},function(a,l){a.exports=function(e){var o=-1,s=Array(e.size);return e.forEach(function(u){s[++o]=u}),s}},function(a,l,e){var o=e(70),s=1,u=Object.prototype.hasOwnProperty;a.exports=function(c,m,p,h,v,x){var y=p&s,k=o(c),T=k.length;if(T!=o(m).length&&!y)return!1;for(var E=T;E--;){var _=k[E];if(!(y?_ in m:u.call(m,_)))return!1}var A=x.get(c);if(A&&x.get(m))return A==m;var C=!0;x.set(c,m),x.set(m,c);for(var S=y;++E<T;){var P=c[_=k[E]],O=m[_];if(h)var R=y?h(O,P,_,m,c,x):h(P,O,_,c,m,x);if(!(R===void 0?P===O||v(P,O,p,h,x):R)){C=!1;break}S||(S=_=="constructor")}if(C&&!S){var I=c.constructor,M=m.constructor;I!=M&&"constructor"in c&&"constructor"in m&&!(typeof I=="function"&&I instanceof I&&typeof M=="function"&&M instanceof M)&&(C=!1)}return x.delete(c),x.delete(m),C}},function(a,l,e){var o=e(71),s=e(73),u=e(76);a.exports=function(c){return o(c,u,s)}},function(a,l,e){var o=e(72),s=e(13);a.exports=function(u,c,m){var p=c(u);return s(u)?p:o(p,m(u))}},function(a,l){a.exports=function(e,o){for(var s=-1,u=o.length,c=e.length;++s<u;)e[c+s]=o[s];return e}},function(a,l,e){var o=e(74),s=e(75),u=Object.prototype.propertyIsEnumerable,c=Object.getOwnPropertySymbols,m=c?function(p){return p==null?[]:(p=Object(p),o(c(p),function(h){return u.call(p,h)}))}:s;a.exports=m},function(a,l){a.exports=function(e,o){for(var s=-1,u=e==null?0:e.length,c=0,m=[];++s<u;){var p=e[s];o(p,s,e)&&(m[c++]=p)}return m}},function(a,l){a.exports=function(){return[]}},function(a,l,e){var o=e(77),s=e(86),u=e(90);a.exports=function(c){return u(c)?o(c):s(c)}},function(a,l,e){var o=e(78),s=e(79),u=e(13),c=e(21),m=e(82),p=e(23),h=Object.prototype.hasOwnProperty;a.exports=function(v,x){var y=u(v),k=!y&&s(v),T=!y&&!k&&c(v),E=!y&&!k&&!T&&p(v),_=y||k||T||E,A=_?o(v.length,String):[],C=A.length;for(var S in v)!x&&!h.call(v,S)||_&&(S=="length"||T&&(S=="offset"||S=="parent")||E&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||m(S,C))||A.push(S);return A}},function(a,l){a.exports=function(e,o){for(var s=-1,u=Array(e);++s<e;)u[s]=o(s);return u}},function(a,l,e){var o=e(80),s=e(9),u=Object.prototype,c=u.hasOwnProperty,m=u.propertyIsEnumerable,p=o(function(){return arguments}())?o:function(h){return s(h)&&c.call(h,"callee")&&!m.call(h,"callee")};a.exports=p},function(a,l,e){var o=e(6),s=e(9),u="[object Arguments]";a.exports=function(c){return s(c)&&o(c)==u}},function(a,l){a.exports=function(){return!1}},function(a,l){var e=9007199254740991,o=/^(?:0|[1-9]\d*)$/;a.exports=function(s,u){var c=typeof s;return!!(u=u??e)&&(c=="number"||c!="symbol"&&o.test(s))&&s>-1&&s%1==0&&s<u}},function(a,l,e){var o=e(6),s=e(24),u=e(9),c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c["[object Arguments]"]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c["[object Function]"]=c["[object Map]"]=c["[object Number]"]=c["[object Object]"]=c["[object RegExp]"]=c["[object Set]"]=c["[object String]"]=c["[object WeakMap]"]=!1,a.exports=function(m){return u(m)&&s(m.length)&&!!c[o(m)]}},function(a,l){a.exports=function(e){return function(o){return e(o)}}},function(a,l,e){(function(o){var s=e(16),u=l&&!l.nodeType&&l,c=u&&typeof o=="object"&&o&&!o.nodeType&&o,m=c&&c.exports===u&&s.process,p=function(){try{var h=c&&c.require&&c.require("util").types;return h||m&&m.binding&&m.binding("util")}catch{}}();o.exports=p}).call(this,e(22)(a))},function(a,l,e){var o=e(87),s=e(88),u=Object.prototype.hasOwnProperty;a.exports=function(c){if(!o(c))return s(c);var m=[];for(var p in Object(c))u.call(c,p)&&p!="constructor"&&m.push(p);return m}},function(a,l){var e=Object.prototype;a.exports=function(o){var s=o&&o.constructor;return o===(typeof s=="function"&&s.prototype||e)}},function(a,l,e){var o=e(89)(Object.keys,Object);a.exports=o},function(a,l){a.exports=function(e,o){return function(s){return e(o(s))}}},function(a,l,e){var o=e(15),s=e(24);a.exports=function(u){return u!=null&&s(u.length)&&!o(u)}},function(a,l,e){var o=e(92),s=e(11),u=e(93),c=e(94),m=e(95),p=e(6),h=e(18),v=h(o),x=h(s),y=h(u),k=h(c),T=h(m),E=p;(o&&E(new o(new ArrayBuffer(1)))!="[object DataView]"||s&&E(new s)!="[object Map]"||u&&E(u.resolve())!="[object Promise]"||c&&E(new c)!="[object Set]"||m&&E(new m)!="[object WeakMap]")&&(E=function(_){var A=p(_),C=A=="[object Object]"?_.constructor:void 0,S=C?h(C):"";if(S)switch(S){case v:return"[object DataView]";case x:return"[object Map]";case y:return"[object Promise]";case k:return"[object Set]";case T:return"[object WeakMap]"}return A}),a.exports=E},function(a,l,e){var o=e(3)(e(2),"DataView");a.exports=o},function(a,l,e){var o=e(3)(e(2),"Promise");a.exports=o},function(a,l,e){var o=e(3)(e(2),"Set");a.exports=o},function(a,l,e){var o=e(3)(e(2),"WeakMap");a.exports=o},function(a,l,e){var o=e(97);function s(){}a.exports=function(){function u(p,h,v,x,y,k){if(k!==o){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}function c(){return u}u.isRequired=u;var m={array:u,bool:u,func:u,number:u,object:u,string:u,symbol:u,any:u,arrayOf:c,element:u,instanceOf:c,node:u,objectOf:c,oneOf:c,oneOfType:c,shape:c,exact:c};return m.checkPropTypes=s,m.PropTypes=m,m}},function(a,l,e){a.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(a,l,e){e.r(l);var o=e(10),s=e.n(o),u=e(25),c=e.n(u),m=e(26),p=e.n(m),h=e(0),v=e.n(h),x=e(1),y=e.n(x);function k(ut){return(k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ht){return typeof ht}:function(ht){return ht&&typeof Symbol=="function"&&ht.constructor===Symbol&&ht!==Symbol.prototype?"symbol":typeof ht})(ut)}function T(){return(T=Object.assign||function(ut){for(var ht=1;ht<arguments.length;ht++){var bt=arguments[ht];for(var kt in bt)Object.prototype.hasOwnProperty.call(bt,kt)&&(ut[kt]=bt[kt])}return ut}).apply(this,arguments)}function E(ut,ht){if(ut==null)return{};var bt,kt,vt=function(Rt,Vt){if(Rt==null)return{};var ee,Tt,_t={},zt=Object.keys(Rt);for(Tt=0;Tt<zt.length;Tt++)ee=zt[Tt],Vt.indexOf(ee)>=0||(_t[ee]=Rt[ee]);return _t}(ut,ht);if(Object.getOwnPropertySymbols){var Et=Object.getOwnPropertySymbols(ut);for(kt=0;kt<Et.length;kt++)bt=Et[kt],ht.indexOf(bt)>=0||Object.prototype.propertyIsEnumerable.call(ut,bt)&&(vt[bt]=ut[bt])}return vt}function _(ut,ht){for(var bt=0;bt<ht.length;bt++){var kt=ht[bt];kt.enumerable=kt.enumerable||!1,kt.configurable=!0,"value"in kt&&(kt.writable=!0),Object.defineProperty(ut,kt.key,kt)}}function A(ut,ht){return!ht||k(ht)!=="object"&&typeof ht!="function"?function(bt){if(bt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return bt}(ut):ht}function C(ut){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(ht){return ht.__proto__||Object.getPrototypeOf(ht)})(ut)}function S(ut,ht){return(S=Object.setPrototypeOf||function(bt,kt){return bt.__proto__=kt,bt})(ut,ht)}function P(ut,ht,bt){return ht in ut?Object.defineProperty(ut,ht,{value:bt,enumerable:!0,configurable:!0,writable:!0}):ut[ht]=bt,ut}var O=function(ut){function ht(){return function(vt,Et){if(!(vt instanceof Et))throw new TypeError("Cannot call a class as a function")}(this,ht),A(this,C(ht).apply(this,arguments))}var bt,kt;return function(vt,Et){if(typeof Et!="function"&&Et!==null)throw new TypeError("Super expression must either be null or a function");vt.prototype=Object.create(Et&&Et.prototype,{constructor:{value:vt,writable:!0,configurable:!0}}),Et&&S(vt,Et)}(ht,y.a.PureComponent),bt=ht,(kt=[{key:"render",value:function(){var vt=this.props,Et=vt.children,Rt=vt.title,Vt=E(vt,["children","title"]);return y.a.createElement("button",T({"aria-label":Rt,title:Rt,type:"button"},Vt),Et)}}])&&_(bt.prototype,kt),ht}();P(O,"propTypes",{children:v.a.node.isRequired,title:v.a.string}),P(O,"defaultProps",{title:null});var R=O;function I(ut,ht,bt){return ht in ut?Object.defineProperty(ut,ht,{value:bt,enumerable:!0,configurable:!0,writable:!0}):ut[ht]=bt,ut}function M(ut,ht){for(var bt=0;bt<ht.length;bt++){var kt=ht[bt];kt.enumerable=kt.enumerable||!1,kt.configurable=!0,"value"in kt&&(kt.writable=!0),Object.defineProperty(ut,kt.key,kt)}}var H=function(){function ut(kt){var vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(function(Et,Rt){if(!(Et instanceof Rt))throw new TypeError("Cannot call a class as a function")})(this,ut),this.props=kt,this.flatNodes=vt}var ht,bt;return ht=ut,(bt=[{key:"setProps",value:function(kt){this.props=kt}},{key:"clone",value:function(){var kt=this,vt={};return Object.keys(this.flatNodes).forEach(function(Et){var Rt=kt.flatNodes[Et];vt[Et]=function(Vt){for(var ee=1;ee<arguments.length;ee++){var Tt=arguments[ee]!=null?arguments[ee]:{},_t=Object.keys(Tt);typeof Object.getOwnPropertySymbols=="function"&&(_t=_t.concat(Object.getOwnPropertySymbols(Tt).filter(function(zt){return Object.getOwnPropertyDescriptor(Tt,zt).enumerable}))),_t.forEach(function(zt){I(Vt,zt,Tt[zt])})}return Vt}({},Rt)}),new ut(this.props,vt)}},{key:"getNode",value:function(kt){return this.flatNodes[kt]}},{key:"flattenNodes",value:function(kt){var vt=this,Et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(Array.isArray(kt)&&kt.length!==0){var Vt=this.props,ee=Vt.disabled,Tt=Vt.noCascade;kt.forEach(function(_t,zt){var oe=vt.nodeHasChildren(_t);vt.flatNodes[_t.value]={label:_t.label,value:_t.value,children:_t.children,parent:Et,isParent:oe,isLeaf:!oe,showCheckbox:_t.showCheckbox===void 0||_t.showCheckbox,disabled:vt.getDisabledState(_t,Et,ee,Tt),treeDepth:Rt,index:zt},vt.flattenNodes(_t.children,_t,Rt+1)})}}},{key:"nodeHasChildren",value:function(kt){return Array.isArray(kt.children)&&kt.children.length>0}},{key:"getDisabledState",value:function(kt,vt,Et,Rt){return!!Et||!(Rt||!vt.disabled)||!!kt.disabled}},{key:"deserializeLists",value:function(kt){var vt=this,Et=["checked","expanded"];Object.keys(this.flatNodes).forEach(function(Rt){Et.forEach(function(Vt){vt.flatNodes[Rt][Vt]=!1})}),Et.forEach(function(Rt){kt[Rt].forEach(function(Vt){vt.flatNodes[Vt]!==void 0&&(vt.flatNodes[Vt][Rt]=!0)})})}},{key:"serializeList",value:function(kt){var vt=this,Et=[];return Object.keys(this.flatNodes).forEach(function(Rt){vt.flatNodes[Rt][kt]&&Et.push(Rt)}),Et}},{key:"expandAllNodes",value:function(kt){var vt=this;return Object.keys(this.flatNodes).forEach(function(Et){vt.flatNodes[Et].isParent&&(vt.flatNodes[Et].expanded=kt)}),this}},{key:"toggleChecked",value:function(kt,vt,Et){var Rt=this,Vt=this.flatNodes[kt.value];if(Vt.isLeaf||Et){if(kt.disabled)return this;this.toggleNode(kt.value,"checked",vt)}else Vt.children.forEach(function(ee){Rt.toggleChecked(ee,vt,Et)});return this}},{key:"toggleNode",value:function(kt,vt,Et){return this.flatNodes[kt][vt]=Et,this}}])&&M(ht.prototype,bt),ut}();function L(ut){return(L=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ht){return typeof ht}:function(ht){return ht&&typeof Symbol=="function"&&ht.constructor===Symbol&&ht!==Symbol.prototype?"symbol":typeof ht})(ut)}function D(){return(D=Object.assign||function(ut){for(var ht=1;ht<arguments.length;ht++){var bt=arguments[ht];for(var kt in bt)Object.prototype.hasOwnProperty.call(bt,kt)&&(ut[kt]=bt[kt])}return ut}).apply(this,arguments)}function j(ut,ht){for(var bt=0;bt<ht.length;bt++){var kt=ht[bt];kt.enumerable=kt.enumerable||!1,kt.configurable=!0,"value"in kt&&(kt.writable=!0),Object.defineProperty(ut,kt.key,kt)}}function W(ut,ht){return!ht||L(ht)!=="object"&&typeof ht!="function"?function(bt){if(bt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return bt}(ut):ht}function B(ut){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(ht){return ht.__proto__||Object.getPrototypeOf(ht)})(ut)}function F(ut,ht){return(F=Object.setPrototypeOf||function(bt,kt){return bt.__proto__=kt,bt})(ut,ht)}function N(ut,ht,bt){return ht in ut?Object.defineProperty(ut,ht,{value:bt,enumerable:!0,configurable:!0,writable:!0}):ut[ht]=bt,ut}var X=function(ut){function ht(){return function(vt,Et){if(!(vt instanceof Et))throw new TypeError("Cannot call a class as a function")}(this,ht),W(this,B(ht).apply(this,arguments))}var bt,kt;return function(vt,Et){if(typeof Et!="function"&&Et!==null)throw new TypeError("Super expression must either be null or a function");vt.prototype=Object.create(Et&&Et.prototype,{constructor:{value:vt,writable:!0,configurable:!0}}),Et&&F(vt,Et)}(ht,y.a.PureComponent),bt=ht,(kt=[{key:"componentDidMount",value:function(){this.updateDeterminateProperty()}},{key:"componentDidUpdate",value:function(){this.updateDeterminateProperty()}},{key:"updateDeterminateProperty",value:function(){var vt=this.props.indeterminate;this.checkbox.indeterminate=vt}},{key:"render",value:function(){var vt=this,Et=function(Rt){for(var Vt=1;Vt<arguments.length;Vt++){var ee=arguments[Vt]!=null?arguments[Vt]:{},Tt=Object.keys(ee);typeof Object.getOwnPropertySymbols=="function"&&(Tt=Tt.concat(Object.getOwnPropertySymbols(ee).filter(function(_t){return Object.getOwnPropertyDescriptor(ee,_t).enumerable}))),Tt.forEach(function(_t){N(Rt,_t,ee[_t])})}return Rt}({},this.props);return delete Et.indeterminate,y.a.createElement("input",D({},Et,{ref:function(Rt){vt.checkbox=Rt},type:"checkbox"}))}}])&&j(bt.prototype,kt),ht}();N(X,"propTypes",{indeterminate:v.a.bool}),N(X,"defaultProps",{indeterminate:!1});var G=X,V=v.a.shape({check:v.a.node,uncheck:v.a.node,halfCheck:v.a.node,expandClose:v.a.node,expandOpen:v.a.node,expandAll:v.a.node,collapseAll:v.a.node,parentClose:v.a.node,parentOpen:v.a.node,leaf:v.a.node}),z=v.a.shape({collapseAll:v.a.string.isRequired,expandAll:v.a.string.isRequired,toggle:v.a.string.isRequired});function U(ut){return(U=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ht){return typeof ht}:function(ht){return ht&&typeof Symbol=="function"&&ht.constructor===Symbol&&ht!==Symbol.prototype?"symbol":typeof ht})(ut)}function Z(ut,ht){for(var bt=0;bt<ht.length;bt++){var kt=ht[bt];kt.enumerable=kt.enumerable||!1,kt.configurable=!0,"value"in kt&&(kt.writable=!0),Object.defineProperty(ut,kt.key,kt)}}function st(ut){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(ht){return ht.__proto__||Object.getPrototypeOf(ht)})(ut)}function Y(ut,ht){return(Y=Object.setPrototypeOf||function(bt,kt){return bt.__proto__=kt,bt})(ut,ht)}function rt(ut){if(ut===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ut}function ft(ut,ht,bt){return ht in ut?Object.defineProperty(ut,ht,{value:bt,enumerable:!0,configurable:!0,writable:!0}):ut[ht]=bt,ut}var tt=function(ut){function ht(vt){var Et,Rt,Vt;return function(ee,Tt){if(!(ee instanceof Tt))throw new TypeError("Cannot call a class as a function")}(this,ht),Rt=this,(Et=!(Vt=st(ht).call(this,vt))||U(Vt)!=="object"&&typeof Vt!="function"?rt(Rt):Vt).onCheck=Et.onCheck.bind(rt(rt(Et))),Et.onClick=Et.onClick.bind(rt(rt(Et))),Et.onExpand=Et.onExpand.bind(rt(rt(Et))),Et}var bt,kt;return function(vt,Et){if(typeof Et!="function"&&Et!==null)throw new TypeError("Super expression must either be null or a function");vt.prototype=Object.create(Et&&Et.prototype,{constructor:{value:vt,writable:!0,configurable:!0}}),Et&&Y(vt,Et)}(ht,y.a.Component),bt=ht,(kt=[{key:"onCheck",value:function(){var vt=this.props,Et=vt.value,Rt=vt.onCheck;Rt({value:Et,checked:this.getCheckState({toggle:!0})})}},{key:"onClick",value:function(){var vt=this.props,Et=vt.expandOnClick,Rt=vt.isParent,Vt=vt.value,ee=vt.onClick;Rt&&Et&&this.onExpand(),ee({value:Vt,checked:this.getCheckState({toggle:!1})})}},{key:"onExpand",value:function(){var vt=this.props,Et=vt.expanded,Rt=vt.value,Vt=vt.onExpand;Vt({value:Rt,expanded:!Et})}},{key:"getCheckState",value:function(vt){var Et=vt.toggle,Rt=this.props,Vt=Rt.checked,ee=Rt.optimisticToggle;return!(Vt!==0||!Et)||Vt===1&&!Et||Vt===2&&ee}},{key:"renderCollapseButton",value:function(){var vt=this.props,Et=vt.expandDisabled,Rt=vt.isLeaf,Vt=vt.lang;return Rt?y.a.createElement("span",{className:"rct-collapse"},y.a.createElement("span",{className:"rct-icon"})):y.a.createElement(R,{className:"rct-collapse rct-collapse-btn",disabled:Et,title:Vt.toggle,onClick:this.onExpand},this.renderCollapseIcon())}},{key:"renderCollapseIcon",value:function(){var vt=this.props,Et=vt.expanded,Rt=vt.icons,Vt=Rt.expandClose,ee=Rt.expandOpen;return Et?ee:Vt}},{key:"renderCheckboxIcon",value:function(){var vt=this.props,Et=vt.checked,Rt=vt.icons,Vt=Rt.uncheck,ee=Rt.check,Tt=Rt.halfCheck;return Et===0?Vt:Et===1?ee:Tt}},{key:"renderNodeIcon",value:function(){var vt=this.props,Et=vt.expanded,Rt=vt.icon,Vt=vt.icons,ee=Vt.leaf,Tt=Vt.parentClose,_t=Vt.parentOpen,zt=vt.isLeaf;return Rt!==null?Rt:zt?ee:Et?_t:Tt}},{key:"renderBareLabel",value:function(vt){var Et=this.props,Rt=Et.onClick,Vt=Et.title,ee=Rt!==null;return y.a.createElement("span",{className:"rct-bare-label",title:Vt},ee?y.a.createElement("span",{className:"rct-node-clickable",onClick:this.onClick,onKeyPress:this.onClick,role:"button",tabIndex:0},vt):vt)}},{key:"renderCheckboxLabel",value:function(vt){var Et=this.props,Rt=Et.checked,Vt=Et.disabled,ee=Et.title,Tt=Et.treeId,_t=Et.value,zt=Et.onClick!==null,oe="".concat(Tt,"-").concat(String(_t).split(" ").join("_")),$t=[y.a.createElement("label",{key:0,htmlFor:oe,title:ee},y.a.createElement(G,{checked:Rt===1,disabled:Vt,id:oe,indeterminate:Rt===2,onClick:this.onCheck,onChange:function(){}}),y.a.createElement("span",{className:"rct-checkbox"},this.renderCheckboxIcon()),zt?null:vt)];return zt&&$t.push(y.a.createElement("span",{key:1,className:"rct-node-clickable",onClick:this.onClick,onKeyPress:this.onClick,role:"link",tabIndex:0},vt)),$t}},{key:"renderLabel",value:function(){var vt=this.props,Et=vt.label,Rt=vt.showCheckbox,Vt=[vt.showNodeIcon?y.a.createElement("span",{key:0,className:"rct-node-icon"},this.renderNodeIcon()):null,y.a.createElement("span",{key:1,className:"rct-title"},Et)];return Rt?this.renderCheckboxLabel(Vt):this.renderBareLabel(Vt)}},{key:"renderChildren",value:function(){return this.props.expanded?this.props.children:null}},{key:"render",value:function(){var vt=this.props,Et=vt.className,Rt=vt.disabled,Vt=vt.expanded,ee=vt.isLeaf,Tt=s()({"rct-node":!0,"rct-node-leaf":ee,"rct-node-parent":!ee,"rct-node-expanded":!ee&&Vt,"rct-node-collapsed":!ee&&!Vt,"rct-disabled":Rt},Et);return y.a.createElement("li",{className:Tt},y.a.createElement("span",{className:"rct-text"},this.renderCollapseButton(),this.renderLabel()),this.renderChildren())}}])&&Z(bt.prototype,kt),ht}();ft(tt,"propTypes",{checked:v.a.number.isRequired,disabled:v.a.bool.isRequired,expandDisabled:v.a.bool.isRequired,expanded:v.a.bool.isRequired,icons:V.isRequired,isLeaf:v.a.bool.isRequired,isParent:v.a.bool.isRequired,label:v.a.node.isRequired,lang:z.isRequired,optimisticToggle:v.a.bool.isRequired,showNodeIcon:v.a.bool.isRequired,treeId:v.a.string.isRequired,value:v.a.oneOfType([v.a.string,v.a.number]).isRequired,onCheck:v.a.func.isRequired,onExpand:v.a.func.isRequired,children:v.a.node,className:v.a.string,expandOnClick:v.a.bool,icon:v.a.node,showCheckbox:v.a.bool,title:v.a.string,onClick:v.a.func}),ft(tt,"defaultProps",{children:null,className:null,expandOnClick:!1,icon:null,showCheckbox:!0,title:null,onClick:function(){}});var K=tt,Q=v.a.oneOfType([v.a.arrayOf(v.a.string),v.a.arrayOf(v.a.number)]);function ct(ut,ht,bt){return ht in ut?Object.defineProperty(ut,ht,{value:bt,enumerable:!0,configurable:!0,writable:!0}):ut[ht]=bt,ut}var nt={label:v.a.node.isRequired,value:v.a.oneOfType([v.a.string,v.a.number]).isRequired,disabled:v.a.bool,icon:v.a.node,showCheckbox:v.a.bool,title:v.a.string},ot=v.a.oneOfType([v.a.shape(nt),v.a.shape(function(ut){for(var ht=1;ht<arguments.length;ht++){var bt=arguments[ht]!=null?arguments[ht]:{},kt=Object.keys(bt);typeof Object.getOwnPropertySymbols=="function"&&(kt=kt.concat(Object.getOwnPropertySymbols(bt).filter(function(vt){return Object.getOwnPropertyDescriptor(bt,vt).enumerable}))),kt.forEach(function(vt){ct(ut,vt,bt[vt])})}return ut}({},nt,{children:v.a.arrayOf(nt).isRequired}))]);function yt(ut){return(yt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ht){return typeof ht}:function(ht){return ht&&typeof Symbol=="function"&&ht.constructor===Symbol&&ht!==Symbol.prototype?"symbol":typeof ht})(ut)}function pt(ut){for(var ht=1;ht<arguments.length;ht++){var bt=arguments[ht]!=null?arguments[ht]:{},kt=Object.keys(bt);typeof Object.getOwnPropertySymbols=="function"&&(kt=kt.concat(Object.getOwnPropertySymbols(bt).filter(function(vt){return Object.getOwnPropertyDescriptor(bt,vt).enumerable}))),kt.forEach(function(vt){J(ut,vt,bt[vt])})}return ut}function dt(ut,ht){for(var bt=0;bt<ht.length;bt++){var kt=ht[bt];kt.enumerable=kt.enumerable||!1,kt.configurable=!0,"value"in kt&&(kt.writable=!0),Object.defineProperty(ut,kt.key,kt)}}function mt(ut){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(ht){return ht.__proto__||Object.getPrototypeOf(ht)})(ut)}function q(ut,ht){return(q=Object.setPrototypeOf||function(bt,kt){return bt.__proto__=kt,bt})(ut,ht)}function $(ut){if(ut===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ut}function J(ut,ht,bt){return ht in ut?Object.defineProperty(ut,ht,{value:bt,enumerable:!0,configurable:!0,writable:!0}):ut[ht]=bt,ut}var lt=function(ut){function ht(Et){var Rt,Vt,ee;(function(_t,zt){if(!(_t instanceof zt))throw new TypeError("Cannot call a class as a function")})(this,ht),Vt=this,Rt=!(ee=mt(ht).call(this,Et))||yt(ee)!=="object"&&typeof ee!="function"?$(Vt):ee;var Tt=new H(Et);return Tt.flattenNodes(Et.nodes),Tt.deserializeLists({checked:Et.checked,expanded:Et.expanded}),Rt.state={id:Et.id||"rct-".concat(p()(7)),model:Tt,prevProps:Et},Rt.onCheck=Rt.onCheck.bind($($(Rt))),Rt.onExpand=Rt.onExpand.bind($($(Rt))),Rt.onNodeClick=Rt.onNodeClick.bind($($(Rt))),Rt.onExpandAll=Rt.onExpandAll.bind($($(Rt))),Rt.onCollapseAll=Rt.onCollapseAll.bind($($(Rt))),Rt}var bt,kt,vt;return function(Et,Rt){if(typeof Rt!="function"&&Rt!==null)throw new TypeError("Super expression must either be null or a function");Et.prototype=Object.create(Rt&&Rt.prototype,{constructor:{value:Et,writable:!0,configurable:!0}}),Rt&&q(Et,Rt)}(ht,y.a.Component),bt=ht,vt=[{key:"getDerivedStateFromProps",value:function(Et,Rt){var Vt=Rt.model,ee=Rt.prevProps,Tt=Et.disabled,_t=Et.id,zt=Et.nodes,oe=pt({},Rt,{prevProps:Et});return Vt.setProps(Et),c()(ee.nodes,zt)&&ee.disabled===Tt||Vt.flattenNodes(zt),_t!==null&&(oe=pt({},oe,{id:_t})),Vt.deserializeLists({checked:Et.checked,expanded:Et.expanded}),oe}}],(kt=[{key:"onCheck",value:function(Et){var Rt=this.props,Vt=Rt.noCascade,ee=Rt.onCheck,Tt=this.state.model.clone(),_t=Tt.getNode(Et.value);Tt.toggleChecked(Et,Et.checked,Vt),ee(Tt.serializeList("checked"),pt({},_t,Et))}},{key:"onExpand",value:function(Et){var Rt=this.props.onExpand,Vt=this.state.model.clone(),ee=Vt.getNode(Et.value);Vt.toggleNode(Et.value,"expanded",Et.expanded),Rt(Vt.serializeList("expanded"),pt({},ee,Et))}},{key:"onNodeClick",value:function(Et){(0,this.props.onClick)(pt({},this.state.model.getNode(Et.value),Et))}},{key:"onExpandAll",value:function(){this.expandAllNodes()}},{key:"onCollapseAll",value:function(){this.expandAllNodes(!1)}},{key:"expandAllNodes",value:function(){var Et=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];(0,this.props.onExpand)(this.state.model.clone().expandAllNodes(Et).serializeList("expanded"))}},{key:"determineShallowCheckState",value:function(Et,Rt){var Vt=this.state.model.getNode(Et.value);return Vt.isLeaf||Rt?Vt.checked?1:0:this.isEveryChildChecked(Et)?1:this.isSomeChildChecked(Et)?2:0}},{key:"isEveryChildChecked",value:function(Et){var Rt=this;return Et.children.every(function(Vt){return Rt.state.model.getNode(Vt.value).checkState===1})}},{key:"isSomeChildChecked",value:function(Et){var Rt=this;return Et.children.some(function(Vt){return Rt.state.model.getNode(Vt.value).checkState>0})}},{key:"renderTreeNodes",value:function(Et){var Rt=this,Vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ee=this.props,Tt=ee.expandDisabled,_t=ee.expandOnClick,zt=ee.icons,oe=ee.lang,$t=ee.noCascade,pe=ee.onClick,Nt=ee.onlyLeafCheckboxes,se=ee.optimisticToggle,Gt=ee.showNodeTitle,gt=ee.showNodeIcon,fe=this.state,Ct=fe.id,at=fe.model,St=ht.defaultProps.icons,jt=Et.map(function(Zt){var ue=Zt.value,ce=at.getNode(Zt.value),It=ce.isParent?Rt.renderTreeNodes(Zt.children,Zt):null;ce.checkState=Rt.determineShallowCheckState(Zt,$t);var Mt=Nt?ce.isLeaf:ce.showCheckbox;return!Vt.value||at.getNode(Vt.value).expanded?y.a.createElement(K,{key:ue,checked:ce.checkState,className:Zt.className,disabled:ce.disabled,expandDisabled:Tt,expandOnClick:_t,expanded:ce.expanded,icon:Zt.icon,icons:pt({},St,zt),label:Zt.label,lang:oe,optimisticToggle:se,isLeaf:ce.isLeaf,isParent:ce.isParent,showCheckbox:Mt,showNodeIcon:gt,title:Gt?Zt.title||Zt.label:Zt.title,treeId:Ct,value:Zt.value,onCheck:Rt.onCheck,onClick:pe&&Rt.onNodeClick,onExpand:Rt.onExpand},It):null});return y.a.createElement("ol",null,jt)}},{key:"renderExpandAll",value:function(){var Et=this.props,Rt=Et.icons,Vt=Rt.expandAll,ee=Rt.collapseAll,Tt=Et.lang;return Et.showExpandAll?y.a.createElement("div",{className:"rct-options"},y.a.createElement(R,{className:"rct-option rct-option-expand-all",title:Tt.expandAll,onClick:this.onExpandAll},Vt),y.a.createElement(R,{className:"rct-option rct-option-collapse-all",title:Tt.collapseAll,onClick:this.onCollapseAll},ee)):null}},{key:"renderHiddenInput",value:function(){var Et=this.props,Rt=Et.name,Vt=Et.nameAsArray;return Rt===void 0?null:Vt?this.renderArrayHiddenInput():this.renderJoinedHiddenInput()}},{key:"renderArrayHiddenInput",value:function(){var Et=this.props,Rt=Et.checked,Vt=Et.name;return Rt.map(function(ee){var Tt="".concat(Vt,"[]");return y.a.createElement("input",{key:ee,name:Tt,type:"hidden",value:ee})})}},{key:"renderJoinedHiddenInput",value:function(){var Et=this.props,Rt=Et.checked,Vt=Et.name,ee=Rt.join(",");return y.a.createElement("input",{name:Vt,type:"hidden",value:ee})}},{key:"render",value:function(){var Et=this.props,Rt=Et.disabled,Vt=Et.nodes,ee=Et.nativeCheckboxes,Tt=this.renderTreeNodes(Vt),_t=s()({"react-checkbox-tree":!0,"rct-disabled":Rt,"rct-native-display":ee});return y.a.createElement("div",{className:_t},this.renderExpandAll(),this.renderHiddenInput(),Tt)}}])&&dt(bt.prototype,kt),vt&&dt(bt,vt),ht}();J(lt,"propTypes",{nodes:v.a.arrayOf(ot).isRequired,checked:Q,disabled:v.a.bool,expandDisabled:v.a.bool,expandOnClick:v.a.bool,expanded:Q,icons:V,id:v.a.string,lang:z,name:v.a.string,nameAsArray:v.a.bool,nativeCheckboxes:v.a.bool,noCascade:v.a.bool,onlyLeafCheckboxes:v.a.bool,optimisticToggle:v.a.bool,showExpandAll:v.a.bool,showNodeIcon:v.a.bool,showNodeTitle:v.a.bool,onCheck:v.a.func,onClick:v.a.func,onExpand:v.a.func}),J(lt,"defaultProps",{checked:[],disabled:!1,expandDisabled:!1,expandOnClick:!1,expanded:[],icons:{check:y.a.createElement("span",{className:"rct-icon rct-icon-check"}),uncheck:y.a.createElement("span",{className:"rct-icon rct-icon-uncheck"}),halfCheck:y.a.createElement("span",{className:"rct-icon rct-icon-half-check"}),expandClose:y.a.createElement("span",{className:"rct-icon rct-icon-expand-close"}),expandOpen:y.a.createElement("span",{className:"rct-icon rct-icon-expand-open"}),expandAll:y.a.createElement("span",{className:"rct-icon rct-icon-expand-all"}),collapseAll:y.a.createElement("span",{className:"rct-icon rct-icon-collapse-all"}),parentClose:y.a.createElement("span",{className:"rct-icon rct-icon-parent-close"}),parentOpen:y.a.createElement("span",{className:"rct-icon rct-icon-parent-open"}),leaf:y.a.createElement("span",{className:"rct-icon rct-icon-leaf"})},id:null,lang:{collapseAll:"Collapse all",expandAll:"Expand all",toggle:"Toggle"},name:void 0,nameAsArray:!1,nativeCheckboxes:!1,noCascade:!1,onlyLeafCheckboxes:!1,optimisticToggle:!0,showExpandAll:!1,showNodeIcon:!0,showNodeTitle:!1,onCheck:function(){},onClick:null,onExpand:function(){}}),l.default=lt}])})},function(f,r,t){},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(5),a=E(n),l=t(3),e=E(l),o=t(4),s=E(o),u=t(6),c=E(u),m=t(7),p=E(m),h=t(2),v=E(h),x=t(1),y=E(x),k=t(11),T=t(10);t(660);function E(A){return A&&A.__esModule?A:{default:A}}var _=function(A){(0,p.default)(C,A);function C(S){(0,e.default)(this,C);var P=(0,c.default)(this,(C.__proto__||(0,a.default)(C)).call(this,S));return P.DATATYPE_TO_TRACK_TYPE=(0,k.DATATYPE_TO_TRACK_TYPE)(P.props.orientation),P.AVAILABLE_TRACK_TYPES=(0,k.AVAILABLE_TRACK_TYPES)(P.props.datatypes,P.props.orientation),P.state={selectedPlotType:P.AVAILABLE_TRACK_TYPES[0]},P}return(0,s.default)(C,[{key:"UNSAFE_componentWillReceiveProps",value:function(){function S(P){if(this.AVAILABLE_TRACK_TYPES=(0,k.AVAILABLE_TRACK_TYPES)(P.datatypes,this.props.orientation),!!this.AVAILABLE_TRACK_TYPES&&P.allTracksSameDatatype&&this.AVAILABLE_TRACK_TYPES.length>0&&!this.AVAILABLE_TRACK_TYPES.includes(this.state.selectedPlotType)){var O=(0,T.getDefaultTrackForDatatype)(P.datatypes[0][0],this.props.position,this.AVAILABLE_TRACK_TYPES);this.handlePlotTypeSelected(O)}}return S}()},{key:"handlePlotTypeSelected",value:function(){function S(P){this.setState({selectedPlotType:P}),this.props.onPlotTypeSelected(P.type)}return S}()},{key:"render",value:function(){function S(){var P=this,O="No plot types available for track",R={};return k.TRACKS_INFO.forEach(function(I){R[I.type]=I}),this.AVAILABLE_TRACK_TYPES&&(O=this.AVAILABLE_TRACK_TYPES.sort(function(I,M){return I.type<M.type}).map(function(I){var M=R[I.type].thumbnail,H=P.state.selectedPlotType.type===I.type?"plot-type-item plot-type-selected":"plot-type-item",L=R[I.type].thumbnail?y.default.createElement("div",{className:"track-thumbnail",dangerouslySetInnerHTML:{__html:M.outerHTML}}):y.default.createElement("div",{className:"track-thumbnail"},y.default.createElement("svg",{height:20,width:30}));return y.default.createElement("li",{key:I.type,className:H,onClick:function(){function D(j){P.setState({selectedPlotType:I}),P.props.onPlotTypeSelected(I.type)}return D}(),style:{listStyle:"none",paddingLeft:5,paddingBottom:0}},L,y.default.createElement("span",{style:{verticalAlign:"middle"}},I.type))})),y.default.createElement("div",null,O.length>0&&this.props.allTracksSameDatatype&&y.default.createElement("div",{className:"plot-type-container"},O),!this.props.allTracksSameDatatype&&y.default.createElement("div",{className:"plot-type-container-empty"},"Datasets with multiple datatypes chosen. They will be added with their default track types."))}return S}()}]),C}(y.default.Component);_.propTypes={allTracksSameDatatype:v.default.bool,datatypes:v.default.array,orientation:v.default.string,onPlotTypeSelected:v.default.func,position:v.default.string},r.default=_},function(f,r,t){},function(f,r,t){f.exports={"collapse-toggle-icon":"AddTrackDialog-module_collapse-toggle-icon-1Of5_",collapsed:"AddTrackDialog-module_collapsed-1ifB1","modal-title":"AddTrackDialog-module_modal-title-1Atka","modal-container":"AddTrackDialog-module_modal-container-14d_4",modal:"AddTrackDialog-module_modal-bZqLI","modal-backdrop":"AddTrackDialog-module_modal-backdrop-ZrVQg","modal-dialog":"AddTrackDialog-module_modal-dialog-3bKDk"}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(5),a=M(n),l=t(3),e=M(l),o=t(4),s=M(o),u=t(6),c=M(u),m=t(14),p=M(m),h=t(7),v=M(h),x=t(29),y=M(x),k=t(1),T=M(k),E=t(81),_=t(96),A=M(_),C=t(67),S=M(C),P=t(390),O=M(P),R=t(183),I=t(11);t(68);function M(D){return D&&D.__esModule?D:{default:D}}var H={"../styles/ContextMenu.module.scss":{"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-dark":"ContextMenu-module_context-menu-dark-2PO31","context-menu-icon":"ContextMenu-module_context-menu-icon-I4kiw","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},L=function(D){(0,v.default)(j,D);function j(W){(0,e.default)(this,j);var B=(0,c.default)(this,(j.__proto__||(0,a.default)(j)).call(this,W));return B.seriesRefs={},B.seriesListMenu=null,B}return(0,s.default)(j,[{key:"componentDidMount",value:function(){function W(){(0,p.default)(j.prototype.__proto__||(0,a.default)(j.prototype),"componentDidMount",this).call(this)}return W}()},{key:"render",value:function(){function W(){var B=this,F="context-menu";return this.props.theme===I.THEME_DARK&&(F+=" context-menu-dark"),T.default.createElement("div",{ref:function(){function N(X){B.div=X}return N}(),"data-menu-type":"ConfigTrackMenu",style:{left:this.state.left,top:this.state.top},className:(0,y.default)(F,H)},(0,R.getSeriesItems)(this.props.tracks,this.handleItemMouseEnter.bind(this),this.handleMouseLeave.bind(this),null),T.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),T.default.createElement(S.default,{contextMenu:this,onClick:function(){function N(){return B.props.onLockValueScale(B.props.tracks[0].uid)}return N}(),onMouseEnter:function(){function N(X){return B.handleOtherMouseEnter(X)}return N}()},"Lock Value Scale With"),T.default.createElement(S.default,{contextMenu:this,onClick:function(){function N(){return B.props.onUnlockValueScale(B.props.tracks[0].uid)}return N}(),onMouseEnter:function(){function N(X){return B.handleOtherMouseEnter(X)}return N}()},"Unlock Value Scale"),T.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),T.default.createElement(S.default,{contextMenu:this,onClick:function(){function N(){return B.props.onAddSeries(B.props.tracks[0].uid)}return N}(),onMouseEnter:function(){function N(X){return B.handleOtherMouseEnter(X)}return N}()},"Add Series"),T.default.createElement(S.default,{onClick:function(){function N(){return B.props.onCloseTrack(B.props.tracks[0].uid)}return N}()},"Close Track"),T.default.createElement(S.default,{onClick:function(){function N(){B.props.onReplaceTrack(B.props.tracks[0].uid,B.props.trackOrientation)}return N}()},"Replace Track"),this.getSubmenu())}return W}()}]),j}((0,E.mix)(A.default).with(O.default));r.default=L},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(37),a=L(n),l=t(18),e=L(l),o=t(17),s=L(o),u=t(5),c=L(u),m=t(3),p=L(m),h=t(4),v=L(h),x=t(6),y=L(x),k=t(7),T=L(k),E=t(29),_=L(E),A=t(1),C=L(A),S=t(96),P=L(S),O=t(67),R=L(O),I=t(391),M=L(I),H=t(11);t(68);function L(W){return W&&W.__esModule?W:{default:W}}var D={"../styles/ContextMenu.module.scss":{"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-dark":"ContextMenu-module_context-menu-dark-2PO31","context-menu-icon":"ContextMenu-module_context-menu-icon-I4kiw","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},j=function(W){(0,T.default)(B,W);function B(){return(0,p.default)(this,B),(0,y.default)(this,(B.__proto__||(0,c.default)(B)).apply(this,arguments))}return(0,v.default)(B,[{key:"getConfigureSeriesMenu",value:function(){function F(N,X,G){var V=this,z={},U=window.higlassTracksByType&&window.higlassTracksByType[G.type]&&window.higlassTracksByType[G.type].config&&window.higlassTracksByType[G.type].config.optionsInfo;if(U){var Z=!0,st=!1,Y=void 0;try{for(var rt=(0,s.default)((0,e.default)(U)),ft;!(Z=(ft=rt.next()).done);Z=!0){var tt=ft.value;H.OPTIONS_INFO[tt]=U[tt]}}catch(dt){st=!0,Y=dt}finally{try{!Z&&rt.return&&rt.return()}finally{if(st)throw Y}}}if(!H.TRACKS_INFO_BY_TYPE[G.type]||!H.TRACKS_INFO_BY_TYPE[G.type].availableOptions)return null;var K=function(){function dt(mt){if(mt in H.OPTIONS_INFO){if(z[mt]={name:H.OPTIONS_INFO[mt].name},H.OPTIONS_INFO[mt].generateOptions){var q=H.OPTIONS_INFO[mt].generateOptions(G);z[mt].children||(z[mt].children={});var $=function(){function Rt(Vt){var ee={name:Vt.name,value:Vt.value,handler:function(){function Tt(){G.options[mt]=Vt.value,V.props.onTrackOptionsChanged(G.uid,G.options),V.props.closeMenu()}return Tt}()};z[mt].children[Vt.value]=ee}return Rt}(),J=!0,lt=!1,ut=void 0;try{for(var ht=(0,s.default)(q),bt;!(J=(bt=ht.next()).done);J=!0){var kt=bt.value;$(kt)}}catch(Rt){lt=!0,ut=Rt}finally{try{!J&&ht.return&&ht.return()}finally{if(lt)throw ut}}}if(H.OPTIONS_INFO[mt].inlineOptions){var vt=function(){function Rt(Vt){var ee=H.OPTIONS_INFO[mt].inlineOptions[Vt];z[mt].children||(z[mt].children={});var Tt={name:ee.name,value:ee.value};ee.componentPickers&&ee.componentPickers[G.type]?Tt.handler=function(){V.props.onConfigureTrack(G,ee.componentPickers[G.type]),V.props.closeMenu()}:Tt.handler=function(){G.options[mt]=ee.value,V.props.onTrackOptionsChanged(G.uid,G.options),V.props.closeMenu()},z[mt].children[Vt]=Tt}return Rt}();for(var Et in H.OPTIONS_INFO[mt].inlineOptions)vt(Et)}else H.OPTIONS_INFO[mt].componentPickers&&H.OPTIONS_INFO[mt].componentPickers[G.type]&&(z[mt].handler=function(){V.props.onConfigureTrack(G,H.OPTIONS_INFO[mt].componentPickers[G.type]),V.props.closeMenu()})}}return dt}(),Q=!0,ct=!1,nt=void 0;try{for(var ot=(0,s.default)(H.TRACKS_INFO_BY_TYPE[G.type].availableOptions),yt;!(Q=(yt=ot.next()).done);Q=!0){var pt=yt.value;K(pt)}}catch(dt){ct=!0,nt=dt}finally{try{!Q&&ot.return&&ot.return()}finally{if(ct)throw nt}}return C.default.createElement(M.default,{key:"config-series-menu",closeMenu:this.props.closeMenu,menuItems:z,orientation:this.state.orientation,parentBbox:X,position:N,theme:this.props.theme})}return F}()},{key:"getTrackTypeItems",value:function(){function F(N,X,G){var V=this;window.higlassTracksByType&&(0,e.default)(window.higlassTracksByType).forEach(function(ft){H.TRACKS_INFO_BY_TYPE[ft]=window.higlassTracksByType[ft].config});var z=G.datatype,U=null;G.type in H.TRACKS_INFO_BY_TYPE&&(z||(z=H.TRACKS_INFO_BY_TYPE[G.type].datatype[0]),U=H.TRACKS_INFO_BY_TYPE[G.type].orientation);for(var Z=(0,a.default)(H.TRACKS_INFO_BY_TYPE).filter(function(ft){return ft.datatype}).filter(function(ft){return ft.orientation}).filter(function(ft){return ft.datatype.includes(z)}).filter(function(ft){return ft.orientation===U}).map(function(ft){return ft.type}),st={},Y=function(){function ft(tt){st[Z[tt]]={value:Z[tt],name:Z[tt],handler:function(){function K(){V.props.onChangeTrackType(G.uid,Z[tt])}return K}()}}return ft}(),rt=0;rt<Z.length;rt++)Y(rt);return C.default.createElement(M.default,{key:"track-type-items",closeMenu:this.props.closeMenu,menuItems:st,orientation:this.state.orientation,parentBbox:X,position:N,theme:this.props.theme})}return F}()},{key:"getSubmenu",value:function(){function F(){if(this.state.submenuShown){var N=this.state.submenuSourceBbox,X=this.state.orientation==="left"?{left:this.state.left,top:N.top}:{left:this.state.left+N.width+7,top:N.top},G=this.state.submenuShown,V=G.value;return G.option==="track-type"?this.getTrackTypeItems(X,N,V):this.getConfigureSeriesMenu(X,N,V)}return C.default.createElement("div",null)}return F}()},{key:"getDivideByMenuItem",value:function(){function F(){var N=this;if(this.props.series.data&&this.props.series.data.type==="divided"){var X={tilesetUid:this.props.series.data.children[0].tilesetUid,server:this.props.series.data.children[0].server};return C.default.createElement(R.default,{onClick:function(){function G(){return N.props.onChangeTrackData(N.props.series.uid,X)}return G}(),onMouseEnter:function(){function G(V){return N.handleOtherMouseEnter(V)}return G}(),className:"ContextMenu-module_context-menu-item-1HeVv"},C.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},"Remove divisor"))}return C.default.createElement(R.default,{onClick:function(){function G(){return N.props.onAddDivisor(N.props.series)}return G}(),onMouseEnter:function(){function G(V){return N.handleOtherMouseEnter(V)}return G}(),className:"ContextMenu-module_context-menu-item-1HeVv"},C.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},"Divide by"))}return F}()},{key:"componentWillUnmount",value:function(){function F(){}return F}()},{key:"render",value:function(){function F(){var N=this,X=null;H.TRACKS_INFO_BY_TYPE[this.props.series.type]&&H.TRACKS_INFO_BY_TYPE[this.props.series.type].exportable&&(X=C.default.createElement(R.default,{onClick:function(){function z(){return N.props.onExportData(N.props.hostTrack.uid,N.props.track.uid)}return z}(),onMouseEnter:function(){function z(U){return N.handleOtherMouseEnter(U)}return z}(),className:"ContextMenu-module_context-menu-item-1HeVv"},C.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},"Export Data")));var G=this.props.onAddSeries?C.default.createElement(R.default,{onClick:function(){function z(){N.props.onCloseTrack(N.props.series.uid),N.props.onAddSeries(N.props.hostTrack.uid)}return z}(),onMouseEnter:function(){function z(U){return N.handleOtherMouseEnter(U)}return z}(),className:"ContextMenu-module_context-menu-item-1HeVv"},C.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},"Replace Series")):null,V="context-menu";return this.props.theme===H.THEME_DARK&&(V+=" context-menu-dark"),C.default.createElement("div",{ref:function(){function z(U){N.div=U}return z}(),"data-menu-type":"SeriesListMenu",onMouseLeave:this.props.handleMouseLeave,style:{left:this.state.left,top:this.state.top},className:(0,_.default)(V,D)},C.default.createElement(R.default,{onClick:function(){function z(){}return z}(),onMouseEnter:function(){function z(U){return N.handleItemMouseEnter(U,{option:"configure-series",value:N.props.track})}return z}(),onMouseLeave:function(){function z(U){return N.handleMouseLeave(U)}return z}()},"Configure Series",C.default.createElement("svg",{className:"ContextMenu-module_play-icon-R4pIO"},C.default.createElement("use",{xlinkHref:"#play"}))),C.default.createElement(R.default,{onClick:function(){function z(){}return z}(),onMouseEnter:function(){function z(U){return N.handleItemMouseEnter(U,{option:"track-type",value:N.props.track})}return z}(),onMouseLeave:function(){function z(U){return N.handleMouseLeave(U)}return z}(),className:"ContextMenu-module_context-menu-item-1HeVv"},C.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},"Track Type",C.default.createElement("svg",{className:"ContextMenu-module_play-icon-R4pIO"},C.default.createElement("use",{xlinkHref:"#play"})))),X,this.getDivideByMenuItem(),C.default.createElement(R.default,{onClick:this.props.onCloseTrack,onMouseEnter:function(){function z(U){return N.handleOtherMouseEnter(U)}return z}(),className:"ContextMenu-module_context-menu-item-1HeVv"},C.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},"Close Series")),G,this.getSubmenu())}return F}()}]),B}(P.default);r.default=j},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(2),a=c(n),l=t(1),e=c(l),o=t(67),s=c(o),u=t(183);t(68);function c(p){return p&&p.__esModule?p:{default:p}}var m=function(p){return e.default.createElement("div",null,(0,u.getSeriesItems)(p.tracks,null,null,p.onCloseTrack),e.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),e.default.createElement(s.default,{onClick:function(){function h(){return p.onCloseTrack(p.tracks[0].uid)}return h}()},"Close all series"))};m.propTypes={onCloseTrack:a.default.func.isRequired,tracks:a.default.array.isRequired},r.default=m},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(1),a=s(n),l=t(125),e=t(394),o=s(e);function s(c){return c&&c.__esModule?c:{default:c}}var u=(0,l.SortableElement)(function(c){return a.default.createElement(o.default,{className:c.className,editable:c.editable,handleConfigTrack:c.handleConfigTrack,handleResizeTrack:c.handleResizeTrack,height:c.height,item:c.item,onAddSeries:c.onAddSeries,onCloseTrack:c.onCloseTrack,onCloseTrackMenuOpened:c.onCloseTrackMenuOpened,onConfigTrackMenuOpened:c.onConfigTrackMenuOpened,resizeHandles:c.resizeHandles,uid:c.uid,width:c.width})});r.default=u},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(25),a=M(n),l=t(34),e=M(l),o=t(5),s=M(o),u=t(3),c=M(u),m=t(4),p=M(m),h=t(6),v=M(h),x=t(7),y=M(x),k=t(29),T=M(k),E=t(84),_=t(0),A=t(2),C=M(A),S=t(1),P=M(S),O=t(78),R=M(O),I=t(11);t(667);function M(D){return D&&D.__esModule?D:{default:D}}var H={"../styles/DraggableDiv.module.scss":{"top-right-handle":"DraggableDiv-module_top-right-handle-oUk0R","bottom-right-handle":"DraggableDiv-module_bottom-right-handle-o7UYG","top-left-handle":"DraggableDiv-module_top-left-handle-R5Zui","bottom-left-handle":"DraggableDiv-module_bottom-left-handle-FO7d4","top-draggable-handle":"DraggableDiv-module_top-draggable-handle-3W5bP","bottom-draggable-handle":"DraggableDiv-module_bottom-draggable-handle-3olLp","left-draggable-handle":"DraggableDiv-module_left-draggable-handle-2gpow","right-draggable-handle":"DraggableDiv-module_right-draggable-handle-2Sriq","draggable-div":"DraggableDiv-module_draggable-div-2eWml","top-draggable-handle-grabber":"DraggableDiv-module_top-draggable-handle-grabber-2mVDE","bottom-draggable-handle-grabber":"DraggableDiv-module_bottom-draggable-handle-grabber-GN1_k","left-draggable-handle-grabber":"DraggableDiv-module_left-draggable-handle-grabber-1Pqhc","right-draggable-handle-grabber":"DraggableDiv-module_right-draggable-handle-grabber-1mtC0"}},L=function(D){(0,y.default)(j,D);function j(W){(0,c.default)(this,j);var B=(0,v.default)(this,(j.__proto__||(0,s.default)(j)).call(this,W));return B.dragTopRight=(0,E.drag)().on("start",B.dragStart.bind(B)).on("drag",B.dragTopRightFunc.bind(B)),B.dragTopLeft=(0,E.drag)().on("start",B.dragStart.bind(B)).on("drag",B.dragTopLeftFunc.bind(B)),B.dragBottomRight=(0,E.drag)().on("start",B.dragStart.bind(B)).on("drag",B.dragBottomRightFunc.bind(B)),B.dragBottomLeft=(0,E.drag)().on("start",B.dragStart.bind(B)).on("drag",B.dragBottomLeftFunc.bind(B)),B.dragBottom=(0,E.drag)().on("start",B.dragStart.bind(B)).on("drag",B.dragBottomFunc.bind(B)),B.dragTop=(0,E.drag)().on("start",B.dragStart.bind(B)).on("drag",B.dragTopFunc.bind(B)),B.dragLeft=(0,E.drag)().on("start",B.dragStart.bind(B)).on("drag",B.dragLeftFunc.bind(B)),B.dragRight=(0,E.drag)().on("start",B.dragStart.bind(B)).on("drag",B.dragRightFunc.bind(B)),B.minWidth=10,B.minHeight=10,B.bottomHandleWidth=20,B.state={uid:B.props.uid,width:B.props.width,height:B.props.height,top:B.props.top,left:B.props.left},B.domBody=(0,_.select)("body").node(),B}return(0,p.default)(j,[{key:"componentDidMount",value:function(){function W(){(0,_.select)(this.bottomHandle).call(this.dragBottom),(0,_.select)(this.topHandle).call(this.dragTop),(0,_.select)(this.leftHandle).call(this.dragLeft),(0,_.select)(this.rightHandle).call(this.dragRight)}return W}()},{key:"UNSAFE_componentWillReceiveProps",value:function(){function W(B){"width"in B&&this.setState({width:B.width}),"height"in B&&this.setState({height:B.height})}return W}()},{key:"dragBottomFunc",value:function(){function W(){var B=(0,_.mouse)(this.domBody),F=this.dragStartHeight+(B[1]-this.dragStartMousePos[1]);F=F>this.minHeight?F:this.minHeight,this.setState({height:F}),_.event.sourceEvent.stopPropagation(),this.sizeChanged()}return W}()},{key:"dragLeftFunc",value:function(){function W(){var B=(0,_.mouse)(this.domBody),F=this.dragStartWidth-(B[0]-this.dragStartMousePos[0]);F=F>this.minWidth?F:this.minWidth;var N=this.dragStartLeft+B[0]-this.dragStartMousePos[0];N=F>this.minWidth?N:this.dragStartLeft+this.dragStartWidth-this.minWidth,this.setState({left:N,width:F}),_.event.sourceEvent.stopPropagation(),this.sizeChanged()}return W}()},{key:"dragTopFunc",value:function(){function W(){var B=(0,_.mouse)(this.domBody),F=this.dragStartHeight-(B[1]-this.dragStartMousePos[1]);F=F>this.minHeight?F:this.minHeight;var N=this.dragStartTop+B[1]-this.dragStartMousePos[1];N=F>this.minHeight?N:this.dragStartTop+this.dragStartHeight-this.minHeight,this.setState({top:N,height:F}),_.event.sourceEvent.stopPropagation(),this.sizeChanged()}return W}()},{key:"dragRightFunc",value:function(){function W(){var B=(0,_.mouse)(this.domBody),F=this.dragStartWidth+(B[0]-this.dragStartMousePos[0]);F=F>this.minWidth?F:this.minWidth,this.setState({width:F}),_.event.sourceEvent.stopPropagation(),this.sizeChanged()}return W}()},{key:"dragBottomLeftFunc",value:function(){function W(){var B=(0,_.mouse)(this.domBody),F=this.dragStartHeight+(B[1]-this.dragStartMousePos[1]);F=F>this.minHeight?F:this.minHeight;var N=this.dragStartWidth-(B[0]-this.dragStartMousePos[0]);N=N>this.minWidth?N:this.minWidth;var X=this.dragStartLeft+B[0]-this.dragStartMousePos[0];X=N>this.minWidth?X:this.dragStartLeft+this.dragStartWidth-this.minWidth,this.setState({left:X,width:N,height:F}),_.event.sourceEvent.stopPropagation(),this.sizeChanged()}return W}()},{key:"dragBottomRightFunc",value:function(){function W(){var B=(0,_.mouse)(this.domBody),F=this.dragStartWidth+(B[0]-this.dragStartMousePos[0]);F=F>this.minWidth?F:this.minWidth;var N=this.dragStartHeight+(B[1]-this.dragStartMousePos[1]);N=N>this.minHeight?N:this.minHeight,this.setState({width:F,height:N}),_.event.sourceEvent.stopPropagation(),this.sizeChanged()}return W}()},{key:"dragTopRightFunc",value:function(){function W(){var B=(0,_.mouse)(this.domBody),F=this.dragStartHeight-(B[1]-this.dragStartMousePos[1]);F=F>this.minHeight?F:this.minHeight;var N=this.dragStartTop+B[1]-this.dragStartMousePos[1];N=F>this.minHeight?N:this.dragStartTop+this.dragStartHeight-this.minHeight;var X=this.dragStartWidth+(B[0]-this.dragStartMousePos[0]);X=X>this.minWidth?X:this.minWidth,this.setState({top:N,width:X,height:F}),_.event.sourceEvent.stopPropagation(),this.sizeChanged()}return W}()},{key:"dragTopLeftFunc",value:function(){function W(){var B=(0,_.mouse)(this.domBody),F=this.dragStartWidth-(B[0]-this.dragStartMousePos[0]);F=F>this.minWidth?F:this.minWidth;var N=this.dragStartLeft+B[0]-this.dragStartMousePos[0];N=F>this.minWidth?N:this.dragStartLeft+this.dragStartWidth-this.minWidth;var X=this.dragStartHeight-(B[1]-this.dragStartMousePos[1]);X=X>this.minHeight?X:this.minHeight;var G=this.dragStartTop+B[1]-this.dragStartMousePos[1];G=X>this.minHeight?G:this.dragStartTop+this.dragStartHeight-this.minHeight,this.setState({top:G,left:N,width:F,height:X}),_.event.sourceEvent.stopPropagation(),this.sizeChanged()}return W}()},{key:"dragStart",value:function(){function W(){this.dragStartMousePos=(0,_.mouse)(this.domBody),this.dragStartWidth=this.state.width,this.dragStartHeight=this.state.height,this.dragStartTop=this.state.top,this.dragStartLeft=this.state.left,_.event.sourceEvent.stopPropagation()}return W}()},{key:"sizeChanged",value:function(){function W(){this.props.sizeChanged&&this.props.sizeChanged(this.state)}return W}()},{key:"rotateClicked",value:function(){function W(){this.props.trackRotated(this.state.uid)}return W}()},{key:"closeClicked",value:function(){function W(){this.props.trackClosed(this.state.uid)}return W}()},{key:"render",value:function(){function W(){var B=this,F=this.props.theme===I.THEME_DARK?"white":"black",N={top:this.state.top,left:this.state.left,width:this.state.width,height:this.state.height,opacity:this.props.opacity},X=24,G=24,V={left:this.state.width/2-X/2,width:X},z={top:this.state.height/2-G/2,height:G},U={bottom:(0,e.default)({},V,{bottom:1}),top:(0,e.default)({},V,{top:1}),left:(0,e.default)({},z,{left:1}),right:(0,e.default)({},z,{right:1})},Z=[].concat((0,a.default)(this.props.resizeHandles)).map(function(st){return P.default.createElement("div",{key:st,ref:function(){function Y(rt){B[String(st)+"Handle"]=rt}return Y}(),style:U[st],title:"Resize track",className:(0,T.default)(String(st)+"-draggable-handle",H)},P.default.createElement("div",{style:{borderColor:F},className:(0,T.default)(String(st)+"-draggable-handle-grabber",H)}))});return P.default.createElement("div",{ref:function(){function st(Y){B.divContainer=Y}return st}(),className:(this.props.className?this.props.className+" ":"")+"DraggableDiv-module_draggable-div-2eWml",style:N},Z)}return W}()}]),j}(P.default.Component);L.propTypes={className:C.default.string,height:C.default.number,left:C.default.number,opacity:C.default.number,resizeHandles:C.default.object,sizeChanged:C.default.func,top:C.default.number,trackClosed:C.default.func,trackRotated:C.default.func,uid:C.default.string,width:C.default.number,theme:C.default.symbol},r.default=(0,R.default)(L)},function(f,r,t){f.exports={"top-right-handle":"DraggableDiv-module_top-right-handle-oUk0R","bottom-right-handle":"DraggableDiv-module_bottom-right-handle-o7UYG","top-left-handle":"DraggableDiv-module_top-left-handle-R5Zui","bottom-left-handle":"DraggableDiv-module_bottom-left-handle-FO7d4","top-draggable-handle":"DraggableDiv-module_top-draggable-handle-3W5bP","bottom-draggable-handle":"DraggableDiv-module_bottom-draggable-handle-3olLp","left-draggable-handle":"DraggableDiv-module_left-draggable-handle-2gpow","right-draggable-handle":"DraggableDiv-module_right-draggable-handle-2Sriq","draggable-div":"DraggableDiv-module_draggable-div-2eWml","top-draggable-handle-grabber":"DraggableDiv-module_top-draggable-handle-grabber-2mVDE","bottom-draggable-handle-grabber":"DraggableDiv-module_bottom-draggable-handle-grabber-GN1_k","left-draggable-handle-grabber":"DraggableDiv-module_left-draggable-handle-grabber-1Pqhc","right-draggable-handle-grabber":"DraggableDiv-module_right-draggable-handle-grabber-1mtC0"}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(5),a=_(n),l=t(3),e=_(l),o=t(4),s=_(o),u=t(6),c=_(u),m=t(7),p=_(m),h=t(2),v=_(h),x=t(1),y=_(x),k=t(42),T=_(k),E=t(125);function _(C){return C&&C.__esModule?C:{default:C}}var A=function(C){(0,p.default)(S,C);function S(P){(0,e.default)(this,S);var O=(0,c.default)(this,(S.__proto__||(0,a.default)(S)).call(this,P));return O.state={controlsVisible:!1},O}return(0,s.default)(S,[{key:"shouldComponentUpdate",value:function(){function P(){return!this.resizing}return P}()},{key:"handleMouseEnter",value:function(){function P(){this.setState({controlsVisible:!0})}return P}()},{key:"handleMouseLeave",value:function(){function P(){this.setState({controlsVisible:!1})}return P}()},{key:"handleMouseMove",value:function(){function P(){this.setState({controlsVisible:!0})}return P}()},{key:"getControls",value:function(){function P(){var O=this,R=null;return this.moveable?R=(0,E.SortableHandle)(function(){return y.default.createElement("svg",{className:"no-zoom",height:"10px",onClick:function(){function I(){}return I}(),style:O.getMoveImgStyle(),width:"10px"},y.default.createElement("use",{xlinkHref:"#move"}))}):R=(0,E.SortableHandle)(function(){return y.default.createElement("div",null)}),y.default.createElement("div",{style:{position:"absolute",backgroundColor:"rgba(255,255,255,0.7)",right:"3px",top:"3px",pointerEvents:"none",paddingLeft:"5px",paddingRight:"5px",borderRadius:"5px",border:"1px solid #dddddd"}},y.default.createElement(R,null),y.default.createElement("svg",{ref:function(){function I(M){O.imgConfig=M}return I}(),className:"no-zoom",height:"10px",onClick:function(){function I(){var M=T.default.findDOMNode(O.imgConfig),H=M.getBoundingClientRect();O.props.onConfigTrackMenuOpened(O.props.uid,H)}return I}(),style:this.getSettingsImgStyle(),width:"10px"},y.default.createElement("use",{xlinkHref:"#cog"})),y.default.createElement("svg",{ref:function(){function I(M){O.imgAdd=M}return I}(),className:"no-zoom",height:"10px",onClick:function(){function I(){return O.props.onAddSeries(O.props.uid)}return I}(),style:this.getAddImgStyle(),width:"10px"},y.default.createElement("use",{xlinkHref:"#plus"})),y.default.createElement("svg",{ref:function(){function I(M){O.imgClose=M}return I}(),className:"no-zoom",height:"10px",onClick:function(){function I(){var M=T.default.findDOMNode(O.imgClose),H=M.getBoundingClientRect();O.props.onCloseTrackMenuOpened(O.props.uid,H)}return I}(),style:this.getCloseImgStyle(),width:"10px"},y.default.createElement("use",{xlinkHref:"#cross"})))}return P}()}]),S}(y.default.Component);A.propTypes={configMenuOpen:v.default.bool,onConfigTrackMenuOpened:v.default.func,onCloseTrackMenuOpened:v.default.func,onAddSeries:v.default.func,uid:v.default.string},r.default=A},function(f,r,t){f.exports={"horizontal-tiled-plot":"HorizontalTiledPlot-module_horizontal-tiled-plot-3EK65"}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(5),a=N(n),l=t(3),e=N(l),o=t(4),s=N(o),u=t(6),c=N(u),m=t(7),p=N(m),h=t(29),v=N(h),x=t(2),y=N(x),k=t(1),T=N(k),E=t(83),_=t(0),A=t(26),C=N(A),S=t(393),P=N(S),O=t(671),R=N(O),I=t(395),M=N(I),H=t(10),L=t(11),D=t(672);N(D);var j=t(176),W=N(j),B=t(175),F=N(B);function N(V){return V&&V.__esModule?V:{default:V}}var X={styles:{"vertical-tiled-plot":"VerticalTiledPlot-module_vertical-tiled-plot-R3sb7"},stylesPlot:{"tiled-plot":"TiledPlot-module_tiled-plot-uFHiB",horizontalList:"TiledPlot-module_horizontalList-1c1P8",list:"TiledPlot-module_list-24zgV",stylizedList:"TiledPlot-module_stylizedList-Mt4JL",stylizedItem:"TiledPlot-module_stylizedItem-2bQBK",stylizedHelper:"TiledPlot-module_stylizedHelper-3IVEu",horizontalItem:"TiledPlot-module_horizontalItem-2-ZjU","resizable-track":"TiledPlot-module_resizable-track-2oLT9",domain:"TiledPlot-module_domain-qYw6K"},stylesTrack:{"track-range-selection":"Track-module_track-range-selection-1yrDf","track-range-selection-active":"Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-primary":"Track-module_track-range-selection-active-primary-29M73 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-secondary":"Track-module_track-range-selection-active-secondary-1s0t5 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-group-inactive":"Track-module_track-range-selection-group-inactive-YNRM4","track-range-selection-group-brush-selection":"Track-module_track-range-selection-group-brush-selection-2VYDl"}},G=function(V){(0,p.default)(z,V);function z(U){(0,e.default)(this,z);var Z=(0,c.default)(this,(z.__proto__||(0,a.default)(z)).call(this,U));return Z.brushBehavior=(0,E.brushY)(!0).on("start",Z.brushStarted.bind(Z)).on("brush",Z.brushed.bind(Z)).on("end",Z.brushedEnded.bind(Z)),Z}return(0,s.default)(z,[{key:"componentDidMount",value:function(){function U(){this.props.isRangeSelectionActive&&this.addBrush()}return U}()},{key:"shouldComponentUpdate",value:function(){function U(Z,st){if(this.rangeSelectionTriggered)return this.rangeSelectionTriggered=!1,this.rangeSelectionTriggeredEnd&&this.props.rangeSelection!==Z.rangeSelection&&this.moveBrush(Z.rangeSelection[0]?Z.rangeSelection[0]:null,!0),this.rangeSelectionTriggeredEnd=!1,this.state!==st;if(this.props.rangeSelection!==Z.rangeSelection){var Y=this.props.is1dRangeSelection?0:1;return this.moveBrush(Z.rangeSelection[Y]?Z.rangeSelection[Y]:null,Z.rangeSelectionEnd),this.state!==st}return!0}return U}()},{key:"componentDidUpdate",value:function(){function U(){this.props.isRangeSelectionActive?this.addBrush():this.removeBrush()}return U}()},{key:"addBrush",value:function(){function U(){!this.brushEl||this.brushElAddedBefore===this.brushEl||(this.brushElAddedBefore&&this.brushElAddedBefore.on(".brush",null),this.brushEl.call(this.brushBehavior),this.brushElAddedBefore=this.brushEl,(0,H.resetD3BrushStyle)(this.brushEl,F.default["track-range-selection-group-brush-selection"]))}return U}()},{key:"brushed",value:function(){function U(){var Z=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,!(!this.sourceEvent||!this.props.onRangeSelection||Z)&&(this.rangeSelectionTriggered=!0,this.props.onRangeSelection(_.event.selection))}return U}()},{key:"brushStarted",value:function(){function U(){!this.sourceEvent||!_.event.selection||this.props.onRangeSelectionStart()}return U}()},{key:"brushedEnded",value:function(){function U(){if(this.props.is1dRangeSelection){var Z=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,_.event.selection&&_.event.sourceEvent&&this.props.onRangeSelection&&!Z&&(this.rangeSelectionTriggered=!0,this.rangeSelectionTriggeredEnd=!0,this.props.onRangeSelectionEnd(_.event.selection)),_.event.selection||(this.rangeSelectionTriggered=!0,this.props.onRangeSelectionReset())}}return U}()},{key:"moveBrush",value:function(){function U(Z){var st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.brushEl){var Y=Z?[this.props.scale(Z[0]),this.props.scale(Z[1])]:null;this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,st?this.brushEl.transition().call(this.brushBehavior.move,Y):this.brushEl.call(this.brushBehavior.move,Y)}}return U}()},{key:"removeBrush",value:function(){function U(){this.brushElAddedBefore&&(this.brushElAddedBefore.call(this.brushBehavior.move,null),this.brushElAddedBefore.on(".brush",null),this.brushElAddedBefore=void 0,this.props.onRangeSelectionReset())}return U}()},{key:"render",value:function(){function U(){var Z=this,st=this.props.tracks.map(function(ft){return ft.width}).reduce(H.sum,0),Y=this.props.tracks.map(function(ft){return(0,L.IS_TRACK_RANGE_SELECTABLE)(ft)}).reduce(H.or,!1),rt=this.props.isRangeSelectionActive?"stylesTrack.track-range-selection-active":"stylesTrack.track-range-selection";return T.default.createElement("div",{className:"VerticalTiledPlot-module_vertical-tiled-plot-R3sb7"},Y&&T.default.createElement("svg",{ref:function(){function ft(tt){Z.brushEl=(0,_.select)(tt)}return ft}(),style:{height:this.props.height,width:st},xmlns:"http://www.w3.org/2000/svg",className:(0,v.default)(rt,X)}),T.default.createElement(P.default,{axis:"x",className:String(W.default.list)+" "+String(W.default.stylizedList)+" "+String(W.default.horizontalList),component:M.default,editable:this.props.editable,handleConfigTrack:this.props.handleConfigTrack,handleResizeTrack:this.props.handleResizeTrack,height:this.props.height,helperClass:W.default.stylizedHelper,itemClass:String(W.default.stylizedItem)+" "+String(W.default.horizontalItem),itemControlAlignLeft:this.props.tracksControlAlignLeft,itemReactClass:R.default,items:this.props.tracks.map(function(ft){return{configMenuVisible:ft.uid===Z.props.configTrackMenuId,uid:ft.uid||C.default.nice(),height:Z.props.height,width:ft.width,value:ft.value}}),onAddSeries:this.props.onAddSeries,onCloseTrack:this.props.onCloseTrack,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,onSortEnd:this.props.handleSortEnd,referenceAncestor:this.props.referenceAncestor,resizeHandles:this.props.resizeHandles,useDragHandle:!0,width:st}))}return U}()},{key:"sourceEvent",get:function(){function U(){return _.event&&_.event.sourceEvent}return U}()}]),z}(T.default.Component);G.propTypes={configTrackMenuId:y.default.string,editable:y.default.bool,handleConfigTrack:y.default.func,handleResizeTrack:y.default.func,handleSortEnd:y.default.func,is1dRangeSelection:y.default.bool,isRangeSelectionActive:y.default.bool,height:y.default.number,onAddSeries:y.default.func,onCloseTrack:y.default.func,onCloseTrackMenuOpened:y.default.func,onConfigTrackMenuOpened:y.default.func,onRangeSelection:y.default.func,onRangeSelectionEnd:y.default.func,onRangeSelectionReset:y.default.func,onRangeSelectionStart:y.default.func,rangeSelection:y.default.array,rangeSelectionEnd:y.default.bool,referenceAncestor:y.default.func,resizeHandles:y.default.object,scale:y.default.func,tracks:y.default.array,tracksControlAlignLeft:y.default.bool},r.default=G},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(1),a=s(n),l=t(125),e=t(396),o=s(e);function s(c){return c&&c.__esModule?c:{default:c}}var u=(0,l.SortableElement)(function(c){return a.default.createElement(o.default,{className:c.className,controlAlignLeft:c.controlAlignLeft,editable:c.editable,handleConfigTrack:c.handleConfigTrack,handleResizeTrack:c.handleResizeTrack,height:c.height,item:c.item,onAddSeries:c.onAddSeries,onCloseTrack:c.onCloseTrack,onCloseTrackMenuOpened:c.onCloseTrackMenuOpened,onConfigTrackMenuOpened:c.onConfigTrackMenuOpened,resizeHandles:c.resizeHandles,uid:c.uid,width:c.width})});r.default=u},function(f,r,t){f.exports={"vertical-tiled-plot":"VerticalTiledPlot-module_vertical-tiled-plot-R3sb7"}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(5),a=H(n),l=t(3),e=H(l),o=t(4),s=H(o),u=t(6),c=H(u),m=t(7),p=H(m),h=t(29),v=H(h),x=t(1),y=H(x),k=t(2),T=H(k),E=t(81),_=t(10),A=t(183),C=t(67),S=H(C),P=t(96),O=H(P),R=t(390),I=H(R),M=t(11);t(68);function H(j){return j&&j.__esModule?j:{default:j}}var L={"../styles/ContextMenu.module.scss":{"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-dark":"ContextMenu-module_context-menu-dark-2PO31","context-menu-icon":"ContextMenu-module_context-menu-icon-I4kiw","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},D=function(j){(0,p.default)(W,j);function W(){return(0,e.default)(this,W),(0,c.default)(this,(W.__proto__||(0,a.default)(W)).apply(this,arguments))}return(0,s.default)(W,[{key:"render",value:function(){function B(){var F=this,N=(0,A.getSeriesItems)(this.props.tracks,this.handleItemMouseEnter.bind(this),this.handleMouseLeave.bind(this)),X=this.props.customItems?y.default.Children.map(this.props.customItems,function(V){return y.default.cloneElement(V,{onMouseEnter:function(){function z(U){F.handleOtherMouseEnter(U)}return z}()})}):null,G="context-menu";return this.props.theme===M.THEME_DARK&&(G+=" context-menu-dark"),y.default.createElement("div",{ref:function(){function V(z){F.div=z}return V}(),"data-menu-type":"ViewContextMenu",style:{left:this.state.left,top:this.state.top},className:(0,v.default)(G,L)},X,X&&y.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),N,N&&y.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),y.default.createElement(S.default,{onClick:function(){function V(){return F.props.onAddTrack({type:"horizontal-rule",y:F.props.coords[1],position:"whole"})}return V}(),onMouseEnter:function(){function V(z){return F.handleOtherMouseEnter(z)}return V}()},"Add Horizontal Rule"),y.default.createElement(S.default,{onClick:function(){function V(){return F.props.onAddTrack({type:"vertical-rule",x:F.props.coords[0],position:"whole"})}return V}(),onMouseEnter:function(){function V(z){return F.handleOtherMouseEnter(z)}return V}()},"Add Vertical Rule"),y.default.createElement(S.default,{onClick:function(){function V(){return F.props.onAddTrack({type:"cross-rule",x:F.props.coords[0],y:F.props.coords[1],position:"whole"})}return V}(),onMouseEnter:function(){function V(z){return F.handleOtherMouseEnter(z)}return V}()},"Add Cross Rule"),y.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),this.hasMatrixTrack(this.props.tracks)&&y.default.createElement(S.default,{onClick:this.handleAddHorizontalSection.bind(this),onMouseEnter:function(){function V(z){return F.handleOtherMouseEnter(z)}return V}()},"Add Horizontal Cross Section"),this.hasMatrixTrack(this.props.tracks)&&y.default.createElement(S.default,{onClick:this.handleAddVerticalSection.bind(this),onMouseEnter:function(){function V(z){return F.handleOtherMouseEnter(z)}return V}()},"Add Vertical Cross Section"),this.getSubmenu())}return B}()},{key:"hasMatrixTrack",value:function(){function B(F){var N=(0,_.expandCombinedTracks)(this.props.tracks);return N.filter(function(X){return X.type==="heatmap"}).length>0}return B}()},{key:"handleAddHorizontalSection",value:function(){function B(){var F=(0,_.expandCombinedTracks)(this.props.tracks),N=F.filter(function(X){return X.type==="heatmap"})[0];this.props.onAddTrack({type:"horizontal-rule",y:this.props.coords[1],position:"whole"}),this.props.onAddTrack({data:{type:"horizontal-section",server:N.server,tilesetUid:N.tilesetUid,slicePos:this.props.coords[1]},options:{valueScaling:"log"},type:"horizontal-bar",height:30,position:"top"})}return B}()},{key:"handleAddVerticalSection",value:function(){function B(){var F=(0,_.expandCombinedTracks)(this.props.tracks),N=F.filter(function(X){return X.type==="heatmap"})[0];this.props.onAddTrack({type:"vertical-rule",x:this.props.coords[0],position:"whole"}),this.props.onAddTrack({data:{type:"vertical-section",server:N.server,tilesetUid:N.tilesetUid,slicePos:this.props.coords[0]},options:{valueScaling:"log"},type:"vertical-bar",height:30,position:"left"})}return B}()}]),W}((0,E.mix)(O.default).with(I.default));D.propTypes={coords:T.default.array,customItems:T.default.array},r.default=D},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(19),a=ct(n),l=t(62),e=ct(l),o=t(30),s=ct(o),u=t(25),c=ct(u),m=t(38),p=ct(m),h=t(5),v=ct(h),x=t(3),y=ct(x),k=t(4),T=ct(k),E=t(6),_=ct(E),A=t(7),C=ct(A),S=t(29),P=ct(S),O=t(0),R=t(1),I=ct(R),M=t(26),H=ct(M),L=t(2),D=ct(L),j=t(675),W=ct(j),B=t(73),F=ct(B),N=t(140),X=ct(N),G=t(264),V=ct(G),z=t(24),U=t(69),Z=ct(U),st=t(10),Y=t(78),rt=ct(Y),ft=t(266),tt=t(11),K=t(679),Q=ct(K);function ct(yt){return yt&&yt.__esModule?yt:{default:yt}}var nt={styles:{"genome-position-search":"GenomePositionSearchBox-module_genome-position-search-SYccr","genome-position-search-focus":"GenomePositionSearchBox-module_genome-position-search-focus-23by2","genome-position-search-bar":"GenomePositionSearchBox-module_genome-position-search-bar-1_0ZU","genome-position-search-dark":"GenomePositionSearchBox-module_genome-position-search-dark-EML2e","genome-position-search-bar-button":"GenomePositionSearchBox-module_genome-position-search-bar-button-33SWJ","genome-position-search-bar-button-focus":"GenomePositionSearchBox-module_genome-position-search-bar-button-focus-1IhAk","genome-position-search-bar-icon":"GenomePositionSearchBox-module_genome-position-search-bar-icon-14AEk","genome-position-search-bar-icon-focus":"GenomePositionSearchBox-module_genome-position-search-bar-icon-focus-1Ay7Z","genome-position-search-bar-suggestions":"GenomePositionSearchBox-module_genome-position-search-bar-suggestions-SrIoU",btn:"GenomePositionSearchBox-module_btn-2bTUd","btn-sm":"GenomePositionSearchBox-module_btn-sm-2Ltms","btn-default":"GenomePositionSearchBox-module_btn-default-2pap4"}},ot=function(yt){(0,C.default)(pt,yt);function pt(dt){(0,y.default)(this,pt);var mt=(0,_.default)(this,(pt.__proto__||(0,v.default)(pt)).call(this,dt));return mt.mounted=!1,mt.uid=H.default.nice(),mt.chromInfo=null,mt.searchField=null,mt.autocompleteMenu=null,mt.xScale=null,mt.yScale=null,mt.prevParts=[],mt.props.registerViewportChangedListener(mt.scalesChanged.bind(mt)),mt.menuPosition={left:0,top:0},mt.positionText="chr4:190,998,876-191,000,255",mt.state={genes:[],isFocused:!1,autocompleteServer:mt.props.autocompleteServer,autocompleteId:mt.props.autocompleteId,availableAssemblies:[],selectedAssembly:null},mt.styles={item:{padding:"2px 6px",cursor:"default"},highlightedItem:{color:"white",background:"hsl(200, 50%, 50%)",padding:"2px 6px",cursor:"default"},menu:{border:"solid 1px #ccc"}},mt.availableAutocompletes={},mt.props.autocompleteId&&(mt.availableAutocompletes[mt.props.chromInfoId]=new p.default([{server:mt.props.autocompleteServer,acId:mt.props.autocompleteId}])),mt.availableChromSizes={},mt}return(0,T.default)(pt,[{key:"componentDidMount",value:function(){function dt(){var mt=this;this.mounted=!0,(0,O.select)(this.autocompleteMenu.inputEl).on("keypress",this.autocompleteKeyPress.bind(this)),this.findAvailableAutocompleteSources(),this.findAvailableChromSizes(),this.props.chromInfoPath&&(this.searchPosition=!0,(0,F.default)(this.props.chromInfoPath,function(q){if(!q){mt.searchPosition=null;return}mt.chromInfo=q,mt.searchField=new X.default(mt.chromInfo),mt.setPositionText()})),this.setPositionText()}return dt}()},{key:"componentWillUnmount",value:function(){function dt(){this.mounted=!1,this.props.removeViewportChangedListener()}return dt}()},{key:"onAutocompleteChange",value:function(){function dt(mt,q){var $=this;this.positionText=q,this.setState({value:q,loading:!0}),this.changedPart=null;for(var J=q.split(/ /),lt=0,ut=[],ht=!1,bt=0;bt<J.length;bt++)for(var kt=J[bt].split(/-/),vt=0;vt<kt.length;vt++){if(lt+=1,ut.push(kt[vt]),vt===0?ht=!0:ht=!1,vt===this.prevParts.length){this.changedPart=lt-1;break}if(kt[vt]!==this.prevParts[vt]){this.changedPart=lt-1;break}}if(this.prevParts=ut,!!(this.state.autocompleteServer&&this.state.autocompleteId)&&this.changedPart!==null){this.setState({loading:!0});var Et=String(this.state.autocompleteServer)+"/suggest/";Et+="?d="+String(this.state.autocompleteId)+"&ac="+String(ut[this.changedPart].toLowerCase()),z.tileProxy.json(Et,function(Rt,Vt){if(Rt)$.setState({loading:!1,genes:[]});else if($.changedPart>0&&!ht){var ee=String($.state.autocompleteServer)+"/suggest/"+("?d="+String($.state.autocompleteId))+("&ac="+String(ut[$.changedPart-1].toLowerCase()))+("-"+String(ut[$.changedPart].toLowerCase()));z.tileProxy.json(ee,function(Tt,_t){Tt?$.setState({loading:!1,genes:Vt}):$.setState({loading:!1,genes:_t.concat(Vt)})},$.props.pubSub)}else $.setState({loading:!1,genes:Vt})},this.props.pubSub)}}return dt}()},{key:"setAvailableAssemblies",value:function(){function dt(){var mt=new p.default((0,st.dictKeys)(this.availableChromSizes)),q=new p.default([].concat((0,c.default)(mt)));this.gpsbForm&&this.setState({availableAssemblies:[].concat((0,c.default)(q))})}return dt}()},{key:"setSelectedAssembly",value:function(){function dt(mt){if(this.mounted&&this.availableChromSizes[mt]){var q=[].concat((0,c.default)(this.availableChromSizes[mt]))[0];this.setState({autocompleteServer:q.server});var $=q.server;if(this.availableAutocompletes[mt]){var J=[].concat((0,c.default)(this.availableAutocompletes[mt]))[0].acId;this.props.onSelectedAssemblyChanged(mt,J,$),this.gpsbForm&&this.setState({autocompleteId:J})}else this.props.onSelectedAssemblyChanged(mt,null,$),this.gpsbForm&&this.setState({autocompleteId:null});this.fetchChromInfo(q.uuid,q.server)}}return dt}()},{key:"setPositionText",value:function(){function dt(){if(this.mounted&&this.searchField){var mt=this.searchField.scalesToPositionText(this.xScale,this.yScale,this.props.twoD);this.prevParts=mt.split(/[ -]/),this.gpsbForm&&(this.positionText=mt,this.origPositionText=mt,this.autocompleteMenu.inputEl.value=mt)}}return dt}()},{key:"scalesChanged",value:function(){function dt(mt,q){this.xScale=mt,this.yScale=q,this.setPositionText()}return dt}()},{key:"findAvailableChromSizes",value:function(){function dt(){var mt=this;this.props.trackSourceServers&&this.props.trackSourceServers.forEach(function(q){z.tileProxy.json(String(q)+"/available-chrom-sizes/",function($,J){$?console.error($):(J.results.forEach(function(lt){lt.coordSystem in mt.availableChromSizes||(mt.availableChromSizes[lt.coordSystem]=new p.default),mt.availableChromSizes[lt.coordSystem].add({server:q,uuid:lt.uuid}),mt.setAvailableAssemblies()}),mt.searchField||mt.fetchChromInfo(mt.props.chromInfoId in mt.availableChromSizes?[].concat((0,c.default)(mt.availableChromSizes[mt.props.chromInfoId]))[0].uuid:mt.props.chromInfoId,mt.props.chromInfoId in mt.availableChromSizes?[].concat((0,c.default)(mt.availableChromSizes[mt.props.chromInfoId]))[0].server:mt.props.chromInfoServer))},mt.props.pubSub)})}return dt}()},{key:"findAvailableAutocompleteSources",value:function(){function dt(){var mt=this;this.props.trackSourceServers&&this.props.trackSourceServers.forEach(function(q){z.tileProxy.json(String(q)+"/tilesets/?limit=100&dt=gene-annotation",function($,J){$?console.error($):(J.results.forEach(function(lt){lt.coordSystem in mt.availableAutocompletes||(mt.availableAutocompletes[lt.coordSystem]=new p.default),mt.availableAutocompletes[lt.coordSystem].add({server:q,acId:lt.uuid}),mt.setAvailableAssemblies()}),mt.state.autocompleteId||mt.gpsbForm&&mt.availableAutocompletes[mt.props.chromInfoId]&&mt.setState({autocompleteId:[].concat((0,c.default)(mt.availableAutocompletes[mt.props.chromInfoId]))[0].acId}))},mt.props.pubSub)})}return dt}()},{key:"fetchChromInfo",value:function(){function dt(mt,q){var $=this;(0,F.default)(String(q)+"/chrom-sizes/?id="+String(mt),function(J){J&&(z.tileProxy.json(String(q)+"/tileset_info/?d="+String(mt),function(lt,ut){lt||$.gpsbForm&&$.setState({selectedAssembly:ut[mt].coordSystem})},$.props.pubSub),$.chromInfo=J,$.searchField=new X.default($.chromInfo),$.setPositionText())},this.props.pubSub)}return dt}()},{key:"autocompleteKeyPress",value:function(){function dt(){var mt=13;O.event.keyCode===mt&&this.buttonClick()}return dt}()},{key:"genePositionToSearchBarText",value:function(){function dt(mt){}return dt}()},{key:"replaceGenesWithLoadedPositions",value:function(){function dt(mt){for(var q=this.positionText,$=q.split(" "),J=!1,lt=0;lt<$.length;lt++){for(var ut=$[lt].split("-"),ht=0,bt=0,kt="";ht<ut.length;){for(bt=ut.length;bt>ht;){var vt=ut.slice(ht,bt).join("-");if(mt[vt.toLowerCase()]){var Et=mt[vt.toLowerCase()],Rt=Math.floor((Et.txEnd-Et.txStart)/4);ht===0&&bt<ut.length?kt=String(Et.chr)+":"+(Et.txStart-Rt):ht===0&&bt===ut.length?kt=String(Et.chr)+":"+(Et.txStart-Rt)+"-"+String(Et.txEnd+Rt):kt+="- "+String(Et.chr)+":"+String(Et.txEnd+Rt),J=!0;break}else bt===ht+1&&(kt.length&&(kt+="-"),kt+=vt);bt-=1}ht=bt+1}$[lt]=kt}var Vt=$.join(" ");return this.prevParts=Vt.split(/[ -]/),this.positionText=Vt,this.setState({value:Vt}),J?q:null}return dt}()},{key:"replaceGenesWithPositions",value:function(){function dt(mt){for(var q=this,$=this.positionText.split(/[ -]/),J=[],lt=0;lt<$.length;lt++)if($[lt].length!==0){var ut=this.searchField.parsePosition($[lt])[2];if(ut===null||(0,s.default)(+ut)){var ht=String(this.state.autocompleteServer)+"/suggest/?d="+String(this.state.autocompleteId)+"&ac="+String($[lt].toLowerCase());J.push(z.tileProxy.json(ht,st.toVoid,this.props.pubSub))}}e.default.all(J).then(function(bt){if(bt){for(var kt={},vt=0;vt<bt.length;vt++)if(bt[vt][0])for(var Et=0;Et<bt[vt].length;Et++)kt[bt[vt][Et].geneName.toLowerCase()]=bt[vt][Et];var Rt=q.replaceGenesWithLoadedPositions(kt);mt(Rt)}}).catch(function(bt){return console.error(bt)})}return dt}()},{key:"buttonClick",value:function(){function dt(){var mt=this;this.setState({genes:[]}),this.replaceGenesWithPositions(function(q){var $=mt.positionText;if(mt.searchField!==null){var J=mt.searchField.searchPosition($),lt=J[0],ut=J[1];if(!lt){mt.setPositionText(mt.origPositionText);return}if(lt&&((0,s.default)(+lt[0])||(0,s.default)(+lt[1]))||ut&&((0,s.default)(+ut[0])||(0,s.default)(+ut[1])))return;ut||(ut=lt);var ht=mt.xScale.copy().domain(lt),bt=mt.yScale.copy().domain(ut),kt=(0,st.scalesCenterAndK)(ht,bt),vt=(0,a.default)(kt,3),Et=vt[0],Rt=vt[1],Vt=vt[2];q&&mt.props.onGeneSearch({geneSymbol:q,range:lt,centerX:Et,centerY:Rt}),mt.props.setCenters(Et,Rt,Vt,tt.ZOOM_TRANSITION_DURATION)}})}return dt}()},{key:"searchFieldSubmit",value:function(){function dt(){this.buttonClick()}return dt}()},{key:"pathJoin",value:function(){function dt(mt,q){var $=q||"/",J=new RegExp(String($)+"{1,}","g");return mt.join($).replace(J,$)}return dt}()},{key:"geneSelected",value:function(){function dt(mt,q){for(var $=this.positionText.split(" "),J=this.changedPart,lt=0;lt<$.length;lt++){var ut=$[lt].split("-"),ht=q.geneName.split("-");if(J>ut.length-1)J-=ut.length;else{if(ut[J]=q.geneName,ht.length===2&&J>0&&ut[J-1].toLowerCase()===ht[0].toLowerCase()){var bt=ut.slice(0,J-1);bt.push(ht.join("-")),J<ut.length-1&&bt.push(ut.slice(J+1)),$[lt]=bt.join("-")}else $[lt]=ut.join("-");break}}this.prevParts=$.join(" ").split(/[ -]/),this.positionText=$.join(" "),this.setState({value:$.join(" "),genes:[]})}return dt}()},{key:"handleMenuVisibilityChange",value:function(){function dt(mt,q){var $=q.getBoundingClientRect();this.menuPosition={left:$.left,top:$.top+$.height},this.setState({menuOpened:mt})}return dt}()},{key:"handleRenderMenu",value:function(){function dt(mt){return I.default.createElement(V.default,null,I.default.createElement("div",{style:{left:this.menuPosition.left,top:this.menuPosition.top},className:"GenomePositionSearchBox-module_genome-position-search-bar-suggestions-SrIoU"},mt))}return dt}()},{key:"handleAssemblySelect",value:function(){function dt(mt){this.setSelectedAssembly(mt),this.setState({selectedAssembly:mt})}return dt}()},{key:"focusHandler",value:function(){function dt(mt){this.setState({isFocused:mt})}return dt}()},{key:"render",value:function(){function dt(){var mt=this,q=this.state.availableAssemblies.map(function(J){return I.default.createElement("option",{key:J,value:J},J)}),$=this.state.isFocused?"styles.genome-position-search-focus":"styles.genome-position-search";return this.props.theme===tt.THEME_DARK&&($+=" styles.genome-position-search-dark"),I.default.createElement("div",{ref:function(){function J(lt){mt.gpsbForm=lt}return J}(),className:(0,P.default)($,nt)},!this.props.hideAvailableAssemblies&&I.default.createElement("select",{ref:function(){function J(lt){mt.assemblyPickButton=lt}return J}(),className:Q.default["genome-position-search-bar-button"],id:this.uid,onSelect:this.handleAssemblySelect.bind(this),title:this.state.selectedAssembly?this.state.selectedAssembly:"(none)"},q),I.default.createElement(W.default,{ref:function(){function J(lt){mt.autocompleteMenu=lt}return J}(),getItemValue:function(){function J(lt){return lt.geneName}return J}(),inputProps:{className:Q.default["genome-position-search-bar"],title:"Current location: enter a symbol or location to change the position of the current view"},items:this.state.genes,menuStyle:{position:"absolute",left:this.menuPosition.left,top:this.menuPosition.top,border:"1px solid black"},onChange:this.onAutocompleteChange.bind(this),onFocus:this.focusHandler.bind(this),onMenuVisibilityChange:this.handleMenuVisibilityChange.bind(this),onSelect:function(){function J(lt,ut){return mt.geneSelected(lt,ut)}return J}(),onSubmit:this.searchFieldSubmit.bind(this),renderItem:function(){function J(lt,ut){return I.default.createElement("div",{key:lt.refseqid,id:lt.refseqid,style:ut?mt.styles.highlightedItem:mt.styles.item},lt.geneName)}return J}(),renderMenu:this.handleRenderMenu.bind(this),value:this.positionText,wrapperStyle:{width:"100%"}}),I.default.createElement(ft.SearchIcon,{onClick:this.buttonClick.bind(this),theStyle:"multitrack-header-icon"}))}return dt}()}]),pt}(I.default.Component);ot.propTypes={autocompleteId:D.default.string,autocompleteServer:D.default.string,chromInfoId:D.default.string,chromInfoServer:D.default.string,hideAvailableAssemblies:D.default.bool,isFocused:D.default.bool,pubSub:D.default.func,onFocus:D.default.func,onGeneSearch:D.default.func,onSelectedAssemblyChanged:D.default.func,registerViewportChangedListener:D.default.func,removeViewportChangedListener:D.default.func,setCenters:D.default.func,theme:D.default.symbol.isRequired,trackSourceServers:D.default.array,twoD:D.default.bool},r.default=(0,Z.default)((0,rt.default)(ot))},function(f,r,t){(function(n){Object.defineProperty(r,"__esModule",{value:!0});var a=t(35),l=O(a),e=t(34),o=O(e),s=t(5),u=O(s),c=t(3),m=O(c),p=t(4),h=O(p),v=t(6),x=O(v),y=t(7),k=O(y),T=t(1),E=O(T),_=t(42),A=t(676),C=O(A),S=t(2),P=O(S);function O(M){return M&&M.__esModule?M:{default:M}}var R=[],I=function(M){(0,k.default)(H,M);function H(L){(0,m.default)(this,H);var D=(0,x.default)(this,(H.__proto__||(0,u.default)(H)).call(this,L));return D.state={highlightedIndex:null,menuTop:0,menuLeft:0,menuWidth:0,isOpen:!1},D.keyDownHandlers={ArrowDown:function(){function j(W){W.preventDefault();var B=this.getFilteredItems().length;if(B){var F=this.state.highlightedIndex,N=F===null||F===B-1?0:F+1;this._performAutoCompleteOnKeyUp=!0,this.setState({highlightedIndex:N,isOpen:!0})}}return j}(),ArrowUp:function(){function j(W){W.preventDefault();var B=this.getFilteredItems().length;if(B){var F=this.state.highlightedIndex,N=F===0||F===null?B-1:F-1;this._performAutoCompleteOnKeyUp=!0,this.setState({highlightedIndex:N,isOpen:!0})}}return j}(),Enter:function(){function j(W){var B=this;if(this.state.isOpen!==!1)if(this.state.highlightedIndex===null)this.setState({isOpen:!1},function(){B.inputEl.select()});else{W.preventDefault();var F=this.getFilteredItems()[this.state.highlightedIndex],N=this.props.getItemValue(F);this.setState({isOpen:!1,highlightedIndex:null},function(){B.inputEl.setSelectionRange(N.length,N.length),B.props.onSelect(N,F)})}}return j}(),Escape:function(){function j(){this.setState({highlightedIndex:null,isOpen:!1})}return j}()},D}return(0,h.default)(H,[{key:"getInitialState",value:function(){function L(){return{isOpen:!1,highlightedIndex:null}}return L}()},{key:"UNSAFE_componentWillMount",value:function(){function L(){this._ignoreBlur=!1,this._performAutoCompleteOnUpdate=!1,this._performAutoCompleteOnKeyUp=!1}return L}()},{key:"UNSAFE_componentWillReceiveProps",value:function(){function L(D){this._performAutoCompleteOnUpdate=!0,(this.props.items!==D.items||this.state.highlightedIndex>=D.items.length)&&this.setState({highlightedIndex:null})}return L}()},{key:"componentDidUpdate",value:function(){function L(D,j){this.state.isOpen===!0&&j.isOpen===!1&&this.setMenuPositions(),this.state.isOpen&&this._performAutoCompleteOnUpdate&&(this._performAutoCompleteOnUpdate=!1,this.maybeAutoCompleteText()),this.maybeScrollItemIntoView(),j.isOpen!==this.state.isOpen&&this.props.onMenuVisibilityChange(this.state.isOpen,this.inputEl)}return L}()},{key:"maybeScrollItemIntoView",value:function(){function L(){if(this.state.isOpen===!0&&this.state.highlightedIndex!==null){var D=this.refs["item-"+String(this.state.highlightedIndex)],j=this.refs.menu;D&&(0,C.default)((0,_.findDOMNode)(D),(0,_.findDOMNode)(j),{onlyScrollIfNeeded:!0})}}return L}()},{key:"handleKeyDown",value:function(){function L(D){this.keyDownHandlers[D.key]?this.keyDownHandlers[D.key].call(this,D):this.setState({highlightedIndex:null,isOpen:!0})}return L}()},{key:"handleChange",value:function(){function L(D){this._performAutoCompleteOnKeyUp=!0,this.props.onChange(D,D.target.value)}return L}()},{key:"handleKeyUp",value:function(){function L(){this._performAutoCompleteOnKeyUp&&(this._performAutoCompleteOnKeyUp=!1,this.maybeAutoCompleteText())}return L}()},{key:"getFilteredItems",value:function(){function L(){var D=this,j=this.props.items;return this.props.shouldItemRender&&(j=j.filter(function(W){return D.props.shouldItemRender(W,D.props.value)})),this.props.sortItems&&j.sort(function(W,B){return D.props.sortItems(W,B,D.props.value)}),j}return L}()},{key:"maybeAutoCompleteText",value:function(){function L(){if(!(!this.props.autoHighlight||this.props.value==="")){var D=this.state.highlightedIndex,j=this.getFilteredItems();if(j.length!==0){var W=D!==null?j[D]:j[0],B=this.props.getItemValue(W),F=B.toLowerCase().indexOf(this.props.value.toLowerCase())===0;F&&D===null&&this.setState({highlightedIndex:0})}}}return L}()},{key:"setMenuPositions",value:function(){function L(){var D=this.inputEl,j=D.getBoundingClientRect(),W=n.window.getComputedStyle(D),B=parseInt(W.marginBottom,10)||0,F=parseInt(W.marginLeft,10)||0,N=parseInt(W.marginRight,10)||0;this.setState({menuTop:j.bottom+B,menuLeft:j.left+F,menuWidth:j.width+F+N})}return L}()},{key:"highlightItemFromMouse",value:function(){function L(D){this.setState({highlightedIndex:D})}return L}()},{key:"selectItemFromMouse",value:function(){function L(D){var j=this,W=this.props.getItemValue(D);this.setState({isOpen:!1,highlightedIndex:null},function(){j.props.onSelect(W,D),j.inputEl.focus()})}return L}()},{key:"setIgnoreBlur",value:function(){function L(D){this._ignoreBlur=D}return L}()},{key:"renderMenu",value:function(){function L(){var D=this,j=this.getFilteredItems().map(function(F,N){var X=D.props.renderItem(F,D.state.highlightedIndex===N,{cursor:"default"});return E.default.cloneElement(X,{onMouseDown:function(){function G(){return D.setIgnoreBlur(!0)}return G}(),onMouseEnter:function(){function G(){return D.highlightItemFromMouse(N)}return G}(),onClick:function(){function G(){return D.selectItemFromMouse(F)}return G}(),ref:"item-"+String(N)})}),W={left:this.state.menuLeft,top:this.state.menuTop,minWidth:this.state.menuWidth};if(!j.length)return null;var B=this.props.renderMenu(j,this.props.value,W);return E.default.cloneElement(B,{ref:"menu"})}return L}()},{key:"handleInputBlur",value:function(){function L(){this.props.onFocus&&this.props.onFocus(),!this._ignoreBlur&&this.setState({isOpen:!1,highlightedIndex:null})}return L}()},{key:"handleInputFocus",value:function(){function L(){if(this.props.onFocus&&this.props.onFocus(!0),this._ignoreBlur){this.setIgnoreBlur(!1);return}this._ignoreClick=!0,this.setState({isOpen:!0})}return L}()},{key:"isInputFocused",value:function(){function L(){return this.inputEl.ownerDocument&&this.inputEl===this.inputEl.ownerDocument.activeElement}return L}()},{key:"handleInputClick",value:function(){function L(){this.isInputFocused()&&this.state.isOpen===!1?this.setState({isOpen:!0}):this.state.highlightedIndex!==null&&!this._ignoreClick&&this.selectItemFromMouse(this.getFilteredItems()[this.state.highlightedIndex]),this._ignoreClick=!1}return L}()},{key:"composeEventHandlers",value:function(){function L(D,j){return j?function(W){D(W),j(W)}:D}return L}()},{key:"render",value:function(){function L(){var D=this;this.props.debug&&R.push({id:R.length,state:this.state});var j=this.props.inputProps;return E.default.createElement("div",(0,o.default)({style:(0,o.default)({},this.props.wrapperStyle)},this.props.wrapperProps),E.default.createElement("input",(0,o.default)({},j,{ref:function(){function W(B){D.inputEl=B}return W}(),"aria-autocomplete":"list",autoComplete:"off",onBlur:this.composeEventHandlers(this.handleInputBlur.bind(this),j.onBlur&&j.onBlur.bind(this)),onChange:this.handleChange.bind(this),onClick:this.composeEventHandlers(this.handleInputClick.bind(this),j.onClick&&j.onClick.bind(this)),onFocus:this.composeEventHandlers(this.handleInputFocus.bind(this),j.onFocus&&j.onFocus.bind(this)),onKeyDown:this.composeEventHandlers(this.handleKeyDown.bind(this),j.onKeyDown&&j.onKeyDown.bind(this)),onKeyUp:this.composeEventHandlers(this.handleKeyUp.bind(this),j.onKeyUp&&j.onKeyUp.bind(this)),role:"combobox",value:this.props.value})),("open"in this.props?this.props.open:this.state.isOpen)&&this.renderMenu(),this.props.debug&&E.default.createElement("pre",{style:{marginLeft:300}},(0,l.default)(R.slice(R.length-5,R.length),null,2)))}return L}()}]),H}(E.default.Component);I.defaultProps={value:"",wrapperProps:{},wrapperStyle:{display:"inline-block"},inputProps:{},onChange:function(){function M(){}return M}(),onSelect:function(){function M(){}return M}(),renderMenu:function(){function M(H,L,D){return E.default.createElement("div",{style:(0,o.default)({},D,this.menuStyle)},H)}return M}(),shouldItemRender:function(){function M(){return!0}return M}(),menuStyle:{borderRadius:"3px",boxShadow:"0 2px 12px rgba(0, 0, 0, 0.1)",background:"rgba(255, 255, 255, 0.9)",padding:"2px 0",fontSize:"90%",position:"fixed",overflow:"auto",maxHeight:"50%"},autoHighlight:!0,onMenuVisibilityChange:function(){function M(){}return M}()},I.propTypes={autoHighlight:P.default.bool,debug:P.default.bool,getItemValue:P.default.func.isRequired,inputProps:P.default.object,items:P.default.array,menuStyle:P.default.object,onChange:P.default.func,onFocus:P.default.func,onMenuVisibilityChange:P.default.func,onSelect:P.default.func,open:P.default.bool,renderItem:P.default.func.isRequired,renderMenu:P.default.func,shouldItemRender:P.default.func,sortItems:P.default.func,value:P.default.any,wrapperProps:P.default.object,wrapperStyle:P.default.object},r.default=I}).call(this,t(27))},function(f,r,t){f.exports=t(677)},function(f,r,t){var n=t(678);function a(l,e,o){o=o||{},e.nodeType===9&&(e=n.getWindow(e));var s=o.allowHorizontalScroll,u=o.onlyScrollIfNeeded,c=o.alignWithTop,m=o.alignWithLeft,p=o.offsetTop||0,h=o.offsetLeft||0,v=o.offsetBottom||0,x=o.offsetRight||0;s=s===void 0?!0:s;var y=n.isWindow(e),k=n.offset(l),T=n.outerHeight(l),E=n.outerWidth(l),_=void 0,A=void 0,C=void 0,S=void 0,P=void 0,O=void 0,R=void 0,I=void 0,M=void 0,H=void 0;y?(R=e,H=n.height(R),M=n.width(R),I={left:n.scrollLeft(R),top:n.scrollTop(R)},P={left:k.left-I.left-h,top:k.top-I.top-p},O={left:k.left+E-(I.left+M)+x,top:k.top+T-(I.top+H)+v},S=I):(_=n.offset(e),A=e.clientHeight,C=e.clientWidth,S={left:e.scrollLeft,top:e.scrollTop},P={left:k.left-(_.left+(parseFloat(n.css(e,"borderLeftWidth"))||0))-h,top:k.top-(_.top+(parseFloat(n.css(e,"borderTopWidth"))||0))-p},O={left:k.left+E-(_.left+C+(parseFloat(n.css(e,"borderRightWidth"))||0))+x,top:k.top+T-(_.top+A+(parseFloat(n.css(e,"borderBottomWidth"))||0))+v}),P.top<0||O.top>0?c===!0?n.scrollTop(e,S.top+P.top):c===!1?n.scrollTop(e,S.top+O.top):P.top<0?n.scrollTop(e,S.top+P.top):n.scrollTop(e,S.top+O.top):u||(c=c===void 0?!0:!!c,c?n.scrollTop(e,S.top+P.top):n.scrollTop(e,S.top+O.top)),s&&(P.left<0||O.left>0?m===!0?n.scrollLeft(e,S.left+P.left):m===!1?n.scrollLeft(e,S.left+O.left):P.left<0?n.scrollLeft(e,S.left+P.left):n.scrollLeft(e,S.left+O.left):u||(m=m===void 0?!0:!!m,m?n.scrollLeft(e,S.left+P.left):n.scrollLeft(e,S.left+O.left)))}f.exports=a},function(f,r,t){var n=Object.assign||function(N){for(var X=1;X<arguments.length;X++){var G=arguments[X];for(var V in G)Object.prototype.hasOwnProperty.call(G,V)&&(N[V]=G[V])}return N},a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol?"symbol":typeof N},l=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source;function e(N){var X=void 0,G=void 0,V=void 0,z=N.ownerDocument,U=z.body,Z=z&&z.documentElement;return X=N.getBoundingClientRect(),G=X.left,V=X.top,G-=Z.clientLeft||U.clientLeft||0,V-=Z.clientTop||U.clientTop||0,{left:G,top:V}}function o(N,X){var G=N["page"+(X?"Y":"X")+"Offset"],V="scroll"+(X?"Top":"Left");if(typeof G!="number"){var z=N.document;G=z.documentElement[V],typeof G!="number"&&(G=z.body[V])}return G}function s(N){return o(N)}function u(N){return o(N,!0)}function c(N){var X=e(N),G=N.ownerDocument,V=G.defaultView||G.parentWindow;return X.left+=s(V),X.top+=u(V),X}function m(N,X,G){var V="",z=N.ownerDocument,U=G||z.defaultView.getComputedStyle(N,null);return U&&(V=U.getPropertyValue(X)||U[X]),V}var p=new RegExp("^("+l+")(?!px)[a-z%]+$","i"),h=/^(top|right|bottom|left)$/,v="currentStyle",x="runtimeStyle",y="left",k="px";function T(N,X){var G=N[v]&&N[v][X];if(p.test(G)&&!h.test(X)){var V=N.style,z=V[y],U=N[x][y];N[x][y]=N[v][y],V[y]=X==="fontSize"?"1em":G||0,G=V.pixelLeft+k,V[y]=z,N[x][y]=U}return G===""?"auto":G}var E=void 0;typeof window<"u"&&(E=window.getComputedStyle?m:T);function _(N,X){for(var G=0;G<N.length;G++)X(N[G])}function A(N){return E(N,"boxSizing")==="border-box"}var C=["margin","border","padding"],S=-1,P=2,O=1,R=0;function I(N,X,G){var V={},z=N.style,U=void 0;for(U in X)X.hasOwnProperty(U)&&(V[U]=z[U],z[U]=X[U]);G.call(N);for(U in X)X.hasOwnProperty(U)&&(z[U]=V[U])}function M(N,X,G){var V=0,z=void 0,U=void 0,Z=void 0;for(U=0;U<X.length;U++)if(z=X[U],z)for(Z=0;Z<G.length;Z++){var st=void 0;z==="border"?st=z+G[Z]+"Width":st=z+G[Z],V+=parseFloat(E(N,st))||0}return V}function H(N){return N!=null&&N==N.window}var L={};_(["Width","Height"],function(N){L["doc"+N]=function(X){var G=X.document;return Math.max(G.documentElement["scroll"+N],G.body["scroll"+N],L["viewport"+N](G))},L["viewport"+N]=function(X){var G="client"+N,V=X.document,z=V.body,U=V.documentElement,Z=U[G];return V.compatMode==="CSS1Compat"&&Z||z&&z[G]||Z}});function D(N,X,G){if(H(N))return X==="width"?L.viewportWidth(N):L.viewportHeight(N);if(N.nodeType===9)return X==="width"?L.docWidth(N):L.docHeight(N);var V=X==="width"?["Left","Right"]:["Top","Bottom"],z=X==="width"?N.offsetWidth:N.offsetHeight;E(N);var U=A(N),Z=0;(z==null||z<=0)&&(z=void 0,Z=E(N,X),(Z==null||Number(Z)<0)&&(Z=N.style[X]||0),Z=parseFloat(Z)||0),G===void 0&&(G=U?O:S);var st=z!==void 0||U,Y=z||Z;if(G===S)return st?Y-M(N,["border","padding"],V):Z;if(st){var rt=G===P?-M(N,["border"],V):M(N,["margin"],V);return Y+(G===O?0:rt)}return Z+M(N,C.slice(G),V)}var j={position:"absolute",visibility:"hidden",display:"block"};function W(N){var X=void 0,G=arguments;return N.offsetWidth!==0?X=D.apply(void 0,G):I(N,j,function(){X=D.apply(void 0,G)}),X}function B(N,X,G){var V=G;if((typeof X>"u"?"undefined":a(X))==="object"){for(var z in X)X.hasOwnProperty(z)&&B(N,z,X[z]);return}if(typeof V<"u"){typeof V=="number"&&(V+="px"),N.style[X]=V;return}return E(N,X)}_(["width","height"],function(N){var X=N.charAt(0).toUpperCase()+N.slice(1);L["outer"+X]=function(V,z){return V&&W(V,N,z?R:O)};var G=N==="width"?["Left","Right"]:["Top","Bottom"];L[N]=function(V,z){if(z!==void 0){if(V){E(V);var U=A(V);return U&&(z+=M(V,["padding","border"],G)),B(V,N,z)}return}return V&&W(V,N,S)}});function F(N,X){B(N,"position")==="static"&&(N.style.position="relative");var G=c(N),V={},z=void 0,U=void 0;for(U in X)X.hasOwnProperty(U)&&(z=parseFloat(B(N,U))||0,V[U]=z+X[U]-G[U]);B(N,V)}f.exports=n({getWindow:function(N){var X=N.ownerDocument||N;return X.defaultView||X.parentWindow},offset:function(N,X){if(typeof X<"u")F(N,X);else return c(N)},isWindow:H,each:_,css:B,clone:function(N){var X={};for(var G in N)N.hasOwnProperty(G)&&(X[G]=N[G]);var V=N.overflow;if(V)for(var G in N)N.hasOwnProperty(G)&&(X.overflow[G]=N.overflow[G]);return X},scrollLeft:function(N,X){if(H(N)){if(X===void 0)return s(N);window.scrollTo(X,u(N))}else{if(X===void 0)return N.scrollLeft;N.scrollLeft=X}},scrollTop:function(N,X){if(H(N)){if(X===void 0)return u(N);window.scrollTo(s(N),X)}else{if(X===void 0)return N.scrollTop;N.scrollTop=X}},viewportWidth:0,viewportHeight:0},L)},function(f,r,t){f.exports={"genome-position-search":"GenomePositionSearchBox-module_genome-position-search-SYccr","genome-position-search-focus":"GenomePositionSearchBox-module_genome-position-search-focus-23by2","genome-position-search-bar":"GenomePositionSearchBox-module_genome-position-search-bar-1_0ZU","genome-position-search-dark":"GenomePositionSearchBox-module_genome-position-search-dark-EML2e","genome-position-search-bar-button":"GenomePositionSearchBox-module_genome-position-search-bar-button-33SWJ","genome-position-search-bar-button-focus":"GenomePositionSearchBox-module_genome-position-search-bar-button-focus-1IhAk","genome-position-search-bar-icon":"GenomePositionSearchBox-module_genome-position-search-bar-icon-14AEk","genome-position-search-bar-icon-focus":"GenomePositionSearchBox-module_genome-position-search-bar-icon-focus-1Ay7Z","genome-position-search-bar-suggestions":"GenomePositionSearchBox-module_genome-position-search-bar-suggestions-SrIoU",btn:"GenomePositionSearchBox-module_btn-2bTUd","btn-sm":"GenomePositionSearchBox-module_btn-sm-2Ltms","btn-default":"GenomePositionSearchBox-module_btn-default-2pap4"}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(5),a=A(n),l=t(3),e=A(l),o=t(4),s=A(o),u=t(6),c=A(u),m=t(7),p=A(m),h=t(1),v=A(h),x=t(2),y=A(x),k=t(170),T=A(k),E=t(169),_=A(E);t(681);function A(S){return S&&S.__esModule?S:{default:S}}var C=function(S){(0,p.default)(P,S);function P(){return(0,e.default)(this,P),(0,c.default)(this,(P.__proto__||(0,a.default)(P)).apply(this,arguments))}return(0,s.default)(P,[{key:"render",value:function(){function O(){var R=this;return v.default.createElement(_.default,{okayOnly:!0,okayTitle:"Done",onOkay:this.props.onDone,title:"Share view link"},v.default.createElement("div",{className:"ExportLinkDialog-module_export-link-dialog-wrapper-ldYlL"},v.default.createElement("input",{ref:function(){function I(M){M&&(R.input=M,M.focus(),M.select())}return I}(),onClick:function(){function I(M){M.target.select()}return I}(),placeholder:"Generating the link...",readOnly:!0,value:this.props.url}),v.default.createElement(T.default,{onClick:function(){function I(M){R.input.select(),document.execCommand("copy")}return I}()},"Copy")))}return O}()}]),P}(v.default.Component);C.defaultProps={onDone:function(){function S(){}return S}(),url:""},C.propTypes={onDone:y.default.func,url:y.default.string},r.default=C},function(f,r,t){f.exports={"export-link-dialog-wrapper":"ExportLinkDialog-module_export-link-dialog-wrapper-ldYlL"}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(5),a=L(n),l=t(3),e=L(l),o=t(4),s=L(o),u=t(6),c=L(u),m=t(7),p=L(m),h=t(29),v=L(h),x=t(1),y=L(x),k=t(2),T=L(k),E=t(264),_=L(E),A=t(96),C=L(A),S=t(683),P=L(S),O=t(684),R=L(O),I=t(78),M=L(I),H=t(11);t(267);function L(W){return W&&W.__esModule?W:{default:W}}var D={"../styles/ViewHeader.module.scss":{"multitrack-header":"ViewHeader-module_multitrack-header-3XnZx","multitrack-header-focus":"ViewHeader-module_multitrack-header-focus-3akkN","multitrack-header-squeazed":"ViewHeader-module_multitrack-header-squeazed-GHIVd","multitrack-header-dark":"ViewHeader-module_multitrack-header-dark-97tZt","multitrack-header-id":"ViewHeader-module_multitrack-header-id-3YURk","multitrack-header-left":"ViewHeader-module_multitrack-header-left-Qj9Sm","multitrack-header-grabber":"ViewHeader-module_multitrack-header-grabber-3jrIz","multitrack-header-grabber-squeazed":"ViewHeader-module_multitrack-header-grabber-squeazed-dU45Z","multitrack-header-search":"ViewHeader-module_multitrack-header-search-1X_3_","multitrack-header-nav-list":"ViewHeader-module_multitrack-header-nav-list-2nvcu","multitrack-header-icon":"ViewHeader-module_multitrack-header-icon-16QKZ","multitrack-header-icon-squeazed":"ViewHeader-module_multitrack-header-icon-squeazed-25lkF","mouse-tool-selection":"ViewHeader-module_mouse-tool-selection-1pg2m"}},j=function(W){(0,p.default)(B,W);function B(F){(0,e.default)(this,B);var N=(0,c.default)(this,(B.__proto__||(0,a.default)(B)).call(this,F));return N.configImg=null,N.plusImg=null,N.state={addTrackPositionMenuUid:null,addTrackPositionMenuPosition:null,configMenuUid:null,configMenuPosition:null,isFocused:!1,width:-1},N.handleTrackPositionChosenBound=N.handleTrackPositionChosen.bind(N),N}return(0,s.default)(B,[{key:"componentDidMount",value:function(){function F(){this.setState({width:this.el.clientWidth})}return F}()},{key:"checkWidth",value:function(){function F(){var N=this.el.clientWidth;N!==this.state.width&&this.setState({width:N})}return F}()},{key:"handleConfigMenuOpened",value:function(){function F(N){this.setState({configMenuUid:N,configMenuPosition:this.configImg.getBoundingClientRect()})}return F}()},{key:"handleAddTrackPositionMenuOpened",value:function(){function F(N){this.setState({addTrackPositionMenuUid:N,addTrackPositionMenuPosition:this.plusImg.getBoundingClientRect()})}return F}()},{key:"handleTrackPositionChosen",value:function(){function F(N){this.props.onTrackPositionChosen(N),this.setState({addTrackPositionMenuUid:null,addTrackPositionMenuPosition:null})}return F}()},{key:"render",value:function(){function F(){var N=this,X=null,G=null;this.state.addTrackPositionMenuPosition&&(G=y.default.createElement(_.default,{onMenuClosed:function(){function Z(){N.setState({addTrackPositionMenuUid:null,addTrackPositionMenuPosition:null})}return Z}()},y.default.createElement(C.default,{orientation:"left",position:this.state.addTrackPositionMenuPosition,theme:this.props.theme},y.default.createElement(R.default,{onTrackPositionChosen:this.handleTrackPositionChosenBound})))),this.state.configMenuUid&&(X=y.default.createElement(_.default,{onMenuClosed:function(){function Z(){return N.setState({configMenuUid:null})}return Z}()},y.default.createElement(P.default,{onClearView:function(){function Z(){N.setState({configMenuUid:null}),N.props.onClearView()}return Z}(),onEditViewConfig:function(){function Z(){N.setState({configMenuUid:null}),N.props.onEditViewConfig(N.state.configMenuUid)}return Z}(),onExportPNG:function(){function Z(){N.setState({configMenuUid:null}),N.props.onExportPNG()}return Z}(),onExportSVG:function(){function Z(){N.setState({configMenuUid:null}),N.props.onExportSVG()}return Z}(),onExportViewAsJSON:function(){function Z(){N.setState({configMenuUid:null}),N.props.onExportViewsAsJSON()}return Z}(),onExportViewAsLink:function(){function Z(){N.setState({configMenuUid:null}),N.props.onExportViewsAsLink()}return Z}(),onLockLocation:function(){function Z(){N.setState({configMenuUid:null}),N.props.onLockLocation(N.state.configMenuUid)}return Z}(),onLockZoom:function(){function Z(){N.setState({configMenuUid:null}),N.props.onLockZoom(N.state.configMenuUid)}return Z}(),onLockZoomAndLocation:function(){function Z(){N.setState({configMenuUid:null}),N.props.onLockZoomAndLocation(N.state.configMenuUid)}return Z}(),onOptionsChanged:function(){function Z(st){N.props.onViewOptionsChanged(st),N.setState({configMenuUid:null})}return Z}(),onProjectViewport:function(){function Z(){N.setState({configMenuUid:null}),N.props.onProjectViewport(N.state.configMenuUid)}return Z}(),onTakeAndLockZoomAndLocation:function(){function Z(){N.setState({configMenuUid:null}),N.props.onTakeAndLockZoomAndLocation(N.state.configMenuUid)}return Z}(),onTogglePositionSearchBox:function(){function Z(){N.setState({configMenuUid:null}),N.props.onTogglePositionSearchBox(N.state.configMenuUid)}return Z}(),onUnlockLocation:function(){function Z(){N.setState({configMenuUid:null}),N.props.onUnlockLocation(N.state.configMenuUid)}return Z}(),onUnlockZoom:function(){function Z(){N.setState({configMenuUid:null}),N.props.onUnlockZoom(N.state.configMenuUid)}return Z}(),onUnlockZoomAndLocation:function(){function Z(){N.setState({configMenuUid:null}),N.props.onUnlockZoomAndLocation(N.state.configMenuUid)}return Z}(),onYankLocation:function(){function Z(){N.setState({configMenuUid:null}),N.props.onYankLocation(N.state.configMenuUid)}return Z}(),onYankZoom:function(){function Z(){N.setState({configMenuUid:null}),N.props.onYankZoom(N.state.configMenuUid)}return Z}(),onYankZoomAndLocation:function(){function Z(){N.setState({configMenuUid:null}),N.props.onYankZoomAndLocation(N.state.configMenuUid)}return Z}(),onZoomToData:function(){function Z(){N.setState({configMenuUid:null}),N.props.onZoomToData(N.state.configMenuUid)}return Z}(),orientation:"left",position:this.state.configMenuPosition,theme:this.props.theme})));var V=this.props.getGenomePositionSearchBox(this.state.isFocused,function(Z){N.setState({isFocused:Z})}),z=this.state.isFocused?"multitrack-header-focus":"multitrack-header",U=this.state.width<=H.VIEW_HEADER_MED_WIDTH_SEARCH_BAR?"multitrack-header-icon-squeazed":"multitrack-header-icon";return this.props.theme===H.THEME_DARK&&(z+=" multitrack-header-dark"),y.default.createElement("div",{ref:function(){function Z(st){N.el=st}return Z}(),className:(0,v.default)(z,D)},y.default.createElement("div",{className:"ViewHeader-module_multitrack-header-left-Qj9Sm"},this.props.mouseTool===H.MOUSE_TOOL_SELECT&&y.default.createElement("svg",{title:"Selection tool active",className:(0,v.default)("mouse-tool-selection "+U,D)},y.default.createElement("use",{xlinkHref:"#select"})),y.default.createElement("div",{className:"ViewHeader-module_multitrack-header-grabber-3jrIz",title:"Drag to move the view"},y.default.createElement("div",null),y.default.createElement("div",null),y.default.createElement("div",null)),this.state.width>H.VIEW_HEADER_MIN_WIDTH_SEARCH_BAR&&y.default.createElement("div",{className:"ViewHeader-module_multitrack-header-search-1X_3_"},this.props.isGenomePositionSearchBoxVisible&&V)),y.default.createElement("nav",{className:"ViewHeader-module_multitrack-header-nav-list-2nvcu"},y.default.createElement("svg",{onClick:this.props.onAddView,className:(0,v.default)(U,D)},y.default.createElement("title",null,"Add new view (clone this view)"),y.default.createElement("use",{xlinkHref:"#copy"})),y.default.createElement("svg",{ref:function(){function Z(st){N.configImg=st}return Z}(),onClick:function(){function Z(){return N.handleConfigMenuOpened(N.props.viewUid)}return Z}(),className:(0,v.default)(U,D)},y.default.createElement("title",null,"Configure this view"),y.default.createElement("use",{xlinkHref:"#cog"})),y.default.createElement("svg",{ref:function(){function Z(st){N.plusImg=st}return Z}(),onClick:function(){function Z(){return N.handleAddTrackPositionMenuOpened(N.props.viewUid)}return Z}(),className:(0,v.default)(U,D)},y.default.createElement("title",null,"Add Track"),y.default.createElement("use",{xlinkHref:"#plus"})),y.default.createElement("svg",{onClick:this.props.onCloseView,className:(0,v.default)(U,D)},y.default.createElement("title",null,"Close View"),y.default.createElement("use",{xlinkHref:"#cross"}))),X,G)}return F}()}]),B}(y.default.Component);j.defaultProps={isGenomePositionSearchBoxVisible:!1},j.propTypes={getGenomePositionSearchBox:T.default.func.isRequired,isGenomePositionSearchBoxVisible:T.default.bool,mouseTool:T.default.string.isRequired,onAddView:T.default.func.isRequired,onClearView:T.default.func.isRequired,onCloseView:T.default.func.isRequired,onEditViewConfig:T.default.func.isRequired,onExportSVG:T.default.func.isRequired,onExportPNG:T.default.func.isRequired,onExportViewsAsJSON:T.default.func.isRequired,onExportViewsAsLink:T.default.func.isRequired,onLockLocation:T.default.func.isRequired,onLockZoom:T.default.func.isRequired,onLockZoomAndLocation:T.default.func.isRequired,onProjectViewport:T.default.func.isRequired,onTakeAndLockZoomAndLocation:T.default.func.isRequired,onTogglePositionSearchBox:T.default.func.isRequired,onTrackPositionChosen:T.default.func.isRequired,onUnlockLocation:T.default.func.isRequired,onUnlockZoom:T.default.func.isRequired,onUnlockZoomAndLocation:T.default.func.isRequired,onViewOptionsChanged:T.default.func.isRequired,onYankLocation:T.default.func.isRequired,onYankZoom:T.default.func.isRequired,onYankZoomAndLocation:T.default.func.isRequired,onZoomToData:T.default.func.isRequired,theme:T.default.symbol.isRequired,viewUid:T.default.string.isRequired},r.default=(0,M.default)(j)},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(17),a=L(n),l=t(18),e=L(l),o=t(5),s=L(o),u=t(3),c=L(u),m=t(4),p=L(m),h=t(6),v=L(h),x=t(7),y=L(x),k=t(29),T=L(k),E=t(1),_=L(E),A=t(2),C=L(A),S=t(96),P=L(S),O=t(67),R=L(O),I=t(391),M=L(I);t(68);var H=t(11);function L(W){return W&&W.__esModule?W:{default:W}}var D={"../styles/ContextMenu.module.scss":{"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-dark":"ContextMenu-module_context-menu-dark-2PO31","context-menu-icon":"ContextMenu-module_context-menu-icon-I4kiw","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},j=function(W){(0,y.default)(B,W);function B(F){(0,c.default)(this,B);var N=(0,v.default)(this,(B.__proto__||(0,s.default)(B)).call(this,F));return N.state={submenuShown:!1},N}return(0,p.default)(B,[{key:"getConfigureViewMenu",value:function(){function F(N,X){var G=this,V=["backgroundColor"],z={},U={},Z=function(){function Q(ct){if(ct in(0,e.default)(H.OPTIONS_INFO)&&(z[ct]={name:H.OPTIONS_INFO[ct].name},H.OPTIONS_INFO[ct].inlineOptions)){var nt=function(){function yt(pt){var dt=H.OPTIONS_INFO[ct].inlineOptions[pt];z[ct].children||(z[ct].children={});var mt={name:dt.name,value:dt.value};mt.handler=function(){U[ct]=dt.value,G.props.onOptionsChanged(U)},z[ct].children[pt]=mt}return yt}();for(var ot in H.OPTIONS_INFO[ct].inlineOptions)nt(ot)}}return Q}(),st=!0,Y=!1,rt=void 0;try{for(var ft=(0,a.default)(V),tt;!(st=(tt=ft.next()).done);st=!0){var K=tt.value;Z(K)}}catch(Q){Y=!0,rt=Q}finally{try{!st&&ft.return&&ft.return()}finally{if(Y)throw rt}}return _.default.createElement(M.default,{key:"config-series-menu",closeMenu:this.props.closeMenu,menuItems:z,orientation:this.state.orientation,parentBbox:X,position:N,theme:this.props.theme})}return F}()},{key:"getSubmenu",value:function(){function F(){if(this.state.submenuShown){var N=this.state.submenuSourceBbox,X=this.state.orientation==="left"?{left:this.state.left,top:N.top}:{left:this.state.left+N.width+7,top:N.top},G=this.state.submenuShown;return G.option==="options"?this.getConfigureViewMenu(X,N):_.default.createElement("div",null)}return _.default.createElement("div",null)}return F}()},{key:"render",value:function(){function F(){var N=this,X="context-menu";return this.props.theme===H.THEME_DARK&&(X+=" context-menu-dark"),_.default.createElement("div",{ref:function(){function G(V){N.div=V}return G}(),"data-menu-type":"ConfigViewMenu",style:{left:this.state.left,top:this.state.top},className:(0,T.default)(X,D)},_.default.createElement(R.default,{onClick:function(){function G(V){return N.props.onTogglePositionSearchBox(V)}return G}()},"Toggle position search box"),_.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),_.default.createElement(R.default,{onClick:function(){function G(V){return N.props.onZoomToData(V)}return G}()},"Zoom to data extent"),_.default.createElement(R.default,{onClick:function(){function G(V){return N.props.onClearView(V)}return G}()},"Clear View"),_.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),_.default.createElement(R.default,{onClick:function(){function G(V){return N.props.onYankZoom(V)}return G}()},"Take zoom from"),_.default.createElement(R.default,{onClick:function(){function G(V){return N.props.onYankLocation(V)}return G}()},"Take location from"),_.default.createElement(R.default,{onClick:function(){function G(V){return N.props.onYankZoomAndLocation(V)}return G}()},"Take zoom and location from"),_.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),_.default.createElement(R.default,{onClick:this.props.onLockZoom},"Lock zoom with"),_.default.createElement(R.default,{onClick:this.props.onLockLocation},"Lock location with"),_.default.createElement(R.default,{onClick:this.props.onLockZoomAndLocation},"Lock zoom and location with"),_.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),_.default.createElement(R.default,{onClick:this.props.onTakeAndLockZoomAndLocation},"Take and lock zoom and location with"),_.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),_.default.createElement(R.default,{onClick:function(){function G(V){return N.props.onUnlockZoom(V)}return G}()},"Unlock zoom"),_.default.createElement(R.default,{onClick:function(){function G(V){return N.props.onUnlockLocation(V)}return G}()},"Unlock location"),_.default.createElement(R.default,{onClick:function(){function G(V){return N.props.onUnlockZoomAndLocation(V)}return G}()},"Unlock zoom and location"),_.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),_.default.createElement(R.default,{onClick:function(){function G(V){return N.props.onProjectViewport(V)}return G}()},"Show this viewport on"),_.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),_.default.createElement(R.default,{onClick:function(){function G(V){return N.props.onEditViewConfig(V)}return G}()},"Edit view config"),_.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),_.default.createElement(R.default,{onClick:function(){function G(){return N.props.onExportSVG()}return G}()},"Export views as SVG"),_.default.createElement(R.default,{onClick:function(){function G(){return N.props.onExportPNG()}return G}()},"Export views as PNG"),_.default.createElement(R.default,{onClick:function(){function G(){return N.props.onExportViewAsJSON()}return G}()},"Export views as JSON"),_.default.createElement(R.default,{onClick:function(){function G(){return N.props.onExportViewAsLink()}return G}()},"Export views as Link"),this.getSubmenu())}return F}()}]),B}(P.default);j.propTypes={onEditViewConfig:C.default.func.isRequired,onExportSVG:C.default.func,onExportPNG:C.default.func,onExportViewAsJSON:C.default.func,onExportViewAsLink:C.default.func,onLockLocation:C.default.func,onLockZoom:C.default.func,onLockZoomAndLocation:C.default.func,onProjectViewport:C.default.func,onTakeAndLockZoomAndLocation:C.default.func,onTogglePositionSearchBox:C.default.func,onUnlockLocation:C.default.func,onUnlockZoom:C.default.func,onUnlockZoomAndLocation:C.default.func,onYankLocation:C.default.func,onYankZoom:C.default.func,onYankZoomAndLocation:C.default.func,onZoomToData:C.default.func,theme:C.default.symbol},r.default=j},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(29),a=p(n),l=t(2),e=p(l),o=t(1),s=p(o),u=t(78),c=p(u),m=t(11);t(685);function p(x){return x&&x.__esModule?x:{default:x}}var h={"../styles/AddTrackPositionMenu.module.scss":{"add-track-position-table":"AddTrackPositionMenu-module_add-track-position-table-RHODc","add-track-position-table-dark":"AddTrackPositionMenu-module_add-track-position-table-dark-_B9fu","add-track-position-other":"AddTrackPositionMenu-module_add-track-position-other-lIGbb","add-track-position-top-center":"AddTrackPositionMenu-module_add-track-position-top-center-2Dw4e","add-track-position-middle-left":"AddTrackPositionMenu-module_add-track-position-middle-left-2ycaN","add-track-position-middle-right":"AddTrackPositionMenu-module_add-track-position-middle-right-Qqjnn","add-track-position-middle-middle":"AddTrackPositionMenu-module_add-track-position-middle-middle-2YFZd","add-track-position-bottom-middle":"AddTrackPositionMenu-module_add-track-position-bottom-middle-3ityE","add-track-position-span":"AddTrackPositionMenu-module_add-track-position-span-2hbwE"}};function v(x){var y="add-track-position-table";return x.theme===m.THEME_DARK&&(y+=" add-track-position-table-dark"),s.default.createElement("div",null,s.default.createElement("div",{className:"AddTrackPositionMenu-module_add-track-position-span-2hbwE"},"Add Track..."),s.default.createElement("table",{className:(0,a.default)(y,h)},s.default.createElement("tbody",null,s.default.createElement("tr",{style:{height:"30px"}},s.default.createElement("td",{className:"AddTrackPositionMenu-module_add-track-position-other-lIGbb"}),s.default.createElement("td",{onClick:function(){function k(){return x.onTrackPositionChosen("top")}return k}(),className:"AddTrackPositionMenu-module_add-track-position-top-center-2Dw4e"},"top"),s.default.createElement("td",{className:"AddTrackPositionMenu-module_add-track-position-other-lIGbb"})),s.default.createElement("tr",{style:{height:"80px"}},s.default.createElement("td",{onClick:function(){function k(){return x.onTrackPositionChosen("left")}return k}(),className:"AddTrackPositionMenu-module_add-track-position-middle-left-2ycaN"},"left"),s.default.createElement("td",{onClick:function(){function k(){return x.onTrackPositionChosen("center")}return k}(),className:"AddTrackPositionMenu-module_add-track-position-middle-middle-2YFZd"},"center"),s.default.createElement("td",{onClick:function(){function k(){return x.onTrackPositionChosen("right")}return k}(),className:"AddTrackPositionMenu-module_add-track-position-middle-right-Qqjnn"},"right")),s.default.createElement("tr",{style:{height:"30px"}},s.default.createElement("td",{className:"AddTrackPositionMenu-module_add-track-position-other-lIGbb"}),s.default.createElement("td",{onClick:function(){function k(){return x.onTrackPositionChosen("bottom")}return k}(),className:"AddTrackPositionMenu-module_add-track-position-bottom-middle-3ityE"},"bottom"),s.default.createElement("td",{className:"AddTrackPositionMenu-module_add-track-position-other-lIGbb"})))))}v.propTypes={onTrackPositionChosen:e.default.func.isRequired,theme:e.default.symbol.isRequired},r.default=(0,c.default)(v)},function(f,r,t){f.exports={"add-track-position-table":"AddTrackPositionMenu-module_add-track-position-table-RHODc","add-track-position-table-dark":"AddTrackPositionMenu-module_add-track-position-table-dark-_B9fu","add-track-position-other":"AddTrackPositionMenu-module_add-track-position-other-lIGbb","add-track-position-top-center":"AddTrackPositionMenu-module_add-track-position-top-center-2Dw4e","add-track-position-middle-left":"AddTrackPositionMenu-module_add-track-position-middle-left-2ycaN","add-track-position-middle-right":"AddTrackPositionMenu-module_add-track-position-middle-right-Qqjnn","add-track-position-middle-middle":"AddTrackPositionMenu-module_add-track-position-middle-middle-2YFZd","add-track-position-bottom-middle":"AddTrackPositionMenu-module_add-track-position-bottom-middle-3ityE","add-track-position-span":"AddTrackPositionMenu-module_add-track-position-span-2hbwE"}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(35),a=U(n),l=t(246),e=U(l),o=t(247),s=U(o),u=t(5),c=U(u),m=t(3),p=U(m),h=t(4),v=U(h),x=t(6),y=U(x),k=t(7),T=U(k),E=t(29),_=U(E),A=t(2),C=U(A),S=t(1),P=U(S),O=t(687),R=U(O),I=t(688);t(689);var M=t(397),H=U(M),L=t(271),D=U(L),j=t(170),W=U(j),B=t(169),F=U(B),N=t(132),X=U(N),G=t(69),V=U(G),z=t(10);t(722);function U(Y){return Y&&Y.__esModule?Y:{default:Y}}var Z={"../styles/ViewConfigEditor.module.scss":{"view-config-editor-header":"ViewConfigEditor-module_view-config-editor-header-2nTtX","view-config-editor":"ViewConfigEditor-module_view-config-editor-2HAFN","view-config-log":"ViewConfigEditor-module_view-config-log-1mYmL","view-config-log-header":"ViewConfigEditor-module_view-config-log-header-3EbEM","view-config-log-msg":"ViewConfigEditor-module_view-config-log-msg-2-CJZ",title:"ViewConfigEditor-module_title-3nLH_",Warning:"ViewConfigEditor-module_Warning-_sgiB",Success:"ViewConfigEditor-module_Success-nclFo",Error:"ViewConfigEditor-module_Error-3enaC"}},st=function(Y){(0,T.default)(rt,Y);function rt(ft){(0,p.default)(this,rt);var tt=(0,y.default)(this,(rt.__proto__||(0,c.default)(rt)).call(this,ft));return tt.state={code:ft.viewConfig,hide:!1,showLog:!1,logMsgs:tt.getLogMsgs(ft.viewConfig)},tt.handleChangeBound=tt.handleChange.bind(tt),tt.handleKeyDownBound=tt.handleKeyDown.bind(tt),tt.handleKeyUpBound=tt.handleKeyUp.bind(tt),tt.handleSubmitBound=tt.handleSubmit.bind(tt),tt.hideBound=tt.hide.bind(tt),tt.showBound=tt.show.bind(tt),tt.toggleLogBound=tt.toggleLog.bind(tt),tt.pubSubs=[],tt.pubSubs.push(tt.props.pubSub.subscribe("keydown",tt.handleKeyDownBound)),tt.pubSubs.push(tt.props.pubSub.subscribe("keyup",tt.handleKeyUpBound)),tt}return(0,v.default)(rt,[{key:"componentDidMount",value:function(){var ft=(0,s.default)(e.default.mark(function(){function K(){return e.default.wrap(function(){function Q(ct){for(;;)switch(ct.prev=ct.next){case 0:if(!this.editor){ct.next=6;break}return this.editor._input.focus(),this.editor._input.setSelectionRange(0,0),ct.next=5,(0,z.timeout)(0);case 5:this.editorWrap.scrollTop=0;case 6:case"end":return ct.stop()}}return Q}(),K,this)}return K}()));function tt(){return ft.apply(this,arguments)}return tt}()},{key:"componentWillUnmount",value:function(){function ft(){var tt=this;this.pubSubs.forEach(function(K){return tt.props.pubSub.unsubscribe(K)}),this.pubSubs=[]}return ft}()},{key:"handleChange",value:function(){function ft(tt){var K=this.getLogMsgs(tt);this.setState({code:tt,logMsgs:K})}return ft}()},{key:"handleKeyDown",value:function(){function ft(tt){tt.key==="s"&&(tt.ctrlKey||tt.metaKey)&&(tt.preventDefault(),this.props.onChange(this.state.code)),tt.key==="Enter"&&(tt.ctrlKey||tt.metaKey)&&(tt.preventDefault(),this.props.onChange(this.state.code),this.props.modal.close())}return ft}()},{key:"handleKeyUp",value:function(){function ft(tt){this.setState({hide:!1}),tt.key==="Escape"&&(tt.preventDefault(),this.props.modal.close(),this.props.onCancel())}return ft}()},{key:"handleSubmit",value:function(){function ft(tt){tt&&tt.preventDefault(),this.props.onSave(this.state.code)}return ft}()},{key:"getLogMsgs",value:function(){function ft(tt){var K=[],Q=void 0;try{Q=JSON.parse(tt)}catch(ot){return console.warn(ot),K.push({type:"Error",msg:ot.toString()}),K}var ct=new H.default().compile(D.default),nt=ct(Q);return nt||(console.warn("Invalid viewconf"),K.push({type:"Warning",msg:"Invalid viewconf"})),ct.errors&&(console.warn((0,a.default)(ct.errors,null,2)),ct.errors.forEach(function(ot){K.push({type:"Warning",msg:(0,a.default)(ot,null,2)})})),K.length===0&&K.push({type:"Success",msg:"No error or warnings"}),K}return ft}()},{key:"hide",value:function(){function ft(){this.setState({hide:!0})}return ft}()},{key:"show",value:function(){function ft(){this.setState({hide:!1})}return ft}()},{key:"hideLog",value:function(){function ft(){this.setState({showLog:!1})}return ft}()},{key:"showLog",value:function(){function ft(){this.setState({showLog:!0})}return ft}()},{key:"toggleLog",value:function(){function ft(){this.state.showLog?this.hideLog():this.showLog()}return ft}()},{key:"render",value:function(){function ft(){var tt=this,K=this.state.logMsgs.map(function(Q,ct){var nt=String(ct)+"-"+String(Q.msg);return P.default.createElement("tr",{key:nt},P.default.createElement("td",{className:(0,_.default)("title "+String(Q.type),Z)},"["+String(ct)+"] "+String(Q.type)),P.default.createElement("td",null,P.default.createElement("pre",null,Q.msg)))});return P.default.createElement(F.default,{cancelShortcut:"ESC",cancelTitle:"Discard Changes",hide:this.state.hide,maxHeight:!0,okayShortcut:"⌘+Enter",okayTitle:"Save and Close",onCancel:this.props.onCancel,onOkay:this.handleSubmitBound,title:"Edit View Config"},P.default.createElement("header",{className:"ViewConfigEditor-module_view-config-editor-header-2nTtX"},P.default.createElement(W.default,{onBlur:this.showBound,onMouseDown:this.hideBound,onMouseOut:this.showBound,onMouseUp:this.showBound},"Hide While Mousedown"),P.default.createElement(W.default,{onClick:function(){function Q(){tt.props.onChange(tt.state.code)}return Q}(),shortcut:"⌘+S"},"Save")),P.default.createElement("div",{ref:function(){function Q(ct){tt.editorWrap=ct}return Q}(),className:"ViewConfigEditor-module_view-config-editor-2HAFN"},P.default.createElement(R.default,{ref:function(){function Q(ct){tt.editor=ct}return Q}(),highlight:function(){function Q(ct){return(0,I.highlight)(ct,I.languages.json)}return Q}(),onValueChange:this.handleChangeBound,padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:"inherit"},value:this.state.code})),P.default.createElement("div",{style:{height:this.state.showLog?"50%":"30px"},className:"ViewConfigEditor-module_view-config-log-1mYmL"},P.default.createElement("div",{onClick:function(){function Q(){return tt.toggleLogBound()}return Q}(),className:"ViewConfigEditor-module_view-config-log-header-3EbEM"},"Log Messages ("+String(this.state.logMsgs.filter(function(Q){return Q.type!=="Success"}).length)+")"),P.default.createElement("div",{style:{padding:this.state.showLog?"10px":0},className:"ViewConfigEditor-module_view-config-log-msg-2-CJZ"},P.default.createElement("table",null,P.default.createElement("tbody",null,K)))))}return ft}()}]),rt}(P.default.Component);st.propTypes={modal:C.default.object.isRequired,onCancel:C.default.func.isRequired,onChange:C.default.func.isRequired,onSave:C.default.func.isRequired,pubSub:C.default.object.isRequired,viewConfig:C.default.object.isRequired},r.default=(0,V.default)((0,X.default)(st))},function(f,r,t){(function(n){Object.defineProperty(r,"__esModule",{value:!0});var a=Object.assign||function(D){for(var j=1;j<arguments.length;j++){var W=arguments[j];for(var B in W)Object.prototype.hasOwnProperty.call(W,B)&&(D[B]=W[B])}return D},l=function(){function D(j,W){for(var B=0;B<W.length;B++){var F=W[B];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(j,F.key,F)}}return function(j,W,B){return W&&D(j.prototype,W),B&&D(j,B),j}}(),e=t(1),o=s(e);function s(D){if(D&&D.__esModule)return D;var j={};if(D!=null)for(var W in D)Object.prototype.hasOwnProperty.call(D,W)&&(j[W]=D[W]);return j.default=D,j}function u(D,j){var W={};for(var B in D)j.indexOf(B)>=0||Object.prototype.hasOwnProperty.call(D,B)&&(W[B]=D[B]);return W}function c(D,j){if(!(D instanceof j))throw new TypeError("Cannot call a class as a function")}function m(D,j){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:D}function p(D,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);D.prototype=Object.create(j&&j.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(D,j):D.__proto__=j)}var h=13,v=9,x=8,y=89,k=90,T=77,E=57,_=219,A=222,C=192,S=100,P=3e3,O="navigator"in n&&/Win/i.test(navigator.platform),R="navigator"in n&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),I="npm__react-simple-code-editor__textarea",M=`
/**
 * Reset the text fill color so that placeholder is visible
 */
.`+I+`:empty {
  -webkit-text-fill-color: inherit !important;
}

/**
 * Hack to apply on some CSS on IE10 and IE11
 */
@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {
  /**
    * IE doesn't support '-webkit-text-fill-color'
    * So we use 'color: transparent' to make the text transparent on IE
    * Unlike other browsers, it doesn't affect caret color in IE
    */
  .`+I+` {
    color: transparent !important;
  }

  .`+I+`::selection {
    background-color: #accef7 !important;
    color: transparent !important;
  }
}
`,H=function(D){p(j,D);function j(){var W,B,F,N;c(this,j);for(var X=arguments.length,G=Array(X),V=0;V<X;V++)G[V]=arguments[V];return N=(B=(F=m(this,(W=j.__proto__||Object.getPrototypeOf(j)).call.apply(W,[this].concat(G))),F),F.state={capture:!0},F._recordCurrentState=function(){var z=F._input;if(z){var U=z.value,Z=z.selectionStart,st=z.selectionEnd;F._recordChange({value:U,selectionStart:Z,selectionEnd:st})}},F._getLines=function(z,U){return z.substring(0,U).split(`
`)},F._recordChange=function(z){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Z=F._history,st=Z.stack,Y=Z.offset;if(st.length&&Y>-1){F._history.stack=st.slice(0,Y+1);var rt=F._history.stack.length;if(rt>S){var ft=rt-S;F._history.stack=st.slice(ft,rt),F._history.offset=Math.max(F._history.offset-ft,0)}}var tt=Date.now();if(U){var K=F._history.stack[F._history.offset];if(K&&tt-K.timestamp<P){var Q=/[^a-z0-9]([a-z0-9]+)$/i,ct=F._getLines(K.value,K.selectionStart).pop().match(Q),nt=F._getLines(z.value,z.selectionStart).pop().match(Q);if(ct&&nt&&nt[1].startsWith(ct[1])){F._history.stack[F._history.offset]=a({},z,{timestamp:tt});return}}}F._history.stack.push(a({},z,{timestamp:tt})),F._history.offset++},F._updateInput=function(z){var U=F._input;U&&(U.value=z.value,U.selectionStart=z.selectionStart,U.selectionEnd=z.selectionEnd,F.props.onValueChange(z.value))},F._applyEdits=function(z){var U=F._input,Z=F._history.stack[F._history.offset];Z&&U&&(F._history.stack[F._history.offset]=a({},Z,{selectionStart:U.selectionStart,selectionEnd:U.selectionEnd})),F._recordChange(z),F._updateInput(z)},F._undoEdit=function(){var z=F._history,U=z.stack,Z=z.offset,st=U[Z-1];st&&(F._updateInput(st),F._history.offset=Math.max(Z-1,0))},F._redoEdit=function(){var z=F._history,U=z.stack,Z=z.offset,st=U[Z+1];st&&(F._updateInput(st),F._history.offset=Math.min(Z+1,U.length-1))},F._handleKeyDown=function(z){var U=F.props,Z=U.tabSize,st=U.insertSpaces,Y=U.ignoreTabKey,rt=U.onKeyDown;if(!(rt&&(rt(z),z.defaultPrevented))){var ft=z.target,tt=ft.value,K=ft.selectionStart,Q=ft.selectionEnd,ct=(st?" ":"	").repeat(Z);if(z.keyCode===v&&!Y&&F.state.capture)if(z.preventDefault(),z.shiftKey){var nt=F._getLines(tt,K),ot=nt.length-1,yt=F._getLines(tt,Q).length-1,pt=tt.split(`
`).map(function(ee,Tt){return Tt>=ot&&Tt<=yt&&ee.startsWith(ct)?ee.substring(ct.length):ee}).join(`
`);if(tt!==pt){var dt=nt[ot];F._applyEdits({value:pt,selectionStart:dt.startsWith(ct)?K-ct.length:K,selectionEnd:Q-(tt.length-pt.length)})}}else if(K!==Q){var mt=F._getLines(tt,K),q=mt.length-1,$=F._getLines(tt,Q).length-1,J=mt[q];F._applyEdits({value:tt.split(`
`).map(function(ee,Tt){return Tt>=q&&Tt<=$?ct+ee:ee}).join(`
`),selectionStart:/\S/.test(J)?K+ct.length:K,selectionEnd:Q+ct.length*($-q+1)})}else{var lt=K+ct.length;F._applyEdits({value:tt.substring(0,K)+ct+tt.substring(Q),selectionStart:lt,selectionEnd:lt})}else if(z.keyCode===x){var ut=K!==Q,ht=tt.substring(0,K);if(ht.endsWith(ct)&&!ut){z.preventDefault();var bt=K-ct.length;F._applyEdits({value:tt.substring(0,K-ct.length)+tt.substring(Q),selectionStart:bt,selectionEnd:bt})}}else if(z.keyCode===h){if(K===Q){var kt=F._getLines(tt,K).pop(),vt=kt.match(/^\s+/);if(vt&&vt[0]){z.preventDefault();var Et=`
`+vt[0],Rt=K+Et.length;F._applyEdits({value:tt.substring(0,K)+Et+tt.substring(Q),selectionStart:Rt,selectionEnd:Rt})}}}else if(z.keyCode===E||z.keyCode===_||z.keyCode===A||z.keyCode===C){var Vt=void 0;z.keyCode===E&&z.shiftKey?Vt=["(",")"]:z.keyCode===_?z.shiftKey?Vt=["{","}"]:Vt=["[","]"]:z.keyCode===A?z.shiftKey?Vt=['"','"']:Vt=["'","'"]:z.keyCode===C&&!z.shiftKey&&(Vt=["`","`"]),K!==Q&&Vt&&(z.preventDefault(),F._applyEdits({value:tt.substring(0,K)+Vt[0]+tt.substring(K,Q)+Vt[1]+tt.substring(Q),selectionStart:K,selectionEnd:Q+2}))}else(R?z.metaKey&&z.keyCode===k:z.ctrlKey&&z.keyCode===k)&&!z.shiftKey&&!z.altKey?(z.preventDefault(),F._undoEdit()):(R?z.metaKey&&z.keyCode===k&&z.shiftKey:O?z.ctrlKey&&z.keyCode===y:z.ctrlKey&&z.keyCode===k&&z.shiftKey)&&!z.altKey?(z.preventDefault(),F._redoEdit()):z.keyCode===T&&z.ctrlKey&&(!R||z.shiftKey)&&(z.preventDefault(),F.setState(function(ee){return{capture:!ee.capture}}))}},F._handleChange=function(z){var U=z.target,Z=U.value,st=U.selectionStart,Y=U.selectionEnd;F._recordChange({value:Z,selectionStart:st,selectionEnd:Y},!0),F.props.onValueChange(Z)},F._history={stack:[],offset:-1},B),m(F,N)}return l(j,[{key:"componentDidMount",value:function(){this._recordCurrentState()}},{key:"render",value:function(){var W=this,B=this.props,F=B.value,N=B.style,X=B.padding,G=B.highlight,V=B.textareaId,z=B.autoFocus,U=B.disabled,Z=B.form,st=B.maxLength,Y=B.minLength,rt=B.name,ft=B.placeholder,tt=B.readOnly,K=B.required,Q=B.onClick,ct=B.onFocus,nt=B.onBlur,ot=B.onKeyUp;B.onKeyDown,B.onValueChange,B.tabSize,B.insertSpaces,B.ignoreTabKey;var yt=u(B,["value","style","padding","highlight","textareaId","autoFocus","disabled","form","maxLength","minLength","name","placeholder","readOnly","required","onClick","onFocus","onBlur","onKeyUp","onKeyDown","onValueChange","tabSize","insertSpaces","ignoreTabKey"]),pt={paddingTop:X,paddingRight:X,paddingBottom:X,paddingLeft:X},dt=G(F);return o.createElement("div",a({},yt,{style:a({},L.container,N)}),o.createElement("textarea",{ref:function(mt){return W._input=mt},style:a({},L.editor,L.textarea,pt),className:I,id:V,value:F,onChange:this._handleChange,onKeyDown:this._handleKeyDown,onClick:Q,onKeyUp:ot,onFocus:ct,onBlur:nt,disabled:U,form:Z,maxLength:st,minLength:Y,name:rt,placeholder:ft,readOnly:tt,required:K,autoFocus:z,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"data-gramm":!1}),o.createElement("pre",a({"aria-hidden":"true",style:a({},L.editor,L.highlight,pt)},typeof dt=="string"?{dangerouslySetInnerHTML:{__html:dt+"<br />"}}:{children:dt})),o.createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:M}}))}},{key:"session",get:function(){return{history:this._history}},set:function(W){this._history=W.history}}]),j}(o.Component);H.defaultProps={tabSize:2,insertSpaces:!0,ignoreTabKey:!1,padding:0},r.default=H;var L={container:{position:"relative",textAlign:"left",boxSizing:"border-box",padding:0,overflow:"hidden"},textarea:{position:"absolute",top:0,left:0,height:"100%",width:"100%",resize:"none",color:"inherit",overflow:"hidden",MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",WebkitTextFillColor:"transparent"},highlight:{position:"relative",pointerEvents:"none"},editor:{margin:0,border:0,background:"none",boxSizing:"inherit",display:"inherit",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontVariantLigatures:"inherit",fontWeight:"inherit",letterSpacing:"inherit",lineHeight:"inherit",tabSize:"inherit",textIndent:"inherit",textRendering:"inherit",textTransform:"inherit",whiteSpace:"pre-wrap",wordBreak:"keep-all",overflowWrap:"break-word"}}}).call(this,t(27))},function(f,r,t){(function(n){var a=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{},l=function(e){var o=/\blang(?:uage)?-([\w-]+)\b/i,s=0,u={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function(p){return p instanceof c?new c(p.type,u.util.encode(p.content),p.alias):Array.isArray(p)?p.map(u.util.encode):p.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(p){return Object.prototype.toString.call(p).slice(8,-1)},objId:function(p){return p.__id||Object.defineProperty(p,"__id",{value:++s}),p.__id},clone:function p(h,v){var x,y,k=u.util.type(h);switch(v=v||{},k){case"Object":if(y=u.util.objId(h),v[y])return v[y];x={},v[y]=x;for(var T in h)h.hasOwnProperty(T)&&(x[T]=p(h[T],v));return x;case"Array":return y=u.util.objId(h),v[y]?v[y]:(x=[],v[y]=x,h.forEach(function(E,_){x[_]=p(E,v)}),x);default:return h}}},languages:{extend:function(p,h){var v=u.util.clone(u.languages[p]);for(var x in h)v[x]=h[x];return v},insertBefore:function(p,h,v,x){x=x||u.languages;var y=x[p],k={};for(var T in y)if(y.hasOwnProperty(T)){if(T==h)for(var E in v)v.hasOwnProperty(E)&&(k[E]=v[E]);v.hasOwnProperty(T)||(k[T]=y[T])}var _=x[p];return x[p]=k,u.languages.DFS(u.languages,function(A,C){C===_&&A!=p&&(this[A]=k)}),k},DFS:function p(h,v,x,y){y=y||{};var k=u.util.objId;for(var T in h)if(h.hasOwnProperty(T)){v.call(h,T,h[T],x||T);var E=h[T],_=u.util.type(E);_==="Object"&&!y[k(E)]?(y[k(E)]=!0,p(E,v,null,y)):_==="Array"&&!y[k(E)]&&(y[k(E)]=!0,p(E,v,T,y))}}},plugins:{},highlightAll:function(p,h){u.highlightAllUnder(document,p,h)},highlightAllUnder:function(p,h,v){var x={callback:v,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};u.hooks.run("before-highlightall",x);for(var y=x.elements||p.querySelectorAll(x.selector),k=0,T;T=y[k++];)u.highlightElement(T,h===!0,x.callback)},highlightElement:function(p,h,v){for(var x,y,k=p;k&&!o.test(k.className);)k=k.parentNode;k&&(x=(k.className.match(o)||[,""])[1].toLowerCase(),y=u.languages[x]),p.className=p.className.replace(o,"").replace(/\s+/g," ")+" language-"+x,p.parentNode&&(k=p.parentNode,/pre/i.test(k.nodeName)&&(k.className=k.className.replace(o,"").replace(/\s+/g," ")+" language-"+x));var T=p.textContent,E={element:p,language:x,grammar:y,code:T},_=function(C){E.highlightedCode=C,u.hooks.run("before-insert",E),E.element.innerHTML=E.highlightedCode,u.hooks.run("after-highlight",E),u.hooks.run("complete",E),v&&v.call(E.element)};if(u.hooks.run("before-sanity-check",E),!E.code){u.hooks.run("complete",E);return}if(u.hooks.run("before-highlight",E),!E.grammar){_(u.util.encode(E.code));return}if(h&&e.Worker){var A=new Worker(u.filename);A.onmessage=function(C){_(C.data)},A.postMessage(JSON.stringify({language:E.language,code:E.code,immediateClose:!0}))}else _(u.highlight(E.code,E.grammar,E.language))},highlight:function(p,h,v){var x={code:p,grammar:h,language:v};return u.hooks.run("before-tokenize",x),x.tokens=u.tokenize(x.code,x.grammar),u.hooks.run("after-tokenize",x),c.stringify(u.util.encode(x.tokens),x.language)},matchGrammar:function(p,h,v,x,y,k,T){for(var E in v)if(!(!v.hasOwnProperty(E)||!v[E])){if(E==T)return;var _=v[E];_=u.util.type(_)==="Array"?_:[_];for(var A=0;A<_.length;++A){var C=_[A],S=C.inside,P=!!C.lookbehind,O=!!C.greedy,R=0,I=C.alias;if(O&&!C.pattern.global){var M=C.pattern.toString().match(/[imuy]*$/)[0];C.pattern=RegExp(C.pattern.source,M+"g")}C=C.pattern||C;for(var H=x,L=y;H<h.length;L+=h[H].length,++H){var D=h[H];if(h.length>p.length)return;if(!(D instanceof c)){if(O&&H!=h.length-1){C.lastIndex=L;var X=C.exec(p);if(!X)break;for(var N=X.index+(P?X[1].length:0),G=X.index+X[0].length,j=H,W=L,B=h.length;j<B&&(W<G||!h[j].type&&!h[j-1].greedy);++j)W+=h[j].length,N>=W&&(++H,L=W);if(h[H]instanceof c)continue;F=j-H,D=p.slice(L,W),X.index-=L}else{C.lastIndex=0;var X=C.exec(D),F=1}if(!X){if(k)break;continue}P&&(R=X[1]?X[1].length:0);var N=X.index+R,X=X[0].slice(R),G=N+X.length,V=D.slice(0,N),z=D.slice(G),U=[H,F];V&&(++H,L+=V.length,U.push(V));var Z=new c(E,S?u.tokenize(X,S):X,I,X,O);if(U.push(Z),z&&U.push(z),Array.prototype.splice.apply(h,U),F!=1&&u.matchGrammar(p,h,v,H,L,!0,E),k)break}}}}},tokenize:function(p,h){var v=[p],x=h.rest;if(x){for(var y in x)h[y]=x[y];delete h.rest}return u.matchGrammar(p,v,h,0,0,!1),v},hooks:{all:{},add:function(p,h){var v=u.hooks.all;v[p]=v[p]||[],v[p].push(h)},run:function(p,h){var v=u.hooks.all[p];if(!(!v||!v.length))for(var x=0,y;y=v[x++];)y(h)}},Token:c};e.Prism=u;function c(p,h,v,x,y){this.type=p,this.content=h,this.alias=v,this.length=(x||"").length|0,this.greedy=!!y}if(c.stringify=function(p,h,v){if(typeof p=="string")return p;if(Array.isArray(p))return p.map(function(T){return c.stringify(T,h,p)}).join("");var x={type:p.type,content:c.stringify(p.content,h,v),tag:"span",classes:["token",p.type],attributes:{},language:h,parent:v};if(p.alias){var y=Array.isArray(p.alias)?p.alias:[p.alias];Array.prototype.push.apply(x.classes,y)}u.hooks.run("wrap",x);var k=Object.keys(x.attributes).map(function(T){return T+'="'+(x.attributes[T]||"").replace(/"/g,"&quot;")+'"'}).join(" ");return"<"+x.tag+' class="'+x.classes.join(" ")+'"'+(k?" "+k:"")+">"+x.content+"</"+x.tag+">"},!e.document)return e.addEventListener&&(u.disableWorkerMessageHandler||e.addEventListener("message",function(p){var h=JSON.parse(p.data),v=h.language,x=h.code,y=h.immediateClose;e.postMessage(u.highlight(x,u.languages[v],v)),y&&e.close()},!1)),u;var m=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return m&&(u.filename=m.src,!u.manual&&!m.hasAttribute("data-manual")&&(document.readyState!=="loading"?window.requestAnimationFrame?window.requestAnimationFrame(u.highlightAll):window.setTimeout(u.highlightAll,16):document.addEventListener("DOMContentLoaded",u.highlightAll))),u}(a);f.exports&&(f.exports=l),typeof n<"u"&&(n.Prism=l)}).call(this,t(27))},function(f,r){Prism.languages.json={comment:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,property:{pattern:/"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,greedy:!0},string:{pattern:/"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,greedy:!0},number:/-?\d+\.?\d*(e[+-]?\d+)?/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:true|false)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}}},function(f,r,t){var n=t(268),a=t(117),l=t(270),e=t(399),o=t(400),s=a.ucs2length,u=t(269),c=l.Validation;f.exports=m;function m(_,A,C,S){var P=this,O=this._opts,R=[void 0],I={},M=[],H={},L=[],D={},j=[];A=A||{schema:_,refVal:R,refs:I};var W=p.call(this,_,A,S),B=this._compilations[W.index];if(W.compiling)return B.callValidate=V;var F=this._formats,N=this.RULES;try{var X=z(_,A,C,S);B.validate=X;var G=B.callValidate;return G&&(G.schema=X.schema,G.errors=null,G.refs=X.refs,G.refVal=X.refVal,G.root=X.root,G.$async=X.$async,O.sourceCode&&(G.source=X.source)),X}finally{h.call(this,_,A,S)}function V(){var Q=B.validate,ct=Q.apply(this,arguments);return V.errors=Q.errors,ct}function z(Q,ct,nt,ot){var yt=!ct||ct&&ct.schema==Q;if(ct.schema!=A.schema)return m.call(P,Q,ct,nt,ot);var pt=Q.$async===!0,dt=o({isTop:!0,schema:Q,isRoot:yt,baseId:ot,root:ct,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:l.MissingRef,RULES:N,validate:o,util:a,resolve:n,resolveRef:U,usePattern:ft,useDefault:tt,useCustomRule:K,opts:O,formats:F,logger:P.logger,self:P});dt=E(R,k)+E(M,x)+E(L,y)+E(j,T)+dt,O.processCode&&(dt=O.processCode(dt));var mt;try{var q=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",dt);mt=q(P,N,F,A,R,L,j,u,s,c),R[0]=mt}catch($){throw P.logger.error("Error compiling schema, function code:",dt),$}return mt.schema=Q,mt.errors=null,mt.refs=I,mt.refVal=R,mt.root=yt?mt:ct,pt&&(mt.$async=!0),O.sourceCode===!0&&(mt.source={code:dt,patterns:M,defaults:L}),mt}function U(Q,ct,nt){ct=n.url(Q,ct);var ot=I[ct],yt,pt;if(ot!==void 0)return yt=R[ot],pt="refVal["+ot+"]",rt(yt,pt);if(!nt&&A.refs){var dt=A.refs[ct];if(dt!==void 0)return yt=A.refVal[dt],pt=Z(ct,yt),rt(yt,pt)}pt=Z(ct);var mt=n.call(P,z,A,ct);if(mt===void 0){var q=C&&C[ct];q&&(mt=n.inlineRef(q,O.inlineRefs)?q:m.call(P,q,A,C,Q))}if(mt===void 0)st(ct);else return Y(ct,mt),rt(mt,pt)}function Z(Q,ct){var nt=R.length;return R[nt]=ct,I[Q]=nt,"refVal"+nt}function st(Q){delete I[Q]}function Y(Q,ct){var nt=I[Q];R[nt]=ct}function rt(Q,ct){return typeof Q=="object"||typeof Q=="boolean"?{code:ct,schema:Q,inline:!0}:{code:ct,$async:Q&&!!Q.$async}}function ft(Q){var ct=H[Q];return ct===void 0&&(ct=H[Q]=M.length,M[ct]=Q),"pattern"+ct}function tt(Q){switch(typeof Q){case"boolean":case"number":return""+Q;case"string":return a.toQuotedString(Q);case"object":if(Q===null)return"null";var ct=e(Q),nt=D[ct];return nt===void 0&&(nt=D[ct]=L.length,L[nt]=Q),"default"+nt}}function K(Q,ct,nt,ot){if(P._opts.validateSchema!==!1){var yt=Q.definition.dependencies;if(yt&&!yt.every(function(ht){return Object.prototype.hasOwnProperty.call(nt,ht)}))throw new Error("parent schema must have all required keywords: "+yt.join(","));var pt=Q.definition.validateSchema;if(pt){var dt=pt(ct);if(!dt){var mt="keyword schema is invalid: "+P.errorsText(pt.errors);if(P._opts.validateSchema=="log")P.logger.error(mt);else throw new Error(mt)}}}var q=Q.definition.compile,$=Q.definition.inline,J=Q.definition.macro,lt;if(q)lt=q.call(P,ct,nt,ot);else if(J)lt=J.call(P,ct,nt,ot),O.validateSchema!==!1&&P.validateSchema(lt,!0);else if($)lt=$.call(P,ot,Q.keyword,ct,nt);else if(lt=Q.definition.validate,!lt)return;if(lt===void 0)throw new Error('custom keyword "'+Q.keyword+'"failed to compile');var ut=j.length;return j[ut]=lt,{code:"customRule"+ut,validate:lt}}}function p(_,A,C){var S=v.call(this,_,A,C);return S>=0?{index:S,compiling:!0}:(S=this._compilations.length,this._compilations[S]={schema:_,root:A,baseId:C},{index:S,compiling:!1})}function h(_,A,C){var S=v.call(this,_,A,C);S>=0&&this._compilations.splice(S,1)}function v(_,A,C){for(var S=0;S<this._compilations.length;S++){var P=this._compilations[S];if(P.schema==_&&P.root==A&&P.baseId==C)return S}return-1}function x(_,A){return"var pattern"+_+" = new RegExp("+a.toQuotedString(A[_])+");"}function y(_){return"var default"+_+" = defaults["+_+"];"}function k(_,A){return A[_]===void 0?"":"var refVal"+_+" = refVal["+_+"];"}function T(_){return"var customRule"+_+" = customRules["+_+"];"}function E(_,A){if(!_.length)return"";for(var C="",S=0;S<_.length;S++)C+=A(S,_);return C}},function(f,r,t){/** @license URI.js v4.2.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(n,a){a(r)})(this,function(n){function a(){for(var It=arguments.length,Mt=Array(It),Ut=0;Ut<It;Ut++)Mt[Ut]=arguments[Ut];if(Mt.length>1){Mt[0]=Mt[0].slice(0,-1);for(var Kt=Mt.length-1,wt=1;wt<Kt;++wt)Mt[wt]=Mt[wt].slice(1,-1);return Mt[Kt]=Mt[Kt].slice(1),Mt.join("")}else return Mt[0]}function l(It){return"(?:"+It+")"}function e(It){return It===void 0?"undefined":It===null?"null":Object.prototype.toString.call(It).split(" ").pop().split("]").shift().toLowerCase()}function o(It){return It.toUpperCase()}function s(It){return It!=null?It instanceof Array?It:typeof It.length!="number"||It.split||It.setInterval||It.call?[It]:Array.prototype.slice.call(It):[]}function u(It,Mt){var Ut=It;if(Mt)for(var Kt in Mt)Ut[Kt]=Mt[Kt];return Ut}function c(It){var Mt="[A-Za-z]",Ut="[0-9]",Kt=a(Ut,"[A-Fa-f]"),wt=l(l("%[EFef]"+Kt+"%"+Kt+Kt+"%"+Kt+Kt)+"|"+l("%[89A-Fa-f]"+Kt+"%"+Kt+Kt)+"|"+l("%"+Kt+Kt)),ye="[\\:\\/\\?\\#\\[\\]\\@]",we="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Oe=a(ye,we),Ne=It?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",ze=It?"[\\uE000-\\uF8FF]":"[]",Ue=a(Mt,Ut,"[\\-\\.\\_\\~]",Ne);l(Mt+a(Mt,Ut,"[\\+\\-\\.]")+"*"),l(l(wt+"|"+a(Ue,we,"[\\:]"))+"*");var Be=l(l("25[0-5]")+"|"+l("2[0-4]"+Ut)+"|"+l("1"+Ut+Ut)+"|"+l("0?[1-9]"+Ut)+"|0?0?"+Ut),Je=l(Be+"\\."+Be+"\\."+Be+"\\."+Be),Xe=l(Kt+"{1,4}"),pn=l(l(Xe+"\\:"+Xe)+"|"+Je),qt=l(l(Xe+"\\:")+"{6}"+pn),it=l("\\:\\:"+l(Xe+"\\:")+"{5}"+pn),Xt=l(l(Xe)+"?\\:\\:"+l(Xe+"\\:")+"{4}"+pn),te=l(l(l(Xe+"\\:")+"{0,1}"+Xe)+"?\\:\\:"+l(Xe+"\\:")+"{3}"+pn),ne=l(l(l(Xe+"\\:")+"{0,2}"+Xe)+"?\\:\\:"+l(Xe+"\\:")+"{2}"+pn),Wt=l(l(l(Xe+"\\:")+"{0,3}"+Xe)+"?\\:\\:"+Xe+"\\:"+pn),he=l(l(l(Xe+"\\:")+"{0,4}"+Xe)+"?\\:\\:"+pn),Dt=l(l(l(Xe+"\\:")+"{0,5}"+Xe)+"?\\:\\:"+Xe),Ft=l(l(l(Xe+"\\:")+"{0,6}"+Xe)+"?\\:\\:"),Yt=l([qt,it,Xt,te,ne,Wt,he,Dt,Ft].join("|")),xt=l(l(Ue+"|"+wt)+"+");l("[vV]"+Kt+"+\\."+a(Ue,we,"[\\:]")+"+"),l(l(wt+"|"+a(Ue,we))+"*");var Bt=l(wt+"|"+a(Ue,we,"[\\:\\@]"));return l(l(wt+"|"+a(Ue,we,"[\\@]"))+"+"),l(l(Bt+"|"+a("[\\/\\?]",ze))+"*"),{NOT_SCHEME:new RegExp(a("[^]",Mt,Ut,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(a("[^\\%\\:]",Ue,we),"g"),NOT_HOST:new RegExp(a("[^\\%\\[\\]\\:]",Ue,we),"g"),NOT_PATH:new RegExp(a("[^\\%\\/\\:\\@]",Ue,we),"g"),NOT_PATH_NOSCHEME:new RegExp(a("[^\\%\\/\\@]",Ue,we),"g"),NOT_QUERY:new RegExp(a("[^\\%]",Ue,we,"[\\:\\@\\/\\?]",ze),"g"),NOT_FRAGMENT:new RegExp(a("[^\\%]",Ue,we,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(a("[^]",Ue,we),"g"),UNRESERVED:new RegExp(Ue,"g"),OTHER_CHARS:new RegExp(a("[^\\%]",Ue,Oe),"g"),PCT_ENCODED:new RegExp(wt,"g"),IPV4ADDRESS:new RegExp("^("+Je+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Yt+")"+l(l("\\%25|\\%(?!"+Kt+"{2})")+"("+xt+")")+"?\\]?$")}}var m=c(!1),p=c(!0),h=function(){function It(Mt,Ut){var Kt=[],wt=!0,ye=!1,we=void 0;try{for(var Oe=Mt[Symbol.iterator](),Ne;!(wt=(Ne=Oe.next()).done)&&(Kt.push(Ne.value),!(Ut&&Kt.length===Ut));wt=!0);}catch(ze){ye=!0,we=ze}finally{try{!wt&&Oe.return&&Oe.return()}finally{if(ye)throw we}}return Kt}return function(Mt,Ut){if(Array.isArray(Mt))return Mt;if(Symbol.iterator in Object(Mt))return It(Mt,Ut);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=function(It){if(Array.isArray(It)){for(var Mt=0,Ut=Array(It.length);Mt<It.length;Mt++)Ut[Mt]=It[Mt];return Ut}else return Array.from(It)},x=2147483647,y=36,k=1,T=26,E=38,_=700,A=72,C=128,S="-",P=/^xn--/,O=/[^\0-\x7E]/,R=/[\x2E\u3002\uFF0E\uFF61]/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},M=y-k,H=Math.floor,L=String.fromCharCode;function D(It){throw new RangeError(I[It])}function j(It,Mt){for(var Ut=[],Kt=It.length;Kt--;)Ut[Kt]=Mt(It[Kt]);return Ut}function W(It,Mt){var Ut=It.split("@"),Kt="";Ut.length>1&&(Kt=Ut[0]+"@",It=Ut[1]),It=It.replace(R,".");var wt=It.split("."),ye=j(wt,Mt).join(".");return Kt+ye}function B(It){for(var Mt=[],Ut=0,Kt=It.length;Ut<Kt;){var wt=It.charCodeAt(Ut++);if(wt>=55296&&wt<=56319&&Ut<Kt){var ye=It.charCodeAt(Ut++);(ye&64512)==56320?Mt.push(((wt&1023)<<10)+(ye&1023)+65536):(Mt.push(wt),Ut--)}else Mt.push(wt)}return Mt}var F=function(It){return String.fromCodePoint.apply(String,v(It))},N=function(It){return It-48<10?It-22:It-65<26?It-65:It-97<26?It-97:y},X=function(It,Mt){return It+22+75*(It<26)-((Mt!=0)<<5)},G=function(It,Mt,Ut){var Kt=0;for(It=Ut?H(It/_):It>>1,It+=H(It/Mt);It>M*T>>1;Kt+=y)It=H(It/M);return H(Kt+(M+1)*It/(It+E))},V=function(It){var Mt=[],Ut=It.length,Kt=0,wt=C,ye=A,we=It.lastIndexOf(S);we<0&&(we=0);for(var Oe=0;Oe<we;++Oe)It.charCodeAt(Oe)>=128&&D("not-basic"),Mt.push(It.charCodeAt(Oe));for(var Ne=we>0?we+1:0;Ne<Ut;){for(var ze=Kt,Ue=1,Be=y;;Be+=y){Ne>=Ut&&D("invalid-input");var Je=N(It.charCodeAt(Ne++));(Je>=y||Je>H((x-Kt)/Ue))&&D("overflow"),Kt+=Je*Ue;var Xe=Be<=ye?k:Be>=ye+T?T:Be-ye;if(Je<Xe)break;var pn=y-Xe;Ue>H(x/pn)&&D("overflow"),Ue*=pn}var qt=Mt.length+1;ye=G(Kt-ze,qt,ze==0),H(Kt/qt)>x-wt&&D("overflow"),wt+=H(Kt/qt),Kt%=qt,Mt.splice(Kt++,0,wt)}return String.fromCodePoint.apply(String,Mt)},z=function(It){var Mt=[];It=B(It);var Ut=It.length,Kt=C,wt=0,ye=A,we=!0,Oe=!1,Ne=void 0;try{for(var ze=It[Symbol.iterator](),Ue;!(we=(Ue=ze.next()).done);we=!0){var Be=Ue.value;Be<128&&Mt.push(L(Be))}}catch(ke){Oe=!0,Ne=ke}finally{try{!we&&ze.return&&ze.return()}finally{if(Oe)throw Ne}}var Je=Mt.length,Xe=Je;for(Je&&Mt.push(S);Xe<Ut;){var pn=x,qt=!0,it=!1,Xt=void 0;try{for(var te=It[Symbol.iterator](),ne;!(qt=(ne=te.next()).done);qt=!0){var Wt=ne.value;Wt>=Kt&&Wt<pn&&(pn=Wt)}}catch(ke){it=!0,Xt=ke}finally{try{!qt&&te.return&&te.return()}finally{if(it)throw Xt}}var he=Xe+1;pn-Kt>H((x-wt)/he)&&D("overflow"),wt+=(pn-Kt)*he,Kt=pn;var Dt=!0,Ft=!1,Yt=void 0;try{for(var xt=It[Symbol.iterator](),Bt;!(Dt=(Bt=xt.next()).done);Dt=!0){var Qt=Bt.value;if(Qt<Kt&&++wt>x&&D("overflow"),Qt==Kt){for(var le=wt,ve=y;;ve+=y){var _e=ve<=ye?k:ve>=ye+T?T:ve-ye;if(le<_e)break;var Ae=le-_e,ge=y-_e;Mt.push(L(X(_e+Ae%ge,0))),le=H(Ae/ge)}Mt.push(L(X(le,0))),ye=G(wt,he,Xe==Je),wt=0,++Xe}}}catch(ke){Ft=!0,Yt=ke}finally{try{!Dt&&xt.return&&xt.return()}finally{if(Ft)throw Yt}}++wt,++Kt}return Mt.join("")},U=function(It){return W(It,function(Mt){return P.test(Mt)?V(Mt.slice(4).toLowerCase()):Mt})},Z=function(It){return W(It,function(Mt){return O.test(Mt)?"xn--"+z(Mt):Mt})},st={version:"2.1.0",ucs2:{decode:B,encode:F},decode:V,encode:z,toASCII:Z,toUnicode:U},Y={};function rt(It){var Mt=It.charCodeAt(0),Ut=void 0;return Mt<16?Ut="%0"+Mt.toString(16).toUpperCase():Mt<128?Ut="%"+Mt.toString(16).toUpperCase():Mt<2048?Ut="%"+(Mt>>6|192).toString(16).toUpperCase()+"%"+(Mt&63|128).toString(16).toUpperCase():Ut="%"+(Mt>>12|224).toString(16).toUpperCase()+"%"+(Mt>>6&63|128).toString(16).toUpperCase()+"%"+(Mt&63|128).toString(16).toUpperCase(),Ut}function ft(It){for(var Mt="",Ut=0,Kt=It.length;Ut<Kt;){var wt=parseInt(It.substr(Ut+1,2),16);if(wt<128)Mt+=String.fromCharCode(wt),Ut+=3;else if(wt>=194&&wt<224){if(Kt-Ut>=6){var ye=parseInt(It.substr(Ut+4,2),16);Mt+=String.fromCharCode((wt&31)<<6|ye&63)}else Mt+=It.substr(Ut,6);Ut+=6}else if(wt>=224){if(Kt-Ut>=9){var we=parseInt(It.substr(Ut+4,2),16),Oe=parseInt(It.substr(Ut+7,2),16);Mt+=String.fromCharCode((wt&15)<<12|(we&63)<<6|Oe&63)}else Mt+=It.substr(Ut,9);Ut+=9}else Mt+=It.substr(Ut,3),Ut+=3}return Mt}function tt(It,Mt){function Ut(Kt){var wt=ft(Kt);return wt.match(Mt.UNRESERVED)?wt:Kt}return It.scheme&&(It.scheme=String(It.scheme).replace(Mt.PCT_ENCODED,Ut).toLowerCase().replace(Mt.NOT_SCHEME,"")),It.userinfo!==void 0&&(It.userinfo=String(It.userinfo).replace(Mt.PCT_ENCODED,Ut).replace(Mt.NOT_USERINFO,rt).replace(Mt.PCT_ENCODED,o)),It.host!==void 0&&(It.host=String(It.host).replace(Mt.PCT_ENCODED,Ut).toLowerCase().replace(Mt.NOT_HOST,rt).replace(Mt.PCT_ENCODED,o)),It.path!==void 0&&(It.path=String(It.path).replace(Mt.PCT_ENCODED,Ut).replace(It.scheme?Mt.NOT_PATH:Mt.NOT_PATH_NOSCHEME,rt).replace(Mt.PCT_ENCODED,o)),It.query!==void 0&&(It.query=String(It.query).replace(Mt.PCT_ENCODED,Ut).replace(Mt.NOT_QUERY,rt).replace(Mt.PCT_ENCODED,o)),It.fragment!==void 0&&(It.fragment=String(It.fragment).replace(Mt.PCT_ENCODED,Ut).replace(Mt.NOT_FRAGMENT,rt).replace(Mt.PCT_ENCODED,o)),It}function K(It){return It.replace(/^0*(.*)/,"$1")||"0"}function Q(It,Mt){var Ut=It.match(Mt.IPV4ADDRESS)||[],Kt=h(Ut,2),wt=Kt[1];return wt?wt.split(".").map(K).join("."):It}function ct(It,Mt){var Ut=It.match(Mt.IPV6ADDRESS)||[],Kt=h(Ut,3),wt=Kt[1],ye=Kt[2];if(wt){for(var we=wt.toLowerCase().split("::").reverse(),Oe=h(we,2),Ne=Oe[0],ze=Oe[1],Ue=ze?ze.split(":").map(K):[],Be=Ne.split(":").map(K),Je=Mt.IPV4ADDRESS.test(Be[Be.length-1]),Xe=Je?7:8,pn=Be.length-Xe,qt=Array(Xe),it=0;it<Xe;++it)qt[it]=Ue[it]||Be[pn+it]||"";Je&&(qt[Xe-1]=Q(qt[Xe-1],Mt));var Xt=qt.reduce(function(Dt,Ft,Yt){if(!Ft||Ft==="0"){var xt=Dt[Dt.length-1];xt&&xt.index+xt.length===Yt?xt.length++:Dt.push({index:Yt,length:1})}return Dt},[]),te=Xt.sort(function(Dt,Ft){return Ft.length-Dt.length})[0],ne=void 0;if(te&&te.length>1){var Wt=qt.slice(0,te.index),he=qt.slice(te.index+te.length);ne=Wt.join(":")+"::"+he.join(":")}else ne=qt.join(":");return ye&&(ne+="%"+ye),ne}else return It}var nt=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,ot="".match(/(){0}/)[1]===void 0;function yt(It){var Mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ut={},Kt=Mt.iri!==!1?p:m;Mt.reference==="suffix"&&(It=(Mt.scheme?Mt.scheme+":":"")+"//"+It);var wt=It.match(nt);if(wt){ot?(Ut.scheme=wt[1],Ut.userinfo=wt[3],Ut.host=wt[4],Ut.port=parseInt(wt[5],10),Ut.path=wt[6]||"",Ut.query=wt[7],Ut.fragment=wt[8],isNaN(Ut.port)&&(Ut.port=wt[5])):(Ut.scheme=wt[1]||void 0,Ut.userinfo=It.indexOf("@")!==-1?wt[3]:void 0,Ut.host=It.indexOf("//")!==-1?wt[4]:void 0,Ut.port=parseInt(wt[5],10),Ut.path=wt[6]||"",Ut.query=It.indexOf("?")!==-1?wt[7]:void 0,Ut.fragment=It.indexOf("#")!==-1?wt[8]:void 0,isNaN(Ut.port)&&(Ut.port=It.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?wt[4]:void 0)),Ut.host&&(Ut.host=ct(Q(Ut.host,Kt),Kt)),Ut.scheme===void 0&&Ut.userinfo===void 0&&Ut.host===void 0&&Ut.port===void 0&&!Ut.path&&Ut.query===void 0?Ut.reference="same-document":Ut.scheme===void 0?Ut.reference="relative":Ut.fragment===void 0?Ut.reference="absolute":Ut.reference="uri",Mt.reference&&Mt.reference!=="suffix"&&Mt.reference!==Ut.reference&&(Ut.error=Ut.error||"URI is not a "+Mt.reference+" reference.");var ye=Y[(Mt.scheme||Ut.scheme||"").toLowerCase()];if(!Mt.unicodeSupport&&(!ye||!ye.unicodeSupport)){if(Ut.host&&(Mt.domainHost||ye&&ye.domainHost))try{Ut.host=st.toASCII(Ut.host.replace(Kt.PCT_ENCODED,ft).toLowerCase())}catch(we){Ut.error=Ut.error||"Host's domain name can not be converted to ASCII via punycode: "+we}tt(Ut,m)}else tt(Ut,Kt);ye&&ye.parse&&ye.parse(Ut,Mt)}else Ut.error=Ut.error||"URI can not be parsed.";return Ut}function pt(It,Mt){var Ut=Mt.iri!==!1?p:m,Kt=[];return It.userinfo!==void 0&&(Kt.push(It.userinfo),Kt.push("@")),It.host!==void 0&&Kt.push(ct(Q(String(It.host),Ut),Ut).replace(Ut.IPV6ADDRESS,function(wt,ye,we){return"["+ye+(we?"%25"+we:"")+"]"})),typeof It.port=="number"&&(Kt.push(":"),Kt.push(It.port.toString(10))),Kt.length?Kt.join(""):void 0}var dt=/^\.\.?\//,mt=/^\/\.(\/|$)/,q=/^\/\.\.(\/|$)/,$=/^\/?(?:.|\n)*?(?=\/|$)/;function J(It){for(var Mt=[];It.length;)if(It.match(dt))It=It.replace(dt,"");else if(It.match(mt))It=It.replace(mt,"/");else if(It.match(q))It=It.replace(q,"/"),Mt.pop();else if(It==="."||It==="..")It="";else{var Ut=It.match($);if(Ut){var Kt=Ut[0];It=It.slice(Kt.length),Mt.push(Kt)}else throw new Error("Unexpected dot segment condition")}return Mt.join("")}function lt(It){var Mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ut=Mt.iri?p:m,Kt=[],wt=Y[(Mt.scheme||It.scheme||"").toLowerCase()];if(wt&&wt.serialize&&wt.serialize(It,Mt),It.host&&!Ut.IPV6ADDRESS.test(It.host)&&(Mt.domainHost||wt&&wt.domainHost))try{It.host=Mt.iri?st.toUnicode(It.host):st.toASCII(It.host.replace(Ut.PCT_ENCODED,ft).toLowerCase())}catch(Oe){It.error=It.error||"Host's domain name can not be converted to "+(Mt.iri?"Unicode":"ASCII")+" via punycode: "+Oe}tt(It,Ut),Mt.reference!=="suffix"&&It.scheme&&(Kt.push(It.scheme),Kt.push(":"));var ye=pt(It,Mt);if(ye!==void 0&&(Mt.reference!=="suffix"&&Kt.push("//"),Kt.push(ye),It.path&&It.path.charAt(0)!=="/"&&Kt.push("/")),It.path!==void 0){var we=It.path;!Mt.absolutePath&&(!wt||!wt.absolutePath)&&(we=J(we)),ye===void 0&&(we=we.replace(/^\/\//,"/%2F")),Kt.push(we)}return It.query!==void 0&&(Kt.push("?"),Kt.push(It.query)),It.fragment!==void 0&&(Kt.push("#"),Kt.push(It.fragment)),Kt.join("")}function ut(It,Mt){var Ut=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Kt=arguments[3],wt={};return Kt||(It=yt(lt(It,Ut),Ut),Mt=yt(lt(Mt,Ut),Ut)),Ut=Ut||{},!Ut.tolerant&&Mt.scheme?(wt.scheme=Mt.scheme,wt.userinfo=Mt.userinfo,wt.host=Mt.host,wt.port=Mt.port,wt.path=J(Mt.path||""),wt.query=Mt.query):(Mt.userinfo!==void 0||Mt.host!==void 0||Mt.port!==void 0?(wt.userinfo=Mt.userinfo,wt.host=Mt.host,wt.port=Mt.port,wt.path=J(Mt.path||""),wt.query=Mt.query):(Mt.path?(Mt.path.charAt(0)==="/"?wt.path=J(Mt.path):((It.userinfo!==void 0||It.host!==void 0||It.port!==void 0)&&!It.path?wt.path="/"+Mt.path:It.path?wt.path=It.path.slice(0,It.path.lastIndexOf("/")+1)+Mt.path:wt.path=Mt.path,wt.path=J(wt.path)),wt.query=Mt.query):(wt.path=It.path,Mt.query!==void 0?wt.query=Mt.query:wt.query=It.query),wt.userinfo=It.userinfo,wt.host=It.host,wt.port=It.port),wt.scheme=It.scheme),wt.fragment=Mt.fragment,wt}function ht(It,Mt,Ut){var Kt=u({scheme:"null"},Ut);return lt(ut(yt(It,Kt),yt(Mt,Kt),Kt,!0),Kt)}function bt(It,Mt){return typeof It=="string"?It=lt(yt(It,Mt),Mt):e(It)==="object"&&(It=yt(lt(It,Mt),Mt)),It}function kt(It,Mt,Ut){return typeof It=="string"?It=lt(yt(It,Ut),Ut):e(It)==="object"&&(It=lt(It,Ut)),typeof Mt=="string"?Mt=lt(yt(Mt,Ut),Ut):e(Mt)==="object"&&(Mt=lt(Mt,Ut)),It===Mt}function vt(It,Mt){return It&&It.toString().replace(!Mt||!Mt.iri?m.ESCAPE:p.ESCAPE,rt)}function Et(It,Mt){return It&&It.toString().replace(!Mt||!Mt.iri?m.PCT_ENCODED:p.PCT_ENCODED,ft)}var Rt={scheme:"http",domainHost:!0,parse:function(It,Mt){return It.host||(It.error=It.error||"HTTP URIs must have a host."),It},serialize:function(It,Mt){return(It.port===(String(It.scheme).toLowerCase()!=="https"?80:443)||It.port==="")&&(It.port=void 0),It.path||(It.path="/"),It}},Vt={scheme:"https",domainHost:Rt.domainHost,parse:Rt.parse,serialize:Rt.serialize},ee={},Tt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",_t="[0-9A-Fa-f]",zt=l(l("%[EFef]"+_t+"%"+_t+_t+"%"+_t+_t)+"|"+l("%[89A-Fa-f]"+_t+"%"+_t+_t)+"|"+l("%"+_t+_t)),oe="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",$t="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",pe=a($t,'[\\"\\\\]'),Nt="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",se=new RegExp(Tt,"g"),Gt=new RegExp(zt,"g"),gt=new RegExp(a("[^]",oe,"[\\.]",'[\\"]',pe),"g"),fe=new RegExp(a("[^]",Tt,Nt),"g"),Ct=fe;function at(It){var Mt=ft(It);return Mt.match(se)?Mt:It}var St={scheme:"mailto",parse:function(It,Mt){var Ut=It,Kt=Ut.to=Ut.path?Ut.path.split(","):[];if(Ut.path=void 0,Ut.query){for(var wt=!1,ye={},we=Ut.query.split("&"),Oe=0,Ne=we.length;Oe<Ne;++Oe){var ze=we[Oe].split("=");switch(ze[0]){case"to":for(var Ue=ze[1].split(","),Be=0,Je=Ue.length;Be<Je;++Be)Kt.push(Ue[Be]);break;case"subject":Ut.subject=Et(ze[1],Mt);break;case"body":Ut.body=Et(ze[1],Mt);break;default:wt=!0,ye[Et(ze[0],Mt)]=Et(ze[1],Mt);break}}wt&&(Ut.headers=ye)}Ut.query=void 0;for(var Xe=0,pn=Kt.length;Xe<pn;++Xe){var qt=Kt[Xe].split("@");if(qt[0]=Et(qt[0]),Mt.unicodeSupport)qt[1]=Et(qt[1],Mt).toLowerCase();else try{qt[1]=st.toASCII(Et(qt[1],Mt).toLowerCase())}catch(it){Ut.error=Ut.error||"Email address's domain name can not be converted to ASCII via punycode: "+it}Kt[Xe]=qt.join("@")}return Ut},serialize:function(It,Mt){var Ut=It,Kt=s(It.to);if(Kt){for(var wt=0,ye=Kt.length;wt<ye;++wt){var we=String(Kt[wt]),Oe=we.lastIndexOf("@"),Ne=we.slice(0,Oe).replace(Gt,at).replace(Gt,o).replace(gt,rt),ze=we.slice(Oe+1);try{ze=Mt.iri?st.toUnicode(ze):st.toASCII(Et(ze,Mt).toLowerCase())}catch(Xe){Ut.error=Ut.error||"Email address's domain name can not be converted to "+(Mt.iri?"Unicode":"ASCII")+" via punycode: "+Xe}Kt[wt]=Ne+"@"+ze}Ut.path=Kt.join(",")}var Ue=It.headers=It.headers||{};It.subject&&(Ue.subject=It.subject),It.body&&(Ue.body=It.body);var Be=[];for(var Je in Ue)Ue[Je]!==ee[Je]&&Be.push(Je.replace(Gt,at).replace(Gt,o).replace(fe,rt)+"="+Ue[Je].replace(Gt,at).replace(Gt,o).replace(Ct,rt));return Be.length&&(Ut.query=Be.join("&")),Ut}},jt=/^([^\:]+)\:(.*)/,Zt={scheme:"urn",parse:function(It,Mt){var Ut=It.path&&It.path.match(jt),Kt=It;if(Ut){var wt=Mt.scheme||Kt.scheme||"urn",ye=Ut[1].toLowerCase(),we=Ut[2],Oe=wt+":"+(Mt.nid||ye),Ne=Y[Oe];Kt.nid=ye,Kt.nss=we,Kt.path=void 0,Ne&&(Kt=Ne.parse(Kt,Mt))}else Kt.error=Kt.error||"URN can not be parsed.";return Kt},serialize:function(It,Mt){var Ut=Mt.scheme||It.scheme||"urn",Kt=It.nid,wt=Ut+":"+(Mt.nid||Kt),ye=Y[wt];ye&&(It=ye.serialize(It,Mt));var we=It,Oe=It.nss;return we.path=(Kt||Mt.nid)+":"+Oe,we}},ue=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ce={scheme:"urn:uuid",parse:function(It,Mt){var Ut=It;return Ut.uuid=Ut.nss,Ut.nss=void 0,!Mt.tolerant&&(!Ut.uuid||!Ut.uuid.match(ue))&&(Ut.error=Ut.error||"UUID is not valid."),Ut},serialize:function(It,Mt){var Ut=It;return Ut.nss=(It.uuid||"").toLowerCase(),Ut}};Y[Rt.scheme]=Rt,Y[Vt.scheme]=Vt,Y[St.scheme]=St,Y[Zt.scheme]=Zt,Y[ce.scheme]=ce,n.SCHEMES=Y,n.pctEncChar=rt,n.pctDecChars=ft,n.parse=yt,n.removeDotSegments=J,n.serialize=lt,n.resolveComponents=ut,n.resolve=ht,n.normalize=bt,n.equal=kt,n.escapeComponent=vt,n.unescapeComponent=Et,Object.defineProperty(n,"__esModule",{value:!0})})},function(f,r,t){f.exports=function(n){for(var a=0,l=n.length,e=0,o;e<l;)a++,o=n.charCodeAt(e++),o>=55296&&o<=56319&&e<l&&(o=n.charCodeAt(e),(o&64512)==56320&&e++);return a}},function(f,r,t){var n=f.exports=function(e,o,s){typeof o=="function"&&(s=o,o={}),s=o.cb||s;var u=typeof s=="function"?s:s.pre||function(){},c=s.post||function(){};a(o,u,c,e,"",e)};n.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},n.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},n.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},n.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function a(e,o,s,u,c,m,p,h,v,x){if(u&&typeof u=="object"&&!Array.isArray(u)){o(u,c,m,p,h,v,x);for(var y in u){var k=u[y];if(Array.isArray(k)){if(y in n.arrayKeywords)for(var T=0;T<k.length;T++)a(e,o,s,k[T],c+"/"+y+"/"+T,m,c,y,u,T)}else if(y in n.propsKeywords){if(k&&typeof k=="object")for(var E in k)a(e,o,s,k[E],c+"/"+y+"/"+l(E),m,c,y,u,E)}else(y in n.keywords||e.allKeys&&!(y in n.skipKeywords))&&a(e,o,s,k,c+"/"+y,m,c,y,u)}s(u,c,m,p,h,v,x)}}function l(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}},function(f,r,t){var n=f.exports=function(){this._cache={}};n.prototype.put=function(a,l){this._cache[a]=l},n.prototype.get=function(a){return this._cache[a]},n.prototype.del=function(a){delete this._cache[a]},n.prototype.clear=function(){this._cache={}}},function(f,r,t){var n=t(117),a=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,l=[0,31,28,31,30,31,30,31,31,30,31,30,31],e=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i,o=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,s=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,u=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,c=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,m=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,p=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,h=/^(?:\/(?:[^~/]|~0|~1)*)*$/,v=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,x=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;f.exports=y;function y(I){return I=I=="full"?"full":"fast",n.copy(y[I])}y.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":c,url:m,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:o,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:R,uuid:p,"json-pointer":h,"json-pointer-uri-fragment":v,"relative-json-pointer":x},y.full={date:T,time:E,"date-time":A,uri:P,"uri-reference":u,"uri-template":c,url:m,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:C,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:R,uuid:p,"json-pointer":h,"json-pointer-uri-fragment":v,"relative-json-pointer":x};function k(I){return I%4===0&&(I%100!==0||I%400===0)}function T(I){var M=I.match(a);if(!M)return!1;var H=+M[1],L=+M[2],D=+M[3];return L>=1&&L<=12&&D>=1&&D<=(L==2&&k(H)?29:l[L])}function E(I,M){var H=I.match(e);if(!H)return!1;var L=H[1],D=H[2],j=H[3],W=H[5];return(L<=23&&D<=59&&j<=59||L==23&&D==59&&j==60)&&(!M||W)}var _=/t|\s/i;function A(I){var M=I.split(_);return M.length==2&&T(M[0])&&E(M[1],!0)}function C(I){return I.length<=255&&o.test(I)}var S=/\/|:/;function P(I){return S.test(I)&&s.test(I)}var O=/[^\\]\\Z/;function R(I){if(O.test(I))return!1;try{return new RegExp(I),!0}catch{return!1}}},function(f,r,t){var n=t(697),a=t(117).toHash;f.exports=function(){var l=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],e=["type","$comment"],o=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],s=["number","integer","string","array","object","boolean","null"];return l.all=a(e),l.types=a(s),l.forEach(function(u){u.rules=u.rules.map(function(c){var m;if(typeof c=="object"){var p=Object.keys(c)[0];m=c[p],c=p,m.forEach(function(v){e.push(v),l.all[v]=!0})}e.push(c);var h=l.all[c]={keyword:c,code:n[c],implements:m};return h}),l.all.$comment={keyword:"$comment",code:n.$comment},u.type&&(l.types[u.type]=u)}),l.keywords=a(e.concat(o)),l.custom={},l}},function(f,r,t){f.exports={$ref:t(698),allOf:t(699),anyOf:t(700),$comment:t(701),const:t(702),contains:t(703),dependencies:t(704),enum:t(705),format:t(706),if:t(707),items:t(708),maximum:t(401),minimum:t(401),maxItems:t(402),minItems:t(402),maxLength:t(403),minLength:t(403),maxProperties:t(404),minProperties:t(404),multipleOf:t(709),not:t(710),oneOf:t(711),pattern:t(712),properties:t(713),propertyNames:t(714),required:t(715),uniqueItems:t(716),validate:t(400)}},function(f,r,t){f.exports=function(n,a,l){var e=" ",o=n.level,s=n.dataLevel,u=n.schema[a],c=n.errSchemaPath+"/"+a,m=!n.opts.allErrors,p="data"+(s||""),h="valid"+o,v,x;if(u=="#"||u=="#/")n.isRoot?(v=n.async,x="validate"):(v=n.root.schema.$async===!0,x="root.refVal[0]");else{var y=n.resolveRef(n.baseId,u,n.isRoot);if(y===void 0){var k=n.MissingRefError.message(n.baseId,u);if(n.opts.missingRefs=="fail"){n.logger.error(k);var T=T||[];T.push(e),e="",n.createErrors!==!1?(e+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(c)+" , params: { ref: '"+n.util.escapeQuotes(u)+"' } ",n.opts.messages!==!1&&(e+=" , message: 'can\\'t resolve reference "+n.util.escapeQuotes(u)+"' "),n.opts.verbose&&(e+=" , schema: "+n.util.toQuotedString(u)+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+p+" "),e+=" } "):e+=" {} ";var E=e;e=T.pop(),!n.compositeRule&&m?n.async?e+=" throw new ValidationError(["+E+"]); ":e+=" validate.errors = ["+E+"]; return false; ":e+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",m&&(e+=" if (false) { ")}else if(n.opts.missingRefs=="ignore")n.logger.warn(k),m&&(e+=" if (true) { ");else throw new n.MissingRefError(n.baseId,u,k)}else if(y.inline){var _=n.util.copy(n);_.level++;var A="valid"+_.level;_.schema=y.schema,_.schemaPath="",_.errSchemaPath=u;var C=n.validate(_).replace(/validate\.schema/g,y.code);e+=" "+C+" ",m&&(e+=" if ("+A+") { ")}else v=y.$async===!0||n.async&&y.$async!==!1,x=y.code}if(x){var T=T||[];T.push(e),e="",n.opts.passContext?e+=" "+x+".call(this, ":e+=" "+x+"( ",e+=" "+p+", (dataPath || '')",n.errorPath!='""'&&(e+=" + "+n.errorPath);var S=s?"data"+(s-1||""):"parentData",P=s?n.dataPathArr[s]:"parentDataProperty";e+=" , "+S+" , "+P+", rootData)  ";var O=e;if(e=T.pop(),v){if(!n.async)throw new Error("async schema referenced by sync schema");m&&(e+=" var "+h+"; "),e+=" try { await "+O+"; ",m&&(e+=" "+h+" = true; "),e+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",m&&(e+=" "+h+" = false; "),e+=" } ",m&&(e+=" if ("+h+") { ")}else e+=" if (!"+O+") { if (vErrors === null) vErrors = "+x+".errors; else vErrors = vErrors.concat("+x+".errors); errors = vErrors.length; } ",m&&(e+=" else { ")}return e}},function(f,r,t){f.exports=function(n,a,l){var e=" ",o=n.schema[a],s=n.schemaPath+n.util.getProperty(a),u=n.errSchemaPath+"/"+a,c=!n.opts.allErrors,m=n.util.copy(n),p="";m.level++;var h="valid"+m.level,v=m.baseId,x=!0,y=o;if(y)for(var k,T=-1,E=y.length-1;T<E;)k=y[T+=1],n.util.schemaHasRules(k,n.RULES.all)&&(x=!1,m.schema=k,m.schemaPath=s+"["+T+"]",m.errSchemaPath=u+"/"+T,e+="  "+n.validate(m)+" ",m.baseId=v,c&&(e+=" if ("+h+") { ",p+="}"));return c&&(x?e+=" if (true) { ":e+=" "+p.slice(0,-1)+" "),e=n.util.cleanUpCode(e),e}},function(f,r,t){f.exports=function(n,a,l){var e=" ",o=n.level,s=n.dataLevel,u=n.schema[a],c=n.schemaPath+n.util.getProperty(a),m=n.errSchemaPath+"/"+a,p=!n.opts.allErrors,h="data"+(s||""),v="valid"+o,x="errs__"+o,y=n.util.copy(n),k="";y.level++;var T="valid"+y.level,E=u.every(function(R){return n.util.schemaHasRules(R,n.RULES.all)});if(E){var _=y.baseId;e+=" var "+x+" = errors; var "+v+" = false;  ";var A=n.compositeRule;n.compositeRule=y.compositeRule=!0;var C=u;if(C)for(var S,P=-1,O=C.length-1;P<O;)S=C[P+=1],y.schema=S,y.schemaPath=c+"["+P+"]",y.errSchemaPath=m+"/"+P,e+="  "+n.validate(y)+" ",y.baseId=_,e+=" "+v+" = "+v+" || "+T+"; if (!"+v+") { ",k+="}";n.compositeRule=y.compositeRule=A,e+=" "+k+" if (!"+v+") {   var err =   ",n.createErrors!==!1?(e+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(m)+" , params: {} ",n.opts.messages!==!1&&(e+=" , message: 'should match some schema in anyOf' "),n.opts.verbose&&(e+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+h+" "),e+=" } "):e+=" {} ",e+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!n.compositeRule&&p&&(n.async?e+=" throw new ValidationError(vErrors); ":e+=" validate.errors = vErrors; return false; "),e+=" } else {  errors = "+x+"; if (vErrors !== null) { if ("+x+") vErrors.length = "+x+"; else vErrors = null; } ",n.opts.allErrors&&(e+=" } "),e=n.util.cleanUpCode(e)}else p&&(e+=" if (true) { ");return e}},function(f,r,t){f.exports=function(n,a,l){var e=" ",o=n.schema[a],s=n.errSchemaPath+"/"+a;n.opts.allErrors;var u=n.util.toQuotedString(o);return n.opts.$comment===!0?e+=" console.log("+u+");":typeof n.opts.$comment=="function"&&(e+=" self._opts.$comment("+u+", "+n.util.toQuotedString(s)+", validate.root.schema);"),e}},function(f,r,t){f.exports=function(n,a,l){var e=" ",o=n.level,s=n.dataLevel,u=n.schema[a],c=n.schemaPath+n.util.getProperty(a),m=n.errSchemaPath+"/"+a,p=!n.opts.allErrors,h="data"+(s||""),v="valid"+o,x=n.opts.$data&&u&&u.$data;x&&(e+=" var schema"+o+" = "+n.util.getData(u.$data,s,n.dataPathArr)+"; "),x||(e+=" var schema"+o+" = validate.schema"+c+";"),e+="var "+v+" = equal("+h+", schema"+o+"); if (!"+v+") {   ";var y=y||[];y.push(e),e="",n.createErrors!==!1?(e+=" { keyword: 'const' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(m)+" , params: { allowedValue: schema"+o+" } ",n.opts.messages!==!1&&(e+=" , message: 'should be equal to constant' "),n.opts.verbose&&(e+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+h+" "),e+=" } "):e+=" {} ";var k=e;return e=y.pop(),!n.compositeRule&&p?n.async?e+=" throw new ValidationError(["+k+"]); ":e+=" validate.errors = ["+k+"]; return false; ":e+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",e+=" }",p&&(e+=" else { "),e}},function(f,r,t){f.exports=function(n,a,l){var e=" ",o=n.level,s=n.dataLevel,u=n.schema[a],c=n.schemaPath+n.util.getProperty(a),m=n.errSchemaPath+"/"+a,p=!n.opts.allErrors,h="data"+(s||""),v="valid"+o,x="errs__"+o,y=n.util.copy(n),k="";y.level++;var T="valid"+y.level,E="i"+o,_=y.dataLevel=n.dataLevel+1,A="data"+_,C=n.baseId,S=n.util.schemaHasRules(u,n.RULES.all);if(e+="var "+x+" = errors;var "+v+";",S){var P=n.compositeRule;n.compositeRule=y.compositeRule=!0,y.schema=u,y.schemaPath=c,y.errSchemaPath=m,e+=" var "+T+" = false; for (var "+E+" = 0; "+E+" < "+h+".length; "+E+"++) { ",y.errorPath=n.util.getPathExpr(n.errorPath,E,n.opts.jsonPointers,!0);var O=h+"["+E+"]";y.dataPathArr[_]=E;var R=n.validate(y);y.baseId=C,n.util.varOccurences(R,A)<2?e+=" "+n.util.varReplace(R,A,O)+" ":e+=" var "+A+" = "+O+"; "+R+" ",e+=" if ("+T+") break; }  ",n.compositeRule=y.compositeRule=P,e+=" "+k+" if (!"+T+") {"}else e+=" if ("+h+".length == 0) {";var I=I||[];I.push(e),e="",n.createErrors!==!1?(e+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(m)+" , params: {} ",n.opts.messages!==!1&&(e+=" , message: 'should contain a valid item' "),n.opts.verbose&&(e+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+h+" "),e+=" } "):e+=" {} ";var M=e;return e=I.pop(),!n.compositeRule&&p?n.async?e+=" throw new ValidationError(["+M+"]); ":e+=" validate.errors = ["+M+"]; return false; ":e+=" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",e+=" } else { ",S&&(e+="  errors = "+x+"; if (vErrors !== null) { if ("+x+") vErrors.length = "+x+"; else vErrors = null; } "),n.opts.allErrors&&(e+=" } "),e=n.util.cleanUpCode(e),e}},function(f,r,t){f.exports=function(n,a,l){var e=" ",o=n.level,s=n.dataLevel,u=n.schema[a],c=n.schemaPath+n.util.getProperty(a),m=n.errSchemaPath+"/"+a,p=!n.opts.allErrors,h="data"+(s||""),v="errs__"+o,x=n.util.copy(n),y="";x.level++;var k="valid"+x.level,T={},E={},_=n.opts.ownProperties;for(P in u){var A=u[P],C=Array.isArray(A)?E:T;C[P]=A}e+="var "+v+" = errors;";var S=n.errorPath;e+="var missing"+o+";";for(var P in E)if(C=E[P],C.length){if(e+=" if ( "+h+n.util.getProperty(P)+" !== undefined ",_&&(e+=" && Object.prototype.hasOwnProperty.call("+h+", '"+n.util.escapeQuotes(P)+"') "),p){e+=" && ( ";var O=C;if(O)for(var R,I=-1,M=O.length-1;I<M;){R=O[I+=1],I&&(e+=" || ");var H=n.util.getProperty(R),L=h+H;e+=" ( ( "+L+" === undefined ",_&&(e+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+n.util.escapeQuotes(R)+"') "),e+=") && (missing"+o+" = "+n.util.toQuotedString(n.opts.jsonPointers?R:H)+") ) "}e+=")) {  ";var D="missing"+o,j="' + "+D+" + '";n.opts._errorDataPathProperty&&(n.errorPath=n.opts.jsonPointers?n.util.getPathExpr(S,D,!0):S+" + "+D);var W=W||[];W.push(e),e="",n.createErrors!==!1?(e+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(m)+" , params: { property: '"+n.util.escapeQuotes(P)+"', missingProperty: '"+j+"', depsCount: "+C.length+", deps: '"+n.util.escapeQuotes(C.length==1?C[0]:C.join(", "))+"' } ",n.opts.messages!==!1&&(e+=" , message: 'should have ",C.length==1?e+="property "+n.util.escapeQuotes(C[0]):e+="properties "+n.util.escapeQuotes(C.join(", ")),e+=" when property "+n.util.escapeQuotes(P)+" is present' "),n.opts.verbose&&(e+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+h+" "),e+=" } "):e+=" {} ";var B=e;e=W.pop(),!n.compositeRule&&p?n.async?e+=" throw new ValidationError(["+B+"]); ":e+=" validate.errors = ["+B+"]; return false; ":e+=" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{e+=" ) { ";var F=C;if(F)for(var R,N=-1,X=F.length-1;N<X;){R=F[N+=1];var H=n.util.getProperty(R),j=n.util.escapeQuotes(R),L=h+H;n.opts._errorDataPathProperty&&(n.errorPath=n.util.getPath(S,R,n.opts.jsonPointers)),e+=" if ( "+L+" === undefined ",_&&(e+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+n.util.escapeQuotes(R)+"') "),e+=") {  var err =   ",n.createErrors!==!1?(e+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(m)+" , params: { property: '"+n.util.escapeQuotes(P)+"', missingProperty: '"+j+"', depsCount: "+C.length+", deps: '"+n.util.escapeQuotes(C.length==1?C[0]:C.join(", "))+"' } ",n.opts.messages!==!1&&(e+=" , message: 'should have ",C.length==1?e+="property "+n.util.escapeQuotes(C[0]):e+="properties "+n.util.escapeQuotes(C.join(", ")),e+=" when property "+n.util.escapeQuotes(P)+" is present' "),n.opts.verbose&&(e+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+h+" "),e+=" } "):e+=" {} ",e+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e+=" }   ",p&&(y+="}",e+=" else { ")}n.errorPath=S;var G=x.baseId;for(var P in T){var A=T[P];n.util.schemaHasRules(A,n.RULES.all)&&(e+=" "+k+" = true; if ( "+h+n.util.getProperty(P)+" !== undefined ",_&&(e+=" && Object.prototype.hasOwnProperty.call("+h+", '"+n.util.escapeQuotes(P)+"') "),e+=") { ",x.schema=A,x.schemaPath=c+n.util.getProperty(P),x.errSchemaPath=m+"/"+n.util.escapeFragment(P),e+="  "+n.validate(x)+" ",x.baseId=G,e+=" }  ",p&&(e+=" if ("+k+") { ",y+="}"))}return p&&(e+="   "+y+" if ("+v+" == errors) {"),e=n.util.cleanUpCode(e),e}},function(f,r,t){f.exports=function(n,a,l){var e=" ",o=n.level,s=n.dataLevel,u=n.schema[a],c=n.schemaPath+n.util.getProperty(a),m=n.errSchemaPath+"/"+a,p=!n.opts.allErrors,h="data"+(s||""),v="valid"+o,x=n.opts.$data&&u&&u.$data;x&&(e+=" var schema"+o+" = "+n.util.getData(u.$data,s,n.dataPathArr)+"; ");var y="i"+o,k="schema"+o;x||(e+=" var "+k+" = validate.schema"+c+";"),e+="var "+v+";",x&&(e+=" if (schema"+o+" === undefined) "+v+" = true; else if (!Array.isArray(schema"+o+")) "+v+" = false; else {"),e+=""+v+" = false;for (var "+y+"=0; "+y+"<"+k+".length; "+y+"++) if (equal("+h+", "+k+"["+y+"])) { "+v+" = true; break; }",x&&(e+="  }  "),e+=" if (!"+v+") {   ";var T=T||[];T.push(e),e="",n.createErrors!==!1?(e+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(m)+" , params: { allowedValues: schema"+o+" } ",n.opts.messages!==!1&&(e+=" , message: 'should be equal to one of the allowed values' "),n.opts.verbose&&(e+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+h+" "),e+=" } "):e+=" {} ";var E=e;return e=T.pop(),!n.compositeRule&&p?n.async?e+=" throw new ValidationError(["+E+"]); ":e+=" validate.errors = ["+E+"]; return false; ":e+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",e+=" }",p&&(e+=" else { "),e}},function(f,r,t){f.exports=function(n,a,l){var e=" ",o=n.level,s=n.dataLevel,u=n.schema[a],c=n.schemaPath+n.util.getProperty(a),m=n.errSchemaPath+"/"+a,p=!n.opts.allErrors,h="data"+(s||"");if(n.opts.format===!1)return p&&(e+=" if (true) { "),e;var v=n.opts.$data&&u&&u.$data,x;v?(e+=" var schema"+o+" = "+n.util.getData(u.$data,s,n.dataPathArr)+"; ",x="schema"+o):x=u;var y=n.opts.unknownFormats,k=Array.isArray(y);if(v){var T="format"+o,E="isObject"+o,_="formatType"+o;e+=" var "+T+" = formats["+x+"]; var "+E+" = typeof "+T+" == 'object' && !("+T+" instanceof RegExp) && "+T+".validate; var "+_+" = "+E+" && "+T+".type || 'string'; if ("+E+") { ",n.async&&(e+=" var async"+o+" = "+T+".async; "),e+=" "+T+" = "+T+".validate; } if (  ",v&&(e+=" ("+x+" !== undefined && typeof "+x+" != 'string') || "),e+=" (",y!="ignore"&&(e+=" ("+x+" && !"+T+" ",k&&(e+=" && self._opts.unknownFormats.indexOf("+x+") == -1 "),e+=") || "),e+=" ("+T+" && "+_+" == '"+l+"' && !(typeof "+T+" == 'function' ? ",n.async?e+=" (async"+o+" ? await "+T+"("+h+") : "+T+"("+h+")) ":e+=" "+T+"("+h+") ",e+=" : "+T+".test("+h+"))))) {"}else{var T=n.formats[u];if(!T){if(y=="ignore")return n.logger.warn('unknown format "'+u+'" ignored in schema at path "'+n.errSchemaPath+'"'),p&&(e+=" if (true) { "),e;if(k&&y.indexOf(u)>=0)return p&&(e+=" if (true) { "),e;throw new Error('unknown format "'+u+'" is used in schema at path "'+n.errSchemaPath+'"')}var E=typeof T=="object"&&!(T instanceof RegExp)&&T.validate,_=E&&T.type||"string";if(E){var A=T.async===!0;T=T.validate}if(_!=l)return p&&(e+=" if (true) { "),e;if(A){if(!n.async)throw new Error("async format in sync schema");var C="formats"+n.util.getProperty(u)+".validate";e+=" if (!(await "+C+"("+h+"))) { "}else{e+=" if (! ";var C="formats"+n.util.getProperty(u);E&&(C+=".validate"),typeof T=="function"?e+=" "+C+"("+h+") ":e+=" "+C+".test("+h+") ",e+=") { "}}var S=S||[];S.push(e),e="",n.createErrors!==!1?(e+=" { keyword: 'format' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(m)+" , params: { format:  ",v?e+=""+x:e+=""+n.util.toQuotedString(u),e+="  } ",n.opts.messages!==!1&&(e+=` , message: 'should match format "`,v?e+="' + "+x+" + '":e+=""+n.util.escapeQuotes(u),e+=`"' `),n.opts.verbose&&(e+=" , schema:  ",v?e+="validate.schema"+c:e+=""+n.util.toQuotedString(u),e+="         , parentSchema: validate.schema"+n.schemaPath+" , data: "+h+" "),e+=" } "):e+=" {} ";var P=e;return e=S.pop(),!n.compositeRule&&p?n.async?e+=" throw new ValidationError(["+P+"]); ":e+=" validate.errors = ["+P+"]; return false; ":e+=" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",e+=" } ",p&&(e+=" else { "),e}},function(f,r,t){f.exports=function(n,a,l){var e=" ",o=n.level,s=n.dataLevel,u=n.schema[a],c=n.schemaPath+n.util.getProperty(a),m=n.errSchemaPath+"/"+a,p=!n.opts.allErrors,h="data"+(s||""),v="valid"+o,x="errs__"+o,y=n.util.copy(n);y.level++;var k="valid"+y.level,T=n.schema.then,E=n.schema.else,_=T!==void 0&&n.util.schemaHasRules(T,n.RULES.all),A=E!==void 0&&n.util.schemaHasRules(E,n.RULES.all),C=y.baseId;if(_||A){var S;y.createErrors=!1,y.schema=u,y.schemaPath=c,y.errSchemaPath=m,e+=" var "+x+" = errors; var "+v+" = true;  ";var P=n.compositeRule;n.compositeRule=y.compositeRule=!0,e+="  "+n.validate(y)+" ",y.baseId=C,y.createErrors=!0,e+="  errors = "+x+"; if (vErrors !== null) { if ("+x+") vErrors.length = "+x+"; else vErrors = null; }  ",n.compositeRule=y.compositeRule=P,_?(e+=" if ("+k+") {  ",y.schema=n.schema.then,y.schemaPath=n.schemaPath+".then",y.errSchemaPath=n.errSchemaPath+"/then",e+="  "+n.validate(y)+" ",y.baseId=C,e+=" "+v+" = "+k+"; ",_&&A?(S="ifClause"+o,e+=" var "+S+" = 'then'; "):S="'then'",e+=" } ",A&&(e+=" else { ")):e+=" if (!"+k+") { ",A&&(y.schema=n.schema.else,y.schemaPath=n.schemaPath+".else",y.errSchemaPath=n.errSchemaPath+"/else",e+="  "+n.validate(y)+" ",y.baseId=C,e+=" "+v+" = "+k+"; ",_&&A?(S="ifClause"+o,e+=" var "+S+" = 'else'; "):S="'else'",e+=" } "),e+=" if (!"+v+") {   var err =   ",n.createErrors!==!1?(e+=" { keyword: 'if' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(m)+" , params: { failingKeyword: "+S+" } ",n.opts.messages!==!1&&(e+=` , message: 'should match "' + `+S+` + '" schema' `),n.opts.verbose&&(e+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+h+" "),e+=" } "):e+=" {} ",e+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!n.compositeRule&&p&&(n.async?e+=" throw new ValidationError(vErrors); ":e+=" validate.errors = vErrors; return false; "),e+=" }   ",p&&(e+=" else { "),e=n.util.cleanUpCode(e)}else p&&(e+=" if (true) { ");return e}},function(f,r,t){f.exports=function(n,a,l){var e=" ",o=n.level,s=n.dataLevel,u=n.schema[a],c=n.schemaPath+n.util.getProperty(a),m=n.errSchemaPath+"/"+a,p=!n.opts.allErrors,h="data"+(s||""),v="valid"+o,x="errs__"+o,y=n.util.copy(n),k="";y.level++;var T="valid"+y.level,E="i"+o,_=y.dataLevel=n.dataLevel+1,A="data"+_,C=n.baseId;if(e+="var "+x+" = errors;var "+v+";",Array.isArray(u)){var S=n.schema.additionalItems;if(S===!1){e+=" "+v+" = "+h+".length <= "+u.length+"; ";var P=m;m=n.errSchemaPath+"/additionalItems",e+="  if (!"+v+") {   ";var O=O||[];O.push(e),e="",n.createErrors!==!1?(e+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(m)+" , params: { limit: "+u.length+" } ",n.opts.messages!==!1&&(e+=" , message: 'should NOT have more than "+u.length+" items' "),n.opts.verbose&&(e+=" , schema: false , parentSchema: validate.schema"+n.schemaPath+" , data: "+h+" "),e+=" } "):e+=" {} ";var R=e;e=O.pop(),!n.compositeRule&&p?n.async?e+=" throw new ValidationError(["+R+"]); ":e+=" validate.errors = ["+R+"]; return false; ":e+=" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",e+=" } ",m=P,p&&(k+="}",e+=" else { ")}var I=u;if(I){for(var M,H=-1,L=I.length-1;H<L;)if(M=I[H+=1],n.util.schemaHasRules(M,n.RULES.all)){e+=" "+T+" = true; if ("+h+".length > "+H+") { ";var D=h+"["+H+"]";y.schema=M,y.schemaPath=c+"["+H+"]",y.errSchemaPath=m+"/"+H,y.errorPath=n.util.getPathExpr(n.errorPath,H,n.opts.jsonPointers,!0),y.dataPathArr[_]=H;var j=n.validate(y);y.baseId=C,n.util.varOccurences(j,A)<2?e+=" "+n.util.varReplace(j,A,D)+" ":e+=" var "+A+" = "+D+"; "+j+" ",e+=" }  ",p&&(e+=" if ("+T+") { ",k+="}")}}if(typeof S=="object"&&n.util.schemaHasRules(S,n.RULES.all)){y.schema=S,y.schemaPath=n.schemaPath+".additionalItems",y.errSchemaPath=n.errSchemaPath+"/additionalItems",e+=" "+T+" = true; if ("+h+".length > "+u.length+") {  for (var "+E+" = "+u.length+"; "+E+" < "+h+".length; "+E+"++) { ",y.errorPath=n.util.getPathExpr(n.errorPath,E,n.opts.jsonPointers,!0);var D=h+"["+E+"]";y.dataPathArr[_]=E;var j=n.validate(y);y.baseId=C,n.util.varOccurences(j,A)<2?e+=" "+n.util.varReplace(j,A,D)+" ":e+=" var "+A+" = "+D+"; "+j+" ",p&&(e+=" if (!"+T+") break; "),e+=" } }  ",p&&(e+=" if ("+T+") { ",k+="}")}}else if(n.util.schemaHasRules(u,n.RULES.all)){y.schema=u,y.schemaPath=c,y.errSchemaPath=m,e+="  for (var "+E+" = 0; "+E+" < "+h+".length; "+E+"++) { ",y.errorPath=n.util.getPathExpr(n.errorPath,E,n.opts.jsonPointers,!0);var D=h+"["+E+"]";y.dataPathArr[_]=E;var j=n.validate(y);y.baseId=C,n.util.varOccurences(j,A)<2?e+=" "+n.util.varReplace(j,A,D)+" ":e+=" var "+A+" = "+D+"; "+j+" ",p&&(e+=" if (!"+T+") break; "),e+=" }"}return p&&(e+=" "+k+" if ("+x+" == errors) {"),e=n.util.cleanUpCode(e),e}},function(f,r,t){f.exports=function(n,a,l){var e=" ",o=n.level,s=n.dataLevel,u=n.schema[a],c=n.schemaPath+n.util.getProperty(a),m=n.errSchemaPath+"/"+a,p=!n.opts.allErrors,h="data"+(s||""),v=n.opts.$data&&u&&u.$data,x;v?(e+=" var schema"+o+" = "+n.util.getData(u.$data,s,n.dataPathArr)+"; ",x="schema"+o):x=u,e+="var division"+o+";if (",v&&(e+=" "+x+" !== undefined && ( typeof "+x+" != 'number' || "),e+=" (division"+o+" = "+h+" / "+x+", ",n.opts.multipleOfPrecision?e+=" Math.abs(Math.round(division"+o+") - division"+o+") > 1e-"+n.opts.multipleOfPrecision+" ":e+=" division"+o+" !== parseInt(division"+o+") ",e+=" ) ",v&&(e+="  )  "),e+=" ) {   ";var y=y||[];y.push(e),e="",n.createErrors!==!1?(e+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(m)+" , params: { multipleOf: "+x+" } ",n.opts.messages!==!1&&(e+=" , message: 'should be multiple of ",v?e+="' + "+x:e+=""+x+"'"),n.opts.verbose&&(e+=" , schema:  ",v?e+="validate.schema"+c:e+=""+u,e+="         , parentSchema: validate.schema"+n.schemaPath+" , data: "+h+" "),e+=" } "):e+=" {} ";var k=e;return e=y.pop(),!n.compositeRule&&p?n.async?e+=" throw new ValidationError(["+k+"]); ":e+=" validate.errors = ["+k+"]; return false; ":e+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",e+="} ",p&&(e+=" else { "),e}},function(f,r,t){f.exports=function(n,a,l){var e=" ",o=n.level,s=n.dataLevel,u=n.schema[a],c=n.schemaPath+n.util.getProperty(a),m=n.errSchemaPath+"/"+a,p=!n.opts.allErrors,h="data"+(s||""),v="errs__"+o,x=n.util.copy(n);x.level++;var y="valid"+x.level;if(n.util.schemaHasRules(u,n.RULES.all)){x.schema=u,x.schemaPath=c,x.errSchemaPath=m,e+=" var "+v+" = errors;  ";var k=n.compositeRule;n.compositeRule=x.compositeRule=!0,x.createErrors=!1;var T;x.opts.allErrors&&(T=x.opts.allErrors,x.opts.allErrors=!1),e+=" "+n.validate(x)+" ",x.createErrors=!0,T&&(x.opts.allErrors=T),n.compositeRule=x.compositeRule=k,e+=" if ("+y+") {   ";var E=E||[];E.push(e),e="",n.createErrors!==!1?(e+=" { keyword: 'not' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(m)+" , params: {} ",n.opts.messages!==!1&&(e+=" , message: 'should NOT be valid' "),n.opts.verbose&&(e+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+h+" "),e+=" } "):e+=" {} ";var _=e;e=E.pop(),!n.compositeRule&&p?n.async?e+=" throw new ValidationError(["+_+"]); ":e+=" validate.errors = ["+_+"]; return false; ":e+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",e+=" } else {  errors = "+v+"; if (vErrors !== null) { if ("+v+") vErrors.length = "+v+"; else vErrors = null; } ",n.opts.allErrors&&(e+=" } ")}else e+="  var err =   ",n.createErrors!==!1?(e+=" { keyword: 'not' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(m)+" , params: {} ",n.opts.messages!==!1&&(e+=" , message: 'should NOT be valid' "),n.opts.verbose&&(e+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+h+" "),e+=" } "):e+=" {} ",e+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",p&&(e+=" if (false) { ");return e}},function(f,r,t){f.exports=function(n,a,l){var e=" ",o=n.level,s=n.dataLevel,u=n.schema[a],c=n.schemaPath+n.util.getProperty(a),m=n.errSchemaPath+"/"+a,p=!n.opts.allErrors,h="data"+(s||""),v="valid"+o,x="errs__"+o,y=n.util.copy(n),k="";y.level++;var T="valid"+y.level,E=y.baseId,_="prevValid"+o,A="passingSchemas"+o;e+="var "+x+" = errors , "+_+" = false , "+v+" = false , "+A+" = null; ";var C=n.compositeRule;n.compositeRule=y.compositeRule=!0;var S=u;if(S)for(var P,O=-1,R=S.length-1;O<R;)P=S[O+=1],n.util.schemaHasRules(P,n.RULES.all)?(y.schema=P,y.schemaPath=c+"["+O+"]",y.errSchemaPath=m+"/"+O,e+="  "+n.validate(y)+" ",y.baseId=E):e+=" var "+T+" = true; ",O&&(e+=" if ("+T+" && "+_+") { "+v+" = false; "+A+" = ["+A+", "+O+"]; } else { ",k+="}"),e+=" if ("+T+") { "+v+" = "+_+" = true; "+A+" = "+O+"; }";return n.compositeRule=y.compositeRule=C,e+=""+k+"if (!"+v+") {   var err =   ",n.createErrors!==!1?(e+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(m)+" , params: { passingSchemas: "+A+" } ",n.opts.messages!==!1&&(e+=" , message: 'should match exactly one schema in oneOf' "),n.opts.verbose&&(e+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+h+" "),e+=" } "):e+=" {} ",e+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!n.compositeRule&&p&&(n.async?e+=" throw new ValidationError(vErrors); ":e+=" validate.errors = vErrors; return false; "),e+="} else {  errors = "+x+"; if (vErrors !== null) { if ("+x+") vErrors.length = "+x+"; else vErrors = null; }",n.opts.allErrors&&(e+=" } "),e}},function(f,r,t){f.exports=function(n,a,l){var e=" ",o=n.level,s=n.dataLevel,u=n.schema[a],c=n.schemaPath+n.util.getProperty(a),m=n.errSchemaPath+"/"+a,p=!n.opts.allErrors,h="data"+(s||""),v=n.opts.$data&&u&&u.$data,x;v?(e+=" var schema"+o+" = "+n.util.getData(u.$data,s,n.dataPathArr)+"; ",x="schema"+o):x=u;var y=v?"(new RegExp("+x+"))":n.usePattern(u);e+="if ( ",v&&(e+=" ("+x+" !== undefined && typeof "+x+" != 'string') || "),e+=" !"+y+".test("+h+") ) {   ";var k=k||[];k.push(e),e="",n.createErrors!==!1?(e+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(m)+" , params: { pattern:  ",v?e+=""+x:e+=""+n.util.toQuotedString(u),e+="  } ",n.opts.messages!==!1&&(e+=` , message: 'should match pattern "`,v?e+="' + "+x+" + '":e+=""+n.util.escapeQuotes(u),e+=`"' `),n.opts.verbose&&(e+=" , schema:  ",v?e+="validate.schema"+c:e+=""+n.util.toQuotedString(u),e+="         , parentSchema: validate.schema"+n.schemaPath+" , data: "+h+" "),e+=" } "):e+=" {} ";var T=e;return e=k.pop(),!n.compositeRule&&p?n.async?e+=" throw new ValidationError(["+T+"]); ":e+=" validate.errors = ["+T+"]; return false; ":e+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",e+="} ",p&&(e+=" else { "),e}},function(f,r,t){f.exports=function(n,a,l){var e=" ",o=n.level,s=n.dataLevel,u=n.schema[a],c=n.schemaPath+n.util.getProperty(a),m=n.errSchemaPath+"/"+a,p=!n.opts.allErrors,h="data"+(s||""),v="errs__"+o,x=n.util.copy(n),y="";x.level++;var k="valid"+x.level,T="key"+o,E="idx"+o,_=x.dataLevel=n.dataLevel+1,A="data"+_,C="dataProperties"+o,S=Object.keys(u||{}),P=n.schema.patternProperties||{},O=Object.keys(P),R=n.schema.additionalProperties,I=S.length||O.length,M=R===!1,H=typeof R=="object"&&Object.keys(R).length,L=n.opts.removeAdditional,D=M||H||L,j=n.opts.ownProperties,W=n.baseId,B=n.schema.required;if(B&&!(n.opts.$data&&B.$data)&&B.length<n.opts.loopRequired)var F=n.util.toHash(B);if(e+="var "+v+" = errors;var "+k+" = true;",j&&(e+=" var "+C+" = undefined;"),D){if(j?e+=" "+C+" = "+C+" || Object.keys("+h+"); for (var "+E+"=0; "+E+"<"+C+".length; "+E+"++) { var "+T+" = "+C+"["+E+"]; ":e+=" for (var "+T+" in "+h+") { ",I){if(e+=" var isAdditional"+o+" = !(false ",S.length)if(S.length>8)e+=" || validate.schema"+c+".hasOwnProperty("+T+") ";else{var N=S;if(N)for(var X,G=-1,V=N.length-1;G<V;)X=N[G+=1],e+=" || "+T+" == "+n.util.toQuotedString(X)+" "}if(O.length){var z=O;if(z)for(var U,Z=-1,st=z.length-1;Z<st;)U=z[Z+=1],e+=" || "+n.usePattern(U)+".test("+T+") "}e+=" ); if (isAdditional"+o+") { "}if(L=="all")e+=" delete "+h+"["+T+"]; ";else{var Y=n.errorPath,rt="' + "+T+" + '";if(n.opts._errorDataPathProperty&&(n.errorPath=n.util.getPathExpr(n.errorPath,T,n.opts.jsonPointers)),M)if(L)e+=" delete "+h+"["+T+"]; ";else{e+=" "+k+" = false; ";var ft=m;m=n.errSchemaPath+"/additionalProperties";var tt=tt||[];tt.push(e),e="",n.createErrors!==!1?(e+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(m)+" , params: { additionalProperty: '"+rt+"' } ",n.opts.messages!==!1&&(e+=" , message: '",n.opts._errorDataPathProperty?e+="is an invalid additional property":e+="should NOT have additional properties",e+="' "),n.opts.verbose&&(e+=" , schema: false , parentSchema: validate.schema"+n.schemaPath+" , data: "+h+" "),e+=" } "):e+=" {} ";var K=e;e=tt.pop(),!n.compositeRule&&p?n.async?e+=" throw new ValidationError(["+K+"]); ":e+=" validate.errors = ["+K+"]; return false; ":e+=" var err = "+K+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",m=ft,p&&(e+=" break; ")}else if(H)if(L=="failing"){e+=" var "+v+" = errors;  ";var Q=n.compositeRule;n.compositeRule=x.compositeRule=!0,x.schema=R,x.schemaPath=n.schemaPath+".additionalProperties",x.errSchemaPath=n.errSchemaPath+"/additionalProperties",x.errorPath=n.opts._errorDataPathProperty?n.errorPath:n.util.getPathExpr(n.errorPath,T,n.opts.jsonPointers);var ct=h+"["+T+"]";x.dataPathArr[_]=T;var nt=n.validate(x);x.baseId=W,n.util.varOccurences(nt,A)<2?e+=" "+n.util.varReplace(nt,A,ct)+" ":e+=" var "+A+" = "+ct+"; "+nt+" ",e+=" if (!"+k+") { errors = "+v+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+h+"["+T+"]; }  ",n.compositeRule=x.compositeRule=Q}else{x.schema=R,x.schemaPath=n.schemaPath+".additionalProperties",x.errSchemaPath=n.errSchemaPath+"/additionalProperties",x.errorPath=n.opts._errorDataPathProperty?n.errorPath:n.util.getPathExpr(n.errorPath,T,n.opts.jsonPointers);var ct=h+"["+T+"]";x.dataPathArr[_]=T;var nt=n.validate(x);x.baseId=W,n.util.varOccurences(nt,A)<2?e+=" "+n.util.varReplace(nt,A,ct)+" ":e+=" var "+A+" = "+ct+"; "+nt+" ",p&&(e+=" if (!"+k+") break; ")}n.errorPath=Y}I&&(e+=" } "),e+=" }  ",p&&(e+=" if ("+k+") { ",y+="}")}var ot=n.opts.useDefaults&&!n.compositeRule;if(S.length){var yt=S;if(yt)for(var X,pt=-1,dt=yt.length-1;pt<dt;){X=yt[pt+=1];var mt=u[X];if(n.util.schemaHasRules(mt,n.RULES.all)){var q=n.util.getProperty(X),ct=h+q,$=ot&&mt.default!==void 0;x.schema=mt,x.schemaPath=c+q,x.errSchemaPath=m+"/"+n.util.escapeFragment(X),x.errorPath=n.util.getPath(n.errorPath,X,n.opts.jsonPointers),x.dataPathArr[_]=n.util.toQuotedString(X);var nt=n.validate(x);if(x.baseId=W,n.util.varOccurences(nt,A)<2){nt=n.util.varReplace(nt,A,ct);var J=ct}else{var J=A;e+=" var "+A+" = "+ct+"; "}if($)e+=" "+nt+" ";else{if(F&&F[X]){e+=" if ( "+J+" === undefined ",j&&(e+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+n.util.escapeQuotes(X)+"') "),e+=") { "+k+" = false; ";var Y=n.errorPath,ft=m,lt=n.util.escapeQuotes(X);n.opts._errorDataPathProperty&&(n.errorPath=n.util.getPath(Y,X,n.opts.jsonPointers)),m=n.errSchemaPath+"/required";var tt=tt||[];tt.push(e),e="",n.createErrors!==!1?(e+=" { keyword: 'required' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(m)+" , params: { missingProperty: '"+lt+"' } ",n.opts.messages!==!1&&(e+=" , message: '",n.opts._errorDataPathProperty?e+="is a required property":e+="should have required property \\'"+lt+"\\'",e+="' "),n.opts.verbose&&(e+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+h+" "),e+=" } "):e+=" {} ";var K=e;e=tt.pop(),!n.compositeRule&&p?n.async?e+=" throw new ValidationError(["+K+"]); ":e+=" validate.errors = ["+K+"]; return false; ":e+=" var err = "+K+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",m=ft,n.errorPath=Y,e+=" } else { "}else p?(e+=" if ( "+J+" === undefined ",j&&(e+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+n.util.escapeQuotes(X)+"') "),e+=") { "+k+" = true; } else { "):(e+=" if ("+J+" !== undefined ",j&&(e+=" &&   Object.prototype.hasOwnProperty.call("+h+", '"+n.util.escapeQuotes(X)+"') "),e+=" ) { ");e+=" "+nt+" } "}}p&&(e+=" if ("+k+") { ",y+="}")}}if(O.length){var ut=O;if(ut)for(var U,ht=-1,bt=ut.length-1;ht<bt;){U=ut[ht+=1];var mt=P[U];if(n.util.schemaHasRules(mt,n.RULES.all)){x.schema=mt,x.schemaPath=n.schemaPath+".patternProperties"+n.util.getProperty(U),x.errSchemaPath=n.errSchemaPath+"/patternProperties/"+n.util.escapeFragment(U),j?e+=" "+C+" = "+C+" || Object.keys("+h+"); for (var "+E+"=0; "+E+"<"+C+".length; "+E+"++) { var "+T+" = "+C+"["+E+"]; ":e+=" for (var "+T+" in "+h+") { ",e+=" if ("+n.usePattern(U)+".test("+T+")) { ",x.errorPath=n.util.getPathExpr(n.errorPath,T,n.opts.jsonPointers);var ct=h+"["+T+"]";x.dataPathArr[_]=T;var nt=n.validate(x);x.baseId=W,n.util.varOccurences(nt,A)<2?e+=" "+n.util.varReplace(nt,A,ct)+" ":e+=" var "+A+" = "+ct+"; "+nt+" ",p&&(e+=" if (!"+k+") break; "),e+=" } ",p&&(e+=" else "+k+" = true; "),e+=" }  ",p&&(e+=" if ("+k+") { ",y+="}")}}}return p&&(e+=" "+y+" if ("+v+" == errors) {"),e=n.util.cleanUpCode(e),e}},function(f,r,t){f.exports=function(n,a,l){var e=" ",o=n.level,s=n.dataLevel,u=n.schema[a],c=n.schemaPath+n.util.getProperty(a),m=n.errSchemaPath+"/"+a,p=!n.opts.allErrors,h="data"+(s||""),v="errs__"+o,x=n.util.copy(n),y="";x.level++;var k="valid"+x.level;if(e+="var "+v+" = errors;",n.util.schemaHasRules(u,n.RULES.all)){x.schema=u,x.schemaPath=c,x.errSchemaPath=m;var T="key"+o,E="idx"+o,_="i"+o,A="' + "+T+" + '",C=x.dataLevel=n.dataLevel+1,S="data"+C,P="dataProperties"+o,O=n.opts.ownProperties,R=n.baseId;O&&(e+=" var "+P+" = undefined; "),O?e+=" "+P+" = "+P+" || Object.keys("+h+"); for (var "+E+"=0; "+E+"<"+P+".length; "+E+"++) { var "+T+" = "+P+"["+E+"]; ":e+=" for (var "+T+" in "+h+") { ",e+=" var startErrs"+o+" = errors; ";var I=T,M=n.compositeRule;n.compositeRule=x.compositeRule=!0;var H=n.validate(x);x.baseId=R,n.util.varOccurences(H,S)<2?e+=" "+n.util.varReplace(H,S,I)+" ":e+=" var "+S+" = "+I+"; "+H+" ",n.compositeRule=x.compositeRule=M,e+=" if (!"+k+") { for (var "+_+"=startErrs"+o+"; "+_+"<errors; "+_+"++) { vErrors["+_+"].propertyName = "+T+"; }   var err =   ",n.createErrors!==!1?(e+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(m)+" , params: { propertyName: '"+A+"' } ",n.opts.messages!==!1&&(e+=" , message: 'property name \\'"+A+"\\' is invalid' "),n.opts.verbose&&(e+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+h+" "),e+=" } "):e+=" {} ",e+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!n.compositeRule&&p&&(n.async?e+=" throw new ValidationError(vErrors); ":e+=" validate.errors = vErrors; return false; "),p&&(e+=" break; "),e+=" } }"}return p&&(e+=" "+y+" if ("+v+" == errors) {"),e=n.util.cleanUpCode(e),e}},function(f,r,t){f.exports=function(n,a,l){var e=" ",o=n.level,s=n.dataLevel,u=n.schema[a],c=n.schemaPath+n.util.getProperty(a),m=n.errSchemaPath+"/"+a,p=!n.opts.allErrors,h="data"+(s||""),v="valid"+o,x=n.opts.$data&&u&&u.$data;x&&(e+=" var schema"+o+" = "+n.util.getData(u.$data,s,n.dataPathArr)+"; ");var y="schema"+o;if(!x)if(u.length<n.opts.loopRequired&&n.schema.properties&&Object.keys(n.schema.properties).length){var C=[],k=u;if(k)for(var T,E=-1,_=k.length-1;E<_;){T=k[E+=1];var A=n.schema.properties[T];A&&n.util.schemaHasRules(A,n.RULES.all)||(C[C.length]=T)}}else var C=u;if(x||C.length){var S=n.errorPath,P=x||C.length>=n.opts.loopRequired,O=n.opts.ownProperties;if(p)if(e+=" var missing"+o+"; ",P){x||(e+=" var "+y+" = validate.schema"+c+"; ");var R="i"+o,I="schema"+o+"["+R+"]",M="' + "+I+" + '";n.opts._errorDataPathProperty&&(n.errorPath=n.util.getPathExpr(S,I,n.opts.jsonPointers)),e+=" var "+v+" = true; ",x&&(e+=" if (schema"+o+" === undefined) "+v+" = true; else if (!Array.isArray(schema"+o+")) "+v+" = false; else {"),e+=" for (var "+R+" = 0; "+R+" < "+y+".length; "+R+"++) { "+v+" = "+h+"["+y+"["+R+"]] !== undefined ",O&&(e+=" &&   Object.prototype.hasOwnProperty.call("+h+", "+y+"["+R+"]) "),e+="; if (!"+v+") break; } ",x&&(e+="  }  "),e+="  if (!"+v+") {   ";var H=H||[];H.push(e),e="",n.createErrors!==!1?(e+=" { keyword: 'required' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(m)+" , params: { missingProperty: '"+M+"' } ",n.opts.messages!==!1&&(e+=" , message: '",n.opts._errorDataPathProperty?e+="is a required property":e+="should have required property \\'"+M+"\\'",e+="' "),n.opts.verbose&&(e+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+h+" "),e+=" } "):e+=" {} ";var L=e;e=H.pop(),!n.compositeRule&&p?n.async?e+=" throw new ValidationError(["+L+"]); ":e+=" validate.errors = ["+L+"]; return false; ":e+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",e+=" } else { "}else{e+=" if ( ";var D=C;if(D)for(var j,R=-1,W=D.length-1;R<W;){j=D[R+=1],R&&(e+=" || ");var B=n.util.getProperty(j),F=h+B;e+=" ( ( "+F+" === undefined ",O&&(e+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+n.util.escapeQuotes(j)+"') "),e+=") && (missing"+o+" = "+n.util.toQuotedString(n.opts.jsonPointers?j:B)+") ) "}e+=") {  ";var I="missing"+o,M="' + "+I+" + '";n.opts._errorDataPathProperty&&(n.errorPath=n.opts.jsonPointers?n.util.getPathExpr(S,I,!0):S+" + "+I);var H=H||[];H.push(e),e="",n.createErrors!==!1?(e+=" { keyword: 'required' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(m)+" , params: { missingProperty: '"+M+"' } ",n.opts.messages!==!1&&(e+=" , message: '",n.opts._errorDataPathProperty?e+="is a required property":e+="should have required property \\'"+M+"\\'",e+="' "),n.opts.verbose&&(e+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+h+" "),e+=" } "):e+=" {} ";var L=e;e=H.pop(),!n.compositeRule&&p?n.async?e+=" throw new ValidationError(["+L+"]); ":e+=" validate.errors = ["+L+"]; return false; ":e+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",e+=" } else { "}else if(P){x||(e+=" var "+y+" = validate.schema"+c+"; ");var R="i"+o,I="schema"+o+"["+R+"]",M="' + "+I+" + '";n.opts._errorDataPathProperty&&(n.errorPath=n.util.getPathExpr(S,I,n.opts.jsonPointers)),x&&(e+=" if ("+y+" && !Array.isArray("+y+")) {  var err =   ",n.createErrors!==!1?(e+=" { keyword: 'required' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(m)+" , params: { missingProperty: '"+M+"' } ",n.opts.messages!==!1&&(e+=" , message: '",n.opts._errorDataPathProperty?e+="is a required property":e+="should have required property \\'"+M+"\\'",e+="' "),n.opts.verbose&&(e+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+h+" "),e+=" } "):e+=" {} ",e+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+y+" !== undefined) { "),e+=" for (var "+R+" = 0; "+R+" < "+y+".length; "+R+"++) { if ("+h+"["+y+"["+R+"]] === undefined ",O&&(e+=" || ! Object.prototype.hasOwnProperty.call("+h+", "+y+"["+R+"]) "),e+=") {  var err =   ",n.createErrors!==!1?(e+=" { keyword: 'required' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(m)+" , params: { missingProperty: '"+M+"' } ",n.opts.messages!==!1&&(e+=" , message: '",n.opts._errorDataPathProperty?e+="is a required property":e+="should have required property \\'"+M+"\\'",e+="' "),n.opts.verbose&&(e+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+h+" "),e+=" } "):e+=" {} ",e+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",x&&(e+="  }  ")}else{var N=C;if(N)for(var j,X=-1,G=N.length-1;X<G;){j=N[X+=1];var B=n.util.getProperty(j),M=n.util.escapeQuotes(j),F=h+B;n.opts._errorDataPathProperty&&(n.errorPath=n.util.getPath(S,j,n.opts.jsonPointers)),e+=" if ( "+F+" === undefined ",O&&(e+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+n.util.escapeQuotes(j)+"') "),e+=") {  var err =   ",n.createErrors!==!1?(e+=" { keyword: 'required' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(m)+" , params: { missingProperty: '"+M+"' } ",n.opts.messages!==!1&&(e+=" , message: '",n.opts._errorDataPathProperty?e+="is a required property":e+="should have required property \\'"+M+"\\'",e+="' "),n.opts.verbose&&(e+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+h+" "),e+=" } "):e+=" {} ",e+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}n.errorPath=S}else p&&(e+=" if (true) {");return e}},function(f,r,t){f.exports=function(n,a,l){var e=" ",o=n.level,s=n.dataLevel,u=n.schema[a],c=n.schemaPath+n.util.getProperty(a),m=n.errSchemaPath+"/"+a,p=!n.opts.allErrors,h="data"+(s||""),v="valid"+o,x=n.opts.$data&&u&&u.$data,y;if(x?(e+=" var schema"+o+" = "+n.util.getData(u.$data,s,n.dataPathArr)+"; ",y="schema"+o):y=u,(u||x)&&n.opts.uniqueItems!==!1){x&&(e+=" var "+v+"; if ("+y+" === false || "+y+" === undefined) "+v+" = true; else if (typeof "+y+" != 'boolean') "+v+" = false; else { "),e+=" var i = "+h+".length , "+v+" = true , j; if (i > 1) { ";var k=n.schema.items&&n.schema.items.type,T=Array.isArray(k);if(!k||k=="object"||k=="array"||T&&(k.indexOf("object")>=0||k.indexOf("array")>=0))e+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+h+"[i], "+h+"[j])) { "+v+" = false; break outer; } } } ";else{e+=" var itemIndices = {}, item; for (;i--;) { var item = "+h+"[i]; ";var E="checkDataType"+(T?"s":"");e+=" if ("+n.util[E](k,"item",!0)+") continue; ",T&&(e+=` if (typeof item == 'string') item = '"' + item; `),e+=" if (typeof itemIndices[item] == 'number') { "+v+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}e+=" } ",x&&(e+="  }  "),e+=" if (!"+v+") {   ";var _=_||[];_.push(e),e="",n.createErrors!==!1?(e+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(m)+" , params: { i: i, j: j } ",n.opts.messages!==!1&&(e+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),n.opts.verbose&&(e+=" , schema:  ",x?e+="validate.schema"+c:e+=""+u,e+="         , parentSchema: validate.schema"+n.schemaPath+" , data: "+h+" "),e+=" } "):e+=" {} ";var A=e;e=_.pop(),!n.compositeRule&&p?n.async?e+=" throw new ValidationError(["+A+"]); ":e+=" validate.errors = ["+A+"]; return false; ":e+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",e+=" } ",p&&(e+=" else { ")}else p&&(e+=" if (true) { ");return e}},function(f,r,t){var n=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];f.exports=function(a,l){for(var e=0;e<l.length;e++){a=JSON.parse(JSON.stringify(a));var o=l[e].split("/"),s=a,u;for(u=1;u<o.length;u++)s=s[o[u]];for(u=0;u<n.length;u++){var c=n[u],m=s[c];m&&(s[c]={anyOf:[m,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]})}}return a}},function(f,r,t){var n=t(270).MissingRef;f.exports=a;function a(l,e,o){var s=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");typeof e=="function"&&(o=e,e=void 0);var u=c(l).then(function(){var p=s._addSchema(l,void 0,e);return p.validate||m(p)});return o&&u.then(function(p){o(null,p)},o),u;function c(p){var h=p.$schema;return h&&!s.getSchema(h)?a.call(s,{$ref:h},!0):Promise.resolve()}function m(p){try{return s._compile(p)}catch(v){if(v instanceof n)return h(v);throw v}function h(v){var x=v.missingSchema;if(T(x))throw new Error("Schema "+x+" is loaded but "+v.missingRef+" cannot be resolved");var y=s._loadingSchemas[x];return y||(y=s._loadingSchemas[x]=s._opts.loadSchema(x),y.then(k,k)),y.then(function(E){if(!T(x))return c(E).then(function(){T(x)||s.addSchema(E,x,void 0,e)})}).then(function(){return m(p)});function k(){delete s._loadingSchemas[x]}function T(E){return s._refs[E]||s._schemas[E]}}}}},function(f,r,t){var n=/^[a-z_$][a-z0-9_$-]*$/i,a=t(720),l=t(405);f.exports={add:o,get:s,remove:u,validate:c};var e={definitions:{simpleTypes:l.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:l.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}};function o(m,p){var h=this.RULES;if(h.keywords[m])throw new Error("Keyword "+m+" is already defined");if(!n.test(m))throw new Error("Keyword "+m+" is not a valid identifier");if(p){this.validateKeyword(p,!0);var v=p.type;if(Array.isArray(v))for(var x=0;x<v.length;x++)k(m,v[x],p);else k(m,v,p);var y=p.metaSchema;y&&(p.$data&&this._opts.$data&&(y={anyOf:[y,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]}),p.validateSchema=this.compile(y,!0))}h.keywords[m]=h.all[m]=!0;function k(T,E,_){for(var A,C=0;C<h.length;C++){var S=h[C];if(S.type==E){A=S;break}}A||(A={type:E,rules:[]},h.push(A));var P={keyword:T,definition:_,custom:!0,code:a,implements:_.implements};A.rules.push(P),h.custom[T]=P}return this}function s(m){var p=this.RULES.custom[m];return p?p.definition:this.RULES.keywords[m]||!1}function u(m){var p=this.RULES;delete p.keywords[m],delete p.all[m],delete p.custom[m];for(var h=0;h<p.length;h++)for(var v=p[h].rules,x=0;x<v.length;x++)if(v[x].keyword==m){v.splice(x,1);break}return this}function c(m,p){c.errors=null;var h=this._validateKeyword=this._validateKeyword||this.compile(e,!0);if(h(m))return!0;if(c.errors=h.errors,p)throw new Error("custom keyword definition is invalid: "+this.errorsText(h.errors));return!1}},function(f,r,t){f.exports=function(n,a,l){var e=" ",o=n.level,s=n.dataLevel,u=n.schema[a],c=n.schemaPath+n.util.getProperty(a),m=n.errSchemaPath+"/"+a,p=!n.opts.allErrors,h,v="data"+(s||""),x="valid"+o,y="errs__"+o,k=n.opts.$data&&u&&u.$data,T;k?(e+=" var schema"+o+" = "+n.util.getData(u.$data,s,n.dataPathArr)+"; ",T="schema"+o):T=u;var E=this,_="definition"+o,A=E.definition,C="",S,P,O,R,I;if(k&&A.$data){I="keywordValidate"+o;var M=A.validateSchema;e+=" var "+_+" = RULES.custom['"+a+"'].definition; var "+I+" = "+_+".validate;"}else{if(R=n.useCustomRule(E,u,n.schema,n),!R)return;T="validate.schema"+c,I=R.code,S=A.compile,P=A.inline,O=A.macro}var H=I+".errors",L="i"+o,D="ruleErr"+o,j=A.async;if(j&&!n.async)throw new Error("async keyword in sync schema");if(P||O||(e+=""+H+" = null;"),e+="var "+y+" = errors;var "+x+";",k&&A.$data&&(C+="}",e+=" if ("+T+" === undefined) { "+x+" = true; } else { ",M&&(C+="}",e+=" "+x+" = "+_+".validateSchema("+T+"); if ("+x+") { ")),P)A.statements?e+=" "+R.validate+" ":e+=" "+x+" = "+R.validate+"; ";else if(O){var W=n.util.copy(n),C="";W.level++;var B="valid"+W.level;W.schema=R.validate,W.schemaPath="";var F=n.compositeRule;n.compositeRule=W.compositeRule=!0;var N=n.validate(W).replace(/validate\.schema/g,I);n.compositeRule=W.compositeRule=F,e+=" "+N}else{var X=X||[];X.push(e),e="",e+="  "+I+".call( ",n.opts.passContext?e+="this":e+="self",S||A.schema===!1?e+=" , "+v+" ":e+=" , "+T+" , "+v+" , validate.schema"+n.schemaPath+" ",e+=" , (dataPath || '')",n.errorPath!='""'&&(e+=" + "+n.errorPath);var G=s?"data"+(s-1||""):"parentData",V=s?n.dataPathArr[s]:"parentDataProperty";e+=" , "+G+" , "+V+" , rootData )  ";var z=e;e=X.pop(),A.errors===!1?(e+=" "+x+" = ",j&&(e+="await "),e+=""+z+"; "):j?(H="customErrors"+o,e+=" var "+H+" = null; try { "+x+" = await "+z+"; } catch (e) { "+x+" = false; if (e instanceof ValidationError) "+H+" = e.errors; else throw e; } "):e+=" "+H+" = null; "+x+" = "+z+"; "}if(A.modifying&&(e+=" if ("+G+") "+v+" = "+G+"["+V+"];"),e+=""+C,A.valid)p&&(e+=" if (true) { ");else{e+=" if ( ",A.valid===void 0?(e+=" !",O?e+=""+B:e+=""+x):e+=" "+!A.valid+" ",e+=") { ",h=E.keyword;var X=X||[];X.push(e),e="";var X=X||[];X.push(e),e="",n.createErrors!==!1?(e+=" { keyword: '"+(h||"custom")+"' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(m)+" , params: { keyword: '"+E.keyword+"' } ",n.opts.messages!==!1&&(e+=` , message: 'should pass "`+E.keyword+`" keyword validation' `),n.opts.verbose&&(e+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+v+" "),e+=" } "):e+=" {} ";var U=e;e=X.pop(),!n.compositeRule&&p?n.async?e+=" throw new ValidationError(["+U+"]); ":e+=" validate.errors = ["+U+"]; return false; ":e+=" var err = "+U+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var Z=e;e=X.pop(),P?A.errors?A.errors!="full"&&(e+="  for (var "+L+"="+y+"; "+L+"<errors; "+L+"++) { var "+D+" = vErrors["+L+"]; if ("+D+".dataPath === undefined) "+D+".dataPath = (dataPath || '') + "+n.errorPath+"; if ("+D+".schemaPath === undefined) { "+D+'.schemaPath = "'+m+'"; } ',n.opts.verbose&&(e+=" "+D+".schema = "+T+"; "+D+".data = "+v+"; "),e+=" } "):A.errors===!1?e+=" "+Z+" ":(e+=" if ("+y+" == errors) { "+Z+" } else {  for (var "+L+"="+y+"; "+L+"<errors; "+L+"++) { var "+D+" = vErrors["+L+"]; if ("+D+".dataPath === undefined) "+D+".dataPath = (dataPath || '') + "+n.errorPath+"; if ("+D+".schemaPath === undefined) { "+D+'.schemaPath = "'+m+'"; } ',n.opts.verbose&&(e+=" "+D+".schema = "+T+"; "+D+".data = "+v+"; "),e+=" } } "):O?(e+="   var err =   ",n.createErrors!==!1?(e+=" { keyword: '"+(h||"custom")+"' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(m)+" , params: { keyword: '"+E.keyword+"' } ",n.opts.messages!==!1&&(e+=` , message: 'should pass "`+E.keyword+`" keyword validation' `),n.opts.verbose&&(e+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+v+" "),e+=" } "):e+=" {} ",e+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!n.compositeRule&&p&&(n.async?e+=" throw new ValidationError(vErrors); ":e+=" validate.errors = vErrors; return false; ")):A.errors===!1?e+=" "+Z+" ":(e+=" if (Array.isArray("+H+")) { if (vErrors === null) vErrors = "+H+"; else vErrors = vErrors.concat("+H+"); errors = vErrors.length;  for (var "+L+"="+y+"; "+L+"<errors; "+L+"++) { var "+D+" = vErrors["+L+"]; if ("+D+".dataPath === undefined) "+D+".dataPath = (dataPath || '') + "+n.errorPath+";  "+D+'.schemaPath = "'+m+'";  ',n.opts.verbose&&(e+=" "+D+".schema = "+T+"; "+D+".data = "+v+"; "),e+=" } } else { "+Z+" } "),e+=" } ",p&&(e+=" else { ")}return e}},function(f){f.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}},function(f,r,t){f.exports={"view-config-editor-header":"ViewConfigEditor-module_view-config-editor-header-2nTtX","view-config-editor":"ViewConfigEditor-module_view-config-editor-2HAFN","view-config-log":"ViewConfigEditor-module_view-config-log-1mYmL","view-config-log-header":"ViewConfigEditor-module_view-config-log-header-3EbEM","view-config-log-msg":"ViewConfigEditor-module_view-config-log-msg-2-CJZ",title:"ViewConfigEditor-module_title-3nLH_",Warning:"ViewConfigEditor-module_Warning-_sgiB",Success:"ViewConfigEditor-module_Success-nclFo",Error:"ViewConfigEditor-module_Error-3enaC"}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;function n(a,l,e,o){var s=a.append("symbol").attr("id",l).attr("viewBox",o);e.forEach(function(u){return s.append("path").attr("d",u).attr("fill","currentColor")})}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(94),a=M(n),l=t(37),e=M(l),o=t(35),s=M(o),u=t(62),c=M(u),m=t(18),p=M(m),h=t(17),v=M(h),x=t(725),y=M(x),k=t(42),T=M(k),E=t(134),_=M(E),A=t(397),C=M(A),S=t(271),P=M(S),O=t(24),R=t(10),I=t(11);function M(D){return D&&D.__esModule?D:{default:D}}var H=function(D){D.setState(D.state)},L=function(){function D(j,W){var B=j,F=[],N=(0,_.default)(),X=function(){function G(){F.forEach(function(V){return W.unsubscribe(V)}),F=[]}return G}();return{destroy:X,publish:N.publish,stack:N.stack,public:(0,y.default)({setBroadcastMousePositionGlobally:function(){function G(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;B.setBroadcastMousePositionGlobally(V)}return G}(),setShowGlobalMousePosition:function(){function G(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;B.setShowGlobalMousePosition(V)}return G}(),setGlobalMousePosition:function(){function G(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;B.setBroadcastMousePositionGlobally(V),B.setShowGlobalMousePosition(V)}return G}(),setAuthHeader:function(){function G(V){(0,O.setTileProxyAuthHeader)(V),B.reload()}return G}(),getAuthHeader:function(){function G(){return(0,O.setTileProxyAuthHeader)()}return G}(),getComponent:function(){function G(){return B}return G}(),reload:function(){function G(V){var z=void 0;V?z=V.flatMap(function(mt){return typeof mt=="string"?B.iterateOverTracksInView(mt):mt}):z=B.iterateOverTracks();var U=!0,Z=!1,st=void 0;try{for(var Y=(0,v.default)(z),rt;!(U=(rt=Y.next()).done);U=!0){var ft=rt.value,tt=ft.viewId,K=ft.trackId,Q=B.getTrackObject(tt,K),ct=!0,nt=!1,ot=void 0;try{for(var yt=(0,v.default)(Q.childTracks||[Q]),pt;!(ct=(pt=yt.next()).done);ct=!0){var dt=pt.value;dt.fetchedTiles&&(dt.removeTiles((0,p.default)(dt.fetchedTiles)),dt.fetching.clear(),dt.refreshTiles()),dt.rerender(dt.options,!0)}}catch(mt){nt=!0,ot=mt}finally{try{!ct&&yt.return&&yt.return()}finally{if(nt)throw ot}}}}catch(mt){Z=!0,st=mt}finally{try{!U&&Y.return&&Y.return()}finally{if(Z)throw st}}}return G}(),destroy:function(){function G(){X(),T.default.unmountComponentAtNode(B.topDiv.parentNode)}return G}(),setRangeSelectionToInt:function(){function G(){B.setState({rangeSelectionToInt:!0})}return G}(),setRangeSelectionToFloat:function(){function G(){B.setState({rangeSelectionToInt:!1})}return G}(),setRangeSelection1dSize:function(){function G(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0;B.setState({rangeSelection1dSize:[V,z]})}return G}(),setViewConfig:function(){function G(V){var z=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Z=B.processViewConfig(V),st=new c.default(function(Y){z.requestsInFlight=0,F.push(W.subscribe("requestSent",function(){z.requestsInFlight+=1})),F.push(W.subscribe("requestReceived",function(){z.requestsInFlight-=1,z.requestsInFlight===0&&Y()})),B.setState({viewConfig:V,views:Z},function(){U&&Y()})});return st}return G}(),getViewConfig:function(){function G(){return B.getViewsAsJson()}return G}(),validateViewConfig:function(){function G(V){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},U=z.verbose,Z=U===void 0?!1:U,st=new C.default().compile(P.default),Y=st(V);return Z&&st.errors&&console.warn((0,s.default)(st.errors,null,2)),Y}return G}(),getMinMaxValue:function(){function G(V,z){var U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return B.getMinMaxValue(V,z,U,Z)}return G}(),shareViewConfigAsLink:function(){function G(V){return B.handleExportViewsAsLink(V,!0)}return G}(),showAvailableTrackPositions:function(){function G(V){B.setState({draggingHappening:V})}return G}(),hideAvailableTrackPositions:function(){function G(){B.setState({draggingHappening:null})}return G}(),showTrackChooser:function(){function G(V){B.setState({chooseTrackHandler:function(){function z(){B.setState({chooseTrackHandler:null}),V.apply(void 0,arguments)}return z}()})}return G}(),hideTrackChooser:function(){function G(){this.setState({chooseTrackHandler:null})}return G}(),setTrackValueScaleLimits:function(){function G(V,z,U,Z){B.setTrackValueScaleLimits(V,z,U,Z)}return G}(),setDarkTheme:function(){function G(V){console.warn('`setDarkTheme(true)` is deprecated. Please use `setTheme("dark")`.');var z=V?"dark":"light";B.setTheme(z)}return G}(),setTheme:function(){function G(V){console.warn("Please note that theming is still in beta!"),B.setTheme(V)}return G}(),zoomTo:function(){function G(V,z,U,Z,st){var Y=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;B.zoomTo(V,z,U,Z,st,Y)}return G}(),zoomToGene:function(){function G(V,z){var U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;B.zoomToGene(V,z,U,Z)}return G}(),suggestGene:function(){function G(V,z,U){return B.suggestGene(V,z,U)}return G}(),zoomToDataExtent:function(){function G(V){B.handleZoomToData(V)}return G}(),resetViewport:function(){function G(V){B.resetViewport(V)}return G}(),activateTool:function(){function G(V){switch(V){case"select":B.setMouseTool(I.MOUSE_TOOL_SELECT);break;default:B.setMouseTool(I.MOUSE_TOOL_MOVE);break}}return G}(),exportAsPngBlobPromise:function(){function G(){return B.createPNGBlobPromise()}return G}(),exportAsSvg:function(){function G(){return B.createSVGString()}return G}(),exportAsViewConfString:function(){function G(){return B.getViewsAsString()}return G}(),getRangeSelection:function(){function G(){return B.rangeSelection}return G}(),getLocation:function(){function G(V){var z=V?B.xScales[V]&&B.yScales[V]&&V:(0,e.default)(B.tiledPlots)[0]&&(0,e.default)(B.tiledPlots)[0].props.uid;return z?{xDomain:B.xScales[z].domain(),yDomain:B.yScales[z].domain(),xRange:B.xScales[z].range(),yRange:B.yScales[z].range()}:"Please provide a valid view UUID sweetheart 😙"}return G}(),getTrackObject:function(){function G(V,z){var U=V,Z=z;return z||(U=(0,e.default)(B.state.views)[0].uid,Z=V),(0,R.getTrackObjectFromHGC)(B,U,Z)}return G}(),option:function(){function G(V,z){if(typeof z>"u")return B.props.options[V];switch(V){case"sizeMode":B.props.options[V]=z,H(B);break;default:console.warn('This option "'+String(V)+'" is either unknown or not settable.')}}return G}(),off:function(){function G(V,z,U){var Z=(typeof z>"u"?"undefined":(0,a.default)(z))==="object"?z.callback:z;switch(V){case"click":N.unsubscribe("click",Z);break;case"cursorLocation":N.unsubscribe("cursorLocation",Z);break;case"location":B.offLocationChange(U,z);break;case"mouseMoveZoom":N.unsubscribe("mouseMoveZoom",Z);break;case"wheel":N.unsubscribe("wheel",Z);break;case"rangeSelection":N.unsubscribe("rangeSelection",Z);break;case"viewConfig":B.offViewChange(z);break;case"createSVG":B.offPostCreateSVG();break;case"geneSearch":N.unsubscribe("geneSearch",Z);break}}return G}(),on:function(){function G(V,z,U,Z){switch(V){case"click":return N.subscribe("click",z);case"cursorLocation":return N.subscribe("cursorLocation",z);case"location":return B.onLocationChange(U,z,Z);case"mouseMoveZoom":return N.subscribe("mouseMoveZoom",z);case"wheel":return N.subscribe("wheel",z);case"rangeSelection":return N.subscribe("rangeSelection",z);case"viewConfig":return B.onViewChange(z);case"createSVG":return B.onPostCreateSVG(z);case"geneSearch":return N.subscribe("geneSearch",z);default:return}}return G}()},{version:{get:function(){function G(){return"1.11.11"}return G}(),configurable:!0,enumerable:!0}})}}return D}();r.default=L},function(f,r,t){f.exports={default:t(726),__esModule:!0}},function(f,r,t){t(727);var n=t(12).Object;f.exports=function(a,l){return n.defineProperties(a,l)}},function(f,r,t){var n=t(16);n(n.S+n.F*!t(36),"Object",{defineProperties:t(162)})},function(f,r,t){f.exports={higlass:"HiGlass-module_higlass-1NHR2","higlass-dark-theme":"HiGlass-module_higlass-dark-theme-2visd","higlass-container-overflow":"HiGlass-module_higlass-container-overflow-zNXnY","higlass-scroll-container-overflow":"HiGlass-module_higlass-scroll-container-overflow-2FS0w","higlass-scroll-container-scroll":"HiGlass-module_higlass-scroll-container-scroll-2lAU4","higlass-canvas":"HiGlass-module_higlass-canvas-_mP9r","higlass-drawing-surface":"HiGlass-module_higlass-drawing-surface-3aQQo","higlass-svg":"HiGlass-module_higlass-svg-JJZbf","tiled-area":"HiGlass-module_tiled-area-22H1L","track-mouseover-menu":"HiGlass-module_track-mouseover-menu-1AoaP"}},function(f,r,t){},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(5),a=A(n),l=t(3),e=A(l),o=t(4),s=A(o),u=t(6),c=A(u),m=t(7),p=A(m),h=t(2),v=A(h),x=t(9),y=t(1),k=A(y),T=t(13),E=A(T),_=t(820);function A(S){return S&&S.__esModule?S:{default:S}}var C=function(S){(0,p.default)(P,S);function P(O){(0,e.default)(this,P);var R=(0,c.default)(this,(P.__proto__||(0,a.default)(P)).call(this,O)),I=(0,x.rgb)(O.color);return R.state={displayColorPicker:!1,color:{r:I.r,g:I.g,b:I.b,a:I.opacity}},R}return(0,s.default)(P,[{key:"handleClick",value:function(){function O(){this.setState(function(R){return{displayColorPicker:!R.displayColorPicker}})}return O}()},{key:"handleClose",value:function(){function O(){this.setState({displayColorPicker:!1})}return O}()},{key:"handleChange",value:function(){function O(R){var I=R.rgb,M="rgba("+String(I.r)+","+String(I.g)+","+String(I.b)+","+String(I.a)+")";this.props.onChange(M),this.setState({color:R.rgb})}return O}()},{key:"render",value:function(){function O(){var R=(0,E.default)({default:{color:{width:"32px",height:"14px",borderRadius:"2px",background:"rgba("+String(this.state.color.r)+", "+String(this.state.color.g)+", "+String(this.state.color.b)+", "+String(this.state.color.a)+")"},swatch:{padding:"5px",background:"#fff",cursor:"pointer",borderRadius:"1px"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}});return k.default.createElement("div",null,k.default.createElement("div",{onClick:this.handleClick.bind(this),style:R.swatch},k.default.createElement("div",{style:R.color})),this.state.displayColorPicker?k.default.createElement("div",{style:R.popover},k.default.createElement("div",{onClick:this.handleClose.bind(this),style:R.cover}),k.default.createElement(_.SketchPicker,{color:this.state.color,onChange:this.handleChange.bind(this)})):null)}return O}()}]),P}(k.default.Component);C.propTypes={color:v.default.string,onChange:v.default.func},r.default=C},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.flattenNames=void 0;var n=t(732),a=m(n),l=t(272),e=m(l),o=t(412),s=m(o),u=t(70),c=m(u);function m(h){return h&&h.__esModule?h:{default:h}}var p=r.flattenNames=function h(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],x=[];return(0,c.default)(v,function(y){Array.isArray(y)?h(y).map(function(k){return x.push(k)}):(0,s.default)(y)?(0,e.default)(y,function(k,T){k===!0&&x.push(T),x.push(T+"-"+k)}):(0,a.default)(y)&&x.push(y)}),x};r.default=p},function(f,r,t){var n=t(97),a=t(31),l=t(56),e="[object String]";function o(s){return typeof s=="string"||!a(s)&&l(s)&&n(s)==e}f.exports=o},function(f,r,t){var n=t(118),a=Object.prototype,l=a.hasOwnProperty,e=a.toString,o=n?n.toStringTag:void 0;function s(u){var c=l.call(u,o),m=u[o];try{u[o]=void 0;var p=!0}catch{}var h=e.call(u);return p&&(c?u[o]=m:delete u[o]),h}f.exports=s},function(f,r){var t=Object.prototype,n=t.toString;function a(l){return n.call(l)}f.exports=a},function(f,r){function t(n){return function(a,l,e){for(var o=-1,s=Object(a),u=e(a),c=u.length;c--;){var m=u[n?c:++o];if(l(s[m],m,s)===!1)break}return a}}f.exports=t},function(f,r){function t(n,a){for(var l=-1,e=Array(n);++l<n;)e[l]=a(l);return e}f.exports=t},function(f,r,t){var n=t(97),a=t(56),l="[object Arguments]";function e(o){return a(o)&&n(o)==l}f.exports=e},function(f,r){function t(){return!1}f.exports=t},function(f,r,t){var n=t(97),a=t(274),l=t(56),e="[object Arguments]",o="[object Array]",s="[object Boolean]",u="[object Date]",c="[object Error]",m="[object Function]",p="[object Map]",h="[object Number]",v="[object Object]",x="[object RegExp]",y="[object Set]",k="[object String]",T="[object WeakMap]",E="[object ArrayBuffer]",_="[object DataView]",A="[object Float32Array]",C="[object Float64Array]",S="[object Int8Array]",P="[object Int16Array]",O="[object Int32Array]",R="[object Uint8Array]",I="[object Uint8ClampedArray]",M="[object Uint16Array]",H="[object Uint32Array]",L={};L[A]=L[C]=L[S]=L[P]=L[O]=L[R]=L[I]=L[M]=L[H]=!0,L[e]=L[o]=L[E]=L[s]=L[_]=L[u]=L[c]=L[m]=L[p]=L[h]=L[v]=L[x]=L[y]=L[k]=L[T]=!1;function D(j){return l(j)&&a(j.length)&&!!L[n(j)]}f.exports=D},function(f,r,t){var n=t(186),a=t(741),l=Object.prototype,e=l.hasOwnProperty;function o(s){if(!n(s))return a(s);var u=[];for(var c in Object(s))e.call(s,c)&&c!="constructor"&&u.push(c);return u}f.exports=o},function(f,r,t){var n=t(410),a=n(Object.keys,Object);f.exports=a},function(f,r,t){var n=t(743),a=t(782),l=t(424);function e(o){var s=a(o);return s.length==1&&s[0][2]?l(s[0][0],s[0][1]):function(u){return u===o||n(u,o,s)}}f.exports=e},function(f,r,t){var n=t(187),a=t(415),l=1,e=2;function o(s,u,c,m){var p=c.length,h=p,v=!m;if(s==null)return!h;for(s=Object(s);p--;){var x=c[p];if(v&&x[2]?x[1]!==s[x[0]]:!(x[0]in s))return!1}for(;++p<h;){x=c[p];var y=x[0],k=s[y],T=x[1];if(v&&x[2]){if(k===void 0&&!(y in s))return!1}else{var E=new n;if(m)var _=m(k,T,y,s,u,E);if(!(_===void 0?a(T,k,l|e,m,E):_))return!1}}return!0}f.exports=o},function(f,r){function t(){this.__data__=[],this.size=0}f.exports=t},function(f,r,t){var n=t(189),a=Array.prototype,l=a.splice;function e(o){var s=this.__data__,u=n(s,o);if(u<0)return!1;var c=s.length-1;return u==c?s.pop():l.call(s,u,1),--this.size,!0}f.exports=e},function(f,r,t){var n=t(189);function a(l){var e=this.__data__,o=n(e,l);return o<0?void 0:e[o][1]}f.exports=a},function(f,r,t){var n=t(189);function a(l){return n(this.__data__,l)>-1}f.exports=a},function(f,r,t){var n=t(189);function a(l,e){var o=this.__data__,s=n(o,l);return s<0?(++this.size,o.push([l,e])):o[s][1]=e,this}f.exports=a},function(f,r,t){var n=t(188);function a(){this.__data__=new n,this.size=0}f.exports=a},function(f,r){function t(n){var a=this.__data__,l=a.delete(n);return this.size=a.size,l}f.exports=t},function(f,r){function t(n){return this.__data__.get(n)}f.exports=t},function(f,r){function t(n){return this.__data__.has(n)}f.exports=t},function(f,r,t){var n=t(188),a=t(279),l=t(280),e=200;function o(s,u){var c=this.__data__;if(c instanceof n){var m=c.__data__;if(!a||m.length<e-1)return m.push([s,u]),this.size=++c.size,this;c=this.__data__=new l(m)}return c.set(s,u),this.size=c.size,this}f.exports=o},function(f,r,t){var n=t(277),a=t(755),l=t(45),e=t(414),o=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,m=u.toString,p=c.hasOwnProperty,h=RegExp("^"+m.call(p).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function v(x){if(!l(x)||a(x))return!1;var y=n(x)?h:s;return y.test(e(x))}f.exports=v},function(f,r,t){var n=t(756),a=function(){var e=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function l(e){return!!a&&a in e}f.exports=l},function(f,r,t){var n=t(41),a=n["__core-js_shared__"];f.exports=a},function(f,r){function t(n,a){return n==null?void 0:n[a]}f.exports=t},function(f,r,t){var n=t(759),a=t(188),l=t(279);function e(){this.size=0,this.__data__={hash:new n,map:new(l||a),string:new n}}f.exports=e},function(f,r,t){var n=t(760),a=t(761),l=t(762),e=t(763),o=t(764);function s(u){var c=-1,m=u==null?0:u.length;for(this.clear();++c<m;){var p=u[c];this.set(p[0],p[1])}}s.prototype.clear=n,s.prototype.delete=a,s.prototype.get=l,s.prototype.has=e,s.prototype.set=o,f.exports=s},function(f,r,t){var n=t(190);function a(){this.__data__=n?n(null):{},this.size=0}f.exports=a},function(f,r){function t(n){var a=this.has(n)&&delete this.__data__[n];return this.size-=a?1:0,a}f.exports=t},function(f,r,t){var n=t(190),a="__lodash_hash_undefined__",l=Object.prototype,e=l.hasOwnProperty;function o(s){var u=this.__data__;if(n){var c=u[s];return c===a?void 0:c}return e.call(u,s)?u[s]:void 0}f.exports=o},function(f,r,t){var n=t(190),a=Object.prototype,l=a.hasOwnProperty;function e(o){var s=this.__data__;return n?s[o]!==void 0:l.call(s,o)}f.exports=e},function(f,r,t){var n=t(190),a="__lodash_hash_undefined__";function l(e,o){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=n&&o===void 0?a:o,this}f.exports=l},function(f,r,t){var n=t(191);function a(l){var e=n(this,l).delete(l);return this.size-=e?1:0,e}f.exports=a},function(f,r){function t(n){var a=typeof n;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?n!=="__proto__":n===null}f.exports=t},function(f,r,t){var n=t(191);function a(l){return n(this,l).get(l)}f.exports=a},function(f,r,t){var n=t(191);function a(l){return n(this,l).has(l)}f.exports=a},function(f,r,t){var n=t(191);function a(l,e){var o=n(this,l),s=o.size;return o.set(l,e),this.size+=o.size==s?0:1,this}f.exports=a},function(f,r,t){var n=t(187),a=t(416),l=t(775),e=t(778),o=t(192),s=t(31),u=t(185),c=t(273),m=1,p="[object Arguments]",h="[object Array]",v="[object Object]",x=Object.prototype,y=x.hasOwnProperty;function k(T,E,_,A,C,S){var P=s(T),O=s(E),R=P?h:o(T),I=O?h:o(E);R=R==p?v:R,I=I==p?v:I;var M=R==v,H=I==v,L=R==I;if(L&&u(T)){if(!u(E))return!1;P=!0,M=!1}if(L&&!M)return S||(S=new n),P||c(T)?a(T,E,_,A,C,S):l(T,E,R,_,A,C,S);if(!(_&m)){var D=M&&y.call(T,"__wrapped__"),j=H&&y.call(E,"__wrapped__");if(D||j){var W=D?T.value():T,B=j?E.value():E;return S||(S=new n),C(W,B,_,A,S)}}return L?(S||(S=new n),e(T,E,_,A,C,S)):!1}f.exports=k},function(f,r,t){var n=t(280),a=t(772),l=t(773);function e(o){var s=-1,u=o==null?0:o.length;for(this.__data__=new n;++s<u;)this.add(o[s])}e.prototype.add=e.prototype.push=a,e.prototype.has=l,f.exports=e},function(f,r){var t="__lodash_hash_undefined__";function n(a){return this.__data__.set(a,t),this}f.exports=n},function(f,r){function t(n){return this.__data__.has(n)}f.exports=t},function(f,r){function t(n,a){return n.has(a)}f.exports=t},function(f,r,t){var n=t(118),a=t(418),l=t(120),e=t(416),o=t(776),s=t(777),u=1,c=2,m="[object Boolean]",p="[object Date]",h="[object Error]",v="[object Map]",x="[object Number]",y="[object RegExp]",k="[object Set]",T="[object String]",E="[object Symbol]",_="[object ArrayBuffer]",A="[object DataView]",C=n?n.prototype:void 0,S=C?C.valueOf:void 0;function P(O,R,I,M,H,L,D){switch(I){case A:if(O.byteLength!=R.byteLength||O.byteOffset!=R.byteOffset)return!1;O=O.buffer,R=R.buffer;case _:return!(O.byteLength!=R.byteLength||!L(new a(O),new a(R)));case m:case p:case x:return l(+O,+R);case h:return O.name==R.name&&O.message==R.message;case y:case T:return O==R+"";case v:var j=o;case k:var W=M&u;if(j||(j=s),O.size!=R.size&&!W)return!1;var B=D.get(O);if(B)return B==R;M|=c,D.set(O,R);var F=e(j(O),j(R),M,H,L,D);return D.delete(O),F;case E:if(S)return S.call(O)==S.call(R)}return!1}f.exports=P},function(f,r){function t(n){var a=-1,l=Array(n.size);return n.forEach(function(e,o){l[++a]=[o,e]}),l}f.exports=t},function(f,r){function t(n){var a=-1,l=Array(n.size);return n.forEach(function(e){l[++a]=e}),l}f.exports=t},function(f,r,t){var n=t(419),a=1,l=Object.prototype,e=l.hasOwnProperty;function o(s,u,c,m,p,h){var v=c&a,x=n(s),y=x.length,k=n(u),T=k.length;if(y!=T&&!v)return!1;for(var E=y;E--;){var _=x[E];if(!(v?_ in u:e.call(u,_)))return!1}var A=h.get(s);if(A&&h.get(u))return A==u;var C=!0;h.set(s,u),h.set(u,s);for(var S=v;++E<y;){_=x[E];var P=s[_],O=u[_];if(m)var R=v?m(O,P,_,u,s,h):m(P,O,_,s,u,h);if(!(R===void 0?P===O||p(P,O,c,m,h):R)){C=!1;break}S||(S=_=="constructor")}if(C&&!S){var I=s.constructor,M=u.constructor;I!=M&&"constructor"in s&&"constructor"in u&&!(typeof I=="function"&&I instanceof I&&typeof M=="function"&&M instanceof M)&&(C=!1)}return h.delete(s),h.delete(u),C}f.exports=o},function(f,r,t){var n=t(99),a=t(41),l=n(a,"DataView");f.exports=l},function(f,r,t){var n=t(99),a=t(41),l=n(a,"Promise");f.exports=l},function(f,r,t){var n=t(99),a=t(41),l=n(a,"Set");f.exports=l},function(f,r,t){var n=t(423),a=t(119);function l(e){for(var o=a(e),s=o.length;s--;){var u=o[s],c=e[u];o[s]=[u,c,n(c)]}return o}f.exports=l},function(f,r,t){var n=t(415),a=t(784),l=t(425),e=t(285),o=t(423),s=t(424),u=t(145),c=1,m=2;function p(h,v){return e(h)&&o(v)?s(u(h),v):function(x){var y=a(x,h);return y===void 0&&y===v?l(x,h):n(v,y,c|m)}}f.exports=p},function(f,r,t){var n=t(284);function a(l,e,o){var s=l==null?void 0:n(l,e);return s===void 0?o:s}f.exports=a},function(f,r,t){var n=t(786),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,l=/\\(\\)?/g,e=n(function(o){var s=[];return o.charCodeAt(0)===46&&s.push(""),o.replace(a,function(u,c,m,p){s.push(m?p.replace(l,"$1"):c||u)}),s});f.exports=e},function(f,r,t){var n=t(787),a=500;function l(e){var o=n(e,function(u){return s.size===a&&s.clear(),u}),s=o.cache;return o}f.exports=l},function(f,r,t){var n=t(280),a="Expected a function";function l(e,o){if(typeof e!="function"||o!=null&&typeof o!="function")throw new TypeError(a);var s=function(){var u=arguments,c=o?o.apply(this,u):u[0],m=s.cache;if(m.has(c))return m.get(c);var p=e.apply(this,u);return s.cache=m.set(c,p)||m,p};return s.cache=new(l.Cache||n),s}l.Cache=n,f.exports=l},function(f,r,t){var n=t(789);function a(l){return l==null?"":n(l)}f.exports=a},function(f,r,t){var n=t(118),a=t(413),l=t(31),e=t(194),o=1/0,s=n?n.prototype:void 0,u=s?s.toString:void 0;function c(m){if(typeof m=="string")return m;if(l(m))return a(m,c)+"";if(e(m))return u?u.call(m):"";var p=m+"";return p=="0"&&1/m==-o?"-0":p}f.exports=c},function(f,r){function t(n,a){return n!=null&&a in Object(n)}f.exports=t},function(f,r,t){var n=t(193),a=t(184),l=t(31),e=t(142),o=t(274),s=t(145);function u(c,m,p){m=n(m,c);for(var h=-1,v=m.length,x=!1;++h<v;){var y=s(m[h]);if(!(x=c!=null&&p(c,y)))break;c=c[y]}return x||++h!=v?x:(v=c==null?0:c.length,!!v&&o(v)&&e(y,v)&&(l(c)||a(c)))}f.exports=u},function(f,r,t){var n=t(793),a=t(794),l=t(285),e=t(145);function o(s){return l(s)?n(e(s)):a(s)}f.exports=o},function(f,r){function t(n){return function(a){return a==null?void 0:a[n]}}f.exports=t},function(f,r,t){var n=t(284);function a(l){return function(e){return n(e,l)}}f.exports=a},function(f,r,t){var n=t(146),a=t(98);function l(e,o){var s=-1,u=a(e)?Array(e.length):[];return n(e,function(c,m,p){u[++s]=o(c,m,p)}),u}f.exports=l},function(f,r,t){var n=t(98);function a(l,e){return function(o,s){if(o==null)return o;if(!n(o))return l(o,s);for(var u=o.length,c=e?u:-1,m=Object(o);(e?c--:++c<u)&&s(m[c],c,m)!==!1;);return o}}f.exports=a},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.mergeClasses=void 0;var n=t(272),a=s(n),l=t(798),e=s(l),o=Object.assign||function(c){for(var m=1;m<arguments.length;m++){var p=arguments[m];for(var h in p)Object.prototype.hasOwnProperty.call(p,h)&&(c[h]=p[h])}return c};function s(c){return c&&c.__esModule?c:{default:c}}var u=r.mergeClasses=function(c){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],p=c.default&&(0,e.default)(c.default)||{};return m.map(function(h){var v=c[h];return v&&(0,a.default)(v,function(x,y){p[y]||(p[y]={}),p[y]=o({},p[y],v[y])}),h}),p};r.default=u},function(f,r,t){var n=t(799),a=1,l=4;function e(o){return n(o,a|l)}f.exports=e},function(f,r,t){var n=t(187),a=t(286),l=t(195),e=t(800),o=t(801),s=t(427),u=t(196),c=t(804),m=t(805),p=t(419),h=t(806),v=t(192),x=t(807),y=t(808),k=t(430),T=t(31),E=t(185),_=t(812),A=t(45),C=t(814),S=t(119),P=1,O=2,R=4,I="[object Arguments]",M="[object Array]",H="[object Boolean]",L="[object Date]",D="[object Error]",j="[object Function]",W="[object GeneratorFunction]",B="[object Map]",F="[object Number]",N="[object Object]",X="[object RegExp]",G="[object Set]",V="[object String]",z="[object Symbol]",U="[object WeakMap]",Z="[object ArrayBuffer]",st="[object DataView]",Y="[object Float32Array]",rt="[object Float64Array]",ft="[object Int8Array]",tt="[object Int16Array]",K="[object Int32Array]",Q="[object Uint8Array]",ct="[object Uint8ClampedArray]",nt="[object Uint16Array]",ot="[object Uint32Array]",yt={};yt[I]=yt[M]=yt[Z]=yt[st]=yt[H]=yt[L]=yt[Y]=yt[rt]=yt[ft]=yt[tt]=yt[K]=yt[B]=yt[F]=yt[N]=yt[X]=yt[G]=yt[V]=yt[z]=yt[Q]=yt[ct]=yt[nt]=yt[ot]=!0,yt[D]=yt[j]=yt[U]=!1;function pt(dt,mt,q,$,J,lt){var ut,ht=mt&P,bt=mt&O,kt=mt&R;if(q&&(ut=J?q(dt,$,J,lt):q(dt)),ut!==void 0)return ut;if(!A(dt))return dt;var vt=T(dt);if(vt){if(ut=x(dt),!ht)return u(dt,ut)}else{var Et=v(dt),Rt=Et==j||Et==W;if(E(dt))return s(dt,ht);if(Et==N||Et==I||Rt&&!J){if(ut=bt||Rt?{}:k(dt),!ht)return bt?m(dt,o(ut,dt)):c(dt,e(ut,dt))}else{if(!yt[Et])return J?dt:{};ut=y(dt,Et,ht)}}lt||(lt=new n);var Vt=lt.get(dt);if(Vt)return Vt;lt.set(dt,ut),C(dt)?dt.forEach(function(_t){ut.add(pt(_t,mt,q,_t,dt,lt))}):_(dt)&&dt.forEach(function(_t,zt){ut.set(zt,pt(_t,mt,q,zt,dt,lt))});var ee=kt?bt?h:p:bt?keysIn:S,Tt=vt?void 0:ee(dt);return a(Tt||dt,function(_t,zt){Tt&&(zt=_t,_t=dt[zt]),l(ut,zt,pt(_t,mt,q,zt,dt,lt))}),ut}f.exports=pt},function(f,r,t){var n=t(100),a=t(119);function l(e,o){return e&&n(o,a(o),e)}f.exports=l},function(f,r,t){var n=t(100),a=t(121);function l(e,o){return e&&n(o,a(o),e)}f.exports=l},function(f,r,t){var n=t(45),a=t(186),l=t(803),e=Object.prototype,o=e.hasOwnProperty;function s(u){if(!n(u))return l(u);var c=a(u),m=[];for(var p in u)p=="constructor"&&(c||!o.call(u,p))||m.push(p);return m}f.exports=s},function(f,r){function t(n){var a=[];if(n!=null)for(var l in Object(n))a.push(l);return a}f.exports=t},function(f,r,t){var n=t(100),a=t(282);function l(e,o){return n(e,a(e),o)}f.exports=l},function(f,r,t){var n=t(100),a=t(428);function l(e,o){return n(e,a(e),o)}f.exports=l},function(f,r,t){var n=t(420),a=t(428),l=t(121);function e(o){return n(o,l,a)}f.exports=e},function(f,r){var t=Object.prototype,n=t.hasOwnProperty;function a(l){var e=l.length,o=new l.constructor(e);return e&&typeof l[0]=="string"&&n.call(l,"index")&&(o.index=l.index,o.input=l.input),o}f.exports=a},function(f,r,t){var n=t(288),a=t(809),l=t(810),e=t(811),o=t(429),s="[object Boolean]",u="[object Date]",c="[object Map]",m="[object Number]",p="[object RegExp]",h="[object Set]",v="[object String]",x="[object Symbol]",y="[object ArrayBuffer]",k="[object DataView]",T="[object Float32Array]",E="[object Float64Array]",_="[object Int8Array]",A="[object Int16Array]",C="[object Int32Array]",S="[object Uint8Array]",P="[object Uint8ClampedArray]",O="[object Uint16Array]",R="[object Uint32Array]";function I(M,H,L){var D=M.constructor;switch(H){case y:return n(M);case s:case u:return new D(+M);case k:return a(M,L);case T:case E:case _:case A:case C:case S:case P:case O:case R:return o(M,L);case c:return new D;case m:case v:return new D(M);case p:return l(M);case h:return new D;case x:return e(M)}}f.exports=I},function(f,r,t){var n=t(288);function a(l,e){var o=e?n(l.buffer):l.buffer;return new l.constructor(o,l.byteOffset,l.byteLength)}f.exports=a},function(f,r){var t=/\w*$/;function n(a){var l=new a.constructor(a.source,t.exec(a));return l.lastIndex=a.lastIndex,l}f.exports=n},function(f,r,t){var n=t(118),a=n?n.prototype:void 0,l=a?a.valueOf:void 0;function e(o){return l?Object(l.call(o)):{}}f.exports=e},function(f,r,t){var n=t(813),a=t(275),l=t(276),e=l&&l.isMap,o=e?a(e):n;f.exports=o},function(f,r,t){var n=t(192),a=t(56),l="[object Map]";function e(o){return a(o)&&n(o)==l}f.exports=e},function(f,r,t){var n=t(815),a=t(275),l=t(276),e=l&&l.isSet,o=e?a(e):n;f.exports=o},function(f,r,t){var n=t(192),a=t(56),l="[object Set]";function e(o){return a(o)&&n(o)==l}f.exports=e},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.autoprefix=void 0;var n=t(272),a=e(n),l=Object.assign||function(u){for(var c=1;c<arguments.length;c++){var m=arguments[c];for(var p in m)Object.prototype.hasOwnProperty.call(m,p)&&(u[p]=m[p])}return u};function e(u){return u&&u.__esModule?u:{default:u}}var o={borderRadius:function(u){return{msBorderRadius:u,MozBorderRadius:u,OBorderRadius:u,WebkitBorderRadius:u,borderRadius:u}},boxShadow:function(u){return{msBoxShadow:u,MozBoxShadow:u,OBoxShadow:u,WebkitBoxShadow:u,boxShadow:u}},userSelect:function(u){return{WebkitTouchCallout:u,KhtmlUserSelect:u,MozUserSelect:u,msUserSelect:u,WebkitUserSelect:u,userSelect:u}},flex:function(u){return{WebkitBoxFlex:u,MozBoxFlex:u,WebkitFlex:u,msFlex:u,flex:u}},flexBasis:function(u){return{WebkitFlexBasis:u,flexBasis:u}},justifyContent:function(u){return{WebkitJustifyContent:u,justifyContent:u}},transition:function(u){return{msTransition:u,MozTransition:u,OTransition:u,WebkitTransition:u,transition:u}},transform:function(u){return{msTransform:u,MozTransform:u,OTransform:u,WebkitTransform:u,transform:u}},absolute:function(u){var c=u&&u.split(" ");return{position:"absolute",top:c&&c[0],right:c&&c[1],bottom:c&&c[2],left:c&&c[3]}},extend:function(u,c){var m=c[u];return m||{extend:u}}},s=r.autoprefix=function(u){var c={};return(0,a.default)(u,function(m,p){var h={};(0,a.default)(m,function(v,x){var y=o[x];y?h=l({},h,y(v)):h[x]=v}),c[p]=h}),c};r.default=s},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.hover=void 0;var n=Object.assign||function(m){for(var p=1;p<arguments.length;p++){var h=arguments[p];for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&(m[v]=h[v])}return m},a=t(1),l=e(a);function e(m){return m&&m.__esModule?m:{default:m}}function o(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function s(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function u(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var c=r.hover=function(m){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(h){u(v,h);function v(){var x,y,k,T;o(this,v);for(var E=arguments.length,_=Array(E),A=0;A<E;A++)_[A]=arguments[A];return T=(y=(k=s(this,(x=v.__proto__||Object.getPrototypeOf(v)).call.apply(x,[this].concat(_))),k),k.state={hover:!1},k.handleMouseOver=function(){return k.setState({hover:!0})},k.handleMouseOut=function(){return k.setState({hover:!1})},k.render=function(){return l.default.createElement(p,{onMouseOver:k.handleMouseOver,onMouseOut:k.handleMouseOut},l.default.createElement(m,n({},k.props,k.state)))},y),s(k,T)}return v}(l.default.Component)};r.default=c},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.active=void 0;var n=Object.assign||function(m){for(var p=1;p<arguments.length;p++){var h=arguments[p];for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&(m[v]=h[v])}return m},a=t(1),l=e(a);function e(m){return m&&m.__esModule?m:{default:m}}function o(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function s(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function u(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var c=r.active=function(m){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(h){u(v,h);function v(){var x,y,k,T;o(this,v);for(var E=arguments.length,_=Array(E),A=0;A<E;A++)_[A]=arguments[A];return T=(y=(k=s(this,(x=v.__proto__||Object.getPrototypeOf(v)).call.apply(x,[this].concat(_))),k),k.state={active:!1},k.handleMouseDown=function(){return k.setState({active:!0})},k.handleMouseUp=function(){return k.setState({active:!1})},k.render=function(){return l.default.createElement(p,{onMouseDown:k.handleMouseDown,onMouseUp:k.handleMouseUp},l.default.createElement(m,n({},k.props,k.state)))},y),s(k,T)}return v}(l.default.Component)};r.default=c},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function(a,l){var e={},o=function(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;e[s]=u};return a===0&&o("first-child"),a===l-1&&o("last-child"),(a===0||a%2===0)&&o("even"),Math.abs(a%2)===1&&o("odd"),o("nth-child",a),e};r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.CustomPicker=r.TwitterPicker=r.SwatchesPicker=r.SliderPicker=r.SketchPicker=r.PhotoshopPicker=r.MaterialPicker=r.HuePicker=r.GithubPicker=r.CompactPicker=r.ChromePicker=r.default=r.CirclePicker=r.BlockPicker=r.AlphaPicker=void 0;var n=t(821);Object.defineProperty(r,"AlphaPicker",{enumerable:!0,get:function(){return T(n).default}});var a=t(844);Object.defineProperty(r,"BlockPicker",{enumerable:!0,get:function(){return T(a).default}});var l=t(846);Object.defineProperty(r,"CirclePicker",{enumerable:!0,get:function(){return T(l).default}});var e=t(848);Object.defineProperty(r,"ChromePicker",{enumerable:!0,get:function(){return T(e).default}});var o=t(853);Object.defineProperty(r,"CompactPicker",{enumerable:!0,get:function(){return T(o).default}});var s=t(856);Object.defineProperty(r,"GithubPicker",{enumerable:!0,get:function(){return T(s).default}});var u=t(858);Object.defineProperty(r,"HuePicker",{enumerable:!0,get:function(){return T(u).default}});var c=t(860);Object.defineProperty(r,"MaterialPicker",{enumerable:!0,get:function(){return T(c).default}});var m=t(861);Object.defineProperty(r,"PhotoshopPicker",{enumerable:!0,get:function(){return T(m).default}});var p=t(867);Object.defineProperty(r,"SketchPicker",{enumerable:!0,get:function(){return T(p).default}});var h=t(870);Object.defineProperty(r,"SliderPicker",{enumerable:!0,get:function(){return T(h).default}});var v=t(874);Object.defineProperty(r,"SwatchesPicker",{enumerable:!0,get:function(){return T(v).default}});var x=t(878);Object.defineProperty(r,"TwitterPicker",{enumerable:!0,get:function(){return T(x).default}});var y=t(437);Object.defineProperty(r,"CustomPicker",{enumerable:!0,get:function(){return T(y).default}});var k=T(e);function T(E){return E&&E.__esModule?E:{default:E}}r.default=k.default},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.AlphaPicker=void 0;var n=Object.assign||function(h){for(var v=1;v<arguments.length;v++){var x=arguments[v];for(var y in x)Object.prototype.hasOwnProperty.call(x,y)&&(h[y]=x[y])}return h},a=t(1),l=m(a),e=t(13),o=m(e),s=t(22),u=t(843),c=m(u);function m(h){return h&&h.__esModule?h:{default:h}}var p=r.AlphaPicker=function(h){var v=h.rgb,x=h.hsl,y=h.width,k=h.height,T=h.onChange,E=h.direction,_=h.style,A=h.renderers,C=h.pointer,S=h.className,P=S===void 0?"":S,O=(0,o.default)({default:{picker:{position:"relative",width:y,height:k},alpha:{radius:"2px",style:_}}});return l.default.createElement("div",{style:O.picker,className:"alpha-picker "+P},l.default.createElement(s.Alpha,n({},O.alpha,{rgb:v,hsl:x,pointer:C,renderers:A,onChange:T,direction:E})))};p.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:c.default},r.default=(0,s.ColorWrap)(p)},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.Alpha=void 0;var n=Object.assign||function(E){for(var _=1;_<arguments.length;_++){var A=arguments[_];for(var C in A)Object.prototype.hasOwnProperty.call(A,C)&&(E[C]=A[C])}return E},a=function(){function E(_,A){for(var C=0;C<A.length;C++){var S=A[C];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(_,S.key,S)}}return function(_,A,C){return A&&E(_.prototype,A),C&&E(_,C),_}}(),l=t(1),e=v(l),o=t(13),s=v(o),u=t(823),c=h(u),m=t(289),p=v(m);function h(E){if(E&&E.__esModule)return E;var _={};if(E!=null)for(var A in E)Object.prototype.hasOwnProperty.call(E,A)&&(_[A]=E[A]);return _.default=E,_}function v(E){return E&&E.__esModule?E:{default:E}}function x(E,_){if(!(E instanceof _))throw new TypeError("Cannot call a class as a function")}function y(E,_){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:E}function k(E,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);E.prototype=Object.create(_&&_.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(E,_):E.__proto__=_)}var T=r.Alpha=function(E){k(_,E);function _(){var A,C,S,P;x(this,_);for(var O=arguments.length,R=Array(O),I=0;I<O;I++)R[I]=arguments[I];return P=(C=(S=y(this,(A=_.__proto__||Object.getPrototypeOf(_)).call.apply(A,[this].concat(R))),S),S.handleChange=function(M,H){var L=c.calculateChange(M,H,S.props,S.container);L&&S.props.onChange&&S.props.onChange(L,M)},S.handleMouseDown=function(M){S.handleChange(M,!0),window.addEventListener("mousemove",S.handleChange),window.addEventListener("mouseup",S.handleMouseUp)},S.handleMouseUp=function(){S.unbindEventListeners()},S.unbindEventListeners=function(){window.removeEventListener("mousemove",S.handleChange),window.removeEventListener("mouseup",S.handleMouseUp)},C),y(S,P)}return a(_,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var A=this,C=this.props.rgb,S=(0,s.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+C.r+","+C.g+","+C.b+`, 0) 0%,
           rgba(`+C.r+","+C.g+","+C.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:C.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+C.r+","+C.g+","+C.b+`, 0) 0%,
           rgba(`+C.r+","+C.g+","+C.b+", 1) 100%)"},pointer:{left:0,top:C.a*100+"%"}},overwrite:n({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return e.default.createElement("div",{style:S.alpha},e.default.createElement("div",{style:S.checkboard},e.default.createElement(p.default,{renderers:this.props.renderers})),e.default.createElement("div",{style:S.gradient}),e.default.createElement("div",{style:S.container,ref:function(P){return A.container=P},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},e.default.createElement("div",{style:S.pointer},this.props.pointer?e.default.createElement(this.props.pointer,this.props):e.default.createElement("div",{style:S.slider}))))}}]),_}(l.PureComponent||l.Component);r.default=T},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.calculateChange=function(n,a,l,e){n.preventDefault();var o=e.clientWidth,s=e.clientHeight,u=typeof n.pageX=="number"?n.pageX:n.touches[0].pageX,c=typeof n.pageY=="number"?n.pageY:n.touches[0].pageY,m=u-(e.getBoundingClientRect().left+window.pageXOffset),p=c-(e.getBoundingClientRect().top+window.pageYOffset);if(l.direction==="vertical"){var h=void 0;if(p<0?h=0:p>s?h=1:h=Math.round(p*100/s)/100,l.hsl.a!==h)return{h:l.hsl.h,s:l.hsl.s,l:l.hsl.l,a:h,source:"rgb"}}else{var v=void 0;if(m<0?v=0:m>o?v=1:v=Math.round(m*100/o)/100,l.a!==v)return{h:l.hsl.h,s:l.hsl.s,l:l.hsl.l,a:v,source:"rgb"}}return null}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n={},a=r.render=function(l,e,o,s){if(typeof document>"u"&&!s)return null;var u=s?new s:document.createElement("canvas");u.width=o*2,u.height=o*2;var c=u.getContext("2d");return c?(c.fillStyle=l,c.fillRect(0,0,u.width,u.height),c.fillStyle=e,c.fillRect(0,0,o,o),c.translate(o,o),c.fillRect(0,0,o,o),u.toDataURL()):null};r.get=function(l,e,o,s){var u=l+"-"+e+"-"+o+(s?"-server":""),c=a(l,e,o,s);return n[u]?n[u]:(n[u]=c,c)}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.EditableInput=void 0;var n=function(){function v(x,y){for(var k=0;k<y.length;k++){var T=y[k];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(x,T.key,T)}}return function(x,y,k){return y&&v(x.prototype,y),k&&v(x,k),x}}(),a=t(1),l=s(a),e=t(13),o=s(e);function s(v){return v&&v.__esModule?v:{default:v}}function u(v,x,y){return x in v?Object.defineProperty(v,x,{value:y,enumerable:!0,configurable:!0,writable:!0}):v[x]=y,v}function c(v,x){if(!(v instanceof x))throw new TypeError("Cannot call a class as a function")}function m(v,x){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:v}function p(v,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);v.prototype=Object.create(x&&x.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(v,x):v.__proto__=x)}var h=r.EditableInput=function(v){p(x,v);function x(y){c(this,x);var k=m(this,(x.__proto__||Object.getPrototypeOf(x)).call(this));return k.handleBlur=function(){k.state.blurValue&&k.setState({value:k.state.blurValue,blurValue:null})},k.handleChange=function(T){k.props.label?k.props.onChange&&k.props.onChange(u({},k.props.label,T.target.value),T):k.props.onChange&&k.props.onChange(T.target.value,T),k.setState({value:T.target.value})},k.handleKeyDown=function(T){var E=String(T.target.value),_=E.indexOf("%")>-1,A=Number(E.replace(/%/g,""));if(!isNaN(A)){var C=k.props.arrowOffset||1;T.keyCode===38&&(k.props.label!==null?k.props.onChange&&k.props.onChange(u({},k.props.label,A+C),T):k.props.onChange&&k.props.onChange(A+C,T),_?k.setState({value:A+C+"%"}):k.setState({value:A+C})),T.keyCode===40&&(k.props.label!==null?k.props.onChange&&k.props.onChange(u({},k.props.label,A-C),T):k.props.onChange&&k.props.onChange(A-C,T),_?k.setState({value:A-C+"%"}):k.setState({value:A-C}))}},k.handleDrag=function(T){if(k.props.dragLabel){var E=Math.round(k.props.value+T.movementX);E>=0&&E<=k.props.dragMax&&k.props.onChange&&k.props.onChange(u({},k.props.label,E),T)}},k.handleMouseDown=function(T){k.props.dragLabel&&(T.preventDefault(),k.handleDrag(T),window.addEventListener("mousemove",k.handleDrag),window.addEventListener("mouseup",k.handleMouseUp))},k.handleMouseUp=function(){k.unbindEventListeners()},k.unbindEventListeners=function(){window.removeEventListener("mousemove",k.handleDrag),window.removeEventListener("mouseup",k.handleMouseUp)},k.state={value:String(y.value).toUpperCase(),blurValue:String(y.value).toUpperCase()},k}return n(x,[{key:"componentWillReceiveProps",value:function(y){var k=this.input;y.value!==this.state.value&&(k===document.activeElement?this.setState({blurValue:String(y.value).toUpperCase()}):this.setState({value:String(y.value).toUpperCase(),blurValue:!this.state.blurValue&&String(y.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var y=this,k=(0,o.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return l.default.createElement("div",{style:k.wrap},l.default.createElement("input",{style:k.input,ref:function(T){return y.input=T},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?l.default.createElement("span",{style:k.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),x}(a.PureComponent||a.Component);r.default=h},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.Hue=void 0;var n=function(){function y(k,T){for(var E=0;E<T.length;E++){var _=T[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(k,_.key,_)}}return function(k,T,E){return T&&y(k.prototype,T),E&&y(k,E),k}}(),a=t(1),l=m(a),e=t(13),o=m(e),s=t(827),u=c(s);function c(y){if(y&&y.__esModule)return y;var k={};if(y!=null)for(var T in y)Object.prototype.hasOwnProperty.call(y,T)&&(k[T]=y[T]);return k.default=y,k}function m(y){return y&&y.__esModule?y:{default:y}}function p(y,k){if(!(y instanceof k))throw new TypeError("Cannot call a class as a function")}function h(y,k){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:y}function v(y,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);y.prototype=Object.create(k&&k.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(y,k):y.__proto__=k)}var x=r.Hue=function(y){v(k,y);function k(){var T,E,_,A;p(this,k);for(var C=arguments.length,S=Array(C),P=0;P<C;P++)S[P]=arguments[P];return A=(E=(_=h(this,(T=k.__proto__||Object.getPrototypeOf(k)).call.apply(T,[this].concat(S))),_),_.handleChange=function(O,R){var I=u.calculateChange(O,R,_.props,_.container);I&&_.props.onChange&&_.props.onChange(I,O)},_.handleMouseDown=function(O){_.handleChange(O,!0),window.addEventListener("mousemove",_.handleChange),window.addEventListener("mouseup",_.handleMouseUp)},_.handleMouseUp=function(){_.unbindEventListeners()},E),h(_,A)}return n(k,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var T=this,E=this.props.direction,_=E===void 0?"horizontal":E,A=(0,o.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:_==="vertical"});return l.default.createElement("div",{style:A.hue},l.default.createElement("div",{className:"hue-"+_,style:A.container,ref:function(C){return T.container=C},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},l.default.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),l.default.createElement("div",{style:A.pointer},this.props.pointer?l.default.createElement(this.props.pointer,this.props):l.default.createElement("div",{style:A.slider}))))}}]),k}(a.PureComponent||a.Component);r.default=x},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.calculateChange=function(n,a,l,e){n.preventDefault();var o=e.clientWidth,s=e.clientHeight,u=typeof n.pageX=="number"?n.pageX:n.touches[0].pageX,c=typeof n.pageY=="number"?n.pageY:n.touches[0].pageY,m=u-(e.getBoundingClientRect().left+window.pageXOffset),p=c-(e.getBoundingClientRect().top+window.pageYOffset);if(l.direction==="vertical"){var h=void 0;if(p<0)h=359;else if(p>s)h=0;else{var v=-(p*100/s)+100;h=360*v/100}if(l.hsl.h!==h)return{h,s:l.hsl.s,l:l.hsl.l,a:l.hsl.a,source:"rgb"}}else{var x=void 0;if(m<0)x=0;else if(m>o)x=359;else{var y=m*100/o;x=360*y/100}if(l.hsl.h!==x)return{h:x,s:l.hsl.s,l:l.hsl.l,a:l.hsl.a,source:"rgb"}}return null}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.Raised=void 0;var n=t(1),a=m(n),l=t(2),e=m(l),o=t(13),s=m(o),u=t(46),c=m(u);function m(h){return h&&h.__esModule?h:{default:h}}var p=r.Raised=function(h){var v=h.zDepth,x=h.radius,y=h.background,k=h.children,T=h.styles,E=T===void 0?{}:T,_=(0,s.default)((0,c.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+v+"px "+v*4+"px rgba(0,0,0,.24)",borderRadius:x,background:y}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},E),{"zDepth-1":v===1});return a.default.createElement("div",{style:_.wrap},a.default.createElement("div",{style:_.bg}),a.default.createElement("div",{style:_.content},k))};p.propTypes={background:e.default.string,zDepth:e.default.oneOf([0,1,2,3,4,5]),radius:e.default.number,styles:e.default.object},p.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}},r.default=p},function(f,r,t){var n=t(187),a=t(431),l=t(408),e=t(830),o=t(45),s=t(121),u=t(432);function c(m,p,h,v,x){m!==p&&l(p,function(y,k){if(x||(x=new n),o(y))e(m,p,k,h,c,v,x);else{var T=v?v(u(m,k),y,k+"",m,p,x):void 0;T===void 0&&(T=y),a(m,k,T)}},s)}f.exports=c},function(f,r,t){var n=t(431),a=t(427),l=t(429),e=t(196),o=t(430),s=t(184),u=t(31),c=t(831),m=t(185),p=t(277),h=t(45),v=t(412),x=t(273),y=t(432),k=t(832);function T(E,_,A,C,S,P,O){var R=y(E,A),I=y(_,A),M=O.get(I);if(M){n(E,A,M);return}var H=P?P(R,I,A+"",E,_,O):void 0,L=H===void 0;if(L){var D=u(I),j=!D&&m(I),W=!D&&!j&&x(I);H=I,D||j||W?u(R)?H=R:c(R)?H=e(R):j?(L=!1,H=a(I,!0)):W?(L=!1,H=l(I,!0)):H=[]:v(I)||s(I)?(H=R,s(R)?H=k(R):(!h(R)||p(R))&&(H=o(I))):L=!1}L&&(O.set(I,H),S(H,I,C,P,O),O.delete(I)),n(E,A,H)}f.exports=T},function(f,r,t){var n=t(98),a=t(56);function l(e){return a(e)&&n(e)}f.exports=l},function(f,r,t){var n=t(100),a=t(121);function l(e){return n(e,a(e))}f.exports=l},function(f,r,t){var n=t(834),a=t(426),l=t(143),e=a?function(o,s){return a(o,"toString",{configurable:!0,enumerable:!1,value:n(s),writable:!0})}:l;f.exports=e},function(f,r){function t(n){return function(){return n}}f.exports=t},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.Saturation=void 0;var n=function(){function T(E,_){for(var A=0;A<_.length;A++){var C=_[A];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(E,C.key,C)}}return function(E,_,A){return _&&T(E.prototype,_),A&&T(E,A),E}}(),a=t(1),l=h(a),e=t(13),o=h(e),s=t(836),u=h(s),c=t(838),m=p(c);function p(T){if(T&&T.__esModule)return T;var E={};if(T!=null)for(var _ in T)Object.prototype.hasOwnProperty.call(T,_)&&(E[_]=T[_]);return E.default=T,E}function h(T){return T&&T.__esModule?T:{default:T}}function v(T,E){if(!(T instanceof E))throw new TypeError("Cannot call a class as a function")}function x(T,E){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:T}function y(T,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(T,E):T.__proto__=E)}var k=r.Saturation=function(T){y(E,T);function E(_){v(this,E);var A=x(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,_));return A.handleChange=function(C,S){A.props.onChange&&A.throttle(A.props.onChange,m.calculateChange(C,S,A.props,A.container),C)},A.handleMouseDown=function(C){A.handleChange(C,!0),window.addEventListener("mousemove",A.handleChange),window.addEventListener("mouseup",A.handleMouseUp)},A.handleMouseUp=function(){A.unbindEventListeners()},A.throttle=(0,u.default)(function(C,S,P){C(S,P)},50),A}return n(E,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var _=this,A=this.props.style||{},C=A.color,S=A.white,P=A.black,O=A.pointer,R=A.circle,I=(0,o.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:C,white:S,black:P,pointer:O,circle:R}},{custom:!!this.props.style});return l.default.createElement("div",{style:I.color,ref:function(M){return _.container=M},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},l.default.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),l.default.createElement("div",{style:I.white,className:"saturation-white"},l.default.createElement("div",{style:I.black,className:"saturation-black"}),l.default.createElement("div",{style:I.pointer},this.props.pointer?l.default.createElement(this.props.pointer,this.props):l.default.createElement("div",{style:I.circle}))))}}]),E}(a.PureComponent||a.Component);r.default=k},function(f,r,t){var n=t(435),a=t(45),l="Expected a function";function e(o,s,u){var c=!0,m=!0;if(typeof o!="function")throw new TypeError(l);return a(u)&&(c="leading"in u?!!u.leading:c,m="trailing"in u?!!u.trailing:m),n(o,s,{leading:c,maxWait:s,trailing:m})}f.exports=e},function(f,r,t){var n=t(41),a=function(){return n.Date.now()};f.exports=a},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.calculateChange=function(n,a,l,e){n.preventDefault();var o=e.getBoundingClientRect(),s=o.width,u=o.height,c=typeof n.pageX=="number"?n.pageX:n.touches[0].pageX,m=typeof n.pageY=="number"?n.pageY:n.touches[0].pageY,p=c-(e.getBoundingClientRect().left+window.pageXOffset),h=m-(e.getBoundingClientRect().top+window.pageYOffset);p<0?p=0:p>s?p=s:h<0?h=0:h>u&&(h=u);var v=p*100/s,x=-(h*100/u)+100;return{h:l.hsl.h,s:v,v:x,a:l.hsl.a,source:"rgb"}}},function(f,r,t){f.exports=t(147)},function(f,r,t){var n;(function(a){var l=/^\s+/,e=/\s+$/,o=0,s=a.round,u=a.min,c=a.max,m=a.random;function p(ot,yt){if(ot=ot||"",yt=yt||{},ot instanceof p)return ot;if(!(this instanceof p))return new p(ot,yt);var pt=h(ot);this._originalInput=ot,this._r=pt.r,this._g=pt.g,this._b=pt.b,this._a=pt.a,this._roundA=s(100*this._a)/100,this._format=yt.format||pt.format,this._gradientType=yt.gradientType,this._r<1&&(this._r=s(this._r)),this._g<1&&(this._g=s(this._g)),this._b<1&&(this._b=s(this._b)),this._ok=pt.ok,this._tc_id=o++}p.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var ot=this.toRgb();return(ot.r*299+ot.g*587+ot.b*114)/1e3},getLuminance:function(){var ot=this.toRgb(),yt,pt,dt,mt,q,$;return yt=ot.r/255,pt=ot.g/255,dt=ot.b/255,yt<=.03928?mt=yt/12.92:mt=a.pow((yt+.055)/1.055,2.4),pt<=.03928?q=pt/12.92:q=a.pow((pt+.055)/1.055,2.4),dt<=.03928?$=dt/12.92:$=a.pow((dt+.055)/1.055,2.4),.2126*mt+.7152*q+.0722*$},setAlpha:function(ot){return this._a=G(ot),this._roundA=s(100*this._a)/100,this},toHsv:function(){var ot=k(this._r,this._g,this._b);return{h:ot.h*360,s:ot.s,v:ot.v,a:this._a}},toHsvString:function(){var ot=k(this._r,this._g,this._b),yt=s(ot.h*360),pt=s(ot.s*100),dt=s(ot.v*100);return this._a==1?"hsv("+yt+", "+pt+"%, "+dt+"%)":"hsva("+yt+", "+pt+"%, "+dt+"%, "+this._roundA+")"},toHsl:function(){var ot=x(this._r,this._g,this._b);return{h:ot.h*360,s:ot.s,l:ot.l,a:this._a}},toHslString:function(){var ot=x(this._r,this._g,this._b),yt=s(ot.h*360),pt=s(ot.s*100),dt=s(ot.l*100);return this._a==1?"hsl("+yt+", "+pt+"%, "+dt+"%)":"hsla("+yt+", "+pt+"%, "+dt+"%, "+this._roundA+")"},toHex:function(ot){return E(this._r,this._g,this._b,ot)},toHexString:function(ot){return"#"+this.toHex(ot)},toHex8:function(ot){return _(this._r,this._g,this._b,this._a,ot)},toHex8String:function(ot){return"#"+this.toHex8(ot)},toRgb:function(){return{r:s(this._r),g:s(this._g),b:s(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+s(this._r)+", "+s(this._g)+", "+s(this._b)+")":"rgba("+s(this._r)+", "+s(this._g)+", "+s(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:s(V(this._r,255)*100)+"%",g:s(V(this._g,255)*100)+"%",b:s(V(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+s(V(this._r,255)*100)+"%, "+s(V(this._g,255)*100)+"%, "+s(V(this._b,255)*100)+"%)":"rgba("+s(V(this._r,255)*100)+"%, "+s(V(this._g,255)*100)+"%, "+s(V(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:N[E(this._r,this._g,this._b,!0)]||!1},toFilter:function(ot){var yt="#"+A(this._r,this._g,this._b,this._a),pt=yt,dt=this._gradientType?"GradientType = 1, ":"";if(ot){var mt=p(ot);pt="#"+A(mt._r,mt._g,mt._b,mt._a)}return"progid:DXImageTransform.Microsoft.gradient("+dt+"startColorstr="+yt+",endColorstr="+pt+")"},toString:function(ot){var yt=!!ot;ot=ot||this._format;var pt=!1,dt=this._a<1&&this._a>=0,mt=!yt&&dt&&(ot==="hex"||ot==="hex6"||ot==="hex3"||ot==="hex4"||ot==="hex8"||ot==="name");return mt?ot==="name"&&this._a===0?this.toName():this.toRgbString():(ot==="rgb"&&(pt=this.toRgbString()),ot==="prgb"&&(pt=this.toPercentageRgbString()),(ot==="hex"||ot==="hex6")&&(pt=this.toHexString()),ot==="hex3"&&(pt=this.toHexString(!0)),ot==="hex4"&&(pt=this.toHex8String(!0)),ot==="hex8"&&(pt=this.toHex8String()),ot==="name"&&(pt=this.toName()),ot==="hsl"&&(pt=this.toHslString()),ot==="hsv"&&(pt=this.toHsvString()),pt||this.toHexString())},clone:function(){return p(this.toString())},_applyModification:function(ot,yt){var pt=ot.apply(null,[this].concat([].slice.call(yt)));return this._r=pt._r,this._g=pt._g,this._b=pt._b,this.setAlpha(pt._a),this},lighten:function(){return this._applyModification(O,arguments)},brighten:function(){return this._applyModification(R,arguments)},darken:function(){return this._applyModification(I,arguments)},desaturate:function(){return this._applyModification(C,arguments)},saturate:function(){return this._applyModification(S,arguments)},greyscale:function(){return this._applyModification(P,arguments)},spin:function(){return this._applyModification(M,arguments)},_applyCombination:function(ot,yt){return ot.apply(null,[this].concat([].slice.call(yt)))},analogous:function(){return this._applyCombination(W,arguments)},complement:function(){return this._applyCombination(H,arguments)},monochromatic:function(){return this._applyCombination(B,arguments)},splitcomplement:function(){return this._applyCombination(j,arguments)},triad:function(){return this._applyCombination(L,arguments)},tetrad:function(){return this._applyCombination(D,arguments)}},p.fromRatio=function(ot,yt){if(typeof ot=="object"){var pt={};for(var dt in ot)ot.hasOwnProperty(dt)&&(dt==="a"?pt[dt]=ot[dt]:pt[dt]=rt(ot[dt]));ot=pt}return p(ot,yt)};function h(ot){var yt={r:0,g:0,b:0},pt=1,dt=null,mt=null,q=null,$=!1,J=!1;return typeof ot=="string"&&(ot=ct(ot)),typeof ot=="object"&&(Q(ot.r)&&Q(ot.g)&&Q(ot.b)?(yt=v(ot.r,ot.g,ot.b),$=!0,J=String(ot.r).substr(-1)==="%"?"prgb":"rgb"):Q(ot.h)&&Q(ot.s)&&Q(ot.v)?(dt=rt(ot.s),mt=rt(ot.v),yt=T(ot.h,dt,mt),$=!0,J="hsv"):Q(ot.h)&&Q(ot.s)&&Q(ot.l)&&(dt=rt(ot.s),q=rt(ot.l),yt=y(ot.h,dt,q),$=!0,J="hsl"),ot.hasOwnProperty("a")&&(pt=ot.a)),pt=G(pt),{ok:$,format:ot.format||J,r:u(255,c(yt.r,0)),g:u(255,c(yt.g,0)),b:u(255,c(yt.b,0)),a:pt}}function v(ot,yt,pt){return{r:V(ot,255)*255,g:V(yt,255)*255,b:V(pt,255)*255}}function x(ot,yt,pt){ot=V(ot,255),yt=V(yt,255),pt=V(pt,255);var dt=c(ot,yt,pt),mt=u(ot,yt,pt),q,$,J=(dt+mt)/2;if(dt==mt)q=$=0;else{var lt=dt-mt;switch($=J>.5?lt/(2-dt-mt):lt/(dt+mt),dt){case ot:q=(yt-pt)/lt+(yt<pt?6:0);break;case yt:q=(pt-ot)/lt+2;break;case pt:q=(ot-yt)/lt+4;break}q/=6}return{h:q,s:$,l:J}}function y(ot,yt,pt){var dt,mt,q;ot=V(ot,360),yt=V(yt,100),pt=V(pt,100);function $(ut,ht,bt){return bt<0&&(bt+=1),bt>1&&(bt-=1),bt<1/6?ut+(ht-ut)*6*bt:bt<1/2?ht:bt<2/3?ut+(ht-ut)*(2/3-bt)*6:ut}if(yt===0)dt=mt=q=pt;else{var J=pt<.5?pt*(1+yt):pt+yt-pt*yt,lt=2*pt-J;dt=$(lt,J,ot+1/3),mt=$(lt,J,ot),q=$(lt,J,ot-1/3)}return{r:dt*255,g:mt*255,b:q*255}}function k(ot,yt,pt){ot=V(ot,255),yt=V(yt,255),pt=V(pt,255);var dt=c(ot,yt,pt),mt=u(ot,yt,pt),q,$,J=dt,lt=dt-mt;if($=dt===0?0:lt/dt,dt==mt)q=0;else{switch(dt){case ot:q=(yt-pt)/lt+(yt<pt?6:0);break;case yt:q=(pt-ot)/lt+2;break;case pt:q=(ot-yt)/lt+4;break}q/=6}return{h:q,s:$,v:J}}function T(ot,yt,pt){ot=V(ot,360)*6,yt=V(yt,100),pt=V(pt,100);var dt=a.floor(ot),mt=ot-dt,q=pt*(1-yt),$=pt*(1-mt*yt),J=pt*(1-(1-mt)*yt),lt=dt%6,ut=[pt,$,q,q,J,pt][lt],ht=[J,pt,pt,$,q,q][lt],bt=[q,q,J,pt,pt,$][lt];return{r:ut*255,g:ht*255,b:bt*255}}function E(ot,yt,pt,dt){var mt=[Y(s(ot).toString(16)),Y(s(yt).toString(16)),Y(s(pt).toString(16))];return dt&&mt[0].charAt(0)==mt[0].charAt(1)&&mt[1].charAt(0)==mt[1].charAt(1)&&mt[2].charAt(0)==mt[2].charAt(1)?mt[0].charAt(0)+mt[1].charAt(0)+mt[2].charAt(0):mt.join("")}function _(ot,yt,pt,dt,mt){var q=[Y(s(ot).toString(16)),Y(s(yt).toString(16)),Y(s(pt).toString(16)),Y(ft(dt))];return mt&&q[0].charAt(0)==q[0].charAt(1)&&q[1].charAt(0)==q[1].charAt(1)&&q[2].charAt(0)==q[2].charAt(1)&&q[3].charAt(0)==q[3].charAt(1)?q[0].charAt(0)+q[1].charAt(0)+q[2].charAt(0)+q[3].charAt(0):q.join("")}function A(ot,yt,pt,dt){var mt=[Y(ft(dt)),Y(s(ot).toString(16)),Y(s(yt).toString(16)),Y(s(pt).toString(16))];return mt.join("")}p.equals=function(ot,yt){return!ot||!yt?!1:p(ot).toRgbString()==p(yt).toRgbString()},p.random=function(){return p.fromRatio({r:m(),g:m(),b:m()})};function C(ot,yt){yt=yt===0?0:yt||10;var pt=p(ot).toHsl();return pt.s-=yt/100,pt.s=z(pt.s),p(pt)}function S(ot,yt){yt=yt===0?0:yt||10;var pt=p(ot).toHsl();return pt.s+=yt/100,pt.s=z(pt.s),p(pt)}function P(ot){return p(ot).desaturate(100)}function O(ot,yt){yt=yt===0?0:yt||10;var pt=p(ot).toHsl();return pt.l+=yt/100,pt.l=z(pt.l),p(pt)}function R(ot,yt){yt=yt===0?0:yt||10;var pt=p(ot).toRgb();return pt.r=c(0,u(255,pt.r-s(255*-(yt/100)))),pt.g=c(0,u(255,pt.g-s(255*-(yt/100)))),pt.b=c(0,u(255,pt.b-s(255*-(yt/100)))),p(pt)}function I(ot,yt){yt=yt===0?0:yt||10;var pt=p(ot).toHsl();return pt.l-=yt/100,pt.l=z(pt.l),p(pt)}function M(ot,yt){var pt=p(ot).toHsl(),dt=(pt.h+yt)%360;return pt.h=dt<0?360+dt:dt,p(pt)}function H(ot){var yt=p(ot).toHsl();return yt.h=(yt.h+180)%360,p(yt)}function L(ot){var yt=p(ot).toHsl(),pt=yt.h;return[p(ot),p({h:(pt+120)%360,s:yt.s,l:yt.l}),p({h:(pt+240)%360,s:yt.s,l:yt.l})]}function D(ot){var yt=p(ot).toHsl(),pt=yt.h;return[p(ot),p({h:(pt+90)%360,s:yt.s,l:yt.l}),p({h:(pt+180)%360,s:yt.s,l:yt.l}),p({h:(pt+270)%360,s:yt.s,l:yt.l})]}function j(ot){var yt=p(ot).toHsl(),pt=yt.h;return[p(ot),p({h:(pt+72)%360,s:yt.s,l:yt.l}),p({h:(pt+216)%360,s:yt.s,l:yt.l})]}function W(ot,yt,pt){yt=yt||6,pt=pt||30;var dt=p(ot).toHsl(),mt=360/pt,q=[p(ot)];for(dt.h=(dt.h-(mt*yt>>1)+720)%360;--yt;)dt.h=(dt.h+mt)%360,q.push(p(dt));return q}function B(ot,yt){yt=yt||6;for(var pt=p(ot).toHsv(),dt=pt.h,mt=pt.s,q=pt.v,$=[],J=1/yt;yt--;)$.push(p({h:dt,s:mt,v:q})),q=(q+J)%1;return $}p.mix=function(ot,yt,pt){pt=pt===0?0:pt||50;var dt=p(ot).toRgb(),mt=p(yt).toRgb(),q=pt/100,$={r:(mt.r-dt.r)*q+dt.r,g:(mt.g-dt.g)*q+dt.g,b:(mt.b-dt.b)*q+dt.b,a:(mt.a-dt.a)*q+dt.a};return p($)},p.readability=function(ot,yt){var pt=p(ot),dt=p(yt);return(a.max(pt.getLuminance(),dt.getLuminance())+.05)/(a.min(pt.getLuminance(),dt.getLuminance())+.05)},p.isReadable=function(ot,yt,pt){var dt=p.readability(ot,yt),mt,q;switch(q=!1,mt=nt(pt),mt.level+mt.size){case"AAsmall":case"AAAlarge":q=dt>=4.5;break;case"AAlarge":q=dt>=3;break;case"AAAsmall":q=dt>=7;break}return q},p.mostReadable=function(ot,yt,pt){var dt=null,mt=0,q,$,J,lt;pt=pt||{},$=pt.includeFallbackColors,J=pt.level,lt=pt.size;for(var ut=0;ut<yt.length;ut++)q=p.readability(ot,yt[ut]),q>mt&&(mt=q,dt=p(yt[ut]));return p.isReadable(ot,dt,{level:J,size:lt})||!$?dt:(pt.includeFallbackColors=!1,p.mostReadable(ot,["#fff","#000"],pt))};var F=p.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},N=p.hexNames=X(F);function X(ot){var yt={};for(var pt in ot)ot.hasOwnProperty(pt)&&(yt[ot[pt]]=pt);return yt}function G(ot){return ot=parseFloat(ot),(isNaN(ot)||ot<0||ot>1)&&(ot=1),ot}function V(ot,yt){Z(ot)&&(ot="100%");var pt=st(ot);return ot=u(yt,c(0,parseFloat(ot))),pt&&(ot=parseInt(ot*yt,10)/100),a.abs(ot-yt)<1e-6?1:ot%yt/parseFloat(yt)}function z(ot){return u(1,c(0,ot))}function U(ot){return parseInt(ot,16)}function Z(ot){return typeof ot=="string"&&ot.indexOf(".")!=-1&&parseFloat(ot)===1}function st(ot){return typeof ot=="string"&&ot.indexOf("%")!=-1}function Y(ot){return ot.length==1?"0"+ot:""+ot}function rt(ot){return ot<=1&&(ot=ot*100+"%"),ot}function ft(ot){return a.round(parseFloat(ot)*255).toString(16)}function tt(ot){return U(ot)/255}var K=function(){var ot="[-\\+]?\\d+%?",yt="[-\\+]?\\d*\\.\\d+%?",pt="(?:"+yt+")|(?:"+ot+")",dt="[\\s|\\(]+("+pt+")[,|\\s]+("+pt+")[,|\\s]+("+pt+")\\s*\\)?",mt="[\\s|\\(]+("+pt+")[,|\\s]+("+pt+")[,|\\s]+("+pt+")[,|\\s]+("+pt+")\\s*\\)?";return{CSS_UNIT:new RegExp(pt),rgb:new RegExp("rgb"+dt),rgba:new RegExp("rgba"+mt),hsl:new RegExp("hsl"+dt),hsla:new RegExp("hsla"+mt),hsv:new RegExp("hsv"+dt),hsva:new RegExp("hsva"+mt),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Q(ot){return!!K.CSS_UNIT.exec(ot)}function ct(ot){ot=ot.replace(l,"").replace(e,"").toLowerCase();var yt=!1;if(F[ot])ot=F[ot],yt=!0;else if(ot=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var pt;return(pt=K.rgb.exec(ot))?{r:pt[1],g:pt[2],b:pt[3]}:(pt=K.rgba.exec(ot))?{r:pt[1],g:pt[2],b:pt[3],a:pt[4]}:(pt=K.hsl.exec(ot))?{h:pt[1],s:pt[2],l:pt[3]}:(pt=K.hsla.exec(ot))?{h:pt[1],s:pt[2],l:pt[3],a:pt[4]}:(pt=K.hsv.exec(ot))?{h:pt[1],s:pt[2],v:pt[3]}:(pt=K.hsva.exec(ot))?{h:pt[1],s:pt[2],v:pt[3],a:pt[4]}:(pt=K.hex8.exec(ot))?{r:U(pt[1]),g:U(pt[2]),b:U(pt[3]),a:tt(pt[4]),format:yt?"name":"hex8"}:(pt=K.hex6.exec(ot))?{r:U(pt[1]),g:U(pt[2]),b:U(pt[3]),format:yt?"name":"hex"}:(pt=K.hex4.exec(ot))?{r:U(pt[1]+""+pt[1]),g:U(pt[2]+""+pt[2]),b:U(pt[3]+""+pt[3]),a:tt(pt[4]+""+pt[4]),format:yt?"name":"hex8"}:(pt=K.hex3.exec(ot))?{r:U(pt[1]+""+pt[1]),g:U(pt[2]+""+pt[2]),b:U(pt[3]+""+pt[3]),format:yt?"name":"hex"}:!1}function nt(ot){var yt,pt;return ot=ot||{level:"AA",size:"small"},yt=(ot.level||"AA").toUpperCase(),pt=(ot.size||"small").toLowerCase(),yt!=="AA"&&yt!=="AAA"&&(yt="AA"),pt!=="small"&&pt!=="large"&&(pt="small"),{level:yt,size:pt}}f.exports?f.exports=p:(n=(function(){return p}).call(r,t,r,f),n!==void 0&&(f.exports=n))})(Math)},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.Swatch=void 0;var n=Object.assign||function(v){for(var x=1;x<arguments.length;x++){var y=arguments[x];for(var k in y)Object.prototype.hasOwnProperty.call(y,k)&&(v[k]=y[k])}return v},a=t(1),l=m(a),e=t(13),o=m(e),s=t(842),u=t(289),c=m(u);function m(v){return v&&v.__esModule?v:{default:v}}var p=13,h=r.Swatch=function(v){var x=v.color,y=v.style,k=v.onClick,T=k===void 0?function(){}:k,E=v.onHover,_=v.title,A=_===void 0?x:_,C=v.children,S=v.focus,P=v.focusStyle,O=P===void 0?{}:P,R=x==="transparent",I=(0,o.default)({default:{swatch:n({background:x,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},y,S?O:{})}}),M=function(j){return T(x,j)},H=function(j){return j.keyCode===p&&T(x,j)},L=function(j){return E(x,j)},D={};return E&&(D.onMouseOver=L),l.default.createElement("div",n({style:I.swatch,onClick:M,title:A,tabIndex:0,onKeyDown:H},D),C,R&&l.default.createElement(c.default,{borderRadius:I.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};r.default=(0,s.handleFocus)(h)},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.handleFocus=void 0;var n=Object.assign||function(m){for(var p=1;p<arguments.length;p++){var h=arguments[p];for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&(m[v]=h[v])}return m},a=function(){function m(p,h){for(var v=0;v<h.length;v++){var x=h[v];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(p,x.key,x)}}return function(p,h,v){return h&&m(p.prototype,h),v&&m(p,v),p}}(),l=t(1),e=o(l);function o(m){return m&&m.__esModule?m:{default:m}}function s(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function u(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function c(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}r.handleFocus=function(m){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(h){c(v,h);function v(){var x,y,k,T;s(this,v);for(var E=arguments.length,_=Array(E),A=0;A<E;A++)_[A]=arguments[A];return T=(y=(k=u(this,(x=v.__proto__||Object.getPrototypeOf(v)).call.apply(x,[this].concat(_))),k),k.state={focus:!1},k.handleFocus=function(){return k.setState({focus:!0})},k.handleBlur=function(){return k.setState({focus:!1})},y),u(k,T)}return a(v,[{key:"render",value:function(){return e.default.createElement(p,{onFocus:this.handleFocus,onBlur:this.handleBlur},e.default.createElement(m,n({},this.props,this.state)))}}]),v}(e.default.Component)}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.AlphaPointer=void 0;var n=t(1),a=o(n),l=t(13),e=o(l);function o(u){return u&&u.__esModule?u:{default:u}}var s=r.AlphaPointer=function(u){var c=u.direction,m=(0,e.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:c==="vertical"});return a.default.createElement("div",{style:m.picker})};r.default=s},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.Block=void 0;var n=t(1),a=y(n),l=t(2),e=y(l),o=t(13),s=y(o),u=t(46),c=y(u),m=t(57),p=y(m),h=t(22),v=t(845),x=y(v);function y(T){return T&&T.__esModule?T:{default:T}}var k=r.Block=function(T){var E=T.onChange,_=T.onSwatchHover,A=T.hex,C=T.colors,S=T.width,P=T.triangle,O=T.styles,R=O===void 0?{}:O,I=T.className,M=I===void 0?"":I,H=A==="transparent",L=function(j,W){p.default.isValidHex(j)&&E({hex:j,source:"hex"},W)},D=(0,s.default)((0,c.default)({default:{card:{width:S,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:A,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:p.default.getContrastingColor(A),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+A+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},R),{"hide-triangle":P==="hide"});return a.default.createElement("div",{style:D.card,className:"block-picker "+M},a.default.createElement("div",{style:D.triangle}),a.default.createElement("div",{style:D.head},H&&a.default.createElement(h.Checkboard,{borderRadius:"6px 6px 0 0"}),a.default.createElement("div",{style:D.label},A)),a.default.createElement("div",{style:D.body},a.default.createElement(x.default,{colors:C,onClick:L,onSwatchHover:_}),a.default.createElement(h.EditableInput,{style:{input:D.input},value:A,onChange:L})))};k.propTypes={width:e.default.oneOfType([e.default.string,e.default.number]),colors:e.default.arrayOf(e.default.string),triangle:e.default.oneOf(["top","hide"]),styles:e.default.object},k.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}},r.default=(0,h.ColorWrap)(k)},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.BlockSwatches=void 0;var n=t(1),a=c(n),l=t(13),e=c(l),o=t(70),s=c(o),u=t(22);function c(p){return p&&p.__esModule?p:{default:p}}var m=r.BlockSwatches=function(p){var h=p.colors,v=p.onClick,x=p.onSwatchHover,y=(0,e.default)({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return a.default.createElement("div",{style:y.swatches},(0,s.default)(h,function(k){return a.default.createElement(u.Swatch,{key:k,color:k,style:y.swatch,onClick:v,onHover:x,focusStyle:{boxShadow:"0 0 4px "+k}})}),a.default.createElement("div",{style:y.clear}))};r.default=m},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.Circle=void 0;var n=t(1),a=E(n),l=t(2),e=E(l),o=t(13),s=E(o),u=t(70),c=E(u),m=t(46),p=E(m),h=t(438),v=T(h),x=t(22),y=t(847),k=E(y);function T(A){if(A&&A.__esModule)return A;var C={};if(A!=null)for(var S in A)Object.prototype.hasOwnProperty.call(A,S)&&(C[S]=A[S]);return C.default=A,C}function E(A){return A&&A.__esModule?A:{default:A}}var _=r.Circle=function(A){var C=A.width,S=A.onChange,P=A.onSwatchHover,O=A.colors,R=A.hex,I=A.circleSize,M=A.styles,H=M===void 0?{}:M,L=A.circleSpacing,D=A.className,j=D===void 0?"":D,W=(0,s.default)((0,p.default)({default:{card:{width:C,display:"flex",flexWrap:"wrap",marginRight:-L,marginBottom:-L}}},H)),B=function(F,N){return S({hex:F,source:"hex"},N)};return a.default.createElement("div",{style:W.card,className:"circle-picker "+j},(0,c.default)(O,function(F){return a.default.createElement(k.default,{key:F,color:F,onClick:B,onSwatchHover:P,active:R===F.toLowerCase(),circleSize:I,circleSpacing:L})}))};_.propTypes={width:e.default.oneOfType([e.default.string,e.default.number]),circleSize:e.default.number,circleSpacing:e.default.number,styles:e.default.object},_.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[v.red[500],v.pink[500],v.purple[500],v.deepPurple[500],v.indigo[500],v.blue[500],v.lightBlue[500],v.cyan[500],v.teal[500],v.green[500],v.lightGreen[500],v.lime[500],v.yellow[500],v.amber[500],v.orange[500],v.deepOrange[500],v.brown[500],v.blueGrey[500]],styles:{}},r.default=(0,x.ColorWrap)(_)},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.CircleSwatch=void 0;var n=t(1),a=s(n),l=t(13),e=s(l),o=t(22);function s(c){return c&&c.__esModule?c:{default:c}}var u=r.CircleSwatch=function(c){var m=c.color,p=c.onClick,h=c.onSwatchHover,v=c.hover,x=c.active,y=c.circleSize,k=c.circleSpacing,T=(0,e.default)({default:{swatch:{width:y,height:y,marginRight:k,marginBottom:k,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+y/2+"px "+m,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+m}}},{hover:v,active:x});return a.default.createElement("div",{style:T.swatch},a.default.createElement(o.Swatch,{style:T.Swatch,color:m,onClick:p,onHover:h,focusStyle:{boxShadow:T.Swatch.boxShadow+", 0 0 5px "+m}}))};u.defaultProps={circleSize:28,circleSpacing:14},r.default=(0,l.handleHover)(u)},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.Chrome=void 0;var n=t(1),a=T(n),l=t(2),e=T(l),o=t(13),s=T(o),u=t(46),c=T(u),m=t(22),p=t(849),h=T(p),v=t(851),x=T(v),y=t(852),k=T(y);function T(_){return _&&_.__esModule?_:{default:_}}var E=r.Chrome=function(_){var A=_.onChange,C=_.disableAlpha,S=_.rgb,P=_.hsl,O=_.hsv,R=_.hex,I=_.renderers,M=_.styles,H=M===void 0?{}:M,L=_.className,D=L===void 0?"":L,j=(0,s.default)((0,c.default)({default:{picker:{background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",width:"225px",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+S.r+", "+S.g+", "+S.b+", "+S.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},H),{disableAlpha:C});return a.default.createElement("div",{style:j.picker,className:"chrome-picker "+D},a.default.createElement("div",{style:j.saturation},a.default.createElement(m.Saturation,{style:j.Saturation,hsl:P,hsv:O,pointer:k.default,onChange:A})),a.default.createElement("div",{style:j.body},a.default.createElement("div",{style:j.controls,className:"flexbox-fix"},a.default.createElement("div",{style:j.color},a.default.createElement("div",{style:j.swatch},a.default.createElement("div",{style:j.active}),a.default.createElement(m.Checkboard,{renderers:I}))),a.default.createElement("div",{style:j.toggles},a.default.createElement("div",{style:j.hue},a.default.createElement(m.Hue,{style:j.Hue,hsl:P,pointer:x.default,onChange:A})),a.default.createElement("div",{style:j.alpha},a.default.createElement(m.Alpha,{style:j.Alpha,rgb:S,hsl:P,pointer:x.default,renderers:I,onChange:A})))),a.default.createElement(h.default,{rgb:S,hsl:P,hex:R,onChange:A,disableAlpha:C})))};E.propTypes={disableAlpha:e.default.bool,styles:e.default.object},E.defaultProps={disableAlpha:!1,styles:{}},r.default=(0,m.ColorWrap)(E)},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.ChromeFields=void 0;var n=function(){function T(E,_){for(var A=0;A<_.length;A++){var C=_[A];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(E,C.key,C)}}return function(E,_,A){return _&&T(E.prototype,_),A&&T(E,A),E}}(),a=t(1),l=h(a),e=t(13),o=h(e),s=t(57),u=h(s),c=t(22),m=t(850),p=h(m);function h(T){return T&&T.__esModule?T:{default:T}}function v(T,E){if(!(T instanceof E))throw new TypeError("Cannot call a class as a function")}function x(T,E){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:T}function y(T,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(T,E):T.__proto__=E)}var k=r.ChromeFields=function(T){y(E,T);function E(){var _,A,C,S;v(this,E);for(var P=arguments.length,O=Array(P),R=0;R<P;R++)O[R]=arguments[R];return S=(A=(C=x(this,(_=E.__proto__||Object.getPrototypeOf(E)).call.apply(_,[this].concat(O))),C),C.state={view:""},C.toggleViews=function(){C.state.view==="hex"?C.setState({view:"rgb"}):C.state.view==="rgb"?C.setState({view:"hsl"}):C.state.view==="hsl"&&(C.props.hsl.a===1?C.setState({view:"hex"}):C.setState({view:"rgb"}))},C.handleChange=function(I,M){I.hex?u.default.isValidHex(I.hex)&&C.props.onChange({hex:I.hex,source:"hex"},M):I.r||I.g||I.b?C.props.onChange({r:I.r||C.props.rgb.r,g:I.g||C.props.rgb.g,b:I.b||C.props.rgb.b,source:"rgb"},M):I.a?(I.a<0?I.a=0:I.a>1&&(I.a=1),C.props.onChange({h:C.props.hsl.h,s:C.props.hsl.s,l:C.props.hsl.l,a:Math.round(I.a*100)/100,source:"rgb"},M)):(I.h||I.s||I.l)&&(typeof I.s=="string"&&I.s.includes("%")&&(I.s=I.s.replace("%","")),typeof I.l=="string"&&I.l.includes("%")&&(I.l=I.l.replace("%","")),C.props.onChange({h:I.h||C.props.hsl.h,s:Number(I.s&&I.s||C.props.hsl.s),l:Number(I.l&&I.l||C.props.hsl.l),source:"hsl"},M))},C.showHighlight=function(I){I.currentTarget.style.background="#eee"},C.hideHighlight=function(I){I.currentTarget.style.background="transparent"},A),x(C,S)}return n(E,[{key:"componentDidMount",value:function(){this.props.hsl.a===1&&this.state.view!=="hex"?this.setState({view:"hex"}):this.state.view!=="rgb"&&this.state.view!=="hsl"&&this.setState({view:"rgb"})}},{key:"componentWillReceiveProps",value:function(_){_.hsl.a!==1&&this.state.view==="hex"&&this.setState({view:"rgb"})}},{key:"render",value:function(){var _=this,A=(0,o.default)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),C=void 0;return this.state.view==="hex"?C=l.default.createElement("div",{style:A.fields,className:"flexbox-fix"},l.default.createElement("div",{style:A.field},l.default.createElement(c.EditableInput,{style:{input:A.input,label:A.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?C=l.default.createElement("div",{style:A.fields,className:"flexbox-fix"},l.default.createElement("div",{style:A.field},l.default.createElement(c.EditableInput,{style:{input:A.input,label:A.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),l.default.createElement("div",{style:A.field},l.default.createElement(c.EditableInput,{style:{input:A.input,label:A.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),l.default.createElement("div",{style:A.field},l.default.createElement(c.EditableInput,{style:{input:A.input,label:A.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),l.default.createElement("div",{style:A.alpha},l.default.createElement(c.EditableInput,{style:{input:A.input,label:A.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(C=l.default.createElement("div",{style:A.fields,className:"flexbox-fix"},l.default.createElement("div",{style:A.field},l.default.createElement(c.EditableInput,{style:{input:A.input,label:A.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),l.default.createElement("div",{style:A.field},l.default.createElement(c.EditableInput,{style:{input:A.input,label:A.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),l.default.createElement("div",{style:A.field},l.default.createElement(c.EditableInput,{style:{input:A.input,label:A.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),l.default.createElement("div",{style:A.alpha},l.default.createElement(c.EditableInput,{style:{input:A.input,label:A.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),l.default.createElement("div",{style:A.wrap,className:"flexbox-fix"},C,l.default.createElement("div",{style:A.toggle},l.default.createElement("div",{style:A.icon,onClick:this.toggleViews,ref:function(S){return _.icon=S}},l.default.createElement(p.default,{style:A.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}]),E}(l.default.Component);r.default=k},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=Object.assign||function(u){for(var c=1;c<arguments.length;c++){var m=arguments[c];for(var p in m)Object.prototype.hasOwnProperty.call(m,p)&&(u[p]=m[p])}return u},a=t(1),l=e(a);function e(u){return u&&u.__esModule?u:{default:u}}function o(u,c){var m={};for(var p in u)c.indexOf(p)>=0||Object.prototype.hasOwnProperty.call(u,p)&&(m[p]=u[p]);return m}var s=24;r.default=function(u){var c=u.fill,m=c===void 0?"currentColor":c,p=u.width,h=p===void 0?s:p,v=u.height,x=v===void 0?s:v,y=u.style,k=y===void 0?{}:y,T=o(u,["fill","width","height","style"]);return l.default.createElement("svg",n({viewBox:"0 0 "+s+" "+s,style:n({fill:m,width:h,height:x},k)},T),l.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.ChromePointer=void 0;var n=t(1),a=o(n),l=t(13),e=o(l);function o(u){return u&&u.__esModule?u:{default:u}}var s=r.ChromePointer=function(){var u=(0,e.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return a.default.createElement("div",{style:u.picker})};r.default=s},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.ChromePointerCircle=void 0;var n=t(1),a=o(n),l=t(13),e=o(l);function o(u){return u&&u.__esModule?u:{default:u}}var s=r.ChromePointerCircle=function(){var u=(0,e.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return a.default.createElement("div",{style:u.picker})};r.default=s},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.Compact=void 0;var n=t(1),a=_(n),l=t(2),e=_(l),o=t(13),s=_(o),u=t(70),c=_(u),m=t(46),p=_(m),h=t(57),v=_(h),x=t(22),y=t(854),k=_(y),T=t(855),E=_(T);function _(C){return C&&C.__esModule?C:{default:C}}var A=r.Compact=function(C){var S=C.onChange,P=C.onSwatchHover,O=C.colors,R=C.hex,I=C.rgb,M=C.styles,H=M===void 0?{}:M,L=C.className,D=L===void 0?"":L,j=(0,s.default)((0,p.default)({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},H)),W=function(B,F){B.hex?v.default.isValidHex(B.hex)&&S({hex:B.hex,source:"hex"},F):S(B,F)};return a.default.createElement(x.Raised,{style:j.Compact,styles:H},a.default.createElement("div",{style:j.compact,className:"compact-picker "+D},a.default.createElement("div",null,(0,c.default)(O,function(B){return a.default.createElement(k.default,{key:B,color:B,active:B.toLowerCase()===R,onClick:W,onSwatchHover:P})}),a.default.createElement("div",{style:j.clear})),a.default.createElement(E.default,{hex:R,rgb:I,onChange:W})))};A.propTypes={colors:e.default.arrayOf(e.default.string),styles:e.default.object},A.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}},r.default=(0,x.ColorWrap)(A)},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.CompactColor=void 0;var n=t(1),a=c(n),l=t(13),e=c(l),o=t(57),s=c(o),u=t(22);function c(p){return p&&p.__esModule?p:{default:p}}var m=r.CompactColor=function(p){var h=p.color,v=p.onClick,x=v===void 0?function(){}:v,y=p.onSwatchHover,k=p.active,T=(0,e.default)({default:{color:{background:h,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:s.default.getContrastingColor(h),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:k,"color-#FFFFFF":h==="#FFFFFF",transparent:h==="transparent"});return a.default.createElement(u.Swatch,{style:T.color,color:h,onClick:x,onHover:y,focusStyle:{boxShadow:"0 0 4px "+h}},a.default.createElement("div",{style:T.dot}))};r.default=m},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.CompactFields=void 0;var n=t(1),a=s(n),l=t(13),e=s(l),o=t(22);function s(c){return c&&c.__esModule?c:{default:c}}var u=r.CompactFields=function(c){var m=c.hex,p=c.rgb,h=c.onChange,v=(0,e.default)({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:m},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),x=function(y,k){y.r||y.g||y.b?h({r:y.r||p.r,g:y.g||p.g,b:y.b||p.b,source:"rgb"},k):h({hex:y.hex,source:"hex"},k)};return a.default.createElement("div",{style:v.fields,className:"flexbox-fix"},a.default.createElement("div",{style:v.active}),a.default.createElement(o.EditableInput,{style:{wrap:v.HEXwrap,input:v.HEXinput,label:v.HEXlabel},label:"hex",value:m,onChange:x}),a.default.createElement(o.EditableInput,{style:{wrap:v.RGBwrap,input:v.RGBinput,label:v.RGBlabel},label:"r",value:p.r,onChange:x}),a.default.createElement(o.EditableInput,{style:{wrap:v.RGBwrap,input:v.RGBinput,label:v.RGBlabel},label:"g",value:p.g,onChange:x}),a.default.createElement(o.EditableInput,{style:{wrap:v.RGBwrap,input:v.RGBinput,label:v.RGBlabel},label:"b",value:p.b,onChange:x}))};r.default=u},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.Github=void 0;var n=t(1),a=y(n),l=t(2),e=y(l),o=t(13),s=y(o),u=t(70),c=y(u),m=t(46),p=y(m),h=t(22),v=t(857),x=y(v);function y(T){return T&&T.__esModule?T:{default:T}}var k=r.Github=function(T){var E=T.width,_=T.colors,A=T.onChange,C=T.onSwatchHover,S=T.triangle,P=T.styles,O=P===void 0?{}:P,R=T.className,I=R===void 0?"":R,M=(0,s.default)((0,p.default)({default:{card:{width:E,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},O),{"hide-triangle":S==="hide","top-left-triangle":S==="top-left","top-right-triangle":S==="top-right","bottom-left-triangle":S=="bottom-left","bottom-right-triangle":S==="bottom-right"}),H=function(L,D){return A({hex:L,source:"hex"},D)};return a.default.createElement("div",{style:M.card,className:"github-picker "+I},a.default.createElement("div",{style:M.triangleShadow}),a.default.createElement("div",{style:M.triangle}),(0,c.default)(_,function(L){return a.default.createElement(x.default,{color:L,key:L,onClick:H,onSwatchHover:C})}))};k.propTypes={width:e.default.oneOfType([e.default.string,e.default.number]),colors:e.default.arrayOf(e.default.string),triangle:e.default.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:e.default.object},k.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}},r.default=(0,h.ColorWrap)(k)},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.GithubSwatch=void 0;var n=t(1),a=s(n),l=t(13),e=s(l),o=t(22);function s(c){return c&&c.__esModule?c:{default:c}}var u=r.GithubSwatch=function(c){var m=c.hover,p=c.color,h=c.onClick,v=c.onSwatchHover,x={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},y=(0,e.default)({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:x}},{hover:m});return a.default.createElement("div",{style:y.swatch},a.default.createElement(o.Swatch,{color:p,onClick:h,onHover:v,focusStyle:x}))};r.default=(0,l.handleHover)(u)},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.HuePicker=void 0;var n=Object.assign||function(k){for(var T=1;T<arguments.length;T++){var E=arguments[T];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(k[_]=E[_])}return k},a=t(1),l=x(a),e=t(2),o=x(e),s=t(13),u=x(s),c=t(46),m=x(c),p=t(22),h=t(859),v=x(h);function x(k){return k&&k.__esModule?k:{default:k}}var y=r.HuePicker=function(k){var T=k.width,E=k.height,_=k.onChange,A=k.hsl,C=k.direction,S=k.pointer,P=k.styles,O=P===void 0?{}:P,R=k.className,I=R===void 0?"":R,M=(0,u.default)((0,m.default)({default:{picker:{position:"relative",width:T,height:E},hue:{radius:"2px"}}},O)),H=function(L){return _({a:1,h:L.h,l:.5,s:1})};return l.default.createElement("div",{style:M.picker,className:"hue-picker "+I},l.default.createElement(p.Hue,n({},M.hue,{hsl:A,pointer:S,onChange:H,direction:C})))};y.propTypes={styles:o.default.object},y.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:v.default,styles:{}},r.default=(0,p.ColorWrap)(y)},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.SliderPointer=void 0;var n=t(1),a=o(n),l=t(13),e=o(l);function o(u){return u&&u.__esModule?u:{default:u}}var s=r.SliderPointer=function(u){var c=u.direction,m=(0,e.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:c==="vertical"});return a.default.createElement("div",{style:m.picker})};r.default=s},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.Material=void 0;var n=t(1),a=p(n),l=t(13),e=p(l),o=t(46),s=p(o),u=t(57),c=p(u),m=t(22);function p(v){return v&&v.__esModule?v:{default:v}}var h=r.Material=function(v){var x=v.onChange,y=v.hex,k=v.rgb,T=v.styles,E=T===void 0?{}:T,_=v.className,A=_===void 0?"":_,C=(0,e.default)((0,s.default)({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+y,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},E)),S=function(P,O){P.hex?c.default.isValidHex(P.hex)&&x({hex:P.hex,source:"hex"},O):(P.r||P.g||P.b)&&x({r:P.r||k.r,g:P.g||k.g,b:P.b||k.b,source:"rgb"},O)};return a.default.createElement(m.Raised,{styles:E},a.default.createElement("div",{style:C.material,className:"material-picker "+A},a.default.createElement(m.EditableInput,{style:{wrap:C.HEXwrap,input:C.HEXinput,label:C.HEXlabel},label:"hex",value:y,onChange:S}),a.default.createElement("div",{style:C.split,className:"flexbox-fix"},a.default.createElement("div",{style:C.third},a.default.createElement(m.EditableInput,{style:{wrap:C.RGBwrap,input:C.RGBinput,label:C.RGBlabel},label:"r",value:k.r,onChange:S})),a.default.createElement("div",{style:C.third},a.default.createElement(m.EditableInput,{style:{wrap:C.RGBwrap,input:C.RGBinput,label:C.RGBlabel},label:"g",value:k.g,onChange:S})),a.default.createElement("div",{style:C.third},a.default.createElement(m.EditableInput,{style:{wrap:C.RGBwrap,input:C.RGBinput,label:C.RGBlabel},label:"b",value:k.b,onChange:S})))))};r.default=(0,m.ColorWrap)(h)},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.Photoshop=void 0;var n=function(){function M(H,L){for(var D=0;D<L.length;D++){var j=L[D];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(H,j.key,j)}}return function(H,L,D){return L&&M(H.prototype,L),D&&M(H,D),H}}(),a=t(1),l=S(a),e=t(2),o=S(e),s=t(13),u=S(s),c=t(46),m=S(c),p=t(22),h=t(862),v=S(h),x=t(863),y=S(x),k=t(864),T=S(k),E=t(865),_=S(E),A=t(866),C=S(A);function S(M){return M&&M.__esModule?M:{default:M}}function P(M,H){if(!(M instanceof H))throw new TypeError("Cannot call a class as a function")}function O(M,H){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H&&(typeof H=="object"||typeof H=="function")?H:M}function R(M,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof H);M.prototype=Object.create(H&&H.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(M,H):M.__proto__=H)}var I=r.Photoshop=function(M){R(H,M);function H(L){P(this,H);var D=O(this,(H.__proto__||Object.getPrototypeOf(H)).call(this));return D.state={currentColor:L.hex},D}return n(H,[{key:"render",value:function(){var L=this.props,D=L.styles,j=D===void 0?{}:D,W=L.className,B=W===void 0?"":W,F=(0,u.default)((0,m.default)({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},j));return l.default.createElement("div",{style:F.picker,className:"photoshop-picker "+B},l.default.createElement("div",{style:F.head},this.props.header),l.default.createElement("div",{style:F.body,className:"flexbox-fix"},l.default.createElement("div",{style:F.saturation},l.default.createElement(p.Saturation,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:y.default,onChange:this.props.onChange})),l.default.createElement("div",{style:F.hue},l.default.createElement(p.Hue,{direction:"vertical",hsl:this.props.hsl,pointer:T.default,onChange:this.props.onChange})),l.default.createElement("div",{style:F.controls},l.default.createElement("div",{style:F.top,className:"flexbox-fix"},l.default.createElement("div",{style:F.previews},l.default.createElement(C.default,{rgb:this.props.rgb,currentColor:this.state.currentColor})),l.default.createElement("div",{style:F.actions},l.default.createElement(_.default,{label:"OK",onClick:this.props.onAccept,active:!0}),l.default.createElement(_.default,{label:"Cancel",onClick:this.props.onCancel}),l.default.createElement(v.default,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),H}(l.default.Component);I.propTypes={header:o.default.string,styles:o.default.object},I.defaultProps={header:"Color Picker",styles:{}},r.default=(0,p.ColorWrap)(I)},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.PhotoshopPicker=void 0;var n=t(1),a=c(n),l=t(13),e=c(l),o=t(57),s=c(o),u=t(22);function c(p){return p&&p.__esModule?p:{default:p}}var m=r.PhotoshopPicker=function(p){var h=p.onChange,v=p.rgb,x=p.hsv,y=p.hex,k=(0,e.default)({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),T=function(E,_){E["#"]?s.default.isValidHex(E["#"])&&h({hex:E["#"],source:"hex"},_):E.r||E.g||E.b?h({r:E.r||v.r,g:E.g||v.g,b:E.b||v.b,source:"rgb"},_):(E.h||E.s||E.v)&&h({h:E.h||x.h,s:E.s||x.s,v:E.v||x.v,source:"hsv"},_)};return a.default.createElement("div",{style:k.fields},a.default.createElement(u.EditableInput,{style:{wrap:k.RGBwrap,input:k.RGBinput,label:k.RGBlabel},label:"h",value:Math.round(x.h),onChange:T}),a.default.createElement(u.EditableInput,{style:{wrap:k.RGBwrap,input:k.RGBinput,label:k.RGBlabel},label:"s",value:Math.round(x.s*100),onChange:T}),a.default.createElement(u.EditableInput,{style:{wrap:k.RGBwrap,input:k.RGBinput,label:k.RGBlabel},label:"v",value:Math.round(x.v*100),onChange:T}),a.default.createElement("div",{style:k.divider}),a.default.createElement(u.EditableInput,{style:{wrap:k.RGBwrap,input:k.RGBinput,label:k.RGBlabel},label:"r",value:v.r,onChange:T}),a.default.createElement(u.EditableInput,{style:{wrap:k.RGBwrap,input:k.RGBinput,label:k.RGBlabel},label:"g",value:v.g,onChange:T}),a.default.createElement(u.EditableInput,{style:{wrap:k.RGBwrap,input:k.RGBinput,label:k.RGBlabel},label:"b",value:v.b,onChange:T}),a.default.createElement("div",{style:k.divider}),a.default.createElement(u.EditableInput,{style:{wrap:k.HEXwrap,input:k.HEXinput,label:k.HEXlabel},label:"#",value:y.replace("#",""),onChange:T}),a.default.createElement("div",{style:k.fieldSymbols},a.default.createElement("div",{style:k.symbol},"°"),a.default.createElement("div",{style:k.symbol},"%"),a.default.createElement("div",{style:k.symbol},"%")))};r.default=m},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.PhotoshopPointerCircle=void 0;var n=t(1),a=o(n),l=t(13),e=o(l);function o(u){return u&&u.__esModule?u:{default:u}}var s=r.PhotoshopPointerCircle=function(u){var c=u.hsl,m=(0,e.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":c.l>.5});return a.default.createElement("div",{style:m.picker})};r.default=s},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.PhotoshopPointerCircle=void 0;var n=t(1),a=o(n),l=t(13),e=o(l);function o(u){return u&&u.__esModule?u:{default:u}}var s=r.PhotoshopPointerCircle=function(){var u=(0,e.default)({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return a.default.createElement("div",{style:u.pointer},a.default.createElement("div",{style:u.left},a.default.createElement("div",{style:u.leftInside})),a.default.createElement("div",{style:u.right},a.default.createElement("div",{style:u.rightInside})))};r.default=s},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.PhotoshopBotton=void 0;var n=t(1),a=o(n),l=t(13),e=o(l);function o(u){return u&&u.__esModule?u:{default:u}}var s=r.PhotoshopBotton=function(u){var c=u.onClick,m=u.label,p=u.children,h=u.active,v=(0,e.default)({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:h});return a.default.createElement("div",{style:v.button,onClick:c},m||p)};r.default=s},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.PhotoshopPreviews=void 0;var n=t(1),a=o(n),l=t(13),e=o(l);function o(u){return u&&u.__esModule?u:{default:u}}var s=r.PhotoshopPreviews=function(u){var c=u.rgb,m=u.currentColor,p=(0,e.default)({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+c.r+","+c.g+", "+c.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:m,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return a.default.createElement("div",null,a.default.createElement("div",{style:p.label},"new"),a.default.createElement("div",{style:p.swatches},a.default.createElement("div",{style:p.new}),a.default.createElement("div",{style:p.current})),a.default.createElement("div",{style:p.label},"current"))};r.default=s},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.Sketch=void 0;var n=Object.assign||function(E){for(var _=1;_<arguments.length;_++){var A=arguments[_];for(var C in A)Object.prototype.hasOwnProperty.call(A,C)&&(E[C]=A[C])}return E},a=t(1),l=k(a),e=t(2),o=k(e),s=t(13),u=k(s),c=t(46),m=k(c),p=t(22),h=t(868),v=k(h),x=t(869),y=k(x);function k(E){return E&&E.__esModule?E:{default:E}}var T=r.Sketch=function(E){var _=E.width,A=E.rgb,C=E.hex,S=E.hsv,P=E.hsl,O=E.onChange,R=E.onSwatchHover,I=E.disableAlpha,M=E.presetColors,H=E.renderers,L=E.styles,D=L===void 0?{}:L,j=E.className,W=j===void 0?"":j,B=(0,u.default)((0,m.default)({default:n({picker:{width:_,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+A.r+","+A.g+","+A.b+","+A.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},D),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},D),{disableAlpha:I});return l.default.createElement("div",{style:B.picker,className:"sketch-picker "+W},l.default.createElement("div",{style:B.saturation},l.default.createElement(p.Saturation,{style:B.Saturation,hsl:P,hsv:S,onChange:O})),l.default.createElement("div",{style:B.controls,className:"flexbox-fix"},l.default.createElement("div",{style:B.sliders},l.default.createElement("div",{style:B.hue},l.default.createElement(p.Hue,{style:B.Hue,hsl:P,onChange:O})),l.default.createElement("div",{style:B.alpha},l.default.createElement(p.Alpha,{style:B.Alpha,rgb:A,hsl:P,renderers:H,onChange:O}))),l.default.createElement("div",{style:B.color},l.default.createElement(p.Checkboard,null),l.default.createElement("div",{style:B.activeColor}))),l.default.createElement(v.default,{rgb:A,hsl:P,hex:C,onChange:O,disableAlpha:I}),l.default.createElement(y.default,{colors:M,onClick:O,onSwatchHover:R}))};T.propTypes={disableAlpha:o.default.bool,width:o.default.oneOfType([o.default.string,o.default.number]),styles:o.default.object},T.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]},r.default=(0,p.ColorWrap)(T)},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.SketchFields=void 0;var n=t(1),a=c(n),l=t(13),e=c(l),o=t(57),s=c(o),u=t(22);function c(p){return p&&p.__esModule?p:{default:p}}var m=r.SketchFields=function(p){var h=p.onChange,v=p.rgb,x=p.hsl,y=p.hex,k=p.disableAlpha,T=(0,e.default)({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:k}),E=function(_,A){_.hex?s.default.isValidHex(_.hex)&&h({hex:_.hex,source:"hex"},A):_.r||_.g||_.b?h({r:_.r||v.r,g:_.g||v.g,b:_.b||v.b,a:v.a,source:"rgb"},A):_.a&&(_.a<0?_.a=0:_.a>100&&(_.a=100),_.a/=100,h({h:x.h,s:x.s,l:x.l,a:_.a,source:"rgb"},A))};return a.default.createElement("div",{style:T.fields,className:"flexbox-fix"},a.default.createElement("div",{style:T.double},a.default.createElement(u.EditableInput,{style:{input:T.input,label:T.label},label:"hex",value:y.replace("#",""),onChange:E})),a.default.createElement("div",{style:T.single},a.default.createElement(u.EditableInput,{style:{input:T.input,label:T.label},label:"r",value:v.r,onChange:E,dragLabel:"true",dragMax:"255"})),a.default.createElement("div",{style:T.single},a.default.createElement(u.EditableInput,{style:{input:T.input,label:T.label},label:"g",value:v.g,onChange:E,dragLabel:"true",dragMax:"255"})),a.default.createElement("div",{style:T.single},a.default.createElement(u.EditableInput,{style:{input:T.input,label:T.label},label:"b",value:v.b,onChange:E,dragLabel:"true",dragMax:"255"})),a.default.createElement("div",{style:T.alpha},a.default.createElement(u.EditableInput,{style:{input:T.input,label:T.label},label:"a",value:Math.round(v.a*100),onChange:E,dragLabel:"true",dragMax:"100"})))};r.default=m},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.SketchPresetColors=void 0;var n=Object.assign||function(h){for(var v=1;v<arguments.length;v++){var x=arguments[v];for(var y in x)Object.prototype.hasOwnProperty.call(x,y)&&(h[y]=x[y])}return h},a=t(1),l=m(a),e=t(2),o=m(e),s=t(13),u=m(s),c=t(22);function m(h){return h&&h.__esModule?h:{default:h}}var p=r.SketchPresetColors=function(h){var v=h.colors,x=h.onClick,y=x===void 0?function(){}:x,k=h.onSwatchHover,T=(0,u.default)({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!v||!v.length}),E=function(_,A){y({hex:_,source:"hex"},A)};return l.default.createElement("div",{style:T.colors,className:"flexbox-fix"},v.map(function(_){var A=typeof _=="string"?{color:_}:_,C=""+A.color+(A.title||"");return l.default.createElement("div",{key:C,style:T.swatchWrap},l.default.createElement(c.Swatch,n({},A,{style:T.swatch,onClick:E,onHover:k,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+A.color}})))}))};p.propTypes={colors:o.default.arrayOf(o.default.oneOfType([o.default.string,o.default.shape({color:o.default.string,title:o.default.string})])).isRequired},r.default=p},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.Slider=void 0;var n=t(1),a=y(n),l=t(2),e=y(l),o=t(13),s=y(o),u=t(46),c=y(u),m=t(22),p=t(871),h=y(p),v=t(873),x=y(v);function y(T){return T&&T.__esModule?T:{default:T}}var k=r.Slider=function(T){var E=T.hsl,_=T.onChange,A=T.pointer,C=T.styles,S=C===void 0?{}:C,P=T.className,O=P===void 0?"":P,R=(0,s.default)((0,c.default)({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},S));return a.default.createElement("div",{style:R.wrap||"",className:"slider-picker "+O},a.default.createElement("div",{style:R.hue},a.default.createElement(m.Hue,{style:R.Hue,hsl:E,pointer:A,onChange:_})),a.default.createElement("div",{style:R.swatches},a.default.createElement(h.default,{hsl:E,onClick:_})))};k.propTypes={styles:e.default.object},k.defaultProps={pointer:x.default,styles:{}},r.default=(0,m.ColorWrap)(k)},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.SliderSwatches=void 0;var n=t(1),a=u(n),l=t(13),e=u(l),o=t(872),s=u(o);function u(m){return m&&m.__esModule?m:{default:m}}var c=r.SliderSwatches=function(m){var p=m.onClick,h=m.hsl,v=(0,e.default)({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}});return a.default.createElement("div",{style:v.swatches},a.default.createElement("div",{style:v.swatch},a.default.createElement(s.default,{hsl:h,offset:".80",active:Math.round(h.l*100)/100===.8&&Math.round(h.s*100)/100===.5,onClick:p,first:!0})),a.default.createElement("div",{style:v.swatch},a.default.createElement(s.default,{hsl:h,offset:".65",active:Math.round(h.l*100)/100===.65&&Math.round(h.s*100)/100===.5,onClick:p})),a.default.createElement("div",{style:v.swatch},a.default.createElement(s.default,{hsl:h,offset:".50",active:Math.round(h.l*100)/100===.5&&Math.round(h.s*100)/100===.5,onClick:p})),a.default.createElement("div",{style:v.swatch},a.default.createElement(s.default,{hsl:h,offset:".35",active:Math.round(h.l*100)/100===.35&&Math.round(h.s*100)/100===.5,onClick:p})),a.default.createElement("div",{style:v.swatch},a.default.createElement(s.default,{hsl:h,offset:".20",active:Math.round(h.l*100)/100===.2&&Math.round(h.s*100)/100===.5,onClick:p,last:!0})),a.default.createElement("div",{style:v.clear}))};r.default=c},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.SliderSwatch=void 0;var n=t(1),a=o(n),l=t(13),e=o(l);function o(u){return u&&u.__esModule?u:{default:u}}var s=r.SliderSwatch=function(u){var c=u.hsl,m=u.offset,p=u.onClick,h=p===void 0?function(){}:p,v=u.active,x=u.first,y=u.last,k=(0,e.default)({default:{swatch:{height:"12px",background:"hsl("+c.h+", 50%, "+m*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:v,first:x,last:y}),T=function(E){return h({h:c.h,s:.5,l:m,source:"hsl"},E)};return a.default.createElement("div",{style:k.swatch,onClick:T})};r.default=s},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.SliderPointer=void 0;var n=t(1),a=o(n),l=t(13),e=o(l);function o(u){return u&&u.__esModule?u:{default:u}}var s=r.SliderPointer=function(){var u=(0,e.default)({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return a.default.createElement("div",{style:u.picker})};r.default=s},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.Swatches=void 0;var n=t(1),a=A(n),l=t(2),e=A(l),o=t(13),s=A(o),u=t(70),c=A(u),m=t(46),p=A(m),h=t(57),v=A(h),x=t(438),y=_(x),k=t(22),T=t(875),E=A(T);function _(S){if(S&&S.__esModule)return S;var P={};if(S!=null)for(var O in S)Object.prototype.hasOwnProperty.call(S,O)&&(P[O]=S[O]);return P.default=S,P}function A(S){return S&&S.__esModule?S:{default:S}}var C=r.Swatches=function(S){var P=S.width,O=S.height,R=S.onChange,I=S.onSwatchHover,M=S.colors,H=S.hex,L=S.styles,D=L===void 0?{}:L,j=S.className,W=j===void 0?"":j,B=(0,s.default)((0,p.default)({default:{picker:{width:P,height:O},overflow:{height:O,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},D)),F=function(N,X){v.default.isValidHex(N)&&R({hex:N,source:"hex"},X)};return a.default.createElement("div",{style:B.picker,className:"swatches-picker "+W},a.default.createElement(k.Raised,null,a.default.createElement("div",{style:B.overflow},a.default.createElement("div",{style:B.body},(0,c.default)(M,function(N){return a.default.createElement(E.default,{key:N.toString(),group:N,active:H,onClick:F,onSwatchHover:I})}),a.default.createElement("div",{style:B.clear})))))};C.propTypes={width:e.default.oneOfType([e.default.string,e.default.number]),height:e.default.oneOfType([e.default.string,e.default.number]),colors:e.default.arrayOf(e.default.arrayOf(e.default.string)),styles:e.default.object},C.defaultProps={width:320,height:240,colors:[[y.red[900],y.red[700],y.red[500],y.red[300],y.red[100]],[y.pink[900],y.pink[700],y.pink[500],y.pink[300],y.pink[100]],[y.purple[900],y.purple[700],y.purple[500],y.purple[300],y.purple[100]],[y.deepPurple[900],y.deepPurple[700],y.deepPurple[500],y.deepPurple[300],y.deepPurple[100]],[y.indigo[900],y.indigo[700],y.indigo[500],y.indigo[300],y.indigo[100]],[y.blue[900],y.blue[700],y.blue[500],y.blue[300],y.blue[100]],[y.lightBlue[900],y.lightBlue[700],y.lightBlue[500],y.lightBlue[300],y.lightBlue[100]],[y.cyan[900],y.cyan[700],y.cyan[500],y.cyan[300],y.cyan[100]],[y.teal[900],y.teal[700],y.teal[500],y.teal[300],y.teal[100]],["#194D33",y.green[700],y.green[500],y.green[300],y.green[100]],[y.lightGreen[900],y.lightGreen[700],y.lightGreen[500],y.lightGreen[300],y.lightGreen[100]],[y.lime[900],y.lime[700],y.lime[500],y.lime[300],y.lime[100]],[y.yellow[900],y.yellow[700],y.yellow[500],y.yellow[300],y.yellow[100]],[y.amber[900],y.amber[700],y.amber[500],y.amber[300],y.amber[100]],[y.orange[900],y.orange[700],y.orange[500],y.orange[300],y.orange[100]],[y.deepOrange[900],y.deepOrange[700],y.deepOrange[500],y.deepOrange[300],y.deepOrange[100]],[y.brown[900],y.brown[700],y.brown[500],y.brown[300],y.brown[100]],[y.blueGrey[900],y.blueGrey[700],y.blueGrey[500],y.blueGrey[300],y.blueGrey[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}},r.default=(0,k.ColorWrap)(C)},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.SwatchesGroup=void 0;var n=t(1),a=m(n),l=t(13),e=m(l),o=t(70),s=m(o),u=t(876),c=m(u);function m(h){return h&&h.__esModule?h:{default:h}}var p=r.SwatchesGroup=function(h){var v=h.onClick,x=h.onSwatchHover,y=h.group,k=h.active,T=(0,e.default)({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return a.default.createElement("div",{style:T.group},(0,s.default)(y,function(E,_){return a.default.createElement(c.default,{key:E,color:E,active:E.toLowerCase()===k,first:_===0,last:_===y.length-1,onClick:v,onSwatchHover:x})}))};r.default=p},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.SwatchesColor=void 0;var n=t(1),a=p(n),l=t(13),e=p(l),o=t(57),s=p(o),u=t(22),c=t(877),m=p(c);function p(v){return v&&v.__esModule?v:{default:v}}var h=r.SwatchesColor=function(v){var x=v.color,y=v.onClick,k=y===void 0?function(){}:y,T=v.onSwatchHover,E=v.first,_=v.last,A=v.active,C=(0,e.default)({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:x,marginBottom:"1px"},check:{color:s.default.getContrastingColor(x),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:E,last:_,active:A,"color-#FFFFFF":x==="#FFFFFF",transparent:x==="transparent"});return a.default.createElement(u.Swatch,{color:x,style:C.color,onClick:k,onHover:T,focusStyle:{boxShadow:"0 0 4px "+x}},a.default.createElement("div",{style:C.check},a.default.createElement(m.default,null)))};r.default=h},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=Object.assign||function(u){for(var c=1;c<arguments.length;c++){var m=arguments[c];for(var p in m)Object.prototype.hasOwnProperty.call(m,p)&&(u[p]=m[p])}return u},a=t(1),l=e(a);function e(u){return u&&u.__esModule?u:{default:u}}function o(u,c){var m={};for(var p in u)c.indexOf(p)>=0||Object.prototype.hasOwnProperty.call(u,p)&&(m[p]=u[p]);return m}var s=24;r.default=function(u){var c=u.fill,m=c===void 0?"currentColor":c,p=u.width,h=p===void 0?s:p,v=u.height,x=v===void 0?s:v,y=u.style,k=y===void 0?{}:y,T=o(u,["fill","width","height","style"]);return l.default.createElement("svg",n({viewBox:"0 0 "+s+" "+s,style:n({fill:m,width:h,height:x},k)},T),l.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.Twitter=void 0;var n=t(1),a=y(n),l=t(2),e=y(l),o=t(13),s=y(o),u=t(70),c=y(u),m=t(46),p=y(m),h=t(57),v=y(h),x=t(22);function y(T){return T&&T.__esModule?T:{default:T}}var k=r.Twitter=function(T){var E=T.onChange,_=T.onSwatchHover,A=T.hex,C=T.colors,S=T.width,P=T.triangle,O=T.styles,R=O===void 0?{}:O,I=T.className,M=I===void 0?"":I,H=(0,s.default)((0,p.default)({default:{card:{width:S,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},R),{"hide-triangle":P==="hide","top-left-triangle":P==="top-left","top-right-triangle":P==="top-right"}),L=function(D,j){v.default.isValidHex(D)&&E({hex:D,source:"hex"},j)};return a.default.createElement("div",{style:H.card,className:"twitter-picker "+M},a.default.createElement("div",{style:H.triangleShadow}),a.default.createElement("div",{style:H.triangle}),a.default.createElement("div",{style:H.body},(0,c.default)(C,function(D,j){return a.default.createElement(x.Swatch,{key:j,color:D,hex:D,style:H.swatch,onClick:L,onHover:_,focusStyle:{boxShadow:"0 0 4px "+D}})}),a.default.createElement("div",{style:H.hash},"#"),a.default.createElement(x.EditableInput,{style:{input:H.input},value:A.replace("#",""),onChange:L}),a.default.createElement("div",{style:H.clear})))};k.propTypes={width:e.default.oneOfType([e.default.string,e.default.number]),triangle:e.default.oneOf(["hide","top-left","top-right"]),colors:e.default.arrayOf(e.default.string),styles:e.default.object},k.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}},r.default=(0,x.ColorWrap)(k)},function(f,r,t){},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.TRACKS_INFO=void 0;var n=t(881),a=u(n),l=t(44),e=u(l),o=t(327),s=t(266);function u(h){return h&&h.__esModule?h:{default:h}}var c={type:"osm-tiles",datatype:["map-tiles"],local:!0,orientation:"2d",hidden:!0,name:"OSM Tiles",thumbnail:s.svgGeoMapIcon,availableOptions:["minPos","maxPos","maxZoom","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","name"],defaultOptions:{minPos:-180,maxPos:180,maxZoom:19,labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0}},m={type:"mapbox-tiles",datatype:["map-tiles"],local:!0,orientation:"2d",hidden:!0,name:"Mapbox Tiles",thumbnail:s.svgGeoMapIcon,availableOptions:["style","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","name"],defaultOptions:{style:"mapbox.streets",labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0}},p=r.TRACKS_INFO=[c,(0,e.default)({},c,{type:"osm"}),m,(0,e.default)({},m,{type:"mapbox"}),{type:"left-axis",datatype:["axis"],local:!0,orientation:"1d-vertical",name:"Left Axis",thumbnail:s.svgVertical1DAxisIcon,availableOptions:["minWidth"],defaultOptions:{minWidth:100}},{type:"top-axis",datatype:["axis"],local:!0,orientation:"1d-horizontal",name:"Top Axis",thumbnail:s.svg1DAxisIcon,defaultOptions:{}},{type:"horizontal-rule",datatype:["x-coord"],local:!0,orientation:"whole",name:"Horizontal Rule",thumbnail:null,availableOptions:["color"],defaultOptions:{color:"black"}},{type:"vertical-rule",datatype:["y-coord"],local:!0,orientation:"whole",name:"Vertical Rule",thumbnail:null,availableOptions:["color"],defaultOptions:{color:"black"}},{type:"cross-rule",datatype:["xy-coord"],local:!0,orientation:"whole",name:"Cross Rule",thumbnail:null,availableOptions:["color"],defaultOptions:{color:"black"}},{type:"simple-svg",datatype:[],local:!1,orientation:"2d",exportable:!0,availableOptions:["minWidth","minHeight"],defaultOptions:{minWidth:100,minHeight:100}},{type:"heatmap",datatype:["matrix"],local:!1,orientation:"2d",thumbnail:s.svg2DHeatmapIcon,exportable:!0,availableOptions:["backgroundColor","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","colorRange","colorbarBackgroundColor","maxZoom","minWidth","minHeight","dataTransform","colorbarPosition","trackBorderWidth","trackBorderColor","heatmapValueScaling","showMousePosition","mousePositionColor","showTooltip","extent","zeroValueColor"],defaultOptions:{backgroundColor:"#eeeeee",labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!0,labelShowAssembly:!0,colorRange:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"],colorbarBackgroundColor:"#ffffff",maxZoom:null,minWidth:100,minHeight:100,colorbarPosition:"topRight",trackBorderWidth:0,trackBorderColor:"black",heatmapValueScaling:"log",showMousePosition:!1,mousePositionColor:"#000000",showTooltip:!1,extent:"full",zeroValueColor:null},defaultOptionsByTheme:(0,a.default)({},o.THEME_DARK,{backgroundColor:"#000000",colorRange:["black","rgba(208,2,27,1.0)","rgba(245,166,35,1.0)","white"],colorbarBackgroundColor:"#000000",labelColor:"#ffffff",labelBackgroundColor:"#000000",trackBorderColor:"#ffffff",mousePositionColor:"#ffffff"})},{type:"linear-heatmap",aliases:["horizontal-heatmap","vertical-heatmap"],datatype:["matrix"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:s.svg2DHeatmapIcon,defaultOptions:{backgroundColor:"#eeeeee",labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!0,labelShowAssembly:!0,labelColor:"black",colorRange:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"],maxZoom:null,minWidth:100,minHeight:40,trackBorderWidth:0,trackBorderColor:"black"},availableOptions:["backgroundColor","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","colorRange","maxZoom","minWidth","minHeight","dataTransform","oneDHeatmapFlipped","colorbarPosition","trackBorderWidth","trackBorderColor","heatmapValueScaling"]},{type:"line",aliases:["horizontal-line","vertical-line"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:s.svgHorizontalLineIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundColor","labelBackgroundOpacity","axisLabelFormatting","axisPositionHorizontal","axisMargin","lineStrokeWidth","lineStrokeColor","valueScaling","valueScaleMin","valueScaleMax","trackBorderWidth","trackBorderColor","trackType","showMousePosition","showTooltip","mousePositionColor","aggregationMode","minHeight"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelBackgroundColor:"white",labelShowResolution:!1,labelShowAssembly:!0,axisLabelFormatting:"scientific",axisPositionHorizontal:"right",lineStrokeColor:"blue",lineStrokeWidth:1,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,showMousePosition:!1,minHeight:20,mousePositionColor:"#000000",showTooltip:!1},defaultOptionsByTheme:(0,a.default)({},o.THEME_DARK,{labelColor:"#ffffff",labelBackgroundColor:"#000000",trackBorderColor:"#ffffff",mousePositionColor:"#ffffff"})},{type:"1d-heatmap",aliases:["horizontal-1d-heatmap","vertical-1d-heatmap"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:s.svgHorizontal1dHeatmap,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisPositionHorizontal","axisMargin","colorRange","valueScaling","trackBorderWidth","trackBorderColor","trackType","showMousePosition","showTooltip","mousePositionColor","aggregationMode"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisPositionHorizontal:"right",colorRange:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"],valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,showMousePosition:!1,mousePositionColor:"#000000",showTooltip:!1}},{type:"vector-heatmap",aliases:["horizontal-vector-heatmap","vertical-vector-heatmap"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,minHeight:1,thumbnail:null,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","valueScaling","labelTextOpacity","labelBackgroundOpacity","colorRange","trackBorderWidth","trackBorderColor","trackType","heatmapValueScaling"],defaultOptions:{labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,labelColor:"black",labelTextOpacity:.4,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",heatmapValueScaling:"log"}},{type:"multivec",aliases:["horizontal-multivec","vertical-multivec"],datatype:["multivec"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:null,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","minHeight","valueScaling","labelTextOpacity","labelBackgroundOpacity","colorRange","trackBorderWidth","trackBorderColor","trackType","heatmapValueScaling","selectRows","selectRowsAggregationMode","selectRowsAggregationWithRelativeHeight","selectRowsAggregationMethod","colorbarBackgroundColor","colorbarPosition","zeroValueColor"],defaultOptions:{labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!0,labelShowAssembly:!0,labelColor:"black",labelTextOpacity:.4,minHeight:100,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",heatmapValueScaling:"log",selectRows:null,selectRowsAggregationMode:"mean",selectRowsAggregationWithRelativeHeight:!0,selectRowsAggregationMethod:"client",colorbarBackgroundColor:"#ffffff",colorbarPosition:"topRight",zeroValueColor:null},defaultOptionsByTheme:(0,a.default)({},o.THEME_DARK,{colorbarBackgroundColor:"#000000"})},{type:"point",aliases:["horizontal-point","vertical-point"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisLabelFormatting","axisPositionHorizontal","axisMargin","pointColor","pointSize","valueScaling","trackBorderWidth","trackBorderColor"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisLabelFormatting:"scientific",axisPositionHorizontal:"right",pointColor:"red",pointSize:3,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4}},{type:"divergent-bar",aliases:["horizontal-divergent-bar","vertical-divergent-bar"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisLabelFormatting","axisPositionHorizontal","axisMargin","barFillColorTop","barFillColorBottom","valueScaling","trackBorderWidth","trackBorderColor","barOpacity"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisPositionHorizontal:"right",axisLabelFormatting:"scientific",barFillColorBottom:"red",barFillColorTop:"green",valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,barOpacity:1}},{type:"bar",aliases:["horizontal-bar","vertical-bar"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,availableOptions:["align","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisLabelFormatting","axisPositionHorizontal","axisMargin","barFillColor","colorRange","colorRangeGradient","valueScaling","valueScaleMin","valueScaleMax","trackBorderWidth","trackBorderColor","barOpacity","showMousePosition","showTooltip","aggregationMode","zeroLineVisible","zeroLineColor","zeroLineOpacity"],defaultOptions:{align:"bottom",labelColor:"[glyph-color]",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisLabelFormatting:"scientific",axisPositionHorizontal:"right",barFillColor:"darkgreen",valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,barOpacity:1}},{type:"2d-tiles",datatype:["matrix"],local:!1,orientation:"2d",name:"2D Tile Outlines",thumbnail:s.svg2DTilesIcon},{type:"1d-value-interval",aliases:["horizontal-1d-value-interval","vertical-1d-value-interval"],datatype:["bed-value"],local:!1,orientation:["1d-horizontal"],rotatable:!0,name:"1D Rectangles",availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","axisPositionHorizontal","axisMargin"],defaultOptions:{labelColor:"black",labelPosition:"bottomLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,axisPositionHorizontal:"left",lineStrokeColor:"blue",valueScaling:"linear"}},{type:"stacked-interval",aliases:["top-stacked-interval","left-stacked-interval"],datatype:["stacked-interval"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:"horizontal-stacked-interval.png",availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity"]},{type:"viewport-projection-vertical",datatype:["1d-projection"],local:!0,hidden:!0,projection:!0,orientation:"1d-vertical",name:"Viewport Projection",thumbnail:"viewport-projection-center.png",availableOptions:["projectionFillColor","projectionStrokeColor","strokeWidth"],defaultOptions:{projectionFillColor:"#777",projectionStrokeColor:"#777",projectionFillOpacity:.3,projectionStrokeOpacity:.7,strokeWidth:1}},{type:"viewport-projection-horizontal",datatype:["1d-projection"],local:!0,hidden:!0,projection:!0,orientation:"1d-horizontal",name:"Viewport Projection",thumbnail:"viewport-projection-center.png",availableOptions:["projectionFillColor","projectionStrokeColor","strokeWidth"],defaultOptions:{projectionFillColor:"#777",projectionStrokeColor:"#777",projectionFillOpacity:.3,projectionStrokeOpacity:.7,strokeWidth:1}},{type:"viewport-projection-center",datatype:["2d-projection"],local:!0,hidden:!0,projection:!0,orientation:"2d",name:"Viewport Projection",thumbnail:"viewport-projection-center.png",availableOptions:["projectionFillColor","projectionStrokeColor","strokeWidth"],defaultOptions:{projectionFillColor:"#777",projectionStrokeColor:"#777",projectionFillOpacity:.3,projectionStrokeOpacity:.7,strokeWidth:1}},{type:"gene-annotations",aliases:["horizontal-gene-annotations","vertical-gene-annotations"],datatype:["gene-annotation"],local:!1,defaultHeight:90,defaultWidth:90,rotatable:!0,orientation:"1d-horizontal",name:"Gene Annotations",thumbnail:s.svgGeneAnnotationsIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundColor","labelBackgroundOpacity","minHeight","plusStrandColor","minusStrandColor","trackBorderWidth","trackBorderColor","showMousePosition","mousePositionColor","fontSize","geneAnnotationHeight","geneLabelPosition","geneStrandSpacing"],defaultOptions:{fontSize:10,labelColor:"black",labelBackgroundColor:"#ffffff",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,minHeight:24,plusStrandColor:"blue",minusStrandColor:"red",trackBorderWidth:0,trackBorderColor:"black",showMousePosition:!1,mousePositionColor:"#000000",geneAnnotationHeight:16,geneLabelPosition:"outside",geneStrandSpacing:4},defaultOptionsByTheme:(0,a.default)({},o.THEME_DARK,{labelColor:"#ffffff",labelBackgroundColor:"#000000",trackBorderColor:"#ffffff",mousePositionColor:"#ffffff",plusStrandColor:"#40a0ff"})},{type:"arrowhead-domains",datatype:["arrowhead-domains"],local:!1,orientation:"2d",name:"Arrowhead Domains",thumbnail:s.svgArrowheadDomainsIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor"],defaultOptions:{labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black"}},{type:"linear-2d-rectangle-domains",aliases:["horizontal-2d-rectangle-domains","vertical-2d-rectangle-domains"],datatype:["2d-rectangle-domains"],local:!1,orientation:"1d-horizontal",rotatable:!0,name:"Horizontal 2D Rectangle Domains",thumbnail:s.svgArrowheadDomainsIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor","rectangleDomainFillColor","rectangleDomainStrokeColor","rectangleDomainOpacity","minSquareSize"],defaultOptions:{labelColor:"black",labelPosition:"bottomLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black",rectangleDomainFillColor:"grey",rectangleDomainStrokeColor:"black",rectangleDomainOpacity:.6,minSquareSize:"none"}},{type:"2d-rectangle-domains",datatype:["2d-rectangle-domains"],local:!1,orientation:"2d",name:"2D Rectangle Domains",thumbnail:s.svgArrowheadDomainsIcon,availableOptions:["flipDiagonal","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor","rectangleDomainFillColor","rectangleDomainFillOpacity","rectangleDomainStrokeColor","rectangleDomainOpacity","minSquareSize"],defaultOptions:{flipDiagonal:"none",labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black",rectangleDomainFillColor:"grey",rectangleDomainFillOpacity:.4,rectangleDomainStrokeColor:"black",rectangleDomainOpacity:.6,minSquareSize:"none"}},{type:"horizontal-1d-annotations",datatype:["nothing"],local:!1,orientation:"1d-horizontal",name:"Horizontal 1D Annotations",thumbnail:null,availableOptions:["fill","fillOpacity","stroke","strokeOpacity","strokeWidth","strokePos","regions"],defaultOptions:{fill:"red",fillOpacity:.2,stroke:"red",strokeOpacity:0,strokeWidth:1,regions:[],strokePos:[]}},{type:"vertical-1d-annotations",datatype:["nothing"],local:!1,orientation:"1d-vertical",name:"Vertical 1D Annotations",thumbnail:null,availableOptions:["fill","fillOpacity","stroke","strokeOpacity","regions"],defaultOptions:{fill:"red",fillOpacity:"0.2",stroke:"red",strokeOpacity:"0",regions:[]}},{type:"2d-annotations",datatype:["2d-annotations"],local:!1,orientation:"2d",name:"2D Annotations",thumbnail:s.svgArrowheadDomainsIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor","rectangleDomainFillColor","rectangleDomainStrokeColor","rectangleDomainOpacity","minSquareSize","isClickable","hoverColor","selectColor","exclude","trackBorderBgWidth","trackBorderBgColor","trackBorderBgAlpha"],defaultOptions:{labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black",rectangleDomainFillColor:"grey",rectangleDomainStrokeColor:"black",rectangleDomainOpacity:.6,minSquareSize:"none",isClickable:!1,hoverColor:"orange",selectColor:"fuchsia",exclude:[],trackBorderBgWidth:0,trackBorderBgColor:"black",trackBorderBgAlpha:.33}},{type:"square-markers",datatype:["bedpe"],local:!1,orientation:"2d",name:"Square Markers",thumbnail:s.svgArrowheadDomainsIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor"],defaultOptions:{labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black"}},{type:"combined",datatype:"any",local:!0,orientation:"any"},{type:"horizontal-chromosome-grid",datatype:["chromsizes"],local:!1,orientation:"1d-horizontal",name:"Chromosome Grid",chromInfoPath:"//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv",thumbnail:null,availableOptions:["lineStrokeWidth","lineStrokeColor","showMousePosition"],defaultOptions:{lineStrokeWidth:1,lineStrokeColor:"grey",showMousePosition:!1}},{type:"vertical-chromosome-grid",datatype:["chromsizes"],local:!1,orientation:"1d-vertical",name:"Chromosome Grid",chromInfoPath:"//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv",thumbnail:null,availableOptions:["lineStrokeWidth","lineStrokeColor","showMousePosition"],defaultOptions:{lineStrokeWidth:1,lineStrokeColor:"grey",showMousePosition:!1}},{type:"2d-chromosome-grid",datatype:["chromsizes"],local:!1,orientation:"2d",name:"Chromosome Grid",chromInfoPath:"//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv",thumbnail:null,availableOptions:["lineStrokeWidth","lineStrokeColor"],defaultOptions:{lineStrokeWidth:1,lineStrokeColor:"grey"}},{type:"2d-chromosome-annotations",datatype:["chromsizes"],local:!0,orientation:"2d",name:"2D Chromosome Annotations",thumbnail:null,hidden:!0},{type:"2d-chromosome-labels",datatype:["chromsizes"],local:!0,orientation:"2d",name:"Pairwise Chromosome Labels",thumbnail:null},{type:"chromosome-labels",aliases:["horizontal-chromosome-labels","vertical-chromosome-labels"],datatype:["chromsizes"],orientation:"1d-horizontal",rotatable:!0,minHeight:35,defaultHeight:30,name:"Chromosome Axis",thumbnail:null,availableOptions:["color","stroke","fontSize","fontIsLeftAligned","showMousePosition","mousePositionColor","tickPositions","tickFormat","reverseOrientation"],defaultOptions:{color:"#808080",stroke:"#ffffff",fontSize:12,fontIsLeftAligned:!1,showMousePosition:!1,mousePositionColor:"#000000",reverseOrientation:!1},defaultOptionsByTheme:(0,a.default)({},o.THEME_DARK,{color:"#808080",stroke:"#000000",mousePositionColor:"#ffffff"})},{type:"vertical-1d-tiles",datatype:["1d-tiles"],local:!1,orientation:"1d-vertical",name:"Vertical 1D Tile Outlines",thumbnail:s.svgVertical1DTilesIcon},{type:"horizontal-1d-tiles",datatype:["vector","stacked-interval","gene-annotation"],local:!1,orientation:"1d-horizontal",name:"Horizontal 1D Tile Outlines",thumbnail:s.svg1DTilesIcon},{type:"osm-2d-tile-ids",datatype:["map-tiles"],local:!1,orientation:"2d",name:"OSM Tile Outlines",thumbnail:s.svg2DTilesIcon,availableOptions:["minPos","maxPos","maxZoom","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","name"],defaultOptions:{minPos:-180,maxPos:180,maxZoom:19,labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0}},{type:"raster-tiles",datatype:["map-tiles"],local:!0,orientation:"2d",hidden:!0,name:"Raster Tiles",thumbnail:s.svgGeoMapIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","name"],defaultOptions:{labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0}},{type:"image-tiles",datatype:["image-tiles"],local:!0,orientation:"2d",hidden:!0,name:"Image Tiles",thumbnail:null},{type:"bedlike",datatype:["bedlike"],aliases:["vertical-bedlike"],local:!1,orientation:"1d-horizontal",rotatable:!0,name:"BED-like track",thumbnail:null,availableOptions:["alternating","annotationHeight","annotationStyle","fillColor","fillOpacity","fontColor","fontSize","minusStrandColor","plusStrandColor","labelBottomMargin","labelColor","labelLeftMargin","labelPosition","labelRightMargin","labelTopMargin","labelTextOpacity","labelBackgroundOpacity","maxAnnotationHeight","minHeight","trackBorderWidth","trackBorderColor","valueColumn","colorEncoding","colorRange","colorEncodingRange","separatePlusMinusStrands","showTexts","axisPositionHorizontal","axisMargin"],defaultOptions:{alternating:!1,annotationStyle:"box",fillColor:"blue",fillOpacity:.3,fontSize:"10",axisPositionHorizontal:"right",labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,minHeight:20,maxAnnotationHeight:null,trackBorderWidth:0,trackBorderColor:"black",valueColumn:null,colorEncoding:"itemRgb",showTexts:!1,colorRange:["#000000","#652537","#bf5458","#fba273","#ffffe0"],colorEncodingRange:!1,separatePlusMinusStrands:!0,annotationHeight:16}},{type:"empty",datatype:[],orientation:"1d-horizontal",name:"Empty track",thumbnail:null,availableOptions:[],defaultOptions:{}}];r.default=p},function(f,r,t){r.__esModule=!0;var n=t(131),a=l(n);function l(e){return e&&e.__esModule?e:{default:e}}r.default=function(e,o,s){return o in e?(0,a.default)(e,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[o]=s,e}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.TRACKS_INFO_BY_TYPE=void 0;var n=t(17),a=e(n),l=t(11);function e(s){return s&&s.__esModule?s:{default:s}}var o=r.TRACKS_INFO_BY_TYPE=l.TRACKS_INFO.reduce(function(s,u){if(s[u.type]=u,u.aliases){var c=!0,m=!1,p=void 0;try{for(var h=(0,a.default)(u.aliases),v;!(c=(v=h.next()).done);c=!0){var x=v.value;s[x]=u}}catch(y){m=!0,p=y}finally{try{!c&&h.return&&h.return()}finally{if(m)throw p}}}return s},{});r.default=o},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.POSITIONS_BY_DATATYPE=void 0;var n=t(38),a=e(n),l=t(11);function e(s){return s&&s.__esModule?s:{default:s}}var o=r.POSITIONS_BY_DATATYPE=l.TRACKS_INFO.reduce(function(s,u){for(var c=0;c<u.datatype.length;c++){var m=u.datatype[c];return s[m]?s[m].add(u.orientation):s[m]=new a.default,s}return{}},{});r.default=o},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=r.DEFAULT_TRACKS_FOR_DATATYPE={chromsizes:{center:"2d-chromosome-grid",top:"chromosome-labels",left:"chromosome-labels",bottom:"chromosome-labels",right:"chromosome-labels"},matrix:{center:"heatmap",top:"linear-heatmap",left:"linear-heatmap",right:"linear-heatmap",bottom:"linear-heatmap"},vector:{top:"bar",bottom:"bar",left:"bar",right:"bar"},"geo-json":{center:"geo-json"},"gene-annotation":{top:"gene-annotations",bottom:"gene-annotations",left:"gene-annotations",right:"gene-annotations"},bedlike:{top:"bedlike",bottom:"bedlike",left:"vertical-bedlike",right:"vertical-bedlike"}};r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(8),a=Zn(n),l=t(316),e=Zn(l),o=t(83),s=Zn(o),u=t(9),c=Zn(u),m=t(84),p=Zn(m),h=t(104),v=Zn(h),x=t(20),y=Zn(x),k=t(1080),T=Zn(k),E=t(1082),_=Zn(E),A=t(1081),C=Zn(A),S=t(28),P=Zn(S),O=t(0),R=Zn(O),I=t(85),M=Zn(I),H=t(157),L=Zn(H),D=t(26),j=an(D),W=t(81),B=t(11),F=Zn(B),N=t(10),X=Zn(N),G=t(365),V=an(G),z=t(364),U=an(z),Z=t(363),st=an(Z),Y=t(259),rt=an(Y),ft=t(352),tt=an(ft),K=t(362),Q=an(K),ct=t(370),nt=an(ct),ot=t(368),yt=an(ot),pt=t(369),dt=an(pt),mt=t(256),q=an(mt),$=t(378),J=an($),lt=t(360),ut=an(lt),ht=t(135),bt=an(ht),kt=t(361),vt=an(kt),Et=t(366),Rt=an(Et),Vt=t(371),ee=an(Vt),Tt=t(260),_t=an(Tt),zt=t(372),oe=an(zt),$t=t(116),pe=an($t),Nt=t(359),se=an(Nt),Gt=t(358),gt=an(Gt),fe=t(377),Ct=an(fe),at=t(115),St=an(at),jt=t(392),Zt=an(jt),ue=t(394),ce=an(ue),It=t(254),Mt=an(It),Ut=t(347),Kt=an(Ut),wt=t(348),ye=an(wt),we=t(351),Oe=an(we),Ne=t(380),ze=an(Ne),Ue=t(265),Be=an(Ue),Je=t(379),Xe=an(Je),pn=t(141),qt=an(pn),it=t(357),Xt=an(it),te=t(40),ne=an(te),Wt=t(381),he=an(Wt),Dt=t(80),Ft=an(Dt),Yt=t(367),xt=an(Yt),Bt=t(255),Qt=an(Bt),le=t(79),ve=an(le),_e=t(350),Ae=an(_e),ge=t(177),ke=an(ge),Ke=t(373),$e=an(Ke),jn=t(262),In=an(jn),xn=t(349),Un=an(xn),cn=t(396),xr=an(cn),wr=t(374),fr=an(wr),pr=t(886),qe=an(pr),ae=t(375),Ee=an(ae),tn=t(376),sn=an(tn),on=t(67),He=an(on),Ve=t(245),yn=an(Ve),dn=t(887),_n=an(dn),gn=t(24),Hn=Zn(gn),Bn=t(73),Vn=an(Bn),tr=t(140),Qn=an(tr),er=t(383),cr=an(er),Kn=t(389),br=an(Kn),mr=t(382),dr=an(mr);function an(We){return We&&We.__esModule?We:{default:We}}function Zn(We){if(We&&We.__esModule)return We;var fn={};if(We!=null)for(var zn in We)Object.prototype.hasOwnProperty.call(We,zn)&&(fn[zn]=We[zn]);return fn.default=We,fn}var Jr={d3Array:a,d3Axis:e,d3Brush:s,d3Color:c,d3Drag:p,d3Dsv:v,d3Format:y,d3Geo:T,d3Queue:_,d3Request:C,d3Scale:P,d3Selection:R,d3Transition:M,d3Zoom:L,PIXI:F.GLOBALS.PIXI,mix:W.mix,slugid:j.default},Cr={Annotations1dTrack:V.default,Annotations2dTrack:U.default,ArrowheadDomainsTrack:st.default,BarTrack:rt.default,BedLikeTrack:tt.default,CNVIntervalTrack:Q.default,Chromosome2DAnnotations:nt.default,Chromosome2DLabels:yt.default,ChromosomeGrid:dt.default,CombinedTrack:q.default,CrossRule:J.default,DivergentBarTrack:ut.default,HeatmapTiledPixiTrack:bt.default,Horizontal1dHeatmapTrack:vt.default,Horizontal2DDomainsTrack:Rt.default,HorizontalChromosomeLabels:ee.default,HorizontalGeneAnnotationsTrack:_t.default,HorizontalHeatmapTrack:oe.default,HorizontalLine1DPixiTrack:pe.default,HorizontalMultivecTrack:se.default,HorizontalPoint1DPixiTrack:gt.default,HorizontalRule:Ct.default,HorizontalTiled1DPixiTrack:St.default,HorizontalTiledPlot:Zt.default,HorizontalTrack:ce.default,Id2DTiledPixiTrack:Mt.default,IdHorizontal1DTiledPixiTrack:Kt.default,IdVertical1DTiledPixiTrack:ye.default,LeftAxisTrack:Oe.default,MapboxTilesTrack:ze.default,MoveableTrack:Be.default,OSMTileIdsTrack:Xe.default,OSMTilesTrack:qt.default,OverlayTrack:Xt.default,PixiTrack:ne.default,RasterTilesTrack:he.default,SVGTrack:Ft.default,SquareMarkersTrack:xt.default,Tiled1DPixiTrack:Qt.default,TiledPixiTrack:ve.default,TopAxisTrack:Ae.default,Track:ke.default,ValueIntervalTrack:$e.default,VerticalRule:In.default,VerticalTiled1DPixiTrack:Un.default,VerticalTrack:xr.default,ViewportTracker2D:fr.default,ViewportTracker2DPixi:qe.default,ViewportTrackerHorizontal:Ee.default,ViewportTrackerVertical:sn.default},di={ContextMenuItem:He.default,DataFetcher:yn.default,LruCache:_n.default},de={ChromosomeInfo:Vn.default,SearchField:Qn.default},Te={DataFetcher:yn.default,GBKDataFetcher:cr.default,LocalDataFetcher:br.default,getDataFetcher:dr.default};r.default={chromosomes:de,libraries:Jr,tracks:Cr,dataFetchers:Te,factories:di,services:Hn,utils:X,configs:F,VERSION:"1.11.11"}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(5),a=E(n),l=t(3),e=E(l),o=t(4),s=E(o),u=t(6),c=E(u),m=t(14),p=E(m),h=t(7),v=E(h),x=t(26),y=E(x),k=t(40),T=E(k);function E(A){return A&&A.__esModule?A:{default:A}}var _=function(A){(0,v.default)(C,A);function C(S,P){(0,e.default)(this,C);var O=(0,c.default)(this,(C.__proto__||(0,a.default)(C)).call(this,S,P)),R=S.registerViewportChanged,I=S.removeViewportChanged,M=y.default.nice();return O.uid=M,O.removeViewportChanged=I,O.viewportXDomain=null,O.viewportYDomain=null,R(M,O.viewportChanged.bind(O)),O}return(0,s.default)(C,[{key:"viewportChanged",value:function(){function S(P,O){var R=P.domain(),I=O.domain();this.viewportXDomain=R,this.viewportYDomain=I,this.draw()}return S}()},{key:"draw",value:function(){function S(){var P=this.pMain;if(!(!this.viewportXDomain||!this.viewportYDomain)){P.clear(),P.lineStyle(1,255,1),P.beginFill(16740363,1);var O=this._xScale(this.viewportXDomain[0]),R=this._yScale(this.viewportYDomain[0]),I=this._xScale(this.viewportXDomain[1])-this._xScale(this.viewportXDomain[0]),M=this._yScale(this.viewportYDomain[1])-this._yScale(this.viewportYDomain[0]);this.pMain.drawRect(O,R,I,M)}}return S}()},{key:"zoomed",value:function(){function S(P,O){this.xScale(P),this.yScale(O),this.draw()}return S}()},{key:"setPosition",value:function(){function S(P){(0,p.default)(C.prototype.__proto__||(0,a.default)(C.prototype),"setPosition",this).call(this,P),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0],this.draw()}return S}()}]),C}(T.default);r.default=_},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(888);Object.defineProperty(r,"default",{enumerable:!0,get:function(){function l(){return a(n).default}return l}()});function a(l){return l&&l.__esModule?l:{default:l}}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(44),a=u(n),l=t(94),e=u(l),o=t(18),s=u(o);function u(C){return C&&C.__esModule?C:{default:C}}function c(C){this.size=0,this.limit=C,this._keymap={}}function m(C,S){var P={key:C,value:S};if(this._keymap[C]=P,this.tail?(this.tail.newer=P,P.older=this.tail):this.head=P,this.tail=P,this.size===this.limit)return this.shift();this.size+=1}function p(){var C=this.head;return C&&(this.head.newer?(this.head=this.head.newer,this.head.older=void 0):(this.head=void 0,this.tail=void 0),C.newer=void 0,C.older=void 0,delete this._keymap[C.key],this.size-=1),C}function h(C,S){var P=this._keymap[C];if(P!==void 0)return P===this.tail||(P.newer&&(P===this.head&&(this.head=P.newer),P.newer.older=P.older),P.older&&(P.older.newer=P.newer),P.newer=void 0,P.older=this.tail,this.tail&&(this.tail.newer=P),this.tail=P),S?P:P.value}function v(C){return this._keymap[C]}function x(C,S){var P=this.get(C,!0),O=void 0;return P?(O=P.value,P.value=S):(O=this.put(C,S),O&&(O=O.value)),O}function y(C){var S=this._keymap[C];if(S)return delete this._keymap[S.key],S.newer&&S.older?(S.older.newer=S.newer,S.newer.older=S.older):S.newer?(S.newer.older=void 0,this.head=S.newer):S.older?(S.older.newer=void 0,this.tail=S.older):(this.head=void 0,this.tail=void 0),this.size-=1,S.value}function k(){this.head=void 0,this.tail=void 0,this.size=0,this._keymap={}}function T(){return(0,s.default)(this._keymap)}function E(C,S,P){var O=void 0;if(S===!0?(P=!0,S=void 0):(typeof S>"u"?"undefined":(0,e.default)(S))!=="object"&&(S=this),P)for(O=this.tail;O;)C.call(S,O.key,O.value,this),O=O.older;else for(O=this.head;O;)C.call(S,O.key,O.value,this),O=O.newer}function _(){for(var C=[],S=this.head;S;)C.push({key:S.key.toJSON(),value:S.value.toJSON()}),S=S.newer;return C}function A(){for(var C="",S=this.head;S;)C+=String(String(S.key))+":"+String(S.value),S=S.newer,S&&(C+=" < ");return C}(0,a.default)(c.prototype,{put:m,get:h,find:v,keys:T,set:x,shift:p,remove:y,removeAll:k,forEach:E,toJSON:_,toString:A}),r.default=c},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.AVAILABLE_TRACK_TYPES=void 0;var n=t(17),a=p(n),l=t(25),e=p(l),o=t(37),s=p(o),u=t(38),c=p(u),m=t(11);function p(v){return v&&v.__esModule?v:{default:v}}var h=r.AVAILABLE_TRACK_TYPES=function(v,x){var y=(0,m.DATATYPE_TO_TRACK_TYPE)(x),k=new c.default((0,s.default)(y).flatMap(function(O){return O})),T=function(O){var R=new c.default(O);k=new c.default([].concat((0,e.default)(k)).filter(function(I){return I.datatype.filter(function(M){return R.has(M)}).length>0}))},E=!0,_=!1,A=void 0;try{for(var C=(0,a.default)(v),S;!(E=(S=C.next()).done);E=!0){var P=S.value;T(P)}}catch(O){_=!0,A=O}finally{try{!E&&C.return&&C.return()}finally{if(_)throw A}}return[].concat((0,e.default)(k))};r.default=h},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(439),a=l(n);function l(o){return o&&o.__esModule?o:{default:o}}var e=(0,a.default)(function(o,s){return o.concat(s)},[]);r.default=e},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function(a){return function(l){return Array.prototype.forEach.call(l,a)}};r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(323),a=l(n);function l(o){return o&&o.__esModule?o:{default:o}}var e=function(o,s){s.dispatchEvent((0,a.default)(o))};r.default=e},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(10),a=function(l,e){return[(0,n.chrToAbs)(l[0],l[1],e),(0,n.chrToAbs)(l[2],l[3],e)]};r.default=a},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(19),a=l(n);function l(o){return o&&o.__esModule?o:{default:o}}function e(o,s,u,c,m){var p=s.chr,h=s.pos,v=u.chr,x=u.pos,y=[];if(p===v){var k=p,T=Math.floor(h/c),E=Math.min(T+m,Math.ceil(x/c));y.push([k,T,E])}else for(var _=m,A=o.findIndex(function(D){var j=(0,a.default)(D,1),W=j[0];return W===p}),C=o.findIndex(function(D){var j=(0,a.default)(D,1),W=j[0];return W===v}),S=A;S<=C;S++){var P=void 0,O=void 0,R=(0,a.default)(o[S],2),I=R[0],M=R[1];S<C?(S===A?P=h:P=0,O=M):(P=0,O=x);var H=Math.floor(P/c),L=Math.min(H+_,Math.ceil(O/c));y.push([I,H,L]),_-=L-H}return y}r.default=e},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(11),a=function(l,e,o){if(o.length!==0){if(o.length===1)return o[0];var s=o[0],u=n.DEFAULT_TRACKS_FOR_DATATYPE[l]!==void 0?n.DEFAULT_TRACKS_FOR_DATATYPE[l][e]:void 0;return u!==void 0&&(s=o.find(function(c){return c.type===u})||s),s}};r.default=a},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(440),a=l(n);function l(o){return o&&o.__esModule?o:{default:o}}var e=function(o){return a.default.listen(),[o.clientWidth,o.clientHeight]};r.default=e},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(18),a=l(n);function l(o){return o&&o.__esModule?o:{default:o}}var e=function(o,s){var u=null,c=function m(p){return p.uid===s&&(u=p),p.type.substr(0,8)==="combined"&&p.contents.forEach(m),null};return(0,a.default)(o).map(function(m){return o[m]}).filter(function(m){return m.filter}).reduce(function(m,p){return m.concat(p)},[]).forEach(c),u};r.default=e},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(18),a=l(n);function l(o){return o&&o.__esModule?o:{default:o}}var e=function(o,s,u){var c=o.state.views,m=c[s];if(!m)return null;var p=null,h=function x(y){return y.uid===u&&(p=y),y.type.substr(0,8)==="combined"&&y.contents.forEach(x),null},v=m.tracks;return(0,a.default)(v).map(function(x){return v[x]}).filter(function(x){return x.filter}).reduce(function(x,y){return x.concat(y)},[]).forEach(h),p};r.default=e},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(37),a=l(n);function l(o){return o&&o.__esModule?o:{default:o}}var e=function(o,s,u){var c=s?o[s]:(0,a.default)(o)[0];if(!c){console.warn(s?`Could't find view with id "`+String(s)+'"':"No views available.");return}var m=c.trackRenderer.trackDefObjects[u];return m?m=m.trackObject:(0,a.default)(c.trackRenderer.trackDefObjects).map(function(p){return p.trackObject}).filter(function(p){return p.childTracks}).forEach(function(p){p.createdTracks[u]&&(m=p.createdTracks[u])}),m};r.default=e},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(443),a=l(n);function l(o){return o&&o.__esModule?o:{default:o}}var e=function(o,s){var u=null;return(0,a.default)(o,function(c,m){c.uid===s&&(u=m)}),u};r.default=e},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:100,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:100,m=document.createElement("canvas");m.width=l,m.height=e;var p=m.getContext("2d"),h=p.createLinearGradient(o,s,u,c);return a.forEach(function(v){h.addColorStop(v.from,v.color)}),p.fillStyle=h,p.fillRect(0,0,l,e),m};r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function(a,l){for(var e=a;e&&e!==l&&e.tagName!=="HTML";)e=e.parentNode;return e===l};r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function(a){return parseInt(a.replace(/^#/,""),16)};r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function(){};r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(18),a=o(n),l=t(256),e=o(l);function o(u){return u&&u.__esModule?u:{default:u}}var s=function u(c,m){return m===c?!0:m instanceof e.default?(0,a.default)(m.createdTracks).map(function(p){return m.createdTracks[p]}).some(function(p){return u(c,p)}):!1};r.default=s},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function(a,l,e,o,s,u){var c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1;return c?a>=e&&a<=o||l>=s&&l<=u:a>=e&&a<=o&&l>=s&&l<=u};r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=r.invGudermannian=function(l){return Math.log(Math.tan((l+Math.PI/2)/2))},a=function(l,e){var o=l*Math.PI/180;return o=n(o),Math.pow(2,e)*(Math.PI-o)/(2*Math.PI)};r.default=a},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(24),a=t(10),l=function(e){return(0,a.objVals)(e).map(function(o){return o.chromInfoPath}).forEach(function(o){return n.chromInfo.get(o)})};r.default=l},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function(a,l){return Math.pow(2,l)*(a+180)/360};r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function(a,l){return a>l?a:l};r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(63),a=l(n);r.default=o;function l(s){return s&&s.__esModule?s:{default:s}}var e=1e-7;function o(s){for(var u=a.default,c=0;c<s.length;c++){var m=s[c];m<e&&m>-e||m>u&&(u=m)}return u}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function(a,l){return a<l?a:l};r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(55),a=l(n);r.default=o;function l(s){return s&&s.__esModule?s:{default:s}}var e=1e-7;function o(s){for(var u=a.default,c=0;c<s.length;c++){var m=s[c];m<e&&m>-e||m<u&&(u=m)}return u}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function(a,l){return(a%l+l)%l};r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(30),a=l(n);function l(o){return o&&o.__esModule?o:{default:o}}var e=function(o,s){var u=+s,c=!(0,a.default)(u);if(c)if(o.dimension===1)for(var m=0;m<o.shape[0];++m)o.set(m,u);else for(var p=0;p<o.shape[0];++p)for(var h=0;h<o.shape[1];++h)o.set(p,h,u);else{var v=o.shape[0],x=o.shape[1],y=s.shape[0],k=s.shape[1];if(v!==y||x!==k){console.warn("Cannot assign source to target ndarray as the dimensions do not match",v,y,x,k);return}if(o.dimension===1)for(var T=0;T<o.shape[0];++T)o.set(T,s.get(T));else for(var E=0;E<o.shape[0];++E)for(var _=0;_<o.shape[1];++_)o.set(E,_,s.get(E,_))}};r.default=e},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(136),a=o(n),l=t(445),e=o(l);function o(u){return u&&u.__esModule?u:{default:u}}var s=function(u){return u.shape.length===1?u:(0,a.default)((0,e.default)(u))};r.default=s},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function(a){var l=a.split("."),e=l.slice(1).join("").length;return+l.join("")/Math.pow(10,e)};r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(18),a=e(n),l=t(10);function e(s){return s&&s.__esModule?s:{default:s}}var o=function(s){return(0,l.map)(function(u){return s[u]})((0,a.default)(s))};r.default=o},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function(a,l){return a||l};r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});function n(a){for(var l=[],e={},o={},s=0,u=0;u<a.length;u++){var c=Number(a[u][1]);s+=c;var m={id:u,chr:a[u][0],pos:s-c};l.push(m),o[m.chr]=m,e[a[u][0]]=c}return{cumPositions:l,chrPositions:o,totalLength:s,chromLengths:e}}r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=r.pixiTextToSvg=function(a){var l=document.createElement("g"),e=document.createElement("text");return a.anchor.x===0?e.setAttribute("text-anchor","start"):a.anchor.x===1?e.setAttribute("text-anchor","end"):e.setAttribute("text-anchor","middle"),e.setAttribute("font-family",a.style.fontFamily),e.setAttribute("font-size",a.style.fontSize),l.setAttribute("transform","scale("+String(a.scale.x)+",1)"),e.setAttribute("fill",a.style.fill),e.innerHTML=a.text,l.appendChild(e),l.setAttribute("transform","translate("+String(a.x)+","+String(a.y)+")scale("+String(a.scale.x)+",1)"),l};r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function(a){try{var l=a.split(".");return function(e){var o=e;return l.forEach(function(s){o=o[s]}),o}}catch{return}};r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(10),a=function(l,e,o,s,u,c){var m=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0,p=arguments.length>7&&arguments[7]!==void 0?arguments[7]:0,h=arguments[8],v=c?u:s,x=c?s:u,y=c?p:m,k=c?m:p,T=Math.max(0,+v[0]||0),E=Math.max(0,+v[1]||0),_=Math.max(0,+x[0]||0),A=Math.max(0,+x[1]||0),C=[];ArrayBuffer.isView(h)||console.warn("Not supported yet");try{for(var S=new h.constructor(h.length),P=0+k,O=_;O<A;O++)S.set(l.slice(O*e+T,O*e+E),y+P*o),P+=1;var R=c?(0,n.accessorTransposition)(o,o):void 0;C=(0,n.addArrays)(h,S,R)}catch{}return C};r.default=a},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function(a,l,e,o){return[o.chrPositions[a].pos+ +l,o.chrPositions[a].pos+ +e]};r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(221),a=l(n);function l(s){return s&&s.__esModule?s:{default:s}}var e="http://www.w3.org/2000/svg",o=function(s,u){var c=new RegExp("(\\s|^)"+String(u)+"(\\s|$)");if(s.namespaceURI===e){var m=s.getAttribute("class")||"";s.setAttribute("class",m.replace(c," "))}else s.classList?s.classList.remove(u):(0,a.default)(s,u)&&(s.className=s.className.replace(c," "))};r.default=o},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function(a,l){a.select(".selection").attr("fill",null).attr("fill-opacity",null).attr("stroke",null).classed(l,!0)};r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function(l){var e=l.toString(16);return e.length===1?"0"+String(e):e},a=function(l,e,o){return"#"+String(n(l))+String(n(e))+String(n(o))};r.default=a},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function(a,l){var e=a.invert((a.range()[0]+a.range()[1])/2),o=l.invert((l.range()[0]+l.range()[1])/2),s=a.invert(1)-a.invert(0);return[e,o,s]};r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.scalesToGenomeLoci=void 0;var n=t(25),a=o(n),l=t(326),e=o(l);function o(u){return u&&u.__esModule?u:{default:u}}var s=r.scalesToGenomeLoci=function(u,c,m){if(!(m===null||!u||!c)){var p=u.domain()[0],h=u.domain()[1],v=c.domain()[0],x=c.domain()[1];return[].concat((0,a.default)((0,e.default)(p,h,m)),(0,a.default)((0,e.default)(v,x,m)))}};r.default=s},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(134),a=t(10),l=t(11),e=11184810,o=1,s=function(c,m,p,h,v,x,y,k,T){c.publish("app.animateOnMouseMove",!0);var E=p.mousePositionColor?(0,a.hexStrToInt)(p.mousePositionColor):e,_=p.mousePositionAlpha||o,A=new l.GLOBALS.PIXI.Graphics,C=function(){A.clear()},S=function(O,R,I){if(I||C(),A.lineStyle(1,E,_),R){var M=k?v()[0]:0;A.moveTo(0,O),A.lineTo(x()[0]+M,O)}else{var H=k?v()[1]:0;A.moveTo(O,0),A.lineTo(O,x()[1]+H)}},P=function(O){if(O.noHoveredTracks)return C(),A;var R=void 0,I=void 0;O.isFromVerticalTrack?(R=O.dataY,I=O.dataY):(R=O.dataX,I=O.isFrom2dTrack?O.dataY:O.dataX);var M=k?v():[0,0],H=y()?h()[0](I)+M[1]:h()[0](R)+M[0];return S(H),k&&S(h()[1](I)+M[1],!0,!0),A};return m.push(c.subscribe("app.mouseMove",P)),m.push(c.subscribe("app.mouseLeave",C)),m.push(c.subscribe("blur",C)),T&&m.push(n.globalPubSub.subscribe("higlass.mouseMove",P)),A},u=function(c){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,h=m?c.pMasked:c.pForeground||c.pMain,v=function(){return[c.xScale(),c.yScale()]},x=s(c.pubSub,c.pubSubs,c.options,v,c.getPosition.bind(c),c.getDimensions.bind(c),c.getProp("flipText"),m,p);return h.addChild(x),function(){h.removeChild(x)}};r.default=u},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function(a){return function(l){return Array.prototype.some.call(l,a)}};r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function(a,l){return a+l};r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=r.svgLine=function(a,l,e,o,s,u){var c=document.createElement("line");return c.setAttribute("x1",a),c.setAttribute("x2",e),c.setAttribute("y1",l),c.setAttribute("y2",o),s&&c.setAttribute("stroke-width",s),u&&c.setAttribute("stroke",u),c};r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function(a,l,e){var o=void 0,s=0,u=function(){o=null},c=function(){for(var h=arguments.length,v=Array(h),x=0;x<h;x++)v[x]=arguments[x];var y=function(){s>0&&(a.apply(void 0,v),s=0)};clearTimeout(o),o=setTimeout(y,e)};c.cancel=function(){clearTimeout(o),u()},c.immediate=function(){a.apply(void 0,arguments)};var m=!1,p=function(h){for(var v=arguments.length,x=Array(v>1?v-1:0),y=1;y<v;y++)x[y-1]=arguments[y];m?s++:(a.apply(void 0,x),c.apply(void 0,x),m=!0,s=0,setTimeout(function(){m=!1},l))};return p};r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:256,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:256,o=document.createElement("canvas");o.width=l,o.height=e;var s=o.getContext("2d");s.fillStyle="transparent",s.fillRect(0,0,o.width,o.height);var u=new ImageData(a,o.width,o.height);return s.putImageData(u,0,0),o};r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(62),a=l(n);function l(o){return o&&o.__esModule?o:{default:o}}var e=function(o){return new a.default(function(s){return setTimeout(s,o)})};r.default=e},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function(a){if(!a.tracks)return 0;var l=0;return a.tracks.top&&(l+=a.tracks.top.map(function(e){return e.height}).reduce(function(e,o){return e+o},0)),a.tracks.center&&(l+=a.tracks.center.map(function(e){return e.height}).reduce(function(e,o){return e+o},0)),a.tracks.bottom&&(l+=a.tracks.bottom.map(function(e){return e.height}).reduce(function(e,o){return e+o},0)),l};r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function(a){return(a||"").replace(/\/$/,"")};r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function(a,l){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1e-6;return function(s){var u=255;return s>o&&(u=Math.max(0,Math.min(255,Math.floor(a(s+e))))),l[u]}};r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function(a){for(var l=[],e=0;e<a.length;e++)a[e].contents?l=l.concat(a[e].contents):l.push(a[e]);return l};r.default=n},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(942),a=l(n);function l(o){return o&&o.__esModule?o:{default:o}}function e(o){o.sort(function(k,T){return T.to-T.from-(k.to-k.from)});for(var s=[[]],u=[new a.default],c=0;c<o.length;c++){for(var m=!1,p=0;p<s.length;p++){var h=u[p],v=[+o[c].from,+o[c].to],x=h.intersects(v);if(!x){h.add(v),s[p].push(o[c]),m=!0;break}}if(!m){var y=new a.default;y.add([o[c].from,o[c].to]),s.push([o[c]]),u.push(y)}}return s}r.default=e},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function n(m,p,h,v){this.interval=[m,p],this.max=-1/0,this.parentNode=null,this.left=h,this.right=v}function a(){this.root=null}function l(m,p,h){var v=new n(h[0],h[1]);if(v.max=h[1],v.parentNode=m,m[p]=v,m.max<h[1])for(;v;)v.max<h[1]&&(v.max=h[1]),v=v.parentNode}function e(m,p){m.interval[0]>p[0]?m.left?e(m.left,p):l(m,"left",p):m.right?e(m.right,p):l(m,"right",p)}a.prototype.add=function(){function m(p){if(!this.root){this.root=new n(p[0],p[1]),this.root.max=p[1];return}e(this.root,p)}return m}();function o(m,p){if(!p)return!1;if(p.interval[0]<=m&&p.interval[1]>=m)return!0;var h=!1,v=void 0;return["left","right"].forEach(function(x){v=p[x],v&&v.max>m&&(h=h||o(m,v))}),h}a.prototype.contains=function(){function m(p){return o(p,this.root)}return m}();function s(m,p){return m[0]===p[0]&&m[1]===p[1]||m[0]<p[0]&&m[1]>p[0]||m[0]<p[1]&&m[1]>p[1]||p[0]<m[0]&&p[1]>m[0]||p[0]<m[1]&&p[1]>m[1]}function u(m,p){if(!p)return!1;if(s(p.interval,m))return!0;var h=!1,v=void 0;return["left","right"].forEach(function(x){v=p[x],v&&v.max>=m[0]&&(h=h||u(m,v))}),h}a.prototype.intersects=function(){function m(p){return u(p,this.root)}return m}();function c(m){return m?1+Math.max(c(m.left),c(m.right)):0}a.prototype.height=function(){function m(){return c(this.root)}return m}(),a.prototype.findMax=function(){function m(p){for(var h=[p],v=void 0,x=-1/0,y=void 0;h.length;)v=h.pop(),v.left&&h.push(v.left),v.right&&h.push(v.right),v.interval[1]>x&&(x=v.interval[1],y=v);return y}return m}(),a.prototype._removeHelper=function(){function m(p,h){if(h)if(h.interval[0]===p[0]&&h.interval[1]===p[1]){if(h.left&&h.right){for(var v=h.left;v.left;)v=v.left;var x=v.interval;v.interval=h.interval,h.interval=x,this._removeHelper(v.interval,h)}else{var y="left";h.right&&(y="right");var k=h.parentNode;k?(k.left===h?k.left=h[y]:k.right=h[y],h[y]&&(h[y].parentNode=k)):(this.root=h[y],this.root&&(this.root.parentNode=null))}var T=h.parentNode;if(T)for(var E=this.findMax(T),_=E.interval[1];E;)E.max===h.interval[1]?(E.max=_,E=E.parentNode):E=!1}else this._removeHelper(p,h.left),this._removeHelper(p,h.right)}return m}(),a.prototype.remove=function(){function m(p){return this._removeHelper(p,this.root)}return m}()},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(17),a=p(n),l=t(37),e=p(l),o=t(55),s=p(o),u=t(157),c=t(179),m=p(c);function p(R){return R&&R.__esModule?R:{default:R}}var h=function(R,I){for(var M=[],H=R;H<I;H++)M.push(H);return M},v=function(R,I){var M=R.map(function(W){return+W}).sort(function(W,B){return B-W}),H=I.range()[1]-I.range()[0],L=M.map(function(W){return(I.domain()[1]-I.domain()[0])/W}),D=L.map(function(W){return W/H}),j=D.filter(function(W){return W<1});return j.length===0?0:D.indexOf(j[j.length-1])},x=function(R,I,M,H){var L=R.range()[1]-R.range()[0],D=Math.max((M-I)/(R.domain()[1]-R.domain()[0]),1),j=384,W=Math.max(0,Math.ceil(Math.log(L/j)/Math.LN2)),B=Math.round(Math.log(D)/Math.LN2)+W,F=0;return H&&(F=Math.floor(Math.log(256)/Math.log(2)-Math.log(H)/Math.log(2))),B+=F,B},y=function(R,I,M){if(typeof M>"u"&&(M=s.default),R.resolutions){var H=v(R.resolutions,I,R.min_pos[0],R.max_pos[0]-2);return H}var L=x(I,R.min_pos[0],R.max_pos[0],R.bins_per_dimension||R.tile_size),D=Math.min(L,M);return Math.max(D,0)},k=function(R,I,M,H,L,D){var j=Math.min(R,L),W=D/Math.pow(2,j),B=1e-7;return h(Math.max(0,Math.floor((I.domain()[0]-M)/W)),Math.min(Math.pow(2,j),Math.ceil((I.domain()[1]-M-B)/W)))},T=function(R,I,M){var H=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Number.MAX_VALUE,L=arguments.length>4&&arguments[4]!==void 0?arguments[4]:256,D=1e-7,j=R*L,W=20,B=Math.max(0,Math.floor((I.domain()[0]-M)/j)),F=Math.ceil(Math.min(H,I.domain()[1]-M-D)/j),N=h(B,F);return N.length>W&&(console.warn("Too many visible tiles: "+String(N.length)+" truncating to "+W),N=N.slice(0,W)),N},E=function(R,I){if(!R)return[];var M=y(R,I,R.max_zoom);if(R.resolutions){var H=R.resolutions.map(function(B){return+B}).sort(function(B,F){return F-B}),L=T(H[M],I,R.min_pos[0],R.max_pos[0]),D=L.map(function(B){return[M,B]});return D}var j=k(M,I,R.min_pos[0],R.max_pos[0],R.max_zoom,R.max_width),W=j.map(function(B){return[M,B]});return W},_=function(R,I){if(R.axis||(R.axis=new m.default(R),R.pBase.addChild(R.axis.pAxis)),!R.options.axisPositionVertical&&!R.options.axisPositionHorizontal){R.axis.clearAxis();return}if(R.options.axisPositionVertical&&R.options.axisPositionVertical==="hidden"){R.axis.clearAxis();return}if(R.options.axisPositionHorizontal&&R.options.axisPositionHorizontal==="hidden"){R.axis.clearAxis();return}var M=R.options.axisMargin||0;R.options.axisPositionHorizontal==="left"||R.options.axisPositionVertical==="top"?(R.axis.pAxis.position.x=R.position[0]+M,R.axis.pAxis.position.y=R.position[1],R.axis.drawAxisRight(I,R.dimensions[1])):R.options.axisPositionHorizontal==="outsideLeft"||R.options.axisPositionVertical==="outsideTop"?(R.axis.pAxis.position.x=R.position[0]+M,R.axis.pAxis.position.y=R.position[1],R.axis.drawAxisLeft(I,R.dimensions[1])):R.options.axisPositionHorizontal==="right"||R.options.axisPositionVertical==="bottom"?(R.axis.pAxis.position.x=R.position[0]+R.dimensions[0]-M,R.axis.pAxis.position.y=R.position[1],R.axis.drawAxisLeft(I,R.dimensions[1])):(R.options.axisPositionHorizontal==="outsideRight"||R.options.axisPositionVertical==="outsideBottom")&&(R.axis.pAxis.position.x=R.position[0]+R.dimensions[0]-M,R.axis.pAxis.position.y=R.position[1],R.axis.drawAxisRight(I,R.dimensions[1]))},A=function(R,I){var M=R.valueScaleTransform,H=M.y,L=M.k,D=R.dimensions[1];H+I/L>-(L-1)*D&&H+I/L<0&&(R.valueScaleTransform=M.translate(0,I/L)),(0,e.default)(R.fetchedTiles).forEach(function(j){j.graphics.position.y=R.valueScaleTransform.y}),R.animate()},C=function(R,I,M,H){var L=M.k,D=M.y,j=(R-D)/L,W=Math.max(L/I,1),B=L*j+D-W*j;return B=Math.max(B,-(W-1)*H),B=Math.min(B,0),u.zoomIdentity.translate(0,B).scale(W)},S=function(R,I){var M=+I.split(".")[0],H=+I.split(".")[1],L=R.max_width,D=R.min_pos[0],j=L/Math.pow(2,M),W=D+H*j;return{tileX:W,tileWidth:j}};function P(R,I){(0,e.default)(R.fetchedTiles).forEach(function(M){if(M.drawnAtScale){var H=M.drawnAtScale.range(),L=R._xScale.range();if(H[0]!==L[0]||H[1]!==L[1]){R.renderTile(M);return}var D=(M.drawnAtScale.domain()[1]-M.drawnAtScale.domain()[0])/(R._xScale.domain()[1]-R._xScale.domain()[0]);if(D>2||D<.5)R.renderTile(M);else{var j=R._xScale.domain().map(M.drawnAtScale),W=j[0],B=!0,F=!1,N=void 0;try{for(var X=(0,a.default)(I),G;!(B=(G=X.next()).done);B=!0){var V=G.value;V(M).scale.x=D,V(M).x=-W*D}}catch(z){F=!0,N=z}finally{try{!B&&X.return&&X.return()}finally{if(F)throw N}}}}})}var O={calculate1DVisibleTiles:E,calculate1DZoomLevel:y,drawAxis:_,movedY:A,getTilePosAndDimensions:S,stretchRects:P,zoomedY:C};r.default=O},function(f,r,t){(function(n){Object.defineProperty(r,"__esModule",{value:!0}),r.removeHGComponent=r.mountHGComponent=r.waitForTilesLoaded=r.isWaitingOnTiles=r.waitForJsonComplete=r.waitForTransitionsFinished=r.areTransitionsActive=r.changeOptions=void 0;var a=t(34),l=k(a),e=t(17),o=k(e),s=t(1),u=k(s),c=t(42),m=k(c),p=t(945),h=t(24),v=t(446),x=t(232),y=k(x);function k(S){return S&&S.__esModule?S:{default:S}}var T=100;r.changeOptions=function(S,P,O,R){var I=!0,M=!1,H=void 0;try{for(var L=(0,o.default)(S.instance().iterateOverTracks()),D;!(I=(D=L.next()).done);I=!0){var j=D.value,W=j.viewId,B=j.trackId,F=j.track;W===P&&B===O&&(F.options=(0,l.default)({},F.options,R))}}catch(N){M=!0,H=N}finally{try{!I&&L.return&&L.return()}finally{if(M)throw H}}S.setState(S.instance().state)};var E=r.areTransitionsActive=function(S){var P=!0,O=!1,R=void 0;try{for(var I=(0,o.default)(S.iterateOverTracks()),M;!(P=(M=I.next()).done);P=!0){var H=M.value,L=(0,v.getTrackRenderer)(S,H.viewId,H.trackId);if(L.activeTransitions>0)return!0}}catch(D){O=!0,R=D}finally{try{!P&&I.return&&I.return()}finally{if(O)throw R}}return!1};r.waitForTransitionsFinished=function S(P,O){E(P)?setTimeout(function(){S(P,O)},T):O()};var _=r.waitForJsonComplete=function S(P){h.requestsInFlight>0?setTimeout(function(){return S(P)},T):P()},A=r.isWaitingOnTiles=function(S){var P=!0,O=!1,R=void 0;try{for(var I=(0,o.default)(S.iterateOverTracks()),M;!(P=(M=I.next()).done);P=!0){var H=M.value,L=(0,v.getTrackObjectFromHGC)(S,H.viewId,H.trackId);if(!(!H.track.server&&!H.track.tilesetUid&&!(H.track.data&&H.track.data.type==="divided")))if(H.track.data&&H.track.data.type==="divided"||H.track.server&&H.track.tilesetUid){if(L.originalTrack&&(L=L.originalTrack),!(L.tilesetInfo||L.chromInfo)||L.fetching&&L.fetching.size)return!0}else throw Error('"server" and "tilesetUid" belong together')}}catch(D){O=!0,R=D}finally{try{!P&&I.return&&I.return()}finally{if(O)throw R}}return!1},C=r.waitForTilesLoaded=function S(P,O){A(P)?setTimeout(function(){S(P,O)},T):O()};r.mountHGComponent=function(S,P,O,R,I){P&&(P.unmount(),P.detach()),S&&n.document.body.removeChild(S);var M=I&&I.style||"width:800px; background-color: lightgreen;",H=I&&I.bounded||!1,L=n.document.createElement("div");n.document.body.appendChild(L),L.setAttribute("style",M),L.setAttribute("id","simple-hg-component");var D=(0,p.mount)(u.default.createElement(y.default,{options:{bounded:H},viewConfig:O}),{attachTo:L});return D.update(),_(function(){if(I&&I.extendedDelay){var j=function(){return setTimeout(function(){R()},1e3)};C(D.instance(),j)}else C(D.instance(),R)}),[L,D]},r.removeHGComponent=function(S){S&&(m.default.unmountComponentAtNode(S),document.body.removeChild(S))}}).call(this,t(27))},function(f,r,t){var n=t(447),a=y(n),l=t(515),e=y(l),o=t(510),s=y(o),u=t(1074),c=y(u),m=t(1075),p=y(m),h=t(1076),v=y(h),x=t(315);function y(k){return k&&k.__esModule?k:{default:k}}f.exports={render:v.default,shallow:p.default,mount:c.default,ShallowWrapper:e.default,ReactWrapper:a.default,configure:x.merge,EnzymeAdapter:s.default}},function(f,r,t){var n;if(!Object.keys){var a=Object.prototype.hasOwnProperty,l=Object.prototype.toString,e=t(448),o=Object.prototype.propertyIsEnumerable,s=!o.call({toString:null},"toString"),u=o.call(function(){},"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],m=function(x){var y=x.constructor;return y&&y.prototype===x},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if(typeof window>"u")return!1;for(var x in window)try{if(!p["$"+x]&&a.call(window,x)&&window[x]!==null&&typeof window[x]=="object")try{m(window[x])}catch{return!0}}catch{return!0}return!1}(),v=function(x){if(typeof window>"u"||!h)return m(x);try{return m(x)}catch{return!1}};n=function(x){var y=x!==null&&typeof x=="object",k=l.call(x)==="[object Function]",T=e(x),E=y&&l.call(x)==="[object String]",_=[];if(!y&&!k&&!T)throw new TypeError("Object.keys called on a non-object");var A=u&&k;if(E&&x.length>0&&!a.call(x,0))for(var C=0;C<x.length;++C)_.push(String(C));if(T&&x.length>0)for(var S=0;S<x.length;++S)_.push(String(S));else for(var P in x)!(A&&P==="prototype")&&a.call(x,P)&&_.push(String(P));if(s)for(var O=v(x),R=0;R<c.length;++R)!(O&&c[R]==="constructor")&&a.call(x,c[R])&&_.push(c[R]);return _}}f.exports=n},function(f,r,t){var n="Function.prototype.bind called on incompatible ",a=Array.prototype.slice,l=Object.prototype.toString,e="[object Function]";f.exports=function(o){var s=this;if(typeof s!="function"||l.call(s)!==e)throw new TypeError(n+s);for(var u=a.call(arguments,1),c,m=function(){if(this instanceof c){var y=s.apply(this,u.concat(a.call(arguments)));return Object(y)===y?y:this}else return s.apply(o,u.concat(a.call(arguments)))},p=Math.max(0,s.length-u.length),h=[],v=0;v<p;v++)h.push("$"+v);if(c=Function("binder","return function ("+h.join(",")+"){ return binder.apply(this,arguments); }")(m),s.prototype){var x=function(){};x.prototype=s.prototype,c.prototype=new x,x.prototype=null}return c}},function(f,r,t){var n=t(52),a=t(451);f.exports=function(){var l=a();return n(Object,{assign:l},{assign:function(){return Object.assign!==l}}),l}},function(f){f.exports={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}},function(f,r,t){var n=t(458),a=f.exports=Object.create(n),l={tagName:"name"};Object.keys(l).forEach(function(e){var o=l[e];Object.defineProperty(a,e,{get:function(){return this[o]||null},set:function(s){return this[o]=s,s}})})},function(f,r,t){var n=t(457),a=t(101);function l(m,p){this.init(m,p)}t(58)(l,n),l.prototype.init=n;function e(m,p){return a.getElementsByTagName(m,p,!0)}function o(m,p){return a.getElementsByTagName(m,p,!0,1)[0]}function s(m,p,h){return a.getText(a.getElementsByTagName(m,p,h,1)).trim()}function u(m,p,h,v,x){var y=s(h,v,x);y&&(m[p]=y)}var c=function(m){return m==="rss"||m==="feed"||m==="rdf:RDF"};l.prototype.onend=function(){var m={},p=o(c,this.dom),h,v;p&&(p.name==="feed"?(v=p.children,m.type="atom",u(m,"id","id",v),u(m,"title","title",v),(h=o("link",v))&&(h=h.attribs)&&(h=h.href)&&(m.link=h),u(m,"description","subtitle",v),(h=s("updated",v))&&(m.updated=new Date(h)),u(m,"author","email",v,!0),m.items=e("entry",v).map(function(x){var y={},k;return x=x.children,u(y,"id","id",x),u(y,"title","title",x),(k=o("link",x))&&(k=k.attribs)&&(k=k.href)&&(y.link=k),(k=s("summary",x)||s("content",x))&&(y.description=k),(k=s("updated",x))&&(y.pubDate=new Date(k)),y})):(v=o("channel",p.children).children,m.type=p.name.substr(0,3),m.id="",u(m,"title","title",v),u(m,"link","link",v),u(m,"description","description",v),(h=s("lastBuildDate",v))&&(m.updated=new Date(h)),u(m,"author","managingEditor",v,!0),m.items=e("item",p.children).map(function(x){var y={},k;return x=x.children,u(y,"id","guid",x),u(y,"title","title",x),u(y,"link","link",x),u(y,"description","description",x),(k=s("pubDate",x))&&(y.pubDate=new Date(k)),y}))),this.dom=m,n.prototype._handleCallback.call(this,p?null:Error("couldn't find root of feed"))},f.exports=l},function(f,r,t){var n=t(123),a=t(299),l=n.isTag;f.exports={getInnerHTML:e,getOuterHTML:a,getText:o};function e(s,u){return s.children?s.children.map(function(c){return a(c,u)}).join(""):""}function o(s){return Array.isArray(s)?s.map(o).join(""):l(s)||s.type===n.CDATA?o(s.children):s.type===n.Text?s.data:""}},function(f,r,t){var n=t(954),a=t(955);r.decode=function(l,e){return(!e||e<=0?a.XML:a.HTML)(l)},r.decodeStrict=function(l,e){return(!e||e<=0?a.XML:a.HTMLStrict)(l)},r.encode=function(l,e){return(!e||e<=0?n.XML:n.HTML)(l)},r.encodeXML=n.XML,r.encodeHTML4=r.encodeHTML5=r.encodeHTML=n.HTML,r.decodeXML=r.decodeXMLStrict=a.XML,r.decodeHTML4=r.decodeHTML5=r.decodeHTML=a.HTML,r.decodeHTML4Strict=r.decodeHTML5Strict=r.decodeHTMLStrict=a.HTMLStrict,r.escape=n.escape},function(f,r,t){var n=o(t(298)),a=s(n);r.XML=h(n,a);var l=o(t(297)),e=s(l);r.HTML=h(l,e);function o(y){return Object.keys(y).sort().reduce(function(k,T){return k[y[T]]="&"+T+";",k},{})}function s(y){var k=[],T=[];return Object.keys(y).forEach(function(E){E.length===1?k.push("\\"+E):T.push(E)}),T.unshift("["+k.join("")+"]"),new RegExp(T.join("|"),"g")}var u=/[^\0-\x7F]/g,c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function m(y){return"&#x"+y.charCodeAt(0).toString(16).toUpperCase()+";"}function p(y){var k=y.charCodeAt(0),T=y.charCodeAt(1),E=(k-55296)*1024+T-56320+65536;return"&#x"+E.toString(16).toUpperCase()+";"}function h(y,k){function T(E){return y[E]}return function(E){return E.replace(k,T).replace(c,p).replace(u,m)}}var v=s(n);function x(y){return y.replace(v,m).replace(c,p).replace(u,m)}r.escape=x},function(f,r,t){var n=t(297),a=t(456),l=t(298),e=t(455),o=u(l),s=u(n);function u(h){var v=Object.keys(h).join("|"),x=p(h);v+="|#[xX][\\da-fA-F]+|#\\d+";var y=new RegExp("&(?:"+v+");","g");return function(k){return String(k).replace(y,x)}}var c=function(){for(var h=Object.keys(a).sort(m),v=Object.keys(n).sort(m),x=0,y=0;x<v.length;x++)h[y]===v[x]?(v[x]+=";?",y++):v[x]+=";";var k=new RegExp("&(?:"+v.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),T=p(n);function E(_){return _.substr(-1)!==";"&&(_+=";"),T(_)}return function(_){return String(_).replace(k,E)}}();function m(h,v){return h<v?1:-1}function p(h){return function(v){return v.charAt(1)==="#"?v.charAt(2)==="X"||v.charAt(2)==="x"?e(parseInt(v.substr(3),16)):e(parseInt(v.substr(2),10)):h[v.slice(1,-1)]}}f.exports={XML:o,HTML:c,HTMLStrict:s}},function(f,r){var t=r.getChildren=function(a){return a.children},n=r.getParent=function(a){return a.parent};r.getSiblings=function(a){var l=n(a);return l?t(l):[a]},r.getAttributeValue=function(a,l){return a.attribs&&a.attribs[l]},r.hasAttrib=function(a,l){return!!a.attribs&&hasOwnProperty.call(a.attribs,l)},r.getName=function(a){return a.name}},function(f,r){r.removeElement=function(t){if(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.parent){var n=t.parent.children;n.splice(n.lastIndexOf(t),1)}},r.replaceElement=function(t,n){var a=n.prev=t.prev;a&&(a.next=n);var l=n.next=t.next;l&&(l.prev=n);var e=n.parent=t.parent;if(e){var o=e.children;o[o.lastIndexOf(t)]=n}},r.appendChild=function(t,n){if(n.parent=t,t.children.push(n)!==1){var a=t.children[t.children.length-2];a.next=n,n.prev=a,n.next=null}},r.append=function(t,n){var a=t.parent,l=t.next;if(n.next=l,n.prev=t,t.next=n,n.parent=a,l){if(l.prev=n,a){var e=a.children;e.splice(e.lastIndexOf(l),0,n)}}else a&&a.children.push(n)},r.prepend=function(t,n){var a=t.parent;if(a){var l=a.children;l.splice(l.lastIndexOf(t),0,n)}t.prev&&(t.prev.next=n),n.parent=a,n.prev=t.prev,n.next=t,t.prev=n}},function(f,r,t){var n=t(123).isTag;f.exports={filter:a,find:l,findOneChild:e,findOne:o,existsOne:s,findAll:u};function a(c,m,p,h){return Array.isArray(m)||(m=[m]),(typeof h!="number"||!isFinite(h))&&(h=1/0),l(c,m,p!==!1,h)}function l(c,m,p,h){for(var v=[],x,y=0,k=m.length;y<k&&!(c(m[y])&&(v.push(m[y]),--h<=0)||(x=m[y].children,p&&x&&x.length>0&&(x=l(c,x,p,h),v=v.concat(x),h-=x.length,h<=0)));y++);return v}function e(c,m){for(var p=0,h=m.length;p<h;p++)if(c(m[p]))return m[p];return null}function o(c,m){for(var p=null,h=0,v=m.length;h<v&&!p;h++)if(n(m[h]))c(m[h])?p=m[h]:m[h].children.length>0&&(p=o(c,m[h].children));else continue;return p}function s(c,m){for(var p=0,h=m.length;p<h;p++)if(n(m[p])&&(c(m[p])||m[p].children.length>0&&s(c,m[p].children)))return!0;return!1}function u(c,m){for(var p=[],h=0,v=m.length;h<v;h++)n(m[h])&&(c(m[h])&&p.push(m[h]),m[h].children.length>0&&(p=p.concat(u(c,m[h].children))));return p}},function(f,r,t){var n=t(123),a=r.isTag=n.isTag;r.testElement=function(s,u){for(var c in s)if(s.hasOwnProperty(c)){if(c==="tag_name"){if(!a(u)||!s.tag_name(u.name))return!1}else if(c==="tag_type"){if(!s.tag_type(u.type))return!1}else if(c==="tag_contains"){if(a(u)||!s.tag_contains(u.data))return!1}else if(!u.attribs||!s[c](u.attribs[c]))return!1}return!0};var l={tag_name:function(s){return typeof s=="function"?function(u){return a(u)&&s(u.name)}:s==="*"?a:function(u){return a(u)&&u.name===s}},tag_type:function(s){return typeof s=="function"?function(u){return s(u.type)}:function(u){return u.type===s}},tag_contains:function(s){return typeof s=="function"?function(u){return!a(u)&&s(u.data)}:function(u){return!a(u)&&u.data===s}}};function e(s,u){return typeof u=="function"?function(c){return c.attribs&&u(c.attribs[s])}:function(c){return c.attribs&&c.attribs[s]===u}}function o(s,u){return function(c){return s(c)||u(c)}}r.getElements=function(s,u,c,m){var p=Object.keys(s).map(function(h){var v=s[h];return h in l?l[h](v):e(h,v)});return p.length===0?[]:this.filter(p.reduce(o),u,c,m)},r.getElementById=function(s,u,c){return Array.isArray(u)||(u=[u]),this.findOne(e("id",s),u,c!==!1)},r.getElementsByTagName=function(s,u,c,m){return this.filter(l.tag_name(s),u,c,m)},r.getElementsByTagType=function(s,u,c,m){return this.filter(l.tag_type(s),u,c,m)}},function(f,r){r.removeSubsets=function(a){for(var l=a.length,e,o,s;--l>-1;){for(e=o=a[l],a[l]=null,s=!0;o;){if(a.indexOf(o)>-1){s=!1,a.splice(l,1);break}o=o.parent}s&&(a[l]=e)}return a};var t={DISCONNECTED:1,PRECEDING:2,FOLLOWING:4,CONTAINS:8,CONTAINED_BY:16},n=r.compareDocumentPosition=function(a,l){var e=[],o=[],s,u,c,m,p,h;if(a===l)return 0;for(s=a;s;)e.unshift(s),s=s.parent;for(s=l;s;)o.unshift(s),s=s.parent;for(h=0;e[h]===o[h];)h++;return h===0?t.DISCONNECTED:(u=e[h-1],c=u.children,m=e[h],p=o[h],c.indexOf(m)>c.indexOf(p)?u===l?t.FOLLOWING|t.CONTAINED_BY:t.FOLLOWING:u===a?t.PRECEDING|t.CONTAINS:t.PRECEDING)};r.uniqueSort=function(a){var l=a.length,e,o;for(a=a.slice();--l>-1;)e=a[l],o=a.indexOf(e),o>-1&&o<l&&a.splice(l,1);return a.sort(function(s,u){var c=n(s,u);return c&t.PRECEDING?-1:c&t.FOLLOWING?1:0}),a}},function(f,r,t){f.exports=a;var n=t(459);function a(o){n.call(this,new l(this),o)}t(58)(a,n),a.prototype.readable=!0;function l(o){this.scope=o}var e=t(148).EVENTS;Object.keys(e).forEach(function(o){if(e[o]===0)l.prototype["on"+o]=function(){this.scope.emit(o)};else if(e[o]===1)l.prototype["on"+o]=function(s){this.scope.emit(o,s)};else if(e[o]===2)l.prototype["on"+o]=function(s,u){this.scope.emit(o,s,u)};else throw Error("wrong number of arguments!")})},function(f,r){},function(f,r,t){f.exports=n;function n(l){this._cbs=l||{}}var a=t(148).EVENTS;Object.keys(a).forEach(function(l){if(a[l]===0)l="on"+l,n.prototype[l]=function(){this._cbs[l]&&this._cbs[l]()};else if(a[l]===1)l="on"+l,n.prototype[l]=function(e){this._cbs[l]&&this._cbs[l](e)};else if(a[l]===2)l="on"+l,n.prototype[l]=function(e,o){this._cbs[l]&&this._cbs[l](e,o)};else throw Error("wrong number of arguments")})},function(f,r,t){f.exports=n;function n(l){this._cbs=l||{},this.events=[]}var a=t(148).EVENTS;Object.keys(a).forEach(function(l){if(a[l]===0)l="on"+l,n.prototype[l]=function(){this.events.push([l]),this._cbs[l]&&this._cbs[l]()};else if(a[l]===1)l="on"+l,n.prototype[l]=function(e){this.events.push([l,e]),this._cbs[l]&&this._cbs[l](e)};else if(a[l]===2)l="on"+l,n.prototype[l]=function(e,o){this.events.push([l,e,o]),this._cbs[l]&&this._cbs[l](e,o)};else throw Error("wrong number of arguments")}),n.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},n.prototype.restart=function(){this._cbs.onreset&&this._cbs.onreset();for(var l=0,e=this.events.length;l<e;l++)if(this._cbs[this.events[l][0]]){var o=this.events[l].length;o===1?this._cbs[this.events[l][0]]():o===2?this._cbs[this.events[l][0]](this.events[l][1]):this._cbs[this.events[l][0]](this.events[l][1],this.events[l][2])}}},function(f,r,t){var n=t(460),a=t(464);r.parse=function(l,e){var o=new n(e);return o.parse(l)},r.parseFragment=function(l,e,o){typeof l=="string"&&(o=e,e=l,l=null);var s=new n(o);return s.parseFragment(e,l)},r.serialize=function(l,e){var o=new a(l,e);return o.serialize()},r.treeAdapters={default:t(301),htmlparser2:t(973)},r.ParserStream=t(465),r.PlainTextConversionStream=t(985),r.SerializerStream=t(986),r.SAXParser=t(987)},function(f,r,t){var n=t(149),a=n.CODE_POINTS;function l(u,c){return u>=55296&&u<=56319&&c>=56320&&c<=57343}function e(u,c){return(u-55296)*1024+9216+c}var o=65536,s=f.exports=function(){this.html=null,this.pos=-1,this.lastGapPos=-1,this.lastCharPos=-1,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=o};s.prototype.dropParsedChunk=function(){this.pos>this.bufferWaterline&&(this.lastCharPos-=this.pos,this.html=this.html.substring(this.pos),this.pos=0,this.lastGapPos=-1,this.gapStack=[])},s.prototype._addGap=function(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos},s.prototype._processHighRangeCodePoint=function(u){if(this.pos!==this.lastCharPos){var c=this.html.charCodeAt(this.pos+1);l(u,c)&&(this.pos++,u=e(u,c),this._addGap())}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,a.EOF;return u},s.prototype.write=function(u,c){this.html?this.html+=u:this.html=u,this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1,this.lastChunkWritten=c},s.prototype.insertHtmlAtCurrentPos=function(u){this.html=this.html.substring(0,this.pos+1)+u+this.html.substring(this.pos+1,this.html.length),this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1},s.prototype.advance=function(){if(this.pos++,this.pos>this.lastCharPos)return this.lastChunkWritten||(this.endOfChunkHit=!0),a.EOF;var u=this.html.charCodeAt(this.pos);return this.skipNextNewLine&&u===a.LINE_FEED?(this.skipNextNewLine=!1,this._addGap(),this.advance()):u===a.CARRIAGE_RETURN?(this.skipNextNewLine=!0,a.LINE_FEED):(this.skipNextNewLine=!1,u>=55296?this._processHighRangeCodePoint(u):u)},s.prototype.retreat=function(){this.pos===this.lastGapPos&&(this.lastGapPos=this.gapStack.pop(),this.pos--),this.pos--}},function(f,r,t){f.exports=new Uint16Array([4,52,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,106,303,412,810,1432,1701,1796,1987,2114,2360,2420,2484,3170,3251,4140,4393,4575,4610,5106,5512,5728,6117,6274,6315,6345,6427,6516,7002,7910,8733,9323,9870,10170,10631,10893,11318,11386,11467,12773,13092,14474,14922,15448,15542,16419,17666,18166,18611,19004,19095,19298,19397,4,16,69,77,97,98,99,102,103,108,109,110,111,112,114,115,116,117,140,150,158,169,176,194,199,210,216,222,226,242,256,266,283,294,108,105,103,5,198,1,59,148,1,198,80,5,38,1,59,156,1,38,99,117,116,101,5,193,1,59,167,1,193,114,101,118,101,59,1,258,4,2,105,121,182,191,114,99,5,194,1,59,189,1,194,59,1,1040,114,59,3,55349,56580,114,97,118,101,5,192,1,59,208,1,192,112,104,97,59,1,913,97,99,114,59,1,256,100,59,1,10835,4,2,103,112,232,237,111,110,59,1,260,102,59,3,55349,56632,112,108,121,70,117,110,99,116,105,111,110,59,1,8289,105,110,103,5,197,1,59,264,1,197,4,2,99,115,272,277,114,59,3,55349,56476,105,103,110,59,1,8788,105,108,100,101,5,195,1,59,292,1,195,109,108,5,196,1,59,301,1,196,4,8,97,99,101,102,111,114,115,117,321,350,354,383,388,394,400,405,4,2,99,114,327,336,107,115,108,97,115,104,59,1,8726,4,2,118,119,342,345,59,1,10983,101,100,59,1,8966,121,59,1,1041,4,3,99,114,116,362,369,379,97,117,115,101,59,1,8757,110,111,117,108,108,105,115,59,1,8492,97,59,1,914,114,59,3,55349,56581,112,102,59,3,55349,56633,101,118,101,59,1,728,99,114,59,1,8492,109,112,101,113,59,1,8782,4,14,72,79,97,99,100,101,102,104,105,108,111,114,115,117,442,447,456,504,542,547,569,573,577,616,678,784,790,796,99,121,59,1,1063,80,89,5,169,1,59,454,1,169,4,3,99,112,121,464,470,497,117,116,101,59,1,262,4,2,59,105,476,478,1,8914,116,97,108,68,105,102,102,101,114,101,110,116,105,97,108,68,59,1,8517,108,101,121,115,59,1,8493,4,4,97,101,105,111,514,520,530,535,114,111,110,59,1,268,100,105,108,5,199,1,59,528,1,199,114,99,59,1,264,110,105,110,116,59,1,8752,111,116,59,1,266,4,2,100,110,553,560,105,108,108,97,59,1,184,116,101,114,68,111,116,59,1,183,114,59,1,8493,105,59,1,935,114,99,108,101,4,4,68,77,80,84,591,596,603,609,111,116,59,1,8857,105,110,117,115,59,1,8854,108,117,115,59,1,8853,105,109,101,115,59,1,8855,111,4,2,99,115,623,646,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8754,101,67,117,114,108,121,4,2,68,81,658,671,111,117,98,108,101,81,117,111,116,101,59,1,8221,117,111,116,101,59,1,8217,4,4,108,110,112,117,688,701,736,753,111,110,4,2,59,101,696,698,1,8759,59,1,10868,4,3,103,105,116,709,717,722,114,117,101,110,116,59,1,8801,110,116,59,1,8751,111,117,114,73,110,116,101,103,114,97,108,59,1,8750,4,2,102,114,742,745,59,1,8450,111,100,117,99,116,59,1,8720,110,116,101,114,67,108,111,99,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8755,111,115,115,59,1,10799,99,114,59,3,55349,56478,112,4,2,59,67,803,805,1,8915,97,112,59,1,8781,4,11,68,74,83,90,97,99,101,102,105,111,115,834,850,855,860,865,888,903,916,921,1011,1415,4,2,59,111,840,842,1,8517,116,114,97,104,100,59,1,10513,99,121,59,1,1026,99,121,59,1,1029,99,121,59,1,1039,4,3,103,114,115,873,879,883,103,101,114,59,1,8225,114,59,1,8609,104,118,59,1,10980,4,2,97,121,894,900,114,111,110,59,1,270,59,1,1044,108,4,2,59,116,910,912,1,8711,97,59,1,916,114,59,3,55349,56583,4,2,97,102,927,998,4,2,99,109,933,992,114,105,116,105,99,97,108,4,4,65,68,71,84,950,957,978,985,99,117,116,101,59,1,180,111,4,2,116,117,964,967,59,1,729,98,108,101,65,99,117,116,101,59,1,733,114,97,118,101,59,1,96,105,108,100,101,59,1,732,111,110,100,59,1,8900,102,101,114,101,110,116,105,97,108,68,59,1,8518,4,4,112,116,117,119,1021,1026,1048,1249,102,59,3,55349,56635,4,3,59,68,69,1034,1036,1041,1,168,111,116,59,1,8412,113,117,97,108,59,1,8784,98,108,101,4,6,67,68,76,82,85,86,1065,1082,1101,1189,1211,1236,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8751,111,4,2,116,119,1089,1092,59,1,168,110,65,114,114,111,119,59,1,8659,4,2,101,111,1107,1141,102,116,4,3,65,82,84,1117,1124,1136,114,114,111,119,59,1,8656,105,103,104,116,65,114,114,111,119,59,1,8660,101,101,59,1,10980,110,103,4,2,76,82,1149,1177,101,102,116,4,2,65,82,1158,1165,114,114,111,119,59,1,10232,105,103,104,116,65,114,114,111,119,59,1,10234,105,103,104,116,65,114,114,111,119,59,1,10233,105,103,104,116,4,2,65,84,1199,1206,114,114,111,119,59,1,8658,101,101,59,1,8872,112,4,2,65,68,1218,1225,114,114,111,119,59,1,8657,111,119,110,65,114,114,111,119,59,1,8661,101,114,116,105,99,97,108,66,97,114,59,1,8741,110,4,6,65,66,76,82,84,97,1264,1292,1299,1352,1391,1408,114,114,111,119,4,3,59,66,85,1276,1278,1283,1,8595,97,114,59,1,10515,112,65,114,114,111,119,59,1,8693,114,101,118,101,59,1,785,101,102,116,4,3,82,84,86,1310,1323,1334,105,103,104,116,86,101,99,116,111,114,59,1,10576,101,101,86,101,99,116,111,114,59,1,10590,101,99,116,111,114,4,2,59,66,1345,1347,1,8637,97,114,59,1,10582,105,103,104,116,4,2,84,86,1362,1373,101,101,86,101,99,116,111,114,59,1,10591,101,99,116,111,114,4,2,59,66,1384,1386,1,8641,97,114,59,1,10583,101,101,4,2,59,65,1399,1401,1,8868,114,114,111,119,59,1,8615,114,114,111,119,59,1,8659,4,2,99,116,1421,1426,114,59,3,55349,56479,114,111,107,59,1,272,4,16,78,84,97,99,100,102,103,108,109,111,112,113,115,116,117,120,1466,1470,1478,1489,1515,1520,1525,1536,1544,1593,1609,1617,1650,1664,1668,1677,71,59,1,330,72,5,208,1,59,1476,1,208,99,117,116,101,5,201,1,59,1487,1,201,4,3,97,105,121,1497,1503,1512,114,111,110,59,1,282,114,99,5,202,1,59,1510,1,202,59,1,1069,111,116,59,1,278,114,59,3,55349,56584,114,97,118,101,5,200,1,59,1534,1,200,101,109,101,110,116,59,1,8712,4,2,97,112,1550,1555,99,114,59,1,274,116,121,4,2,83,86,1563,1576,109,97,108,108,83,113,117,97,114,101,59,1,9723,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9643,4,2,103,112,1599,1604,111,110,59,1,280,102,59,3,55349,56636,115,105,108,111,110,59,1,917,117,4,2,97,105,1624,1640,108,4,2,59,84,1631,1633,1,10869,105,108,100,101,59,1,8770,108,105,98,114,105,117,109,59,1,8652,4,2,99,105,1656,1660,114,59,1,8496,109,59,1,10867,97,59,1,919,109,108,5,203,1,59,1675,1,203,4,2,105,112,1683,1689,115,116,115,59,1,8707,111,110,101,110,116,105,97,108,69,59,1,8519,4,5,99,102,105,111,115,1713,1717,1722,1762,1791,121,59,1,1060,114,59,3,55349,56585,108,108,101,100,4,2,83,86,1732,1745,109,97,108,108,83,113,117,97,114,101,59,1,9724,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9642,4,3,112,114,117,1770,1775,1781,102,59,3,55349,56637,65,108,108,59,1,8704,114,105,101,114,116,114,102,59,1,8497,99,114,59,1,8497,4,12,74,84,97,98,99,100,102,103,111,114,115,116,1822,1827,1834,1848,1855,1877,1882,1887,1890,1896,1978,1984,99,121,59,1,1027,5,62,1,59,1832,1,62,109,109,97,4,2,59,100,1843,1845,1,915,59,1,988,114,101,118,101,59,1,286,4,3,101,105,121,1863,1869,1874,100,105,108,59,1,290,114,99,59,1,284,59,1,1043,111,116,59,1,288,114,59,3,55349,56586,59,1,8921,112,102,59,3,55349,56638,101,97,116,101,114,4,6,69,70,71,76,83,84,1915,1933,1944,1953,1959,1971,113,117,97,108,4,2,59,76,1925,1927,1,8805,101,115,115,59,1,8923,117,108,108,69,113,117,97,108,59,1,8807,114,101,97,116,101,114,59,1,10914,101,115,115,59,1,8823,108,97,110,116,69,113,117,97,108,59,1,10878,105,108,100,101,59,1,8819,99,114,59,3,55349,56482,59,1,8811,4,8,65,97,99,102,105,111,115,117,2005,2012,2026,2032,2036,2049,2073,2089,82,68,99,121,59,1,1066,4,2,99,116,2018,2023,101,107,59,1,711,59,1,94,105,114,99,59,1,292,114,59,1,8460,108,98,101,114,116,83,112,97,99,101,59,1,8459,4,2,112,114,2055,2059,102,59,1,8461,105,122,111,110,116,97,108,76,105,110,101,59,1,9472,4,2,99,116,2079,2083,114,59,1,8459,114,111,107,59,1,294,109,112,4,2,68,69,2097,2107,111,119,110,72,117,109,112,59,1,8782,113,117,97,108,59,1,8783,4,14,69,74,79,97,99,100,102,103,109,110,111,115,116,117,2144,2149,2155,2160,2171,2189,2194,2198,2209,2245,2307,2329,2334,2341,99,121,59,1,1045,108,105,103,59,1,306,99,121,59,1,1025,99,117,116,101,5,205,1,59,2169,1,205,4,2,105,121,2177,2186,114,99,5,206,1,59,2184,1,206,59,1,1048,111,116,59,1,304,114,59,1,8465,114,97,118,101,5,204,1,59,2207,1,204,4,3,59,97,112,2217,2219,2238,1,8465,4,2,99,103,2225,2229,114,59,1,298,105,110,97,114,121,73,59,1,8520,108,105,101,115,59,1,8658,4,2,116,118,2251,2281,4,2,59,101,2257,2259,1,8748,4,2,103,114,2265,2271,114,97,108,59,1,8747,115,101,99,116,105,111,110,59,1,8898,105,115,105,98,108,101,4,2,67,84,2293,2300,111,109,109,97,59,1,8291,105,109,101,115,59,1,8290,4,3,103,112,116,2315,2320,2325,111,110,59,1,302,102,59,3,55349,56640,97,59,1,921,99,114,59,1,8464,105,108,100,101,59,1,296,4,2,107,109,2347,2352,99,121,59,1,1030,108,5,207,1,59,2358,1,207,4,5,99,102,111,115,117,2372,2386,2391,2397,2414,4,2,105,121,2378,2383,114,99,59,1,308,59,1,1049,114,59,3,55349,56589,112,102,59,3,55349,56641,4,2,99,101,2403,2408,114,59,3,55349,56485,114,99,121,59,1,1032,107,99,121,59,1,1028,4,7,72,74,97,99,102,111,115,2436,2441,2446,2452,2467,2472,2478,99,121,59,1,1061,99,121,59,1,1036,112,112,97,59,1,922,4,2,101,121,2458,2464,100,105,108,59,1,310,59,1,1050,114,59,3,55349,56590,112,102,59,3,55349,56642,99,114,59,3,55349,56486,4,11,74,84,97,99,101,102,108,109,111,115,116,2508,2513,2520,2562,2585,2981,2986,3004,3011,3146,3167,99,121,59,1,1033,5,60,1,59,2518,1,60,4,5,99,109,110,112,114,2532,2538,2544,2548,2558,117,116,101,59,1,313,98,100,97,59,1,923,103,59,1,10218,108,97,99,101,116,114,102,59,1,8466,114,59,1,8606,4,3,97,101,121,2570,2576,2582,114,111,110,59,1,317,100,105,108,59,1,315,59,1,1051,4,2,102,115,2591,2907,116,4,10,65,67,68,70,82,84,85,86,97,114,2614,2663,2672,2728,2735,2760,2820,2870,2888,2895,4,2,110,114,2620,2633,103,108,101,66,114,97,99,107,101,116,59,1,10216,114,111,119,4,3,59,66,82,2644,2646,2651,1,8592,97,114,59,1,8676,105,103,104,116,65,114,114,111,119,59,1,8646,101,105,108,105,110,103,59,1,8968,111,4,2,117,119,2679,2692,98,108,101,66,114,97,99,107,101,116,59,1,10214,110,4,2,84,86,2699,2710,101,101,86,101,99,116,111,114,59,1,10593,101,99,116,111,114,4,2,59,66,2721,2723,1,8643,97,114,59,1,10585,108,111,111,114,59,1,8970,105,103,104,116,4,2,65,86,2745,2752,114,114,111,119,59,1,8596,101,99,116,111,114,59,1,10574,4,2,101,114,2766,2792,101,4,3,59,65,86,2775,2777,2784,1,8867,114,114,111,119,59,1,8612,101,99,116,111,114,59,1,10586,105,97,110,103,108,101,4,3,59,66,69,2806,2808,2813,1,8882,97,114,59,1,10703,113,117,97,108,59,1,8884,112,4,3,68,84,86,2829,2841,2852,111,119,110,86,101,99,116,111,114,59,1,10577,101,101,86,101,99,116,111,114,59,1,10592,101,99,116,111,114,4,2,59,66,2863,2865,1,8639,97,114,59,1,10584,101,99,116,111,114,4,2,59,66,2881,2883,1,8636,97,114,59,1,10578,114,114,111,119,59,1,8656,105,103,104,116,97,114,114,111,119,59,1,8660,115,4,6,69,70,71,76,83,84,2922,2936,2947,2956,2962,2974,113,117,97,108,71,114,101,97,116,101,114,59,1,8922,117,108,108,69,113,117,97,108,59,1,8806,114,101,97,116,101,114,59,1,8822,101,115,115,59,1,10913,108,97,110,116,69,113,117,97,108,59,1,10877,105,108,100,101,59,1,8818,114,59,3,55349,56591,4,2,59,101,2992,2994,1,8920,102,116,97,114,114,111,119,59,1,8666,105,100,111,116,59,1,319,4,3,110,112,119,3019,3110,3115,103,4,4,76,82,108,114,3030,3058,3070,3098,101,102,116,4,2,65,82,3039,3046,114,114,111,119,59,1,10229,105,103,104,116,65,114,114,111,119,59,1,10231,105,103,104,116,65,114,114,111,119,59,1,10230,101,102,116,4,2,97,114,3079,3086,114,114,111,119,59,1,10232,105,103,104,116,97,114,114,111,119,59,1,10234,105,103,104,116,97,114,114,111,119,59,1,10233,102,59,3,55349,56643,101,114,4,2,76,82,3123,3134,101,102,116,65,114,114,111,119,59,1,8601,105,103,104,116,65,114,114,111,119,59,1,8600,4,3,99,104,116,3154,3158,3161,114,59,1,8466,59,1,8624,114,111,107,59,1,321,59,1,8810,4,8,97,99,101,102,105,111,115,117,3188,3192,3196,3222,3227,3237,3243,3248,112,59,1,10501,121,59,1,1052,4,2,100,108,3202,3213,105,117,109,83,112,97,99,101,59,1,8287,108,105,110,116,114,102,59,1,8499,114,59,3,55349,56592,110,117,115,80,108,117,115,59,1,8723,112,102,59,3,55349,56644,99,114,59,1,8499,59,1,924,4,9,74,97,99,101,102,111,115,116,117,3271,3276,3283,3306,3422,3427,4120,4126,4137,99,121,59,1,1034,99,117,116,101,59,1,323,4,3,97,101,121,3291,3297,3303,114,111,110,59,1,327,100,105,108,59,1,325,59,1,1053,4,3,103,115,119,3314,3380,3415,97,116,105,118,101,4,3,77,84,86,3327,3340,3365,101,100,105,117,109,83,112,97,99,101,59,1,8203,104,105,4,2,99,110,3348,3357,107,83,112,97,99,101,59,1,8203,83,112,97,99,101,59,1,8203,101,114,121,84,104,105,110,83,112,97,99,101,59,1,8203,116,101,100,4,2,71,76,3389,3405,114,101,97,116,101,114,71,114,101,97,116,101,114,59,1,8811,101,115,115,76,101,115,115,59,1,8810,76,105,110,101,59,1,10,114,59,3,55349,56593,4,4,66,110,112,116,3437,3444,3460,3464,114,101,97,107,59,1,8288,66,114,101,97,107,105,110,103,83,112,97,99,101,59,1,160,102,59,1,8469,4,13,59,67,68,69,71,72,76,78,80,82,83,84,86,3492,3494,3517,3536,3578,3657,3685,3784,3823,3860,3915,4066,4107,1,10988,4,2,111,117,3500,3510,110,103,114,117,101,110,116,59,1,8802,112,67,97,112,59,1,8813,111,117,98,108,101,86,101,114,116,105,99,97,108,66,97,114,59,1,8742,4,3,108,113,120,3544,3552,3571,101,109,101,110,116,59,1,8713,117,97,108,4,2,59,84,3561,3563,1,8800,105,108,100,101,59,3,8770,824,105,115,116,115,59,1,8708,114,101,97,116,101,114,4,7,59,69,70,71,76,83,84,3600,3602,3609,3621,3631,3637,3650,1,8815,113,117,97,108,59,1,8817,117,108,108,69,113,117,97,108,59,3,8807,824,114,101,97,116,101,114,59,3,8811,824,101,115,115,59,1,8825,108,97,110,116,69,113,117,97,108,59,3,10878,824,105,108,100,101,59,1,8821,117,109,112,4,2,68,69,3666,3677,111,119,110,72,117,109,112,59,3,8782,824,113,117,97,108,59,3,8783,824,101,4,2,102,115,3692,3724,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3709,3711,3717,1,8938,97,114,59,3,10703,824,113,117,97,108,59,1,8940,115,4,6,59,69,71,76,83,84,3739,3741,3748,3757,3764,3777,1,8814,113,117,97,108,59,1,8816,114,101,97,116,101,114,59,1,8824,101,115,115,59,3,8810,824,108,97,110,116,69,113,117,97,108,59,3,10877,824,105,108,100,101,59,1,8820,101,115,116,101,100,4,2,71,76,3795,3812,114,101,97,116,101,114,71,114,101,97,116,101,114,59,3,10914,824,101,115,115,76,101,115,115,59,3,10913,824,114,101,99,101,100,101,115,4,3,59,69,83,3838,3840,3848,1,8832,113,117,97,108,59,3,10927,824,108,97,110,116,69,113,117,97,108,59,1,8928,4,2,101,105,3866,3881,118,101,114,115,101,69,108,101,109,101,110,116,59,1,8716,103,104,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3900,3902,3908,1,8939,97,114,59,3,10704,824,113,117,97,108,59,1,8941,4,2,113,117,3921,3973,117,97,114,101,83,117,4,2,98,112,3933,3952,115,101,116,4,2,59,69,3942,3945,3,8847,824,113,117,97,108,59,1,8930,101,114,115,101,116,4,2,59,69,3963,3966,3,8848,824,113,117,97,108,59,1,8931,4,3,98,99,112,3981,4e3,4045,115,101,116,4,2,59,69,3990,3993,3,8834,8402,113,117,97,108,59,1,8840,99,101,101,100,115,4,4,59,69,83,84,4015,4017,4025,4037,1,8833,113,117,97,108,59,3,10928,824,108,97,110,116,69,113,117,97,108,59,1,8929,105,108,100,101,59,3,8831,824,101,114,115,101,116,4,2,59,69,4056,4059,3,8835,8402,113,117,97,108,59,1,8841,105,108,100,101,4,4,59,69,70,84,4080,4082,4089,4100,1,8769,113,117,97,108,59,1,8772,117,108,108,69,113,117,97,108,59,1,8775,105,108,100,101,59,1,8777,101,114,116,105,99,97,108,66,97,114,59,1,8740,99,114,59,3,55349,56489,105,108,100,101,5,209,1,59,4135,1,209,59,1,925,4,14,69,97,99,100,102,103,109,111,112,114,115,116,117,118,4170,4176,4187,4205,4212,4217,4228,4253,4259,4292,4295,4316,4337,4346,108,105,103,59,1,338,99,117,116,101,5,211,1,59,4185,1,211,4,2,105,121,4193,4202,114,99,5,212,1,59,4200,1,212,59,1,1054,98,108,97,99,59,1,336,114,59,3,55349,56594,114,97,118,101,5,210,1,59,4226,1,210,4,3,97,101,105,4236,4241,4246,99,114,59,1,332,103,97,59,1,937,99,114,111,110,59,1,927,112,102,59,3,55349,56646,101,110,67,117,114,108,121,4,2,68,81,4272,4285,111,117,98,108,101,81,117,111,116,101,59,1,8220,117,111,116,101,59,1,8216,59,1,10836,4,2,99,108,4301,4306,114,59,3,55349,56490,97,115,104,5,216,1,59,4314,1,216,105,4,2,108,109,4323,4332,100,101,5,213,1,59,4330,1,213,101,115,59,1,10807,109,108,5,214,1,59,4344,1,214,101,114,4,2,66,80,4354,4380,4,2,97,114,4360,4364,114,59,1,8254,97,99,4,2,101,107,4372,4375,59,1,9182,101,116,59,1,9140,97,114,101,110,116,104,101,115,105,115,59,1,9180,4,9,97,99,102,104,105,108,111,114,115,4413,4422,4426,4431,4435,4438,4448,4471,4561,114,116,105,97,108,68,59,1,8706,121,59,1,1055,114,59,3,55349,56595,105,59,1,934,59,1,928,117,115,77,105,110,117,115,59,1,177,4,2,105,112,4454,4467,110,99,97,114,101,112,108,97,110,101,59,1,8460,102,59,1,8473,4,4,59,101,105,111,4481,4483,4526,4531,1,10939,99,101,100,101,115,4,4,59,69,83,84,4498,4500,4507,4519,1,8826,113,117,97,108,59,1,10927,108,97,110,116,69,113,117,97,108,59,1,8828,105,108,100,101,59,1,8830,109,101,59,1,8243,4,2,100,112,4537,4543,117,99,116,59,1,8719,111,114,116,105,111,110,4,2,59,97,4555,4557,1,8759,108,59,1,8733,4,2,99,105,4567,4572,114,59,3,55349,56491,59,1,936,4,4,85,102,111,115,4585,4594,4599,4604,79,84,5,34,1,59,4592,1,34,114,59,3,55349,56596,112,102,59,1,8474,99,114,59,3,55349,56492,4,12,66,69,97,99,101,102,104,105,111,114,115,117,4636,4642,4650,4681,4704,4763,4767,4771,5047,5069,5081,5094,97,114,114,59,1,10512,71,5,174,1,59,4648,1,174,4,3,99,110,114,4658,4664,4668,117,116,101,59,1,340,103,59,1,10219,114,4,2,59,116,4675,4677,1,8608,108,59,1,10518,4,3,97,101,121,4689,4695,4701,114,111,110,59,1,344,100,105,108,59,1,342,59,1,1056,4,2,59,118,4710,4712,1,8476,101,114,115,101,4,2,69,85,4722,4748,4,2,108,113,4728,4736,101,109,101,110,116,59,1,8715,117,105,108,105,98,114,105,117,109,59,1,8651,112,69,113,117,105,108,105,98,114,105,117,109,59,1,10607,114,59,1,8476,111,59,1,929,103,104,116,4,8,65,67,68,70,84,85,86,97,4792,4840,4849,4905,4912,4972,5022,5040,4,2,110,114,4798,4811,103,108,101,66,114,97,99,107,101,116,59,1,10217,114,111,119,4,3,59,66,76,4822,4824,4829,1,8594,97,114,59,1,8677,101,102,116,65,114,114,111,119,59,1,8644,101,105,108,105,110,103,59,1,8969,111,4,2,117,119,4856,4869,98,108,101,66,114,97,99,107,101,116,59,1,10215,110,4,2,84,86,4876,4887,101,101,86,101,99,116,111,114,59,1,10589,101,99,116,111,114,4,2,59,66,4898,4900,1,8642,97,114,59,1,10581,108,111,111,114,59,1,8971,4,2,101,114,4918,4944,101,4,3,59,65,86,4927,4929,4936,1,8866,114,114,111,119,59,1,8614,101,99,116,111,114,59,1,10587,105,97,110,103,108,101,4,3,59,66,69,4958,4960,4965,1,8883,97,114,59,1,10704,113,117,97,108,59,1,8885,112,4,3,68,84,86,4981,4993,5004,111,119,110,86,101,99,116,111,114,59,1,10575,101,101,86,101,99,116,111,114,59,1,10588,101,99,116,111,114,4,2,59,66,5015,5017,1,8638,97,114,59,1,10580,101,99,116,111,114,4,2,59,66,5033,5035,1,8640,97,114,59,1,10579,114,114,111,119,59,1,8658,4,2,112,117,5053,5057,102,59,1,8477,110,100,73,109,112,108,105,101,115,59,1,10608,105,103,104,116,97,114,114,111,119,59,1,8667,4,2,99,104,5087,5091,114,59,1,8475,59,1,8625,108,101,68,101,108,97,121,101,100,59,1,10740,4,13,72,79,97,99,102,104,105,109,111,113,115,116,117,5134,5150,5157,5164,5198,5203,5259,5265,5277,5283,5374,5380,5385,4,2,67,99,5140,5146,72,99,121,59,1,1065,121,59,1,1064,70,84,99,121,59,1,1068,99,117,116,101,59,1,346,4,5,59,97,101,105,121,5176,5178,5184,5190,5195,1,10940,114,111,110,59,1,352,100,105,108,59,1,350,114,99,59,1,348,59,1,1057,114,59,3,55349,56598,111,114,116,4,4,68,76,82,85,5216,5227,5238,5250,111,119,110,65,114,114,111,119,59,1,8595,101,102,116,65,114,114,111,119,59,1,8592,105,103,104,116,65,114,114,111,119,59,1,8594,112,65,114,114,111,119,59,1,8593,103,109,97,59,1,931,97,108,108,67,105,114,99,108,101,59,1,8728,112,102,59,3,55349,56650,4,2,114,117,5289,5293,116,59,1,8730,97,114,101,4,4,59,73,83,85,5306,5308,5322,5367,1,9633,110,116,101,114,115,101,99,116,105,111,110,59,1,8851,117,4,2,98,112,5329,5347,115,101,116,4,2,59,69,5338,5340,1,8847,113,117,97,108,59,1,8849,101,114,115,101,116,4,2,59,69,5358,5360,1,8848,113,117,97,108,59,1,8850,110,105,111,110,59,1,8852,99,114,59,3,55349,56494,97,114,59,1,8902,4,4,98,99,109,112,5395,5420,5475,5478,4,2,59,115,5401,5403,1,8912,101,116,4,2,59,69,5411,5413,1,8912,113,117,97,108,59,1,8838,4,2,99,104,5426,5468,101,101,100,115,4,4,59,69,83,84,5440,5442,5449,5461,1,8827,113,117,97,108,59,1,10928,108,97,110,116,69,113,117,97,108,59,1,8829,105,108,100,101,59,1,8831,84,104,97,116,59,1,8715,59,1,8721,4,3,59,101,115,5486,5488,5507,1,8913,114,115,101,116,4,2,59,69,5498,5500,1,8835,113,117,97,108,59,1,8839,101,116,59,1,8913,4,11,72,82,83,97,99,102,104,105,111,114,115,5536,5546,5552,5567,5579,5602,5607,5655,5695,5701,5711,79,82,78,5,222,1,59,5544,1,222,65,68,69,59,1,8482,4,2,72,99,5558,5563,99,121,59,1,1035,121,59,1,1062,4,2,98,117,5573,5576,59,1,9,59,1,932,4,3,97,101,121,5587,5593,5599,114,111,110,59,1,356,100,105,108,59,1,354,59,1,1058,114,59,3,55349,56599,4,2,101,105,5613,5631,4,2,114,116,5619,5627,101,102,111,114,101,59,1,8756,97,59,1,920,4,2,99,110,5637,5647,107,83,112,97,99,101,59,3,8287,8202,83,112,97,99,101,59,1,8201,108,100,101,4,4,59,69,70,84,5668,5670,5677,5688,1,8764,113,117,97,108,59,1,8771,117,108,108,69,113,117,97,108,59,1,8773,105,108,100,101,59,1,8776,112,102,59,3,55349,56651,105,112,108,101,68,111,116,59,1,8411,4,2,99,116,5717,5722,114,59,3,55349,56495,114,111,107,59,1,358,4,14,97,98,99,100,102,103,109,110,111,112,114,115,116,117,5758,5789,5805,5823,5830,5835,5846,5852,5921,5937,6089,6095,6101,6108,4,2,99,114,5764,5774,117,116,101,5,218,1,59,5772,1,218,114,4,2,59,111,5781,5783,1,8607,99,105,114,59,1,10569,114,4,2,99,101,5796,5800,121,59,1,1038,118,101,59,1,364,4,2,105,121,5811,5820,114,99,5,219,1,59,5818,1,219,59,1,1059,98,108,97,99,59,1,368,114,59,3,55349,56600,114,97,118,101,5,217,1,59,5844,1,217,97,99,114,59,1,362,4,2,100,105,5858,5905,101,114,4,2,66,80,5866,5892,4,2,97,114,5872,5876,114,59,1,95,97,99,4,2,101,107,5884,5887,59,1,9183,101,116,59,1,9141,97,114,101,110,116,104,101,115,105,115,59,1,9181,111,110,4,2,59,80,5913,5915,1,8899,108,117,115,59,1,8846,4,2,103,112,5927,5932,111,110,59,1,370,102,59,3,55349,56652,4,8,65,68,69,84,97,100,112,115,5955,5985,5996,6009,6026,6033,6044,6075,114,114,111,119,4,3,59,66,68,5967,5969,5974,1,8593,97,114,59,1,10514,111,119,110,65,114,114,111,119,59,1,8645,111,119,110,65,114,114,111,119,59,1,8597,113,117,105,108,105,98,114,105,117,109,59,1,10606,101,101,4,2,59,65,6017,6019,1,8869,114,114,111,119,59,1,8613,114,114,111,119,59,1,8657,111,119,110,97,114,114,111,119,59,1,8661,101,114,4,2,76,82,6052,6063,101,102,116,65,114,114,111,119,59,1,8598,105,103,104,116,65,114,114,111,119,59,1,8599,105,4,2,59,108,6082,6084,1,978,111,110,59,1,933,105,110,103,59,1,366,99,114,59,3,55349,56496,105,108,100,101,59,1,360,109,108,5,220,1,59,6115,1,220,4,9,68,98,99,100,101,102,111,115,118,6137,6143,6148,6152,6166,6250,6255,6261,6267,97,115,104,59,1,8875,97,114,59,1,10987,121,59,1,1042,97,115,104,4,2,59,108,6161,6163,1,8873,59,1,10982,4,2,101,114,6172,6175,59,1,8897,4,3,98,116,121,6183,6188,6238,97,114,59,1,8214,4,2,59,105,6194,6196,1,8214,99,97,108,4,4,66,76,83,84,6209,6214,6220,6231,97,114,59,1,8739,105,110,101,59,1,124,101,112,97,114,97,116,111,114,59,1,10072,105,108,100,101,59,1,8768,84,104,105,110,83,112,97,99,101,59,1,8202,114,59,3,55349,56601,112,102,59,3,55349,56653,99,114,59,3,55349,56497,100,97,115,104,59,1,8874,4,5,99,101,102,111,115,6286,6292,6298,6303,6309,105,114,99,59,1,372,100,103,101,59,1,8896,114,59,3,55349,56602,112,102,59,3,55349,56654,99,114,59,3,55349,56498,4,4,102,105,111,115,6325,6330,6333,6339,114,59,3,55349,56603,59,1,926,112,102,59,3,55349,56655,99,114,59,3,55349,56499,4,9,65,73,85,97,99,102,111,115,117,6365,6370,6375,6380,6391,6405,6410,6416,6422,99,121,59,1,1071,99,121,59,1,1031,99,121,59,1,1070,99,117,116,101,5,221,1,59,6389,1,221,4,2,105,121,6397,6402,114,99,59,1,374,59,1,1067,114,59,3,55349,56604,112,102,59,3,55349,56656,99,114,59,3,55349,56500,109,108,59,1,376,4,8,72,97,99,100,101,102,111,115,6445,6450,6457,6472,6477,6501,6505,6510,99,121,59,1,1046,99,117,116,101,59,1,377,4,2,97,121,6463,6469,114,111,110,59,1,381,59,1,1047,111,116,59,1,379,4,2,114,116,6483,6497,111,87,105,100,116,104,83,112,97,99,101,59,1,8203,97,59,1,918,114,59,1,8488,112,102,59,1,8484,99,114,59,3,55349,56501,4,16,97,98,99,101,102,103,108,109,110,111,112,114,115,116,117,119,6550,6561,6568,6612,6622,6634,6645,6672,6699,6854,6870,6923,6933,6963,6974,6983,99,117,116,101,5,225,1,59,6559,1,225,114,101,118,101,59,1,259,4,6,59,69,100,105,117,121,6582,6584,6588,6591,6600,6609,1,8766,59,3,8766,819,59,1,8767,114,99,5,226,1,59,6598,1,226,116,101,5,180,1,59,6607,1,180,59,1,1072,108,105,103,5,230,1,59,6620,1,230,4,2,59,114,6628,6630,1,8289,59,3,55349,56606,114,97,118,101,5,224,1,59,6643,1,224,4,2,101,112,6651,6667,4,2,102,112,6657,6663,115,121,109,59,1,8501,104,59,1,8501,104,97,59,1,945,4,2,97,112,6678,6692,4,2,99,108,6684,6688,114,59,1,257,103,59,1,10815,5,38,1,59,6697,1,38,4,2,100,103,6705,6737,4,5,59,97,100,115,118,6717,6719,6724,6727,6734,1,8743,110,100,59,1,10837,59,1,10844,108,111,112,101,59,1,10840,59,1,10842,4,7,59,101,108,109,114,115,122,6753,6755,6758,6762,6814,6835,6848,1,8736,59,1,10660,101,59,1,8736,115,100,4,2,59,97,6770,6772,1,8737,4,8,97,98,99,100,101,102,103,104,6790,6793,6796,6799,6802,6805,6808,6811,59,1,10664,59,1,10665,59,1,10666,59,1,10667,59,1,10668,59,1,10669,59,1,10670,59,1,10671,116,4,2,59,118,6821,6823,1,8735,98,4,2,59,100,6830,6832,1,8894,59,1,10653,4,2,112,116,6841,6845,104,59,1,8738,59,1,197,97,114,114,59,1,9084,4,2,103,112,6860,6865,111,110,59,1,261,102,59,3,55349,56658,4,7,59,69,97,101,105,111,112,6886,6888,6891,6897,6900,6904,6908,1,8776,59,1,10864,99,105,114,59,1,10863,59,1,8778,100,59,1,8779,115,59,1,39,114,111,120,4,2,59,101,6917,6919,1,8776,113,59,1,8778,105,110,103,5,229,1,59,6931,1,229,4,3,99,116,121,6941,6946,6949,114,59,3,55349,56502,59,1,42,109,112,4,2,59,101,6957,6959,1,8776,113,59,1,8781,105,108,100,101,5,227,1,59,6972,1,227,109,108,5,228,1,59,6981,1,228,4,2,99,105,6989,6997,111,110,105,110,116,59,1,8755,110,116,59,1,10769,4,16,78,97,98,99,100,101,102,105,107,108,110,111,112,114,115,117,7036,7041,7119,7135,7149,7155,7219,7224,7347,7354,7463,7489,7786,7793,7814,7866,111,116,59,1,10989,4,2,99,114,7047,7094,107,4,4,99,101,112,115,7058,7064,7073,7080,111,110,103,59,1,8780,112,115,105,108,111,110,59,1,1014,114,105,109,101,59,1,8245,105,109,4,2,59,101,7088,7090,1,8765,113,59,1,8909,4,2,118,119,7100,7105,101,101,59,1,8893,101,100,4,2,59,103,7113,7115,1,8965,101,59,1,8965,114,107,4,2,59,116,7127,7129,1,9141,98,114,107,59,1,9142,4,2,111,121,7141,7146,110,103,59,1,8780,59,1,1073,113,117,111,59,1,8222,4,5,99,109,112,114,116,7167,7181,7188,7193,7199,97,117,115,4,2,59,101,7176,7178,1,8757,59,1,8757,112,116,121,118,59,1,10672,115,105,59,1,1014,110,111,117,59,1,8492,4,3,97,104,119,7207,7210,7213,59,1,946,59,1,8502,101,101,110,59,1,8812,114,59,3,55349,56607,103,4,7,99,111,115,116,117,118,119,7241,7262,7288,7305,7328,7335,7340,4,3,97,105,117,7249,7253,7258,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,4,3,100,112,116,7270,7275,7281,111,116,59,1,10752,108,117,115,59,1,10753,105,109,101,115,59,1,10754,4,2,113,116,7294,7300,99,117,112,59,1,10758,97,114,59,1,9733,114,105,97,110,103,108,101,4,2,100,117,7318,7324,111,119,110,59,1,9661,112,59,1,9651,112,108,117,115,59,1,10756,101,101,59,1,8897,101,100,103,101,59,1,8896,97,114,111,119,59,1,10509,4,3,97,107,111,7362,7436,7458,4,2,99,110,7368,7432,107,4,3,108,115,116,7377,7386,7394,111,122,101,110,103,101,59,1,10731,113,117,97,114,101,59,1,9642,114,105,97,110,103,108,101,4,4,59,100,108,114,7411,7413,7419,7425,1,9652,111,119,110,59,1,9662,101,102,116,59,1,9666,105,103,104,116,59,1,9656,107,59,1,9251,4,2,49,51,7442,7454,4,2,50,52,7448,7451,59,1,9618,59,1,9617,52,59,1,9619,99,107,59,1,9608,4,2,101,111,7469,7485,4,2,59,113,7475,7478,3,61,8421,117,105,118,59,3,8801,8421,116,59,1,8976,4,4,112,116,119,120,7499,7504,7517,7523,102,59,3,55349,56659,4,2,59,116,7510,7512,1,8869,111,109,59,1,8869,116,105,101,59,1,8904,4,12,68,72,85,86,98,100,104,109,112,116,117,118,7549,7571,7597,7619,7655,7660,7682,7708,7715,7721,7728,7750,4,4,76,82,108,114,7559,7562,7565,7568,59,1,9559,59,1,9556,59,1,9558,59,1,9555,4,5,59,68,85,100,117,7583,7585,7588,7591,7594,1,9552,59,1,9574,59,1,9577,59,1,9572,59,1,9575,4,4,76,82,108,114,7607,7610,7613,7616,59,1,9565,59,1,9562,59,1,9564,59,1,9561,4,7,59,72,76,82,104,108,114,7635,7637,7640,7643,7646,7649,7652,1,9553,59,1,9580,59,1,9571,59,1,9568,59,1,9579,59,1,9570,59,1,9567,111,120,59,1,10697,4,4,76,82,108,114,7670,7673,7676,7679,59,1,9557,59,1,9554,59,1,9488,59,1,9484,4,5,59,68,85,100,117,7694,7696,7699,7702,7705,1,9472,59,1,9573,59,1,9576,59,1,9516,59,1,9524,105,110,117,115,59,1,8863,108,117,115,59,1,8862,105,109,101,115,59,1,8864,4,4,76,82,108,114,7738,7741,7744,7747,59,1,9563,59,1,9560,59,1,9496,59,1,9492,4,7,59,72,76,82,104,108,114,7766,7768,7771,7774,7777,7780,7783,1,9474,59,1,9578,59,1,9569,59,1,9566,59,1,9532,59,1,9508,59,1,9500,114,105,109,101,59,1,8245,4,2,101,118,7799,7804,118,101,59,1,728,98,97,114,5,166,1,59,7812,1,166,4,4,99,101,105,111,7824,7829,7834,7846,114,59,3,55349,56503,109,105,59,1,8271,109,4,2,59,101,7841,7843,1,8765,59,1,8909,108,4,3,59,98,104,7855,7857,7860,1,92,59,1,10693,115,117,98,59,1,10184,4,2,108,109,7872,7885,108,4,2,59,101,7879,7881,1,8226,116,59,1,8226,112,4,3,59,69,101,7894,7896,7899,1,8782,59,1,10926,4,2,59,113,7905,7907,1,8783,59,1,8783,4,15,97,99,100,101,102,104,105,108,111,114,115,116,117,119,121,7942,8021,8075,8080,8121,8126,8157,8279,8295,8430,8446,8485,8491,8707,8726,4,3,99,112,114,7950,7956,8007,117,116,101,59,1,263,4,6,59,97,98,99,100,115,7970,7972,7977,7984,7998,8003,1,8745,110,100,59,1,10820,114,99,117,112,59,1,10825,4,2,97,117,7990,7994,112,59,1,10827,112,59,1,10823,111,116,59,1,10816,59,3,8745,65024,4,2,101,111,8013,8017,116,59,1,8257,110,59,1,711,4,4,97,101,105,117,8031,8046,8056,8061,4,2,112,114,8037,8041,115,59,1,10829,111,110,59,1,269,100,105,108,5,231,1,59,8054,1,231,114,99,59,1,265,112,115,4,2,59,115,8069,8071,1,10828,109,59,1,10832,111,116,59,1,267,4,3,100,109,110,8088,8097,8104,105,108,5,184,1,59,8095,1,184,112,116,121,118,59,1,10674,116,5,162,2,59,101,8112,8114,1,162,114,100,111,116,59,1,183,114,59,3,55349,56608,4,3,99,101,105,8134,8138,8154,121,59,1,1095,99,107,4,2,59,109,8146,8148,1,10003,97,114,107,59,1,10003,59,1,967,114,4,7,59,69,99,101,102,109,115,8174,8176,8179,8258,8261,8268,8273,1,9675,59,1,10691,4,3,59,101,108,8187,8189,8193,1,710,113,59,1,8791,101,4,2,97,100,8200,8223,114,114,111,119,4,2,108,114,8210,8216,101,102,116,59,1,8634,105,103,104,116,59,1,8635,4,5,82,83,97,99,100,8235,8238,8241,8246,8252,59,1,174,59,1,9416,115,116,59,1,8859,105,114,99,59,1,8858,97,115,104,59,1,8861,59,1,8791,110,105,110,116,59,1,10768,105,100,59,1,10991,99,105,114,59,1,10690,117,98,115,4,2,59,117,8288,8290,1,9827,105,116,59,1,9827,4,4,108,109,110,112,8305,8326,8376,8400,111,110,4,2,59,101,8313,8315,1,58,4,2,59,113,8321,8323,1,8788,59,1,8788,4,2,109,112,8332,8344,97,4,2,59,116,8339,8341,1,44,59,1,64,4,3,59,102,108,8352,8354,8358,1,8705,110,59,1,8728,101,4,2,109,120,8365,8371,101,110,116,59,1,8705,101,115,59,1,8450,4,2,103,105,8382,8395,4,2,59,100,8388,8390,1,8773,111,116,59,1,10861,110,116,59,1,8750,4,3,102,114,121,8408,8412,8417,59,3,55349,56660,111,100,59,1,8720,5,169,2,59,115,8424,8426,1,169,114,59,1,8471,4,2,97,111,8436,8441,114,114,59,1,8629,115,115,59,1,10007,4,2,99,117,8452,8457,114,59,3,55349,56504,4,2,98,112,8463,8474,4,2,59,101,8469,8471,1,10959,59,1,10961,4,2,59,101,8480,8482,1,10960,59,1,10962,100,111,116,59,1,8943,4,7,100,101,108,112,114,118,119,8507,8522,8536,8550,8600,8697,8702,97,114,114,4,2,108,114,8516,8519,59,1,10552,59,1,10549,4,2,112,115,8528,8532,114,59,1,8926,99,59,1,8927,97,114,114,4,2,59,112,8545,8547,1,8630,59,1,10557,4,6,59,98,99,100,111,115,8564,8566,8573,8587,8592,8596,1,8746,114,99,97,112,59,1,10824,4,2,97,117,8579,8583,112,59,1,10822,112,59,1,10826,111,116,59,1,8845,114,59,1,10821,59,3,8746,65024,4,4,97,108,114,118,8610,8623,8663,8672,114,114,4,2,59,109,8618,8620,1,8631,59,1,10556,121,4,3,101,118,119,8632,8651,8656,113,4,2,112,115,8639,8645,114,101,99,59,1,8926,117,99,99,59,1,8927,101,101,59,1,8910,101,100,103,101,59,1,8911,101,110,5,164,1,59,8670,1,164,101,97,114,114,111,119,4,2,108,114,8684,8690,101,102,116,59,1,8630,105,103,104,116,59,1,8631,101,101,59,1,8910,101,100,59,1,8911,4,2,99,105,8713,8721,111,110,105,110,116,59,1,8754,110,116,59,1,8753,108,99,116,121,59,1,9005,4,19,65,72,97,98,99,100,101,102,104,105,106,108,111,114,115,116,117,119,122,8773,8778,8783,8821,8839,8854,8887,8914,8930,8944,9036,9041,9058,9197,9227,9258,9281,9297,9305,114,114,59,1,8659,97,114,59,1,10597,4,4,103,108,114,115,8793,8799,8805,8809,103,101,114,59,1,8224,101,116,104,59,1,8504,114,59,1,8595,104,4,2,59,118,8816,8818,1,8208,59,1,8867,4,2,107,108,8827,8834,97,114,111,119,59,1,10511,97,99,59,1,733,4,2,97,121,8845,8851,114,111,110,59,1,271,59,1,1076,4,3,59,97,111,8862,8864,8880,1,8518,4,2,103,114,8870,8876,103,101,114,59,1,8225,114,59,1,8650,116,115,101,113,59,1,10871,4,3,103,108,109,8895,8902,8907,5,176,1,59,8900,1,176,116,97,59,1,948,112,116,121,118,59,1,10673,4,2,105,114,8920,8926,115,104,116,59,1,10623,59,3,55349,56609,97,114,4,2,108,114,8938,8941,59,1,8643,59,1,8642,4,5,97,101,103,115,118,8956,8986,8989,8996,9001,109,4,3,59,111,115,8965,8967,8983,1,8900,110,100,4,2,59,115,8975,8977,1,8900,117,105,116,59,1,9830,59,1,9830,59,1,168,97,109,109,97,59,1,989,105,110,59,1,8946,4,3,59,105,111,9009,9011,9031,1,247,100,101,5,247,2,59,111,9020,9022,1,247,110,116,105,109,101,115,59,1,8903,110,120,59,1,8903,99,121,59,1,1106,99,4,2,111,114,9048,9053,114,110,59,1,8990,111,112,59,1,8973,4,5,108,112,116,117,119,9070,9076,9081,9130,9144,108,97,114,59,1,36,102,59,3,55349,56661,4,5,59,101,109,112,115,9093,9095,9109,9116,9122,1,729,113,4,2,59,100,9102,9104,1,8784,111,116,59,1,8785,105,110,117,115,59,1,8760,108,117,115,59,1,8724,113,117,97,114,101,59,1,8865,98,108,101,98,97,114,119,101,100,103,101,59,1,8966,110,4,3,97,100,104,9153,9160,9172,114,114,111,119,59,1,8595,111,119,110,97,114,114,111,119,115,59,1,8650,97,114,112,111,111,110,4,2,108,114,9184,9190,101,102,116,59,1,8643,105,103,104,116,59,1,8642,4,2,98,99,9203,9211,107,97,114,111,119,59,1,10512,4,2,111,114,9217,9222,114,110,59,1,8991,111,112,59,1,8972,4,3,99,111,116,9235,9248,9252,4,2,114,121,9241,9245,59,3,55349,56505,59,1,1109,108,59,1,10742,114,111,107,59,1,273,4,2,100,114,9264,9269,111,116,59,1,8945,105,4,2,59,102,9276,9278,1,9663,59,1,9662,4,2,97,104,9287,9292,114,114,59,1,8693,97,114,59,1,10607,97,110,103,108,101,59,1,10662,4,2,99,105,9311,9315,121,59,1,1119,103,114,97,114,114,59,1,10239,4,18,68,97,99,100,101,102,103,108,109,110,111,112,113,114,115,116,117,120,9361,9376,9398,9439,9444,9447,9462,9495,9531,9585,9598,9614,9659,9755,9771,9792,9808,9826,4,2,68,111,9367,9372,111,116,59,1,10871,116,59,1,8785,4,2,99,115,9382,9392,117,116,101,5,233,1,59,9390,1,233,116,101,114,59,1,10862,4,4,97,105,111,121,9408,9414,9430,9436,114,111,110,59,1,283,114,4,2,59,99,9421,9423,1,8790,5,234,1,59,9428,1,234,108,111,110,59,1,8789,59,1,1101,111,116,59,1,279,59,1,8519,4,2,68,114,9453,9458,111,116,59,1,8786,59,3,55349,56610,4,3,59,114,115,9470,9472,9482,1,10906,97,118,101,5,232,1,59,9480,1,232,4,2,59,100,9488,9490,1,10902,111,116,59,1,10904,4,4,59,105,108,115,9505,9507,9515,9518,1,10905,110,116,101,114,115,59,1,9191,59,1,8467,4,2,59,100,9524,9526,1,10901,111,116,59,1,10903,4,3,97,112,115,9539,9544,9564,99,114,59,1,275,116,121,4,3,59,115,118,9554,9556,9561,1,8709,101,116,59,1,8709,59,1,8709,112,4,2,49,59,9571,9583,4,2,51,52,9577,9580,59,1,8196,59,1,8197,1,8195,4,2,103,115,9591,9594,59,1,331,112,59,1,8194,4,2,103,112,9604,9609,111,110,59,1,281,102,59,3,55349,56662,4,3,97,108,115,9622,9635,9640,114,4,2,59,115,9629,9631,1,8917,108,59,1,10723,117,115,59,1,10865,105,4,3,59,108,118,9649,9651,9656,1,949,111,110,59,1,949,59,1,1013,4,4,99,115,117,118,9669,9686,9716,9747,4,2,105,111,9675,9680,114,99,59,1,8790,108,111,110,59,1,8789,4,2,105,108,9692,9696,109,59,1,8770,97,110,116,4,2,103,108,9705,9710,116,114,59,1,10902,101,115,115,59,1,10901,4,3,97,101,105,9724,9729,9734,108,115,59,1,61,115,116,59,1,8799,118,4,2,59,68,9741,9743,1,8801,68,59,1,10872,112,97,114,115,108,59,1,10725,4,2,68,97,9761,9766,111,116,59,1,8787,114,114,59,1,10609,4,3,99,100,105,9779,9783,9788,114,59,1,8495,111,116,59,1,8784,109,59,1,8770,4,2,97,104,9798,9801,59,1,951,5,240,1,59,9806,1,240,4,2,109,114,9814,9822,108,5,235,1,59,9820,1,235,111,59,1,8364,4,3,99,105,112,9834,9838,9843,108,59,1,33,115,116,59,1,8707,4,2,101,111,9849,9859,99,116,97,116,105,111,110,59,1,8496,110,101,110,116,105,97,108,101,59,1,8519,4,12,97,99,101,102,105,106,108,110,111,112,114,115,9896,9910,9914,9921,9954,9960,9967,9989,9994,10027,10036,10164,108,108,105,110,103,100,111,116,115,101,113,59,1,8786,121,59,1,1092,109,97,108,101,59,1,9792,4,3,105,108,114,9929,9935,9950,108,105,103,59,1,64259,4,2,105,108,9941,9945,103,59,1,64256,105,103,59,1,64260,59,3,55349,56611,108,105,103,59,1,64257,108,105,103,59,3,102,106,4,3,97,108,116,9975,9979,9984,116,59,1,9837,105,103,59,1,64258,110,115,59,1,9649,111,102,59,1,402,4,2,112,114,1e4,10005,102,59,3,55349,56663,4,2,97,107,10011,10016,108,108,59,1,8704,4,2,59,118,10022,10024,1,8916,59,1,10969,97,114,116,105,110,116,59,1,10765,4,2,97,111,10042,10159,4,2,99,115,10048,10155,4,6,49,50,51,52,53,55,10062,10102,10114,10135,10139,10151,4,6,50,51,52,53,54,56,10076,10083,10086,10093,10096,10099,5,189,1,59,10081,1,189,59,1,8531,5,188,1,59,10091,1,188,59,1,8533,59,1,8537,59,1,8539,4,2,51,53,10108,10111,59,1,8532,59,1,8534,4,3,52,53,56,10122,10129,10132,5,190,1,59,10127,1,190,59,1,8535,59,1,8540,53,59,1,8536,4,2,54,56,10145,10148,59,1,8538,59,1,8541,56,59,1,8542,108,59,1,8260,119,110,59,1,8994,99,114,59,3,55349,56507,4,17,69,97,98,99,100,101,102,103,105,106,108,110,111,114,115,116,118,10206,10217,10247,10254,10268,10273,10358,10363,10374,10380,10385,10406,10458,10464,10470,10497,10610,4,2,59,108,10212,10214,1,8807,59,1,10892,4,3,99,109,112,10225,10231,10244,117,116,101,59,1,501,109,97,4,2,59,100,10239,10241,1,947,59,1,989,59,1,10886,114,101,118,101,59,1,287,4,2,105,121,10260,10265,114,99,59,1,285,59,1,1075,111,116,59,1,289,4,4,59,108,113,115,10283,10285,10288,10308,1,8805,59,1,8923,4,3,59,113,115,10296,10298,10301,1,8805,59,1,8807,108,97,110,116,59,1,10878,4,4,59,99,100,108,10318,10320,10324,10345,1,10878,99,59,1,10921,111,116,4,2,59,111,10332,10334,1,10880,4,2,59,108,10340,10342,1,10882,59,1,10884,4,2,59,101,10351,10354,3,8923,65024,115,59,1,10900,114,59,3,55349,56612,4,2,59,103,10369,10371,1,8811,59,1,8921,109,101,108,59,1,8503,99,121,59,1,1107,4,4,59,69,97,106,10395,10397,10400,10403,1,8823,59,1,10898,59,1,10917,59,1,10916,4,4,69,97,101,115,10416,10419,10434,10453,59,1,8809,112,4,2,59,112,10426,10428,1,10890,114,111,120,59,1,10890,4,2,59,113,10440,10442,1,10888,4,2,59,113,10448,10450,1,10888,59,1,8809,105,109,59,1,8935,112,102,59,3,55349,56664,97,118,101,59,1,96,4,2,99,105,10476,10480,114,59,1,8458,109,4,3,59,101,108,10489,10491,10494,1,8819,59,1,10894,59,1,10896,5,62,6,59,99,100,108,113,114,10512,10514,10527,10532,10538,10545,1,62,4,2,99,105,10520,10523,59,1,10919,114,59,1,10874,111,116,59,1,8919,80,97,114,59,1,10645,117,101,115,116,59,1,10876,4,5,97,100,101,108,115,10557,10574,10579,10599,10605,4,2,112,114,10563,10570,112,114,111,120,59,1,10886,114,59,1,10616,111,116,59,1,8919,113,4,2,108,113,10586,10592,101,115,115,59,1,8923,108,101,115,115,59,1,10892,101,115,115,59,1,8823,105,109,59,1,8819,4,2,101,110,10616,10626,114,116,110,101,113,113,59,3,8809,65024,69,59,3,8809,65024,4,10,65,97,98,99,101,102,107,111,115,121,10653,10658,10713,10718,10724,10760,10765,10786,10850,10875,114,114,59,1,8660,4,4,105,108,109,114,10668,10674,10678,10684,114,115,112,59,1,8202,102,59,1,189,105,108,116,59,1,8459,4,2,100,114,10690,10695,99,121,59,1,1098,4,3,59,99,119,10703,10705,10710,1,8596,105,114,59,1,10568,59,1,8621,97,114,59,1,8463,105,114,99,59,1,293,4,3,97,108,114,10732,10748,10754,114,116,115,4,2,59,117,10741,10743,1,9829,105,116,59,1,9829,108,105,112,59,1,8230,99,111,110,59,1,8889,114,59,3,55349,56613,115,4,2,101,119,10772,10779,97,114,111,119,59,1,10533,97,114,111,119,59,1,10534,4,5,97,109,111,112,114,10798,10803,10809,10839,10844,114,114,59,1,8703,116,104,116,59,1,8763,107,4,2,108,114,10816,10827,101,102,116,97,114,114,111,119,59,1,8617,105,103,104,116,97,114,114,111,119,59,1,8618,102,59,3,55349,56665,98,97,114,59,1,8213,4,3,99,108,116,10858,10863,10869,114,59,3,55349,56509,97,115,104,59,1,8463,114,111,107,59,1,295,4,2,98,112,10881,10887,117,108,108,59,1,8259,104,101,110,59,1,8208,4,15,97,99,101,102,103,105,106,109,110,111,112,113,115,116,117,10925,10936,10958,10977,10990,11001,11039,11045,11101,11192,11220,11226,11237,11285,11299,99,117,116,101,5,237,1,59,10934,1,237,4,3,59,105,121,10944,10946,10955,1,8291,114,99,5,238,1,59,10953,1,238,59,1,1080,4,2,99,120,10964,10968,121,59,1,1077,99,108,5,161,1,59,10975,1,161,4,2,102,114,10983,10986,59,1,8660,59,3,55349,56614,114,97,118,101,5,236,1,59,10999,1,236,4,4,59,105,110,111,11011,11013,11028,11034,1,8520,4,2,105,110,11019,11024,110,116,59,1,10764,116,59,1,8749,102,105,110,59,1,10716,116,97,59,1,8489,108,105,103,59,1,307,4,3,97,111,112,11053,11092,11096,4,3,99,103,116,11061,11065,11088,114,59,1,299,4,3,101,108,112,11073,11076,11082,59,1,8465,105,110,101,59,1,8464,97,114,116,59,1,8465,104,59,1,305,102,59,1,8887,101,100,59,1,437,4,5,59,99,102,111,116,11113,11115,11121,11136,11142,1,8712,97,114,101,59,1,8453,105,110,4,2,59,116,11129,11131,1,8734,105,101,59,1,10717,100,111,116,59,1,305,4,5,59,99,101,108,112,11154,11156,11161,11179,11186,1,8747,97,108,59,1,8890,4,2,103,114,11167,11173,101,114,115,59,1,8484,99,97,108,59,1,8890,97,114,104,107,59,1,10775,114,111,100,59,1,10812,4,4,99,103,112,116,11202,11206,11211,11216,121,59,1,1105,111,110,59,1,303,102,59,3,55349,56666,97,59,1,953,114,111,100,59,1,10812,117,101,115,116,5,191,1,59,11235,1,191,4,2,99,105,11243,11248,114,59,3,55349,56510,110,4,5,59,69,100,115,118,11261,11263,11266,11271,11282,1,8712,59,1,8953,111,116,59,1,8949,4,2,59,118,11277,11279,1,8948,59,1,8947,59,1,8712,4,2,59,105,11291,11293,1,8290,108,100,101,59,1,297,4,2,107,109,11305,11310,99,121,59,1,1110,108,5,239,1,59,11316,1,239,4,6,99,102,109,111,115,117,11332,11346,11351,11357,11363,11380,4,2,105,121,11338,11343,114,99,59,1,309,59,1,1081,114,59,3,55349,56615,97,116,104,59,1,567,112,102,59,3,55349,56667,4,2,99,101,11369,11374,114,59,3,55349,56511,114,99,121,59,1,1112,107,99,121,59,1,1108,4,8,97,99,102,103,104,106,111,115,11404,11418,11433,11438,11445,11450,11455,11461,112,112,97,4,2,59,118,11413,11415,1,954,59,1,1008,4,2,101,121,11424,11430,100,105,108,59,1,311,59,1,1082,114,59,3,55349,56616,114,101,101,110,59,1,312,99,121,59,1,1093,99,121,59,1,1116,112,102,59,3,55349,56668,99,114,59,3,55349,56512,4,23,65,66,69,72,97,98,99,100,101,102,103,104,106,108,109,110,111,112,114,115,116,117,118,11515,11538,11544,11555,11560,11721,11780,11818,11868,12136,12160,12171,12203,12208,12246,12275,12327,12509,12523,12569,12641,12732,12752,4,3,97,114,116,11523,11528,11532,114,114,59,1,8666,114,59,1,8656,97,105,108,59,1,10523,97,114,114,59,1,10510,4,2,59,103,11550,11552,1,8806,59,1,10891,97,114,59,1,10594,4,9,99,101,103,109,110,112,113,114,116,11580,11586,11594,11600,11606,11624,11627,11636,11694,117,116,101,59,1,314,109,112,116,121,118,59,1,10676,114,97,110,59,1,8466,98,100,97,59,1,955,103,4,3,59,100,108,11615,11617,11620,1,10216,59,1,10641,101,59,1,10216,59,1,10885,117,111,5,171,1,59,11634,1,171,114,4,8,59,98,102,104,108,112,115,116,11655,11657,11669,11673,11677,11681,11685,11690,1,8592,4,2,59,102,11663,11665,1,8676,115,59,1,10527,115,59,1,10525,107,59,1,8617,112,59,1,8619,108,59,1,10553,105,109,59,1,10611,108,59,1,8610,4,3,59,97,101,11702,11704,11709,1,10923,105,108,59,1,10521,4,2,59,115,11715,11717,1,10925,59,3,10925,65024,4,3,97,98,114,11729,11734,11739,114,114,59,1,10508,114,107,59,1,10098,4,2,97,107,11745,11758,99,4,2,101,107,11752,11755,59,1,123,59,1,91,4,2,101,115,11764,11767,59,1,10635,108,4,2,100,117,11774,11777,59,1,10639,59,1,10637,4,4,97,101,117,121,11790,11796,11811,11815,114,111,110,59,1,318,4,2,100,105,11802,11807,105,108,59,1,316,108,59,1,8968,98,59,1,123,59,1,1083,4,4,99,113,114,115,11828,11832,11845,11864,97,59,1,10550,117,111,4,2,59,114,11840,11842,1,8220,59,1,8222,4,2,100,117,11851,11857,104,97,114,59,1,10599,115,104,97,114,59,1,10571,104,59,1,8626,4,5,59,102,103,113,115,11880,11882,12008,12011,12031,1,8804,116,4,5,97,104,108,114,116,11895,11913,11935,11947,11996,114,114,111,119,4,2,59,116,11905,11907,1,8592,97,105,108,59,1,8610,97,114,112,111,111,110,4,2,100,117,11925,11931,111,119,110,59,1,8637,112,59,1,8636,101,102,116,97,114,114,111,119,115,59,1,8647,105,103,104,116,4,3,97,104,115,11959,11974,11984,114,114,111,119,4,2,59,115,11969,11971,1,8596,59,1,8646,97,114,112,111,111,110,115,59,1,8651,113,117,105,103,97,114,114,111,119,59,1,8621,104,114,101,101,116,105,109,101,115,59,1,8907,59,1,8922,4,3,59,113,115,12019,12021,12024,1,8804,59,1,8806,108,97,110,116,59,1,10877,4,5,59,99,100,103,115,12043,12045,12049,12070,12083,1,10877,99,59,1,10920,111,116,4,2,59,111,12057,12059,1,10879,4,2,59,114,12065,12067,1,10881,59,1,10883,4,2,59,101,12076,12079,3,8922,65024,115,59,1,10899,4,5,97,100,101,103,115,12095,12103,12108,12126,12131,112,112,114,111,120,59,1,10885,111,116,59,1,8918,113,4,2,103,113,12115,12120,116,114,59,1,8922,103,116,114,59,1,10891,116,114,59,1,8822,105,109,59,1,8818,4,3,105,108,114,12144,12150,12156,115,104,116,59,1,10620,111,111,114,59,1,8970,59,3,55349,56617,4,2,59,69,12166,12168,1,8822,59,1,10897,4,2,97,98,12177,12198,114,4,2,100,117,12184,12187,59,1,8637,4,2,59,108,12193,12195,1,8636,59,1,10602,108,107,59,1,9604,99,121,59,1,1113,4,5,59,97,99,104,116,12220,12222,12227,12235,12241,1,8810,114,114,59,1,8647,111,114,110,101,114,59,1,8990,97,114,100,59,1,10603,114,105,59,1,9722,4,2,105,111,12252,12258,100,111,116,59,1,320,117,115,116,4,2,59,97,12267,12269,1,9136,99,104,101,59,1,9136,4,4,69,97,101,115,12285,12288,12303,12322,59,1,8808,112,4,2,59,112,12295,12297,1,10889,114,111,120,59,1,10889,4,2,59,113,12309,12311,1,10887,4,2,59,113,12317,12319,1,10887,59,1,8808,105,109,59,1,8934,4,8,97,98,110,111,112,116,119,122,12345,12359,12364,12421,12446,12467,12474,12490,4,2,110,114,12351,12355,103,59,1,10220,114,59,1,8701,114,107,59,1,10214,103,4,3,108,109,114,12373,12401,12409,101,102,116,4,2,97,114,12382,12389,114,114,111,119,59,1,10229,105,103,104,116,97,114,114,111,119,59,1,10231,97,112,115,116,111,59,1,10236,105,103,104,116,97,114,114,111,119,59,1,10230,112,97,114,114,111,119,4,2,108,114,12433,12439,101,102,116,59,1,8619,105,103,104,116,59,1,8620,4,3,97,102,108,12454,12458,12462,114,59,1,10629,59,3,55349,56669,117,115,59,1,10797,105,109,101,115,59,1,10804,4,2,97,98,12480,12485,115,116,59,1,8727,97,114,59,1,95,4,3,59,101,102,12498,12500,12506,1,9674,110,103,101,59,1,9674,59,1,10731,97,114,4,2,59,108,12517,12519,1,40,116,59,1,10643,4,5,97,99,104,109,116,12535,12540,12548,12561,12564,114,114,59,1,8646,111,114,110,101,114,59,1,8991,97,114,4,2,59,100,12556,12558,1,8651,59,1,10605,59,1,8206,114,105,59,1,8895,4,6,97,99,104,105,113,116,12583,12589,12594,12597,12614,12635,113,117,111,59,1,8249,114,59,3,55349,56513,59,1,8624,109,4,3,59,101,103,12606,12608,12611,1,8818,59,1,10893,59,1,10895,4,2,98,117,12620,12623,59,1,91,111,4,2,59,114,12630,12632,1,8216,59,1,8218,114,111,107,59,1,322,5,60,8,59,99,100,104,105,108,113,114,12660,12662,12675,12680,12686,12692,12698,12705,1,60,4,2,99,105,12668,12671,59,1,10918,114,59,1,10873,111,116,59,1,8918,114,101,101,59,1,8907,109,101,115,59,1,8905,97,114,114,59,1,10614,117,101,115,116,59,1,10875,4,2,80,105,12711,12716,97,114,59,1,10646,4,3,59,101,102,12724,12726,12729,1,9667,59,1,8884,59,1,9666,114,4,2,100,117,12739,12746,115,104,97,114,59,1,10570,104,97,114,59,1,10598,4,2,101,110,12758,12768,114,116,110,101,113,113,59,3,8808,65024,69,59,3,8808,65024,4,14,68,97,99,100,101,102,104,105,108,110,111,112,115,117,12803,12809,12893,12908,12914,12928,12933,12937,13011,13025,13032,13049,13052,13069,68,111,116,59,1,8762,4,4,99,108,112,114,12819,12827,12849,12887,114,5,175,1,59,12825,1,175,4,2,101,116,12833,12836,59,1,9794,4,2,59,101,12842,12844,1,10016,115,101,59,1,10016,4,2,59,115,12855,12857,1,8614,116,111,4,4,59,100,108,117,12869,12871,12877,12883,1,8614,111,119,110,59,1,8615,101,102,116,59,1,8612,112,59,1,8613,107,101,114,59,1,9646,4,2,111,121,12899,12905,109,109,97,59,1,10793,59,1,1084,97,115,104,59,1,8212,97,115,117,114,101,100,97,110,103,108,101,59,1,8737,114,59,3,55349,56618,111,59,1,8487,4,3,99,100,110,12945,12954,12985,114,111,5,181,1,59,12952,1,181,4,4,59,97,99,100,12964,12966,12971,12976,1,8739,115,116,59,1,42,105,114,59,1,10992,111,116,5,183,1,59,12983,1,183,117,115,4,3,59,98,100,12995,12997,13e3,1,8722,59,1,8863,4,2,59,117,13006,13008,1,8760,59,1,10794,4,2,99,100,13017,13021,112,59,1,10971,114,59,1,8230,112,108,117,115,59,1,8723,4,2,100,112,13038,13044,101,108,115,59,1,8871,102,59,3,55349,56670,59,1,8723,4,2,99,116,13058,13063,114,59,3,55349,56514,112,111,115,59,1,8766,4,3,59,108,109,13077,13079,13087,1,956,116,105,109,97,112,59,1,8888,97,112,59,1,8888,4,24,71,76,82,86,97,98,99,100,101,102,103,104,105,106,108,109,111,112,114,115,116,117,118,119,13142,13165,13217,13229,13247,13330,13359,13414,13420,13508,13513,13579,13602,13626,13631,13762,13767,13855,13936,13995,14214,14285,14312,14432,4,2,103,116,13148,13152,59,3,8921,824,4,2,59,118,13158,13161,3,8811,8402,59,3,8811,824,4,3,101,108,116,13173,13200,13204,102,116,4,2,97,114,13181,13188,114,114,111,119,59,1,8653,105,103,104,116,97,114,114,111,119,59,1,8654,59,3,8920,824,4,2,59,118,13210,13213,3,8810,8402,59,3,8810,824,105,103,104,116,97,114,114,111,119,59,1,8655,4,2,68,100,13235,13241,97,115,104,59,1,8879,97,115,104,59,1,8878,4,5,98,99,110,112,116,13259,13264,13270,13275,13308,108,97,59,1,8711,117,116,101,59,1,324,103,59,3,8736,8402,4,5,59,69,105,111,112,13287,13289,13293,13298,13302,1,8777,59,3,10864,824,100,59,3,8779,824,115,59,1,329,114,111,120,59,1,8777,117,114,4,2,59,97,13316,13318,1,9838,108,4,2,59,115,13325,13327,1,9838,59,1,8469,4,2,115,117,13336,13344,112,5,160,1,59,13342,1,160,109,112,4,2,59,101,13352,13355,3,8782,824,59,3,8783,824,4,5,97,101,111,117,121,13371,13385,13391,13407,13411,4,2,112,114,13377,13380,59,1,10819,111,110,59,1,328,100,105,108,59,1,326,110,103,4,2,59,100,13399,13401,1,8775,111,116,59,3,10861,824,112,59,1,10818,59,1,1085,97,115,104,59,1,8211,4,7,59,65,97,100,113,115,120,13436,13438,13443,13466,13472,13478,13494,1,8800,114,114,59,1,8663,114,4,2,104,114,13450,13454,107,59,1,10532,4,2,59,111,13460,13462,1,8599,119,59,1,8599,111,116,59,3,8784,824,117,105,118,59,1,8802,4,2,101,105,13484,13489,97,114,59,1,10536,109,59,3,8770,824,105,115,116,4,2,59,115,13503,13505,1,8708,59,1,8708,114,59,3,55349,56619,4,4,69,101,115,116,13523,13527,13563,13568,59,3,8807,824,4,3,59,113,115,13535,13537,13559,1,8817,4,3,59,113,115,13545,13547,13551,1,8817,59,3,8807,824,108,97,110,116,59,3,10878,824,59,3,10878,824,105,109,59,1,8821,4,2,59,114,13574,13576,1,8815,59,1,8815,4,3,65,97,112,13587,13592,13597,114,114,59,1,8654,114,114,59,1,8622,97,114,59,1,10994,4,3,59,115,118,13610,13612,13623,1,8715,4,2,59,100,13618,13620,1,8956,59,1,8954,59,1,8715,99,121,59,1,1114,4,7,65,69,97,100,101,115,116,13647,13652,13656,13661,13665,13737,13742,114,114,59,1,8653,59,3,8806,824,114,114,59,1,8602,114,59,1,8229,4,4,59,102,113,115,13675,13677,13703,13725,1,8816,116,4,2,97,114,13684,13691,114,114,111,119,59,1,8602,105,103,104,116,97,114,114,111,119,59,1,8622,4,3,59,113,115,13711,13713,13717,1,8816,59,3,8806,824,108,97,110,116,59,3,10877,824,4,2,59,115,13731,13734,3,10877,824,59,1,8814,105,109,59,1,8820,4,2,59,114,13748,13750,1,8814,105,4,2,59,101,13757,13759,1,8938,59,1,8940,105,100,59,1,8740,4,2,112,116,13773,13778,102,59,3,55349,56671,5,172,3,59,105,110,13787,13789,13829,1,172,110,4,4,59,69,100,118,13800,13802,13806,13812,1,8713,59,3,8953,824,111,116,59,3,8949,824,4,3,97,98,99,13820,13823,13826,59,1,8713,59,1,8951,59,1,8950,105,4,2,59,118,13836,13838,1,8716,4,3,97,98,99,13846,13849,13852,59,1,8716,59,1,8958,59,1,8957,4,3,97,111,114,13863,13892,13899,114,4,4,59,97,115,116,13874,13876,13883,13888,1,8742,108,108,101,108,59,1,8742,108,59,3,11005,8421,59,3,8706,824,108,105,110,116,59,1,10772,4,3,59,99,101,13907,13909,13914,1,8832,117,101,59,1,8928,4,2,59,99,13920,13923,3,10927,824,4,2,59,101,13929,13931,1,8832,113,59,3,10927,824,4,4,65,97,105,116,13946,13951,13971,13982,114,114,59,1,8655,114,114,4,3,59,99,119,13961,13963,13967,1,8603,59,3,10547,824,59,3,8605,824,103,104,116,97,114,114,111,119,59,1,8603,114,105,4,2,59,101,13990,13992,1,8939,59,1,8941,4,7,99,104,105,109,112,113,117,14011,14036,14060,14080,14085,14090,14106,4,4,59,99,101,114,14021,14023,14028,14032,1,8833,117,101,59,1,8929,59,3,10928,824,59,3,55349,56515,111,114,116,4,2,109,112,14045,14050,105,100,59,1,8740,97,114,97,108,108,101,108,59,1,8742,109,4,2,59,101,14067,14069,1,8769,4,2,59,113,14075,14077,1,8772,59,1,8772,105,100,59,1,8740,97,114,59,1,8742,115,117,4,2,98,112,14098,14102,101,59,1,8930,101,59,1,8931,4,3,98,99,112,14114,14157,14171,4,4,59,69,101,115,14124,14126,14130,14133,1,8836,59,3,10949,824,59,1,8840,101,116,4,2,59,101,14141,14144,3,8834,8402,113,4,2,59,113,14151,14153,1,8840,59,3,10949,824,99,4,2,59,101,14164,14166,1,8833,113,59,3,10928,824,4,4,59,69,101,115,14181,14183,14187,14190,1,8837,59,3,10950,824,59,1,8841,101,116,4,2,59,101,14198,14201,3,8835,8402,113,4,2,59,113,14208,14210,1,8841,59,3,10950,824,4,4,103,105,108,114,14224,14228,14238,14242,108,59,1,8825,108,100,101,5,241,1,59,14236,1,241,103,59,1,8824,105,97,110,103,108,101,4,2,108,114,14254,14269,101,102,116,4,2,59,101,14263,14265,1,8938,113,59,1,8940,105,103,104,116,4,2,59,101,14279,14281,1,8939,113,59,1,8941,4,2,59,109,14291,14293,1,957,4,3,59,101,115,14301,14303,14308,1,35,114,111,59,1,8470,112,59,1,8199,4,9,68,72,97,100,103,105,108,114,115,14332,14338,14344,14349,14355,14369,14376,14408,14426,97,115,104,59,1,8877,97,114,114,59,1,10500,112,59,3,8781,8402,97,115,104,59,1,8876,4,2,101,116,14361,14365,59,3,8805,8402,59,3,62,8402,110,102,105,110,59,1,10718,4,3,65,101,116,14384,14389,14393,114,114,59,1,10498,59,3,8804,8402,4,2,59,114,14399,14402,3,60,8402,105,101,59,3,8884,8402,4,2,65,116,14414,14419,114,114,59,1,10499,114,105,101,59,3,8885,8402,105,109,59,3,8764,8402,4,3,65,97,110,14440,14445,14468,114,114,59,1,8662,114,4,2,104,114,14452,14456,107,59,1,10531,4,2,59,111,14462,14464,1,8598,119,59,1,8598,101,97,114,59,1,10535,4,18,83,97,99,100,101,102,103,104,105,108,109,111,112,114,115,116,117,118,14512,14515,14535,14560,14597,14603,14618,14643,14657,14662,14701,14741,14747,14769,14851,14877,14907,14916,59,1,9416,4,2,99,115,14521,14531,117,116,101,5,243,1,59,14529,1,243,116,59,1,8859,4,2,105,121,14541,14557,114,4,2,59,99,14548,14550,1,8858,5,244,1,59,14555,1,244,59,1,1086,4,5,97,98,105,111,115,14572,14577,14583,14587,14591,115,104,59,1,8861,108,97,99,59,1,337,118,59,1,10808,116,59,1,8857,111,108,100,59,1,10684,108,105,103,59,1,339,4,2,99,114,14609,14614,105,114,59,1,10687,59,3,55349,56620,4,3,111,114,116,14626,14630,14640,110,59,1,731,97,118,101,5,242,1,59,14638,1,242,59,1,10689,4,2,98,109,14649,14654,97,114,59,1,10677,59,1,937,110,116,59,1,8750,4,4,97,99,105,116,14672,14677,14693,14698,114,114,59,1,8634,4,2,105,114,14683,14687,114,59,1,10686,111,115,115,59,1,10683,110,101,59,1,8254,59,1,10688,4,3,97,101,105,14709,14714,14719,99,114,59,1,333,103,97,59,1,969,4,3,99,100,110,14727,14733,14736,114,111,110,59,1,959,59,1,10678,117,115,59,1,8854,112,102,59,3,55349,56672,4,3,97,101,108,14755,14759,14764,114,59,1,10679,114,112,59,1,10681,117,115,59,1,8853,4,7,59,97,100,105,111,115,118,14785,14787,14792,14831,14837,14841,14848,1,8744,114,114,59,1,8635,4,4,59,101,102,109,14802,14804,14817,14824,1,10845,114,4,2,59,111,14811,14813,1,8500,102,59,1,8500,5,170,1,59,14822,1,170,5,186,1,59,14829,1,186,103,111,102,59,1,8886,114,59,1,10838,108,111,112,101,59,1,10839,59,1,10843,4,3,99,108,111,14859,14863,14873,114,59,1,8500,97,115,104,5,248,1,59,14871,1,248,108,59,1,8856,105,4,2,108,109,14884,14893,100,101,5,245,1,59,14891,1,245,101,115,4,2,59,97,14901,14903,1,8855,115,59,1,10806,109,108,5,246,1,59,14914,1,246,98,97,114,59,1,9021,4,12,97,99,101,102,104,105,108,109,111,114,115,117,14948,14992,14996,15033,15038,15068,15090,15189,15192,15222,15427,15441,114,4,4,59,97,115,116,14959,14961,14976,14989,1,8741,5,182,2,59,108,14968,14970,1,182,108,101,108,59,1,8741,4,2,105,108,14982,14986,109,59,1,10995,59,1,11005,59,1,8706,121,59,1,1087,114,4,5,99,105,109,112,116,15009,15014,15019,15024,15027,110,116,59,1,37,111,100,59,1,46,105,108,59,1,8240,59,1,8869,101,110,107,59,1,8241,114,59,3,55349,56621,4,3,105,109,111,15046,15057,15063,4,2,59,118,15052,15054,1,966,59,1,981,109,97,116,59,1,8499,110,101,59,1,9742,4,3,59,116,118,15076,15078,15087,1,960,99,104,102,111,114,107,59,1,8916,59,1,982,4,2,97,117,15096,15119,110,4,2,99,107,15103,15115,107,4,2,59,104,15110,15112,1,8463,59,1,8462,118,59,1,8463,115,4,9,59,97,98,99,100,101,109,115,116,15140,15142,15148,15151,15156,15168,15171,15179,15184,1,43,99,105,114,59,1,10787,59,1,8862,105,114,59,1,10786,4,2,111,117,15162,15165,59,1,8724,59,1,10789,59,1,10866,110,5,177,1,59,15177,1,177,105,109,59,1,10790,119,111,59,1,10791,59,1,177,4,3,105,112,117,15200,15208,15213,110,116,105,110,116,59,1,10773,102,59,3,55349,56673,110,100,5,163,1,59,15220,1,163,4,10,59,69,97,99,101,105,110,111,115,117,15244,15246,15249,15253,15258,15334,15347,15367,15416,15421,1,8826,59,1,10931,112,59,1,10935,117,101,59,1,8828,4,2,59,99,15264,15266,1,10927,4,6,59,97,99,101,110,115,15280,15282,15290,15299,15303,15329,1,8826,112,112,114,111,120,59,1,10935,117,114,108,121,101,113,59,1,8828,113,59,1,10927,4,3,97,101,115,15311,15319,15324,112,112,114,111,120,59,1,10937,113,113,59,1,10933,105,109,59,1,8936,105,109,59,1,8830,109,101,4,2,59,115,15342,15344,1,8242,59,1,8473,4,3,69,97,115,15355,15358,15362,59,1,10933,112,59,1,10937,105,109,59,1,8936,4,3,100,102,112,15375,15378,15404,59,1,8719,4,3,97,108,115,15386,15392,15398,108,97,114,59,1,9006,105,110,101,59,1,8978,117,114,102,59,1,8979,4,2,59,116,15410,15412,1,8733,111,59,1,8733,105,109,59,1,8830,114,101,108,59,1,8880,4,2,99,105,15433,15438,114,59,3,55349,56517,59,1,968,110,99,115,112,59,1,8200,4,6,102,105,111,112,115,117,15462,15467,15472,15478,15485,15491,114,59,3,55349,56622,110,116,59,1,10764,112,102,59,3,55349,56674,114,105,109,101,59,1,8279,99,114,59,3,55349,56518,4,3,97,101,111,15499,15520,15534,116,4,2,101,105,15506,15515,114,110,105,111,110,115,59,1,8461,110,116,59,1,10774,115,116,4,2,59,101,15528,15530,1,63,113,59,1,8799,116,5,34,1,59,15540,1,34,4,21,65,66,72,97,98,99,100,101,102,104,105,108,109,110,111,112,114,115,116,117,120,15586,15609,15615,15620,15796,15855,15893,15931,15977,16001,16039,16183,16204,16222,16228,16285,16312,16318,16363,16408,16416,4,3,97,114,116,15594,15599,15603,114,114,59,1,8667,114,59,1,8658,97,105,108,59,1,10524,97,114,114,59,1,10511,97,114,59,1,10596,4,7,99,100,101,110,113,114,116,15636,15651,15656,15664,15687,15696,15770,4,2,101,117,15642,15646,59,3,8765,817,116,101,59,1,341,105,99,59,1,8730,109,112,116,121,118,59,1,10675,103,4,4,59,100,101,108,15675,15677,15680,15683,1,10217,59,1,10642,59,1,10661,101,59,1,10217,117,111,5,187,1,59,15694,1,187,114,4,11,59,97,98,99,102,104,108,112,115,116,119,15721,15723,15727,15739,15742,15746,15750,15754,15758,15763,15767,1,8594,112,59,1,10613,4,2,59,102,15733,15735,1,8677,115,59,1,10528,59,1,10547,115,59,1,10526,107,59,1,8618,112,59,1,8620,108,59,1,10565,105,109,59,1,10612,108,59,1,8611,59,1,8605,4,2,97,105,15776,15781,105,108,59,1,10522,111,4,2,59,110,15788,15790,1,8758,97,108,115,59,1,8474,4,3,97,98,114,15804,15809,15814,114,114,59,1,10509,114,107,59,1,10099,4,2,97,107,15820,15833,99,4,2,101,107,15827,15830,59,1,125,59,1,93,4,2,101,115,15839,15842,59,1,10636,108,4,2,100,117,15849,15852,59,1,10638,59,1,10640,4,4,97,101,117,121,15865,15871,15886,15890,114,111,110,59,1,345,4,2,100,105,15877,15882,105,108,59,1,343,108,59,1,8969,98,59,1,125,59,1,1088,4,4,99,108,113,115,15903,15907,15914,15927,97,59,1,10551,100,104,97,114,59,1,10601,117,111,4,2,59,114,15922,15924,1,8221,59,1,8221,104,59,1,8627,4,3,97,99,103,15939,15966,15970,108,4,4,59,105,112,115,15950,15952,15957,15963,1,8476,110,101,59,1,8475,97,114,116,59,1,8476,59,1,8477,116,59,1,9645,5,174,1,59,15975,1,174,4,3,105,108,114,15985,15991,15997,115,104,116,59,1,10621,111,111,114,59,1,8971,59,3,55349,56623,4,2,97,111,16007,16028,114,4,2,100,117,16014,16017,59,1,8641,4,2,59,108,16023,16025,1,8640,59,1,10604,4,2,59,118,16034,16036,1,961,59,1,1009,4,3,103,110,115,16047,16167,16171,104,116,4,6,97,104,108,114,115,116,16063,16081,16103,16130,16143,16155,114,114,111,119,4,2,59,116,16073,16075,1,8594,97,105,108,59,1,8611,97,114,112,111,111,110,4,2,100,117,16093,16099,111,119,110,59,1,8641,112,59,1,8640,101,102,116,4,2,97,104,16112,16120,114,114,111,119,115,59,1,8644,97,114,112,111,111,110,115,59,1,8652,105,103,104,116,97,114,114,111,119,115,59,1,8649,113,117,105,103,97,114,114,111,119,59,1,8605,104,114,101,101,116,105,109,101,115,59,1,8908,103,59,1,730,105,110,103,100,111,116,115,101,113,59,1,8787,4,3,97,104,109,16191,16196,16201,114,114,59,1,8644,97,114,59,1,8652,59,1,8207,111,117,115,116,4,2,59,97,16214,16216,1,9137,99,104,101,59,1,9137,109,105,100,59,1,10990,4,4,97,98,112,116,16238,16252,16257,16278,4,2,110,114,16244,16248,103,59,1,10221,114,59,1,8702,114,107,59,1,10215,4,3,97,102,108,16265,16269,16273,114,59,1,10630,59,3,55349,56675,117,115,59,1,10798,105,109,101,115,59,1,10805,4,2,97,112,16291,16304,114,4,2,59,103,16298,16300,1,41,116,59,1,10644,111,108,105,110,116,59,1,10770,97,114,114,59,1,8649,4,4,97,99,104,113,16328,16334,16339,16342,113,117,111,59,1,8250,114,59,3,55349,56519,59,1,8625,4,2,98,117,16348,16351,59,1,93,111,4,2,59,114,16358,16360,1,8217,59,1,8217,4,3,104,105,114,16371,16377,16383,114,101,101,59,1,8908,109,101,115,59,1,8906,105,4,4,59,101,102,108,16394,16396,16399,16402,1,9657,59,1,8885,59,1,9656,116,114,105,59,1,10702,108,117,104,97,114,59,1,10600,59,1,8478,4,19,97,98,99,100,101,102,104,105,108,109,111,112,113,114,115,116,117,119,122,16459,16466,16472,16572,16590,16672,16687,16746,16844,16850,16924,16963,16988,17115,17121,17154,17206,17614,17656,99,117,116,101,59,1,347,113,117,111,59,1,8218,4,10,59,69,97,99,101,105,110,112,115,121,16494,16496,16499,16513,16518,16531,16536,16556,16564,16569,1,8827,59,1,10932,4,2,112,114,16505,16508,59,1,10936,111,110,59,1,353,117,101,59,1,8829,4,2,59,100,16524,16526,1,10928,105,108,59,1,351,114,99,59,1,349,4,3,69,97,115,16544,16547,16551,59,1,10934,112,59,1,10938,105,109,59,1,8937,111,108,105,110,116,59,1,10771,105,109,59,1,8831,59,1,1089,111,116,4,3,59,98,101,16582,16584,16587,1,8901,59,1,8865,59,1,10854,4,7,65,97,99,109,115,116,120,16606,16611,16634,16642,16646,16652,16668,114,114,59,1,8664,114,4,2,104,114,16618,16622,107,59,1,10533,4,2,59,111,16628,16630,1,8600,119,59,1,8600,116,5,167,1,59,16640,1,167,105,59,1,59,119,97,114,59,1,10537,109,4,2,105,110,16659,16665,110,117,115,59,1,8726,59,1,8726,116,59,1,10038,114,4,2,59,111,16679,16682,3,55349,56624,119,110,59,1,8994,4,4,97,99,111,121,16697,16702,16716,16739,114,112,59,1,9839,4,2,104,121,16708,16713,99,121,59,1,1097,59,1,1096,114,116,4,2,109,112,16724,16729,105,100,59,1,8739,97,114,97,108,108,101,108,59,1,8741,5,173,1,59,16744,1,173,4,2,103,109,16752,16770,109,97,4,3,59,102,118,16762,16764,16767,1,963,59,1,962,59,1,962,4,8,59,100,101,103,108,110,112,114,16788,16790,16795,16806,16817,16828,16832,16838,1,8764,111,116,59,1,10858,4,2,59,113,16801,16803,1,8771,59,1,8771,4,2,59,69,16812,16814,1,10910,59,1,10912,4,2,59,69,16823,16825,1,10909,59,1,10911,101,59,1,8774,108,117,115,59,1,10788,97,114,114,59,1,10610,97,114,114,59,1,8592,4,4,97,101,105,116,16860,16883,16891,16904,4,2,108,115,16866,16878,108,115,101,116,109,105,110,117,115,59,1,8726,104,112,59,1,10803,112,97,114,115,108,59,1,10724,4,2,100,108,16897,16900,59,1,8739,101,59,1,8995,4,2,59,101,16910,16912,1,10922,4,2,59,115,16918,16920,1,10924,59,3,10924,65024,4,3,102,108,112,16932,16938,16958,116,99,121,59,1,1100,4,2,59,98,16944,16946,1,47,4,2,59,97,16952,16954,1,10692,114,59,1,9023,102,59,3,55349,56676,97,4,2,100,114,16970,16985,101,115,4,2,59,117,16978,16980,1,9824,105,116,59,1,9824,59,1,8741,4,3,99,115,117,16996,17028,17089,4,2,97,117,17002,17015,112,4,2,59,115,17009,17011,1,8851,59,3,8851,65024,112,4,2,59,115,17022,17024,1,8852,59,3,8852,65024,117,4,2,98,112,17035,17062,4,3,59,101,115,17043,17045,17048,1,8847,59,1,8849,101,116,4,2,59,101,17056,17058,1,8847,113,59,1,8849,4,3,59,101,115,17070,17072,17075,1,8848,59,1,8850,101,116,4,2,59,101,17083,17085,1,8848,113,59,1,8850,4,3,59,97,102,17097,17099,17112,1,9633,114,4,2,101,102,17106,17109,59,1,9633,59,1,9642,59,1,9642,97,114,114,59,1,8594,4,4,99,101,109,116,17131,17136,17142,17148,114,59,3,55349,56520,116,109,110,59,1,8726,105,108,101,59,1,8995,97,114,102,59,1,8902,4,2,97,114,17160,17172,114,4,2,59,102,17167,17169,1,9734,59,1,9733,4,2,97,110,17178,17202,105,103,104,116,4,2,101,112,17188,17197,112,115,105,108,111,110,59,1,1013,104,105,59,1,981,115,59,1,175,4,5,98,99,109,110,112,17218,17351,17420,17423,17427,4,9,59,69,100,101,109,110,112,114,115,17238,17240,17243,17248,17261,17267,17279,17285,17291,1,8834,59,1,10949,111,116,59,1,10941,4,2,59,100,17254,17256,1,8838,111,116,59,1,10947,117,108,116,59,1,10945,4,2,69,101,17273,17276,59,1,10955,59,1,8842,108,117,115,59,1,10943,97,114,114,59,1,10617,4,3,101,105,117,17299,17335,17339,116,4,3,59,101,110,17308,17310,17322,1,8834,113,4,2,59,113,17317,17319,1,8838,59,1,10949,101,113,4,2,59,113,17330,17332,1,8842,59,1,10955,109,59,1,10951,4,2,98,112,17345,17348,59,1,10965,59,1,10963,99,4,6,59,97,99,101,110,115,17366,17368,17376,17385,17389,17415,1,8827,112,112,114,111,120,59,1,10936,117,114,108,121,101,113,59,1,8829,113,59,1,10928,4,3,97,101,115,17397,17405,17410,112,112,114,111,120,59,1,10938,113,113,59,1,10934,105,109,59,1,8937,105,109,59,1,8831,59,1,8721,103,59,1,9834,4,13,49,50,51,59,69,100,101,104,108,109,110,112,115,17455,17462,17469,17476,17478,17481,17496,17509,17524,17530,17536,17548,17554,5,185,1,59,17460,1,185,5,178,1,59,17467,1,178,5,179,1,59,17474,1,179,1,8835,59,1,10950,4,2,111,115,17487,17491,116,59,1,10942,117,98,59,1,10968,4,2,59,100,17502,17504,1,8839,111,116,59,1,10948,115,4,2,111,117,17516,17520,108,59,1,10185,98,59,1,10967,97,114,114,59,1,10619,117,108,116,59,1,10946,4,2,69,101,17542,17545,59,1,10956,59,1,8843,108,117,115,59,1,10944,4,3,101,105,117,17562,17598,17602,116,4,3,59,101,110,17571,17573,17585,1,8835,113,4,2,59,113,17580,17582,1,8839,59,1,10950,101,113,4,2,59,113,17593,17595,1,8843,59,1,10956,109,59,1,10952,4,2,98,112,17608,17611,59,1,10964,59,1,10966,4,3,65,97,110,17622,17627,17650,114,114,59,1,8665,114,4,2,104,114,17634,17638,107,59,1,10534,4,2,59,111,17644,17646,1,8601,119,59,1,8601,119,97,114,59,1,10538,108,105,103,5,223,1,59,17664,1,223,4,13,97,98,99,100,101,102,104,105,111,112,114,115,119,17694,17709,17714,17737,17742,17749,17754,17860,17905,17957,17964,18090,18122,4,2,114,117,17700,17706,103,101,116,59,1,8982,59,1,964,114,107,59,1,9140,4,3,97,101,121,17722,17728,17734,114,111,110,59,1,357,100,105,108,59,1,355,59,1,1090,111,116,59,1,8411,108,114,101,99,59,1,8981,114,59,3,55349,56625,4,4,101,105,107,111,17764,17805,17836,17851,4,2,114,116,17770,17786,101,4,2,52,102,17777,17780,59,1,8756,111,114,101,59,1,8756,97,4,3,59,115,118,17795,17797,17802,1,952,121,109,59,1,977,59,1,977,4,2,99,110,17811,17831,107,4,2,97,115,17818,17826,112,112,114,111,120,59,1,8776,105,109,59,1,8764,115,112,59,1,8201,4,2,97,115,17842,17846,112,59,1,8776,105,109,59,1,8764,114,110,5,254,1,59,17858,1,254,4,3,108,109,110,17868,17873,17901,100,101,59,1,732,101,115,5,215,3,59,98,100,17884,17886,17898,1,215,4,2,59,97,17892,17894,1,8864,114,59,1,10801,59,1,10800,116,59,1,8749,4,3,101,112,115,17913,17917,17953,97,59,1,10536,4,4,59,98,99,102,17927,17929,17934,17939,1,8868,111,116,59,1,9014,105,114,59,1,10993,4,2,59,111,17945,17948,3,55349,56677,114,107,59,1,10970,97,59,1,10537,114,105,109,101,59,1,8244,4,3,97,105,112,17972,17977,18082,100,101,59,1,8482,4,7,97,100,101,109,112,115,116,17993,18051,18056,18059,18066,18072,18076,110,103,108,101,4,5,59,100,108,113,114,18009,18011,18017,18032,18035,1,9653,111,119,110,59,1,9663,101,102,116,4,2,59,101,18026,18028,1,9667,113,59,1,8884,59,1,8796,105,103,104,116,4,2,59,101,18045,18047,1,9657,113,59,1,8885,111,116,59,1,9708,59,1,8796,105,110,117,115,59,1,10810,108,117,115,59,1,10809,98,59,1,10701,105,109,101,59,1,10811,101,122,105,117,109,59,1,9186,4,3,99,104,116,18098,18111,18116,4,2,114,121,18104,18108,59,3,55349,56521,59,1,1094,99,121,59,1,1115,114,111,107,59,1,359,4,2,105,111,18128,18133,120,116,59,1,8812,104,101,97,100,4,2,108,114,18143,18154,101,102,116,97,114,114,111,119,59,1,8606,105,103,104,116,97,114,114,111,119,59,1,8608,4,18,65,72,97,98,99,100,102,103,104,108,109,111,112,114,115,116,117,119,18204,18209,18214,18234,18250,18268,18292,18308,18319,18343,18379,18397,18413,18504,18547,18553,18584,18603,114,114,59,1,8657,97,114,59,1,10595,4,2,99,114,18220,18230,117,116,101,5,250,1,59,18228,1,250,114,59,1,8593,114,4,2,99,101,18241,18245,121,59,1,1118,118,101,59,1,365,4,2,105,121,18256,18265,114,99,5,251,1,59,18263,1,251,59,1,1091,4,3,97,98,104,18276,18281,18287,114,114,59,1,8645,108,97,99,59,1,369,97,114,59,1,10606,4,2,105,114,18298,18304,115,104,116,59,1,10622,59,3,55349,56626,114,97,118,101,5,249,1,59,18317,1,249,4,2,97,98,18325,18338,114,4,2,108,114,18332,18335,59,1,8639,59,1,8638,108,107,59,1,9600,4,2,99,116,18349,18374,4,2,111,114,18355,18369,114,110,4,2,59,101,18363,18365,1,8988,114,59,1,8988,111,112,59,1,8975,114,105,59,1,9720,4,2,97,108,18385,18390,99,114,59,1,363,5,168,1,59,18395,1,168,4,2,103,112,18403,18408,111,110,59,1,371,102,59,3,55349,56678,4,6,97,100,104,108,115,117,18427,18434,18445,18470,18475,18494,114,114,111,119,59,1,8593,111,119,110,97,114,114,111,119,59,1,8597,97,114,112,111,111,110,4,2,108,114,18457,18463,101,102,116,59,1,8639,105,103,104,116,59,1,8638,117,115,59,1,8846,105,4,3,59,104,108,18484,18486,18489,1,965,59,1,978,111,110,59,1,965,112,97,114,114,111,119,115,59,1,8648,4,3,99,105,116,18512,18537,18542,4,2,111,114,18518,18532,114,110,4,2,59,101,18526,18528,1,8989,114,59,1,8989,111,112,59,1,8974,110,103,59,1,367,114,105,59,1,9721,99,114,59,3,55349,56522,4,3,100,105,114,18561,18566,18572,111,116,59,1,8944,108,100,101,59,1,361,105,4,2,59,102,18579,18581,1,9653,59,1,9652,4,2,97,109,18590,18595,114,114,59,1,8648,108,5,252,1,59,18601,1,252,97,110,103,108,101,59,1,10663,4,15,65,66,68,97,99,100,101,102,108,110,111,112,114,115,122,18643,18648,18661,18667,18847,18851,18857,18904,18909,18915,18931,18937,18943,18949,18996,114,114,59,1,8661,97,114,4,2,59,118,18656,18658,1,10984,59,1,10985,97,115,104,59,1,8872,4,2,110,114,18673,18679,103,114,116,59,1,10652,4,7,101,107,110,112,114,115,116,18695,18704,18711,18720,18742,18754,18810,112,115,105,108,111,110,59,1,1013,97,112,112,97,59,1,1008,111,116,104,105,110,103,59,1,8709,4,3,104,105,114,18728,18732,18735,105,59,1,981,59,1,982,111,112,116,111,59,1,8733,4,2,59,104,18748,18750,1,8597,111,59,1,1009,4,2,105,117,18760,18766,103,109,97,59,1,962,4,2,98,112,18772,18791,115,101,116,110,101,113,4,2,59,113,18784,18787,3,8842,65024,59,3,10955,65024,115,101,116,110,101,113,4,2,59,113,18803,18806,3,8843,65024,59,3,10956,65024,4,2,104,114,18816,18822,101,116,97,59,1,977,105,97,110,103,108,101,4,2,108,114,18834,18840,101,102,116,59,1,8882,105,103,104,116,59,1,8883,121,59,1,1074,97,115,104,59,1,8866,4,3,101,108,114,18865,18884,18890,4,3,59,98,101,18873,18875,18880,1,8744,97,114,59,1,8891,113,59,1,8794,108,105,112,59,1,8942,4,2,98,116,18896,18901,97,114,59,1,124,59,1,124,114,59,3,55349,56627,116,114,105,59,1,8882,115,117,4,2,98,112,18923,18927,59,3,8834,8402,59,3,8835,8402,112,102,59,3,55349,56679,114,111,112,59,1,8733,116,114,105,59,1,8883,4,2,99,117,18955,18960,114,59,3,55349,56523,4,2,98,112,18966,18981,110,4,2,69,101,18973,18977,59,3,10955,65024,59,3,8842,65024,110,4,2,69,101,18988,18992,59,3,10956,65024,59,3,8843,65024,105,103,122,97,103,59,1,10650,4,7,99,101,102,111,112,114,115,19020,19026,19061,19066,19072,19075,19089,105,114,99,59,1,373,4,2,100,105,19032,19055,4,2,98,103,19038,19043,97,114,59,1,10847,101,4,2,59,113,19050,19052,1,8743,59,1,8793,101,114,112,59,1,8472,114,59,3,55349,56628,112,102,59,3,55349,56680,59,1,8472,4,2,59,101,19081,19083,1,8768,97,116,104,59,1,8768,99,114,59,3,55349,56524,4,14,99,100,102,104,105,108,109,110,111,114,115,117,118,119,19125,19146,19152,19157,19173,19176,19192,19197,19202,19236,19252,19269,19286,19291,4,3,97,105,117,19133,19137,19142,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,116,114,105,59,1,9661,114,59,3,55349,56629,4,2,65,97,19163,19168,114,114,59,1,10234,114,114,59,1,10231,59,1,958,4,2,65,97,19182,19187,114,114,59,1,10232,114,114,59,1,10229,97,112,59,1,10236,105,115,59,1,8955,4,3,100,112,116,19210,19215,19230,111,116,59,1,10752,4,2,102,108,19221,19225,59,3,55349,56681,117,115,59,1,10753,105,109,101,59,1,10754,4,2,65,97,19242,19247,114,114,59,1,10233,114,114,59,1,10230,4,2,99,113,19258,19263,114,59,3,55349,56525,99,117,112,59,1,10758,4,2,112,116,19275,19281,108,117,115,59,1,10756,114,105,59,1,9651,101,101,59,1,8897,101,100,103,101,59,1,8896,4,8,97,99,101,102,105,111,115,117,19316,19335,19349,19357,19362,19367,19373,19379,99,4,2,117,121,19323,19332,116,101,5,253,1,59,19330,1,253,59,1,1103,4,2,105,121,19341,19346,114,99,59,1,375,59,1,1099,110,5,165,1,59,19355,1,165,114,59,3,55349,56630,99,121,59,1,1111,112,102,59,3,55349,56682,99,114,59,3,55349,56526,4,2,99,109,19385,19389,121,59,1,1102,108,5,255,1,59,19395,1,255,4,10,97,99,100,101,102,104,105,111,115,119,19419,19426,19441,19446,19462,19467,19472,19480,19486,19492,99,117,116,101,59,1,378,4,2,97,121,19432,19438,114,111,110,59,1,382,59,1,1079,111,116,59,1,380,4,2,101,116,19452,19458,116,114,102,59,1,8488,97,59,1,950,114,59,3,55349,56631,99,121,59,1,1078,103,114,97,114,114,59,1,8669,112,102,59,3,55349,56683,99,114,59,3,55349,56527,4,2,106,110,19498,19501,59,1,8205,106,59,1,8204])},function(f,r,t){var n=t(64),a=n.TAG_NAMES,l=n.NAMESPACES;function e(u){switch(u.length){case 1:return u===a.P;case 2:return u===a.RB||u===a.RP||u===a.RT||u===a.DD||u===a.DT||u===a.LI;case 3:return u===a.RTC;case 6:return u===a.OPTION;case 8:return u===a.OPTGROUP||u===a.MENUITEM}return!1}function o(u,c){switch(u.length){case 2:if(u===a.TD||u===a.TH)return c===l.HTML;if(u===a.MI||u===a.MO||u===a.MN||u===a.MS)return c===l.MATHML;break;case 4:if(u===a.HTML)return c===l.HTML;if(u===a.DESC)return c===l.SVG;break;case 5:if(u===a.TABLE)return c===l.HTML;if(u===a.MTEXT)return c===l.MATHML;if(u===a.TITLE)return c===l.SVG;break;case 6:return(u===a.APPLET||u===a.OBJECT)&&c===l.HTML;case 7:return(u===a.CAPTION||u===a.MARQUEE)&&c===l.HTML;case 8:return u===a.TEMPLATE&&c===l.HTML;case 13:return u===a.FOREIGN_OBJECT&&c===l.SVG;case 14:return u===a.ANNOTATION_XML&&c===l.MATHML}return!1}var s=f.exports=function(u,c){this.stackTop=-1,this.items=[],this.current=u,this.currentTagName=null,this.currentTmplContent=null,this.tmplCount=0,this.treeAdapter=c};s.prototype._indexOf=function(u){for(var c=-1,m=this.stackTop;m>=0;m--)if(this.items[m]===u){c=m;break}return c},s.prototype._isInTemplate=function(){return this.currentTagName===a.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===l.HTML},s.prototype._updateCurrentElement=function(){this.current=this.items[this.stackTop],this.currentTagName=this.current&&this.treeAdapter.getTagName(this.current),this.currentTmplContent=this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):null},s.prototype.push=function(u){this.items[++this.stackTop]=u,this._updateCurrentElement(),this._isInTemplate()&&this.tmplCount++},s.prototype.pop=function(){this.stackTop--,this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this._updateCurrentElement()},s.prototype.replace=function(u,c){var m=this._indexOf(u);this.items[m]=c,m===this.stackTop&&this._updateCurrentElement()},s.prototype.insertAfter=function(u,c){var m=this._indexOf(u)+1;this.items.splice(m,0,c),m===++this.stackTop&&this._updateCurrentElement()},s.prototype.popUntilTagNamePopped=function(u){for(;this.stackTop>-1;){var c=this.currentTagName,m=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),c===u&&m===l.HTML)break}},s.prototype.popUntilElementPopped=function(u){for(;this.stackTop>-1;){var c=this.current;if(this.pop(),c===u)break}},s.prototype.popUntilNumberedHeaderPopped=function(){for(;this.stackTop>-1;){var u=this.currentTagName,c=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),u===a.H1||u===a.H2||u===a.H3||u===a.H4||u===a.H5||u===a.H6&&c===l.HTML)break}},s.prototype.popUntilTableCellPopped=function(){for(;this.stackTop>-1;){var u=this.currentTagName,c=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),u===a.TD||u===a.TH&&c===l.HTML)break}},s.prototype.popAllUpToHtmlElement=function(){this.stackTop=0,this._updateCurrentElement()},s.prototype.clearBackToTableContext=function(){for(;this.currentTagName!==a.TABLE&&this.currentTagName!==a.TEMPLATE&&this.currentTagName!==a.HTML||this.treeAdapter.getNamespaceURI(this.current)!==l.HTML;)this.pop()},s.prototype.clearBackToTableBodyContext=function(){for(;this.currentTagName!==a.TBODY&&this.currentTagName!==a.TFOOT&&this.currentTagName!==a.THEAD&&this.currentTagName!==a.TEMPLATE&&this.currentTagName!==a.HTML||this.treeAdapter.getNamespaceURI(this.current)!==l.HTML;)this.pop()},s.prototype.clearBackToTableRowContext=function(){for(;this.currentTagName!==a.TR&&this.currentTagName!==a.TEMPLATE&&this.currentTagName!==a.HTML||this.treeAdapter.getNamespaceURI(this.current)!==l.HTML;)this.pop()},s.prototype.remove=function(u){for(var c=this.stackTop;c>=0;c--)if(this.items[c]===u){this.items.splice(c,1),this.stackTop--,this._updateCurrentElement();break}},s.prototype.tryPeekProperlyNestedBodyElement=function(){var u=this.items[1];return u&&this.treeAdapter.getTagName(u)===a.BODY?u:null},s.prototype.contains=function(u){return this._indexOf(u)>-1},s.prototype.getCommonAncestor=function(u){var c=this._indexOf(u);return--c>=0?this.items[c]:null},s.prototype.isRootHtmlElementCurrent=function(){return this.stackTop===0&&this.currentTagName===a.HTML},s.prototype.hasInScope=function(u){for(var c=this.stackTop;c>=0;c--){var m=this.treeAdapter.getTagName(this.items[c]),p=this.treeAdapter.getNamespaceURI(this.items[c]);if(m===u&&p===l.HTML)return!0;if(o(m,p))return!1}return!0},s.prototype.hasNumberedHeaderInScope=function(){for(var u=this.stackTop;u>=0;u--){var c=this.treeAdapter.getTagName(this.items[u]),m=this.treeAdapter.getNamespaceURI(this.items[u]);if((c===a.H1||c===a.H2||c===a.H3||c===a.H4||c===a.H5||c===a.H6)&&m===l.HTML)return!0;if(o(c,m))return!1}return!0},s.prototype.hasInListItemScope=function(u){for(var c=this.stackTop;c>=0;c--){var m=this.treeAdapter.getTagName(this.items[c]),p=this.treeAdapter.getNamespaceURI(this.items[c]);if(m===u&&p===l.HTML)return!0;if((m===a.UL||m===a.OL)&&p===l.HTML||o(m,p))return!1}return!0},s.prototype.hasInButtonScope=function(u){for(var c=this.stackTop;c>=0;c--){var m=this.treeAdapter.getTagName(this.items[c]),p=this.treeAdapter.getNamespaceURI(this.items[c]);if(m===u&&p===l.HTML)return!0;if(m===a.BUTTON&&p===l.HTML||o(m,p))return!1}return!0},s.prototype.hasInTableScope=function(u){for(var c=this.stackTop;c>=0;c--){var m=this.treeAdapter.getTagName(this.items[c]),p=this.treeAdapter.getNamespaceURI(this.items[c]);if(p===l.HTML){if(m===u)return!0;if(m===a.TABLE||m===a.TEMPLATE||m===a.HTML)return!1}}return!0},s.prototype.hasTableBodyContextInTableScope=function(){for(var u=this.stackTop;u>=0;u--){var c=this.treeAdapter.getTagName(this.items[u]),m=this.treeAdapter.getNamespaceURI(this.items[u]);if(m===l.HTML){if(c===a.TBODY||c===a.THEAD||c===a.TFOOT)return!0;if(c===a.TABLE||c===a.HTML)return!1}}return!0},s.prototype.hasInSelectScope=function(u){for(var c=this.stackTop;c>=0;c--){var m=this.treeAdapter.getTagName(this.items[c]),p=this.treeAdapter.getNamespaceURI(this.items[c]);if(p===l.HTML){if(m===u)return!0;if(m!==a.OPTION&&m!==a.OPTGROUP)return!1}}return!0},s.prototype.generateImpliedEndTags=function(){for(;e(this.currentTagName);)this.pop()},s.prototype.generateImpliedEndTagsWithExclusion=function(u){for(;e(this.currentTagName)&&this.currentTagName!==u;)this.pop()}},function(f,r,t){var n=3,a=f.exports=function(l){this.length=0,this.entries=[],this.treeAdapter=l,this.bookmark=null};a.MARKER_ENTRY="MARKER_ENTRY",a.ELEMENT_ENTRY="ELEMENT_ENTRY",a.prototype._getNoahArkConditionCandidates=function(l){var e=[];if(this.length>=n)for(var o=this.treeAdapter.getAttrList(l).length,s=this.treeAdapter.getTagName(l),u=this.treeAdapter.getNamespaceURI(l),c=this.length-1;c>=0;c--){var m=this.entries[c];if(m.type===a.MARKER_ENTRY)break;var p=m.element,h=this.treeAdapter.getAttrList(p),v=this.treeAdapter.getTagName(p)===s&&this.treeAdapter.getNamespaceURI(p)===u&&h.length===o;v&&e.push({idx:c,attrs:h})}return e.length<n?[]:e},a.prototype._ensureNoahArkCondition=function(l){var e=this._getNoahArkConditionCandidates(l),o=e.length;if(o){for(var s=this.treeAdapter.getAttrList(l),u=s.length,c=Object.create(null),m=0;m<u;m++){var p=s[m];c[p.name]=p.value}for(m=0;m<u;m++)for(var h=0;h<o;h++){var v=e[h].attrs[m];if(c[v.name]!==v.value&&(e.splice(h,1),o--),e.length<n)return}for(m=o-1;m>=n-1;m--)this.entries.splice(e[m].idx,1),this.length--}},a.prototype.insertMarker=function(){this.entries.push({type:a.MARKER_ENTRY}),this.length++},a.prototype.pushElement=function(l,e){this._ensureNoahArkCondition(l),this.entries.push({type:a.ELEMENT_ENTRY,element:l,token:e}),this.length++},a.prototype.insertElementAfterBookmark=function(l,e){for(var o=this.length-1;o>=0&&this.entries[o]!==this.bookmark;o--);this.entries.splice(o+1,0,{type:a.ELEMENT_ENTRY,element:l,token:e}),this.length++},a.prototype.removeEntry=function(l){for(var e=this.length-1;e>=0;e--)if(this.entries[e]===l){this.entries.splice(e,1),this.length--;break}},a.prototype.clearToLastMarker=function(){for(;this.length;){var l=this.entries.pop();if(this.length--,l.type===a.MARKER_ENTRY)break}},a.prototype.getElementEntryInScopeWithTagName=function(l){for(var e=this.length-1;e>=0;e--){var o=this.entries[e];if(o.type===a.MARKER_ENTRY)return null;if(this.treeAdapter.getTagName(o.element)===l)return o}return null},a.prototype.getElementEntry=function(l){for(var e=this.length-1;e>=0;e--){var o=this.entries[e];if(o.type===a.ELEMENT_ENTRY&&o.element===l)return o}return null}},function(f,r,t){var n=t(201),a=t(124),l=t(461),e=t(462),o=t(972),s=t(64),u=t(71).inherits,c=s.TAG_NAMES,m=f.exports=function(p){n.call(this,p),this.parser=p,this.posTracker=null,this.lastStartTagToken=null,this.lastFosterParentingLocation=null,this.currentToken=null};u(m,n),m.prototype._setStartLocation=function(p){this.lastStartTagToken?(p.__location=Object.create(this.lastStartTagToken.location),p.__location.startTag=this.lastStartTagToken.location):p.__location=null},m.prototype._setEndLocation=function(p,h){var v=p.__location;if(v)if(h.location){var x=h.location,y=this.parser.treeAdapter.getTagName(p),k=h.type===a.END_TAG_TOKEN&&y===h.tagName;k?(v.endTag=Object.create(x),v.endOffset=x.endOffset):v.endOffset=x.startOffset}else h.type===a.EOF_TOKEN&&(v.endOffset=this.posTracker.offset)},m.prototype._getOverriddenMethods=function(p,h){return{_bootstrap:function(v,x){h._bootstrap.call(this,v,x),p.lastStartTagToken=null,p.lastFosterParentingLocation=null,p.currentToken=null,p.posTracker=new e(this.tokenizer.preprocessor),new l(this.tokenizer),new o(this.openElements,{onItemPop:function(y){p._setEndLocation(y,p.currentToken)}})},_runParsingLoop:function(v){h._runParsingLoop.call(this,v);for(var x=this.openElements.stackTop;x>=0;x--)p._setEndLocation(this.openElements.items[x],p.currentToken)},_processTokenInForeignContent:function(v){p.currentToken=v,h._processTokenInForeignContent.call(this,v)},_processToken:function(v){p.currentToken=v,h._processToken.call(this,v);var x=v.type===a.END_TAG_TOKEN&&(v.tagName===c.HTML||v.tagName===c.BODY&&this.openElements.hasInScope(c.BODY));if(x)for(var y=this.openElements.stackTop;y>=0;y--){var k=this.openElements.items[y];if(this.treeAdapter.getTagName(k)===v.tagName){p._setEndLocation(k,v);break}}},_setDocumentType:function(v){h._setDocumentType.call(this,v);for(var x=this.treeAdapter.getChildNodes(this.document),y=x.length,k=0;k<y;k++){var T=x[k];if(this.treeAdapter.isDocumentTypeNode(T)){T.__location=v.location;break}}},_attachElementToTree:function(v){p._setStartLocation(v),p.lastStartTagToken=null,h._attachElementToTree.call(this,v)},_appendElement:function(v,x){p.lastStartTagToken=v,h._appendElement.call(this,v,x)},_insertElement:function(v,x){p.lastStartTagToken=v,h._insertElement.call(this,v,x)},_insertTemplate:function(v){p.lastStartTagToken=v,h._insertTemplate.call(this,v);var x=this.treeAdapter.getTemplateContent(this.openElements.current);x.__location=null},_insertFakeRootElement:function(){h._insertFakeRootElement.call(this),this.openElements.current.__location=null},_appendCommentNode:function(v,x){h._appendCommentNode.call(this,v,x);var y=this.treeAdapter.getChildNodes(x),k=y[y.length-1];k.__location=v.location},_findFosterParentingLocation:function(){return p.lastFosterParentingLocation=h._findFosterParentingLocation.call(this),p.lastFosterParentingLocation},_insertCharacters:function(v){h._insertCharacters.call(this,v);var x=this._shouldFosterParentOnInsertion(),y=x&&p.lastFosterParentingLocation.parent||this.openElements.currentTmplContent||this.openElements.current,k=this.treeAdapter.getChildNodes(y),T=x&&p.lastFosterParentingLocation.beforeElement?k.indexOf(p.lastFosterParentingLocation.beforeElement)-1:k.length-1,E=k[T];E.__location?E.__location.endOffset=v.location.endOffset:E.__location=v.location}}}},function(f,r){f.exports=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}},function(f,r,t){var n=t(201),a=t(71).inherits,l=f.exports=function(e,o){n.call(this,e),this.onItemPop=o.onItemPop};a(l,n),l.prototype._getOverriddenMethods=function(e,o){return{pop:function(){e.onItemPop(this.current),o.pop.call(this)},popAllUpToHtmlElement:function(){for(var s=this.stackTop;s>0;s--)e.onItemPop(this.items[s]);o.popAllUpToHtmlElement.call(this)},remove:function(s){e.onItemPop(this.current),o.remove.call(this,s)}}}},function(f,r,t){var n=t(303),a=t(64).DOCUMENT_MODE,l={element:1,text:3,cdata:4,comment:8},e={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},o=function(m){for(var p in m)m.hasOwnProperty(p)&&(this[p]=m[p])};o.prototype={get firstChild(){var m=this.children;return m&&m[0]||null},get lastChild(){var m=this.children;return m&&m[m.length-1]||null},get nodeType(){return l[this.type]||l.element}},Object.keys(e).forEach(function(m){var p=e[m];Object.defineProperty(o.prototype,m,{get:function(){return this[p]||null},set:function(h){return this[p]=h,h}})}),r.createDocument=function(){return new o({type:"root",name:"root",parent:null,prev:null,next:null,children:[],"x-mode":a.NO_QUIRKS})},r.createDocumentFragment=function(){return new o({type:"root",name:"root",parent:null,prev:null,next:null,children:[]})},r.createElement=function(m,p,h){for(var v=Object.create(null),x=Object.create(null),y=Object.create(null),k=0;k<h.length;k++){var T=h[k].name;v[T]=h[k].value,x[T]=h[k].namespace,y[T]=h[k].prefix}return new o({type:m==="script"||m==="style"?m:"tag",name:m,namespace:p,attribs:v,"x-attribsNamespace":x,"x-attribsPrefix":y,children:[],parent:null,prev:null,next:null})},r.createCommentNode=function(m){return new o({type:"comment",data:m,parent:null,prev:null,next:null})};var s=function(m){return new o({type:"text",data:m,parent:null,prev:null,next:null})},u=r.appendChild=function(m,p){var h=m.children[m.children.length-1];h&&(h.next=p,p.prev=h),m.children.push(p),p.parent=m},c=r.insertBefore=function(m,p,h){var v=m.children.indexOf(h),x=h.prev;x&&(x.next=p,p.prev=x),h.prev=p,p.next=h,m.children.splice(v,0,p),p.parent=m};r.setTemplateContent=function(m,p){u(m,p)},r.getTemplateContent=function(m){return m.children[0]},r.setDocumentType=function(m,p,h,v){for(var x=n.serializeContent(p,h,v),y=null,k=0;k<m.children.length;k++)if(m.children[k].type==="directive"&&m.children[k].name==="!doctype"){y=m.children[k];break}y?(y.data=x,y["x-name"]=p,y["x-publicId"]=h,y["x-systemId"]=v):u(m,new o({type:"directive",name:"!doctype",data:x,"x-name":p,"x-publicId":h,"x-systemId":v}))},r.setDocumentMode=function(m,p){m["x-mode"]=p},r.getDocumentMode=function(m){return m["x-mode"]},r.detachNode=function(m){if(m.parent){var p=m.parent.children.indexOf(m),h=m.prev,v=m.next;m.prev=null,m.next=null,h&&(h.next=v),v&&(v.prev=h),m.parent.children.splice(p,1),m.parent=null}},r.insertText=function(m,p){var h=m.children[m.children.length-1];h&&h.type==="text"?h.data+=p:u(m,s(p))},r.insertTextBefore=function(m,p,h){var v=m.children[m.children.indexOf(h)-1];v&&v.type==="text"?v.data+=p:c(m,s(p),h)},r.adoptAttributes=function(m,p){for(var h=0;h<p.length;h++){var v=p[h].name;typeof m.attribs[v]>"u"&&(m.attribs[v]=p[h].value,m["x-attribsNamespace"][v]=p[h].namespace,m["x-attribsPrefix"][v]=p[h].prefix)}},r.getFirstChild=function(m){return m.children[0]},r.getChildNodes=function(m){return m.children},r.getParentNode=function(m){return m.parent},r.getAttrList=function(m){var p=[];for(var h in m.attribs)p.push({name:h,value:m.attribs[h],namespace:m["x-attribsNamespace"][h],prefix:m["x-attribsPrefix"][h]});return p},r.getTagName=function(m){return m.name},r.getNamespaceURI=function(m){return m.namespace},r.getTextNodeContent=function(m){return m.data},r.getCommentNodeContent=function(m){return m.data},r.getDocumentTypeNodeName=function(m){return m["x-name"]},r.getDocumentTypeNodePublicId=function(m){return m["x-publicId"]},r.getDocumentTypeNodeSystemId=function(m){return m["x-systemId"]},r.isTextNode=function(m){return m.type==="text"},r.isCommentNode=function(m){return m.type==="comment"},r.isDocumentTypeNode=function(m){return m.type==="directive"&&m.name==="!doctype"},r.isElementNode=function(m){return!!m.attribs}},function(f,r){},function(f,r,t){function n(o,s){if(!(o instanceof s))throw new TypeError("Cannot call a class as a function")}var a=t(200).Buffer,l=t(976);function e(o,s,u){o.copy(s,u)}f.exports=function(){function o(){n(this,o),this.head=null,this.tail=null,this.length=0}return o.prototype.push=function(s){var u={data:s,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length},o.prototype.unshift=function(s){var u={data:s,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length},o.prototype.shift=function(){if(this.length!==0){var s=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,s}},o.prototype.clear=function(){this.head=this.tail=null,this.length=0},o.prototype.join=function(s){if(this.length===0)return"";for(var u=this.head,c=""+u.data;u=u.next;)c+=s+u.data;return c},o.prototype.concat=function(s){if(this.length===0)return a.alloc(0);if(this.length===1)return this.head.data;for(var u=a.allocUnsafe(s>>>0),c=this.head,m=0;c;)e(c.data,u,m),m+=c.data.length,c=c.next;return u},o}(),l&&l.inspect&&l.inspect.custom&&(f.exports.prototype[l.inspect.custom]=function(){var o=l.inspect({length:this.length});return this.constructor.name+" "+o})},function(f,r){},function(f,r,t){(function(n){var a=typeof n<"u"&&n||typeof self<"u"&&self||window,l=Function.prototype.apply;r.setTimeout=function(){return new e(l.call(setTimeout,a,arguments),clearTimeout)},r.setInterval=function(){return new e(l.call(setInterval,a,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(o){o&&o.close()};function e(o,s){this._id=o,this._clearFn=s}e.prototype.unref=e.prototype.ref=function(){},e.prototype.close=function(){this._clearFn.call(a,this._id)},r.enroll=function(o,s){clearTimeout(o._idleTimeoutId),o._idleTimeout=s},r.unenroll=function(o){clearTimeout(o._idleTimeoutId),o._idleTimeout=-1},r._unrefActive=r.active=function(o){clearTimeout(o._idleTimeoutId);var s=o._idleTimeout;s>=0&&(o._idleTimeoutId=setTimeout(function(){o._onTimeout&&o._onTimeout()},s))},t(978),r.setImmediate=typeof self<"u"&&self.setImmediate||typeof n<"u"&&n.setImmediate||this&&this.setImmediate,r.clearImmediate=typeof self<"u"&&self.clearImmediate||typeof n<"u"&&n.clearImmediate||this&&this.clearImmediate}).call(this,t(27))},function(f,r,t){(function(n,a){(function(l,e){if(l.setImmediate)return;var o=1,s={},u=!1,c=l.document,m;function p(S){typeof S!="function"&&(S=new Function(""+S));for(var P=new Array(arguments.length-1),O=0;O<P.length;O++)P[O]=arguments[O+1];var R={callback:S,args:P};return s[o]=R,m(o),o++}function h(S){delete s[S]}function v(S){var P=S.callback,O=S.args;switch(O.length){case 0:P();break;case 1:P(O[0]);break;case 2:P(O[0],O[1]);break;case 3:P(O[0],O[1],O[2]);break;default:P.apply(e,O);break}}function x(S){if(u)setTimeout(x,0,S);else{var P=s[S];if(P){u=!0;try{v(P)}finally{h(S),u=!1}}}}function y(){m=function(S){a.nextTick(function(){x(S)})}}function k(){if(l.postMessage&&!l.importScripts){var S=!0,P=l.onmessage;return l.onmessage=function(){S=!1},l.postMessage("","*"),l.onmessage=P,S}}function T(){var S="setImmediate$"+Math.random()+"$",P=function(O){O.source===l&&typeof O.data=="string"&&O.data.indexOf(S)===0&&x(+O.data.slice(S.length))};l.addEventListener?l.addEventListener("message",P,!1):l.attachEvent("onmessage",P),m=function(O){l.postMessage(S+O,"*")}}function E(){var S=new MessageChannel;S.port1.onmessage=function(P){var O=P.data;x(O)},m=function(P){S.port2.postMessage(P)}}function _(){var S=c.documentElement;m=function(P){var O=c.createElement("script");O.onreadystatechange=function(){x(P),O.onreadystatechange=null,S.removeChild(O),O=null},S.appendChild(O)}}function A(){m=function(S){setTimeout(x,0,S)}}var C=Object.getPrototypeOf&&Object.getPrototypeOf(l);C=C&&C.setTimeout?C:l,{}.toString.call(l.process)==="[object process]"?y():k()?T():l.MessageChannel?E():c&&"onreadystatechange"in c.createElement("script")?_():A(),C.setImmediate=p,C.clearImmediate=h})(typeof self>"u"?typeof n>"u"?this:n:self)}).call(this,t(27),t(150))},function(f,r,t){(function(n){f.exports=a;function a(e,o){if(l("noDeprecation"))return e;var s=!1;function u(){if(!s){if(l("throwDeprecation"))throw new Error(o);l("traceDeprecation")?console.trace(o):console.warn(o),s=!0}return e.apply(this,arguments)}return u}function l(e){try{if(!n.localStorage)return!1}catch{return!1}var o=n.localStorage[e];return o==null?!1:String(o).toLowerCase()==="true"}}).call(this,t(27))},function(f,r,t){f.exports=l;var n=t(469),a=t(151);a.inherits=t(58),a.inherits(l,n);function l(e){if(!(this instanceof l))return new l(e);n.call(this,e)}l.prototype._transform=function(e,o,s){s(null,e)}},function(f,r,t){f.exports=t(305)},function(f,r,t){f.exports=t(102)},function(f,r,t){f.exports=t(304).Transform},function(f,r,t){f.exports=t(304).PassThrough},function(f,r,t){var n=t(465),a=t(71).inherits,l=t(64).TAG_NAMES,e=f.exports=function(o){n.call(this,o),this.parser._insertFakeElement(l.HTML),this.parser._insertFakeElement(l.HEAD),this.parser.openElements.pop(),this.parser._insertFakeElement(l.BODY),this.parser._insertFakeElement(l.PRE),this.parser.treeAdapter.insertText(this.parser.openElements.current,`
`),this.parser.switchToPlaintextParsing()};a(e,n)},function(f,r,t){var n=t(202).Readable,a=t(71).inherits,l=t(464),e=f.exports=function(o,s){n.call(this),this.serializer=new l(o,s),Object.defineProperty(this.serializer,"html",{get:function(){return""},set:this.push.bind(this)})};a(e,n),e.prototype._read=function(){this.serializer.serialize(),this.push(null)}},function(f,r,t){var n=t(202).Transform,a=t(988),l=t(71).inherits,e=t(124),o=t(461),s=t(989),u=t(302),c={locationInfo:!1},m=f.exports=function(p){n.call(this),this.options=u(c,p),this.tokenizer=new e(p),this.options.locationInfo&&new o(this.tokenizer),this.parserFeedbackSimulator=new s(this.tokenizer),this.pendingText=null,this.currentTokenLocation=void 0,this.lastChunkWritten=!1,this.stopped=!1,this.pipe(new a)};l(m,n),m.prototype._transform=function(p,h,v){this.stopped||(this.tokenizer.write(p.toString("utf8"),this.lastChunkWritten),this._runParsingLoop()),this.push(p),v()},m.prototype._flush=function(p){p()},m.prototype.end=function(p,h,v){this.lastChunkWritten=!0,n.prototype.end.call(this,p,h,v)},m.prototype.stop=function(){this.stopped=!0},m.prototype._runParsingLoop=function(){do{var p=this.parserFeedbackSimulator.getNextToken();if(p.type===e.HIBERNATION_TOKEN)break;p.type===e.CHARACTER_TOKEN||p.type===e.WHITESPACE_CHARACTER_TOKEN||p.type===e.NULL_CHARACTER_TOKEN?(this.options.locationInfo&&(this.pendingText===null?this.currentTokenLocation=p.location:this.currentTokenLocation.endOffset=p.location.endOffset),this.pendingText=(this.pendingText||"")+p.chars):(this._emitPendingText(),this._handleToken(p))}while(!this.stopped&&p.type!==e.EOF_TOKEN)},m.prototype._handleToken=function(p){this.options.locationInfo&&(this.currentTokenLocation=p.location),p.type===e.START_TAG_TOKEN?this.emit("startTag",p.tagName,p.attrs,p.selfClosing,this.currentTokenLocation):p.type===e.END_TAG_TOKEN?this.emit("endTag",p.tagName,this.currentTokenLocation):p.type===e.COMMENT_TOKEN?this.emit("comment",p.data,this.currentTokenLocation):p.type===e.DOCTYPE_TOKEN&&this.emit("doctype",p.name,p.publicId,p.systemId,this.currentTokenLocation)},m.prototype._emitPendingText=function(){this.pendingText!==null&&(this.emit("text",this.pendingText,this.currentTokenLocation),this.pendingText=null)}},function(f,r,t){var n=t(202).Writable,a=t(71),l=f.exports=function(){n.call(this)};a.inherits(l,n),l.prototype._write=function(e,o,s){s()}},function(f,r,t){var n=t(124),a=t(463),l=t(149),e=t(64),o=e.TAG_NAMES,s=e.NAMESPACES,u=f.exports=function(c){this.tokenizer=c,this.namespaceStack=[],this.namespaceStackTop=-1,this._enterNamespace(s.HTML)};u.prototype.getNextToken=function(){var c=this.tokenizer.getNextToken();if(c.type===n.START_TAG_TOKEN)this._handleStartTagToken(c);else if(c.type===n.END_TAG_TOKEN)this._handleEndTagToken(c);else if(c.type===n.NULL_CHARACTER_TOKEN&&this.inForeignContent)c.type=n.CHARACTER_TOKEN,c.chars=l.REPLACEMENT_CHARACTER;else if(this.skipNextNewLine&&(c.type!==n.HIBERNATION_TOKEN&&(this.skipNextNewLine=!1),c.type===n.WHITESPACE_CHARACTER_TOKEN&&c.chars[0]===`
`)){if(c.chars.length===1)return this.getNextToken();c.chars=c.chars.substr(1)}return c},u.prototype._enterNamespace=function(c){this.namespaceStackTop++,this.namespaceStack.push(c),this.inForeignContent=c!==s.HTML,this.currentNamespace=c,this.tokenizer.allowCDATA=this.inForeignContent},u.prototype._leaveCurrentNamespace=function(){this.namespaceStackTop--,this.namespaceStack.pop(),this.currentNamespace=this.namespaceStack[this.namespaceStackTop],this.inForeignContent=this.currentNamespace!==s.HTML,this.tokenizer.allowCDATA=this.inForeignContent},u.prototype._ensureTokenizerMode=function(c){c===o.TEXTAREA||c===o.TITLE?this.tokenizer.state=n.MODE.RCDATA:c===o.PLAINTEXT?this.tokenizer.state=n.MODE.PLAINTEXT:c===o.SCRIPT?this.tokenizer.state=n.MODE.SCRIPT_DATA:(c===o.STYLE||c===o.IFRAME||c===o.XMP||c===o.NOEMBED||c===o.NOFRAMES||c===o.NOSCRIPT)&&(this.tokenizer.state=n.MODE.RAWTEXT)},u.prototype._handleStartTagToken=function(c){var m=c.tagName;if(m===o.SVG?this._enterNamespace(s.SVG):m===o.MATH&&this._enterNamespace(s.MATHML),this.inForeignContent){if(a.causesExit(c)){this._leaveCurrentNamespace();return}var p=this.currentNamespace;p===s.MATHML?a.adjustTokenMathMLAttrs(c):p===s.SVG&&(a.adjustTokenSVGTagName(c),a.adjustTokenSVGAttrs(c)),a.adjustTokenXMLAttrs(c),m=c.tagName,!c.selfClosing&&a.isIntegrationPoint(m,p,c.attrs)&&this._enterNamespace(s.HTML)}else m===o.PRE||m===o.TEXTAREA||m===o.LISTING?this.skipNextNewLine=!0:m===o.IMAGE&&(c.tagName=o.IMG),this._ensureTokenizerMode(m)},u.prototype._handleEndTagToken=function(c){var m=c.tagName;if(this.inForeignContent)(m===o.SVG&&this.currentNamespace===s.SVG||m===o.MATH&&this.currentNamespace===s.MATHML)&&this._leaveCurrentNamespace();else{var p=this.namespaceStack[this.namespaceStackTop-1];p===s.SVG&&a.SVG_TAG_NAMES_ADJUSTMENT_MAP[m]&&(m=a.SVG_TAG_NAMES_ADJUSTMENT_MAP[m]),a.isIntegrationPoint(m,p,c.attrs)&&this._leaveCurrentNamespace()}this.currentNamespace===s.SVG&&a.adjustTokenSVGTagName(c)}},function(f,r,t){var n=t(472),a=t(991),l=t(992),e=t(474),o=t(1009),s=t(478),u=t(1010),c=t(480),m=t(481),p=t(1011),h="Expected a function",v=1,x=2,y=8,k=16,T=32,E=64,_=Math.max;function A(C,S,P,O,R,I,M,H){var L=S&x;if(!L&&typeof C!="function")throw new TypeError(h);var D=O?O.length:0;if(D||(S&=~(T|E),O=R=void 0),M=M===void 0?M:_(p(M),0),H=H===void 0?H:p(H),D-=R?R.length:0,S&E){var j=O,W=R;O=R=void 0}var B=L?void 0:s(C),F=[C,S,P,O,R,j,W,I,M,H];if(B&&u(F,B),C=F[0],S=F[1],P=F[2],O=F[3],R=F[4],H=F[9]=F[9]===void 0?L?0:C.length:_(F[9]-D,0),!H&&S&(y|k)&&(S&=~(y|k)),!S||S==v)var N=a(C,S,P);else S==y||S==k?N=l(C,S,H):(S==T||S==(v|T))&&!R.length?N=o(C,S,P,O):N=e.apply(void 0,F);var X=B?n:c;return m(X(N,F),C,S)}f.exports=A},function(f,r,t){var n=t(205),a=t(41),l=1;function e(o,s,u){var c=s&l,m=n(o);function p(){var h=this&&this!==a&&this instanceof p?m:o;return h.apply(c?u:this,arguments)}return p}f.exports=e},function(f,r,t){var n=t(292),a=t(205),l=t(474),e=t(477),o=t(309),s=t(206),u=t(41);function c(m,p,h){var v=a(m);function x(){for(var y=arguments.length,k=Array(y),T=y,E=o(x);T--;)k[T]=arguments[T];var _=y<3&&k[0]!==E&&k[y-1]!==E?[]:s(k,E);if(y-=_.length,y<h)return e(m,p,l,x.placeholder,void 0,k,_,void 0,void 0,h-y);var A=this&&this!==u&&this instanceof x?v:m;return n(A,this,k)}return x}f.exports=c},function(f,r){function t(n,a){for(var l=n.length,e=0;l--;)n[l]===a&&++e;return e}f.exports=t},function(f,r,t){var n=t(307),a=t(478),l=t(996),e=t(998);function o(s){var u=l(s),c=e[u];if(typeof c!="function"||!(u in n.prototype))return!1;if(s===c)return!0;var m=a(c);return!!m&&s===m[0]}f.exports=o},function(f,r){function t(){}f.exports=t},function(f,r,t){var n=t(997),a=Object.prototype,l=a.hasOwnProperty;function e(o){for(var s=o.name+"",u=n[s],c=l.call(n,s)?u.length:0;c--;){var m=u[c],p=m.func;if(p==null||p==o)return m.name}return s}f.exports=e},function(f,r){var t={};f.exports=t},function(f,r,t){var n=t(307),a=t(479),l=t(308),e=t(31),o=t(56),s=t(999),u=Object.prototype,c=u.hasOwnProperty;function m(p){if(o(p)&&!e(p)&&!(p instanceof n)){if(p instanceof a)return p;if(c.call(p,"__wrapped__"))return s(p)}return new a(p)}m.prototype=l.prototype,m.prototype.constructor=m,f.exports=m},function(f,r,t){var n=t(307),a=t(479),l=t(196);function e(o){if(o instanceof n)return o.clone();var s=new a(o.__wrapped__,o.__chain__);return s.__actions__=l(o.__actions__),s.__index__=o.__index__,s.__values__=o.__values__,s}f.exports=e},function(f,r){var t=/\{\n\/\* \[wrapped with (.+)\] \*/,n=/,? & /;function a(l){var e=l.match(t);return e?e[1].split(n):[]}f.exports=a},function(f,r){var t=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function n(a,l){var e=l.length;if(!e)return a;var o=e-1;return l[o]=(e>1?"& ":"")+l[o],l=l.join(e>2?", ":" "),a.replace(t,`{
/* [wrapped with `+l+`] */
`)}f.exports=n},function(f,r,t){var n=t(286),a=t(1003),l=1,e=2,o=8,s=16,u=32,c=64,m=128,p=256,h=512,v=[["ary",m],["bind",l],["bindKey",e],["curry",o],["curryRight",s],["flip",h],["partial",u],["partialRight",c],["rearg",p]];function x(y,k){return n(v,function(T){var E="_."+T[0];k&T[1]&&!a(y,E)&&y.push(E)}),y.sort()}f.exports=x},function(f,r,t){var n=t(1004);function a(l,e){var o=l==null?0:l.length;return!!o&&n(l,e,0)>-1}f.exports=a},function(f,r,t){var n=t(1005),a=t(1006),l=t(1007);function e(o,s,u){return s===s?l(o,s,u):n(o,a,u)}f.exports=e},function(f,r){function t(n,a,l,e){for(var o=n.length,s=l+(e?1:-1);e?s--:++s<o;)if(a(n[s],s,n))return s;return-1}f.exports=t},function(f,r){function t(n){return n!==n}f.exports=t},function(f,r){function t(n,a,l){for(var e=l-1,o=n.length;++e<o;)if(n[e]===a)return e;return-1}f.exports=t},function(f,r,t){var n=t(196),a=t(142),l=Math.min;function e(o,s){for(var u=o.length,c=l(s.length,u),m=n(o);c--;){var p=s[c];o[c]=a(p,u)?m[p]:void 0}return o}f.exports=e},function(f,r,t){var n=t(292),a=t(205),l=t(41),e=1;function o(s,u,c,m){var p=u&e,h=a(s);function v(){for(var x=-1,y=arguments.length,k=-1,T=m.length,E=Array(T+y),_=this&&this!==l&&this instanceof v?h:s;++k<T;)E[k]=m[k];for(;y--;)E[k++]=arguments[++x];return n(_,p?c:this,E)}return v}f.exports=o},function(f,r,t){var n=t(475),a=t(476),l=t(206),e="__lodash_placeholder__",o=1,s=2,u=4,c=8,m=128,p=256,h=Math.min;function v(x,y){var k=x[1],T=y[1],E=k|T,_=E<(o|s|m),A=T==m&&k==c||T==m&&k==p&&x[7].length<=y[8]||T==(m|p)&&y[7].length<=y[8]&&k==c;if(!(_||A))return x;T&o&&(x[2]=y[2],E|=k&o?0:u);var C=y[3];if(C){var S=x[3];x[3]=S?n(S,C,y[4]):C,x[4]=S?l(x[3],e):y[4]}return C=y[5],C&&(S=x[5],x[5]=S?a(S,C,y[6]):C,x[6]=S?l(x[5],e):y[6]),C=y[7],C&&(x[7]=C),T&m&&(x[8]=x[8]==null?y[8]:h(x[8],y[8])),x[9]==null&&(x[9]=y[9]),x[0]=y[0],x[1]=E,x}f.exports=v},function(f,r,t){var n=t(1012);function a(l){var e=n(l),o=e%1;return e===e?o?e-o:e:0}f.exports=a},function(f,r,t){var n=t(436),a=1/0,l=17976931348623157e292;function e(o){if(!o)return o===0?o:0;if(o=n(o),o===a||o===-a){var s=o<0?-1:1;return s*l}return o===o?o:0}f.exports=e},function(f,r,t){var n=t(310),a=t(152),l=a.isTag,e=a.domEach,o=Object.prototype.hasOwnProperty,s=a.camelCase,u=a.cssCase,c=/\s+/,m="data-",p={forEach:t(147),extend:t(471),some:t(1021)},h={null:null,true:!0,false:!1},v=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,x=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,y=function(P,O){if(!(!P||!l(P))){if(P.attribs||(P.attribs={}),!O)return P.attribs;if(o.call(P.attribs,O))return v.test(O)?O:P.attribs[O];if(P.name==="option"&&O==="value")return n.text(P.children);if(P.name==="input"&&(P.attribs.type==="radio"||P.attribs.type==="checkbox")&&O==="value")return"on"}},k=function(P,O,R){R===null?C(P,O):P.attribs[O]=R+""};r.attr=function(P,O){return typeof P=="object"||O!==void 0?typeof O=="function"?e(this,function(R,I){k(I,P,O.call(I,R,I.attribs[P]))}):e(this,function(R,I){l(I)&&(typeof P=="object"?p.forEach(P,function(M,H){k(I,H,M)}):k(I,P,O))}):y(this[0],P)};var T=function(P,O){if(!(!P||!l(P)))return o.call(P,O)?P[O]:v.test(O)?y(P,O)!==void 0:y(P,O)},E=function(P,O,R){P[O]=v.test(O)?!!R:R};r.prop=function(P,O){var R=0,I;if(typeof P=="string"&&O===void 0){switch(P){case"style":I=this.css(),p.forEach(I,function(M,H){I[R++]=H}),I.length=R;break;case"tagName":case"nodeName":I=this[0].name.toUpperCase();break;default:I=T(this[0],P)}return I}if(typeof P=="object"||O!==void 0)return typeof O=="function"?e(this,function(M,H){E(H,P,O.call(H,M,T(H,P)))}):e(this,function(M,H){l(H)&&(typeof P=="object"?p.forEach(P,function(L,D){E(H,D,L)}):E(H,P,O))})};var _=function(P,O,R){if(P.data||(P.data={}),typeof O=="object")return p.extend(P.data,O);typeof O=="string"&&R!==void 0&&(P.data[O]=R)},A=function(P,O){var R=arguments.length===1,I,M,H,L,D,j,W;for(R?(I=Object.keys(P.attribs).filter(function(B){return B.slice(0,m.length)===m}),H=I.map(function(B){return s(B.slice(m.length))})):(I=[m+u(O)],H=[O]),j=0,W=I.length;j<W;++j)if(M=I[j],L=H[j],o.call(P.attribs,M)){if(D=P.attribs[M],o.call(h,D))D=h[D];else if(D===String(Number(D)))D=Number(D);else if(x.test(D))try{D=JSON.parse(D)}catch{}P.data[L]=D}return R?P.data:D};r.data=function(P,O){var R=this[0];if(!(!R||!l(R)))return R.data||(R.data={}),P?typeof P=="object"||O!==void 0?(e(this,function(I,M){_(M,P,O)}),this):o.call(R.data,P)?R.data[P]:A(R,P):A(R)},r.val=function(P){var O=arguments.length===0,R=this[0];if(R)switch(R.name){case"textarea":return this.text(P);case"input":switch(this.attr("type")){case"radio":return O?this.attr("value"):(this.attr("value",P),this);default:return this.attr("value",P)}case"select":var I=this.find("option:selected"),M;if(I===void 0)return;if(!O){if(!o.call(this.attr(),"multiple")&&typeof P=="object")return this;typeof P!="object"&&(P=[P]),this.find("option").removeAttr("selected");for(var H=0;H<P.length;H++)this.find('option[value="'+P[H]+'"]').attr("selected","");return this}return M=I.attr("value"),o.call(this.attr(),"multiple")&&(M=[],e(I,function(L,D){M.push(y(D,"value"))})),M;case"option":return O?this.attr("value"):(this.attr("value",P),this)}};var C=function(P,O){!P.attribs||!o.call(P.attribs,O)||delete P.attribs[O]};r.removeAttr=function(P){return e(this,function(O,R){C(R,P)}),this},r.hasClass=function(P){return p.some(this,function(O){var R=O.attribs,I=R&&R.class,M=-1,H;if(I&&P.length){for(;(M=I.indexOf(P,M+1))>-1;)if(H=M+P.length,(M===0||c.test(I[M-1]))&&(H===I.length||c.test(I[H])))return!0}})},r.addClass=function(P){if(typeof P=="function")return e(this,function(W,B){var F=B.attribs.class||"";r.addClass.call([B],P.call(B,W,F))});if(!P||typeof P!="string")return this;for(var O=P.split(c),R=this.length,I=0;I<R;I++)if(l(this[I])){var M=y(this[I],"class"),H,L;if(!M)k(this[I],"class",O.join(" ").trim());else{L=" "+M+" ",H=O.length;for(var D=0;D<H;D++){var j=O[D]+" ";L.indexOf(" "+j)<0&&(L+=j)}k(this[I],"class",L.trim())}}return this};var S=function(P){return P?P.trim().split(c):[]};r.removeClass=function(P){var O,R,I;return typeof P=="function"?e(this,function(M,H){r.removeClass.call([H],P.call(H,M,H.attribs.class||""))}):(O=S(P),R=O.length,I=arguments.length===0,e(this,function(M,H){if(l(H))if(I)H.attribs.class="";else{for(var L=S(H.attribs.class),D,j,W=0;W<R;W++)D=L.indexOf(O[W]),D>=0&&(L.splice(D,1),j=!0,W--);j&&(H.attribs.class=L.join(" "))}}))},r.toggleClass=function(P,O){if(typeof P=="function")return e(this,function(B,F){r.toggleClass.call([F],P.call(F,B,F.attribs.class||"",O),O)});if(!P||typeof P!="string")return this;for(var R=P.split(c),I=R.length,M=typeof O=="boolean"?O?1:-1:0,H=this.length,L,D,j=0;j<H;j++)if(l(this[j])){L=S(this[j].attribs.class);for(var W=0;W<I;W++)D=L.indexOf(R[W]),M>=0&&D<0?L.push(R[W]):M<=0&&D>=0&&L.splice(D,1);this[j].attribs.class=L.join(" ")}return this},r.is=function(P){return P?this.filter(P).length>0:!1}},function(f,r,t){var n=t(1015),a=t(1016);f.exports=function(l){return a(n(l))},f.exports.parse=n,f.exports.compile=a},function(f,r){f.exports=n;var t=/^([+\-]?\d*n)?\s*(?:([+\-]?)\s*(\d+))?$/;function n(a){if(a=a.trim().toLowerCase(),a==="even")return[2,0];if(a==="odd")return[2,1];var l=a.match(t);if(!l)throw new SyntaxError("n-th rule couldn't be parsed ('"+a+"')");var e;return l[1]?(e=parseInt(l[1],10),isNaN(e)&&(l[1].charAt(0)==="-"?e=-1:e=1)):e=0,[e,l[3]?parseInt((l[2]||"")+l[3],10):0]}},function(f,r,t){f.exports=e;var n=t(153),a=n.trueFunc,l=n.falseFunc;function e(o){var s=o[0],u=o[1]-1;if(u<0&&s<=0)return l;if(s===-1)return function(m){return m<=u};if(s===0)return function(m){return m===u};if(s===1)return u<0?a:function(m){return m>=u};var c=u%s;return c<0&&(c+=s),s>1?function(m){return m>=u&&m%s===c}:(s*=-1,function(m){return m<=u&&m%s===c})}},function(f,r,t){f.exports=m,f.exports.compileUnsafe=h,f.exports.compileToken=_;var n=t(1018),a=t(101),I=a.isTag,l=t(1019),e=t(1020),o=t(153),s=o.trueFunc,u=o.falseFunc,c=t(485);function m(L,D,j){var W=h(L,D,j);return p(W)}function p(L){return function(D){return I(D)&&L(D)}}function h(L,D,j){var W=n(L,D);return _(W,D,j)}function v(L){return L.type==="pseudo"&&(L.name==="scope"||Array.isArray(L.data)&&L.data.some(function(D){return D.some(v)}))}var x={type:"descendant"},y={type:"pseudo",name:"scope"},k={},T=a.getParent;function E(L,D){var j=!!D&&!!D.length&&D.every(function(W){return W===k||!!T(W)});L.forEach(function(W){if(!(W.length>0&&A(W[0])&&W[0].type!=="descendant"))if(j&&!v(W))W.unshift(x);else return;W.unshift(y)})}function _(L,D,j){L=L.filter(function(B){return B.length>0}),L.forEach(e);var W=Array.isArray(j);return j=D&&D.context||j,j&&!W&&(j=[j]),E(L,j),L.map(function(B){return C(B,D,j,W)}).reduce(S,u)}function A(L){return c[L.type]<0}function C(L,D,j,W){var B=W&&L[0].name==="scope"&&L[1].type==="descendant";return L.reduce(function(F,N,X){return F===u?F:l[N.type](F,N,D,j,B&&X===1)},D&&D.rootFunc||s)}function S(L,D){return D===u||L===s?L:L===u||D===s?D:function(j){return L(j)||D(j)}}var P=t(311),O=P.filters,R=a.existsOne,I=a.isTag,M=a.getChildren;function H(L){return L.some(A)}O.not=function(L,D,j,W){var B={xmlMode:!!(j&&j.xmlMode),strict:!!(j&&j.strict)};if(B.strict&&(D.length>1||D.some(H)))throw new SyntaxError("complex selectors in :not aren't allowed in strict mode");var F=_(D,B,W);return F===u?L:F===s?u:function(N){return!F(N)&&L(N)}},O.has=function(L,D,j){var W={xmlMode:!!(j&&j.xmlMode),strict:!!(j&&j.strict)},B=D.some(H)?[k]:null,F=_(D,W,B);return F===u?u:F===s?function(N){return M(N).some(I)&&L(N)}:(F=p(F),B?function(N){return L(N)&&(B[0]=N,R(F,M(N)))}:function(N){return L(N)&&R(F,M(N))})},O.matches=function(L,D,j,W){var B={xmlMode:!!(j&&j.xmlMode),strict:!!(j&&j.strict),rootFunc:L};return _(D,B,W)}},function(f,r,t){f.exports=x;var n=/^(?:\\.|[\w\-\u00b0-\uFFFF])+/,a=/\\([\da-f]{1,6}\s?|(\s)|.)/ig,l=/^\s*((?:\\.|[\w\u00b0-\uFFFF\-])+)\s*(?:(\S?)=\s*(?:(['"])([^]*?)\3|(#?(?:\\.|[\w\u00b0-\uFFFF\-])*)|)|)\s*(i)?\]/,e={__proto__:null,undefined:"exists","":"equals","~":"element","^":"start",$:"end","*":"any","!":"not","|":"hyphen"},o={__proto__:null,">":"child","<":"parent","~":"sibling","+":"adjacent"},s={__proto__:null,"#":["id","equals"],".":["class","element"]},u={__proto__:null,has:!0,not:!0,matches:!0},c={__proto__:null,contains:!0,icontains:!0},m={__proto__:null,'"':!0,"'":!0};function p(T,E,_){var A="0x"+E-65536;return A!==A||_?E:A<0?String.fromCharCode(A+65536):String.fromCharCode(A>>10|55296,A&1023|56320)}function h(T){return T.replace(a,p)}function v(T){return T===" "||T===`
`||T==="	"||T==="\f"||T==="\r"}function x(T,E){var _=[];if(T=y(_,T+"",E),T!=="")throw new SyntaxError("Unmatched selector: "+T);return _}function y(T,E,_){var A=[],C=!1,S,P,O,R;function I(){var W=E.match(n)[0];return E=E.substr(W.length),h(W)}function M(W){for(;v(E.charAt(W));)W++;E=E.substr(W)}function H(W){for(var B=0;E.charAt(--W)==="\\";)B++;return(B&1)===1}for(M(0);E!=="";)if(P=E.charAt(0),v(P))C=!0,M(1);else if(P in o)A.push({type:o[P]}),C=!1,M(1);else if(P===","){if(A.length===0)throw new SyntaxError("empty sub-selector");T.push(A),A=[],C=!1,M(1)}else if(C&&(A.length>0&&A.push({type:"descendant"}),C=!1),P==="*")E=E.substr(1),A.push({type:"universal"});else if(P in s)E=E.substr(1),A.push({type:"attribute",name:s[P][0],action:s[P][1],value:I(),ignoreCase:!1});else if(P==="["){if(E=E.substr(1),S=E.match(l),!S)throw new SyntaxError("Malformed attribute selector: "+E);E=E.substr(S[0].length),O=h(S[1]),(!_||("lowerCaseAttributeNames"in _?_.lowerCaseAttributeNames:!_.xmlMode))&&(O=O.toLowerCase()),A.push({type:"attribute",name:O,action:e[S[2]],value:h(S[4]||S[5]||""),ignoreCase:!!S[6]})}else if(P===":"){if(E.charAt(1)===":"){E=E.substr(2),A.push({type:"pseudo-element",name:I().toLowerCase()});continue}if(E=E.substr(1),O=I().toLowerCase(),S=null,E.charAt(0)==="(")if(O in u){R=E.charAt(1);var L=R in m;if(E=E.substr(L+1),S=[],E=y(S,E,_),L){if(E.charAt(0)!==R)throw new SyntaxError("unmatched quotes in :"+O);E=E.substr(1)}if(E.charAt(0)!==")")throw new SyntaxError("missing closing parenthesis in :"+O+" "+E);E=E.substr(1)}else{for(var D=1,j=1;j>0&&D<E.length;D++)E.charAt(D)==="("&&!H(D)?j++:E.charAt(D)===")"&&!H(D)&&j--;if(j)throw new SyntaxError("parenthesis not matched");S=E.substr(1,D-2),E=E.substr(D),O in c&&(R=S.charAt(0),R===S.slice(-1)&&R in m&&(S=S.slice(1,-1)),S=h(S))}A.push({type:"pseudo",name:O,data:S})}else if(n.test(E))O=I(),(!_||("lowerCaseTags"in _?_.lowerCaseTags:!_.xmlMode))&&(O=O.toLowerCase()),A.push({type:"tag",name:O});else return A.length&&A[A.length-1].type==="descendant"&&A.pop(),k(T,A),E;return k(T,A),E}function k(T,E){if(T.length>0&&E.length===0)throw new SyntaxError("empty sub-selector");T.push(E)}},function(f,r,t){var n=t(101),a=n.isTag,l=n.getParent,e=n.getChildren,o=n.getSiblings,s=n.getName;f.exports={__proto__:null,attribute:t(484).compile,pseudo:t(311).compile,tag:function(u,c){var m=c.name;return function(p){return s(p)===m&&u(p)}},descendant:function(u,c,m,p,h){return function(v){if(h&&u(v))return!0;for(var x=!1;!x&&(v=l(v));)x=u(v);return x}},parent:function(u,c,m){if(m&&m.strict)throw SyntaxError("Parent selector isn't part of CSS3");return function(h){return e(h).some(p)};function p(h){return a(h)&&u(h)}},child:function(u){return function(c){var m=l(c);return!!m&&u(m)}},sibling:function(u){return function(c){for(var m=o(c),p=0;p<m.length;p++)if(a(m[p])){if(m[p]===c)break;if(u(m[p]))return!0}return!1}},adjacent:function(u){return function(c){for(var m=o(c),p,h=0;h<m.length;h++)if(a(m[h])){if(m[h]===c)break;p=m[h]}return!!p&&u(p)}},universal:function(u){return u}}},function(f,r,t){f.exports=l;var n=t(485),a={__proto__:null,exists:10,equals:8,not:7,start:6,end:6,any:5,hyphen:4,element:4};function l(o){for(var s=o.map(e),u=1;u<o.length;u++){var c=s[u];if(!(c<0))for(var m=u-1;m>=0&&c<s[m];m--){var p=o[m+1];o[m+1]=o[m],o[m]=p,s[m+1]=s[m],s[m]=c}}}function e(o){var s=n[o.type];if(s===n.attribute)s=a[o.action],s===a.equals&&o.name==="id"&&(s=9),o.ignoreCase&&(s>>=1);else if(s===n.pseudo)if(!o.data)s=3;else if(o.name==="has"||o.name==="contains")s=0;else if(o.name==="matches"||o.name==="not"){s=0;for(var u=0;u<o.data.length;u++)if(o.data[u].length===1){var c=e(o.data[u][0]);if(c===0){s=0;break}c>s&&(s=c)}o.data.length>1&&s>0&&(s-=1)}else s=1;return s}},function(f,r,t){var n=t(417),a=t(144),l=t(1022),e=t(31),o=t(294);function s(u,c,m){var p=e(u)?n:l;return m&&o(u,c,m)&&(c=void 0),p(u,a(c,3))}f.exports=s},function(f,r,t){var n=t(146);function a(l,e){var o;return n(l,function(s,u,c){return o=e(s,u,c),!o}),!!o}f.exports=a},function(f,r,t){var n=t(483),a=t(152),l=a.domEach,e=t(148).DomUtils.uniqueSort,o=a.isTag,s={bind:t(306),forEach:t(147),reject:t(1024),filter:t(1026),reduce:t(1027)};r.find=function(m){var p=s.reduce(this,function(y,k){return y.concat(s.filter(k.children,o))},[]),h=this.constructor.contains,v;if(m&&typeof m!="string")return m.cheerio?v=m.get():v=[m],this._make(v.filter(function(y){var k,T;for(k=0,T=this.length;k<T;++k)if(h(this[k],y))return!0},this));var x={__proto__:this.options,context:this.toArray()};return this._make(n(m,p,x))},r.parent=function(m){var p=[];return l(this,function(h,v){var x=v.parent;x&&p.indexOf(x)<0&&p.push(x)}),arguments.length&&(p=r.filter.call(p,m,this)),this._make(p)},r.parents=function(m){var p=[];return this.get().reverse().forEach(function(h){c(this,h.parent,m,1/0).forEach(function(v){p.indexOf(v)===-1&&p.push(v)})},this),this._make(p)},r.parentsUntil=function(m,p){var h=[],v,x;return typeof m=="string"?v=n(m,this.parents().toArray(),this.options)[0]:m&&m.cheerio?x=m.toArray():m&&(v=m),this.toArray().reverse().forEach(function(y){for(;(y=y.parent)&&(v&&y!==v||x&&x.indexOf(y)===-1||!v&&!x);)o(y)&&h.indexOf(y)===-1&&h.push(y)},this),this._make(p?n(p,h,this.options):h)},r.closest=function(m){var p=[];return m?(l(this,(function(h,v){var x=c(this,v,m,1)[0];x&&p.indexOf(x)<0&&p.push(x)}).bind(this)),this._make(p)):this._make(p)},r.next=function(m){if(!this[0])return this;var p=[];return s.forEach(this,function(h){for(;h=h.next;)if(o(h)){p.push(h);return}}),m?r.filter.call(p,m,this):this._make(p)},r.nextAll=function(m){if(!this[0])return this;var p=[];return s.forEach(this,function(h){for(;h=h.next;)o(h)&&p.indexOf(h)===-1&&p.push(h)}),m?r.filter.call(p,m,this):this._make(p)},r.nextUntil=function(m,p){if(!this[0])return this;var h=[],v,x;return typeof m=="string"?v=n(m,this.nextAll().get(),this.options)[0]:m&&m.cheerio?x=m.get():m&&(v=m),s.forEach(this,function(y){for(;(y=y.next)&&(v&&y!==v||x&&x.indexOf(y)===-1||!v&&!x);)o(y)&&h.indexOf(y)===-1&&h.push(y)}),p?r.filter.call(h,p,this):this._make(h)},r.prev=function(m){if(!this[0])return this;var p=[];return s.forEach(this,function(h){for(;h=h.prev;)if(o(h)){p.push(h);return}}),m?r.filter.call(p,m,this):this._make(p)},r.prevAll=function(m){if(!this[0])return this;var p=[];return s.forEach(this,function(h){for(;h=h.prev;)o(h)&&p.indexOf(h)===-1&&p.push(h)}),m?r.filter.call(p,m,this):this._make(p)},r.prevUntil=function(m,p){if(!this[0])return this;var h=[],v,x;return typeof m=="string"?v=n(m,this.prevAll().get(),this.options)[0]:m&&m.cheerio?x=m.get():m&&(v=m),s.forEach(this,function(y){for(;(y=y.prev)&&(v&&y!==v||x&&x.indexOf(y)===-1||!v&&!x);)o(y)&&h.indexOf(y)===-1&&h.push(y)}),p?r.filter.call(h,p,this):this._make(h)},r.siblings=function(m){var p=this.parent(),h=s.filter(p?p.children():this.siblingsAndMe(),s.bind(function(v){return o(v)&&!this.is(v)},this));return m!==void 0?r.filter.call(h,m,this):this._make(h)},r.children=function(m){var p=s.reduce(this,function(h,v){return h.concat(s.filter(v.children,o))},[]);return m===void 0?this._make(p):r.filter.call(p,m,this)},r.contents=function(){return this._make(s.reduce(this,function(m,p){return m.push.apply(m,p.children),m},[]))},r.each=function(m){for(var p=0,h=this.length;p<h&&m.call(this[p],p,this[p])!==!1;)++p;return this},r.map=function(m){return this._make(s.reduce(this,function(p,h,v){var x=m.call(h,v,h);return x==null?p:p.concat(x)},[]))};var u=function(m){return function(p,h){var v;return h=h||this,typeof p=="string"?v=n.compile(p,h.options):typeof p=="function"?v=function(x,y){return p.call(x,y,x)}:p.cheerio?v=p.is.bind(p):v=function(x){return p===x},h._make(m(this,v))}};r.filter=u(s.filter),r.not=u(s.reject),r.has=function(m){var p=this;return r.filter.call(this,function(){return p._make(this).find(m).length>0})},r.first=function(){return this.length>1?this._make(this[0]):this},r.last=function(){return this.length>1?this._make(this[this.length-1]):this},r.eq=function(m){return m=+m,m===0&&this.length<=1?this:(m<0&&(m=this.length+m),this[m]?this._make(this[m]):this._make([]))},r.get=function(m){return m==null?Array.prototype.slice.call(this):this[m<0?this.length+m:m]},r.index=function(m){var p,h;return arguments.length===0?(p=this.parent().children(),h=this[0]):typeof m=="string"?(p=this._make(m),h=this[0]):(p=this,h=m.cheerio?m[0]:m),p.get().indexOf(h)},r.slice=function(){return this._make([].slice.apply(this,arguments))};function c(m,p,h,v){for(var x=[];p&&x.length<v;)(!h||r.filter.call([p],h,m).length)&&x.push(p),p=p.parent;return x}r.end=function(){return this.prevObject||this._make([])},r.add=function(m,p){for(var h=this._make(m,p),v=e(h.get().concat(this.get())),x=0;x<v.length;++x)h[x]=v[x];return h.length=v.length,h},r.addBack=function(m){return this.add(arguments.length?this.prevObject.filter(m):this.prevObject)}},function(f,r,t){var n=t(283),a=t(486),l=t(144),e=t(31),o=t(1025);function s(u,c){var m=e(u)?n:a;return m(u,o(l(c,3)))}f.exports=s},function(f,r){var t="Expected a function";function n(a){if(typeof a!="function")throw new TypeError(t);return function(){var l=arguments;switch(l.length){case 0:return!a.call(this);case 1:return!a.call(this,l[0]);case 2:return!a.call(this,l[0],l[1]);case 3:return!a.call(this,l[0],l[1],l[2])}return!a.apply(this,l)}}f.exports=n},function(f,r,t){var n=t(283),a=t(486),l=t(144),e=t(31);function o(s,u){var c=e(s)?n:a;return c(s,l(u,3))}f.exports=o},function(f,r,t){var n=t(1028),a=t(146),l=t(144),e=t(1029),o=t(31);function s(u,c,m){var p=o(u)?n:e,h=arguments.length<3;return p(u,l(c,4),m,h,a)}f.exports=s},function(f,r){function t(n,a,l,e){var o=-1,s=n==null?0:n.length;for(e&&s&&(l=n[++o]);++o<s;)l=a(l,n[o],o,n);return l}f.exports=t},function(f,r){function t(n,a,l,e,o){return o(n,function(s,u,c){l=e?(e=!1,s):a(l,s,u,c)}),l}f.exports=t},function(f,r,t){var n=t(198),a=t(310),l=n.update,e=n.evaluate,o=t(152),s=o.domEach,u=o.cloneDom,c=o.isHtml,m=Array.prototype.slice,p={flatten:t(487),bind:t(306),forEach:t(147)};r._makeDomArray=function(x,y){return x==null?[]:x.cheerio?y?u(x.get(),x.options):x.get():Array.isArray(x)?p.flatten(x.map(function(k){return this._makeDomArray(k,y)},this)):typeof x=="string"?e(x,this.options,!1):y?u([x]):[x]};var h=function(x){return function(){var y=m.call(arguments),k=this.length-1;return s(this,function(T,E){var _,A;typeof y[0]=="function"?A=y[0].call(E,T,a.html(E.children)):A=y,_=this._makeDomArray(A,T<k),x(_,E.children,E)})}},v=function(x,y,k,T,E){var _=[y,k].concat(T),A=x[y-1]||null,C=x[y]||null,S,P,O,R,I;for(S=0,P=T.length;S<P;++S)R=T[S],I=R.parent||R.root,O=I&&I.children.indexOf(T[S]),I&&O>-1&&(I.children.splice(O,1),E===I&&y>O&&_[0]--),R.root=null,R.parent=E,R.prev&&(R.prev.next=R.next||null),R.next&&(R.next.prev=R.prev||null),R.prev=T[S-1]||A,R.next=T[S+1]||C;return A&&(A.next=T[0]),C&&(C.prev=T[T.length-1]),x.splice.apply(x,_)};r.appendTo=function(x){return x.cheerio||(x=this.constructor.call(this.constructor,x,null,this._originalRoot)),x.append(this),this},r.prependTo=function(x){return x.cheerio||(x=this.constructor.call(this.constructor,x,null,this._originalRoot)),x.prepend(this),this},r.append=h(function(x,y,k){v(y,y.length,0,x,k)}),r.prepend=h(function(x,y,k){v(y,0,0,x,k)}),r.wrap=function(x){var y=typeof x=="function"&&x,k=this.length-1;return p.forEach(this,p.bind(function(T,E){var _=T.parent||T.root,A=_.children,C,S,P,O;if(_){for(y&&(x=y.call(T,E)),typeof x=="string"&&!c(x)&&(x=this.parents().last().find(x).clone()),C=this._makeDomArray(x,E<k).slice(0,1),S=C[0],P=0;S&&S.children&&!(P>=S.children.length);)S.children[P].type==="tag"?(S=S.children[P],P=0):P++;O=A.indexOf(T),l([T],S),v(A,O,0,C,_)}},this)),this},r.after=function(){var x=m.call(arguments),y=this.length-1;return s(this,function(k,T){var E=T.parent||T.root;if(E){var _=E.children,A=_.indexOf(T),C,S;A<0||(typeof x[0]=="function"?C=x[0].call(T,k,a.html(T.children)):C=x,S=this._makeDomArray(C,k<y),v(_,A+1,0,S,E))}}),this},r.insertAfter=function(x){var y=[],k=this;return typeof x=="string"&&(x=this.constructor.call(this.constructor,x,null,this._originalRoot)),x=this._makeDomArray(x),k.remove(),s(x,function(T,E){var _=k._makeDomArray(k.clone()),A=E.parent||E.root;if(A){var C=A.children,S=C.indexOf(E);S<0||(v(C,S+1,0,_,A),y.push(_))}}),this.constructor.call(this.constructor,this._makeDomArray(y))},r.before=function(){var x=m.call(arguments),y=this.length-1;return s(this,function(k,T){var E=T.parent||T.root;if(E){var _=E.children,A=_.indexOf(T),C,S;A<0||(typeof x[0]=="function"?C=x[0].call(T,k,a.html(T.children)):C=x,S=this._makeDomArray(C,k<y),v(_,A,0,S,E))}}),this},r.insertBefore=function(x){var y=[],k=this;return typeof x=="string"&&(x=this.constructor.call(this.constructor,x,null,this._originalRoot)),x=this._makeDomArray(x),k.remove(),s(x,function(T,E){var _=k._makeDomArray(k.clone()),A=E.parent||E.root;if(A){var C=A.children,S=C.indexOf(E);S<0||(v(C,S,0,_,A),y.push(_))}}),this.constructor.call(this.constructor,this._makeDomArray(y))},r.remove=function(x){var y=this;return x&&(y=y.filter(x)),s(y,function(k,T){var E=T.parent||T.root;if(E){var _=E.children,A=_.indexOf(T);A<0||(_.splice(A,1),T.prev&&(T.prev.next=T.next),T.next&&(T.next.prev=T.prev),T.prev=T.next=T.parent=T.root=null)}}),this},r.replaceWith=function(x){var y=this;return s(this,function(k,T){var E=T.parent||T.root;if(E){var _=E.children,A=y._makeDomArray(typeof x=="function"?x.call(T,k,T):x),C;l(A,null),C=_.indexOf(T),v(_,C,1,A,E),T.parent=T.prev=T.next=T.root=null}}),this},r.empty=function(){return s(this,function(x,y){p.forEach(y.children,function(k){k.next=k.prev=k.parent=null}),y.children.length=0}),this},r.html=function(x){if(x===void 0)return!this[0]||!this[0].children?null:a.html(this[0].children,this.options);var y=this.options;return s(this,function(k,T){p.forEach(T.children,function(_){_.next=_.prev=_.parent=null});var E=x.cheerio?x.clone().get():e(""+x,y,!1);l(E,T)}),this},r.toString=function(){return a.html(this,this.options)},r.text=function(x){return x===void 0?a.text(this):typeof x=="function"?s(this,function(y,k){var T=[k];return r.text.call(T,x.call(k,y,a.text(T)))}):(s(this,function(y,k){p.forEach(k.children,function(E){E.next=E.prev=E.parent=null});var T={data:""+x,type:"text",parent:k,prev:null,next:null,children:[]};l(T,k)}),this)},r.clone=function(){return this._make(u(this.get(),this.options))}},function(f,r,t){var n=t(281),a=t(1032);function l(e,o,s,u,c){var m=-1,p=e.length;for(s||(s=a),c||(c=[]);++m<p;){var h=e[m];o>0&&s(h)?o>1?l(h,o-1,s,u,c):n(c,h):u||(c[c.length]=h)}return c}f.exports=l},function(f,r,t){var n=t(118),a=t(184),l=t(31),e=n?n.isConcatSpreadable:void 0;function o(s){return l(s)||a(s)||!!(e&&s&&s[e])}f.exports=o},function(f,r,t){var n=t(152).domEach,a={pick:t(1034)},l=Object.prototype.toString;r.css=function(c,m){return arguments.length===2||l.call(c)==="[object Object]"?n(this,function(p,h){e(h,c,m,p)}):o(this[0],c)};function e(c,m,p,h){if(typeof m=="string"){var v=o(c);typeof p=="function"&&(p=p.call(c,h,v[m])),p===""?delete v[m]:p!=null&&(v[m]=p),c.attribs.style=s(v)}else typeof m=="object"&&Object.keys(m).forEach(function(x){e(c,x,m[x])})}function o(c,m){var p=u(c.attribs.style);return typeof m=="string"?p[m]:Array.isArray(m)?a.pick(p,m):p}function s(c){return Object.keys(c||{}).reduce(function(m,p){return m+=(m?" ":"")+p+": "+c[p]+";"},"")}function u(c){return c=(c||"").trim(),c?c.split(";").reduce(function(m,p){var h=p.indexOf(":");return h<1||h===p.length-1||(m[p.slice(0,h).trim()]=p.slice(h+1).trim()),m},{}):{}}},function(f,r,t){var n=t(1035),a=t(1038),l=a(function(e,o){return e==null?{}:n(e,o)});f.exports=l},function(f,r,t){var n=t(1036),a=t(425);function l(e,o){return n(e,o,function(s,u){return a(e,u)})}f.exports=l},function(f,r,t){var n=t(284),a=t(1037),l=t(193);function e(o,s,u){for(var c=-1,m=s.length,p={};++c<m;){var h=s[c],v=n(o,h);u(v,h)&&a(p,l(h,o),v)}return p}f.exports=e},function(f,r,t){var n=t(195),a=t(193),l=t(142),e=t(45),o=t(145);function s(u,c,m,p){if(!e(u))return u;c=a(c,u);for(var h=-1,v=c.length,x=v-1,y=u;y!=null&&++h<v;){var k=o(c[h]),T=m;if(h!=x){var E=y[k];T=p?p(E,k,y):void 0,T===void 0&&(T=e(E)?E:l(c[h+1])?[]:{})}n(y,k,T),y=y[k]}return u}f.exports=s},function(f,r,t){var n=t(487),a=t(433),l=t(293);function e(o){return l(a(o,void 0,n),o+"")}f.exports=e},function(f,r,t){var n="input,select,textarea,keygen",a=/%20/g,l=/\r?\n/g,e={map:t(70)};r.serialize=function(){var o=this.serializeArray(),s=e.map(o,function(u){return encodeURIComponent(u.name)+"="+encodeURIComponent(u.value)});return s.join("&").replace(a,"+")},r.serializeArray=function(){var o=this.constructor;return this.map(function(){var s=this,u=o(s);return s.name==="form"?u.find(n).toArray():u.filter(n).toArray()}).filter('[name!=""]:not(:disabled):not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map(function(s,u){var c=o(u),m=c.attr("name"),p=c.val();return p==null&&(p=""),Array.isArray(p)?e.map(p,function(h){return{name:m,value:h.replace(l,`\r
`)}}):{name:m,value:p.replace(l,`\r
`)}}).get()}},function(f){f.exports={name:"cheerio",version:"1.0.0-rc.3",description:"Tiny, fast, and elegant implementation of core jQuery designed specifically for the server",author:"Matt Mueller <mattmuelle@gmail.com> (mat.io)",license:"MIT",keywords:["htmlparser","jquery","selector","scraper","parser","html"],repository:{type:"git",url:"git://github.com/cheeriojs/cheerio.git"},main:"./index.js",files:["index.js","lib"],engines:{node:">= 0.6"},dependencies:{"css-select":"~1.2.0","dom-serializer":"~0.1.1",entities:"~1.1.1",htmlparser2:"^3.9.1",lodash:"^4.15.0",parse5:"^3.0.1"},devDependencies:{benchmark:"^2.1.0",coveralls:"^2.11.9","expect.js":"~0.3.1",istanbul:"^0.4.3",jquery:"^3.0.0",jsdom:"^9.2.1",jshint:"^2.9.2",mocha:"^3.1.2",xyz:"~1.1.0"},scripts:{test:"make test"},_resolved:"https://registry.npmjs.org/cheerio/-/cheerio-1.0.0-rc.3.tgz",_integrity:"sha512-0td5ijfUPuubwLUu0OBoe98gZj8C/AA+RW3v67GPlGOrvxWjZmBXiBCRU+I8VEiNyJzjth40POfHiz2RB3gImA==",_from:"cheerio@1.0.0-rc.3"}},function(f,r,t){var n=t(53),a=t(489),l=t(312),e=t(1050),o=t(207),s=o("%TypeError%"),u=n.call(Function.call,o("%ObjectPrototype%").propertyIsEnumerable),c=n.call(Function.apply,o("%ArrayPrototype%").push),m=l(l({},a),{ToIndex:function(p){if(typeof p>"u")return 0;var h=this.ToInteger(p);if(h<0)throw new RangeError("index must be >= 0");var v=this.ToLength(h);if(!this.SameValueZero(h,v))throw new RangeError("index must be >= 0 and < 2 ** 53 - 1");return v},EnumerableOwnProperties:function(p,h){var v=a.EnumerableOwnNames(p);if(h==="key")return v;if(h==="value"||h==="key+value"){var x=[];return e(v,function(y){u(p,y)&&c(x,[h==="value"?p[y]:[y,p[y]]])}),x}throw new s('Assertion failed: "kind" is not "key", "value", or "key+value": '+h)}});delete m.EnumerableOwnNames,f.exports=m},function(f,r,t){var n=t(59),a=t(1043),l=t(295),e=t(207),o=e("%TypeError%"),s=e("%SyntaxError%"),u=e("%Array%"),c=e("%String%"),m=e("%Object%"),p=e("%Number%"),h=e("%Symbol%",!0),v=e("%RegExp%"),x=!!h,y=t(491),k=t(492),T=t(493),E=p.MAX_SAFE_INTEGER||Math.pow(2,53)-1,_=t(312),A=t(494),C=t(495),S=t(1048),P=parseInt,O=t(53),R=O.call(Function.call,u.prototype.slice),I=O.call(Function.call,c.prototype.slice),M=O.call(Function.call,v.prototype.test,/^0b[01]+$/i),H=O.call(Function.call,v.prototype.test,/^0o[0-7]+$/i),L=O.call(Function.call,v.prototype.exec),D=["","​","￾"].join(""),j=new v("["+D+"]","g"),W=O.call(Function.call,v.prototype.test,j),B=/^[-+]0x[0-9a-f]+$/i,F=O.call(Function.call,v.prototype.test,B),N=O.call(Function.call,c.prototype.charCodeAt),X=O.call(Function.call,Object.prototype.toString),G=O.call(Function.call,e("%NumberPrototype%").valueOf),V=O.call(Function.call,e("%BooleanPrototype%").valueOf),z=O.call(Function.call,e("%StringPrototype%").valueOf),U=O.call(Function.call,e("%DatePrototype%").valueOf),Z=Math.floor,st=Math.abs,Y=Object.create,rt=m.getOwnPropertyDescriptor,ft=m.isExtensible,tt=m.defineProperty,K=[`	
\v\f\r   ᠎    `,"         　\u2028","\u2029\uFEFF"].join(""),Q=new RegExp("(^["+K+"]+)|(["+K+"]+$)","g"),ct=O.call(Function.call,c.prototype.replace),nt=function(dt){return ct(dt,Q,"")},ot=t(496),yt=t(497),pt=_(_({},ot),{Call:function(dt,mt){var q=arguments.length>2?arguments[2]:[];if(!this.IsCallable(dt))throw new o(dt+" is not a function");return dt.apply(mt,q)},ToPrimitive:a,ToNumber:function(dt){var mt=S(dt)?dt:a(dt,p);if(typeof mt=="symbol")throw new o("Cannot convert a Symbol value to a number");if(typeof mt=="string"){if(M(mt))return this.ToNumber(P(I(mt,2),2));if(H(mt))return this.ToNumber(P(I(mt,2),8));if(W(mt)||F(mt))return NaN;var q=nt(mt);if(q!==mt)return this.ToNumber(q)}return p(mt)},ToInt16:function(dt){var mt=this.ToUint16(dt);return mt>=32768?mt-65536:mt},ToInt8:function(dt){var mt=this.ToUint8(dt);return mt>=128?mt-256:mt},ToUint8:function(dt){var mt=this.ToNumber(dt);if(k(mt)||mt===0||!T(mt))return 0;var q=A(mt)*Z(st(mt));return C(q,256)},ToUint8Clamp:function(dt){var mt=this.ToNumber(dt);if(k(mt)||mt<=0)return 0;if(mt>=255)return 255;var q=Z(dt);return q+.5<mt?q+1:mt<q+.5?q:q%2!==0?q+1:q},ToString:function(dt){if(typeof dt=="symbol")throw new o("Cannot convert a Symbol value to a string");return c(dt)},ToObject:function(dt){return this.RequireObjectCoercible(dt),m(dt)},ToPropertyKey:function(dt){var mt=this.ToPrimitive(dt,c);return typeof mt=="symbol"?mt:this.ToString(mt)},ToLength:function(dt){var mt=this.ToInteger(dt);return mt<=0?0:mt>E?E:mt},CanonicalNumericIndexString:function(dt){if(X(dt)!=="[object String]")throw new o("must be a string");if(dt==="-0")return-0;var mt=this.ToNumber(dt);if(this.SameValue(this.ToString(mt),dt))return mt},RequireObjectCoercible:ot.CheckObjectCoercible,IsArray:u.isArray||function(dt){return X(dt)==="[object Array]"},IsConstructor:function(dt){return typeof dt=="function"&&!!dt.prototype},IsExtensible:Object.preventExtensions?function(dt){return S(dt)?!1:ft(dt)}:function(dt){return!0},IsInteger:function(dt){if(typeof dt!="number"||k(dt)||!T(dt))return!1;var mt=st(dt);return Z(mt)===mt},IsPropertyKey:function(dt){return typeof dt=="string"||typeof dt=="symbol"},IsRegExp:function(dt){if(!dt||typeof dt!="object")return!1;if(x){var mt=dt[h.match];if(typeof mt<"u")return ot.ToBoolean(mt)}return yt(dt)},SameValueZero:function(dt,mt){return dt===mt||k(dt)&&k(mt)},GetV:function(dt,mt){if(!this.IsPropertyKey(mt))throw new o("Assertion failed: IsPropertyKey(P) is not true");var q=this.ToObject(dt);return q[mt]},GetMethod:function(dt,mt){if(!this.IsPropertyKey(mt))throw new o("Assertion failed: IsPropertyKey(P) is not true");var q=this.GetV(dt,mt);if(q!=null){if(!this.IsCallable(q))throw new o(mt+"is not a function");return q}},Get:function(dt,mt){if(this.Type(dt)!=="Object")throw new o("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(mt))throw new o("Assertion failed: IsPropertyKey(P) is not true");return dt[mt]},Type:function(dt){return typeof dt=="symbol"?"Symbol":ot.Type(dt)},SpeciesConstructor:function(dt,mt){if(this.Type(dt)!=="Object")throw new o("Assertion failed: Type(O) is not Object");var q=dt.constructor;if(typeof q>"u")return mt;if(this.Type(q)!=="Object")throw new o("O.constructor is not an Object");var $=x&&h.species?q[h.species]:void 0;if($==null)return mt;if(this.IsConstructor($))return $;throw new o("no constructor found")},CompletePropertyDescriptor:function(dt){return y(this,"Property Descriptor","Desc",dt),this.IsGenericDescriptor(dt)||this.IsDataDescriptor(dt)?(n(dt,"[[Value]]")||(dt["[[Value]]"]=void 0),n(dt,"[[Writable]]")||(dt["[[Writable]]"]=!1)):(n(dt,"[[Get]]")||(dt["[[Get]]"]=void 0),n(dt,"[[Set]]")||(dt["[[Set]]"]=void 0)),n(dt,"[[Enumerable]]")||(dt["[[Enumerable]]"]=!1),n(dt,"[[Configurable]]")||(dt["[[Configurable]]"]=!1),dt},Set:function(dt,mt,q,$){if(this.Type(dt)!=="Object")throw new o("O must be an Object");if(!this.IsPropertyKey(mt))throw new o("P must be a Property Key");if(this.Type($)!=="Boolean")throw new o("Throw must be a Boolean");if($)return dt[mt]=q,!0;try{dt[mt]=q}catch{return!1}},HasOwnProperty:function(dt,mt){if(this.Type(dt)!=="Object")throw new o("O must be an Object");if(!this.IsPropertyKey(mt))throw new o("P must be a Property Key");return n(dt,mt)},HasProperty:function(dt,mt){if(this.Type(dt)!=="Object")throw new o("O must be an Object");if(!this.IsPropertyKey(mt))throw new o("P must be a Property Key");return mt in dt},IsConcatSpreadable:function(dt){if(this.Type(dt)!=="Object")return!1;if(x&&typeof h.isConcatSpreadable=="symbol"){var mt=this.Get(dt,Symbol.isConcatSpreadable);if(typeof mt<"u")return this.ToBoolean(mt)}return this.IsArray(dt)},Invoke:function(dt,mt){if(!this.IsPropertyKey(mt))throw new o("P must be a Property Key");var q=R(arguments,2),$=this.GetV(dt,mt);return this.Call($,dt,q)},GetIterator:function(dt,mt){if(!x)throw new SyntaxError("ES.GetIterator depends on native iterator support.");var q=mt;arguments.length<2&&(q=this.GetMethod(dt,h.iterator));var $=this.Call(q,dt);if(this.Type($)!=="Object")throw new o("iterator must return an object");return $},IteratorNext:function(dt,mt){var q=this.Invoke(dt,"next",arguments.length<2?[]:[mt]);if(this.Type(q)!=="Object")throw new o("iterator next must return an object");return q},IteratorComplete:function(dt){if(this.Type(dt)!=="Object")throw new o("Assertion failed: Type(iterResult) is not Object");return this.ToBoolean(this.Get(dt,"done"))},IteratorValue:function(dt){if(this.Type(dt)!=="Object")throw new o("Assertion failed: Type(iterResult) is not Object");return this.Get(dt,"value")},IteratorStep:function(dt){var mt=this.IteratorNext(dt),q=this.IteratorComplete(mt);return q===!0?!1:mt},IteratorClose:function(dt,mt){if(this.Type(dt)!=="Object")throw new o("Assertion failed: Type(iterator) is not Object");if(!this.IsCallable(mt))throw new o("Assertion failed: completion is not a thunk for a Completion Record");var q=mt,$=this.GetMethod(dt,"return");if(typeof $>"u")return q();var J;try{var lt=this.Call($,dt,[])}catch(ut){throw J=q(),q=null,ut}if(J=q(),q=null,this.Type(lt)!=="Object")throw new o("iterator .return must return an object");return J},CreateIterResultObject:function(dt,mt){if(this.Type(mt)!=="Boolean")throw new o("Assertion failed: Type(done) is not Boolean");return{value:dt,done:mt}},RegExpExec:function(dt,mt){if(this.Type(dt)!=="Object")throw new o("R must be an Object");if(this.Type(mt)!=="String")throw new o("S must be a String");var q=this.Get(dt,"exec");if(this.IsCallable(q)){var $=this.Call(q,dt,[mt]);if($===null||this.Type($)==="Object")return $;throw new o('"exec" method must return `null` or an Object')}return L(dt,mt)},ArraySpeciesCreate:function(dt,mt){if(!this.IsInteger(mt)||mt<0)throw new o("Assertion failed: length must be an integer >= 0");var q=mt===0?0:mt,$,J=this.IsArray(dt);if(J&&($=this.Get(dt,"constructor"),this.Type($)==="Object"&&x&&h.species&&($=this.Get($,h.species),$===null&&($=void 0))),typeof $>"u")return u(q);if(!this.IsConstructor($))throw new o("C must be a constructor");return new $(q)},CreateDataProperty:function(dt,mt,q){if(this.Type(dt)!=="Object")throw new o("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(mt))throw new o("Assertion failed: IsPropertyKey(P) is not true");var $=rt(dt,mt),J=$||typeof ft!="function"||ft(dt),lt=$&&(!$.writable||!$.configurable);if(lt||!J)return!1;var ut={configurable:!0,enumerable:!0,value:q,writable:!0};return tt(dt,mt,ut),!0},CreateDataPropertyOrThrow:function(dt,mt,q){if(this.Type(dt)!=="Object")throw new o("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(mt))throw new o("Assertion failed: IsPropertyKey(P) is not true");var $=this.CreateDataProperty(dt,mt,q);if(!$)throw new o("unable to create data property");return $},ObjectCreate:function(dt,mt){if(dt!==null&&this.Type(dt)!=="Object")throw new o("Assertion failed: proto must be null or an object");var q=arguments.length<2?[]:mt;if(q.length>0)throw new s("es-abstract does not yet support internal slots");if(dt===null&&!Y)throw new s("native Object.create support is required to create null objects");return Y(dt)},AdvanceStringIndex:function(dt,mt,q){if(this.Type(dt)!=="String")throw new o("S must be a String");if(!this.IsInteger(mt)||mt<0||mt>E)throw new o("Assertion failed: length must be an integer >= 0 and <= 2**53");if(this.Type(q)!=="Boolean")throw new o("Assertion failed: unicode must be a Boolean");if(!q)return mt+1;var $=dt.length;if(mt+1>=$)return mt+1;var J=N(dt,mt);if(J<55296||J>56319)return mt+1;var lt=N(dt,mt+1);return lt<56320||lt>57343?mt+1:mt+2},CreateMethodProperty:function(dt,mt,q){if(this.Type(dt)!=="Object")throw new o("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(mt))throw new o("Assertion failed: IsPropertyKey(P) is not true");var $={configurable:!0,enumerable:!1,value:q,writable:!0};return!!tt(dt,mt,$)},DefinePropertyOrThrow:function(dt,mt,q){if(this.Type(dt)!=="Object")throw new o("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(mt))throw new o("Assertion failed: IsPropertyKey(P) is not true");return!!tt(dt,mt,q)},DeletePropertyOrThrow:function(dt,mt){if(this.Type(dt)!=="Object")throw new o("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(mt))throw new o("Assertion failed: IsPropertyKey(P) is not true");var q=delete dt[mt];if(!q)throw new TypeError("Attempt to delete property failed.");return q},EnumerableOwnNames:function(dt){if(this.Type(dt)!=="Object")throw new o("Assertion failed: Type(O) is not Object");return l(dt)},thisNumberValue:function(dt){return this.Type(dt)==="Number"?dt:G(dt)},thisBooleanValue:function(dt){return this.Type(dt)==="Boolean"?dt:V(dt)},thisStringValue:function(dt){return this.Type(dt)==="String"?dt:z(dt)},thisTimeValue:function(dt){return U(dt)}});delete pt.CheckObjectCoercible,f.exports=pt},function(f,r,t){f.exports=t(1044)},function(f,r,t){var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol",a=t(490),l=t(155),e=t(1045),o=t(1046),s=function(c,m){if(typeof c>"u"||c===null)throw new TypeError("Cannot call method on "+c);if(typeof m!="string"||m!=="number"&&m!=="string")throw new TypeError('hint must be "string" or "number"');var p=m==="string"?["toString","valueOf"]:["valueOf","toString"],h,v,x;for(x=0;x<p.length;++x)if(h=c[p[x]],l(h)&&(v=h.call(c),a(v)))return v;throw new TypeError("No default value")},u=function(c,m){var p=c[m];if(p!==null&&typeof p<"u"){if(!l(p))throw new TypeError(p+" returned for property "+m+" of object "+c+" is not a function");return p}};f.exports=function(c){if(a(c))return c;var m="default";arguments.length>1&&(arguments[1]===String?m="string":arguments[1]===Number&&(m="number"));var p;if(n&&(Symbol.toPrimitive?p=u(c,Symbol.toPrimitive):o(c)&&(p=Symbol.prototype.valueOf)),typeof p<"u"){var h=p.call(c,m);if(a(h))return h;throw new TypeError("unable to convert exotic object to primitive")}return m==="default"&&(e(c)||o(c))&&(m="string"),s(c,m==="default"?"number":m)}},function(f,r,t){var n=Date.prototype.getDay,a=function(s){try{return n.call(s),!0}catch{return!1}},l=Object.prototype.toString,e="[object Date]",o=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol";f.exports=function(s){return typeof s!="object"||s===null?!1:o?a(s):l.call(s)===e}},function(f,r,t){var n=Object.prototype.toString,a=t(1047)();if(a){var l=Symbol.prototype.toString,e=/^Symbol\(.*\)$/,o=function(s){return typeof s.valueOf()!="symbol"?!1:e.test(l.call(s))};f.exports=function(s){if(typeof s=="symbol")return!0;if(n.call(s)!=="[object Symbol]")return!1;try{return o(s)}catch{return!1}}}else f.exports=function(s){return!1}},function(f,r,t){(function(n){var a=n.Symbol,l=t(450);f.exports=function(){return typeof a!="function"||typeof Symbol!="function"||typeof a("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:l()}}).call(this,t(27))},function(f,r){f.exports=function(t){return t===null||typeof t!="function"&&typeof t!="object"}},function(f,r,t){var n=Object.prototype.toString,a=t(490),l=t(155),e={"[[DefaultValue]]":function(o){var s;if(arguments.length>1?s=arguments[1]:s=n.call(o)==="[object Date]"?String:Number,s===String||s===Number){var u=s===String?["toString","valueOf"]:["valueOf","toString"],c,m;for(m=0;m<u.length;++m)if(l(o[u[m]])&&(c=o[u[m]](),a(c)))return c;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")}};f.exports=function(o){return a(o)?o:arguments.length>1?e["[[DefaultValue]]"](o,arguments[1]):e["[[DefaultValue]]"](o)}},function(f,r,t){f.exports=function(n,a){for(var l=0;l<n.length;l+=1)a(n[l],l,n)}},function(f,r,t){var n=t(52),a=t(498);f.exports=function(){var l=a();return n(Array.prototype,{flat:l},{flat:function(){return Array.prototype.flat!==l}}),l}},function(f,r,t){var n=t(503),a=t(52);f.exports=function(){var l=n();return a(Object,{entries:l},{entries:function(){return Object.entries!==l}}),l}},function(f,r,t){var n=t(52).supportsDescriptors,a=t(505),l=t(506),e=Object.defineProperty,o=TypeError;f.exports=function(){var s=l();if(a)return s;if(!n)throw new o("Shimming Function.prototype.name support requires ES5 property descriptor support.");var u=Function.prototype;return e(u,"name",{configurable:!0,enumerable:!1,get:function(){var c=s.call(this);return this!==u&&e(this,"name",{configurable:!0,enumerable:!1,value:c,writable:!1}),c}}),s}},function(f,r,t){var n=t(53),a=t(52),l=t(507),e=t(508),o=t(1055),s=n.call(Function.call,e());a(s,{getPolyfill:e,implementation:l,shim:o}),f.exports=s},function(f,r,t){var n=t(52),a=t(508);f.exports=function(){var l=a();return n(String.prototype,{trim:l},{trim:function(){return String.prototype.trim!==l}}),l}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function(a){function l(e,o){return a.apply(this,arguments)}return l.toString=function(){return a.toString()},l}(function(a,l){return typeof a!="object"||a===null||typeof l!="object"||l===null?!1:Object.keys(l).every(function(e){if(!a.propertyIsEnumerable(e))return!1;var o=l[e],s=a[e];return!(typeof o=="object"&&o!==null?!n(s,o):s!==o)})});r.default=n,f.exports=r.default},function(f,r,t){(function(n){var a=1/0,l="[object Symbol]",e=/[&<>"'`]/g,o=RegExp(e.source),s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},u=typeof n=="object"&&n&&n.Object===Object&&n,c=typeof self=="object"&&self&&self.Object===Object&&self,m=u||c||Function("return this")();function p(P){return function(O){return P==null?void 0:P[O]}}var h=p(s),v=Object.prototype,x=v.toString,y=m.Symbol,k=y?y.prototype:void 0,T=k?k.toString:void 0;function E(P){if(typeof P=="string")return P;if(A(P))return T?T.call(P):"";var O=P+"";return O=="0"&&1/P==-a?"-0":O}function _(P){return!!P&&typeof P=="object"}function A(P){return typeof P=="symbol"||_(P)&&x.call(P)==l}function C(P){return P==null?"":E(P)}function S(P){return P=C(P),P&&o.test(P)?P.replace(e,h):P}f.exports=S}).call(this,t(27))},function(f,r,t){var n=String.prototype.valueOf,a=function(s){try{return n.call(s),!0}catch{return!1}},l=Object.prototype.toString,e="[object String]",o=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol";f.exports=function(s){return typeof s=="string"?!0:typeof s!="object"?!1:o?a(s):l.call(s)===e}},function(f,r,t){var n=Number.prototype.toString,a=function(s){try{return n.call(s),!0}catch{return!1}},l=Object.prototype.toString,e="[object Number]",o=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol";f.exports=function(s){return typeof s=="number"?!0:typeof s!="object"?!1:o?a(s):l.call(s)===e}},function(f,r,t){var n=Boolean.prototype.toString,a=function(s){try{return n.call(s),!0}catch{return!1}},l=Object.prototype.toString,e="[object Boolean]",o=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol";f.exports=function(s){return typeof s=="boolean"?!0:typeof s!="object"?!1:o?a(s):l.call(s)===e}},function(f,r,t){var n=typeof Map=="function"&&Map.prototype,a=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,l=n&&a&&typeof a.get=="function"?a.get:null,e=n&&Map.prototype.forEach,o=typeof Set=="function"&&Set.prototype,s=Object.getOwnPropertyDescriptor&&o?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=o&&s&&typeof s.get=="function"?s.get:null,c=o&&Set.prototype.forEach,m=Boolean.prototype.valueOf,p=Object.prototype.toString,h=typeof BigInt=="function"?BigInt.prototype.valueOf:null,v=t(1062).custom,x=v&&C(v)?v:null;f.exports=function z(U,Z,st,Y){if(Z||(Z={}),M(Z,"quoteStyle")&&Z.quoteStyle!=="single"&&Z.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(typeof U>"u")return"undefined";if(U===null)return"null";if(typeof U=="boolean")return U?"true":"false";if(typeof U=="string")return F(U,Z);if(typeof U=="number")return U===0?1/0/U>0?"0":"-0":String(U);if(typeof U=="bigint")return String(U)+"n";var rt=typeof Z.depth>"u"?5:Z.depth;if(typeof st>"u"&&(st=0),st>=rt&&rt>0&&typeof U=="object")return"[Object]";if(typeof Y>"u")Y=[];else if(D(Y,U)>=0)return"[Circular]";function ft(pt,dt){return dt&&(Y=Y.slice(),Y.push(dt)),z(pt,Z,st+1,Y)}if(typeof U=="function"){var tt=L(U);return"[Function"+(tt?": "+tt:"")+"]"}if(C(U)){var K=Symbol.prototype.toString.call(U);return typeof U=="object"?X(K):K}if(B(U)){for(var Q="<"+String(U.nodeName).toLowerCase(),ct=U.attributes||[],nt=0;nt<ct.length;nt++)Q+=" "+ct[nt].name+"="+y(k(ct[nt].value),"double",Z);return Q+=">",U.childNodes&&U.childNodes.length&&(Q+="..."),Q+="</"+String(U.nodeName).toLowerCase()+">",Q}if(T(U))return U.length===0?"[]":"[ "+V(U,ft).join(", ")+" ]";if(A(U)){var ot=V(U,ft);return ot.length===0?"["+String(U)+"]":"{ ["+String(U)+"] "+ot.join(", ")+" }"}if(typeof U=="object"){if(x&&typeof U[x]=="function")return U[x]();if(typeof U.inspect=="function")return U.inspect()}if(j(U)){var ot=[];return e.call(U,function(dt,mt){ot.push(ft(mt,U)+" => "+ft(dt,U))}),G("Map",l.call(U),ot)}if(W(U)){var ot=[];return c.call(U,function(dt){ot.push(ft(dt,U))}),G("Set",u.call(U),ot)}if(P(U))return X(ft(Number(U)));if(O(U))return X(ft(h.call(U)));if(R(U))return X(m.call(U));if(S(U))return X(ft(String(U)));if(!E(U)&&!_(U)){var yt=V(U,ft);return yt.length===0?"{}":"{ "+yt.join(", ")+" }"}return String(U)};function y(z,U,Z){var st=(Z.quoteStyle||U)==="double"?'"':"'";return st+z+st}function k(z){return String(z).replace(/"/g,"&quot;")}function T(z){return H(z)==="[object Array]"}function E(z){return H(z)==="[object Date]"}function _(z){return H(z)==="[object RegExp]"}function A(z){return H(z)==="[object Error]"}function C(z){return H(z)==="[object Symbol]"}function S(z){return H(z)==="[object String]"}function P(z){return H(z)==="[object Number]"}function O(z){return H(z)==="[object BigInt]"}function R(z){return H(z)==="[object Boolean]"}var I=Object.prototype.hasOwnProperty||function(z){return z in this};function M(z,U){return I.call(z,U)}function H(z){return p.call(z)}function L(z){if(z.name)return z.name;var U=String(z).match(/^function\s*([\w$]+)/);if(U)return U[1]}function D(z,U){if(z.indexOf)return z.indexOf(U);for(var Z=0,st=z.length;Z<st;Z++)if(z[Z]===U)return Z;return-1}function j(z){if(!l)return!1;try{l.call(z);try{u.call(z)}catch{return!0}return z instanceof Map}catch{}return!1}function W(z){if(!u)return!1;try{u.call(z);try{l.call(z)}catch{return!0}return z instanceof Set}catch{}return!1}function B(z){return!z||typeof z!="object"?!1:typeof HTMLElement<"u"&&z instanceof HTMLElement?!0:typeof z.nodeName=="string"&&typeof z.getAttribute=="function"}function F(z,U){var Z=z.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,N);return y(Z,"single",U)}function N(z){var U=z.charCodeAt(0),Z={8:"b",9:"t",10:"n",12:"f",13:"r"}[U];return Z?"\\"+Z:"\\x"+(U<16?"0":"")+U.toString(16)}function X(z){return"Object("+z+")"}function G(z,U,Z){return z+" ("+U+") {"+Z.join(", ")+"}"}function V(z,U){var Z=T(z),st=[];if(Z){st.length=z.length;for(var Y=0;Y<z.length;Y++)st[Y]=M(z,Y)?U(z[Y],z):""}for(var rt in z)M(z,rt)&&(Z&&String(Number(rt))===rt&&rt<z.length||(/[^\w$]/.test(rt)?st.push(U(rt,z)+": "+U(z[rt],z)):st.push(rt+": "+U(z[rt],z))));return st}},function(f,r){},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.createParser=r.createGenerator=void 0;var n=t(1064),a=o(n),l=t(1065),e=o(l);function o(s){return s&&s.__esModule?s:{default:s}}r.createGenerator=a.default,r.createParser=e.default},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=function(l){return JSON.stringify(l)},a=function(l){var e=l.body,o=[],s=!0,u=!1,c=void 0;try{for(var m=e[Symbol.iterator](),p;!(s=(p=m.next()).done);s=!0){var h=p.value,v=void 0;if(h.type==="universalSelector")v="*";else if(h.type==="typeSelector")v=h.name;else if(h.type==="idSelector")v="#"+h.name;else if(h.type==="classSelector")v="."+h.name;else if(h.type==="attributePresenceSelector")v="["+h.name+"]";else if(h.type==="attributeValueSelector")v="["+h.name+h.operator+n(h.value)+"]";else if(h.type==="pseudoClassSelector")v=":"+h.name,h.parameters.length&&(v+="("+h.parameters.map(n).join(", ")+")");else if(h.type==="pseudoElementSelector")v="::"+h.name;else throw new Error("Unknown token.");o.push(v)}}catch(x){u=!0,c=x}finally{try{!s&&m.return&&m.return()}finally{if(u)throw c}}return o.join("")};r.default=function(){var l=function(e){var o=[],s=!0,u=!1,c=void 0;try{for(var m=e[Symbol.iterator](),p;!(s=(p=m.next()).done);s=!0){var h=p.value;if(h.type==="selector")o.push(a(h));else if(h.type==="descendantCombinator")o.push(" ");else if(h.type==="childCombinator")o.push(" > ");else if(h.type==="adjacentSiblingCombinator")o.push(" + ");else if(h.type==="generalSiblingCombinator")o.push(" ~ ");else throw new Error("Unknown token.")}}catch(v){u=!0,c=v}finally{try{!s&&m.return&&m.return()}finally{if(u)throw c}}return o.join("")};return{generate:l}}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(1066),a=t(1067),l=e(a);function e(o){return o&&o.__esModule?o:{default:o}}r.default=function(){var o=function(s){var u=new n.Parser(l.default.ParserRules,l.default.ParserStart),c=u.feed(s).results;if(c.length===0)throw new Error("Found no parsings.");if(c.length>1)throw new Error("Ambiguous results.");return c[0]};return{parse:o}}},function(f,r,t){(function(n,a){f.exports?f.exports=a():n.nearley=a()})(this,function(){function n(u,c,m){return this.id=++n.highestId,this.name=u,this.symbols=c,this.postprocess=m,this}n.highestId=0,n.prototype.toString=function(u){function c(p){return p.literal?JSON.stringify(p.literal):p.type?"%"+p.type:p.toString()}var m=typeof u>"u"?this.symbols.map(c).join(" "):this.symbols.slice(0,u).map(c).join(" ")+" ● "+this.symbols.slice(u).map(c).join(" ");return this.name+" → "+m};function a(u,c,m,p){this.rule=u,this.dot=c,this.reference=m,this.data=[],this.wantedBy=p,this.isComplete=this.dot===u.symbols.length}a.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},a.prototype.nextState=function(u){var c=new a(this.rule,this.dot+1,this.reference,this.wantedBy);return c.left=this,c.right=u,c.isComplete&&(c.data=c.build()),c},a.prototype.build=function(){var u=[],c=this;do u.push(c.right.data),c=c.left;while(c.left);return u.reverse(),u},a.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,s.fail))};function l(u,c){this.grammar=u,this.index=c,this.states=[],this.wants={},this.scannable=[],this.completed={}}l.prototype.process=function(u){for(var c=this.states,m=this.wants,p=this.completed,h=0;h<c.length;h++){var v=c[h];if(v.isComplete){if(v.finish(),v.data!==s.fail){for(var x=v.wantedBy,y=x.length;y--;){var k=x[y];this.complete(k,v)}if(v.reference===this.index){var T=v.rule.name;(this.completed[T]=this.completed[T]||[]).push(v)}}}else{var T=v.rule.symbols[v.dot];if(typeof T!="string"){this.scannable.push(v);continue}if(m[T]){if(m[T].push(v),p.hasOwnProperty(T))for(var E=p[T],y=0;y<E.length;y++){var _=E[y];this.complete(v,_)}}else m[T]=[v],this.predict(T)}}},l.prototype.predict=function(u){for(var c=this.grammar.byName[u]||[],m=0;m<c.length;m++){var p=c[m],h=this.wants[u],v=new a(p,0,this.index,h);this.states.push(v)}},l.prototype.complete=function(u,c){var m=u.nextState(c);this.states.push(m)};function e(u,c){this.rules=u,this.start=c||this.rules[0].name;var m=this.byName={};this.rules.forEach(function(p){m.hasOwnProperty(p.name)||(m[p.name]=[]),m[p.name].push(p)})}e.fromCompiled=function(p,c){var m=p.Lexer;p.ParserStart&&(c=p.ParserStart,p=p.ParserRules);var p=p.map(function(v){return new n(v.name,v.symbols,v.postprocess)}),h=new e(p,c);return h.lexer=m,h};function o(){this.reset("")}o.prototype.reset=function(u,c){this.buffer=u,this.index=0,this.line=c?c.line:1,this.lastLineBreak=c?-c.col:0},o.prototype.next=function(){if(this.index<this.buffer.length){var u=this.buffer[this.index++];return u===`
`&&(this.line+=1,this.lastLineBreak=this.index),{value:u}}},o.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},o.prototype.formatError=function(u,c){var m=this.buffer;if(typeof m=="string"){var p=m.indexOf(`
`,this.index);p===-1&&(p=m.length);var h=m.substring(this.lastLineBreak,p),v=this.index-this.lastLineBreak;return c+=" at line "+this.line+" col "+v+`:

`,c+="  "+h+`
`,c+="  "+Array(v).join(" ")+"^",c}else return c+" at index "+(this.index-1)};function s(u,c,p){if(u instanceof e)var h=u,p=c;else var h=e.fromCompiled(u,c);this.grammar=h,this.options={keepHistory:!1,lexer:h.lexer||new o};for(var v in p||{})this.options[v]=p[v];this.lexer=this.options.lexer,this.lexerState=void 0;var x=new l(h,0);this.table=[x],x.wants[h.start]=[],x.predict(h.start),x.process(),this.current=0}return s.fail={},s.prototype.feed=function(u){var c=this.lexer;c.reset(u,this.lexerState);for(var m;m=c.next();){var p=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var h=this.current+1,v=new l(this.grammar,h);this.table.push(v);for(var x=m.text!==void 0?m.text:m.value,y=c.constructor===o?m.value:m,k=p.scannable,T=k.length;T--;){var E=k[T],_=E.rule.symbols[E.dot];if(_.test?_.test(y):_.type?_.type===m.type:_.literal===x){var A=E.nextState({data:y,token:m,isToken:!0,reference:h-1});v.states.push(A)}}if(v.process(),v.states.length===0){var C=this.lexer.formatError(m,"invalid syntax")+`
`;C+="Unexpected "+(m.type?m.type+" token: ":""),C+=JSON.stringify(m.value!==void 0?m.value:m)+`
`;var S=new Error(C);throw S.offset=this.current,S.token=m,S}this.options.keepHistory&&(p.lexerState=c.save()),this.current++}return p&&(this.lexerState=c.save()),this.results=this.finish(),this},s.prototype.save=function(){var u=this.table[this.current];return u.lexerState=this.lexerState,u},s.prototype.restore=function(u){var c=u.index;this.current=c,this.table[c]=u,this.table.splice(c+1),this.lexerState=u.lexerState,this.results=this.finish()},s.prototype.rewind=function(u){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[u])},s.prototype.finish=function(){var u=[],c=this.grammar.start,m=this.table[this.table.length-1];return m.states.forEach(function(p){p.rule.name===c&&p.dot===p.rule.symbols.length&&p.reference===0&&p.data!==s.fail&&u.push(p)}),u.map(function(p){return p.data})},{Parser:s,Grammar:e,Rule:n}})},function(f,r,t){(function(){function n(h){return h[0]}var a=t(1068),l=function(h,v){return function(x){return x[h].concat([x[v]])}},e=function(h){return h=h.filter(function(v){return v!==null}),a(h)},o={" ":"descendantCombinator","+":"adjacentSiblingCombinator",">":"childCombinator","~":"generalSiblingCombinator"},s=function(h){return(Array.isArray(h[0])?h[0]:[h[0]]).concat({type:o[h[2]]}).concat(h[4])},u=function(h,v,x){var y=a(h).join(""),k=parseFloat(y);return isNaN(k)?x:k},c=function(h,v,x){return h[0]==="true"?!0:h[0]==="false"?!1:x},m=function(h,v,x){if(h[0]==="NaN")return NaN;if(h[0]!=="undefined")return h[0]==="null"?null:x},p={Lexer:void 0,ParserRules:[{name:"combinator",symbols:["selector"]},{name:"combinator",symbols:["combinator","_",/[>+~ ]/,"_","selector"],postprocess:s},{name:"selector",symbols:["selectorBody"],postprocess:function(h){return{type:"selector",body:h[0]}}},{name:"selectorBody$ebnf$1",symbols:["typeSelector"],postprocess:n},{name:"selectorBody$ebnf$1",symbols:[],postprocess:function(h){return null}},{name:"selectorBody$ebnf$2",symbols:[]},{name:"selectorBody$ebnf$2",symbols:["selectorBody$ebnf$2","simpleSelector"],postprocess:function(h){return h[0].concat([h[1]])}},{name:"selectorBody",symbols:["selectorBody$ebnf$1","selectorBody$ebnf$2"],postprocess:function(h,v,x){var y=e(h);return y.length?y:x}},{name:"selectorBody$ebnf$3",symbols:[]},{name:"selectorBody$ebnf$3",symbols:["selectorBody$ebnf$3","simpleSelector"],postprocess:function(h){return h[0].concat([h[1]])}},{name:"selectorBody",symbols:["universalSelector","selectorBody$ebnf$3"],postprocess:e},{name:"simpleSelector",symbols:["idSelector"]},{name:"simpleSelector",symbols:["classSelector"]},{name:"simpleSelector",symbols:["attributeValueSelector"]},{name:"simpleSelector",symbols:["attributePresenceSelector"]},{name:"simpleSelector",symbols:["pseudoClassSelector"]},{name:"simpleSelector",symbols:["pseudoElementSelector"]},{name:"typeSelector",symbols:["attributeName"],postprocess:function(h){return{type:"typeSelector",name:h[0]}}},{name:"className$ebnf$1",symbols:[{literal:"-"}],postprocess:n},{name:"className$ebnf$1",symbols:[],postprocess:function(h){return null}},{name:"className$ebnf$2",symbols:[]},{name:"className$ebnf$2",symbols:["className$ebnf$2",/[_a-zA-Z0-9-]/],postprocess:function(h){return h[0].concat([h[1]])}},{name:"className",symbols:["className$ebnf$1",/[_a-zA-Z]/,"className$ebnf$2"],postprocess:function(h){return(h[0]||"")+h[1]+h[2].join("")}},{name:"attributeName$ebnf$1",symbols:[]},{name:"attributeName$ebnf$1",symbols:["attributeName$ebnf$1",/[_a-zA-Z()0-9-]/],postprocess:function(h){return h[0].concat([h[1]])}},{name:"attributeName",symbols:[/[_a-z()A-Z]/,"attributeName$ebnf$1"],postprocess:function(h){return h[0]+h[1].join("")}},{name:"classSelector",symbols:[{literal:"."},"className"],postprocess:function(h){return{type:"classSelector",name:h[1]}}},{name:"idSelector",symbols:[{literal:"#"},"attributeName"],postprocess:function(h){return{type:"idSelector",name:h[1]}}},{name:"universalSelector",symbols:[{literal:"*"}],postprocess:function(h){return{type:"universalSelector"}}},{name:"attributePresenceSelector",symbols:[{literal:"["},"attributeName",{literal:"]"}],postprocess:function(h){return{type:"attributePresenceSelector",name:h[1]}}},{name:"attributeOperator",symbols:[{literal:"="}]},{name:"attributeOperator$string$1",symbols:[{literal:"~"},{literal:"="}],postprocess:function(h){return h.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$1"]},{name:"attributeOperator$string$2",symbols:[{literal:"|"},{literal:"="}],postprocess:function(h){return h.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$2"]},{name:"attributeOperator$string$3",symbols:[{literal:"^"},{literal:"="}],postprocess:function(h){return h.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$3"]},{name:"attributeOperator$string$4",symbols:[{literal:"$"},{literal:"="}],postprocess:function(h){return h.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$4"]},{name:"attributeOperator$string$5",symbols:[{literal:"*"},{literal:"="}],postprocess:function(h){return h.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$5"]},{name:"attributeValueSelector",symbols:[{literal:"["},"attributeName","attributeOperator","attributeValue",{literal:"]"}],postprocess:function(h){return{type:"attributeValueSelector",name:h[1],value:h[3],operator:h[2][0]}}},{name:"attributeValue",symbols:["falsyPrimitiveStrings"],postprocess:n},{name:"attributeValue",symbols:["numericValue"],postprocess:n},{name:"attributeValue",symbols:["sqstring"],postprocess:n},{name:"attributeValue",symbols:["dqstring"],postprocess:n},{name:"falsyPrimitiveStrings$string$1",symbols:[{literal:"f"},{literal:"a"},{literal:"l"},{literal:"s"},{literal:"e"}],postprocess:function(h){return h.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$1"],postprocess:c},{name:"falsyPrimitiveStrings$string$2",symbols:[{literal:"t"},{literal:"r"},{literal:"u"},{literal:"e"}],postprocess:function(h){return h.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$2"],postprocess:c},{name:"falsyPrimitiveStrings$string$3",symbols:[{literal:"N"},{literal:"a"},{literal:"N"}],postprocess:function(h){return h.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$3"],postprocess:m},{name:"falsyPrimitiveStrings$string$4",symbols:[{literal:"n"},{literal:"u"},{literal:"l"},{literal:"l"}],postprocess:function(h){return h.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$4"],postprocess:m},{name:"falsyPrimitiveStrings$string$5",symbols:[{literal:"u"},{literal:"n"},{literal:"d"},{literal:"e"},{literal:"f"},{literal:"i"},{literal:"n"},{literal:"e"},{literal:"d"}],postprocess:function(h){return h.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$5"],postprocess:m},{name:"numericValue",symbols:["int",{literal:"."},"int"],postprocess:u},{name:"numericValue",symbols:[{literal:"+"},"int",{literal:"."},"int"],postprocess:u},{name:"numericValue",symbols:[{literal:"-"},"int",{literal:"."},"int"],postprocess:u},{name:"numericValue",symbols:[{literal:"-"},"int"],postprocess:u},{name:"numericValue",symbols:["int"],postprocess:u},{name:"numericValue",symbols:[{literal:"+"},"int"],postprocess:u},{name:"numericValue$string$1",symbols:[{literal:"I"},{literal:"n"},{literal:"f"},{literal:"i"},{literal:"n"},{literal:"i"},{literal:"t"},{literal:"y"}],postprocess:function(h){return h.join("")}},{name:"numericValue",symbols:["numericValue$string$1"],postprocess:u},{name:"numericValue$string$2",symbols:[{literal:"+"},{literal:"I"},{literal:"n"},{literal:"f"},{literal:"i"},{literal:"n"},{literal:"i"},{literal:"t"},{literal:"y"}],postprocess:function(h){return h.join("")}},{name:"numericValue",symbols:["numericValue$string$2"],postprocess:u},{name:"numericValue$string$3",symbols:[{literal:"-"},{literal:"I"},{literal:"n"},{literal:"f"},{literal:"i"},{literal:"n"},{literal:"i"},{literal:"t"},{literal:"y"}],postprocess:function(h){return h.join("")}},{name:"numericValue",symbols:["numericValue$string$3"],postprocess:u},{name:"int$ebnf$1",symbols:[/[0-9]/]},{name:"int$ebnf$1",symbols:["int$ebnf$1",/[0-9]/],postprocess:function(h){return h[0].concat([h[1]])}},{name:"int",symbols:["int$ebnf$1"]},{name:"classParameters",symbols:[]},{name:"classParameters",symbols:["classParameter"]},{name:"classParameters",symbols:["classParameters",{literal:","},"_","classParameter"],postprocess:l(0,3)},{name:"classParameter$ebnf$1",symbols:[/[^()"', ]/]},{name:"classParameter$ebnf$1",symbols:["classParameter$ebnf$1",/[^()"', ]/],postprocess:function(h){return h[0].concat([h[1]])}},{name:"classParameter",symbols:["classParameter$ebnf$1"],postprocess:function(h){return h[0].join("")}},{name:"classParameter",symbols:["sqstring"],postprocess:n},{name:"classParameter",symbols:["dqstring"],postprocess:n},{name:"pseudoElementSelector$string$1",symbols:[{literal:":"},{literal:":"}],postprocess:function(h){return h.join("")}},{name:"pseudoElementSelector",symbols:["pseudoElementSelector$string$1","pseudoClassSelectorName"],postprocess:function(h){return{type:"pseudoElementSelector",name:h[1]}}},{name:"pseudoClassSelector",symbols:[{literal:":"},"pseudoClassSelectorName"],postprocess:function(h){return{type:"pseudoClassSelector",name:h[1]}}},{name:"pseudoClassSelector",symbols:[{literal:":"},"pseudoClassSelectorName",{literal:"("},"classParameters",{literal:")"}],postprocess:function(h){return{type:"pseudoClassSelector",name:h[1],parameters:h[3]}}},{name:"pseudoClassSelectorName$ebnf$1",symbols:[/[a-zA-Z0-9-_]/]},{name:"pseudoClassSelectorName$ebnf$1",symbols:["pseudoClassSelectorName$ebnf$1",/[a-zA-Z0-9-_]/],postprocess:function(h){return h[0].concat([h[1]])}},{name:"pseudoClassSelectorName",symbols:[/[a-zA-Z]/,"pseudoClassSelectorName$ebnf$1"],postprocess:function(h){return h[0]+h[1].join("")}},{name:"dqstring$ebnf$1",symbols:[]},{name:"dqstring$ebnf$1",symbols:["dqstring$ebnf$1","dstrchar"],postprocess:function(h){return h[0].concat([h[1]])}},{name:"dqstring",symbols:[{literal:'"'},"dqstring$ebnf$1",{literal:'"'}],postprocess:function(h){return h[1].join("")}},{name:"dstrchar",symbols:[/[^"]/],postprocess:n},{name:"dstrchar$string$1",symbols:[{literal:"\\"},{literal:'"'}],postprocess:function(h){return h.join("")}},{name:"dstrchar",symbols:["dstrchar$string$1"],postprocess:function(h){return'"'}},{name:"sqstring$ebnf$1",symbols:[]},{name:"sqstring$ebnf$1",symbols:["sqstring$ebnf$1","sstrchar"],postprocess:function(h){return h[0].concat([h[1]])}},{name:"sqstring",symbols:[{literal:"'"},"sqstring$ebnf$1",{literal:"'"}],postprocess:function(h){return h[1].join("")}},{name:"sstrchar",symbols:[/[^']/],postprocess:n},{name:"sstrchar$string$1",symbols:[{literal:"\\"},{literal:"'"}],postprocess:function(h){return h.join("")}},{name:"sstrchar",symbols:["sstrchar$string$1"],postprocess:function(h){return"'"}},{name:"_$ebnf$1",symbols:[]},{name:"_$ebnf$1",symbols:["_$ebnf$1",/[ ]/],postprocess:function(h){return h[0].concat([h[1]])}},{name:"_",symbols:["_$ebnf$1"],postprocess:function(h){return null}}],ParserStart:"combinator"};typeof f.exports<"u"?f.exports=p:window.grammar=p})()},function(f,r,t){(function(n){var a=1/0,l=9007199254740991,e="[object Arguments]",o="[object Function]",s="[object GeneratorFunction]",u=typeof n=="object"&&n&&n.Object===Object&&n,c=typeof self=="object"&&self&&self.Object===Object&&self,m=u||c||Function("return this")(),p=Object.prototype,h=p.hasOwnProperty,v=p.toString,x=m.Symbol,y=p.propertyIsEnumerable,k=x?x.isConcatSpreadable:void 0;function T(H,L,D,j,W){var B=-1,F=H.length;for(D||(D=E),W||(W=[]);++B<F;){var N=H[B];D(N)?T(N,L-1,D,j,W):W[W.length]=N}return W}function E(H){return C(H)||A(H)||!!(k&&H&&H[k])}function _(H){var L=H?H.length:0;return L?T(H,a):[]}function A(H){return P(H)&&h.call(H,"callee")&&(!y.call(H,"callee")||v.call(H)==e)}var C=Array.isArray;function S(H){return H!=null&&R(H.length)&&!O(H)}function P(H){return M(H)&&S(H)}function O(H){var L=I(H)?v.call(H):"";return L==o||L==s}function R(H){return typeof H=="number"&&H>-1&&H%1==0&&H<=l}function I(H){var L=typeof H;return!!H&&(L=="object"||L=="function")}function M(H){return!!H&&typeof H=="object"}f.exports=_}).call(this,t(27))},function(f,r,t){var n=t(52),a=t(513),l=t(514),e=t(1070),o=l();n(o,{getPolyfill:l,implementation:a,shim:e}),f.exports=o},function(f,r,t){var n=t(514),a=t(52);f.exports=function(){var l=n();return a(Object,{values:l},{values:function(){return Object.values!==l}}),l}},function(f,r,t){var n=t(1072),a=t(1073);f.exports=function(l){if(!l)return[];var e=a();return l===e.unknown?[]:l===e.all?e.elements:n(e.elements,function(o){return o.constructor===l})}},function(f,r){f.exports=function(n,a,l){if(n.filter)return n.filter(a,l);if(n==null)throw new TypeError;if(typeof a!="function")throw new TypeError;for(var e=[],o=0;o<n.length;o++)if(t.call(n,o)){var s=n[o];a.call(l,s,o,n)&&e.push(s)}return e};var t=Object.prototype.hasOwnProperty},function(f,r,t){(function(n){var a=function(o,s){for(var u=[],c=0;c<o.length;c+=1)u.push(s(o[c],c));return u},l=[["HTMLElement","article"],["HTMLElement","section"],["HTMLBaseFontElement","basefont"],["HTMLPhraseElement","cite"],["HTMLElement","noscript"],["HTMLBGSoundElement","bgsound"],["HTMLPhraseElement","blink"],["HTMLElement","multicol"],["HTMLNextIdElement","nextid"],["HTMLElement","rb"],["HTMLElement","spacer"],["HTMLAnchorElement","a"],["HTMLAreaElement","area"],["HTMLAudioElement","audio"],["HTMLBaseElement","base"],["HTMLBodyElement","body"],["HTMLBRElement","br"],["HTMLButtonElement","button"],["HTMLCanvasElement","canvas"],["HTMLContentElement","content"],["HTMLDataElement","data"],["HTMLDataListElement","datalist"],["HTMLDialogElement","dialog"],["HTMLDirectoryElement","dir"],["HTMLDivElement","div"],["HTMLDListElement","dl"],["HTMLEmbedElement","embed"],["HTMLFieldSetElement","fieldset"],["HTMLFontElement","font"],["HTMLFormElement","form"],["HTMLFrameElement","frame"],["HTMLFrameSetElement","frameset"],["HTMLHeadElement","head"],["HTMLHeadingElement","h1"],["HTMLHeadingElement","h2"],["HTMLHeadingElement","h3"],["HTMLHeadingElement","h4"],["HTMLHeadingElement","h5"],["HTMLHeadingElement","h6"],["HTMLHtmlElement","html"],["HTMLHRElement","hr"],["HTMLIFrameElement","iframe"],["HTMLImageElement","img"],["HTMLInputElement","input"],["HTMLIsIndexElement","index"],["HTMLKeygenElement","keygen","HTMLBlockElement"],["HTMLLabelElement","label"],["HTMLLegendElement","legend"],["HTMLLIElement","li"],["HTMLLinkElement","link"],["HTMLMapElement","map"],["HTMLMarqueeElement","marquee"],["HTMLMenuElement","menu"],["HTMLMetaElement","meta"],["HTMLMeterElement","meter"],["HTMLModElement","del"],["HTMLModElement","ins"],["HTMLObjectElement","object"],["HTMLOListElement","ol"],["HTMLOptGroupElement","optgroup"],["HTMLOptionElement","option"],["HTMLOutputElement","output"],["HTMLParagraphElement","p"],["HTMLParamElement","param"],["HTMLPictureElement","picture"],["HTMLPreElement","pre"],["HTMLProgressElement","progress"],["HTMLQuoteElement","q"],["HTMLQuoteElement","blockquote","HTMLBlockElement"],["HTMLScriptElement","script"],["HTMLPictureElement","picture"],["HTMLSelectElement","select"],["HTMLShadowElement","shadow"],["HTMLSourceElement","source"],["HTMLSpanElement","span"],["HTMLStyleElement","style"],["HTMLTableElement","table"],["HTMLTableCaptionElement","caption"],["HTMLTableCellElement","td","HTMLTableDataCellElement"],["HTMLTableCellElement","th","HTMLTableHeaderCellElement"],["HTMLTableRowElement","tr"],["HTMLTableColElement","col"],["HTMLTableColElement","colgroup"],["HTMLTableSectionElement","tbody"],["HTMLTableSectionElement","thead"],["HTMLTableSectionElement","tfoot"],["HTMLTemplateElement","template"],["HTMLTextAreaElement","textarea"],["HTMLTimeElement","time"],["HTMLTitleElement","title"],["HTMLTrackElement","track"],["HTMLUListElement","ul"],["HTMLVideoElement","video"]],e=function(o,s,u){if(typeof document<"u"&&typeof document.createElement=="function"){var c=document.createElement(o).constructor;if(c!==u)return c}};f.exports=function(){var o=n.HTMLUnknownElement;return{all:n.HTMLElement,elements:a(l,function(s){var u=s[0],c=s[1],m=s[2],p=n[u],h=m&&n[m];return{constructor:e(c,h||p,o),constructorName:h?m:u,expectedConstructor:h||p,tag:c}}),unknown:o}}}).call(this,t(27))},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.default=e;var n=t(447),a=l(n);function l(o){return o&&o.__esModule?o:{default:o}}function e(o,s){return new a.default(o,null,s)}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.default=e;var n=t(515),a=l(n);function l(o){return o&&o.__esModule?o:{default:o}}function e(o,s){return new a.default(o,null,s)}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.default=c;var n=t(122),a=u(n),l=t(296),e=u(l),o=t(103),s=u(o);function u(m){return m&&m.__esModule?m:{default:m}}function c(m){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=(0,s.default)(p),v=h.createRenderer((0,a.default)({mode:"string"},p)),x=v.render(m,p.context);return e.default.load("")(x)}},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=t(3),a=o(n),l=t(4),e=o(l);function o(c){return c&&c.__esModule?c:{default:c}}var s=function(){function c(m){(0,a.default)(this,c),this.customEventHandlers={},this.registeredEls={},this.pubSub=m}return(0,e.default)(c,[{key:"getEventHandler",value:function(){function m(p){var h=this;return this.customEventHandlers[p]?this.customEventHandlers[p]:function(v){return h.pubSub.publish(p,v)}}return m}()},{key:"unregister",value:function(){function m(p,h){!this.registeredEls[p]&&this.registeredEls[p]!==h||(this.registeredEls[p].removeEventListener(p,this.registeredEls[p].__handler__),this.registeredEls[p]=void 0,delete this.registeredEls[p])}return m}()},{key:"register",value:function(){function m(p,h){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;!h||this.registeredEls[p]===h||(this.registeredEls[p]&&this.unregister(this.registeredEls[p]),this.registeredEls[p]=h,this.registeredEls[p].__handler__=this.getEventHandler(p),this.registeredEls[p].addEventListener(p,this.registeredEls[p].__handler__,{capture:v,passive:!1}))}return m}()}]),c}(),u=function(c){return new s(c)};r.default=u},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.trackInfo=r.tileDataToPixData=r.calculateTilesFromResolution=r.calculateTileWidth=r.calculateTiles=r.calculateZoomLevel=r.calculateResolution=r.calculateZoomLevelFromResolutions=r.fetchTilesDebounced=r.getTileProxyAuthHeader=r.setTileProxyAuthHeader=r.authHeader=r.requestsInFlight=void 0;var n=t(246),a=_(n),l=t(247),e=_(l),o=t(17),s=_(o),u=t(62),c=_(u),m=t(18),p=_(m),h=function(){var U=(0,e.default)(a.default.mark(function(){function Z(st,Y,rt){return a.default.wrap(function(){function ft(tt){for(;;)switch(tt.prev=tt.next){case 0:if(!(st.indexOf("hg19")>=0)){tt.next=3;break}return tt.next=3,G(1);case 3:return tt.abrupt("return",N(st,Y,"json",rt));case 4:case"end":return tt.stop()}}return ft}(),Z,this)}return Z}()));return function(){function Z(st,Y,rt){return U.apply(this,arguments)}return Z}()}();r.fetchMultiRequestTiles=R,r.calculateTileAndPosInTile=D;var v=t(8),x=t(26),y=_(x),k=t(182),T=t(10),E=t(11);function _(U){return U&&U.__esModule?U:{default:U}}var A=15,C=y.default.nice(),S=r.requestsInFlight=0,P=r.authHeader=null,O=function(U,Z,st){var Y=void 0,rt=[],ft={},tt=0,K=function(pt){var dt=ft[pt.id];dt&&rt[dt]?rt[dt].ids=rt[dt].ids.concat(pt.ids):(ft[pt.id]=rt.length,rt.push(pt))},Q=function(){Y=null,rt=[],ft={}},ct=function(pt){for(var dt=arguments.length,mt=Array(dt>1?dt-1:0),q=1;q<dt;q++)mt[q-1]=arguments[q];U.apply(void 0,[{sessionId:C,requests:rt}].concat(mt)),Q()},nt=function(pt){for(var dt=arguments.length,mt=Array(dt>1?dt-1:0),q=1;q<dt;q++)mt[q-1]=arguments[q];var $=function(){tt>0&&(ct.apply(void 0,[pt].concat(mt)),tt=0)};clearTimeout(Y),Y=setTimeout($,st)};nt.cancel=function(){clearTimeout(Y),Q()},nt.immediate=function(){U({sessionId:C,requests:rt})};var ot=!1,yt=function(pt){for(var dt=arguments.length,mt=Array(dt>1?dt-1:0),q=1;q<dt;q++)mt[q-1]=arguments[q];K(pt),ot?tt++:(ct.apply(void 0,[pt].concat(mt)),nt.apply(void 0,[pt].concat(mt)),ot=!0,tt=0,setTimeout(function(){ot=!1},Z))};return yt};r.setTileProxyAuthHeader=function(U){r.authHeader=P=U},r.getTileProxyAuthHeader=function(){return P};function R(U,Z){var st=U.requests,Y=[],rt={},ft={},tt=!0,K=!1,Q=void 0;try{for(var ct=(0,s.default)(st),nt;!(tt=(nt=ct.next()).done);tt=!0){var ot=nt.value;rt[ot.server]||(rt[ot.server]={},ft[ot.server]=[]);var yt=!0,pt=!1,dt=void 0;try{for(var mt=(0,s.default)(ot.ids),q;!(yt=(q=mt.next()).done);yt=!0){var $=q.value;rt[ot.server][$]=!0,ot.options&&function(){var Rt=$.indexOf("."),Vt=$.substring(0,Rt),ee=$.substring(Rt+1),Tt=ft[ot.server].find(function(_t){return _t.tilesetUid===Vt});Tt?Tt.tileIds.push(ee):ft[ot.server].push({tilesetUid:Vt,tileIds:[ee],options:ot.options})}()}}catch(Rt){pt=!0,dt=Rt}finally{try{!yt&&mt.return&&mt.return()}finally{if(pt)throw dt}}}}catch(Rt){K=!0,Q=Rt}finally{try{!tt&&ct.return&&ct.return()}finally{if(K)throw Q}}var J=(0,p.default)(rt),lt=function(Rt){for(var Vt=(0,p.default)(rt[Rt]),ee=ft[Rt],Tt=function(zt){var oe=Vt.slice(zt,zt+Math.min(Vt.length-zt,A)),$t=oe.map(function(se){return"d="+String(se)}).join("&"),pe=String(Rt)+"/tiles/?"+String($t)+"&s="+String(C),Nt=new c.default(function(se,Gt){Z.publish("requestSent",pe);var gt={};gt.outUrl=pe,gt.server=Rt,gt.theseTileIds=oe,gt.authHeader=P,(0,k.workerGetTiles)(gt.outUrl,gt.server,gt.theseTileIds,gt.authHeader,se,ee),Z.publish("requestReceived",pe)});Y.push(Nt)},_t=0;_t<Vt.length;_t+=A)Tt(_t)},ut=!0,ht=!1,bt=void 0;try{for(var kt=(0,s.default)(J),vt;!(ut=(vt=kt.next()).done);ut=!0){var Et=vt.value;lt(Et)}}catch(Rt){ht=!0,bt=Rt}finally{try{!ut&&kt.return&&kt.return()}finally{if(ht)throw bt}}c.default.all(Y).then(function(Rt){var Vt={},ee=!0,Tt=!1,_t=void 0;try{for(var zt=(0,s.default)(Rt),oe;!(ee=(oe=zt.next()).done);ee=!0){var $t=oe.value,pe=(0,p.default)($t),Nt=!0,se=!1,Gt=void 0;try{for(var gt=(0,s.default)(pe),fe;!(Nt=(fe=gt.next()).done);Nt=!0){var Ct=fe.value;Vt[String($t[Ct].server)+"/"+String(Ct)]=$t[Ct]}}catch(Ne){se=!0,Gt=Ne}finally{try{!Nt&&gt.return&&gt.return()}finally{if(se)throw Gt}}}}catch(Ne){Tt=!0,_t=Ne}finally{try{!ee&&zt.return&&zt.return()}finally{if(Tt)throw _t}}var at=!0,St=!1,jt=void 0;try{for(var Zt=(0,s.default)(st),ue;!(at=(ue=Zt.next()).done);at=!0){var ce=ue.value,It={},Mt=ce.server,Ut=!0,Kt=!1,wt=void 0;try{for(var ye=(0,s.default)(ce.ids),we;!(Ut=(we=ye.next()).done);Ut=!0){var Oe=we.value;It[Oe]=Vt[String(Mt)+"/"+String(Oe)]}}catch(Ne){Kt=!0,wt=Ne}finally{try{!Ut&&ye.return&&ye.return()}finally{if(Kt)throw wt}}ce.done(It)}}catch(Ne){St=!0,jt=Ne}finally{try{!at&&Zt.return&&Zt.return()}finally{if(St)throw jt}}})}var I=r.fetchTilesDebounced=O(R,E.TILE_FETCH_DEBOUNCE,E.TILE_FETCH_DEBOUNCE),M=r.calculateZoomLevelFromResolutions=function(U,Z){var st=U.map(function(K){return+K}).sort(function(K,Q){return Q-K}),Y=Z.range()[1]-Z.range()[0],rt=st.map(function(K){return(Z.domain()[1]-Z.domain()[0])/K}),ft=rt.map(function(K){return K/Y}),tt=ft.filter(function(K){return K<1});return tt.length===0?0:ft.indexOf(tt[tt.length-1])},H=r.calculateResolution=function(U,Z){if(U.resolutions){var st=U.resolutions.map(function(K){return+K}).sort(function(K,Q){return Q-K}),Y=st[Z];return Y}var rt=U.max_width,ft=+U.bins_per_dimension,tt=rt/(Math.pow(2,Z)*ft);return tt},L=r.calculateZoomLevel=function(U,Z,st,Y){var rt=U.range()[1]-U.range()[0],ft=Math.max((st-Z)/(U.domain()[1]-U.domain()[0]),1),tt=384,K=Math.max(0,Math.ceil(Math.log(rt/tt)/Math.LN2)),Q=Math.round(Math.log(ft)/Math.LN2)+K,ct=0;return Y&&(ct=Math.floor(Math.log(256)/Math.log(2)-Math.log(Y)/Math.log(2))),Q+=ct,Q};function D(U,Z,st,Y,rt){var ft=null,tt=U.bins_per_dimension||256;U.resolutions?ft=U.resolutions[Y]*tt:ft=Z/Math.pow(2,Y);var K=Math.floor((rt-st)/ft),Q=Math.floor(tt*(rt-K*ft)/ft);return[K,Q]}var j=r.calculateTiles=function(U,Z,st,Y,rt,ft){var tt=Math.min(U,rt),K=ft/Math.pow(2,tt),Q=1e-7;return(0,v.range)(Math.max(0,Math.floor((Z.domain()[0]-st)/K)),Math.min(Math.pow(2,tt),Math.ceil((Z.domain()[1]-st-Q)/K)))},W=r.calculateTileWidth=function(U,Z,st){if(U.resolutions){var Y=U.resolutions.map(function(rt){return+rt}).sort(function(rt,ft){return ft-rt});return Y[Z]*st}return U.max_width/Math.pow(2,Z)},B=r.calculateTilesFromResolution=function(U,Z,st,Y,rt){var ft=1e-7,tt=rt||256,K=U*tt,Q=20;Y||(Y=Number.MAX_VALUE);var ct=Math.max(0,Math.floor((Z.domain()[0]-st)/K)),nt=Math.ceil(Math.min(Y,Z.domain()[1]-st-ft)/K),ot=(0,v.range)(ct,nt);return ot.length>Q&&(console.warn("Too many visible tiles: "+String(ot.length)+" truncating to "+Q),ot=ot.slice(0,Q)),ot},F=r.tileDataToPixData=function(U,Z,st,Y,rt,ft,tt,K,Q,ct){var nt=U.tileData;if(!nt.dense){ft(null);return}if(U.mirrored&&!U.isMirrored&&U.tileData.tilePos.length>0&&U.tileData.tilePos[0]===U.tileData.tilePos[1]){U.tileData.dense=U.tileData.dense.slice();for(var ot=Math.floor(Math.sqrt(U.tileData.dense.length)),yt=0;yt<ot;yt++)for(var pt=yt+1;pt<ot;pt++)U.tileData.dense[yt*ot+pt]=U.tileData.dense[pt*ot+yt];if(K)for(var dt=0;dt<ot;dt++)for(var mt=0;mt<dt;mt++)U.tileData.dense[dt*ot+mt]=NaN;U.isMirrored=!0}var q=(0,k.workerSetPix)(nt.dense.length,nt.dense,Z,st,Y,rt,tt,K,U.tileData.shape,Q,ct);ft({pixData:q})};function N(U,Z,st,Y){r.requestsInFlight=S+=1,Y.publish("requestSent",U);var rt=null;if(st==="text")rt=null;else if(st==="json")rt="application/json";else throw new Error('fetch either "text" or "json", not "'+st+'"');var ft={};return rt&&(ft["Content-Type"]=rt),P&&(ft.Authorization=P),fetch(U,{credentials:"same-origin",headers:ft}).then(function(tt){if(!tt.ok)throw Error(tt.statusText);return tt[st]()}).then(function(tt){return Z(void 0,tt),tt}).catch(function(tt){return console.error("Could not fetch "+String(U),tt),Z(tt,void 0),tt}).finally(function(){Y.publish("requestReceived",U),r.requestsInFlight=S-=1})}function X(U,Z,st){return N(U,Z,"text",st)}function G(U){return new c.default(function(Z){return setTimeout(Z,U)})}var V=r.trackInfo=function(U,Z,st,Y,rt){var ft=String((0,T.trimTrailingSlash)(U))+"/tileset_info/?d="+String(Z)+"&s="+String(C);rt.publish("requestSent",ft),h(ft,function(tt,K){rt.publish("requestReceived",ft),tt?Y?Y("Error retrieving tilesetInfo from: "+String(U)):console.warn("Error retrieving: ",ft):st(K)},rt)},z={calculateResolution:H,calculateTileAndPosInTile:D,calculateTiles:j,calculateTilesFromResolution:B,calculateTileWidth:W,calculateZoomLevel:L,calculateZoomLevelFromResolutions:M,fetchTilesDebounced:I,json:h,text:X,tileDataToPixData:F,trackInfo:V};r.default=z},function(f,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.trackViewer=void 0;var n=t(5),a=_(n),l=t(3),e=_(l),o=t(4),s=_(o),u=t(6),c=_(u),m=t(7),p=_(m),h=t(19),v=_(h),x=t(2),y=_(x),k=t(1),T=_(k),E=t(317);function _(S){return S&&S.__esModule?S:{default:S}}var A=r.trackViewer=function(S,P,O){var R=(0,v.default)(P,4),I=R[0],M=R[1],H=R[2],L=R[3];O.options.colorbarPosition||(O.options.colorbarPosition="hidden"),O.options.labelPosition||(O.options.labelPosition="hidden");var D="arbitary-id",j={editable:!1,zoomFixed:!1,views:[{uid:D,initialXDomain:[I,M],initialYDomain:[H,L],tracks:{center:[O]},layout:{w:12,h:12,x:0,y:0,moved:!1,static:!1}}]},W=(0,E.viewer)(S,j,{sizeMode:"bounded"});return{id:D,hgApi:W}},C=function(S){(0,p.default)(P,S);function P(O){(0,e.default)(this,P);var R=(0,c.default)(this,(P.__proto__||(0,a.default)(P)).call(this,O));return R.id="id-"+String(Math.random()),R}return(0,s.default)(P,[{key:"componentDidMount",value:function(){function O(){this.initTrackViewer()}return O}()},{key:"shouldComponentUpdate",value:function(){function O(R){var I=R.x,M=R.y,H=R.width,L=R.height;return this.zoomTo(I,M,H,L),!1}return O}()},{key:"initTrackViewer",value:function(){function O(){var R=this.props,I=R.trackConfig,M=R.x,H=R.y,L=R.width,D=R.height,j=document.getElementById(this.id),W=A(j,[M,M+L,H,H+D],I),B=W.id,F=W.hgApi;this.viewUid=B,this.viewer=F}return O}()},{key:"zoomTo",value:function(){function O(R,I,M,H){this.viewer.zoomTo(this.viewUid,R,R+M,I,I+H)}return O}()},{key:"render",value:function(){function O(){return T.default.createElement("div",{id:this.id,style:{height:"100%",width:"100%"}})}return O}()}]),P}(T.default.Component);r.default=C,C.propTypes={trackConfig:y.default.object,width:y.default.number,height:y.default.number,x:y.default.number,y:y.default.number}},function(f,r,t){t.r(r);var n=function(){return new a};function a(){this.reset()}a.prototype={constructor:a,reset:function(){this.s=this.t=0},add:function(At){e(l,At,this.t),e(this,l.s,this.s),this.s?this.t+=l.t:this.s=l.t},valueOf:function(){return this.s}};var l=new a;function e(At,Ht,ie){var Jt=At.s=Ht+ie,me=Jt-Ht,xe=Jt-me;At.t=Ht-xe+(ie-me)}var o=1e-6,s=1e-12,u=Math.PI,c=u/2,m=u/4,p=u*2,h=180/u,v=u/180,x=Math.abs,y=Math.atan,k=Math.atan2,T=Math.cos,E=Math.ceil,_=Math.exp,A=Math.log,C=Math.pow,S=Math.sin,P=Math.sign||function(At){return At>0?1:At<0?-1:0},O=Math.sqrt,R=Math.tan;function I(At){return At>1?0:At<-1?u:Math.acos(At)}function M(At){return At>1?c:At<-1?-c:Math.asin(At)}function H(At){return(At=S(At/2))*At}function L(){}function D(At,Ht){At&&W.hasOwnProperty(At.type)&&W[At.type](At,Ht)}var j={Feature:function(At,Ht){D(At.geometry,Ht)},FeatureCollection:function(At,Ht){for(var ie=At.features,Jt=-1,me=ie.length;++Jt<me;)D(ie[Jt].geometry,Ht)}},W={Sphere:function(At,Ht){Ht.sphere()},Point:function(At,Ht){At=At.coordinates,Ht.point(At[0],At[1],At[2])},MultiPoint:function(At,Ht){for(var ie=At.coordinates,Jt=-1,me=ie.length;++Jt<me;)At=ie[Jt],Ht.point(At[0],At[1],At[2])},LineString:function(At,Ht){B(At.coordinates,Ht,0)},MultiLineString:function(At,Ht){for(var ie=At.coordinates,Jt=-1,me=ie.length;++Jt<me;)B(ie[Jt],Ht,0)},Polygon:function(At,Ht){F(At.coordinates,Ht)},MultiPolygon:function(At,Ht){for(var ie=At.coordinates,Jt=-1,me=ie.length;++Jt<me;)F(ie[Jt],Ht)},GeometryCollection:function(At,Ht){for(var ie=At.geometries,Jt=-1,me=ie.length;++Jt<me;)D(ie[Jt],Ht)}};function B(At,Ht,ie){var Jt=-1,me=At.length-ie,xe;for(Ht.lineStart();++Jt<me;)xe=At[Jt],Ht.point(xe[0],xe[1],xe[2]);Ht.lineEnd()}function F(At,Ht){var ie=-1,Jt=At.length;for(Ht.polygonStart();++ie<Jt;)B(At[ie],Ht,1);Ht.polygonEnd()}var N=function(At,Ht){At&&j.hasOwnProperty(At.type)?j[At.type](At,Ht):D(At,Ht)},X=n(),G=n(),V,z,U,Z,st,Y={point:L,lineStart:L,lineEnd:L,polygonStart:function(){X.reset(),Y.lineStart=rt,Y.lineEnd=ft},polygonEnd:function(){var At=+X;G.add(At<0?p+At:At),this.lineStart=this.lineEnd=this.point=L},sphere:function(){G.add(p)}};function rt(){Y.point=tt}function ft(){K(V,z)}function tt(At,Ht){Y.point=K,V=At,z=Ht,At*=v,Ht*=v,U=At,Z=T(Ht=Ht/2+m),st=S(Ht)}function K(At,Ht){At*=v,Ht*=v,Ht=Ht/2+m;var ie=At-U,Jt=ie>=0?1:-1,me=Jt*ie,xe=T(Ht),Ce=S(Ht),Ie=st*Ce,je=Z*xe+Ie*T(me),Ye=Ie*Jt*S(me);X.add(k(Ye,je)),U=At,Z=xe,st=Ce}var Q=function(At){return G.reset(),N(At,Y),G*2};function ct(At){return[k(At[1],At[0]),M(At[2])]}function nt(At){var Ht=At[0],ie=At[1],Jt=T(ie);return[Jt*T(Ht),Jt*S(Ht),S(ie)]}function ot(At,Ht){return At[0]*Ht[0]+At[1]*Ht[1]+At[2]*Ht[2]}function yt(At,Ht){return[At[1]*Ht[2]-At[2]*Ht[1],At[2]*Ht[0]-At[0]*Ht[2],At[0]*Ht[1]-At[1]*Ht[0]]}function pt(At,Ht){At[0]+=Ht[0],At[1]+=Ht[1],At[2]+=Ht[2]}function dt(At,Ht){return[At[0]*Ht,At[1]*Ht,At[2]*Ht]}function mt(At){var Ht=O(At[0]*At[0]+At[1]*At[1]+At[2]*At[2]);At[0]/=Ht,At[1]/=Ht,At[2]/=Ht}var q,$,J,lt,ut,ht,bt,kt,vt=n(),Et,Rt,Vt={point:ee,lineStart:_t,lineEnd:zt,polygonStart:function(){Vt.point=oe,Vt.lineStart=$t,Vt.lineEnd=pe,vt.reset(),Y.polygonStart()},polygonEnd:function(){Y.polygonEnd(),Vt.point=ee,Vt.lineStart=_t,Vt.lineEnd=zt,X<0?(q=-(J=180),$=-(lt=90)):vt>o?lt=90:vt<-o&&($=-90),Rt[0]=q,Rt[1]=J}};function ee(At,Ht){Et.push(Rt=[q=At,J=At]),Ht<$&&($=Ht),Ht>lt&&(lt=Ht)}function Tt(At,Ht){var ie=nt([At*v,Ht*v]);if(kt){var Jt=yt(kt,ie),me=[Jt[1],-Jt[0],0],xe=yt(me,Jt);mt(xe),xe=ct(xe);var Ce=At-ut,Ie=Ce>0?1:-1,je=xe[0]*h*Ie,Ye,Pe=x(Ce)>180;Pe^(Ie*ut<je&&je<Ie*At)?(Ye=xe[1]*h,Ye>lt&&(lt=Ye)):(je=(je+360)%360-180,Pe^(Ie*ut<je&&je<Ie*At)?(Ye=-xe[1]*h,Ye<$&&($=Ye)):(Ht<$&&($=Ht),Ht>lt&&(lt=Ht))),Pe?At<ut?Nt(q,At)>Nt(q,J)&&(J=At):Nt(At,J)>Nt(q,J)&&(q=At):J>=q?(At<q&&(q=At),At>J&&(J=At)):At>ut?Nt(q,At)>Nt(q,J)&&(J=At):Nt(At,J)>Nt(q,J)&&(q=At)}else Et.push(Rt=[q=At,J=At]);Ht<$&&($=Ht),Ht>lt&&(lt=Ht),kt=ie,ut=At}function _t(){Vt.point=Tt}function zt(){Rt[0]=q,Rt[1]=J,Vt.point=ee,kt=null}function oe(At,Ht){if(kt){var ie=At-ut;vt.add(x(ie)>180?ie+(ie>0?360:-360):ie)}else ht=At,bt=Ht;Y.point(At,Ht),Tt(At,Ht)}function $t(){Y.lineStart()}function pe(){oe(ht,bt),Y.lineEnd(),x(vt)>o&&(q=-(J=180)),Rt[0]=q,Rt[1]=J,kt=null}function Nt(At,Ht){return(Ht-=At)<0?Ht+360:Ht}function se(At,Ht){return At[0]-Ht[0]}function Gt(At,Ht){return At[0]<=At[1]?At[0]<=Ht&&Ht<=At[1]:Ht<At[0]||At[1]<Ht}var gt=function(At){var Ht,ie,Jt,me,xe,Ce,Ie;if(lt=J=-(q=$=1/0),Et=[],N(At,Vt),ie=Et.length){for(Et.sort(se),Ht=1,Jt=Et[0],xe=[Jt];Ht<ie;++Ht)me=Et[Ht],Gt(Jt,me[0])||Gt(Jt,me[1])?(Nt(Jt[0],me[1])>Nt(Jt[0],Jt[1])&&(Jt[1]=me[1]),Nt(me[0],Jt[1])>Nt(Jt[0],Jt[1])&&(Jt[0]=me[0])):xe.push(Jt=me);for(Ce=-1/0,ie=xe.length-1,Ht=0,Jt=xe[ie];Ht<=ie;Jt=me,++Ht)me=xe[Ht],(Ie=Nt(Jt[1],me[0]))>Ce&&(Ce=Ie,q=me[0],J=Jt[1])}return Et=Rt=null,q===1/0||$===1/0?[[NaN,NaN],[NaN,NaN]]:[[q,$],[J,lt]]},fe,Ct,at,St,jt,Zt,ue,ce,It,Mt,Ut,Kt,wt,ye,we,Oe,Ne={sphere:L,point:ze,lineStart:Be,lineEnd:pn,polygonStart:function(){Ne.lineStart=qt,Ne.lineEnd=it},polygonEnd:function(){Ne.lineStart=Be,Ne.lineEnd=pn}};function ze(At,Ht){At*=v,Ht*=v;var ie=T(Ht);Ue(ie*T(At),ie*S(At),S(Ht))}function Ue(At,Ht,ie){++fe,at+=(At-at)/fe,St+=(Ht-St)/fe,jt+=(ie-jt)/fe}function Be(){Ne.point=Je}function Je(At,Ht){At*=v,Ht*=v;var ie=T(Ht);ye=ie*T(At),we=ie*S(At),Oe=S(Ht),Ne.point=Xe,Ue(ye,we,Oe)}function Xe(At,Ht){At*=v,Ht*=v;var ie=T(Ht),Jt=ie*T(At),me=ie*S(At),xe=S(Ht),Ce=k(O((Ce=we*xe-Oe*me)*Ce+(Ce=Oe*Jt-ye*xe)*Ce+(Ce=ye*me-we*Jt)*Ce),ye*Jt+we*me+Oe*xe);Ct+=Ce,Zt+=Ce*(ye+(ye=Jt)),ue+=Ce*(we+(we=me)),ce+=Ce*(Oe+(Oe=xe)),Ue(ye,we,Oe)}function pn(){Ne.point=ze}function qt(){Ne.point=Xt}function it(){te(Kt,wt),Ne.point=ze}function Xt(At,Ht){Kt=At,wt=Ht,At*=v,Ht*=v,Ne.point=te;var ie=T(Ht);ye=ie*T(At),we=ie*S(At),Oe=S(Ht),Ue(ye,we,Oe)}function te(At,Ht){At*=v,Ht*=v;var ie=T(Ht),Jt=ie*T(At),me=ie*S(At),xe=S(Ht),Ce=we*xe-Oe*me,Ie=Oe*Jt-ye*xe,je=ye*me-we*Jt,Ye=O(Ce*Ce+Ie*Ie+je*je),Pe=M(Ye),Fe=Ye&&-Pe/Ye;It+=Fe*Ce,Mt+=Fe*Ie,Ut+=Fe*je,Ct+=Pe,Zt+=Pe*(ye+(ye=Jt)),ue+=Pe*(we+(we=me)),ce+=Pe*(Oe+(Oe=xe)),Ue(ye,we,Oe)}var ne=function(At){fe=Ct=at=St=jt=Zt=ue=ce=It=Mt=Ut=0,N(At,Ne);var Ht=It,ie=Mt,Jt=Ut,me=Ht*Ht+ie*ie+Jt*Jt;return me<s&&(Ht=Zt,ie=ue,Jt=ce,Ct<o&&(Ht=at,ie=St,Jt=jt),me=Ht*Ht+ie*ie+Jt*Jt,me<s)?[NaN,NaN]:[k(ie,Ht)*h,M(Jt/O(me))*h]},Wt=function(At){return function(){return At}},he=function(At,Ht){function ie(Jt,me){return Jt=At(Jt,me),Ht(Jt[0],Jt[1])}return At.invert&&Ht.invert&&(ie.invert=function(Jt,me){return Jt=Ht.invert(Jt,me),Jt&&At.invert(Jt[0],Jt[1])}),ie};function Dt(At,Ht){return[x(At)>u?At+Math.round(-At/p)*p:At,Ht]}Dt.invert=Dt;function Ft(At,Ht,ie){return(At%=p)?Ht||ie?he(xt(At),Bt(Ht,ie)):xt(At):Ht||ie?Bt(Ht,ie):Dt}function Yt(At){return function(Ht,ie){return Ht+=At,[Ht>u?Ht-p:Ht<-u?Ht+p:Ht,ie]}}function xt(At){var Ht=Yt(At);return Ht.invert=Yt(-At),Ht}function Bt(At,Ht){var ie=T(At),Jt=S(At),me=T(Ht),xe=S(Ht);function Ce(Ie,je){var Ye=T(je),Pe=T(Ie)*Ye,Fe=S(Ie)*Ye,Re=S(je),Ge=Re*ie+Pe*Jt;return[k(Fe*me-Ge*xe,Pe*ie-Re*Jt),M(Ge*me+Fe*xe)]}return Ce.invert=function(Ie,je){var Ye=T(je),Pe=T(Ie)*Ye,Fe=S(Ie)*Ye,Re=S(je),Ge=Re*me-Fe*xe;return[k(Fe*me+Re*xe,Pe*ie+Ge*Jt),M(Ge*ie-Pe*Jt)]},Ce}var Qt=function(At){At=Ft(At[0]*v,At[1]*v,At.length>2?At[2]*v:0);function Ht(ie){return ie=At(ie[0]*v,ie[1]*v),ie[0]*=h,ie[1]*=h,ie}return Ht.invert=function(ie){return ie=At.invert(ie[0]*v,ie[1]*v),ie[0]*=h,ie[1]*=h,ie},Ht};function le(At,Ht,ie,Jt,me,xe){if(ie){var Ce=T(Ht),Ie=S(Ht),je=Jt*ie;me==null?(me=Ht+Jt*p,xe=Ht-je/2):(me=ve(Ce,me),xe=ve(Ce,xe),(Jt>0?me<xe:me>xe)&&(me+=Jt*p));for(var Ye,Pe=me;Jt>0?Pe>xe:Pe<xe;Pe-=je)Ye=ct([Ce,-Ie*T(Pe),-Ie*S(Pe)]),At.point(Ye[0],Ye[1])}}function ve(At,Ht){Ht=nt(Ht),Ht[0]-=At,mt(Ht);var ie=I(-Ht[1]);return((-Ht[2]<0?-ie:ie)+p-o)%p}var _e=function(){var At=Wt([0,0]),Ht=Wt(90),ie=Wt(6),Jt,me,xe={point:Ce};function Ce(je,Ye){Jt.push(je=me(je,Ye)),je[0]*=h,je[1]*=h}function Ie(){var je=At.apply(this,arguments),Ye=Ht.apply(this,arguments)*v,Pe=ie.apply(this,arguments)*v;return Jt=[],me=Ft(-je[0]*v,-je[1]*v,0).invert,le(xe,Ye,Pe,1),je={type:"Polygon",coordinates:[Jt]},Jt=me=null,je}return Ie.center=function(je){return arguments.length?(At=typeof je=="function"?je:Wt([+je[0],+je[1]]),Ie):At},Ie.radius=function(je){return arguments.length?(Ht=typeof je=="function"?je:Wt(+je),Ie):Ht},Ie.precision=function(je){return arguments.length?(ie=typeof je=="function"?je:Wt(+je),Ie):ie},Ie},Ae=function(){var At=[],Ht;return{point:function(ie,Jt){Ht.push([ie,Jt])},lineStart:function(){At.push(Ht=[])},lineEnd:L,rejoin:function(){At.length>1&&At.push(At.pop().concat(At.shift()))},result:function(){var ie=At;return At=[],Ht=null,ie}}},ge=function(At,Ht){return x(At[0]-Ht[0])<o&&x(At[1]-Ht[1])<o};function ke(At,Ht,ie,Jt){this.x=At,this.z=Ht,this.o=ie,this.e=Jt,this.v=!1,this.n=this.p=null}var Ke=function(At,Ht,ie,Jt,me){var xe=[],Ce=[],Ie,je;if(At.forEach(function(Ze){if(!((ln=Ze.length-1)<=0)){var ln,vn=Ze[0],Tn=Ze[ln],En;if(ge(vn,Tn)){for(me.lineStart(),Ie=0;Ie<ln;++Ie)me.point((vn=Ze[Ie])[0],vn[1]);me.lineEnd();return}xe.push(En=new ke(vn,Ze,null,!0)),Ce.push(En.o=new ke(vn,null,En,!1)),xe.push(En=new ke(Tn,Ze,null,!1)),Ce.push(En.o=new ke(Tn,null,En,!0))}}),!!xe.length){for(Ce.sort(Ht),$e(xe),$e(Ce),Ie=0,je=Ce.length;Ie<je;++Ie)Ce[Ie].e=ie=!ie;for(var Ye=xe[0],Pe,Fe;;){for(var Re=Ye,Ge=!0;Re.v;)if((Re=Re.n)===Ye)return;Pe=Re.z,me.lineStart();do{if(Re.v=Re.o.v=!0,Re.e){if(Ge)for(Ie=0,je=Pe.length;Ie<je;++Ie)me.point((Fe=Pe[Ie])[0],Fe[1]);else Jt(Re.x,Re.n.x,1,me);Re=Re.n}else{if(Ge)for(Pe=Re.p.z,Ie=Pe.length-1;Ie>=0;--Ie)me.point((Fe=Pe[Ie])[0],Fe[1]);else Jt(Re.x,Re.p.x,-1,me);Re=Re.p}Re=Re.o,Pe=Re.z,Ge=!Ge}while(!Re.v);me.lineEnd()}}};function $e(At){if(Ht=At.length){for(var Ht,ie=0,Jt=At[0],me;++ie<Ht;)Jt.n=me=At[ie],me.p=Jt,Jt=me;Jt.n=me=At[0],me.p=Jt}}var jn=n(),In=function(At,Ht){var ie=Ht[0],Jt=Ht[1],me=S(Jt),xe=[S(ie),-T(ie),0],Ce=0,Ie=0;jn.reset(),me===1?Jt=c+o:me===-1&&(Jt=-c-o);for(var je=0,Ye=At.length;je<Ye;++je)if(Fe=(Pe=At[je]).length)for(var Pe,Fe,Re=Pe[Fe-1],Ge=Re[0],Ze=Re[1]/2+m,ln=S(Ze),vn=T(Ze),Tn=0;Tn<Fe;++Tn,Ge=hn,ln=Fn,vn=Wn,Re=En){var En=Pe[Tn],hn=En[0],Cn=En[1]/2+m,Fn=S(Cn),Wn=T(Cn),ir=hn-Ge,hr=ir>=0?1:-1,Rn=hr*ir,Sr=Rn>u,Tr=ln*Fn;if(jn.add(k(Tr*hr*S(Rn),vn*Wn+Tr*T(Rn))),Ce+=Sr?ir+hr*p:ir,Sr^Ge>=ie^hn>=ie){var kr=yt(nt(Re),nt(En));mt(kr);var bn=yt(xe,kr);mt(bn);var lr=(Sr^ir>=0?-1:1)*M(bn[2]);(Jt>lr||Jt===lr&&(kr[0]||kr[1]))&&(Ie+=Sr^ir>=0?1:-1)}}return(Ce<-o||Ce<o&&jn<-o)^Ie&1},xn=t(8),Un=function(At,Ht,ie,Jt){return function(me){var xe=Ht(me),Ce=Ae(),Ie=Ht(Ce),je=!1,Ye,Pe,Fe,Re={point:Ge,lineStart:ln,lineEnd:vn,polygonStart:function(){Re.point=Tn,Re.lineStart=En,Re.lineEnd=hn,Pe=[],Ye=[]},polygonEnd:function(){Re.point=Ge,Re.lineStart=ln,Re.lineEnd=vn,Pe=Object(xn.merge)(Pe);var Cn=In(Ye,Jt);Pe.length?(je||(me.polygonStart(),je=!0),Ke(Pe,xr,Cn,ie,me)):Cn&&(je||(me.polygonStart(),je=!0),me.lineStart(),ie(null,null,1,me),me.lineEnd()),je&&(me.polygonEnd(),je=!1),Pe=Ye=null},sphere:function(){me.polygonStart(),me.lineStart(),ie(null,null,1,me),me.lineEnd(),me.polygonEnd()}};function Ge(Cn,Fn){At(Cn,Fn)&&me.point(Cn,Fn)}function Ze(Cn,Fn){xe.point(Cn,Fn)}function ln(){Re.point=Ze,xe.lineStart()}function vn(){Re.point=Ge,xe.lineEnd()}function Tn(Cn,Fn){Fe.push([Cn,Fn]),Ie.point(Cn,Fn)}function En(){Ie.lineStart(),Fe=[]}function hn(){Tn(Fe[0][0],Fe[0][1]),Ie.lineEnd();var Cn=Ie.clean(),Fn=Ce.result(),Wn,ir=Fn.length,hr,Rn,Sr;if(Fe.pop(),Ye.push(Fe),Fe=null,!!ir){if(Cn&1){if(Rn=Fn[0],(hr=Rn.length-1)>0){for(je||(me.polygonStart(),je=!0),me.lineStart(),Wn=0;Wn<hr;++Wn)me.point((Sr=Rn[Wn])[0],Sr[1]);me.lineEnd()}return}ir>1&&Cn&2&&Fn.push(Fn.pop().concat(Fn.shift())),Pe.push(Fn.filter(cn))}}return Re}};function cn(At){return At.length>1}function xr(At,Ht){return((At=At.x)[0]<0?At[1]-c-o:c-At[1])-((Ht=Ht.x)[0]<0?Ht[1]-c-o:c-Ht[1])}var wr=Un(function(){return!0},fr,qe,[-u,-c]);function fr(At){var Ht=NaN,ie=NaN,Jt=NaN,me;return{lineStart:function(){At.lineStart(),me=1},point:function(xe,Ce){var Ie=xe>0?u:-u,je=x(xe-Ht);x(je-u)<o?(At.point(Ht,ie=(ie+Ce)/2>0?c:-c),At.point(Jt,ie),At.lineEnd(),At.lineStart(),At.point(Ie,ie),At.point(xe,ie),me=0):Jt!==Ie&&je>=u&&(x(Ht-Jt)<o&&(Ht-=Jt*o),x(xe-Ie)<o&&(xe-=Ie*o),ie=pr(Ht,ie,xe,Ce),At.point(Jt,ie),At.lineEnd(),At.lineStart(),At.point(Ie,ie),me=0),At.point(Ht=xe,ie=Ce),Jt=Ie},lineEnd:function(){At.lineEnd(),Ht=ie=NaN},clean:function(){return 2-me}}}function pr(At,Ht,ie,Jt){var me,xe,Ce=S(At-ie);return x(Ce)>o?y((S(Ht)*(xe=T(Jt))*S(ie)-S(Jt)*(me=T(Ht))*S(At))/(me*xe*Ce)):(Ht+Jt)/2}function qe(At,Ht,ie,Jt){var me;if(At==null)me=ie*c,Jt.point(-u,me),Jt.point(0,me),Jt.point(u,me),Jt.point(u,0),Jt.point(u,-me),Jt.point(0,-me),Jt.point(-u,-me),Jt.point(-u,0),Jt.point(-u,me);else if(x(At[0]-Ht[0])>o){var xe=At[0]<Ht[0]?u:-u;me=ie*xe/2,Jt.point(-xe,me),Jt.point(0,me),Jt.point(xe,me)}else Jt.point(Ht[0],Ht[1])}var ae=function(At){var Ht=T(At),ie=6*v,Jt=Ht>0,me=x(Ht)>o;function xe(Pe,Fe,Re,Ge){le(Ge,At,ie,Re,Pe,Fe)}function Ce(Pe,Fe){return T(Pe)*T(Fe)>Ht}function Ie(Pe){var Fe,Re,Ge,Ze,ln;return{lineStart:function(){Ze=Ge=!1,ln=1},point:function(vn,Tn){var En=[vn,Tn],hn,Cn=Ce(vn,Tn),Fn=Jt?Cn?0:Ye(vn,Tn):Cn?Ye(vn+(vn<0?u:-u),Tn):0;if(!Fe&&(Ze=Ge=Cn)&&Pe.lineStart(),Cn!==Ge&&(hn=je(Fe,En),(!hn||ge(Fe,hn)||ge(En,hn))&&(En[0]+=o,En[1]+=o,Cn=Ce(En[0],En[1]))),Cn!==Ge)ln=0,Cn?(Pe.lineStart(),hn=je(En,Fe),Pe.point(hn[0],hn[1])):(hn=je(Fe,En),Pe.point(hn[0],hn[1]),Pe.lineEnd()),Fe=hn;else if(me&&Fe&&Jt^Cn){var Wn;!(Fn&Re)&&(Wn=je(En,Fe,!0))&&(ln=0,Jt?(Pe.lineStart(),Pe.point(Wn[0][0],Wn[0][1]),Pe.point(Wn[1][0],Wn[1][1]),Pe.lineEnd()):(Pe.point(Wn[1][0],Wn[1][1]),Pe.lineEnd(),Pe.lineStart(),Pe.point(Wn[0][0],Wn[0][1])))}Cn&&(!Fe||!ge(Fe,En))&&Pe.point(En[0],En[1]),Fe=En,Ge=Cn,Re=Fn},lineEnd:function(){Ge&&Pe.lineEnd(),Fe=null},clean:function(){return ln|(Ze&&Ge)<<1}}}function je(Pe,Fe,Re){var Ge=nt(Pe),Ze=nt(Fe),ln=[1,0,0],vn=yt(Ge,Ze),Tn=ot(vn,vn),En=vn[0],hn=Tn-En*En;if(!hn)return!Re&&Pe;var Cn=Ht*Tn/hn,Fn=-Ht*En/hn,Wn=yt(ln,vn),ir=dt(ln,Cn),hr=dt(vn,Fn);pt(ir,hr);var Rn=Wn,Sr=ot(ir,Rn),Tr=ot(Rn,Rn),kr=Sr*Sr-Tr*(ot(ir,ir)-1);if(!(kr<0)){var bn=O(kr),lr=dt(Rn,(-Sr-bn)/Tr);if(pt(lr,ir),lr=ct(lr),!Re)return lr;var ur=Pe[0],vr=Fe[0],Rr=Pe[1],ti=Fe[1],si;vr<ur&&(si=ur,ur=vr,vr=si);var Qo=vr-ur,ki=x(Qo-u)<o,Yi=ki||Qo<o;if(!ki&&ti<Rr&&(si=Rr,Rr=ti,ti=si),Yi?ki?Rr+ti>0^lr[1]<(x(lr[0]-ur)<o?Rr:ti):Rr<=lr[1]&&lr[1]<=ti:Qo>u^(ur<=lr[0]&&lr[0]<=vr)){var Ci=dt(Rn,(-Sr+bn)/Tr);return pt(Ci,ir),[lr,ct(Ci)]}}}function Ye(Pe,Fe){var Re=Jt?At:u-At,Ge=0;return Pe<-Re?Ge|=1:Pe>Re&&(Ge|=2),Fe<-Re?Ge|=4:Fe>Re&&(Ge|=8),Ge}return Un(Ce,Ie,xe,Jt?[0,-At]:[-u,At-u])},Ee=function(At,Ht,ie,Jt,me,xe){var Ce=At[0],Ie=At[1],je=Ht[0],Ye=Ht[1],Pe=0,Fe=1,Re=je-Ce,Ge=Ye-Ie,Ze;if(Ze=ie-Ce,!(!Re&&Ze>0)){if(Ze/=Re,Re<0){if(Ze<Pe)return;Ze<Fe&&(Fe=Ze)}else if(Re>0){if(Ze>Fe)return;Ze>Pe&&(Pe=Ze)}if(Ze=me-Ce,!(!Re&&Ze<0)){if(Ze/=Re,Re<0){if(Ze>Fe)return;Ze>Pe&&(Pe=Ze)}else if(Re>0){if(Ze<Pe)return;Ze<Fe&&(Fe=Ze)}if(Ze=Jt-Ie,!(!Ge&&Ze>0)){if(Ze/=Ge,Ge<0){if(Ze<Pe)return;Ze<Fe&&(Fe=Ze)}else if(Ge>0){if(Ze>Fe)return;Ze>Pe&&(Pe=Ze)}if(Ze=xe-Ie,!(!Ge&&Ze<0)){if(Ze/=Ge,Ge<0){if(Ze>Fe)return;Ze>Pe&&(Pe=Ze)}else if(Ge>0){if(Ze<Pe)return;Ze<Fe&&(Fe=Ze)}return Pe>0&&(At[0]=Ce+Pe*Re,At[1]=Ie+Pe*Ge),Fe<1&&(Ht[0]=Ce+Fe*Re,Ht[1]=Ie+Fe*Ge),!0}}}}},tn=1e9,sn=-tn;function on(At,Ht,ie,Jt){function me(Ye,Pe){return At<=Ye&&Ye<=ie&&Ht<=Pe&&Pe<=Jt}function xe(Ye,Pe,Fe,Re){var Ge=0,Ze=0;if(Ye==null||(Ge=Ce(Ye,Fe))!==(Ze=Ce(Pe,Fe))||je(Ye,Pe)<0^Fe>0)do Re.point(Ge===0||Ge===3?At:ie,Ge>1?Jt:Ht);while((Ge=(Ge+Fe+4)%4)!==Ze);else Re.point(Pe[0],Pe[1])}function Ce(Ye,Pe){return x(Ye[0]-At)<o?Pe>0?0:3:x(Ye[0]-ie)<o?Pe>0?2:1:x(Ye[1]-Ht)<o?Pe>0?1:0:Pe>0?3:2}function Ie(Ye,Pe){return je(Ye.x,Pe.x)}function je(Ye,Pe){var Fe=Ce(Ye,1),Re=Ce(Pe,1);return Fe!==Re?Fe-Re:Fe===0?Pe[1]-Ye[1]:Fe===1?Ye[0]-Pe[0]:Fe===2?Ye[1]-Pe[1]:Pe[0]-Ye[0]}return function(Ye){var Pe=Ye,Fe=Ae(),Re,Ge,Ze,ln,vn,Tn,En,hn,Cn,Fn,Wn,ir={point:hr,lineStart:kr,lineEnd:bn,polygonStart:Sr,polygonEnd:Tr};function hr(ur,vr){me(ur,vr)&&Pe.point(ur,vr)}function Rn(){for(var ur=0,vr=0,Rr=Ge.length;vr<Rr;++vr)for(var ti=Ge[vr],si=1,Qo=ti.length,ki=ti[0],Yi,Ci,Pa=ki[0],bo=ki[1];si<Qo;++si)Yi=Pa,Ci=bo,ki=ti[si],Pa=ki[0],bo=ki[1],Ci<=Jt?bo>Jt&&(Pa-Yi)*(Jt-Ci)>(bo-Ci)*(At-Yi)&&++ur:bo<=Jt&&(Pa-Yi)*(Jt-Ci)<(bo-Ci)*(At-Yi)&&--ur;return ur}function Sr(){Pe=Fe,Re=[],Ge=[],Wn=!0}function Tr(){var ur=Rn(),vr=Wn&&ur,Rr=(Re=Object(xn.merge)(Re)).length;(vr||Rr)&&(Ye.polygonStart(),vr&&(Ye.lineStart(),xe(null,null,1,Ye),Ye.lineEnd()),Rr&&Ke(Re,Ie,ur,xe,Ye),Ye.polygonEnd()),Pe=Ye,Re=Ge=Ze=null}function kr(){ir.point=lr,Ge&&Ge.push(Ze=[]),Fn=!0,Cn=!1,En=hn=NaN}function bn(){Re&&(lr(ln,vn),Tn&&Cn&&Fe.rejoin(),Re.push(Fe.result())),ir.point=hr,Cn&&Pe.lineEnd()}function lr(ur,vr){var Rr=me(ur,vr);if(Ge&&Ze.push([ur,vr]),Fn)ln=ur,vn=vr,Tn=Rr,Fn=!1,Rr&&(Pe.lineStart(),Pe.point(ur,vr));else if(Rr&&Cn)Pe.point(ur,vr);else{var ti=[En=Math.max(sn,Math.min(tn,En)),hn=Math.max(sn,Math.min(tn,hn))],si=[ur=Math.max(sn,Math.min(tn,ur)),vr=Math.max(sn,Math.min(tn,vr))];Ee(ti,si,At,Ht,ie,Jt)?(Cn||(Pe.lineStart(),Pe.point(ti[0],ti[1])),Pe.point(si[0],si[1]),Rr||Pe.lineEnd(),Wn=!1):Rr&&(Pe.lineStart(),Pe.point(ur,vr),Wn=!1)}En=ur,hn=vr,Cn=Rr}return ir}}var He=function(){var At=0,Ht=0,ie=960,Jt=500,me,xe,Ce;return Ce={stream:function(Ie){return me&&xe===Ie?me:me=on(At,Ht,ie,Jt)(xe=Ie)},extent:function(Ie){return arguments.length?(At=+Ie[0][0],Ht=+Ie[0][1],ie=+Ie[1][0],Jt=+Ie[1][1],me=xe=null,Ce):[[At,Ht],[ie,Jt]]}}},Ve=n(),yn,dn,_n,gn={sphere:L,point:L,lineStart:Hn,lineEnd:L,polygonStart:L,polygonEnd:L};function Hn(){gn.point=Vn,gn.lineEnd=Bn}function Bn(){gn.point=gn.lineEnd=L}function Vn(At,Ht){At*=v,Ht*=v,yn=At,dn=S(Ht),_n=T(Ht),gn.point=tr}function tr(At,Ht){At*=v,Ht*=v;var ie=S(Ht),Jt=T(Ht),me=x(At-yn),xe=T(me),Ce=S(me),Ie=Jt*Ce,je=_n*ie-dn*Jt*xe,Ye=dn*ie+_n*Jt*xe;Ve.add(k(O(Ie*Ie+je*je),Ye)),yn=At,dn=ie,_n=Jt}var Qn=function(At){return Ve.reset(),N(At,gn),+Ve},er=[null,null],cr={type:"LineString",coordinates:er},Kn=function(At,Ht){return er[0]=At,er[1]=Ht,Qn(cr)},br={Feature:function(At,Ht){return dr(At.geometry,Ht)},FeatureCollection:function(At,Ht){for(var ie=At.features,Jt=-1,me=ie.length;++Jt<me;)if(dr(ie[Jt].geometry,Ht))return!0;return!1}},mr={Sphere:function(){return!0},Point:function(At,Ht){return an(At.coordinates,Ht)},MultiPoint:function(At,Ht){for(var ie=At.coordinates,Jt=-1,me=ie.length;++Jt<me;)if(an(ie[Jt],Ht))return!0;return!1},LineString:function(At,Ht){return Zn(At.coordinates,Ht)},MultiLineString:function(At,Ht){for(var ie=At.coordinates,Jt=-1,me=ie.length;++Jt<me;)if(Zn(ie[Jt],Ht))return!0;return!1},Polygon:function(At,Ht){return Jr(At.coordinates,Ht)},MultiPolygon:function(At,Ht){for(var ie=At.coordinates,Jt=-1,me=ie.length;++Jt<me;)if(Jr(ie[Jt],Ht))return!0;return!1},GeometryCollection:function(At,Ht){for(var ie=At.geometries,Jt=-1,me=ie.length;++Jt<me;)if(dr(ie[Jt],Ht))return!0;return!1}};function dr(At,Ht){return At&&mr.hasOwnProperty(At.type)?mr[At.type](At,Ht):!1}function an(At,Ht){return Kn(At,Ht)===0}function Zn(At,Ht){var ie=Kn(At[0],At[1]),Jt=Kn(At[0],Ht),me=Kn(Ht,At[1]);return Jt+me<=ie+o}function Jr(At,Ht){return!!In(At.map(Cr),di(Ht))}function Cr(At){return At=At.map(di),At.pop(),At}function di(At){return[At[0]*v,At[1]*v]}var de=function(At,Ht){return(At&&br.hasOwnProperty(At.type)?br[At.type]:dr)(At,Ht)};function Te(At,Ht,ie){var Jt=Object(xn.range)(At,Ht-o,ie).concat(Ht);return function(me){return Jt.map(function(xe){return[me,xe]})}}function We(At,Ht,ie){var Jt=Object(xn.range)(At,Ht-o,ie).concat(Ht);return function(me){return Jt.map(function(xe){return[xe,me]})}}function fn(){var At,Ht,ie,Jt,me,xe,Ce,Ie,je=10,Ye=je,Pe=90,Fe=360,Re,Ge,Ze,ln,vn=2.5;function Tn(){return{type:"MultiLineString",coordinates:En()}}function En(){return Object(xn.range)(E(Jt/Pe)*Pe,ie,Pe).map(Ze).concat(Object(xn.range)(E(Ie/Fe)*Fe,Ce,Fe).map(ln)).concat(Object(xn.range)(E(Ht/je)*je,At,je).filter(function(hn){return x(hn%Pe)>o}).map(Re)).concat(Object(xn.range)(E(xe/Ye)*Ye,me,Ye).filter(function(hn){return x(hn%Fe)>o}).map(Ge))}return Tn.lines=function(){return En().map(function(hn){return{type:"LineString",coordinates:hn}})},Tn.outline=function(){return{type:"Polygon",coordinates:[Ze(Jt).concat(ln(Ce).slice(1),Ze(ie).reverse().slice(1),ln(Ie).reverse().slice(1))]}},Tn.extent=function(hn){return arguments.length?Tn.extentMajor(hn).extentMinor(hn):Tn.extentMinor()},Tn.extentMajor=function(hn){return arguments.length?(Jt=+hn[0][0],ie=+hn[1][0],Ie=+hn[0][1],Ce=+hn[1][1],Jt>ie&&(hn=Jt,Jt=ie,ie=hn),Ie>Ce&&(hn=Ie,Ie=Ce,Ce=hn),Tn.precision(vn)):[[Jt,Ie],[ie,Ce]]},Tn.extentMinor=function(hn){return arguments.length?(Ht=+hn[0][0],At=+hn[1][0],xe=+hn[0][1],me=+hn[1][1],Ht>At&&(hn=Ht,Ht=At,At=hn),xe>me&&(hn=xe,xe=me,me=hn),Tn.precision(vn)):[[Ht,xe],[At,me]]},Tn.step=function(hn){return arguments.length?Tn.stepMajor(hn).stepMinor(hn):Tn.stepMinor()},Tn.stepMajor=function(hn){return arguments.length?(Pe=+hn[0],Fe=+hn[1],Tn):[Pe,Fe]},Tn.stepMinor=function(hn){return arguments.length?(je=+hn[0],Ye=+hn[1],Tn):[je,Ye]},Tn.precision=function(hn){return arguments.length?(vn=+hn,Re=Te(xe,me,90),Ge=We(Ht,At,vn),Ze=Te(Ie,Ce,90),ln=We(Jt,ie,vn),Tn):vn},Tn.extentMajor([[-180,-90+o],[180,90-o]]).extentMinor([[-180,-80-o],[180,80+o]])}function zn(){return fn()()}var On=function(At,Ht){var ie=At[0]*v,Jt=At[1]*v,me=Ht[0]*v,xe=Ht[1]*v,Ce=T(Jt),Ie=S(Jt),je=T(xe),Ye=S(xe),Pe=Ce*T(ie),Fe=Ce*S(ie),Re=je*T(me),Ge=je*S(me),Ze=2*M(O(H(xe-Jt)+Ce*je*H(me-ie))),ln=S(Ze),vn=Ze?function(Tn){var En=S(Tn*=Ze)/ln,hn=S(Ze-Tn)/ln,Cn=hn*Pe+En*Re,Fn=hn*Fe+En*Ge,Wn=hn*Ie+En*Ye;return[k(Fn,Cn)*h,k(Wn,O(Cn*Cn+Fn*Fn))*h]}:function(){return[ie*h,Jt*h]};return vn.distance=Ze,vn},qn=function(At){return At},ar=n(),gr=n(),nr,et,Pt,Ot,nn={point:L,lineStart:L,lineEnd:L,polygonStart:function(){nn.lineStart=kn,nn.lineEnd=jr},polygonEnd:function(){nn.lineStart=nn.lineEnd=nn.point=L,ar.add(x(gr)),gr.reset()},result:function(){var At=ar/2;return ar.reset(),At}};function kn(){nn.point=rr}function rr(At,Ht){nn.point=Yn,nr=Pt=At,et=Ot=Ht}function Yn(At,Ht){gr.add(Ot*At-Pt*Ht),Pt=At,Ot=Ht}function jr(){Yn(nr,et)}var bi=nn,Zr=1/0,pi=Zr,ii=-Zr,fo=ii,as={point:ss,lineStart:L,lineEnd:L,polygonStart:L,polygonEnd:L,result:function(){var At=[[Zr,pi],[ii,fo]];return ii=fo=-(pi=Zr=1/0),At}};function ss(At,Ht){At<Zr&&(Zr=At),At>ii&&(ii=At),Ht<pi&&(pi=Ht),Ht>fo&&(fo=Ht)}var Ti=as,Bo=0,Hi=0,Wi=0,po=0,mo=0,Bi=0,go=0,Lt=0,re=0,be,Se,De,Me,Le={point:Qe,lineStart:rn,lineEnd:wn,polygonStart:function(){Le.lineStart=Hr,Le.lineEnd=Br},polygonEnd:function(){Le.point=Qe,Le.lineStart=rn,Le.lineEnd=wn},result:function(){var At=re?[go/re,Lt/re]:Bi?[po/Bi,mo/Bi]:Wi?[Bo/Wi,Hi/Wi]:[NaN,NaN];return Bo=Hi=Wi=po=mo=Bi=go=Lt=re=0,At}};function Qe(At,Ht){Bo+=At,Hi+=Ht,++Wi}function rn(){Le.point=Ln}function Ln(At,Ht){Le.point=sr,Qe(De=At,Me=Ht)}function sr(At,Ht){var ie=At-De,Jt=Ht-Me,me=O(ie*ie+Jt*Jt);po+=me*(De+At)/2,mo+=me*(Me+Ht)/2,Bi+=me,Qe(De=At,Me=Ht)}function wn(){Le.point=Qe}function Hr(){Le.point=Fr}function Br(){Ir(be,Se)}function Fr(At,Ht){Le.point=Ir,Qe(be=De=At,Se=Me=Ht)}function Ir(At,Ht){var ie=At-De,Jt=Ht-Me,me=O(ie*ie+Jt*Jt);po+=me*(De+At)/2,mo+=me*(Me+Ht)/2,Bi+=me,me=Me*At-De*Ht,go+=me*(De+At),Lt+=me*(Me+Ht),re+=me*3,Qe(De=At,Me=Ht)}var mi=Le;function ai(At){this._context=At}ai.prototype={_radius:4.5,pointRadius:function(At){return this._radius=At,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(At,Ht){switch(this._point){case 0:{this._context.moveTo(At,Ht),this._point=1;break}case 1:{this._context.lineTo(At,Ht);break}default:{this._context.moveTo(At+this._radius,Ht),this._context.arc(At,Ht,this._radius,0,p);break}}},result:L};var Xi=n(),oi,qr,vo,zr,Nn,Ar={point:L,lineStart:function(){Ar.point=Yr},lineEnd:function(){oi&&$r(qr,vo),Ar.point=L},polygonStart:function(){oi=!0},polygonEnd:function(){oi=null},result:function(){var At=+Xi;return Xi.reset(),At}};function Yr(At,Ht){Ar.point=$r,qr=zr=At,vo=Nn=Ht}function $r(At,Ht){zr-=At,Nn-=Ht,Xi.add(O(zr*zr+Nn*Nn)),zr=At,Nn=Ht}var Qr=Ar;function Ur(){this._string=[]}Ur.prototype={_radius:4.5,_circle:Kr(4.5),pointRadius:function(At){return(At=+At)!==this._radius&&(this._radius=At,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(At,Ht){switch(this._point){case 0:{this._string.push("M",At,",",Ht),this._point=1;break}case 1:{this._string.push("L",At,",",Ht);break}default:{this._circle==null&&(this._circle=Kr(this._radius)),this._string.push("M",At,",",Ht,this._circle);break}}},result:function(){if(this._string.length){var At=this._string.join("");return this._string=[],At}else return null}};function Kr(At){return"m0,"+At+"a"+At+","+At+" 0 1,1 0,"+-2*At+"a"+At+","+At+" 0 1,1 0,"+2*At+"z"}var ls=function(At,Ht){var ie=4.5,Jt,me;function xe(Ce){return Ce&&(typeof ie=="function"&&me.pointRadius(+ie.apply(this,arguments)),N(Ce,Jt(me))),me.result()}return xe.area=function(Ce){return N(Ce,Jt(bi)),bi.result()},xe.measure=function(Ce){return N(Ce,Jt(Qr)),Qr.result()},xe.bounds=function(Ce){return N(Ce,Jt(Ti)),Ti.result()},xe.centroid=function(Ce){return N(Ce,Jt(mi)),mi.result()},xe.projection=function(Ce){return arguments.length?(Jt=Ce==null?(At=null,qn):(At=Ce).stream,xe):At},xe.context=function(Ce){return arguments.length?(me=Ce==null?(Ht=null,new Ur):new ai(Ht=Ce),typeof ie!="function"&&me.pointRadius(ie),xe):Ht},xe.pointRadius=function(Ce){return arguments.length?(ie=typeof Ce=="function"?Ce:(me.pointRadius(+Ce),+Ce),xe):ie},xe.projection(At).context(Ht)},us=function(At){return{stream:qi(At)}};function qi(At){return function(Ht){var ie=new Fo;for(var Jt in At)ie[Jt]=At[Jt];return ie.stream=Ht,ie}}function Fo(){}Fo.prototype={constructor:Fo,point:function(At,Ht){this.stream.point(At,Ht)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function zo(At,Ht,ie){var Jt=At.clipExtent&&At.clipExtent();return At.scale(150).translate([0,0]),Jt!=null&&At.clipExtent(null),N(ie,At.stream(Ti)),Ht(Ti.result()),Jt!=null&&At.clipExtent(Jt),At}function yo(At,Ht,ie){return zo(At,function(Jt){var me=Ht[1][0]-Ht[0][0],xe=Ht[1][1]-Ht[0][1],Ce=Math.min(me/(Jt[1][0]-Jt[0][0]),xe/(Jt[1][1]-Jt[0][1])),Ie=+Ht[0][0]+(me-Ce*(Jt[1][0]+Jt[0][0]))/2,je=+Ht[0][1]+(xe-Ce*(Jt[1][1]+Jt[0][1]))/2;At.scale(150*Ce).translate([Ie,je])},ie)}function Uo(At,Ht,ie){return yo(At,[[0,0],Ht],ie)}function Vo(At,Ht,ie){return zo(At,function(Jt){var me=+Ht,xe=me/(Jt[1][0]-Jt[0][0]),Ce=(me-xe*(Jt[1][0]+Jt[0][0]))/2,Ie=-xe*Jt[0][1];At.scale(150*xe).translate([Ce,Ie])},ie)}function Go(At,Ht,ie){return zo(At,function(Jt){var me=+Ht,xe=me/(Jt[1][1]-Jt[0][1]),Ce=-xe*Jt[0][0],Ie=(me-xe*(Jt[1][1]+Jt[0][1]))/2;At.scale(150*xe).translate([Ce,Ie])},ie)}var Sa=16,cs=T(30*v),Ta=function(At,Ht){return+Ht?Sn(At,Ht):hs(At)};function hs(At){return qi({point:function(Ht,ie){Ht=At(Ht,ie),this.stream.point(Ht[0],Ht[1])}})}function Sn(At,Ht){function ie(Jt,me,xe,Ce,Ie,je,Ye,Pe,Fe,Re,Ge,Ze,ln,vn){var Tn=Ye-Jt,En=Pe-me,hn=Tn*Tn+En*En;if(hn>4*Ht&&ln--){var Cn=Ce+Re,Fn=Ie+Ge,Wn=je+Ze,ir=O(Cn*Cn+Fn*Fn+Wn*Wn),hr=M(Wn/=ir),Rn=x(x(Wn)-1)<o||x(xe-Fe)<o?(xe+Fe)/2:k(Fn,Cn),Sr=At(Rn,hr),Tr=Sr[0],kr=Sr[1],bn=Tr-Jt,lr=kr-me,ur=En*bn-Tn*lr;(ur*ur/hn>Ht||x((Tn*bn+En*lr)/hn-.5)>.3||Ce*Re+Ie*Ge+je*Ze<cs)&&(ie(Jt,me,xe,Ce,Ie,je,Tr,kr,Rn,Cn/=ir,Fn/=ir,Wn,ln,vn),vn.point(Tr,kr),ie(Tr,kr,Rn,Cn,Fn,Wn,Ye,Pe,Fe,Re,Ge,Ze,ln,vn))}}return function(Jt){var me,xe,Ce,Ie,je,Ye,Pe,Fe,Re,Ge,Ze,ln,vn={point:Tn,lineStart:En,lineEnd:Cn,polygonStart:function(){Jt.polygonStart(),vn.lineStart=Fn},polygonEnd:function(){Jt.polygonEnd(),vn.lineStart=En}};function Tn(hr,Rn){hr=At(hr,Rn),Jt.point(hr[0],hr[1])}function En(){Fe=NaN,vn.point=hn,Jt.lineStart()}function hn(hr,Rn){var Sr=nt([hr,Rn]),Tr=At(hr,Rn);ie(Fe,Re,Pe,Ge,Ze,ln,Fe=Tr[0],Re=Tr[1],Pe=hr,Ge=Sr[0],Ze=Sr[1],ln=Sr[2],Sa,Jt),Jt.point(Fe,Re)}function Cn(){vn.point=Tn,Jt.lineEnd()}function Fn(){En(),vn.point=Wn,vn.lineEnd=ir}function Wn(hr,Rn){hn(me=hr,Rn),xe=Fe,Ce=Re,Ie=Ge,je=Ze,Ye=ln,vn.point=hn}function ir(){ie(Fe,Re,Pe,Ge,Ze,ln,xe,Ce,me,Ie,je,Ye,Sa,Jt),vn.lineEnd=Cn,Cn()}return vn}}var Gn=qi({point:function(At,Ht){this.stream.point(At*v,Ht*v)}});function Jn(At){return qi({point:function(Ht,ie){var Jt=At(Ht,ie);return this.stream.point(Jt[0],Jt[1])}})}function un(At,Ht,ie){function Jt(me,xe){return[Ht+At*me,ie-At*xe]}return Jt.invert=function(me,xe){return[(me-Ht)/At,(ie-xe)/At]},Jt}function Vr(At,Ht,ie,Jt){var me=T(Jt),xe=S(Jt),Ce=me*At,Ie=xe*At,je=me/At,Ye=xe/At,Pe=(xe*ie-me*Ht)/At,Fe=(xe*Ht+me*ie)/At;function Re(Ge,Ze){return[Ce*Ge-Ie*Ze+Ht,ie-Ie*Ge-Ce*Ze]}return Re.invert=function(Ge,Ze){return[je*Ge-Ye*Ze+Pe,Fe-Ye*Ge-je*Ze]},Re}function $n(At){return Gr(function(){return At})()}function Gr(At){var Ht,ie=150,Jt=480,me=250,xe=0,Ce=0,Ie=0,je=0,Ye=0,Pe,Fe=0,Re=null,Ge=wr,Ze=null,ln,vn,Tn,En=qn,hn=.5,Cn,Fn,Wn,ir,hr;function Rn(bn){return Wn(bn[0]*v,bn[1]*v)}function Sr(bn){return bn=Wn.invert(bn[0],bn[1]),bn&&[bn[0]*h,bn[1]*h]}Rn.stream=function(bn){return ir&&hr===bn?ir:ir=Gn(Jn(Pe)(Ge(Cn(En(hr=bn)))))},Rn.preclip=function(bn){return arguments.length?(Ge=bn,Re=void 0,kr()):Ge},Rn.postclip=function(bn){return arguments.length?(En=bn,Ze=ln=vn=Tn=null,kr()):En},Rn.clipAngle=function(bn){return arguments.length?(Ge=+bn?ae(Re=bn*v):(Re=null,wr),kr()):Re*h},Rn.clipExtent=function(bn){return arguments.length?(En=bn==null?(Ze=ln=vn=Tn=null,qn):on(Ze=+bn[0][0],ln=+bn[0][1],vn=+bn[1][0],Tn=+bn[1][1]),kr()):Ze==null?null:[[Ze,ln],[vn,Tn]]},Rn.scale=function(bn){return arguments.length?(ie=+bn,Tr()):ie},Rn.translate=function(bn){return arguments.length?(Jt=+bn[0],me=+bn[1],Tr()):[Jt,me]},Rn.center=function(bn){return arguments.length?(xe=bn[0]%360*v,Ce=bn[1]%360*v,Tr()):[xe*h,Ce*h]},Rn.rotate=function(bn){return arguments.length?(Ie=bn[0]%360*v,je=bn[1]%360*v,Ye=bn.length>2?bn[2]%360*v:0,Tr()):[Ie*h,je*h,Ye*h]},Rn.angle=function(bn){return arguments.length?(Fe=bn%360*v,Tr()):Fe*h},Rn.precision=function(bn){return arguments.length?(Cn=Ta(Fn,hn=bn*bn),kr()):O(hn)},Rn.fitExtent=function(bn,lr){return yo(Rn,bn,lr)},Rn.fitSize=function(bn,lr){return Uo(Rn,bn,lr)},Rn.fitWidth=function(bn,lr){return Vo(Rn,bn,lr)},Rn.fitHeight=function(bn,lr){return Go(Rn,bn,lr)};function Tr(){var bn=Vr(ie,0,0,Fe).apply(null,Ht(xe,Ce)),lr=(Fe?Vr:un)(ie,Jt-bn[0],me-bn[1],Fe);return Pe=Ft(Ie,je,Ye),Fn=he(Ht,lr),Wn=he(Pe,Fn),Cn=Ta(Fn,hn),kr()}function kr(){return ir=hr=null,Rn}return function(){return Ht=At.apply(this,arguments),Rn.invert=Ht.invert&&Sr,Tr()}}function Wr(At){var Ht=0,ie=u/3,Jt=Gr(At),me=Jt(Ht,ie);return me.parallels=function(xe){return arguments.length?Jt(Ht=xe[0]*v,ie=xe[1]*v):[Ht*h,ie*h]},me}function Ei(At){var Ht=T(At);function ie(Jt,me){return[Jt*Ht,S(me)/Ht]}return ie.invert=function(Jt,me){return[Jt/Ht,M(me*Ht)]},ie}function Wo(At,Ht){var ie=S(At),Jt=(ie+S(Ht))/2;if(x(Jt)<o)return Ei(At);var me=1+ie*(2*Jt-ie),xe=O(me)/Jt;function Ce(Ie,je){var Ye=O(me-2*Jt*S(je))/Jt;return[Ye*S(Ie*=Jt),xe-Ye*T(Ie)]}return Ce.invert=function(Ie,je){var Ye=xe-je;return[k(Ie,x(Ye))/Jt*P(Ye),M((me-(Ie*Ie+Ye*Ye)*Jt*Jt)/(2*Jt))]},Ce}var Ea=function(){return Wr(Wo).scale(155.424).center([0,33.6442])},Ql=function(){return Ea().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};function Jh(At){var Ht=At.length;return{point:function(ie,Jt){for(var me=-1;++me<Ht;)At[me].point(ie,Jt)},sphere:function(){for(var ie=-1;++ie<Ht;)At[ie].sphere()},lineStart:function(){for(var ie=-1;++ie<Ht;)At[ie].lineStart()},lineEnd:function(){for(var ie=-1;++ie<Ht;)At[ie].lineEnd()},polygonStart:function(){for(var ie=-1;++ie<Ht;)At[ie].polygonStart()},polygonEnd:function(){for(var ie=-1;++ie<Ht;)At[ie].polygonEnd()}}}var Qh=function(){var At,Ht,ie=Ql(),Jt,me=Ea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),xe,Ce=Ea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Ie,je,Ye={point:function(Re,Ge){je=[Re,Ge]}};function Pe(Re){var Ge=Re[0],Ze=Re[1];return je=null,Jt.point(Ge,Ze),je||(xe.point(Ge,Ze),je)||(Ie.point(Ge,Ze),je)}Pe.invert=function(Re){var Ge=ie.scale(),Ze=ie.translate(),ln=(Re[0]-Ze[0])/Ge,vn=(Re[1]-Ze[1])/Ge;return(vn>=.12&&vn<.234&&ln>=-.425&&ln<-.214?me:vn>=.166&&vn<.234&&ln>=-.214&&ln<-.115?Ce:ie).invert(Re)},Pe.stream=function(Re){return At&&Ht===Re?At:At=Jh([ie.stream(Ht=Re),me.stream(Re),Ce.stream(Re)])},Pe.precision=function(Re){return arguments.length?(ie.precision(Re),me.precision(Re),Ce.precision(Re),Fe()):ie.precision()},Pe.scale=function(Re){return arguments.length?(ie.scale(Re),me.scale(Re*.35),Ce.scale(Re),Pe.translate(ie.translate())):ie.scale()},Pe.translate=function(Re){if(!arguments.length)return ie.translate();var Ge=ie.scale(),Ze=+Re[0],ln=+Re[1];return Jt=ie.translate(Re).clipExtent([[Ze-.455*Ge,ln-.238*Ge],[Ze+.455*Ge,ln+.238*Ge]]).stream(Ye),xe=me.translate([Ze-.307*Ge,ln+.201*Ge]).clipExtent([[Ze-.425*Ge+o,ln+.12*Ge+o],[Ze-.214*Ge-o,ln+.234*Ge-o]]).stream(Ye),Ie=Ce.translate([Ze-.205*Ge,ln+.212*Ge]).clipExtent([[Ze-.214*Ge+o,ln+.166*Ge+o],[Ze-.115*Ge-o,ln+.234*Ge-o]]).stream(Ye),Fe()},Pe.fitExtent=function(Re,Ge){return yo(Pe,Re,Ge)},Pe.fitSize=function(Re,Ge){return Uo(Pe,Re,Ge)},Pe.fitWidth=function(Re,Ge){return Vo(Pe,Re,Ge)},Pe.fitHeight=function(Re,Ge){return Go(Pe,Re,Ge)};function Fe(){return At=Ht=null,Pe}return Pe.scale(1070)};function tu(At){return function(Ht,ie){var Jt=T(Ht),me=T(ie),xe=At(Jt*me);return[xe*me*S(Ht),xe*S(ie)]}}function Xo(At){return function(Ht,ie){var Jt=O(Ht*Ht+ie*ie),me=At(Jt),xe=S(me),Ce=T(me);return[k(Ht*xe,Jt*Ce),M(Jt&&ie*xe/Jt)]}}var fs=tu(function(At){return O(2/(1+At))});fs.invert=Xo(function(At){return 2*M(At/2)});var tf=function(){return $n(fs).scale(124.75).clipAngle(180-.001)},ds=tu(function(At){return(At=I(At))&&At/S(At)});ds.invert=Xo(function(At){return At});var ef=function(){return $n(ds).scale(79.4188).clipAngle(180-.001)};function qo(At,Ht){return[At,A(R((c+Ht)/2))]}qo.invert=function(At,Ht){return[At,2*y(_(Ht))-c]};var nf=function(){return eu(qo).scale(961/p)};function eu(At){var Ht=$n(At),ie=Ht.center,Jt=Ht.scale,me=Ht.translate,xe=Ht.clipExtent,Ce=null,Ie,je,Ye;Ht.scale=function(Fe){return arguments.length?(Jt(Fe),Pe()):Jt()},Ht.translate=function(Fe){return arguments.length?(me(Fe),Pe()):me()},Ht.center=function(Fe){return arguments.length?(ie(Fe),Pe()):ie()},Ht.clipExtent=function(Fe){return arguments.length?(Fe==null?Ce=Ie=je=Ye=null:(Ce=+Fe[0][0],Ie=+Fe[0][1],je=+Fe[1][0],Ye=+Fe[1][1]),Pe()):Ce==null?null:[[Ce,Ie],[je,Ye]]};function Pe(){var Fe=u*Jt(),Re=Ht(Qt(Ht.rotate()).invert([0,0]));return xe(Ce==null?[[Re[0]-Fe,Re[1]-Fe],[Re[0]+Fe,Re[1]+Fe]]:At===qo?[[Math.max(Re[0]-Fe,Ce),Ie],[Math.min(Re[0]+Fe,je),Ye]]:[[Ce,Math.max(Re[1]-Fe,Ie)],[je,Math.min(Re[1]+Fe,Ye)]])}return Pe()}function ka(At){return R((c+At)/2)}function nu(At,Ht){var ie=T(At),Jt=At===Ht?S(At):A(ie/T(Ht))/A(ka(Ht)/ka(At)),me=ie*C(ka(At),Jt)/Jt;if(!Jt)return qo;function xe(Ce,Ie){me>0?Ie<-c+o&&(Ie=-c+o):Ie>c-o&&(Ie=c-o);var je=me/C(ka(Ie),Jt);return[je*S(Jt*Ce),me-je*T(Jt*Ce)]}return xe.invert=function(Ce,Ie){var je=me-Ie,Ye=P(Jt)*O(Ce*Ce+je*je);return[k(Ce,x(je))/Jt*P(je),2*y(C(me/Ye,1/Jt))-c]},xe}var rf=function(){return Wr(nu).scale(109.5).parallels([30,30])};function Yo(At,Ht){return[At,Ht]}Yo.invert=Yo;var of=function(){return $n(Yo).scale(152.63)};function ru(At,Ht){var ie=T(At),Jt=At===Ht?S(At):(ie-T(Ht))/(Ht-At),me=ie/Jt+At;if(x(Jt)<o)return Yo;function xe(Ce,Ie){var je=me-Ie,Ye=Jt*Ce;return[je*S(Ye),me-je*T(Ye)]}return xe.invert=function(Ce,Ie){var je=me-Ie;return[k(Ce,x(je))/Jt*P(je),me-P(Jt)*O(Ce*Ce+je*je)]},xe}var af=function(){return Wr(ru).scale(131.154).center([0,13.9389])},$o=1.340264,Zo=-.081106,Ko=893e-6,Jo=.003796,Ca=O(3)/2,sf=12;function ps(At,Ht){var ie=M(Ca*S(Ht)),Jt=ie*ie,me=Jt*Jt*Jt;return[At*T(ie)/(Ca*($o+3*Zo*Jt+me*(7*Ko+9*Jo*Jt))),ie*($o+Zo*Jt+me*(Ko+Jo*Jt))]}ps.invert=function(At,Ht){for(var ie=Ht,Jt=ie*ie,me=Jt*Jt*Jt,xe=0,Ce,Ie,je;xe<sf&&(Ie=ie*($o+Zo*Jt+me*(Ko+Jo*Jt))-Ht,je=$o+3*Zo*Jt+me*(7*Ko+9*Jo*Jt),ie-=Ce=Ie/je,Jt=ie*ie,me=Jt*Jt*Jt,!(x(Ce)<s));++xe);return[Ca*At*($o+3*Zo*Jt+me*(7*Ko+9*Jo*Jt))/T(ie),M(S(ie)/Ca)]};var lf=function(){return $n(ps).scale(177.158)};function ms(At,Ht){var ie=T(Ht),Jt=T(At)*ie;return[ie*S(At)/Jt,S(Ht)/Jt]}ms.invert=Xo(y);var uf=function(){return $n(ms).scale(144.049).clipAngle(60)};function Aa(At,Ht,ie,Jt){return At===1&&Ht===1&&ie===0&&Jt===0?qn:qi({point:function(me,xe){this.stream.point(me*At+ie,xe*Ht+Jt)}})}var cf=function(){var At=1,Ht=0,ie=0,Jt=1,me=1,xe=qn,Ce=null,Ie,je,Ye,Pe=qn,Fe,Re,Ge;function Ze(){return Fe=Re=null,Ge}return Ge={stream:function(ln){return Fe&&Re===ln?Fe:Fe=xe(Pe(Re=ln))},postclip:function(ln){return arguments.length?(Pe=ln,Ce=Ie=je=Ye=null,Ze()):Pe},clipExtent:function(ln){return arguments.length?(Pe=ln==null?(Ce=Ie=je=Ye=null,qn):on(Ce=+ln[0][0],Ie=+ln[0][1],je=+ln[1][0],Ye=+ln[1][1]),Ze()):Ce==null?null:[[Ce,Ie],[je,Ye]]},scale:function(ln){return arguments.length?(xe=Aa((At=+ln)*Jt,At*me,Ht,ie),Ze()):At},translate:function(ln){return arguments.length?(xe=Aa(At*Jt,At*me,Ht=+ln[0],ie=+ln[1]),Ze()):[Ht,ie]},reflectX:function(ln){return arguments.length?(xe=Aa(At*(Jt=ln?-1:1),At*me,Ht,ie),Ze()):Jt<0},reflectY:function(ln){return arguments.length?(xe=Aa(At*Jt,At*(me=ln?-1:1),Ht,ie),Ze()):me<0},fitExtent:function(ln,vn){return yo(Ge,ln,vn)},fitSize:function(ln,vn){return Uo(Ge,ln,vn)},fitWidth:function(ln,vn){return Vo(Ge,ln,vn)},fitHeight:function(ln,vn){return Go(Ge,ln,vn)}}};function gs(At,Ht){var ie=Ht*Ht,Jt=ie*ie;return[At*(.8707-.131979*ie+Jt*(-.013791+Jt*(.003971*ie-.001529*Jt))),Ht*(1.007226+ie*(.015085+Jt*(-.044475+.028874*ie-.005916*Jt)))]}gs.invert=function(At,Ht){var ie=Ht,Jt=25,me;do{var xe=ie*ie,Ce=xe*xe;ie-=me=(ie*(1.007226+xe*(.015085+Ce*(-.044475+.028874*xe-.005916*Ce)))-Ht)/(1.007226+xe*(.015085*3+Ce*(-.044475*7+.028874*9*xe-.005916*11*Ce)))}while(x(me)>o&&--Jt>0);return[At/(.8707+(xe=ie*ie)*(-.131979+xe*(-.013791+xe*xe*xe*(.003971-.001529*xe)))),ie]};var hf=function(){return $n(gs).scale(175.295)};function vs(At,Ht){return[T(Ht)*S(At),S(Ht)]}vs.invert=Xo(M);var ff=function(){return $n(vs).scale(249.5).clipAngle(90+o)};function ys(At,Ht){var ie=T(Ht),Jt=1+T(At)*ie;return[ie*S(At)/Jt,S(Ht)/Jt]}ys.invert=Xo(function(At){return 2*y(At)});var df=function(){return $n(ys).scale(250).clipAngle(142)};function bs(At,Ht){return[A(R((c+Ht)/2)),-At]}bs.invert=function(At,Ht){return[-Ht,2*y(_(At))-c]};var pf=function(){var At=eu(bs),Ht=At.center,ie=At.rotate;return At.center=function(Jt){return arguments.length?Ht([-Jt[1],Jt[0]]):(Jt=Ht(),[Jt[1],-Jt[0]])},At.rotate=function(Jt){return arguments.length?ie([Jt[0],Jt[1],Jt.length>2?Jt[2]+90:90]):(Jt=ie(),[Jt[0],Jt[1],Jt[2]-90])},ie([0,0,90]).scale(159.155)};t.d(r,"geoArea",function(){return Q}),t.d(r,"geoBounds",function(){return gt}),t.d(r,"geoCentroid",function(){return ne}),t.d(r,"geoCircle",function(){return _e}),t.d(r,"geoClipAntimeridian",function(){return wr}),t.d(r,"geoClipCircle",function(){return ae}),t.d(r,"geoClipExtent",function(){return He}),t.d(r,"geoClipRectangle",function(){return on}),t.d(r,"geoContains",function(){return de}),t.d(r,"geoDistance",function(){return Kn}),t.d(r,"geoGraticule",function(){return fn}),t.d(r,"geoGraticule10",function(){return zn}),t.d(r,"geoInterpolate",function(){return On}),t.d(r,"geoLength",function(){return Qn}),t.d(r,"geoPath",function(){return ls}),t.d(r,"geoAlbers",function(){return Ql}),t.d(r,"geoAlbersUsa",function(){return Qh}),t.d(r,"geoAzimuthalEqualArea",function(){return tf}),t.d(r,"geoAzimuthalEqualAreaRaw",function(){return fs}),t.d(r,"geoAzimuthalEquidistant",function(){return ef}),t.d(r,"geoAzimuthalEquidistantRaw",function(){return ds}),t.d(r,"geoConicConformal",function(){return rf}),t.d(r,"geoConicConformalRaw",function(){return nu}),t.d(r,"geoConicEqualArea",function(){return Ea}),t.d(r,"geoConicEqualAreaRaw",function(){return Wo}),t.d(r,"geoConicEquidistant",function(){return af}),t.d(r,"geoConicEquidistantRaw",function(){return ru}),t.d(r,"geoEqualEarth",function(){return lf}),t.d(r,"geoEqualEarthRaw",function(){return ps}),t.d(r,"geoEquirectangular",function(){return of}),t.d(r,"geoEquirectangularRaw",function(){return Yo}),t.d(r,"geoGnomonic",function(){return uf}),t.d(r,"geoGnomonicRaw",function(){return ms}),t.d(r,"geoIdentity",function(){return cf}),t.d(r,"geoProjection",function(){return $n}),t.d(r,"geoProjectionMutator",function(){return Gr}),t.d(r,"geoMercator",function(){return nf}),t.d(r,"geoMercatorRaw",function(){return qo}),t.d(r,"geoNaturalEarth1",function(){return hf}),t.d(r,"geoNaturalEarth1Raw",function(){return gs}),t.d(r,"geoOrthographic",function(){return ff}),t.d(r,"geoOrthographicRaw",function(){return vs}),t.d(r,"geoStereographic",function(){return df}),t.d(r,"geoStereographicRaw",function(){return ys}),t.d(r,"geoTransverseMercator",function(){return pf}),t.d(r,"geoTransverseMercatorRaw",function(){return bs}),t.d(r,"geoRotation",function(){return Qt}),t.d(r,"geoStream",function(){return N}),t.d(r,"geoTransform",function(){return us})},function(f,r,t){t.r(r);var n=t(72),a=t(65),l=function(T,E){var _,A=Object(a.a)("beforesend","progress","load","error"),C,S=Object(n.a)(),P=new XMLHttpRequest,O=null,R=null,I,M,H=0;typeof XDomainRequest<"u"&&!("withCredentials"in P)&&/^(http(s)?:)?\/\//.test(T)&&(P=new XDomainRequest),"onload"in P?P.onload=P.onerror=P.ontimeout=L:P.onreadystatechange=function(D){P.readyState>3&&L(D)};function L(D){var j=P.status,W;if(!j&&o(P)||j>=200&&j<300||j===304){if(I)try{W=I.call(_,P)}catch(B){A.call("error",_,B);return}else W=P;A.call("load",_,W)}else A.call("error",_,D)}if(P.onprogress=function(D){A.call("progress",_,D)},_={header:function(D,j){return D=(D+"").toLowerCase(),arguments.length<2?S.get(D):(j==null?S.remove(D):S.set(D,j+""),_)},mimeType:function(D){return arguments.length?(C=D==null?null:D+"",_):C},responseType:function(D){return arguments.length?(M=D,_):M},timeout:function(D){return arguments.length?(H=+D,_):H},user:function(D){return arguments.length<1?O:(O=D==null?null:D+"",_)},password:function(D){return arguments.length<1?R:(R=D==null?null:D+"",_)},response:function(D){return I=D,_},get:function(D,j){return _.send("GET",D,j)},post:function(D,j){return _.send("POST",D,j)},send:function(D,j,W){return P.open(D,T,!0,O,R),C!=null&&!S.has("accept")&&S.set("accept",C+",*/*"),P.setRequestHeader&&S.each(function(B,F){P.setRequestHeader(F,B)}),C!=null&&P.overrideMimeType&&P.overrideMimeType(C),M!=null&&(P.responseType=M),H>0&&(P.timeout=H),W==null&&typeof j=="function"&&(W=j,j=null),W!=null&&W.length===1&&(W=e(W)),W!=null&&_.on("error",W).on("load",function(B){W(null,B)}),A.call("beforesend",_,P),P.send(j??null),_},abort:function(){return P.abort(),_},on:function(){var D=A.on.apply(A,arguments);return D===A?_:D}},E!=null){if(typeof E!="function")throw new Error("invalid callback: "+E);return _.get(E)}return _};function e(T){return function(E,_){T(E==null?_:null)}}function o(T){var E=T.responseType;return E&&E!=="text"?T.response:T.responseText}var s=function(T,E){return function(_,A){var C=l(_).mimeType(T).response(E);if(A!=null){if(typeof A!="function")throw new Error("invalid callback: "+A);return C.get(A)}return C}},u=s("text/html",function(T){return document.createRange().createContextualFragment(T.responseText)}),c=s("application/json",function(T){return JSON.parse(T.responseText)}),m=s("text/plain",function(T){return T.responseText}),p=s("application/xml",function(T){var E=T.responseXML;if(!E)throw new Error("parse error");return E}),h=t(104),v=function(T,E){return function(_,A,C){arguments.length<3&&(C=A,A=null);var S=l(_).mimeType(T);return S.row=function(P){return arguments.length?S.response(x(E,A=P)):A},S.row(A),C?S.get(C):S}};function x(T,E){return function(_){return T(_.responseText,E)}}var y=v("text/csv",h.csvParse),k=v("text/tab-separated-values",h.tsvParse);t.d(r,"request",function(){return l}),t.d(r,"html",function(){return u}),t.d(r,"json",function(){return c}),t.d(r,"text",function(){return m}),t.d(r,"xml",function(){return p}),t.d(r,"csv",function(){return y}),t.d(r,"tsv",function(){return k})},function(f,r,t){t.r(r);var n=[].slice,a={};function l(p){this._size=p,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}l.prototype=m.prototype={constructor:l,defer:function(p){if(typeof p!="function")throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(this._error!=null)return this;var h=n.call(arguments,1);return h.push(p),++this._waiting,this._tasks.push(h),e(this),this},abort:function(){return this._error==null&&u(this,new Error("abort")),this},await:function(p){if(typeof p!="function")throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(h,v){p.apply(null,[h].concat(v))},c(this),this},awaitAll:function(p){if(typeof p!="function")throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=p,c(this),this}};function e(p){if(!p._start)try{o(p)}catch(h){if(p._tasks[p._ended+p._active-1])u(p,h);else if(!p._data)throw h}}function o(p){for(;p._start=p._waiting&&p._active<p._size;){var h=p._ended+p._active,v=p._tasks[h],x=v.length-1,y=v[x];v[x]=s(p,h),--p._waiting,++p._active,v=y.apply(null,v),p._tasks[h]&&(p._tasks[h]=v||a)}}function s(p,h){return function(v,x){p._tasks[h]&&(--p._active,++p._ended,p._tasks[h]=null,p._error==null&&(v!=null?u(p,v):(p._data[h]=x,p._waiting?e(p):c(p))))}}function u(p,h){var v=p._tasks.length,x;for(p._error=h,p._data=void 0,p._waiting=NaN;--v>=0;)if((x=p._tasks[v])&&(p._tasks[v]=null,x.abort))try{x.abort()}catch{}p._active=NaN,c(p)}function c(p){if(!p._active&&p._call){var h=p._data;p._data=void 0,p._call(p._error,h)}}function m(p){if(p==null)p=1/0;else if(!((p=+p)>=1))throw new Error("invalid concurrency");return new l(p)}t.d(r,"queue",function(){return m})}])})})(yf);
